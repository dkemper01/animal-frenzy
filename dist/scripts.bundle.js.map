{"version":3,"sources":["webpack:///./~/script-loader/addScript.js","webpack:///./~/desandro-classie/classie.js?6fb5","webpack:///./~/imagesloaded/imagesloaded.pkgd.js?2f85","webpack:///./~/masonry-layout/dist/masonry.pkgd.js?1315","webpack:///./~/modernizr/modernizr.js?666c","webpack:///./src/js/cbpGridGallery.js?f94b","webpack:///./~/tinymce/plugins/link/plugin.js?1438","webpack:///./~/tinymce/plugins/paste/plugin.js?c2db","webpack:///./~/tinymce/plugins/table/plugin.js?efe8","webpack:///./~/tinymce/plugins/textcolor/plugin.js?4c80","webpack:///./~/tinymce/themes/modern/theme.js?842b","webpack:///./~/tinymce/tinymce.js?7e86","webpack:///./~/desandro-classie/classie.js?cd8d","webpack:///./~/imagesloaded/imagesloaded.pkgd.js","webpack:///./~/masonry-layout/dist/masonry.pkgd.js","webpack:///./~/modernizr/modernizr.js?a4cc","webpack:///./src/js/cbpGridGallery.js","webpack:///./~/tinymce/plugins/link/plugin.js","webpack:///./~/tinymce/plugins/paste/plugin.js","webpack:///./~/tinymce/plugins/table/plugin.js","webpack:///./~/tinymce/plugins/textcolor/plugin.js","webpack:///./~/tinymce/themes/modern/theme.js","webpack:///./~/tinymce/tinymce.js"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACTA,iD;;;;;;;ACAA,iD;;;;;;;ACAA,iD;;;;;;;ACAA,iD;;;;;;;ACAA,iD;;;;;;;ACAA,iD;;;;;;;ACAA,iD;;;;;;;ACAA,iD;;;;;;;ACAA,iD;;;;;;;ACAA,iD;;;;;;;ACAA,iD;;;;;;;ACAA,ocAAoc,iBAAiB,yGAAyG,mEAAmE,GAAG,wKAAwK,oDAAoD,oCAAoC,0CAA0C,MAAM,oCAAoC,8BAA8B,MAAM,uCAAuC,iCAAiC,MAAM,GAAG,QAAQ,oCAAoC,kDAAkD,MAAM,oCAAoC,mCAAmC,kDAAkD,OAAO,MAAM,uCAAuC,oEAAoE,MAAM,GAAG,qCAAqC,0DAA0D,kBAAkB,GAAG,mBAAmB,kOAAkO,qEAAqE,gCAAgC,GAAG,0CAA0C,4CAA4C,GAAG,OAAO,kDAAkD,GAAG,KAAK,YAAY,G;;;;;;;ACAliE,8SAA8S,2JAA2J,wEAAwE,KAAK,0DAA0D,wEAAwE,KAAK,OAAO,2DAA2D,KAAK,KAAK,4DAA4D,+BAA+B,oCAAoC,gDAAgD,oCAAoC,aAAa,KAAK,yEAAyE,8FAA8F,oEAAoE,iCAAiC,KAAK,kBAAkB,IAAI,kDAAkD,oCAAoC,aAAa,KAAK,mDAAmD,6GAA6G,+GAA+G,oDAAoD,kBAAkB,IAAI,iDAAiD,8DAA8D,4CAA4C,aAAa,KAAK,8CAA8C,wBAAwB,mCAAmC,KAAK,kBAAkB,IAAI,mDAAmD,8DAA8D,4CAA4C,aAAa,KAAK,cAAc,gCAAgC,sBAAsB,2FAA2F,0BAA0B,8DAA8D,qBAAqB,uHAAuH,mEAAmE,OAAO,4DAA4D,oDAAoD,8BAA8B,KAAK,kBAAkB,IAAI,qBAAqB,KAAK,GAAG,uJAAuJ,cAAc,wJAAwJ,0FAA0F,4CAA4C,OAAO,EAAE,KAAK,0DAA0D,oGAAoG,KAAK,OAAO,0GAA0G,KAAK,KAAK,6HAA6H,8BAA8B,+BAA+B,uHAAuH,2BAA2B,4BAA4B,KAAK,aAAa,GAAG,0EAA0E,iBAAiB,iCAAiC,uDAAuD,KAAK,4CAA4C,sDAAsD,gBAAgB,QAAQ,2BAA2B,OAAO,KAAK,OAAO,oDAAoD,KAAK,eAAe,GAAG,gGAAgG,iCAAiC,kBAAkB,mBAAmB,oDAAoD,SAAS,sFAAsF,gHAAgH,yDAAyD,KAAK,sEAAsE,+CAA+C,KAAK,wCAAwC,6BAA6B,iBAAiB,2CAA2C,yBAAyB,KAAK,OAAO,sCAAsC,KAAK,uBAAuB,oCAAoC,KAAK,uBAAuB,gBAAgB,4EAA4E,KAAK,qFAAqF,mBAAmB,KAAK,eAAe,GAAG,kEAAkE,wCAAwC,mDAAmD,qBAAqB,iHAAiH,IAAI,oBAAoB,KAAK,2EAA2E,yDAAyD,4BAA4B,KAAK,mFAAmF,8CAA8C,KAAK,wFAAwF,uDAAuD,aAAa,KAAK,iDAAiD,+DAA+D,sBAAsB,QAAQ,6BAA6B,2BAA2B,KAAK,2FAA2F,sEAAsE,gBAAgB,qBAAqB,QAAQ,gCAAgC,iDAAiD,OAAO,KAAK,IAAI,4BAA4B,wCAAwC,0EAA0E,yCAAyC,mBAAmB,yFAAyF,KAAK,gFAAgF,sDAAsD,gCAAgC,sCAAsC,kBAAkB,wCAAwC,OAAO,oDAAoD,KAAK,IAAI,oBAAoB,MAAM,8DAA8D,+CAA+C,qCAAqC,IAAI,kEAAkE,iDAAiD,mCAAmC,IAAI,+CAA+C,qBAAqB,6BAA6B,8BAA8B,4DAA4D,sBAAsB,aAAa,KAAK,mDAAmD,8GAA8G,+CAA+C,OAAO,EAAE,KAAK,qDAAqD,kDAAkD,2BAA2B,KAAK,EAAE,IAAI,wEAAwE,2BAA2B,6DAA6D,6EAA6E,sDAAsD,4CAA4C,KAAK,gFAAgF,sBAAsB,KAAK,4CAA4C,yDAAyD,KAAK,IAAI,kDAAkD,wDAAwD,2BAA2B,0CAA0C,yCAAyC,4BAA4B,8DAA8D,0CAA0C,KAAK,IAAI,kGAAkG,mBAAmB,GAAG,kEAAkE,+CAA+C,2JAA2J,uBAAuB,uGAAuG,aAAa,KAAK,qHAAqH,qDAAqD,sDAAsD,4FAA4F,+CAA+C,uCAAuC,IAAI,4DAA4D,oEAAoE,IAAI,oEAAoE,6BAA6B,8DAA8D,IAAI,qIAAqI,mCAAmC,2BAA2B,8BAA8B,KAAK,IAAI,gDAAgD,mCAAmC,wBAAwB,IAAI,iDAAiD,qCAAqC,wBAAwB,IAAI,sDAAsD,wDAAwD,yDAAyD,iDAAiD,kDAAkD,IAAI,mHAAmH,mBAAmB,2BAA2B,2BAA2B,GAAG,sGAAsG,6CAA6C,8CAA8C,+CAA+C,4BAA4B,wFAAwF,uBAAuB,kEAAkE,0BAA0B,KAAK,IAAI,oDAAoD,iDAAiD,kDAAkD,IAAI,kEAAkE,6BAA6B,kEAAkE,IAAI,8HAA8H,qCAAqC,oBAAoB,aAAa,KAAK,wCAAwC,gFAAgF,iEAAiE,oDAAoD,MAAM,IAAI,wDAAwD,wFAAwF,KAAK,EAAE,K;;;;;;;ACA3iZ,gVAAgV,2JAA2J,4FAA4F,yCAAyC,OAAO,EAAE,KAAK,0DAA0D,gGAAgG,KAAK,OAAO,wGAAwG,KAAK,KAAK,8CAA8C,eAAe,sEAAsE,2GAA2G,8DAA8D,2BAA2B,+BAA+B,MAAM,4FAA4F,qCAAqC,eAAe,aAAa,KAAK,oDAAoD,IAAI,2CAA2C,6EAA6E,4EAA4E,iBAAiB,SAAS,4DAA4D,QAAQ,KAAK,iFAAiF,sCAAsC,kDAAkD,UAAU,oFAAoF,8CAA8C,OAAO,0BAA0B,UAAU,+BAA+B,kBAAkB,MAAM,sFAAsF,sBAAsB,4EAA4E,0CAA0C,wEAAwE,0BAA0B,8GAA8G,iBAAiB,SAAS,8CAA8C,uDAAuD,iEAAiE,iBAAiB,SAAS,8FAA8F,4IAA4I,OAAO,EAAE,gEAAgE,KAAK,6CAA6C,wCAAwC,iDAAiD,yBAAyB,oEAAoE,2BAA2B,SAAS,OAAO,0FAA0F,8CAA8C,SAAS,OAAO,EAAE,KAAK,wBAAwB,KAAK,mHAAmH,qCAAqC,aAAa,KAAK,8BAA8B,GAAG,4CAA4C,+CAA+C,KAAK,GAAG,mKAAmK,2JAA2J,wEAAwE,KAAK,0DAA0D,wEAAwE,KAAK,OAAO,2DAA2D,KAAK,KAAK,4DAA4D,+BAA+B,oCAAoC,gDAAgD,oCAAoC,aAAa,KAAK,yEAAyE,8FAA8F,oEAAoE,iCAAiC,KAAK,kBAAkB,IAAI,kDAAkD,oCAAoC,aAAa,KAAK,mDAAmD,6GAA6G,+GAA+G,oDAAoD,kBAAkB,IAAI,iDAAiD,8DAA8D,4CAA4C,aAAa,KAAK,8CAA8C,wBAAwB,mCAAmC,KAAK,kBAAkB,IAAI,mDAAmD,8DAA8D,4CAA4C,aAAa,KAAK,cAAc,gCAAgC,sBAAsB,2FAA2F,0BAA0B,8DAA8D,qBAAqB,uHAAuH,mEAAmE,OAAO,4DAA4D,oDAAoD,8BAA8B,KAAK,kBAAkB,IAAI,qBAAqB,KAAK,GAAG,+OAA+O,iBAAiB,wDAAwD,6DAA6D,yBAAyB,OAAO,EAAE,KAAK,0DAA0D,kDAAkD,KAAK,OAAO,wDAAwD,KAAK,KAAK,+BAA+B,eAAe,4JAA4J,kCAAkC,0GAA0G,0BAA0B,GAAG,sBAAsB,kFAAkF,+BAA+B,MAAM,iVAAiV,iDAAiD,4BAA4B,gBAAgB,sHAAsH,kBAAkB,wBAAwB,QAAQ,wCAAwC,8BAA8B,KAAK,gBAAgB,GAAG,mOAAmO,yCAAyC,mBAAmB,4JAA4J,KAAK,iBAAiB,GAAG,6FAA6F,uBAAuB,uIAAuI,qCAAqC,aAAa,KAAK,mBAAmB,gQAAgQ,8BAA8B,0CAA0C,oCAAoC,8CAA8C,uCAAuC,2DAA2D,4BAA4B,gCAAgC,mFAAmF,4BAA4B,KAAK,qGAAqG,YAAY,+EAA+E,4CAA4C,KAAK,qGAAqG,aAAa,KAAK,mCAAmC,uEAAuE,2BAA2B,KAAK,oBAAoB,kCAAkC,oCAAoC,2EAA2E,+CAA+C,wBAAwB,QAAQ,wCAAwC,uCAAuC,oCAAoC,iGAAiG,KAAK,8DAA8D,6DAA6D,yDAAyD,0DAA0D,mEAAmE,oEAAoE,+DAA+D,gHAAgH,iCAAiC,mKAAmK,KAAK,qDAAqD,kCAAkC,uKAAuK,KAAK,oEAAoE,sEAAsE,iDAAiD,kDAAkD,kBAAkB,GAAG,mBAAmB,KAAK,EAAE,4MAA4M,6DAA6D,wFAAwF,iFAAiF,KAAK,0DAA0D,kDAAkD,KAAK,OAAO,gEAAgE,KAAK,KAAK,8BAA8B,iBAAiB,wCAAwC,wCAAwC,iFAAiF,yBAAyB,OAAO,kEAAkE,iCAAiC,OAAO,kFAAkF,sBAAsB,qBAAqB,QAAQ,iCAAiC,gDAAgD,oCAAoC,wBAAwB,SAAS,OAAO,KAAK,IAAI,yDAAyD,+CAA+C,MAAM,KAAK,GAAG,+JAA+J,4JAA4J,4IAA4I,kDAAkD,OAAO,EAAE,KAAK,0DAA0D,mHAAmH,KAAK,OAAO,gHAAgH,KAAK,KAAK,uDAAuD,uBAAuB,qFAAqF,2BAA2B,4BAA4B,KAAK,aAAa,IAAI,qEAAqE,yCAAyC,IAAI,iHAAiH,iBAAiB,iCAAiC,uDAAuD,KAAK,mDAAmD,sDAAsD,gBAAgB,QAAQ,2BAA2B,OAAO,KAAK,OAAO,oDAAoD,KAAK,eAAe,IAAI,6EAA6E,mCAAmC,wBAAwB,6BAA6B,KAAK,IAAI,iFAAiF,qCAAqC,6BAA6B,gDAAgD,oBAAoB,OAAO,KAAK,IAAI,sHAAsH,oCAAoC,4CAA4C,KAAK,gBAAgB,IAAI,iJAAiJ,mCAAmC,2BAA2B,8BAA8B,KAAK,IAAI,oGAAoG,+DAA+D,qBAAqB,uCAAuC,4FAA4F,eAAe,OAAO,wDAAwD,6BAA6B,eAAe,OAAO,iHAAiH,6BAA6B,OAAO,+EAA+E,mEAAmE,uBAAuB,QAAQ,sCAAsC,OAAO,KAAK,EAAE,qBAAqB,IAAI,0GAA0G,sEAAsE,6CAA6C,mDAAmD,wCAAwC,sBAAsB,gCAAgC,OAAO,2BAA2B,yBAAyB,oDAAoD,oCAAoC,oCAAoC,OAAO,qBAAqB,MAAM,IAAI,yEAAyE,yCAAyC,oEAAoE,iBAAiB,KAAK,OAAO,gEAAgE,KAAK,IAAI,iMAAiM,kEAAkE,2BAA2B,KAAK,gBAAgB,IAAI,iCAAiC,0OAA0O,gCAAgC,wDAAwD,+CAA+C,4EAA4E,8EAA8E,oGAAoG,kDAAkD,iCAAiC,yCAAyC,kGAAkG,oBAAoB,aAAa,+CAA+C,SAAS,kBAAkB,mEAAmE,6GAA6G,WAAW,iBAAiB,SAAS,6EAA6E,2EAA2E,mDAAmD,SAAS,OAAO,EAAE,OAAO,EAAE,IAAI,uCAAuC,KAAK,GAAG,iEAAiE,4JAA4J,uJAAuJ,KAAK,0DAA0D,uIAAuI,KAAK,OAAO,kDAAkD,4FAA4F,KAAK,KAAK,kDAAkD,eAAe,6DAA6D,6BAA6B,mBAAmB,KAAK,gBAAgB,gBAAgB,GAAG,oIAAoI,+GAA+G,yGAAyG,8BAA8B,8EAA8E,uBAAuB,0FAA0F,yOAAyO,0GAA0G,qBAAqB,aAAa,KAAK,6BAA6B,sFAAsF,qBAAqB,2BAA2B,qBAAqB,GAAG,4FAA4F,2BAA2B,gCAAgC,6CAA6C,uBAAuB,gBAAgB,gBAAgB,MAAM,gBAAgB,+BAA+B,EAAE,IAAI,wFAAwF,mCAAmC,2BAA2B,8BAA8B,KAAK,IAAI,gCAAgC,wCAAwC,IAAI,oDAAoD,OAAO,4CAA4C,uCAAuC,iCAAiC,oGAAoG,iDAAiD,KAAK,IAAI,uEAAuE,iDAAiD,4DAA4D,0DAA0D,0DAA0D,yDAAyD,sEAAsE,wHAAwH,yHAAyH,+EAA+E,2BAA2B,+GAA+G,wEAAwE,0BAA0B,wBAAwB,IAAI,+EAA+E,sCAAsC,mBAAmB,4DAA4D,0DAA0D,2EAA2E,oDAAoD,yDAAyD,uDAAuD,+EAA+E,4DAA4D,0EAA0E,mDAAmD,wDAAwD,uDAAuD,+EAA+E,4DAA4D,wBAAwB,yCAAyC,IAAI,qCAAqC,4DAA4D,iIAAiI,IAAI,qCAAqC,4DAA4D,iIAAiI,IAAI,4CAA4C,uBAAuB,qEAAqE,+BAA+B,uCAAuC,qCAAqC,kFAAkF,uDAAuD,iHAAiH,4BAA4B,aAAa,KAAK,4BAA4B,0BAA0B,6BAA6B,oEAAoE,uBAAuB,kDAAkD,6CAA6C,4BAA4B,EAAE,IAAI,2CAA2C,iHAAiH,0DAA0D,8BAA8B,6BAA6B,sDAAsD,IAAI,0EAA0E,6BAA6B,0BAA0B,IAAI,uCAAuC,0CAA0C,wCAAwC,wCAAwC,IAAI,oDAAoD,OAAO,yBAAyB,SAAS,4GAA4G,wBAAwB,4BAA4B,oCAAoC,KAAK,8CAA8C,gDAAgD,KAAK,IAAI,0CAA0C,OAAO,gCAAgC,OAAO,2CAA2C,OAAO,qDAAqD,QAAQ,uEAAuE,SAAS,uEAAuE,4HAA4H,kCAAkC,aAAa,KAAK,qCAAqC,2GAA2G,+DAA+D,KAAK,mFAAmF,+CAA+C,mGAAmG,yCAAyC,OAAO,KAAK,8CAA8C,4BAA4B,yGAAyG,gEAAgE,KAAK,6DAA6D,gEAAgE,kCAAkC,MAAM,+HAA+H,oDAAoD,oCAAoC,KAAK,EAAE,GAAG,wEAAwE,oDAAoD,gIAAgI,aAAa,KAAK,4LAA4L,kCAAkC,iHAAiH,sDAAsD,QAAQ,8GAA8G,wEAAwE,6CAA6C,+HAA+H,EAAE,2GAA2G,IAAI,iFAAiF,kCAAkC,IAAI,gDAAgD,kCAAkC,IAAI,qFAAqF,wCAAwC,+CAA+C,uFAAuF,aAAa,KAAK,mCAAmC,mKAAmK,8GAA8G,0GAA0G,mFAAmF,KAAK,gEAAgE,2EAA2E,+CAA+C,KAAK,qFAAqF,8DAA8D,mCAAmC,+CAA+C,KAAK,kDAAkD,IAAI,0CAA0C,kCAAkC,wEAAwE,iCAAiC,IAAI,4DAA4D,OAAO,sDAAsD,yDAAyD,+BAA+B,8BAA8B,KAAK,2BAA2B,IAAI,gCAAgC,iFAAiF,+CAA+C,6DAA6D,IAAI,oEAAoE,uCAAuC,qCAAqC,IAAI,qGAAqG,wDAAwD,yCAAyC,cAAc,EAAE,yCAAyC,IAAI,+BAA+B,6JAA6J,wBAAwB,aAAa,KAAK,qEAAqE,wBAAwB,KAAK,EAAE,gBAAgB,IAAI,+BAA+B,yBAAyB,yCAAyC,cAAc,EAAE,wCAAwC,+BAA+B,wFAAwF,0EAA0E,uBAAuB,iIAAiI,EAAE,IAAI,8CAA8C,2GAA2G,+BAA+B,KAAK,IAAI,8EAA8E,OAAO,wDAAwD,OAAO,6EAA6E,2DAA2D,kDAAkD,uBAAuB,KAAK,8DAA8D,kBAAkB,KAAK,IAAI,6BAA6B,wCAAwC,yCAAyC,cAAc,EAAE,wCAAwC,+BAA+B,uFAAuF,wEAAwE,uBAAuB,kKAAkK,EAAE,IAAI,4CAA4C,4GAA4G,gBAAgB,kBAAkB,EAAE,6BAA6B,KAAK,IAAI,gCAAgC,cAAc,8HAA8H,EAAE,IAAI,gBAAgB,KAAK,GAAG,+HAA+H,iBAAiB,4JAA4J,6OAA6O,mEAAmE,SAAS,QAAQ,KAAK,0DAA0D,kNAAkN,KAAK,OAAO,sLAAsL,KAAK,KAAK,uEAAuE,eAAe,2DAA2D,6BAA6B,2BAA2B,yHAAyH,iEAAiE,sBAAsB,gBAAgB,qBAAqB,OAAO,uEAAuE,wDAAwD,0BAA0B,sBAAsB,uHAAuH,OAAO,aAAa,KAAK,gCAAgC,oCAAoC,6CAA6C,KAAK,mDAAmD,8BAA8B,2BAA2B,+DAA+D,mCAAmC,sCAAsC,2DAA2D,uDAAuD,yBAAyB,oBAAoB,KAAK,GAAG,2EAA2E,uBAAuB,6CAA6C,qBAAqB,+BAA+B,8KAA8K,qDAAqD,oBAAoB,iDAAiD,IAAI,mCAAmC,mEAAmE,oCAAoC,OAAO,6CAA6C,uCAAuC,IAAI,+GAA+G,6DAA6D,0HAA0H,IAAI,8BAA8B,oQAAoQ,gCAAgC,qDAAqD,6EAA6E,qCAAqC,8FAA8F,6EAA6E,0BAA0B,wBAAwB,KAAK,IAAI,wGAAwG,0FAA0F,IAAI,iFAAiF,iCAAiC,qBAAqB,MAAM,oFAAoF,4DAA4D,qCAAqC,oEAAoE,kBAAkB,sBAAsB,QAAQ,8BAA8B,wCAAwC,yBAAyB,KAAK,mBAAmB,IAAI,+DAA+D,iCAAiC,qBAAqB,MAAM,gFAAgF,wEAAwE,IAAI,kEAAkE,MAAM,+EAA+E,6CAA6C,0BAA0B,KAAK,EAAE,IAAI,mGAAmG,wBAAwB,yBAAyB,4FAA4F,6FAA6F,8CAA8C,4DAA4D,IAAI,6DAA6D,+EAA+E,mBAAmB,IAAI,kCAAkC,wCAAwC,IAAI,+PAA+P,OAAO,yBAAyB,OAAO,kGAAkG,6CAA6C,aAAa,oBAAoB,mDAAmD,KAAK,OAAO,yEAAyE,oDAAoD,OAAO,4CAA4C,sBAAsB,OAAO,4GAA4G,KAAK,IAAI,yHAAyH,6CAA6C,4CAA4C,yBAAyB,IAAI,8FAA8F,MAAM,qBAAqB,MAAM,2DAA2D,2CAA2C,6BAA6B,KAAK,EAAE,IAAI,qCAAqC,MAAM,mBAAmB,QAAQ,oEAAoE,iDAAiD,sCAAsC,2DAA2D,KAAK,qBAAqB,uCAAuC,4FAA4F,2CAA2C,6DAA6D,6BAA6B,KAAK,SAAS,wCAAwC,IAAI,iDAAiD,cAAc,oBAAoB,OAAO,+EAA+E,YAAY,2BAA2B,IAAI,8JAA8J,MAAM,4DAA4D,yBAAyB,uCAAuC,qEAAqE,KAAK,SAAS,IAAI,yFAAyF,uCAAuC,sDAAsD,uBAAuB,aAAa,KAAK,8CAA8C,wBAAwB,IAAI,qDAAqD,cAAc,kBAAkB,OAAO,qCAAqC,OAAO,mCAAmC,QAAQ,oGAAoG,sBAAsB,gEAAgE,KAAK,OAAO,uCAAuC,0BAA0B,KAAK,IAAI,0HAA0H,2BAA2B,IAAI,wCAAwC,iEAAiE,iCAAiC,aAAa,KAAK,wCAAwC,iBAAiB,oDAAoD,sDAAsD,KAAK,IAAI,wEAAwE,OAAO,oBAAoB,OAAO,qBAAqB,OAAO,6CAA6C,oBAAoB,OAAO,+CAA+C,QAAQ,0EAA0E,kCAAkC,aAAa,KAAK,+BAA+B,kFAAkF,0PAA0P,KAAK,uCAAuC,wEAAwE,IAAI,2EAA2E,OAAO,uBAAuB,MAAM,yFAAyF,qBAAqB,2BAA2B,qEAAqE,KAAK,+BAA+B,6BAA6B,mBAAmB,aAAa,KAAK,wBAAwB,qBAAqB,kBAAkB,iCAAiC,qBAAqB,OAAO,KAAK,2DAA2D,mCAAmC,KAAK,EAAE,IAAI,qEAAqE,OAAO,kCAAkC,MAAM,oCAAoC,MAAM,mFAAmF,iGAAiG,qCAAqC,qBAAqB,wFAAwF,oBAAoB,yEAAyE,2BAA2B,8CAA8C,OAAO,OAAO,mGAAmG,OAAO,KAAK,IAAI,uMAAuM,QAAQ,6CAA6C,oCAAoC,iBAAiB,4BAA4B,KAAK,IAAI,yDAAyD,QAAQ,+CAA+C,oCAAoC,iBAAiB,4BAA4B,KAAK,IAAI,gDAAgD,oCAAoC,8CAA8C,gCAAgC,mBAAmB,aAAa,KAAK,gDAAgD,oDAAoD,IAAI,mDAAmD,4BAA4B,gDAAgD,gCAAgC,kBAAkB,aAAa,KAAK,uCAAuC,sFAAsF,4BAA4B,KAAK,SAAS,IAAI,6CAA6C,oCAAoC,qBAAqB,MAAM,8CAA8C,mBAAmB,aAAa,KAAK,sFAAsF,qDAAqD,KAAK,qCAAqC,iBAAiB,IAAI,sCAAsC,gDAAgD,aAAa,KAAK,8BAA8B,qDAAqD,IAAI,uEAAuE,0GAA0G,yBAAyB,0BAA0B,qTAAqT,IAAI,oBAAoB,QAAQ,uCAAuC,kFAAkF,QAAQ,oBAAoB,OAAO,yFAAyF,oDAAoD,sCAAsC,+BAA+B,kBAAkB,6QAA6Q,kBAAkB,IAAI,oLAAoL,gFAAgF,8CAA8C,8BAA8B,IAAI,oFAAoF,iDAAiD,+BAA+B,IAAI,iCAAiC,kBAAkB,IAAI,sDAAsD,+BAA+B,+IAA+I,aAAa,KAAK,oBAAoB,IAAI,mHAAmH,uCAAuC,uJAAuJ,gEAAgE,IAAI,8HAA8H,6BAA6B,qBAAqB,MAAM,kEAAkE,uCAAuC,uDAAuD,8CAA8C,KAAK,iBAAiB,IAAI,4DAA4D,6BAA6B,iDAAiD,uCAAuC,0BAA0B,aAAa,KAAK,+EAA+E,yBAAyB,IAAI,kDAAkD,6BAA6B,kDAAkD,uCAAuC,0BAA0B,aAAa,KAAK,uFAAuF,+CAA+C,+CAA+C,yBAAyB,8EAA8E,yBAAyB,kEAAkE,IAAI,qDAAqD,wBAAwB,+CAA+C,iDAAiD,oCAAoC,aAAa,KAAK,uCAAuC,wCAAwC,kCAAkC,oBAAoB,KAAK,EAAE,IAAI,mDAAmD,wBAAwB,6CAA6C,+CAA+C,oCAAoC,aAAa,KAAK,uCAAuC,wCAAwC,kCAAkC,kBAAkB,KAAK,EAAE,IAAI,6CAA6C,MAAM,GAAG,QAAQ,GAAG,SAAS,2DAA2D,uCAAuC,yBAAyB,IAAI,2CAA2C,MAAM,GAAG,QAAQ,GAAG,SAAS,yDAAyD,uCAAuC,uBAAuB,IAAI,4DAA4D,QAAQ,kBAAkB,SAAS,wBAAwB,cAAc,8CAA8C,uEAAuE,uBAAuB,QAAQ,+BAA+B,mCAAmC,0CAA0C,OAAO,KAAK,IAAI,yEAAyE,MAAM,qBAAqB,MAAM,kEAAkE,qCAAqC,mBAAmB,qCAAqC,sCAAsC,mBAAmB,2BAA2B,OAAO,KAAK,SAAS,mBAAmB,IAAI,gEAAgE,6BAA6B,+CAA+C,6CAA6C,yDAAyD,mFAAmF,aAAa,KAAK,6CAA6C,oBAAoB,+EAA+E,KAAK,SAAS,IAAI,sGAAsG,iEAAiE,sBAAsB,wBAAwB,qBAAqB,8DAA8D,qBAAqB,KAAK,EAAE,0BAA0B,yCAAyC,2BAA2B,2EAA2E,gDAAgD,oEAAoE,KAAK,MAAM,+HAA+H,QAAQ,oBAAoB,SAAS,yCAAyC,yCAAyC,uCAAuC,iCAAiC,IAAI,qIAAqI,OAAO,mEAAmE,+DAA+D,gFAAgF,sBAAsB,6CAA6C,2CAA2C,4BAA4B,mCAAmC,kCAAkC,0DAA0D,uHAAuH,oJAAoJ,0CAA0C,KAAK,oBAAoB,IAAI,iCAAiC,yBAAyB,sCAAsC,KAAK,6DAA6D,8CAA8C,sBAAsB,GAAG,2FAA2F,yBAAyB,6GAA6G,oCAAoC,kBAAkB,KAAK,wDAAwD,oCAAoC,qCAAqC,wBAAwB,eAAe,KAAK,4BAA4B,oCAAoC,sBAAsB,GAAG,qEAAqE,oBAAoB,KAAK,GAAG,0KAA0K,2JAA2J,kHAAkH,KAAK,0DAA0D,+GAA+G,KAAK,OAAO,4GAA4G,KAAK,KAAK,iDAAiD,0KAA0K,+EAA+E,mDAAmD,qBAAqB,0DAA0D,qDAAqD,4BAA4B,+CAA+C,oBAAoB,eAAe,QAAQ,6BAA6B,OAAO,sBAAsB,MAAM,qDAAqD,+BAA+B,iGAAiG,sCAAsC,2DAA2D,8OAA8O,OAAO,0DAA0D,yFAAyF,8CAA8C,kHAAkH,wIAAwI,wCAAwC,sCAAsC,MAAM,wDAAwD,4FAA4F,0EAA0E,4JAA4J,oDAAoD,MAAM,mEAAmE,qBAAqB,4GAA4G,qEAAqE,sIAAsI,+CAA+C,oDAAoD,uGAAuG,uDAAuD,mDAAmD,uEAAuE,sGAAsG,oDAAoD,sBAAsB,aAAa,QAAQ,oDAAoD,OAAO,wBAAwB,MAAM,wBAAwB,OAAO,+DAA+D,MAAM,0EAA0E,0BAA0B,0FAA0F,OAAO,0BAA0B,mHAAmH,2EAA2E,gBAAgB,QAAQ,sHAAsH,sGAAsG,OAAO,sBAAsB,MAAM,0DAA0D,uCAAuC,mDAAmD,uGAAuG,6DAA6D,gDAAgD,6DAA6D,yCAAyC,2DAA2D,qHAAqH,mDAAmD,gGAAgG,kGAAkG,6BAA6B,cAAc,QAAQ,6DAA6D,OAAO,MAAM,wDAAwD,qDAAqD,kBAAkB,iCAAiC,4CAA4C,kDAAkD,OAAO,oBAAoB,MAAM,4DAA4D,yBAAyB,qDAAqD,qBAAqB,oCAAoC,gBAAgB,SAAS,qBAAqB,OAAO,8HAA8H,MAAM,wDAAwD,8CAA8C,+BAA+B,kDAAkD,MAAM,qBAAqB,KAAK,GAAG,K;;;;;;;ACAj99D,mzHAAmzH,uCAAuC,mBAAmB,oJAAoJ,+KAA+K,wHAAwH,uHAAuH,6ZAA6Z,+BAA+B,yBAAyB,SAAS,KAAK,OAAO,+CAA+C,oBAAoB,qCAAqC,EAAE,OAAO,qCAAqC,oBAAoB,mBAAmB,EAAE,OAAO,MAAM,0IAA0I,yCAAyC,sKAAsK,6BAA6B,4IAA4I,EAAE,0DAA0D,OAAO,+DAA+D,QAAQ,qCAAqC,iCAAiC,KAAK,KAAK,iJAAiJ,uBAAuB,kBAAkB,mBAAmB,iBAAiB,kBAAkB,sBAAsB,2BAA2B,uCAAuC,+CAA+C,4BAA4B,sCAAsC,4aAA4a,0DAA0D,iGAAiG,wFAAwF,2CAA2C,cAAc,mFAAmF,eAAe,aAAa,WAAW,kJAAkJ,yFAAyF,+BAA+B,aAAa,gDAAgD,ucAAuc,kDAAkD,sDAAsD,aAAa,OAAO,iMAAiM,6FAA6F,eAAe,6EAA6E,aAAa,+EAA+E,WAAW,SAAS,OAAO,KAAK,KAAK,yIAAyI,uBAAuB,wFAAwF,mJAAmJ,QAAQ,qEAAqE,oKAAoK,SAAS,mKAAmK,2CAA2C,4DAA4D,oBAAoB,sCAAsC,OAAO,kKAAkK,4EAA4E,yEAAyE,OAAO,8CAA8C,uGAAuG,4FAA4F,OAAO,OAAO,OAAO,wLAAwL,OAAO,2DAA2D,OAAO,sDAAsD,QAAQ,8FAA8F,mBAAmB,+BAA+B,iBAAiB,0NAA0N,iDAAiD,wDAAwD,UAAU,OAAO,YAAY,iDAAiD,sMAAsM,UAAU,OAAO,KAAK,IAAI,qIAAqI,qVAAqV,OAAO,2DAA2D,SAAS,0KAA0K,sBAAsB,4CAA4C,OAAO,uDAAuD,QAAQ,EAAE,kEAAkE,uFAAuF,8BAA8B,OAAO,iFAAiF,+GAA+G,mDAAmD,0DAA0D,SAAS,KAAK,OAAO,MAAM,yRAAyR,OAAO,2DAA2D,iBAAiB,mKAAmK,8BAA8B,eAAe,OAAO,mCAAmC,mDAAmD,kBAAkB,mBAAmB,gBAAgB,OAAO,sBAAsB,kBAAkB,SAAS,OAAO,KAAK,kEAAkE,MAAM,6oBAA6oB,cAAc,oHAAoH,iBAAiB,8dAA8d,2BAA2B,gCAAgC,QAAQ,EAAE,0sBAA0sB,ylBAAylB,0EAA0E,6BAA6B,kCAAkC,SAAS,QAAQ,wCAAwC,8MAA8M,yCAAyC,kCAAkC,yCAAyC,yCAAyC,WAAW,SAAS,OAAO,OAAO,0CAA0C,kDAAkD,kDAAkD,gIAAgI,2CAA2C,SAAS,2CAA2C,2MAA2M,6EAA6E,+DAA+D,SAAS,2DAA2D,sGAAsG,gDAAgD,SAAS,OAAO,qLAAqL,yFAAyF,WAAW,uEAAuE,SAAS,sLAAsL,kGAAkG,OAAO,yBAAyB,wBAAwB,2GAA2G,uCAAuC,KAAK,EAAE,kkBAAkkB,OAAO,6GAA6G,gGAAgG,kDAAkD,yVAAyV,OAAO,8DAA8D,eAAe,wMAAwM,8BAA8B,uGAAuG,OAAO,2CAA2C,0DAA0D,mCAAmC,mCAAmC,eAAe,6CAA6C,yBAAyB,OAAO,oBAAoB,qBAAqB,OAAO,mGAAmG,kHAAkH,8BAA8B,0BAA0B,OAAO,uBAAuB,YAAY,OAAO,gGAAgG,yDAAyD,oCAAoC,0DAA0D,SAAS,OAAO,qBAAqB,MAAM,qCAAqC,kgBAAkgB,yHAAyH,8CAA8C,mYAAmY,uBAAuB,8DAA8D,yDAAyD,qNAAqN,OAAO,kBAAkB,mGAAmG,OAAO,OAAO,iEAAiE,OAAO,KAAK,OAAO,qQAAqQ,SAAS,+EAA+E,eAAe,8FAA8F,QAAQ,sNAAsN,yNAAyN,yDAAyD,6OAA6O,4CAA4C,0BAA0B,yBAAyB,cAAc,EAAE,sDAAsD,oDAAoD,SAAS,qQAAqQ,2CAA2C,oHAAoH,sCAAsC,sLAAsL,WAAW,gDAAgD,iEAAiE,mDAAmD,iIAAiI,WAAW,6CAA6C,SAAS,6BAA6B,OAAO,mBAAmB,KAAK,IAAI,2CAA2C,+KAA+K,iBAAiB,qHAAqH,6BAA6B,iFAAiF,wEAAwE,wIAAwI,4LAA4L,yGAAyG,mIAAmI,6EAA6E,2EAA2E,yGAAyG,uBAAuB,eAAe,gDAAgD,wCAAwC,iKAAiK,iFAAiF,sGAAsG,2DAA2D,6NAA6N,aAAa,IAAI,WAAW,WAAW,kHAAkH,2CAA2C,WAAW,WAAW,IAAI,gOAAgO,SAAS,+CAA+C,OAAO,2CAA2C,WAAW,sFAAsF,uJAAuJ,4DAA4D,qEAAqE,SAAS,kHAAkH,MAAM,kFAAkF,wCAAwC,8EAA8E,SAAS,gHAAgH,aAAa,+FAA+F,SAAS,yGAAyG,wCAAwC,0CAA0C,0CAA0C,WAAW,6CAA6C,gDAAgD,WAAW,sDAAsD,sCAAsC,SAAS,+GAA+G,SAAS,iDAAiD,OAAO,8EAA8E,yDAAyD,sBAAsB,sBAAsB,sBAAsB,6CAA6C,wCAAwC,WAAW,sBAAsB,SAAS,iIAAiI,OAAO,gDAAgD,SAAS,yDAAyD,OAAO,6FAA6F,+BAA+B,qCAAqC,WAAW,sCAAsC,yDAAyD,WAAW,sBAAsB,iDAAiD,WAAW,mBAAmB,uCAAuC,oDAAoD,WAAW,sCAAsC,kFAAkF,WAAW,OAAO,6CAA6C,WAAW,ilBAAilB,SAAS,6HAA6H,SAAS,yDAAyD,OAAO,qGAAqG,+BAA+B,qCAAqC,WAAW,sCAAsC,0DAA0D,WAAW,uDAAuD,6HAA6H,eAAe,IAAI,KAAK,0CAA0C,WAAW,uBAAuB,SAAS,6IAA6I,0BAA0B,+CAA+C,OAAO,oFAAoF,4BAA4B,4BAA4B,0DAA0D,mEAAmE,0CAA0C,WAAW,gEAAgE,6DAA6D,+CAA+C,aAAa,gEAAgE,YAAY,sFAAsF,oGAAoG,wSAAwS,sCAAsC,8CAA8C,6CAA6C,WAAW,kBAAkB,SAAS,8EAA8E,SAAS,sLAAsL,SAAS,yDAAyD,SAAS,8EAA8E,+BAA+B,qCAAqC,WAAW,mDAAmD,wEAAwE,4QAA4Q,cAAc,qIAAqI,gBAAgB,WAAW,+HAA+H,aAAa,4CAA4C,WAAW,yCAAyC,6CAA6C,WAAW,+BAA+B,SAAS,sXAAsX,sEAAsE,gCAAgC,0wDAA0wD,8IAA8I,6DAA6D,kLAAkL,6FAA6F,wJAAwJ,qGAAqG,yTAAyT,SAAS,IAAI,qTAAqT,SAAS,iDAAiD,MAAM,iFAAiF,oNAAoN,6BAA6B,gCAAgC,iDAAiD,kEAAkE,aAAa,WAAW,wBAAwB,SAAS,gHAAgH,QAAQ,0CAA0C,QAAQ,iEAAiE,2LAA2L,gFAAgF,gCAAgC,kFAAkF,WAAW,uGAAuG,yBAAyB,SAAS,yEAAyE,6BAA6B,uCAAuC,OAAO,mDAAmD,OAAO,uEAAuE,qDAAqD,8MAA8M,6BAA6B,uDAAuD,GAAG,2FAA2F,uCAAuC,GAAG,WAAW,8BAA8B,GAAG,SAAS,yHAAyH,MAAM,+FAA+F,sCAAsC,2BAA2B,yCAAyC,WAAW,SAAS,gMAAgM,SAAS,yDAAyD,SAAS,2EAA2E,mMAAmM,uEAAuE,iCAAiC,WAAW,gEAAgE,0CAA0C,WAAW,oCAAoC,iDAAiD,8BAA8B,2CAA2C,aAAa,8BAA8B,WAAW,iEAAiE,4BAA4B,yNAAyN,wFAAwF,gDAAgD,aAAa,0FAA0F,iOAAiO,uBAAuB,0CAA0C,0CAA0C,iBAAiB,WAAW,6BAA6B,iBAAiB,iCAAiC,gBAAgB,WAAW,8CAA8C,iBAAiB,uBAAuB,8CAA8C,iBAAiB,YAAY,eAAe,aAAa,6JAA6J,kDAAkD,gEAAgE,aAAa,EAAE,gEAAgE,qIAAqI,iDAAiD,kEAAkE,WAAW,EAAE,6CAA6C,+BAA+B,SAAS,8IAA8I,oCAAoC,uDAAuD,0DAA0D,iCAAiC,SAAS,SAAS,6DAA6D,KAAK,OAAO,kaAAka,6BAA6B,2BAA2B,wBAAwB,qDAAqD,4FAA4F,QAAQ,2BAA2B,mDAAmD,4FAA4F,QAAQ,KAAK,wCAAwC,gCAAgC,oUAAoU,kEAAkE,OAAO,OAAO,yMAAyM,OAAO,MAAM,iNAAiN,uBAAuB,2IAA2I,kHAAkH,oBAAoB,0GAA0G,yBAAyB,OAAO,oBAAoB,KAAK,OAAO,mLAAmL,OAAO,qDAAqD,SAAS,+EAA+E,OAAO,kGAAkG,SAAS,iGAAiG,QAAQ,iFAAiF,4BAA4B,gBAAgB,cAAc,eAAe,sBAAsB,qCAAqC,2BAA2B,kCAAkC,2KAA2K,sCAAsC,qEAAqE,gCAAgC,SAAS,OAAO,uCAAuC,8BAA8B,2BAA2B,wVAAwV,4BAA4B,+BAA+B,wCAAwC,OAAO,OAAO,yDAAyD,OAAO,mBAAmB,wBAAwB,4FAA4F,8IAA8I,gDAAgD,6CAA6C,qCAAqC,OAAO,kCAAkC,uHAAuH,0CAA0C,gDAAgD,sGAAsG,OAAO,OAAO,wCAAwC,OAAO,qBAAqB,OAAO,OAAO,2WAA2W,OAAO,gEAAgE,QAAQ,qNAAqN,0BAA0B,6DAA6D,8MAA8M,qDAAqD,yJAAyJ,kNAAkN,gEAAgE,uBAAuB,6BAA6B,mCAAmC,6CAA6C,UAAU,OAAO,6BAA6B,yBAAyB,sDAAsD,aAAa,oBAAoB,EAAE,EAAE,mBAAmB,8JAA8J,SAAS,EAAE,sBAAsB,QAAQ,KAAK,IAAI,+BAA+B,sJAAsJ,OAAO,gEAAgE,OAAO,+EAA+E,QAAQ,6CAA6C,2CAA2C,KAAK,OAAO,0IAA0I,4CAA4C,gEAAgE,0BAA0B,KAAK,EAAE,0BAA0B,qCAAqC,wJAAwJ,0BAA0B,KAAK,EAAE,4LAA4L,OAAO,yEAAyE,OAAO,kFAAkF,yDAAyD,sCAAsC,OAAO,0BAA0B,KAAK,KAAK,2PAA2P,MAAM,kDAAkD,OAAO,wFAAwF,kBAAkB,gOAAgO,2BAA2B,gJAAgJ,0EAA0E,+DAA+D,wBAAwB,WAAW,SAAS,qBAAqB,OAAO,qGAAqG,6FAA6F,qBAAqB,2EAA2E,SAAS,mDAAmD,2EAA2E,aAAa,oBAAoB,EAAE,EAAE,mBAAmB,qEAAqE,SAAS,EAAE,OAAO,uBAAuB,KAAK,KAAK,sLAAsL,OAAO,0EAA0E,OAAO,iFAAiF,qEAAqE,qCAAqC,OAAO,oBAAoB,KAAK,KAAK,glBAAglB,6EAA6E,sEAAsE,mDAAmD,uCAAuC,wBAAwB,SAAS,OAAO,qFAAqF,0aAA0a,6BAA6B,yBAAyB,sDAAsD,4CAA4C,OAAO,8EAA8E,wBAAwB,8BAA8B,gCAAgC,SAAS,OAAO,mCAAmC,iBAAiB,iBAAiB,OAAO,wBAAwB,oCAAoC,oCAAoC,gCAAgC,SAAS,iDAAiD,mRAAmR,gLAAgL,yCAAyC,aAAa,aAAa,uTAAuT,2BAA2B,qDAAqD,aAAa,WAAW,wHAAwH,yBAAyB,mDAAmD,WAAW,SAAS,OAAO,mBAAmB,mBAAmB,KAAK,OAAO,0NAA0N,SAAS,sEAAsE,OAAO,sEAAsE,SAAS,qFAAqF,yBAAyB,yCAAyC,QAAQ,KAAK,OAAO,4DAA4D,4JAA4J,eAAe,0DAA0D,OAAO,uFAAuF,eAAe,0IAA0I,eAAe,8BAA8B,8BAA8B,kFAAkF,4BAA4B,WAAW,iCAAiC,yEAAyE,wFAAwF,WAAW,gFAAgF,SAAS,OAAO,mBAAmB,KAAK,OAAO,oUAAoU,OAAO,2DAA2D,cAAc,gGAAgG,uBAAuB,+EAA+E,OAAO,iDAAiD,QAAQ,qKAAqK,oJAAoJ,8IAA8I,gEAAgE,6FAA6F,OAAO,oFAAoF,mDAAmD,OAAO,KAAK,uTAAuT,oSAAoS,OAAO,8DAA8D,OAAO,wEAAwE,YAAY,8EAA8E,aAAa,27BAA27B,6BAA6B,yBAAyB,QAAQ,uRAAuR,0RAA0R,6PAA6P,4FAA4F,2MAA2M,oCAAoC,4BAA4B,OAAO,sCAAsC,wEAAwE,OAAO,iBAAiB,yCAAyC,OAAO,OAAO,mKAAmK,OAAO,MAAM,8uBAA8uB,IAAI,gDAAgD,iCAAiC,8BAA8B,4BAA4B,6BAA6B,sJAAsJ,qBAAqB,oCAAoC,sBAAsB,mBAAmB,iBAAiB,kBAAkB,uIAAuI,8IAA8I,gYAAgY,OAAO,gEAAgE,aAAa,+nBAA+nB,wCAAwC,oDAAoD,MAAM,kTAAkT,OAAO,0FAA0F,OAAO,qDAAqD,QAAQ,2vBAA2vB,0EAA0E,4EAA4E,KAAK,+CAA+C,8VAA8V,OAAO,wDAAwD,OAAO,wDAAwD,QAAQ,6FAA6F,QAAQ,8qBAA8qB,2DAA2D,MAAM,6RAA6R,OAAO,qDAAqD,SAAS,+EAA+E,OAAO,kGAAkG,SAAS,iGAAiG,QAAQ,saAAsa,YAAY,mBAAmB,EAAE,yBAAyB,mOAAmO,EAAE,kWAAkW,YAAY,cAAc,WAAW,mBAAmB,oEAAoE,6EAA6E,2EAA2E,gBAAgB,KAAK,8aAA8a,aAAa,OAAO,aAAa,mBAAmB,4DAA4D,mEAAmE,gBAAgB,qBAAqB,kGAAkG,YAAY,0MAA0M,4HAA4H,IAAI,kQAAkQ,UAAU,2FAA2F,0GAA0G,IAAI,oPAAoP,UAAU,uKAAuK,qIAAqI,wCAAwC,6VAA6V,UAAU,sHAAsH,+uBAA+uB,gEAAgE,uBAAuB,aAAa,wCAAwC,wCAAwC,kDAAkD,yCAAyC,mDAAmD,wCAAwC,mDAAmD,wCAAwC,uNAAuN,yCAAyC,qDAAqD,mEAAmE,qCAAqC,SAAS,OAAO,YAAY,EAAE,oBAAoB,KAAK,EAAE,UAAU,8GAA8G,qKAAqK,UAAU,2NAA2N,oKAAoK,kBAAkB,yBAAyB,wCAAwC,iCAAiC,qCAAqC,8BAA8B,uFAAuF,0KAA0K,wCAAwC,0CAA0C,OAAO,iJAAiJ,uCAAuC,eAAe,OAAO,wCAAwC,2BAA2B,0BAA0B,aAAa,kCAAkC,oLAAoL,yMAAyM,SAAS,uCAAuC,uCAAuC,67BAA67B,SAAS,uCAAuC,qCAAqC,qoJAAqoJ,SAAS,uCAAuC,qCAAqC,yrRAAyrR,SAAS,cAAc,yCAAyC,iBAAiB,SAAS,OAAO,mBAAmB,uCAAuC,eAAe,OAAO,6CAA6C,0CAA0C,mCAAmC,uLAAuL,gEAAgE,oDAAoD,OAAO,KAAK,KAAK,EAAE,UAAU,8SAA8S,mIAAmI,IAAI,oKAAoK,oDAAoD,gDAAgD,4CAA4C,sCAAsC,OAAO,wBAAwB,KAAK,EAAE,UAAU,qOAAqO,+HAA+H,IAAI,kMAAkM,yBAAyB,EAAE,UAAU,6MAA6M,wHAAwH,IAAI,0IAA0I,0BAA0B,mDAAmD,2EAA2E,KAAK,EAAE,UAAU,kNAAkN,oGAAoG,oCAAoC,0KAA0K,WAAW,4BAA4B,OAAO,YAAY,qBAAqB,OAAO,KAAK,GAAG,wCAAwC,EAAE,UAAU,4MAA4M,yTAAyT,yCAAyC,0DAA0D,KAAK,EAAE,UAAU,iJAAiJ,qIAAqI,QAAQ,qIAAqI,IAAI,6IAA6I,uCAAuC,qBAAqB,OAAO,yDAAyD,gGAAgG,gDAAgD,OAAO,aAAa,yDAAyD,KAAK,EAAE,YAAY,iPAAiP,qIAAqI,IAAI,kDAAkD,qDAAqD,mGAAmG,KAAK,EAAE,kDAAkD,iGAAiG,KAAK,EAAE,mDAAmD,2BAA2B,qFAAqF,yGAAyG,OAAO,aAAa,wBAAwB,KAAK,EAAE,YAAY,iJAAiJ,4HAA4H,IAAI,oKAAoK,uCAAuC,qBAAqB,OAAO,yDAAyD,+BAA+B,2BAA2B,0DAA0D,KAAK,EAAE,YAAY,+KAA+K,gIAAgI,wCAAwC,qBAAqB,OAAO,oFAAoF,KAAK,EAAE,UAAU,+HAA+H,gIAAgI,IAAI,8MAA8M,sEAAsE,eAAe,OAAO,gPAAgP,iCAAiC,4CAA4C,KAAK,EAAE,UAAU,6GAA6G,wHAAwH,EAAE,4GAA4G,gDAAgD,oLAAoL,UAAU,oHAAoH,sKAAsK,scAAsc,8GAA8G,iEAAiE,+DAA+D,gEAAgE,wCAAwC,mBAAmB,OAAO,iBAAiB,qBAAqB,OAAO,KAAK,EAAE,UAAU,gKAAgK,gIAAgI,uDAAuD,mOAAmO,UAAU,qLAAqL,mGAAmG,iDAAiD,yJAAyJ,8DAA8D,UAAU,sMAAsM,wKAAwK,iDAAiD,uVAAuV,gCAAgC,iOAAiO,sCAAsC,iDAAiD,kEAAkE,KAAK,sEAAsE,UAAU,uEAAuE,qGAAqG,IAAI,0OAA0O,UAAU,kTAAkT,yHAAyH,IAAI,+JAA+J,UAAU,2IAA2I,+HAA+H,EAAE,uIAAuI,IAAI,6TAA6T,UAAU,0JAA0J,6IAA6I,QAAQ,+HAA+H,QAAQ,iJAAiJ,QAAQ,qQAAqQ,UAAU,kLAAkL,qNAAqN,GAAG,0FAA0F,QAAQ,+OAA+O,UAAU,+JAA+J,8GAA8G,QAAQ,4HAA4H,QAAQ,yHAAyH,QAAQ,8LAA8L,oDAAoD,KAAK,EAAE,UAAU,kMAAkM,8GAA8G,GAAG,+GAA+G,GAAG,mFAAmF,IAAI,2PAA2P,oCAAoC,8BAA8B,yCAAyC,yDAAyD,EAAE,iDAAiD,KAAK,EAAE,UAAU,iOAAiO,sFAAsF,GAAG,8HAA8H,IAAI,gJAAgJ,kHAAkH,KAAK,EAAE,UAAU,4NAA4N,wHAAwH,GAAG,gFAAgF,GAAG,0FAA0F,IAAI,iNAAiN,kFAAkF,UAAU,oOAAoO,4GAA4G,IAAI,6FAA6F,UAAU,yKAAyK,2GAA2G,IAAI,yJAAyJ,UAAU,+OAA+O,0FAA0F,UAAU,gLAAgL,2IAA2I,IAAI,wFAAwF,UAAU,mPAAmP,sFAAsF,UAAU,oQAAoQ,iHAAiH,EAAE,mHAAmH,IAAI,+JAA+J,UAAU,oLAAoL,qGAAqG,4BAA4B,GAAG,wDAAwD,0BAA0B,8BAA8B,EAAE,kCAAkC,8DAA8D,iCAAiC,KAAK,EAAE,UAAU,oJAAoJ,iHAAiH,IAAI,oDAAoD,qCAAqC,kBAAkB,mBAAmB,iBAAiB,sBAAsB,iBAAiB,cAAc,mBAAmB,wCAAwC,4CAA4C,8CAA8C,6BAA6B,oCAAoC,OAAO,EAAE,KAAK,EAAE,UAAU,6JAA6J,8GAA8G,IAAI,sDAAsD,yCAAyC,mBAAmB,WAAW,mCAAmC,2DAA2D,OAAO,YAAY,yBAAyB,OAAO,sBAAsB,KAAK,EAAE,UAAU,qKAAqK,0BAA0B,4EAA4E,yBAAyB,+CAA+C,aAAa,8BAA8B,qCAAqC,WAAW,SAAS,aAAa,sBAAsB,OAAO,EAAE,gJAAgJ,qBAAqB,uBAAuB,kBAAkB,OAAO,sCAAsC,iDAAiD,gLAAgL,gDAAgD,SAAS,wDAAwD,OAAO,SAAS,IAAI,YAAY,8WAA8W,0IAA0I,IAAI,6DAA6D,kCAAkC,2FAA2F,IAAI,+BAA+B,KAAK,EAAE,UAAU,kMAAkM,kGAAkG,EAAE,mHAAmH,IAAI,sFAAsF,2BAA2B,EAAE,UAAU,+NAA+N,yHAAyH,IAAI,iSAAiS,eAAe,gBAAgB,eAAe,oBAAoB,eAAe,mBAAmB,cAAc,kCAAkC,sDAAsD,8CAA8C,2BAA2B,EAAE,KAAK,KAAK,UAAU,0LAA0L,mFAAmF,UAAU,iKAAiK,+EAA+E,kFAAkF,UAAU,6JAA6J,8GAA8G,IAAI,sDAAsD,yCAAyC,mBAAmB,WAAW,mCAAmC,2DAA2D,OAAO,YAAY,yBAAyB,OAAO,sBAAsB,KAAK,EAAE,UAAU,0LAA0L,0GAA0G,EAAE,2GAA2G,EAAE,4HAA4H,IAAI,uEAAuE,4CAA4C,0DAA0D,UAAU,uNAAuN,+HAA+H,IAAI,uDAAuD,+BAA+B,mDAAmD,OAAO,OAAO,oCAAoC,2DAA2D,IAAI,2PAA2P,OAAO,KAAK,EAAE,YAAY,8HAA8H,mGAAmG,uHAAuH,qCAAqC,8OAA8O,UAAU,gJAAgJ,mHAAmH,IAAI,6FAA6F,UAAU,kJAAkJ,yHAAyH,2FAA2F,uFAAuF,UAAU,0HAA0H,8GAA8G,kGAAkG,uhBAAuhB,mDAAmD,QAAQ,iEAAiE,qFAAqF,UAAU,oVAAoV,iIAAiI,EAAE,iMAAiM,EAAE,gMAAgM,EAAE,kIAAkI,EAAE,4HAA4H,IAAI,wCAAwC,mCAAmC,iFAAiF,gDAAgD,kHAAkH,6DAA6D,2CAA2C,KAAK,IAAI,oBAAoB,2CAA2C,KAAK,OAAO,8BAA8B,qBAAqB,sBAAsB,yBAAyB,0DAA0D,oDAAoD,2HAA2H,qFAAqF,4CAA4C,OAAO,EAAE,KAAK,GAAG,QAAQ,gNAAgN,6HAA6H,EAAE,6HAA6H,EAAE,4HAA4H,IAAI,kCAAkC,WAAW,iBAAiB,eAAe,kBAAkB,aAAa,mBAAmB,oEAAoE,KAAK,EAAE,UAAU,qPAAqP,0HAA0H,EAAE,oIAAoI,EAAE,+GAA+G,IAAI,2DAA2D,uCAAuC,8EAA8E,EAAE,mBAAmB,gBAAgB,kDAAkD,SAAS,OAAO,uCAAuC,yFAAyF,EAAE,OAAO,4CAA4C,oHAAoH,OAAO,sCAAsC,6BAA6B,0BAA0B,qHAAqH,KAAK,EAAE,SAAS,sIAAsI,wHAAwH,EAAE,8GAA8G,IAAI,8MAA8M,qCAAqC,8BAA8B,mBAAmB,uCAAuC,OAAO,EAAE,KAAK,EAAE,UAAU,wHAAwH,iDAAiD,2CAA2C,+DAA+D,gGAAgG,KAAK,EAAE,UAAU,8jBAA8jB,2JAA2J,EAAE,oHAAoH,EAAE,oMAAoM,EAAE,sHAAsH,IAAI,gDAAgD,yBAAyB,0CAA0C,qFAAqF,0EAA0E,8CAA8C,iBAAiB,SAAS,wFAAwF,eAAe,oNAAoN,6CAA6C,qCAAqC,+BAA+B,8BAA8B,+BAA+B,yFAAyF,oCAAoC,yyEAAyyE,0DAA0D,mGAAmG,MAAM,OAAO,UAAU,mBAAmB,6BAA6B,EAAE,2CAA2C,yCAAyC,uGAAuG,MAAM,OAAO,UAAU,mBAAmB,+CAA+C,6CAA6C,IAAI,0FAA0F,kFAAkF,kCAAkC,4BAA4B,WAAW,YAAY,yBAAyB,WAAW,SAAS,0FAA0F,eAAe,oNAAoN,6CAA6C,qCAAqC,6BAA6B,+BAA+B,gCAAgC,gCAAgC,yFAAyF,oDAAoD,MAAM,OAAO,iBAAiB,aAAa,EAAE,kCAAkC,wDAAwD,oFAAoF,yCAAyC,kIAAkI,qDAAqD,qNAAqN,uGAAuG,0CAA0C,4IAA4I,sDAAsD,aAAa,OAAO,6BAA6B,aAAa,8FAA8F,eAAe,EAAE,2CAA2C,kCAAkC,4BAA4B,WAAW,YAAY,yBAAyB,WAAW,SAAS,iIAAiI,eAAe,oZAAoZ,2CAA2C,sCAAsC,+BAA+B,0BAA0B,yFAAyF,8DAA8D,0DAA0D,mDAAmD,wOAAwO,4BAA4B,4CAA4C,aAAa,kCAAkC,kDAAkD,uCAAuC,gDAAgD,kDAAkD,iCAAiC,aAAa,4FAA4F,gCAAgC,0DAA0D,eAAe,OAAO,wEAAwE,iEAAiE,eAAe,aAAa,YAAY,6BAA6B,aAAa,6CAA6C,6CAA6C,4BAA4B,WAAW,YAAY,yBAAyB,WAAW,SAAS,4CAA4C,yDAAyD,yBAAyB,WAAW,6IAA6I,sCAAsC,WAAW,YAAY,yBAAyB,WAAW,SAAS,EAAE,6CAA6C,eAAe,kDAAkD,0DAA0D,iCAAiC,UAAU,WAAW,YAAY,yBAAyB,WAAW,SAAS,EAAE,iDAAiD,eAAe,4CAA4C,gCAAgC,GAAG,WAAW,YAAY,yBAAyB,WAAW,SAAS,EAAE,SAAS,KAAK,EAAE,UAAU,8FAA8F,wHAAwH,IAAI,2HAA2H,0CAA0C,SAAS,SAAS,UAAU,SAAS,WAAW,0BAA0B,WAAW,mBAAmB,2CAA2C,8BAA8B,gCAAgC,sCAAsC,OAAO,EAAE,KAAK,EAAE,UAAU,qMAAqM,iHAAiH,IAAI,uCAAuC,YAAY,wBAAwB,YAAY,cAAc,mBAAmB,+FAA+F,KAAK,KAAK,UAAU,8KAA8K,kHAAkH,QAAQ,6LAA6L,QAAQ,qHAAqH,QAAQ,iIAAiI,QAAQ,sFAAsF,UAAU,sLAAsL,6DAA6D,UAAU,6IAA6I,iTAAiT,2CAA2C,iFAAiF,gMAAgM,EAAE,0BAA0B,KAAK,EAAE,UAAU,6JAA6J,uHAAuH,QAAQ,6IAA6I,4HAA4H,iVAAiV,UAAU,+BAA+B,WAAW,mBAAmB,mDAAmD,+BAA+B,uBAAuB,OAAO,OAAO,4EAA4E,OAAO,mDAAmD,KAAK,KAAK,UAAU,sLAAsL,wIAAwI,IAAI,oEAAoE,wBAAwB,EAAE,UAAU,uHAAuH,4PAA4P,2CAA2C,iDAAiD,GAAG,8NAA8N,KAAK,EAAE,UAAU,uPAAuP,+JAA+J,IAAI,oGAAoG,UAAU,2OAA2O,2HAA2H,EAAE,4IAA4I,EAAE,gJAAgJ,QAAQ,wHAAwH,QAAQ,6DAA6D,2CAA2C,4CAA4C,4CAA4C,KAAK,EAAE,UAAU,yKAAyK,wHAAwH,8HAA8H,sMAAsM,6BAA6B,2BAA2B,kCAAkC,4BAA4B,wDAAwD,iCAAiC,qDAAqD,KAAK,EAAE,UAAU,uHAAuH,gEAAgE,yBAAyB,mEAAmE,sBAAsB,OAAO,4FAA4F,OAAO,iBAAiB,EAAE,EAAE,oDAAoD,eAAe,eAAe,+EAA+E,aAAa,kBAAkB,qDAAqD,mGAAmG,OAAO,EAAE,sBAAsB,KAAK,EAAE,UAAU,sIAAsI,wFAAwF,UAAU,yHAAyH,iEAAiE,yBAAyB,oEAAoE,sBAAsB,OAAO,gDAAgD,eAAe,eAAe,iDAAiD,OAAO,uCAAuC,gBAAgB,EAAE,EAAE,qDAAqD,qKAAqK,oCAAoC,kGAAkG,OAAO,EAAE,sBAAsB,KAAK,EAAE,UAAU,sIAAsI,0FAA0F,UAAU,mNAAmN,kGAAkG,IAAI,qQAAqQ,oBAAoB,mLAAmL,OAAO,8PAA8P,4DAA4D,yBAAyB,qDAAqD,sBAAsB,OAAO,qIAAqI,2CAA2C,yCAAyC,wCAAwC,iOAAiO,oQAAoQ,4CAA4C,aAAa,cAAc,EAAE,0CAA0C,cAAc,eAAe,EAAE,kDAAkD,qCAAqC,oCAAoC,wCAAwC,mQAAmQ,sDAAsD,qDAAqD,mDAAmD,+DAA+D,wCAAwC,0BAA0B,sBAAsB,OAAO,OAAO,+WAA+W,4DAA4D,2DAA2D,6DAA6D,0GAA0G,wBAAwB,SAAS,OAAO,mEAAmE,sBAAsB,KAAK,EAAE,UAAU,+MAA+M,kGAAkG,EAAE,0IAA0I,IAAI,2OAA2O,2CAA2C,WAAW,gCAAgC,OAAO,kBAAkB,0CAA0C,KAAK,EAAE,UAAU,kLAAkL,oGAAoG,EAAE,iGAAiG,IAAI,mIAAmI,UAAU,gIAAgI,4GAA4G,IAAI,iDAAiD,2CAA2C,8DAA8D,iEAAiE,KAAK,EAAE,UAAU,oJAAoJ,kCAAkC,iBAAiB,aAAa,cAAc,EAAE,oCAAoC,UAAU,kFAAkF,UAAU,sBAAsB,gEAAgE,KAAK,EAAE,UAAU,mGAAmG,0GAA0G,EAAE,qGAAqG,GAAG,iHAAiH,IAAI,0FAA0F,UAAU,2JAA2J,iHAAiH,IAAI,2DAA2D,yCAAyC,YAAY,uBAAuB,YAAY,cAAc,mBAAmB,iDAAiD,OAAO,KAAK,KAAK,EAAE,UAAU,mSAAmS,yGAAyG,IAAI,+GAA+G,mBAAmB,YAAY,mBAAmB,0BAA0B,UAAU,YAAY,sBAAsB,sBAAsB,qCAAqC,6DAA6D,oKAAoK,KAAK,mBAAmB,UAAU,+IAA+I,uHAAuH,uIAAuI,wIAAwI,gCAAgC,yCAAyC,qBAAqB,OAAO,aAAa,wCAAwC,oBAAoB,OAAO,YAAY,qBAAqB,OAAO,KAAK,EAAE,UAAU,6LAA6L,mHAAmH,EAAE,uHAAuH,IAAI,6EAA6E,UAAU,gMAAgM,8EAA8E,UAAU,iIAAiI,0DAA0D,gNAAgN,KAAK,EAAE,UAAU,uNAAuN,gFAAgF,4DAA4D,2DAA2D,oDAAoD,kaAAka,eAAe,uCAAuC,QAAQ,SAAS,EAAE,kFAAkF,8CAA8C,SAAS,OAAO,4JAA4J,MAAM,wCAAwC,0BAA0B,4CAA4C,WAAW,SAAS,kBAAkB,WAAW,UAAU,YAAY,SAAS,UAAU,UAAU,EAAE,wDAAwD,mEAAmE,SAAS,EAAE,OAAO,mBAAmB,KAAK,EAAE,UAAU,4JAA4J,sHAAsH,EAAE,mHAAmH,IAAI,4MAA4M,UAAU,kOAAkO,sHAAsH,IAAI,4IAA4I,UAAU,0FAA0F,sHAAsH,IAAI,uHAAuH,0CAA0C,SAAS,SAAS,UAAU,SAAS,WAAW,wBAAwB,WAAW,mBAAmB,2CAA2C,gCAAgC,sCAAsC,OAAO,EAAE,KAAK,EAAE,UAAU,oLAAoL,sHAAsH,EAAE,gGAAgG,IAAI,mCAAmC,cAAc,EAAE,mBAAmB,wDAAwD,sLAAsL,0DAA0D,KAAK,EAAE,6KAA6K,OAAO,iBAAiB,OAAO,mBAAmB,QAAQ,2CAA2C,mDAAmD,KAAK,OAAO,QAAQ,0LAA0L,sHAAsH,EAAE,iGAAiG,IAAI,mCAAmC,cAAc,YAAY,WAAW,YAAY,gBAAgB,YAAY,eAAe,MAAM,OAAO,SAAS,QAAQ,mBAAmB,oCAAoC,wCAAwC,4CAA4C,2FAA2F,oDAAoD,mDAAmD,sEAAsE,6KAA6K,8IAA8I,KAAK,KAAK,UAAU,0LAA0L,sHAAsH,EAAE,iGAAiG,IAAI,mCAAmC,YAAY,aAAa,YAAY,WAAW,YAAY,gBAAgB,YAAY,eAAe,MAAM,OAAO,SAAS,QAAQ,mBAAmB,oCAAoC,wCAAwC,4CAA4C,2FAA2F,oDAAoD,mDAAmD,sEAAsE,6KAA6K,8IAA8I,KAAK,KAAK,UAAU,oLAAoL,sHAAsH,EAAE,gGAAgG,IAAI,mCAAmC,aAAa,EAAE,mBAAmB,sDAAsD,qLAAqL,2DAA2D,KAAK,EAAE,UAAU,gFAAgF,2FAA2F,IAAI,wNAAwN,UAAU,8GAA8G,4GAA4G,QAAQ,oHAAoH,QAAQ,qDAAqD,kDAAkD,uCAAuC,qBAAqB,OAAO,uFAAuF,+BAA+B,EAAE,0BAA0B,kRAAkR,2CAA2C,0CAA0C,6lBAA6lB,YAAY,cAAc,cAAc,6BAA6B,EAAE,8BAA8B,yCAAyC,qCAAqC,wCAAwC,4CAA4C,0CAA0C,kDAAkD,mCAAmC,KAAK,EAAE,UAAU,gMAAgM,sHAAsH,EAAE,iJAAiJ,+CAA+C,sOAAsO,mGAAmG,qBAAqB,OAAO,2MAA2M,4DAA4D,OAAO,iBAAiB,sCAAsC,OAAO,qBAAqB,KAAK,EAAE,UAAU,sJAAsJ,8HAA8H,GAAG,wHAAwH,2CAA2C,mKAAmK,UAAU,6GAA6G,uFAAuF,IAAI,gJAAgJ,UAAU,yJAAyJ,gIAAgI,uCAAuC,gPAAgP,UAAU,+KAA+K,4GAA4G,IAAI,qEAAqE,UAAU,yPAAyP,mHAAmH,IAAI,+DAA+D,WAAW,uFAAuF,OAAO,YAAY,qBAAqB,OAAO,KAAK,GAAG,2CAA2C,EAAE,UAAU,gMAAgM,4FAA4F,mCAAmC,sCAAsC,mDAAmD,KAAK,EAAE,UAAU,4FAA4F,4IAA4I,GAAG,2HAA2H,GAAG,2HAA2H,qJAAqJ,yIAAyI,wFAAwF,KAAK,EAAE,UAAU,2GAA2G,yIAAyI,GAAG,0JAA0J,uFAAuF,2IAA2I,UAAU,iJAAiJ,qFAAqF,IAAI,kEAAkE,UAAU,yPAAyP,gIAAgI,IAAI,+LAA+L,sPAAsP,iBAAiB,kDAAkD,YAAY,6IAA6I,kIAAkI,8FAA8F,q+BAAq+B,mBAAmB,0CAA0C,yCAAyC,SAAS,OAAO,sDAAsD,OAAO,uBAAuB,2MAA2M,OAAO,mBAAmB,KAAK,cAAc,UAAU,+RAA+R,sIAAsI,EAAE,sGAAsG,IAAI,2LAA2L,UAAU,kNAAkN,6HAA6H,IAAI,oDAAoD,wCAAwC,eAAe,oCAAoC,6CAA6C,qBAAqB,OAAO,uCAAuC,cAAc,mBAAmB,6BAA6B,+CAA+C,+BAA+B,uBAAuB,uCAAuC,OAAO,EAAE,sBAAsB,KAAK,EAAE,UAAU,sJAAsJ,6HAA6H,IAAI,+EAA+E,UAAU,6JAA6J,8FAA8F,EAAE,gIAAgI,IAAI,wEAAwE,UAAU,kOAAkO,+LAA+L,sKAAsK,UAAU,oNAAoN,wIAAwI,IAAI,iDAAiD,yCAAyC,mCAAmC,mCAAmC,2CAA2C,yGAAyG,6BAA6B,2BAA2B,mCAAmC,yhBAAyhB,2CAA2C,oBAAoB,SAAS,OAAO,kBAAkB,qBAAqB,OAAO,mDAAmD,mBAAmB,wCAAwC,mIAAmI,SAAS,iCAAiC,iEAAiE,SAAS,wBAAwB,OAAO,4BAA4B,qCAAqC,oFAAoF,kBAAkB,kBAAkB,OAAO,OAAO,EAAE,YAAY,wGAAwG,8HAA8H,EAAE,gIAAgI,IAAI,iFAAiF,UAAU,4IAA4I,+HAA+H,IAAI,6EAA6E,UAAU,2NAA2N,0HAA0H,EAAE,4HAA4H,kKAAkK,0GAA0G,iLAAiL,UAAU,mHAAmH,sIAAsI,GAAG,0JAA0J,uFAAuF,yIAAyI,iCAAiC,kCAAkC,uCAAuC,KAAK,EAAE,UAAU,sDAAsD,yGAAyG,kCAAkC,qBAAqB,OAAO,oDAAoD,mCAAmC,yCAAyC,sCAAsC,6BAA6B,+BAA+B,8BAA8B,2CAA2C,mFAAmF,KAAK,EAAE,UAAU,4EAA4E,kIAAkI,6GAA6G,oIAAoI,wWAAwW,KAAK,EAAE,UAAU,0EAA0E,kIAAkI,6GAA6G,kIAAkI,+EAA+E,WAAW,gDAAgD,OAAO,YAAY,yCAAyC,kJAAkJ,KAAK,EAAE,UAAU,kFAAkF,kIAAkI,6GAA6G,0IAA0I,+DAA+D,KAAK,EAAE,UAAU,8EAA8E,kIAAkI,0HAA0H,sIAAsI,yYAAyY,KAAK,EAAE,UAAU,sHAAsH,kIAAkI,wGAAwG,kIAAkI,aAAa,cAAc,EAAE,KAAK,UAAU,8EAA8E,kIAAkI,6GAA6G,sIAAsI,2DAA2D,KAAK,EAAE,UAAU,6FAA6F,qHAAqH,mCAAmC,iSAAiS,UAAU,8EAA8E,kIAAkI,GAAG,6HAA6H,wJAAwJ,iHAAiH,kFAAkF,WAAW,4FAA4F,kEAAkE,SAAS,WAAW,EAAE,YAAY,gBAAgB,UAAU,WAAW,EAAE,EAAE,UAAU,sEAAsE,iEAAiE,QAAQ,IAAI,wCAAwC,uGAAuG,qFAAqF,OAAO,iBAAiB,qBAAqB,OAAO,KAAK,EAAE,UAAU,8FAA8F,kIAAkI,GAAG,6HAA6H,4EAA4E,mJAAmJ,oCAAoC,WAAW,6CAA6C,iCAAiC,yDAAyD,6CAA6C,OAAO,YAAY,qBAAqB,OAAO,oBAAoB,KAAK,EAAE,UAAU,iEAAiE,kIAAkI,0HAA0H,kIAAkI,iSAAiS,KAAK,EAAE,UAAU,4EAA4E,8IAA8I,oPAAoP,4YAA4Y,UAAU,wFAAwF,8IAA8I,iQAAiQ,+MAA+M,UAAU,gJAAgJ,yLAAyL,UAAU,wIAAwI,2IAA2I,WAAW,wEAAwE,KAAK,OAAO,YAAY,qBAAqB,OAAO,kBAAkB,KAAK,EAAE,UAAU,0EAA0E,8IAA8I,oPAAoP,6bAA6b,UAAU,8EAA8E,8IAA8I,oPAAoP,wZAAwZ,UAAU,8EAA8E,8IAA8I,oPAAoP,6LAA6L,UAAU,kOAAkO,iHAAiH,EAAE,qIAAqI,EAAE,yJAAyJ,IAAI,uIAAuI,mYAAmY,oBAAoB,wCAAwC,aAAa,EAAE,EAAE,6CAA6C,OAAO,IAAI,KAAK,EAAE,UAAU,8EAA8E,8IAA8I,oPAAoP,oVAAoV,UAAU,oKAAoK,mIAAmI,EAAE,2GAA2G,EAAE,sGAAsG,4HAA4H,6VAA6V,+EAA+E,UAAU,+EAA+E,qIAAqI,EAAE,0IAA0I,EAAE,mJAAmJ,qEAAqE,oIAAoI,yCAAyC,0BAA0B,8CAA8C,oFAAoF,oBAAoB,OAAO,8LAA8L,wIAAwI,gCAAgC,mCAAmC,iCAAiC,6BAA6B,8BAA8B,UAAU,mHAAmH,sCAAsC,wDAAwD,sBAAsB,uCAAuC,2DAA2D,sCAAsC,OAAO,YAAY,gCAAgC,OAAO,+BAA+B,KAAK,EAAE,UAAU,wIAAwI,yIAAyI,2CAA2C,qIAAqI,UAAU,yNAAyN,uJAAuJ,EAAE,+HAA+H,IAAI,sbAAsb,4BAA4B,kCAAkC,2CAA2C,8BAA8B,EAAE,QAAQ,iCAAiC,qDAAqD,8BAA8B,EAAE,QAAQ,2IAA2I,q4BAAq4B,KAAK,EAAE,UAAU,0GAA0G,6FAA6F,0LAA0L,oVAAoV,UAAU,mHAAmH,8GAA8G,iPAAiP,oFAAoF,YAAY,mHAAmH,qHAAqH,iEAAiE,yCAAyC,uCAAuC,SAAS,QAAQ,2CAA2C,yGAAyG,4CAA4C,SAAS,QAAQ,6CAA6C,4BAA4B,mBAAmB,mCAAmC,gDAAgD,SAAS,qCAAqC,aAAa,EAAE,EAAE,8CAA8C,iHAAiH,qCAAqC,WAAW,oCAAoC,SAAS,UAAU,sBAAsB,kBAAkB,uIAAuI,yKAAyK,OAAO,aAAa,uGAAuG,mCAAmC,uBAAuB,OAAO,YAAY,sLAAsL,6BAA6B,0BAA0B,yBAAyB,uDAAuD,oHAAoH,gLAAgL,2BAA2B,oCAAoC,+BAA+B,iBAAiB,SAAS,sCAAsC,qOAAqO,2CAA2C,yCAAyC,2CAA2C,yDAAyD,oCAAoC,mDAAmD,WAAW,4CAA4C,+BAA+B,WAAW,gBAAgB,+CAA+C,sCAAsC,+OAA+O,aAAa,kBAAkB,mCAAmC,aAAa,WAAW,+BAA+B,UAAU,4WAA4W,OAAO,KAAK,EAAE,UAAU,oKAAoK,oHAAoH,IAAI,6RAA6R,UAAU,mMAAmM,gMAAgM,gLAAgL,qBAAqB,OAAO,wCAAwC,yBAAyB,4BAA4B,KAAK,EAAE,UAAU,oKAAoK,8PAA8P,2DAA2D,yBAAyB,wBAAwB,oBAAoB,OAAO,OAAO,iDAAiD,SAAS,OAAO,6CAA6C,wBAAwB,WAAW,SAAS,OAAO,mBAAmB,KAAK,EAAE,UAAU,oLAAoL,yLAAyL,uCAAuC,yCAAyC,qCAAqC,mDAAmD,eAAe,uBAAuB,qBAAqB,6HAA6H,uCAAuC,OAAO,iBAAiB,uCAAuC,kDAAkD,8BAA8B,uCAAuC,SAAS,OAAO,8BAA8B,6BAA6B,oCAAoC,iFAAiF,wCAAwC,kBAAkB,KAAK,EAAE,UAAU,2bAA2b,isBAAisB,+SAA+S,oBAAoB,+CAA+C,6BAA6B,uBAAuB,wBAAwB,sBAAsB,eAAe,uBAAuB,SAAS,OAAO,mEAAmE,iEAAiE,yQAAyQ,4CAA4C,uDAAuD,kBAAkB,EAAE,kGAAkG,gDAAgD,+CAA+C,gaAAga,gDAAgD,aAAa,iDAAiD,4PAA4P,gDAAgD,2JAA2J,aAAa,OAAO,gIAAgI,WAAW,SAAS,sCAAsC,OAAO,oBAAoB,KAAK,cAAc,UAAU,iLAAiL,idAAid,uCAAuC,wEAAwE,qBAAqB,OAAO,qCAAqC,oBAAoB,OAAO,+BAA+B,gBAAgB,4CAA4C,+FAA+F,wLAAwL,6BAA6B,SAAS,4BAA4B,OAAO,SAAS,yPAAyP,oCAAoC,kBAAkB,aAAa,mBAAmB,+BAA+B,wDAAwD,6GAA6G,8BAA8B,6BAA6B,8BAA8B,SAAS,SAAS,2IAA2I,yGAAyG,OAAO,EAAE,4BAA4B,KAAK,EAAE,UAAU,+MAA+M,qHAAqH,EAAE,8KAA8K,mKAAmK,oMAAoM,+HAA+H,cAAc,EAAE,oHAAoH,cAAc,EAAE,sCAAsC,eAAe,2BAA2B,gCAAgC,oGAAoG,OAAO,IAAI,2EAA2E,mCAAmC,2BAA2B,oBAAoB,WAAW,yDAAyD,OAAO,YAAY,iCAAiC,6FAA6F,2BAA2B,qDAAqD,kBAAkB,KAAK,EAAE,YAAY,qKAAqK,0MAA0M,UAAU,mLAAmL,kHAAkH,IAAI,kSAAkS,UAAU,mHAAmH,8GAA8G,uFAAuF,ySAAyS,UAAU,6IAA6I,oFAAoF,EAAE,2IAA2I,+CAA+C,2KAA2K,UAAU,gJAAgJ,gIAAgI,mJAAmJ,+oBAA+oB,UAAU,iJAAiJ,mIAAmI,iJAAiJ,kKAAkK,qDAAqD,qBAAqB,OAAO,qLAAqL,KAAK,EAAE,UAAU,yJAAyJ,iNAAiN,EAAE,wIAAwI,IAAI,qMAAqM,qCAAqC,YAAY,aAAa,gBAAgB,mBAAmB,qDAAqD,OAAO,EAAE,KAAK,EAAE,UAAU,8LAA8L,sHAAsH,GAAG,8HAA8H,4DAA4D,mJAAmJ,mSAAmS,wYAAwY,qBAAqB,OAAO,kGAAkG,KAAK,EAAE,UAAU,sDAAsD,mIAAmI,QAAQ,oJAAoJ,4HAA4H,4KAA4K,UAAU,uGAAuG,6aAA6a,UAAU,uKAAuK,yIAAyI,8DAA8D,oIAAoI,UAAU,sKAAsK,0IAA0I,IAAI,uIAAuI,UAAU,gKAAgK,wIAAwI,IAAI,iIAAiI,UAAU,gKAAgK,iGAAiG,IAAI,0FAA0F,8BAA8B,qBAAqB,OAAO,gCAAgC,2CAA2C,wCAAwC,mCAAmC,oCAAoC,wDAAwD,yBAAyB,WAAW,gBAAgB,uCAAuC,8DAA8D,WAAW,SAAS,EAAE,QAAQ,oCAAoC,6NAA6N,KAAK,EAAE,UAAU,uMAAuM,sGAAsG,IAAI,wFAAwF,8BAA8B,mDAAmD,8CAA8C,QAAQ,oCAAoC,yRAAyR,KAAK,EAAE,UAAU,sKAAsK,oGAAoG,IAAI,sFAAsF,8BAA8B,mDAAmD,6CAA6C,qBAAqB,EAAE,QAAQ,6CAA6C,6KAA6K,KAAK,EAAE,UAAU,gKAAgK,yGAAyG,EAAE,2GAA2G,IAAI,oGAAoG,+BAA+B,uCAAuC,0FAA0F,gGAAgG,iCAAiC,qEAAqE,iCAAiC,6DAA6D,6BAA6B,6CAA6C,UAAU,8BAA8B,6BAA6B,2CAA2C,0DAA0D,2BAA2B,OAAO,OAAO,kCAAkC,OAAO,KAAK,EAAE,UAAU,2GAA2G,2GAA2G,EAAE,yLAAyL,IAAI,8HAA8H,UAAU,+PAA+P,gGAAgG,GAAG,0NAA0N,GAAG,mJAAmJ,GAAG,yKAAyK,GAAG,wJAAwJ,IAAI,+YAA+Y,0BAA0B,gCAAgC,kGAAkG,GAAG,gCAAgC,4JAA4J,GAAG,gCAAgC,wKAAwK,GAAG,gCAAgC,mGAAmG,EAAE,qCAAqC,oCAAoC,kCAAkC,qCAAqC,wOAAwO,yCAAyC,+FAA+F,qBAAqB,sBAAsB,WAAW,SAAS,oCAAoC,iCAAiC,0BAA0B,OAAO,wFAAwF,8FAA8F,yBAAyB,sBAAsB,OAAO,sDAAsD,WAAW,SAAS,OAAO,EAAE,OAAO,EAAE,YAAY,sPAAsP,gGAAgG,EAAE,yKAAyK,EAAE,wJAAwJ,IAAI,+FAA+F,8BAA8B,oCAAoC,qCAAqC,wBAAwB,EAAE,QAAQ,mCAAmC,gDAAgD,wBAAwB,EAAE,QAAQ,qCAAqC,yHAAyH,KAAK,EAAE,UAAU,kQAAkQ,gGAAgG,EAAE,0NAA0N,IAAI,4FAA4F,8BAA8B,oCAAoC,yCAAyC,4BAA4B,EAAE,QAAQ,mCAAmC,oDAAoD,4BAA4B,EAAE,QAAQ,qCAAqC,iIAAiI,KAAK,EAAE,UAAU,4OAA4O,gGAAgG,EAAE,mJAAmJ,IAAI,sGAAsG,8BAA8B,oCAAoC,wCAAwC,2BAA2B,EAAE,QAAQ,mCAAmC,mDAAmD,2BAA2B,EAAE,QAAQ,qCAAqC,6DAA6D,KAAK,EAAE,UAAU,4JAA4J,8ZAA8Z,SAAS,gDAAgD,KAAK,YAAY,KAAK,kDAAkD,wBAAwB,mFAAmF,KAAK,GAAG,QAAQ,uEAAuE,0aAA0a,4CAA4C,yCAAyC,+BAA+B,kBAAkB,aAAa,aAAa,kDAAkD,OAAO,YAAY,OAAO,2EAA2E,qBAAqB,OAAO,yIAAyI,iEAAiE,8CAA8C,gDAAgD,sDAAsD,YAAY,0CAA0C,gCAAgC,iBAAiB,+FAA+F,kCAAkC,aAAa,uBAAuB,mCAAmC,aAAa,qBAAqB,qDAAqD,yBAAyB,+CAA+C,aAAa,YAAY,UAAU,OAAO,iBAAiB,wCAAwC,OAAO,KAAK,EAAE,UAAU,kIAAkI,6HAA6H,GAAG,iHAAiH,gDAAgD,qKAAqK,8BAA8B,EAAE,UAAU,qIAAqI,8HAA8H,GAAG,kHAAkH,qDAAqD,oNAAoN,+BAA+B,EAAE,UAAU,0FAA0F,6HAA6H,GAAG,iHAAiH,gDAAgD,oKAAoK,UAAU,kIAAkI,6HAA6H,GAAG,iHAAiH,qDAAqD,gNAAgN,8BAA8B,EAAE,UAAU,sKAAsK,wGAAwG,GAAG,0GAA0G,IAAI,0LAA0L,WAAW,oFAAoF,6IAA6I,EAAE,qGAAqG,KAAK,sNAAsN,UAAU,0FAA0F,0HAA0H,iDAAiD,+JAA+J,UAAU,wSAAwS,8EAA8E,qCAAqC,6PAA6P,cAAc,+BAA+B,kBAAkB,qBAAqB,mBAAmB,+EAA+E,qDAAqD,OAAO,EAAE,mBAAmB,KAAK,EAAE,UAAU,8CAA8C,oIAAoI,EAAE,qIAAqI,8GAA8G,gMAAgM,UAAU,6JAA6J,utBAAutB,iEAAiE,SAAS,yJAAyJ,iCAAiC,EAAE,UAAU,sKAAsK,6HAA6H,IAAI,gIAAgI,UAAU,gIAAgI,iGAAiG,mCAAmC,kJAAkJ,UAAU,sHAAsH,mIAAmI,IAAI,qHAAqH,iDAAiD,qBAAqB,OAAO,qCAAqC,iCAAiC,+BAA+B,KAAK,KAAK,sJAAsJ,OAAO,uEAAuE,QAAQ,0GAA0G,iDAAiD,qBAAqB,OAAO,qCAAqC,iCAAiC,WAAW,gCAAgC,OAAO,gBAAgB,qBAAqB,OAAO,2DAA2D,MAAM,cAAc,+IAA+I,mIAAmI,IAAI,6JAA6J,UAAU,iIAAiI,mIAAmI,IAAI,wIAAwI,UAAU,yIAAyI,mIAAmI,IAAI,oJAAoJ,UAAU,iIAAiI,mIAAmI,EAAE,wIAAwI,IAAI,wIAAwI,UAAU,iIAAiI,mIAAmI,IAAI,wIAAwI,UAAU,mKAAmK,2FAA2F,EAAE,8HAA8H,IAAI,uJAAuJ,qLAAqL,UAAU,oLAAoL,6HAA6H,EAAE,0FAA0F,GAAG,qNAAqN,2NAA2N,gHAAgH,2EAA2E,qBAAqB,OAAO,kHAAkH,oBAAoB,OAAO,aAAa,oCAAoC,OAAO,YAAY,qCAAqC,uBAAuB,SAAS,OAAO,oBAAoB,KAAK,EAAE,UAAU,gKAAgK,yIAAyI,EAAE,6GAA6G,EAAE,8HAA8H,gFAAgF,wOAAwO,UAAU,wMAAwM,8FAA8F,EAAE,8HAA8H,qCAAqC,6LAA6L,UAAU,6JAA6J,gGAAgG,gMAAgM,+UAA+U,qHAAqH,qFAAqF,8BAA8B,uDAAuD,sBAAsB,SAAS,OAAO,kBAAkB,KAAK,EAAE,UAAU,sFAAsF,4HAA4H,kDAAkD,4QAA4Q,UAAU,sHAAsH,4GAA4G,6DAA6D,sKAAsK,UAAU,qHAAqH,gIAAgI,EAAE,+FAA+F,8EAA8E,mLAAmL,oBAAoB,4BAA4B,qCAAqC,mEAAmE,wEAAwE,iJAAiJ,SAAS,gIAAgI,8PAA8P,4OAA4O,0EAA0E,sCAAsC,SAAS,eAAe,SAAS,OAAO,oCAAoC,OAAO,OAAO,EAAE,YAAY,4MAA4M,2HAA2H,iDAAiD,6JAA6J,UAAU,qLAAqL,sFAAsF,IAAI,yJAAyJ,gEAAgE,iEAAiE,8CAA8C,KAAK,EAAE,UAAU,4OAA4O,6FAA6F,iCAAiC,2PAA2P,iBAAiB,EAAE,UAAU,sNAAsN,kKAAkK,UAAU,0aAA0a,kKAAkK,UAAU,yFAAyF,2IAA2I,IAAI,4NAA4N,UAAU,qGAAqG,sMAAsM,QAAQ,oLAAoL,sFAAsF,6FAA6F,UAAU,mGAAmG,6LAA6L,oFAAoF,wFAAwF,UAAU,uVAAuV,oxBAAoxB,4BAA4B,WAAW,uCAAuC,qCAAqC,oBAAoB,OAAO,YAAY,qBAAqB,OAAO,KAAK,EAAE,UAAU,mLAAmL,sSAAsS,4BAA4B,WAAW,yCAAyC,uCAAuC,oBAAoB,OAAO,YAAY,qBAAqB,OAAO,KAAK,EAAE,UAAU,uIAAuI,kLAAkL,UAAU,6NAA6N,yIAAyI,2CAA2C,0JAA0J,UAAU,qTAAqT,2NAA2N,UAAU,uLAAuL,0HAA0H,IAAI,mhBAAmhB,ySAAyS,SAAS,iEAAiE,WAAW,YAAY,6GAA6G,mHAAmH,IAAI,wQAAwQ,0JAA0J,KAAK,EAAE,UAAU,yNAAyN,8FAA8F,IAAI,2KAA2K,yBAAyB,WAAW,8HAA8H,OAAO,kBAAkB,oBAAoB,KAAK,EAAE,UAAU,oHAAoH,6FAA6F,IAAI,wHAAwH,oKAAoK,KAAK,EAAE,UAAU,qIAAqI,4FAA4F,GAAG,gHAAgH,mHAAmH,8HAA8H,qCAAqC,+BAA+B,8HAA8H,KAAK,EAAE,UAAU,uIAAuI,wGAAwG,IAAI,0EAA0E,wJAAwJ,KAAK,EAAE,UAAU,0FAA0F,mKAAmK,IAAI,6IAA6I,mBAAmB,WAAW,mJAAmJ,wBAAwB,OAAO,aAAa,wBAAwB,KAAK,EAAE,UAAU,6FAA6F,mNAAmN,EAAE,gIAAgI,wCAAwC,oIAAoI,UAAU,yEAAyE,uHAAuH,IAAI,kLAAkL,qCAAqC,qCAAqC,gCAAgC,EAAE,2BAA2B,oCAAoC,8IAA8I,oCAAoC,wBAAwB,KAAK,EAAE,UAAU,0FAA0F,8JAA8J,IAAI,yOAAyO,UAAU,oHAAoH,6HAA6H,IAAI,iJAAiJ,UAAU,wIAAwI,iIAAiI,iDAAiD,8KAA8K,UAAU,uJAAuJ,mHAAmH,4WAA4W,2+BAA2+B,eAAe,oGAAoG,oBAAoB,OAAO,OAAO,iNAAiN,WAAW,QAAQ,mBAAmB,YAAY,0CAA0C,sCAAsC,SAAS,EAAE,OAAO,kBAAkB,KAAK,EAAE,UAAU,8LAA8L,+HAA+H,EAAE,kHAAkH,iDAAiD,0IAA0I,uVAAuV,UAAU,wPAAwP,ieAAie,eAAe,+CAA+C,uCAAuC,+BAA+B,uBAAuB,iBAAiB,mBAAmB,gEAAgE,sDAAsD,yCAAyC,+BAA+B,gGAAgG,OAAO,EAAE,oBAAoB,OAAO,EAAE,UAAU,oFAAoF,qIAAqI,GAAG,mIAAmI,IAAI,yDAAyD,gDAAgD,6BAA6B,qBAAqB,4BAA4B,gBAAgB,eAAe,qBAAqB,uCAAuC,iBAAiB,sBAAsB,mBAAmB,uUAAuU,yBAAyB,uBAAuB,OAAO,0CAA0C,wCAAwC,8CAA8C,gCAAgC,0CAA0C,SAAS,sFAAsF,OAAO,EAAE,KAAK,EAAE,UAAU,0GAA0G,+GAA+G,sFAAsF,wGAAwG,6BAA6B,+FAA+F,UAAU,8LAA8L,4GAA4G,oIAAoI,mUAAmU,iSAAiS,6DAA6D,oCAAoC,SAAS,MAAM,OAAO,kCAAkC,sCAAsC,kCAAkC,QAAQ,mCAAmC,wDAAwD,yBAAyB,SAAS,cAAc,oCAAoC,SAAS,QAAQ,sCAAsC,yDAAyD,2LAA2L,uCAAuC,2CAA2C,mCAAmC,gDAAgD,6CAA6C,UAAU,wCAAwC,mCAAmC,gDAAgD,yFAAyF,UAAU,6EAA6E,0CAA0C,2CAA2C,SAAS,yCAAyC,qBAAqB,OAAO,OAAO,EAAE,UAAU,8EAA8E,sGAAsG,+GAA+G,qIAAqI,cAAc,WAAW,+HAA+H,oDAAoD,OAAO,YAAY,qBAAqB,OAAO,KAAK,EAAE,UAAU,qJAAqJ,sHAAsH,IAAI,uMAAuM,UAAU,+EAA+E,+HAA+H,EAAE,sFAAsF,IAAI,uNAAuN,UAAU,yMAAyM,iOAAiO,ysBAAysB,gEAAgE,uBAAuB,qGAAqG,wCAAwC,mCAAmC,iDAAiD,yCAAyC,6JAA6J,8CAA8C,qDAAqD,8CAA8C,oDAAoD,sCAAsC,+DAA+D,8CAA8C,SAAS,OAAO,aAAa,oBAAoB,KAAK,EAAE,UAAU,kSAAkS,gIAAgI,kBAAkB,yBAAyB,wCAAwC,iCAAiC,oCAAoC,8BAA8B,iEAAiE,0FAA0F,0CAA0C,OAAO,mJAAmJ,wCAAwC,eAAe,OAAO,wCAAwC,2BAA2B,0BAA0B,aAAa,kCAAkC,qCAAqC,iiJAAiiJ,SAAS,wCAAwC,qCAAqC,q+DAAq+D,SAAS,cAAc,0CAA0C,iBAAiB,SAAS,OAAO,mBAAmB,wCAAwC,eAAe,OAAO,0CAA0C,0CAA0C,mCAAmC,uLAAuL,8DAA8D,qDAAqD,OAAO,KAAK,KAAK,EAAE,UAAU,8GAA8G,4EAA4E,UAAU,oHAAoH,kFAAkF,UAAU,mKAAmK,8FAA8F,EAAE,4HAA4H,IAAI,sFAAsF,8CAA8C,2BAA2B,gBAAgB,qBAAqB,0EAA0E,wCAAwC,mDAAmD,+DAA+D,OAAO,wBAAwB,KAAK,EAAE,UAAU,qHAAqH,4FAA4F,kFAAkF,gkBAAgkB,UAAU,gKAAgK,wIAAwI,IAAI,8KAA8K,UAAU,iLAAiL,kDAAkD,2CAA2C,0GAA0G,+BAA+B,mFAAmF,OAAO,+CAA+C,KAAK,EAAE,UAAU,oQAAoQ,yHAAyH,IAAI,4SAA4S,wCAAwC,+DAA+D,kDAAkD,2MAA2M,uJAAuJ,+BAA+B,eAAe,OAAO,mBAAmB,cAAc,eAAe,aAAa,yCAAyC,oFAAoF,4CAA4C,OAAO,iBAAiB,eAAe,OAAO,gCAAgC,sDAAsD,OAAO,2CAA2C,WAAW,GAAG,kDAAkD,OAAO,2BAA2B,KAAK,EAAE,UAAU,2JAA2J,2FAA2F,IAAI,wFAAwF,UAAU,sFAAsF,6HAA6H,IAAI,yKAAyK,sCAAsC,qBAAqB,OAAO,6CAA6C,OAAO,OAAO,qFAAqF,0CAA0C,8DAA8D,4BAA4B,gBAAgB,YAAY,EAAE,yDAAyD,SAAS,SAAS,mBAAmB,KAAK,EAAE,UAAU,+KAA+K,2HAA2H,0CAA0C,oFAAoF,UAAU,4XAA4X,6HAA6H,oNAAoN,oGAAoG,UAAU,4JAA4J,kQAAkQ,iFAAiF,oCAAoC,6DAA6D,0BAA0B,SAAS,aAAa,iEAAiE,SAAS,aAAa,OAAO,qBAAqB,KAAK,EAAE,UAAU,sIAAsI,iKAAiK,UAAU,2LAA2L,yFAAyF,mIAAmI,oHAAoH,WAAW,kLAAkL,qCAAqC,0CAA0C,wIAAwI,gGAAgG,SAAS,8KAA8K,oBAAoB,EAAE,eAAe,yCAAyC,wBAAwB,EAAE,SAAS,YAAY,mEAAmE,oBAAoB,iCAAiC,gCAAgC,8BAA8B,SAAS,0CAA0C,iCAAiC,0CAA0C,kDAAkD,oBAAoB,UAAU,0DAA0D,wCAAwC,mCAAmC,OAAO,YAAY,eAAe,OAAO,yBAAyB,sCAAsC,kBAAkB,OAAO,4BAA4B,kBAAkB,mCAAmC,SAAS,qBAAqB,6BAA6B,SAAS,sBAAsB,gCAAgC,SAAS,OAAO,KAAK,EAAE,UAAU,2LAA2L,yFAAyF,mIAAmI,oHAAoH,WAAW,qFAAqF,0EAA0E,0CAA0C,6BAA6B,kDAAkD,wBAAwB,UAAU,iEAAiE,wCAAwC,wBAAwB,UAAU,iCAAiC,wCAAwC,SAAS,OAAO,mCAAmC,OAAO,YAAY,+BAA+B,wCAAwC,SAAS,KAAK,OAAO,KAAK,EAAE,UAAU,2NAA2N,yFAAyF,IAAI,2JAA2J,UAAU,8JAA8J,yFAAyF,GAAG,uHAAuH,GAAG,+IAA+I,wDAAwD,2OAA2O,UAAU,sLAAsL,0IAA0I,wBAAwB,wHAAwH,mNAAmN,gDAAgD,+CAA+C,OAAO,0DAA0D,+GAA+G,wBAAwB,uGAAuG,0DAA0D,wCAAwC,uGAAuG,0FAA0F,8HAA8H,kBAAkB,OAAO,YAAY,eAAe,OAAO,yBAAyB,wCAAwC,kBAAkB,OAAO,4BAA4B,kBAAkB,mCAAmC,SAAS,qBAAqB,6BAA6B,SAAS,sBAAsB,gCAAgC,SAAS,OAAO,KAAK,EAAE,UAAU,wMAAwM,8HAA8H,MAAM,oHAAoH,IAAI,wIAAwI,yCAAyC,wEAAwE,oCAAoC,uCAAuC,mFAAmF,yBAAyB,OAAO,wBAAwB,KAAK,kEAAkE,OAAO,KAAK,oBAAoB,C;;;;;;;ACAxquT,gPAAgP,sBAAsB,qBAAqB,gFAAgF,yNAAyN,qGAAqG,oGAAoG,iDAAiD,8CAA8C,0CAA0C,wCAAwC,KAAK,iFAAiF,+EAA+E,qDAAqD,gCAAgC,KAAK,+BAA+B,2BAA2B,wCAAwC,0BAA0B,SAAS,OAAO,eAAe,KAAK,8CAA8C,mBAAmB,+BAA+B,iBAAiB,wCAAwC,qBAAqB,KAAK,0CAA0C,MAAM,mDAAmD,2FAA2F,oHAAoH,kEAAkE,gGAAgG,kGAAkG,gEAAgE,2HAA2H,yFAAyF,2FAA2F,oDAAoD,6CAA6C,MAAM,0DAA0D,2BAA2B,iEAAiE,aAAa,mDAAmD,+CAA+C,qCAAqC,sGAAsG,EAAE,0DAA0D,EAAE,OAAO,WAAW,kGAAkG,uBAAuB,OAAO,MAAM,yDAAyD,qHAAqH,oFAAoF,OAAO,aAAa,sHAAsH,yFAAyF,+EAA+E,iGAAiG,iGAAiG,wCAAwC,+CAA+C,8BAA8B,2DAA2D,oBAAoB,2DAA2D,oBAAoB,yDAAyD,oBAAoB,WAAW,SAAS,OAAO,cAAc,oHAAoH,wCAAwC,8HAA8H,SAAS,cAAc,iCAAiC,6FAA6F,SAAS,OAAO,aAAa,MAAM,8DAA8D,4BAA4B,KAAK,4EAA4E,iCAAiC,OAAO,yEAAyE,8BAA8B,KAAK,6DAA6D,6BAA6B,KAAK,iEAAiE,qCAAqC,yBAAyB,sDAAsD,+HAA+H,sHAAsH,mDAAmD,mKAAmK,kDAAkD,iGAAiG,oJAAoJ,OAAO,2BAA2B,kDAAkD,wFAAwF,oJAAoJ,OAAO,MAAM,2DAA2D,0CAA0C,mCAAmC,gCAAgC,OAAO,OAAO,2BAA2B,OAAO,KAAK,4DAA4D,oCAAoC,8GAA8G,+BAA+B,eAAe,OAAO,gCAAgC,kEAAkE,uCAAuC,uEAAuE,eAAe,OAAO,mqBAAmqB,8BAA8B,gNAAgN,yNAAyN,OAAO,YAAY,8MAA8M,2NAA2N,OAAO,wIAAwI,0GAA0G,uIAAuI,2DAA2D,iDAAiD,OAAO,gCAAgC,8GAA8G,iFAAiF,yEAAyE,mDAAmD,kGAAkG,+BAA+B,+FAA+F,SAAS,+BAA+B,+FAA+F,SAAS,8BAA8B,8FAA8F,SAAS,kDAAkD,qCAAqC,6EAA6E,6EAA6E,WAAW,mDAAmD,yDAAyD,WAAW,sDAAsD,yDAAyD,WAAW,kCAAkC,6CAA6C,6CAA6C,gCAAgC,2CAA2C,aAAa,WAAW,gBAAgB,6CAA6C,6CAA6C,gCAAgC,2CAA2C,aAAa,WAAW,gFAAgF,mCAAmC,UAAU,qCAAqC,oFAAoF,SAAS,cAAc,8BAA8B,SAAS,QAAQ,gCAAgC,KAAK,kEAAkE,sHAAsH,kHAAkH,oEAAoE,qCAAqC,kEAAkE,6EAA6E,WAAW,kIAAkI,0DAA0D,yCAAyC,yDAAyD,WAAW,+BAA+B,yDAAyD,WAAW,mHAAmH,0BAA0B,EAAE,GAAG,4CAA4C,UAAU,mCAAmC,yEAAyE,OAAO,YAAY,4BAA4B,OAAO,MAAM,+DAA+D,8BAA8B,2BAA2B,2BAA2B,gCAAgC,gEAAgE,OAAO,sDAAsD,gEAAgE,OAAO,mEAAmE,6FAA6F,oCAAoC,KAAK,yRAAyR,sBAAsB,gCAAgC,2BAA2B,mCAAmC,OAAO,wCAAwC,4CAA4C,OAAO,4DAA4D,KAAK,qDAAqD,sCAAsC,0DAA0D,mGAAmG,sJAAsJ,SAAS,6BAA6B,0FAA0F,sJAAsJ,SAAS,OAAO,KAAK,uDAAuD,sDAAsD,qEAAqE,OAAO,aAAa,yEAAyE,yEAAyE,uEAAuE,KAAK,2EAA2E,KAAK,YAAY,C;;;;;;;ACAhud,mUAAmU,yBAAyB,4BAA4B,qDAAqD,KAAK,mCAAmC,kEAAkE,KAAK,6BAA6B,kDAAkD,KAAK,kCAAkC,kDAAkD,KAAK,6BAA6B,qHAAqH,oDAAoD,KAAK,uCAAuC,mDAAmD,sEAAsE,KAAK,6CAA6C,qGAAqG,MAAM,wCAAwC,yBAAyB,2FAA2F,+BAA+B,2BAA2B,kCAAkC,+MAA+M,sBAAsB,SAAS,OAAO,mBAAmB,KAAK,6CAA6C,sCAAsC,8BAA8B,sCAAsC,KAAK,wCAAwC,qZAAqZ,+CAA+C,+BAA+B,wBAAwB,yCAAyC,wDAAwD,4GAA4G,uCAAuC,OAAO,OAAO,4CAA4C,kBAAkB,4BAA4B,iCAAiC,qBAAqB,8DAA8D,0CAA0C,sBAAsB,SAAS,OAAO,KAAK,4BAA4B,cAAc,8BAA8B,8BAA8B,wCAAwC,gCAAgC,+DAA+D,WAAW,SAAS,OAAO,qCAAqC,SAAS,OAAO,KAAK,mCAAmC,kCAAkC,KAAK,sCAAsC,0BAA0B,6CAA6C,kCAAkC,sBAAsB,SAAS,OAAO,sBAAsB,SAAS,QAAQ,4EAA4E,oBAAoB,OAAO,sDAAsD,uCAAuC,mDAAmD,OAAO,EAAE,KAAK,yCAAyC,yBAAyB,iDAAiD,8CAA8C,iCAAiC,+DAA+D,sDAAsD,aAAa,WAAW,EAAE,SAAS,4CAA4C,6BAA6B,SAAS,OAAO,6BAA6B,SAAS,QAAQ,KAAK,oEAAoE,4CAA4C,8BAA8B,+CAA+C,0BAA0B,+BAA+B,4BAA4B,mDAAmD,WAAW,OAAO,wCAAwC,iCAAiC,qCAAqC,aAAa,WAAW,kCAAkC,SAAS,EAAE,wBAAwB,OAAO,wDAAwD,KAAK,qCAAqC,mBAAmB,sFAAsF,sHAAsH,2CAA2C,yCAAyC,iGAAiG,2CAA2C,SAAS,qDAAqD,OAAO,8CAA8C,4BAA4B,6EAA6E,4CAA4C,qBAAqB,6BAA6B,qHAAqH,EAAE,WAAW,SAAS,EAAE,kCAAkC,8BAA8B,wBAAwB,EAAE,oBAAoB,0KAA0K,SAAS,OAAO,+BAA+B,iEAAiE,sEAAsE,SAAS,OAAO,+BAA+B,gCAAgC,6BAA6B,sEAAsE,SAAS,qDAAqD,wCAAwC,iCAAiC,2CAA2C,+BAA+B,gCAAgC,aAAa,WAAW,OAAO,6BAA6B,WAAW,SAAS,EAAE,4BAA4B,yBAAyB,0EAA0E,SAAS,2BAA2B,gCAAgC,SAAS,OAAO,gDAAgD,0CAA0C,uKAAuK,uBAAuB,SAAS,0BAA0B,8CAA8C,qCAAqC,yBAAyB,WAAW,sCAAsC,QAAQ,OAAO,yCAAyC,2BAA2B,aAAa,WAAW,SAAS,sBAAsB,OAAO,kCAAkC,8BAA8B,OAAO,0CAA0C,wDAAwD,sCAAsC,qHAAqH,eAAe,EAAE,oEAAoE,wBAAwB,yDAAyD,OAAO,gDAAgD,0DAA0D,OAAO,wDAAwD,yBAAyB,OAAO,0DAA0D,8BAA8B,OAAO,0DAA0D,2BAA2B,OAAO,uBAAuB,wBAAwB,uIAAuI,qCAAqC,WAAW,UAAU,OAAO,uBAAuB,wBAAwB,yIAAyI,6EAA6E,aAAa,eAAe,wBAAwB,iJAAiJ,wEAAwE,WAAW,UAAU,OAAO,oDAAoD,2CAA2C,sDAAsD,wBAAwB,cAAc,oCAAoC,YAAY,SAAS,4BAA4B,oJAAoJ,OAAO,uCAAuC,uBAAuB,2IAA2I,OAAO,8CAA8C,yBAAyB,oLAAoL,+BAA+B,6CAA6C,sDAAsD,mCAAmC,EAAE,kBAAkB,eAAe,aAAa,qBAAqB,OAAO,mDAAmD,yBAAyB,gHAAgH,OAAO,yCAAyC,0EAA0E,gRAAgR,kOAAkO,uDAAuD,gDAAgD,2BAA2B,iHAAiH,gDAAgD,sEAAsE,qEAAqE,6CAA6C,gCAAgC,eAAe,EAAE,aAAa,EAAE,WAAW,uDAAuD,8CAA8C,4CAA4C,2CAA2C,0DAA0D,aAAa,+CAA+C,gFAAgF,wBAAwB,4DAA4D,eAAe,sCAAsC,aAAa,6EAA6E,WAAW,mCAAmC,6BAA6B,iQAAiQ,8DAA8D,6FAA6F,aAAa,8CAA8C,mCAAmC,+BAA+B,aAAa,8BAA8B,6BAA6B,2DAA2D,iDAAiD,kDAAkD,iBAAiB,OAAO,oDAAoD,iBAAiB,eAAe,qDAAqD,4CAA4C,uCAAuC,aAAa,OAAO,6BAA6B,4FAA4F,eAAe,OAAO,sEAAsE,eAAe,aAAa,WAAW,mCAAmC,oDAAoD,WAAW,wBAAwB,yCAAyC,mBAAmB,WAAW,oJAAoJ,4KAA4K,4BAA4B,0CAA0C,iBAAiB,+BAA+B,eAAe,cAAc,qBAAqB,WAAW,mOAAmO,4KAA4K,4BAA4B,0CAA0C,iBAAiB,+BAA+B,eAAe,cAAc,qBAAqB,WAAW,yBAAyB,SAAS,OAAO,EAAE,KAAK,gCAAgC,2JAA2J,EAAE,kCAAkC,yGAAyG,EAAE,uCAAuC,oCAAoC,4FAA4F,EAAE,oGAAoG,KAAK,qEAAqE,6DAA6D,uCAAuC,mCAAmC,sDAAsD,2BAA2B,uBAAuB,OAAO,KAAK,EAAE,yCAAyC,mCAAmC,8DAA8D,2BAA2B,uBAAuB,OAAO,KAAK,EAAE,mCAAmC,sCAAsC,sJAAsJ,EAAE,kCAAkC,iMAAiM,EAAE,GAAG,EAAE,G;;;;;;;ACAx3gB,+NAA+N,mBAAmB,uBAAuB,uCAAuC,4BAA4B,uBAAuB,gBAAgB,OAAO,oDAAoD,sBAAsB,mEAAmE,SAAS,4BAA4B,OAAO,mCAAmC,KAAK,qDAAqD,mCAAmC,qFAAqF,OAAO,yCAAyC,0EAA0E,OAAO,uCAAuC,iFAAiF,OAAO,0CAA0C,wDAAwD,OAAO,EAAE,KAAK,4BAA4B,2BAA2B,KAAK,4BAA4B,2BAA2B,yCAAyC,wBAAwB,uBAAuB,QAAQ,qCAAqC,iBAAiB,SAAS,yCAAyC,OAAO,sBAAsB,KAAK,4BAA4B,mDAAmD,mBAAmB,gBAAgB,OAAO,yBAAyB,oBAAoB,uCAAuC,0BAA0B,2BAA2B,QAAQ,oDAAoD,uCAAuC,WAAW,2CAA2C,SAAS,gEAAgE,OAAO,gFAAgF,sDAAsD,+BAA+B,2CAA2C,SAAS,qBAAqB,gBAAgB,OAAO,wCAAwC,SAAS,kDAAkD,OAAO,KAAK,mkBAAmkB,qCAAqC,qCAAqC,sCAAsC,2CAA2C,SAAS,OAAO,gDAAgD,SAAS,OAAO,EAAE,uBAAuB,KAAK,6JAA6J,OAAO,mDAAmD,OAAO,qEAAqE,6DAA6D,qBAAqB,8DAA8D,0GAA0G,oDAAoD,6BAA6B,iDAAiD,8BAA8B,wBAAwB,iBAAiB,SAAS,gEAAgE,sBAAsB,SAAS,6EAA6E,sBAAsB,iBAAiB,SAAS,+BAA+B,6BAA6B,SAAS,6DAA6D,yCAAyC,gBAAgB,yBAAyB,aAAa,4BAA4B,WAAW,SAAS,oGAAoG,wBAAwB,8BAA8B,0BAA0B,WAAW,SAAS,OAAO,yFAAyF,oCAAoC,oBAAoB,KAAK,wJAAwJ,OAAO,sDAAsD,OAAO,oEAAoE,wCAAwC,wBAAwB,0KAA0K,qBAAqB,SAAS,2BAA2B,OAAO,ybAAyb,oBAAoB,KAAK,qFAAqF,oBAAoB,2BAA2B,kCAAkC,QAAQ,KAAK,cAAc,yHAAyH,GAAG,EAAE,isBAAisB,wCAAwC,iEAAiE,MAAM,uCAAuC,iEAAiE,MAAM,2DAA2D,4CAA4C,+BAA+B,OAAO,eAAe,0DAA0D,OAAO,EAAE,oBAAoB,MAAM,0DAA0D,4CAA4C,+BAA+B,OAAO,eAAe,wDAAwD,OAAO,EAAE,oBAAoB,MAAM,8DAA8D,2HAA2H,MAAM,4DAA4D,6EAA6E,MAAM,+CAA+C,kCAAkC,uFAAuF,EAAE,oBAAoB,MAAM,wDAAwD,yGAAyG,wDAAwD,OAAO,EAAE,MAAM,mDAAmD,kDAAkD,gCAAgC,OAAO,OAAO,yCAAyC,OAAO,MAAM,cAAc,wGAAwG,GAAG,EAAE,4kDAA4kD,6BAA6B,oGAAoG,gFAAgF,2DAA2D,0DAA0D,gPAAgP,OAAO,6FAA6F,mCAAmC,uDAAuD,cAAc,EAAE,qFAAqF,4BAA4B,2CAA2C,mOAAmO,yGAAyG,6JAA6J,sBAAsB,QAAQ,oDAAoD,eAAe,EAAE,iCAAiC,uCAAuC,WAAW,6CAA6C,mDAAmD,WAAW,SAAS,OAAO,iNAAiN,OAAO,+FAA+F,iEAAiE,iGAAiG,uIAAuI,qCAAqC,kCAAkC,yHAAyH,mHAAmH,SAAS,gGAAgG,gFAAgF,SAAS,OAAO,kNAAkN,4CAA4C,mDAAmD,WAAW,SAAS,0BAA0B,OAAO,4UAA4U,sDAAsD,iGAAiG,4BAA4B,8CAA8C,8BAA8B,kEAAkE,+OAA+O,kDAAkD,WAAW,SAAS,iUAAiU,oEAAoE,yCAAyC,6BAA6B,4BAA4B,WAAW,4DAA4D,mBAAmB,WAAW,6DAA6D,6GAA6G,oCAAoC,WAAW,wBAAwB,mBAAmB,WAAW,8IAA8I,yDAAyD,yDAAyD,oCAAoC,yCAAyC,sCAAsC,2CAA2C,iCAAiC,WAAW,+BAA+B,4BAA4B,WAAW,SAAS,yNAAyN,2CAA2C,uBAAuB,4LAA4L,WAAW,OAAO,4BAA4B,wIAAwI,4BAA4B,4EAA4E,iDAAiD,eAAe,8CAA8C,uEAAuE,eAAe,aAAa,WAAW,SAAS,sFAAsF,yIAAyI,oBAAoB,4BAA4B,cAAc,kBAAkB,qBAAqB,0BAA0B,mJAAmJ,+GAA+G,SAAS,0JAA0J,8BAA8B,SAAS,EAAE,8BAA8B,mDAAmD,OAAO,iGAAiG,0BAA0B,4BAA4B,sQAAsQ,6CAA6C,6CAA6C,WAAW,0BAA0B,6CAA6C,WAAW,SAAS,uCAAuC,OAAO,qGAAqG,OAAO,8EAA8E,2DAA2D,uVAAuV,mBAAmB,2BAA2B,OAAO,oCAAoC,+JAA+J,qCAAqC,WAAW,wCAAwC,+CAA+C,8BAA8B,WAAW,SAAS,sBAAsB,OAAO,qGAAqG,aAAa,qDAAqD,OAAO,kHAAkH,uBAAuB,6BAA6B,uEAAuE,0DAA0D,sDAAsD,mEAAmE,iDAAiD,eAAe,aAAa,WAAW,qCAAqC,2BAA2B,+BAA+B,OAAO,sDAAsD,qEAAqE,aAAa,WAAW,SAAS,uBAAuB,OAAO,0KAA0K,eAAe,uDAAuD,OAAO,mHAAmH,kGAAkG,OAAO,yCAAyC,6FAA6F,OAAO,wCAAwC,gBAAgB,iCAAiC,yBAAyB,qCAAqC,SAAS,sBAAsB,OAAO,wDAAwD,8FAA8F,OAAO,gDAAgD,kBAAkB,uCAAuC,qBAAqB,SAAS,sCAAsC,+CAA+C,gCAAgC,0BAA0B,2HAA2H,wDAAwD,yCAAyC,6EAA6E,sDAAsD,WAAW,EAAE,oCAAoC,kEAAkE,oCAAoC,WAAW,OAAO,wCAAwC,WAAW,kEAAkE,SAAS,OAAO,qDAAqD,SAAS,OAAO,oNAAoN,eAAe,6CAA6C,SAAS,uDAAuD,QAAQ,+FAA+F,6DAA6D,wCAAwC,gDAAgD,wBAAwB,uBAAuB,kBAAkB,OAAO,8BAA8B,qEAAqE,oEAAoE,4CAA4C,yEAAyE,2CAA2C,qCAAqC,gCAAgC,eAAe,aAAa,WAAW,4BAA4B,SAAS,kEAAkE,sFAAsF,SAAS,OAAO,sKAAsK,MAAM,yEAAyE,QAAQ,uGAAuG,4CAA4C,0IAA0I,OAAO,4CAA4C,wFAAwF,OAAO,6DAA6D,qFAAqF,OAAO,0CAA0C,4FAA4F,OAAO,0CAA0C,0CAA0C,6CAA6C,0GAA0G,+BAA+B,aAAa,WAAW,wGAAwG,wEAAwE,+RAA+R,qBAAqB,aAAa,+IAA+I,4DAA4D,+OAA+O,iCAAiC,oCAAoC,aAAa,EAAE,qBAAqB,aAAa,+BAA+B,6BAA6B,8MAA8M,6CAA6C,yDAAyD,aAAa,EAAE,WAAW,SAAS,EAAE,6FAA6F,sBAAsB,oIAAoI,oDAAoD,WAAW,OAAO,wCAAwC,0KAA0K,mCAAmC,aAAa,WAAW,8CAA8C,0QAA0Q,iCAAiC,WAAW,6BAA6B,8IAA8I,iCAAiC,WAAW,sHAAsH,4TAA4T,uDAAuD,aAAa,OAAO,iDAAiD,aAAa,WAAW,8KAA8K,mCAAmC,0GAA0G,aAAa,qBAAqB,WAAW,gCAAgC,+BAA+B,WAAW,OAAO,+BAA+B,WAAW,SAAS,uCAAuC,sDAAsD,UAAU,0CAA0C,sHAAsH,wDAAwD,qEAAqE,0GAA0G,0FAA0F,gDAAgD,6EAA6E,6BAA6B,mBAAmB,WAAW,sFAAsF,6BAA6B,mBAAmB,WAAW,sJAAsJ,+BAA+B,WAAW,0HAA0H,6BAA6B,iEAAiE,kCAAkC,aAAa,EAAE,gEAAgE,gEAAgE,WAAW,6HAA6H,+BAA+B,qFAAqF,WAAW,OAAO,uDAAuD,uFAAuF,aAAa,KAAK,WAAW,SAAS,EAAE,sDAAsD,qDAAqD,SAAS,EAAE,gDAAgD,uDAAuD,sFAAsF,SAAS,yCAAyC,+BAA+B,4CAA4C,+DAA+D,mBAAmB,WAAW,+DAA+D,6GAA6G,mBAAmB,WAAW,qEAAqE,+GAA+G,4BAA4B,iCAAiC,iKAAiK,wDAAwD,oDAAoD,iDAAiD,mBAAmB,iDAAiD,sDAAsD,oDAAoD,uCAAuC,mBAAmB,OAAO,uCAAuC,mBAAmB,iBAAiB,EAAE,eAAe,EAAE,aAAa,WAAW,SAAS,EAAE,qDAAqD,kDAAkD,+BAA+B,WAAW,SAAS,EAAE,OAAO,mCAAmC,iCAAiC,2CAA2C,yCAAyC,gCAAgC,kMAAkM,wCAAwC,yDAAyD,WAAW,mCAAmC,8EAA8E,4BAA4B,aAAa,WAAW,2CAA2C,0DAA0D,WAAW,qCAAqC,gDAAgD,WAAW,4EAA4E,iCAAiC,2BAA2B,oDAAoD,2BAA2B,yBAAyB,eAAe,qJAAqJ,iCAAiC,eAAe,oEAAoE,iCAAiC,eAAe,aAAa,WAAW,SAAS,EAAE,OAAO,EAAE,MAAM,GAAG,EAAE,6sBAA6sB,+JAA+J,qQAAqQ,KAAK,yHAAyH,0BAA0B,wCAAwC,IAAI,wDAAwD,IAAI,oDAAoD,IAAI,yDAAyD,IAAI,qUAAqU,gDAAgD,gDAAgD,iCAAiC,uBAAuB,uBAAuB,SAAS,OAAO,EAAE,qBAAqB,KAAK,mCAAmC,2EAA2E,KAAK,mCAAmC,qCAAqC,wDAAwD,oEAAoE,kIAAkI,sFAAsF,yEAAyE,oCAAoC,2EAA2E,SAAS,oHAAoH,kBAAkB,wGAAwG,2DAA2D,oCAAoC,yBAAyB,oCAAoC,gCAAgC,aAAa,6CAA6C,kBAAkB,qCAAqC,eAAe,4BAA4B,aAAa,yBAAyB,WAAW,kDAAkD,kCAAkC,4CAA4C,4DAA4D,6BAA6B,eAAe,aAAa,6CAA6C,kBAAkB,mDAAmD,+BAA+B,iBAAiB,eAAe,4BAA4B,aAAa,0BAA0B,WAAW,+CAA+C,mCAAmC,4BAA4B,qBAAqB,aAAa,6CAA6C,kBAAkB,yCAAyC,eAAe,4BAA4B,aAAa,WAAW,2EAA2E,8DAA8D,yEAAyE,sCAAsC,4EAA4E,kEAAkE,iBAAiB,eAAe,OAAO,iFAAiF,uCAAuC,eAAe,aAAa,yEAAyE,6DAA6D,sDAAsD,gCAAgC,0DAA0D,eAAe,oDAAoD,aAAa,OAAO,oDAAoD,aAAa,wCAAwC,8GAA8G,6DAA6D,aAAa,gCAAgC,gEAAgE,qDAAqD,sDAAsD,0FAA0F,sDAAsD,WAAW,wKAAwK,kEAAkE,iCAAiC,mCAAmC,iCAAiC,6EAA6E,qCAAqC,eAAe,aAAa,WAAW,2BAA2B,qBAAqB,OAAO,+BAA+B,wDAAwD,6FAA6F,qGAAqG,iDAAiD,yBAAyB,eAAe,kGAAkG,mGAAmG,8BAA8B,8BAA8B,mDAAmD,iBAAiB,0DAA0D,yBAAyB,eAAe,wHAAwH,oDAAoD,yBAAyB,eAAe,uCAAuC,aAAa,OAAO,iUAAiU,qCAAqC,aAAa,WAAW,SAAS,mDAAmD,+BAA+B,sDAAsD,sDAAsD,iFAAiF,sJAAsJ,8BAA8B,6DAA6D,iBAAiB,gOAAgO,0CAA0C,qDAAqD,iBAAiB,wBAAwB,2EAA2E,sBAAsB,8EAA8E,sBAAsB,2GAA2G,sBAAsB,mHAAmH,sBAAsB,iHAAiH,6CAA6C,iBAAiB,uBAAuB,+IAA+I,gCAAgC,yBAAyB,iBAAiB,wBAAwB,aAAa,sDAAsD,4BAA4B,qBAAqB,aAAa,6FAA6F,qBAAqB,aAAa,kIAAkI,yCAAyC,aAAa,WAAW,EAAE,gHAAgH,iDAAiD,0CAA0C,WAAW,mHAAmH,gDAAgD,0CAA0C,WAAW,0JAA0J,6BAA6B,gCAAgC,WAAW,wBAAwB,SAAS,gEAAgE,iBAAiB,SAAS,4FAA4F,+BAA+B,kqBAAkqB,iPAAiP,6EAA6E,mKAAmK,eAAe,0BAA0B,mEAAmE,+BAA+B,+RAA+R,WAAW,qEAAqE,yFAAyF,EAAE,4PAA4P,mFAAmF,8CAA8C,mDAAmD,aAAa,2CAA2C,yCAAyC,mDAAmD,aAAa,WAAW,EAAE,sFAAsF,UAAU,wJAAwJ,uCAAuC,2BAA2B,8BAA8B,yEAAyE,0HAA0H,8BAA8B,eAAe,aAAa,WAAW,EAAE,oJAAoJ,kDAAkD,2BAA2B,8BAA8B,+CAA+C,qFAAqF,8BAA8B,eAAe,yCAAyC,aAAa,WAAW,EAAE,yJAAyJ,iCAAiC,2BAA2B,gCAAgC,aAAa,WAAW,EAAE,yGAAyG,mDAAmD,2BAA2B,8BAA8B,uCAAuC,uCAAuC,8DAA8D,8BAA8B,yBAAyB,eAAe,4DAA4D,0CAA0C,2BAA2B,oCAAoC,iBAAiB,eAAe,qCAAqC,8BAA8B,eAAe,OAAO,8JAA8J,gCAAgC,2BAA2B,iBAAiB,6BAA6B,0EAA0E,EAAE,eAAe,aAAa,WAAW,EAAE,yFAAyF,2FAA2F,oDAAoD,WAAW,+EAA+E,kDAAkD,8BAA8B,SAAS,OAAO,EAAE,KAAK,+CAA+C,wBAAwB,GAAG,EAAE,yyBAAyyB,mBAAmB,+BAA+B,gDAAgD,wDAAwD,4CAA4C,SAAS,EAAE,OAAO,mDAAmD,mDAAmD,6BAA6B,SAAS,EAAE,OAAO,4WAA4W,0FAA0F,sBAAsB,SAAS,sGAAsG,mFAAmF,wCAAwC,SAAS,EAAE,wEAAwE,sFAAsF,kDAAkD,uIAAuI,+cAA+c,sBAAsB,OAAO,wfAAwf,OAAO,8DAA8D,OAAO,yEAAyE,mIAAmI,yBAAyB,SAAS,kIAAkI,mGAAmG,yBAAyB,SAAS,6BAA6B,oDAAoD,SAAS,+GAA+G,kEAAkE,oHAAoH,+EAA+E,8CAA8C,oCAAoC,aAAa,6BAA6B,yBAAyB,OAAO,sHAAsH,oDAAoD,mDAAmD,uDAAuD,eAAe,iDAAiD,2DAA2D,eAAe,aAAa,sEAAsE,+BAA+B,wEAAwE,aAAa,oCAAoC,WAAW,EAAE,SAAS,OAAO,4HAA4H,SAAS,0JAA0J,6DAA6D,SAAS,EAAE,yBAAyB,OAAO,uDAAuD,mEAAmE,wCAAwC,SAAS,EAAE,OAAO,8FAA8F,gDAAgD,OAAO,qBAAqB,iEAAiE,6DAA6D,OAAO,MAAM,GAAG,EAAE,+pBAA+pB,uBAAuB,mDAAmD,6DAA6D,iDAAiD,kFAAkF,OAAO,yCAAyC,gDAAgD,2CAA2C,+CAA+C,aAAa,EAAE,SAAS,OAAO,2CAA2C,+CAA+C,YAAY,EAAE,kDAAkD,2KAA2K,+CAA+C,mEAAmE,EAAE,oCAAoC,WAAW,SAAS,yBAAyB,OAAO,gCAAgC,wBAAwB,wDAAwD,0DAA0D,+BAA+B,SAAS,EAAE,OAAO,oKAAoK,8FAA8F,mHAAmH,SAAS,eAAe,OAAO,2DAA2D,uCAAuC,+CAA+C,4CAA4C,8CAA8C,OAAO,wCAAwC,kDAAkD,wDAAwD,SAAS,EAAE,OAAO,yCAAyC,mDAAmD,yDAAyD,SAAS,EAAE,OAAO,4EAA4E,4BAA4B,kDAAkD,SAAS,2BAA2B,+CAA+C,SAAS,OAAO,EAAE,kFAAkF,kFAAkF,6BAA6B,8BAA8B,SAAS,EAAE,OAAO,0GAA0G,uCAAuC,4CAA4C,sFAAsF,+BAA+B,WAAW,SAAS,EAAE,OAAO,2EAA2E,uCAAuC,yIAAyI,EAAE,yCAAyC,2KAA2K,EAAE,KAAK,EAAE,GAAG,EAAE,4CAA4C,GAAG,UAAU,C;;;;;;;ACA791D,+NAA+N,mBAAmB,uBAAuB,uCAAuC,4BAA4B,uBAAuB,gBAAgB,OAAO,oDAAoD,sBAAsB,mEAAmE,SAAS,4BAA4B,OAAO,mCAAmC,KAAK,qDAAqD,mCAAmC,qFAAqF,OAAO,yCAAyC,0EAA0E,OAAO,uCAAuC,iFAAiF,OAAO,0CAA0C,wDAAwD,OAAO,EAAE,KAAK,4BAA4B,2BAA2B,KAAK,4BAA4B,2BAA2B,yCAAyC,wBAAwB,uBAAuB,QAAQ,qCAAqC,iBAAiB,SAAS,yCAAyC,OAAO,sBAAsB,KAAK,4BAA4B,mDAAmD,mBAAmB,gBAAgB,OAAO,yBAAyB,oBAAoB,uCAAuC,0BAA0B,2BAA2B,QAAQ,oDAAoD,uCAAuC,WAAW,2CAA2C,SAAS,gEAAgE,OAAO,gFAAgF,sDAAsD,+BAA+B,2CAA2C,SAAS,qBAAqB,gBAAgB,OAAO,wCAAwC,SAAS,kDAAkD,OAAO,KAAK,gdAAgd,sCAAsC,iCAAiC,iBAAiB,kCAAkC,yCAAyC,wCAAwC,WAAW,OAAO,0CAA0C,WAAW,SAAS,QAAQ,MAAM,wCAAwC,4BAA4B,wDAAwD,QAAQ,MAAM,+BAA+B,kCAAkC,oCAAoC,yDAAyD,SAAS,OAAO,KAAK,cAAc,8MAA8M,oCAAoC,OAAO,wCAAwC,oCAAoC,OAAO,+BAA+B,GAAG,EAAE,6iBAA6iB,2CAA2C,yCAAyC,MAAM,gDAAgD,uCAAuC,oCAAoC,MAAM,qDAAqD,8DAA8D,oBAAoB,wCAAwC,eAAe,sCAAsC,+BAA+B,gBAAgB,SAAS,kBAAkB,OAAO,qBAAqB,MAAM,+CAA+C,8BAA8B,wBAAwB,iBAAiB,QAAQ,uBAAuB,wBAAwB,0BAA0B,SAAS,OAAO,oBAAoB,MAAM,gDAAgD,2CAA2C,uBAAuB,gBAAgB,OAAO,sBAAsB,qBAAqB,+HAA+H,EAAE,8CAA8C,OAAO,sBAAsB,MAAM,iDAAiD,uCAAuC,4CAA4C,8DAA8D,yCAAyC,8BAA8B,uBAAuB,MAAM,+DAA+D,oDAAoD,2BAA2B,8CAA8C,oDAAoD,OAAO,OAAO,kEAAkE,OAAO,MAAM,oDAAoD,6BAA6B,+CAA+C,oDAAoD,6CAA6C,oBAAoB,OAAO,oBAAoB,MAAM,oDAAoD,6BAA6B,mDAAmD,gDAAgD,iDAAiD,oBAAoB,OAAO,oBAAoB,MAAM,mDAAmD,8CAA8C,uDAAuD,qBAAqB,iDAAiD,wFAAwF,4BAA4B,4BAA4B,SAAS,OAAO,EAAE,gBAAgB,gDAAgD,MAAM,cAAc,4BAA4B,GAAG,EAAE,ysBAAysB,wFAAwF,oDAAoD,+FAA+F,wCAAwC,gGAAgG,OAAO,qCAAqC,yCAAyC,OAAO,iDAAiD,oBAAoB,oBAAoB,SAAS,8DAA8D,oCAAoC,SAAS,EAAE,6DAA6D,0EAA0E,SAAS,EAAE,OAAO,8BAA8B,uBAAuB,oBAAoB,sBAAsB,4DAA4D,0DAA0D,sDAAsD,wCAAwC,wBAAwB,oEAAoE,2CAA2C,2FAA2F,oCAAoC,sBAAsB,iBAAiB,eAAe,8FAA8F,kDAAkD,oFAAoF,kBAAkB,QAAQ,gCAAgC,gCAAgC,iBAAiB,8BAA8B,kBAAkB,QAAQ,kCAAkC,qMAAqM,iBAAiB,eAAe,uDAAuD,aAAa,EAAE,WAAW,EAAE,kCAAkC,SAAS,EAAE,OAAO,mCAAmC,+BAA+B,6BAA6B,EAAE,sBAAsB,OAAO,oCAAoC,gCAAgC,6BAA6B,EAAE,sBAAsB,OAAO,4CAA4C,wCAAwC,mCAAmC,sBAAsB,OAAO,gCAAgC,gBAAgB,wBAAwB,kBAAkB,wBAAwB,SAAS,OAAO,kCAAkC,wCAAwC,OAAO,qCAAqC,qBAAqB,yBAAyB,iBAAiB,OAAO,kCAAkC,SAAS,qBAAqB,OAAO,uCAAuC,gGAAgG,OAAO,oCAAoC,sBAAsB,0CAA0C,0CAA0C,yGAAyG,6BAA6B,2BAA2B,aAAa,WAAW,EAAE,SAAS,EAAE,sBAAsB,OAAO,sCAAsC,qBAAqB,oCAAoC,oCAAoC,uCAAuC,qBAAqB,aAAa,WAAW,EAAE,qBAAqB,yBAAyB,WAAW,SAAS,EAAE,sBAAsB,OAAO,gCAAgC,kCAAkC,oCAAoC,iBAAiB,SAAS,mCAAmC,+BAA+B,gCAAgC,4BAA4B,OAAO,kCAAkC,0CAA0C,+DAA+D,2LAA2L,SAAS,mEAAmE,sBAAsB,qCAAqC,wFAAwF,iDAAiD,uBAAuB,eAAe,8CAA8C,kCAAkC,4CAA4C,eAAe,oBAAoB,0CAA0C,eAAe,+BAA+B,aAAa,EAAE,0EAA0E,iEAAiE,kCAAkC,aAAa,2BAA2B,WAAW,SAAS,gBAAgB,wCAAwC,0BAA0B,yCAAyC,uCAAuC,2BAA2B,uCAAuC,SAAS,OAAO,+BAA+B,SAAS,sBAAsB,OAAO,4BAA4B,uCAAuC,2EAA2E,sCAAsC,2BAA2B,WAAW,SAAS,EAAE,2EAA2E,oCAAoC,kCAAkC,gCAAgC,4BAA4B,iBAAiB,SAAS,0GAA0G,uCAAuC,6BAA6B,WAAW,SAAS,EAAE,uFAAuF,sEAAsE,4HAA4H,oBAAoB,kFAAkF,qCAAqC,WAAW,SAAS,OAAO,iDAAiD,+BAA+B,yCAAyC,mBAAmB,WAAW,OAAO,qCAAqC,qBAAqB,kEAAkE,SAAS,QAAQ,yCAAyC,4CAA4C,iEAAiE,WAAW,OAAO,yDAAyD,iBAAiB,wBAAwB,eAAe,aAAa,6BAA6B,wEAAwE,WAAW,OAAO,qEAAqE,eAAe,aAAa,WAAW,SAAS,OAAO,0BAA0B,qCAAqC,uCAAuC,oCAAoC,yCAAyC,8BAA8B,oDAAoD,oDAAoD,iDAAiD,+CAA+C,+CAA+C,kEAAkE,iBAAiB,OAAO,yDAAyD,iBAAiB,2DAA2D,eAAe,aAAa,WAAW,EAAE,SAAS,EAAE,OAAO,6DAA6D,qBAAqB,yBAAyB,kBAAkB,OAAO,qCAAqC,+BAA+B,WAAW,SAAS,qBAAqB,OAAO,sCAAsC,kDAAkD,qCAAqC,SAAS,EAAE,OAAO,uCAAuC,sBAAsB,yBAAyB,kBAAkB,OAAO,iCAAiC,8CAA8C,2BAA2B,WAAW,SAAS,sBAAsB,OAAO,mEAAmE,sBAAsB,kCAAkC,mBAAmB,SAAS,kCAAkC,WAAW,OAAO,gFAAgF,iDAAiD,uDAAuD,iEAAiE,+DAA+D,aAAa,EAAE,sBAAsB,WAAW,SAAS,uBAAuB,OAAO,mEAAmE,sBAAsB,kCAAkC,mBAAmB,SAAS,kCAAkC,WAAW,OAAO,mFAAmF,iDAAiD,uDAAuD,iEAAiE,+DAA+D,aAAa,EAAE,sBAAsB,WAAW,SAAS,uBAAuB,OAAO,0CAA0C,iHAAiH,gEAAgE,6BAA6B,yBAAyB,yBAAyB,qCAAqC,qCAAqC,SAAS,OAAO,mCAAmC,mJAAmJ,yCAAyC,yCAAyC,gCAAgC,8BAA8B,YAAY,iBAAiB,4BAA4B,YAAY,eAAe,aAAa,EAAE,WAAW,EAAE,uGAAuG,gCAAgC,gCAAgC,4BAA4B,4BAA4B,WAAW,SAAS,6EAA6E,sCAAsC,sKAAsK,qDAAqD,sBAAsB,2EAA2E,yEAAyE,+FAA+F,0DAA0D,0DAA0D,mJAAmJ,wBAAwB,wBAAwB,WAAW,8HAA8H,wBAAwB,WAAW,sDAAsD,oDAAoD,mGAAmG,WAAW,OAAO,4BAA4B,WAAW,OAAO,4CAA4C,yBAAyB,eAAe,sCAAsC,uHAAuH,oGAAoG,+CAA+C,8CAA8C,iBAAiB,EAAE,qHAAqH,8DAA8D,4BAA4B,iDAAiD,iFAAiF,kDAAkD,qBAAqB,mBAAmB,EAAE,iBAAiB,mCAAmC,eAAe,aAAa,WAAW,mFAAmF,SAAS,OAAO,oCAAoC,4FAA4F,qEAAqE,oCAAoC,uCAAuC,8BAA8B,uCAAuC,4DAA4D,uBAAuB,6BAA6B,6BAA6B,eAAe,aAAa,WAAW,EAAE,yBAAyB,sCAAsC,WAAW,SAAS,EAAE,2IAA2I,iBAAiB,SAAS,oCAAoC,oBAAoB,kBAAkB,yGAAyG,qBAAqB,WAAW,qCAAqC,kDAAkD,mCAAmC,0BAA0B,oDAAoD,gCAAgC,yDAAyD,yBAAyB,eAAe,aAAa,OAAO,sGAAsG,kDAAkD,2DAA2D,kCAAkC,gEAAgE,2BAA2B,iBAAiB,eAAe,aAAa,mFAAmF,yDAAyD,0CAA0C,8BAA8B,WAAW,SAAS,uCAAuC,wBAAwB,4CAA4C,WAAW,OAAO,2DAA2D,WAAW,SAAS,OAAO,0CAA0C,mDAAmD,uBAAuB,SAAS,OAAO,4BAA4B,SAAS,OAAO,oCAAoC,2BAA2B,qEAAqE,uCAAuC,uCAAuC,uBAAuB,6BAA6B,6BAA6B,eAAe,aAAa,WAAW,EAAE,yBAAyB,sCAAsC,WAAW,SAAS,EAAE,uCAAuC,qCAAqC,6BAA6B,mBAAmB,WAAW,iCAAiC,iCAAiC,kDAAkD,kDAAkD,iCAAiC,4BAA4B,uDAAuD,4DAA4D,eAAe,OAAO,oEAAoE,4DAA4D,eAAe,aAAa,OAAO,4DAA4D,aAAa,8BAA8B,WAAW,SAAS,EAAE,OAAO,0CAA0C,8CAA8C,uBAAuB,SAAS,OAAO,4BAA4B,SAAS,OAAO,yCAAyC,6DAA6D,OAAO,oCAAoC,uBAAuB,oCAAoC,oCAAoC,6BAA6B,WAAW,EAAE,SAAS,EAAE,uBAAuB,OAAO,+BAA+B,sBAAsB,oCAAoC,oCAAoC,mBAAmB,WAAW,4EAA4E,mBAAmB,WAAW,SAAS,0EAA0E,uCAAuC,wEAAwE,wCAAwC,+CAA+C,wDAAwD,oCAAoC,2DAA2D,iBAAiB,OAAO,mCAAmC,iBAAiB,eAAe,EAAE,6BAA6B,aAAa,WAAW,EAAE,SAAS,EAAE,oBAAoB,OAAO,+BAA+B,iBAAiB,kCAAkC,4BAA4B,mFAAmF,sDAAsD,gCAAgC,uDAAuD,iCAAiC,+CAA+C,aAAa,WAAW,EAAE,+DAA+D,4CAA4C,wBAAwB,8BAA8B,qCAAqC,oDAAoD,mCAAmC,iCAAiC,eAAe,OAAO,yDAAyD,eAAe,gCAAgC,aAAa,WAAW,EAAE,SAAS,+FAA+F,wEAAwE,iBAAiB,SAAS,gFAAgF,wBAAwB,SAAS,EAAE,oBAAoB,OAAO,4BAA4B,qCAAqC,wEAAwE,iBAAiB,SAAS,2BAA2B,kBAAkB,sBAAsB,OAAO,6BAA6B,qCAAqC,uCAAuC,yCAAyC,SAAS,EAAE,sBAAsB,OAAO,0CAA0C,4CAA4C,iDAAiD,iBAAiB,SAAS,gFAAgF,oCAAoC,mDAAmD,oDAAoD,qCAAqC,SAAS,EAAE,wBAAwB,4BAA4B,SAAS,uCAAuC,oDAAoD,4BAA4B,uDAAuD,eAAe,OAAO,gCAAgC,gCAAgC,2CAA2C,2CAA2C,WAAW,4DAA4D,eAAe,OAAO,8EAA8E,WAAW,4DAA4D,eAAe,OAAO,qCAAqC,WAAW,sDAAsD,8DAA8D,WAAW,OAAO,4CAA4C,WAAW,SAAS,EAAE,gCAAgC,OAAO,iCAAiC,gBAAgB,uCAAuC,uCAAuC,qCAAqC,qBAAqB,YAAY,2BAA2B,aAAa,WAAW,EAAE,wBAAwB,SAAS,EAAE,qBAAqB,OAAO,qCAAqC,gCAAgC,OAAO,+BAA+B,uBAAuB,0BAA0B,uCAAuC,uCAAuC,iCAAiC,yCAAyC,gCAAgC,+BAA+B,yBAAyB,eAAe,+BAA+B,yBAAyB,eAAe,gCAAgC,2CAA2C,2CAA2C,gCAAgC,2CAA2C,uCAAuC,mBAAmB,iBAAiB,gCAAgC,2CAA2C,uCAAuC,mBAAmB,iBAAiB,eAAe,aAAa,WAAW,EAAE,SAAS,EAAE,kBAAkB,kBAAkB,OAAO,mCAAmC,2EAA2E,gCAAgC,mCAAmC,sFAAsF,kDAAkD,gDAAgD,gDAAgD,yEAAyE,sBAAsB,sIAAsI,WAAW,OAAO,mCAAmC,+BAA+B,iDAAiD,+CAA+C,8BAA8B,eAAe,aAAa,WAAW,sDAAsD,WAAW,OAAO,mCAAmC,+BAA+B,iDAAiD,+CAA+C,8BAA8B,eAAe,aAAa,WAAW,wDAAwD,WAAW,OAAO,4BAA4B,WAAW,OAAO,gCAAgC,gCAAgC,2CAA2C,2CAA2C,gCAAgC,2CAA2C,uCAAuC,mBAAmB,iBAAiB,gCAAgC,2CAA2C,uCAAuC,mBAAmB,iBAAiB,eAAe,aAAa,WAAW,kCAAkC,0DAA0D,WAAW,OAAO,4BAA4B,WAAW,OAAO,+BAA+B,wEAAwE,eAAe,aAAa,WAAW,SAAS,OAAO,6CAA6C,6BAA6B,gCAAgC,0CAA0C,cAAc,yBAAyB,2EAA2E,wBAAwB,kBAAkB,WAAW,sCAAsC,6CAA6C,0CAA0C,uCAAuC,aAAa,0BAA0B,WAAW,SAAS,6BAA6B,uBAAuB,OAAO,oCAAoC,uBAAuB,oFAAoF,qDAAqD,SAAS,OAAO,0EAA0E,oBAAoB,wFAAwF,2BAA2B,wCAAwC,8BAA8B,uDAAuD,OAAO,4BAA4B,wgBAAwgB,EAAE,MAAM,GAAG,EAAE,wnBAAwnB,yDAAyD,+BAA+B,8GAA8G,kCAAkC,8BAA8B,iDAAiD,8EAA8E,oEAAoE,0DAA0D,+BAA+B,sEAAsE,iCAAiC,0BAA0B,aAAa,wEAAwE,mDAAmD,mEAAmE,gGAAgG,yFAAyF,0CAA0C,2EAA2E,eAAe,aAAa,kFAAkF,WAAW,6EAA6E,qEAAqE,uDAAuD,yFAAyF,yDAAyD,aAAa,4BAA4B,sGAAsG,0CAA0C,aAAa,2DAA2D,WAAW,yDAAyD,qDAAqD,sEAAsE,kEAAkE,WAAW,0EAA0E,uEAAuE,8BAA8B,qEAAqE,aAAa,iCAAiC,wBAAwB,WAAW,+EAA+E,uDAAuD,iCAAiC,uDAAuD,0BAA0B,aAAa,oEAAoE,6BAA6B,mDAAmD,aAAa,4EAA4E,sDAAsD,+BAA+B,yBAAyB,WAAW,uDAAuD,0EAA0E,+LAA+L,WAAW,oDAAoD,qDAAqD,WAAW,2CAA2C,kDAAkD,WAAW,wCAAwC,kDAAkD,8DAA8D,uCAAuC,WAAW,0CAA0C,6BAA6B,2BAA2B,uCAAuC,oCAAoC,+DAA+D,aAAa,4BAA4B,WAAW,0DAA0D,6BAA6B,2DAA2D,oDAAoD,oBAAoB,oCAAoC,6BAA6B,eAAe,aAAa,EAAE,qBAAqB,WAAW,6DAA6D,kFAAkF,iEAAiE,yDAAyD,sEAAsE,iEAAiE,WAAW,qDAAqD,qDAAqD,mEAAmE,0EAA0E,wGAAwG,WAAW,6DAA6D,qGAAqG,WAAW,4DAA4D,4DAA4D,uDAAuD,mDAAmD,wEAAwE,eAAe,aAAa,KAAK,WAAW,SAAS,4CAA4C,0BAA0B,SAAS,EAAE,OAAO,2CAA2C,6HAA6H,qEAAqE,qCAAqC,uDAAuD,4CAA4C,gDAAgD,8NAA8N,SAAS,kSAAkS,2CAA2C,8HAA8H,4CAA4C,+DAA+D,kEAAkE,0CAA0C,sCAAsC,4CAA4C,wCAAwC,+CAA+C,qCAAqC,eAAe,aAAa,WAAW,SAAS,EAAE,OAAO,oPAAoP,8DAA8D,mBAAmB,kGAAkG,MAAM,+BAA+B,qCAAqC,8CAA8C,sBAAsB,eAAe,aAAa,iGAAiG,oBAAoB,aAAa,WAAW,mDAAmD,oDAAoD,uNAAuN,iDAAiD,aAAa,OAAO,sDAAsD,sBAAsB,EAAE,aAAa,WAAW,SAAS,EAAE,+CAA+C,sCAAsC,iQAAiQ,oCAAoC,WAAW,SAAS,EAAE,OAAO,qHAAqH,6DAA6D,2gBAA2gB,iEAAiE,wBAAwB,2CAA2C,WAAW,kOAAkO,gGAAgG,2DAA2D,SAAS,mCAAmC,8CAA8C,6CAA6C,8EAA8E,kEAAkE,mBAAmB,WAAW,+BAA+B,4BAA4B,WAAW,qGAAqG,iCAAiC,gCAAgC,WAAW,oIAAoI,6CAA6C,yCAAyC,WAAW,SAAS,2CAA2C,yBAAyB,SAAS,EAAE,8CAA8C,8BAA8B,2BAA2B,WAAW,SAAS,EAAE,OAAO,kGAAkG,yCAAyC,8CAA8C,0CAA0C,SAAS,oCAAoC,iCAAiC,+BAA+B,SAAS,4CAA4C,iGAAiG,4DAA4D,iFAAiF,wBAAwB,6DAA6D,0EAA0E,yEAAyE,eAAe,EAAE,sDAAsD,kKAAkK,yFAAyF,qCAAqC,kCAAkC,yCAAyC,iBAAiB,yBAAyB,eAAe,mCAAmC,wDAAwD,qEAAqE,uDAAuD,iBAAiB,OAAO,4DAA4D,0DAA0D,iBAAiB,eAAe,EAAE,aAAa,WAAW,SAAS,EAAE,OAAO,gTAAgT,iDAAiD,2FAA2F,UAAU,qEAAqE,8CAA8C,uEAAuE,uMAAuM,0DAA0D,WAAW,OAAO,wCAAwC,WAAW,8BAA8B,sGAAsG,4CAA4C,WAAW,UAAU,8CAA8C,kGAAkG,UAAU,mDAAmD,uEAAuE,UAAU,2CAA2C,6CAA6C,UAAU,6CAA6C,mDAAmD,8FAA8F,UAAU,sDAAsD,mDAAmD,uCAAuC,4EAA4E,UAAU,4CAA4C,wEAAwE,UAAU,sCAAsC,mCAAmC,UAAU,4CAA4C,qCAAqC,mBAAmB,WAAW,yFAAyF,+CAA+C,mBAAmB,WAAW,4HAA4H,kDAAkD,sOAAsO,6CAA6C,+CAA+C,sKAAsK,iBAAiB,eAAe,EAAE,mCAAmC,aAAa,6CAA6C,+MAA+M,aAAa,WAAW,iNAAiN,kMAAkM,iKAAiK,+BAA+B,WAAW,SAAS,EAAE,OAAO,wBAAwB,8BAA8B,yBAAyB,8BAA8B,gCAAgC,OAAO,wBAAwB,iCAAiC,2BAA2B,OAAO,yBAAyB,iCAAiC,2BAA2B,OAAO,MAAM,GAAG,EAAE,ktBAAktB,8CAA8C,+HAA+H,+BAA+B,+FAA+F,0CAA0C,kGAAkG,mCAAmC,SAAS,OAAO,wCAAwC,wEAAwE,+BAA+B,QAAQ,6CAA6C,8BAA8B,uBAAuB,SAAS,wDAAwD,OAAO,0CAA0C,gDAAgD,qCAAqC,iBAAiB,SAAS,8GAA8G,iBAAiB,SAAS,uCAAuC,wCAAwC,uDAAuD,0DAA0D,6DAA6D,WAAW,0IAA0I,mBAAmB,WAAW,kCAAkC,yDAAyD,+BAA+B,+BAA+B,uEAAuE,+DAA+D,aAAa,gDAAgD,oCAAoC,qFAAqF,mBAAmB,wCAAwC,sCAAsC,eAAe,OAAO,4BAA4B,eAAe,aAAa,aAAa,yDAAyD,WAAW,SAAS,OAAO,kDAAkD,+BAA+B,uCAAuC,SAAS,OAAO,QAAQ,6EAA6E,sDAAsD,kBAAkB,yDAAyD,yDAAyD,SAAS,OAAO,EAAE,qDAAqD,wCAAwC,uEAAuE,gBAAgB,OAAO,EAAE,yCAAyC,+EAA+E,0CAA0C,kDAAkD,gBAAgB,wGAAwG,0BAA0B,sCAAsC,eAAe,OAAO,wDAAwD,eAAe,uBAAuB,aAAa,mEAAmE,0BAA0B,yCAAyC,eAAe,OAAO,uCAAuC,eAAe,uBAAuB,aAAa,WAAW,0DAA0D,SAAS,gEAAgE,0BAA0B,yDAAyD,WAAW,oLAAoL,yCAAyC,kCAAkC,oCAAoC,qCAAqC,kCAAkC,gCAAgC,oFAAoF,kBAAkB,mEAAmE,gEAAgE,wBAAwB,iBAAiB,kCAAkC,eAAe,aAAa,gCAAgC,iCAAiC,8BAA8B,WAAW,iCAAiC,yBAAyB,SAAS,OAAO,EAAE,wDAAwD,sCAAsC,uBAAuB,yBAAyB,OAAO,EAAE,kEAAkE,6CAA6C,OAAO,EAAE,4CAA4C,wBAAwB,OAAO,EAAE,+CAA+C,yBAAyB,OAAO,EAAE,gBAAgB,4BAA4B,MAAM,GAAG,EAAE,ggBAAggB,0BAA0B,+BAA+B,sBAAsB,0CAA0C,wEAAwE,oCAAoC,6BAA6B,4BAA4B,2FAA2F,iDAAiD,eAAe,yCAAyC,YAAY,SAAS,OAAO,uCAAuC,gBAAgB,wEAAwE,kCAAkC,sFAAsF,aAAa,WAAW,gCAAgC,mGAAmG,gBAAgB,qFAAqF,wFAAwF,0BAA0B,sCAAsC,wCAAwC,qLAAqL,oBAAoB,6LAA6L,4BAA4B,qBAAqB,OAAO,uCAAuC,qDAAqD,OAAO,sCAAsC,oCAAoC,yBAAyB,SAAS,sBAAsB,OAAO,oCAAoC,6DAA6D,oDAAoD,OAAO,SAAS,EAAE,OAAO,qCAAqC,6DAA6D,qDAAqD,OAAO,SAAS,EAAE,OAAO,sEAAsE,8CAA8C,gCAAgC,+CAA+C,4BAA4B,+BAA+B,8BAA8B,qDAAqD,aAAa,OAAO,0CAA0C,mCAAmC,uCAAuC,eAAe,aAAa,oCAAoC,WAAW,EAAE,0BAA0B,SAAS,0DAA0D,OAAO,qDAAqD,gCAAgC,6CAA6C,4BAA4B,wFAAwF,gGAAgG,SAAS,OAAO,mDAAmD,2DAA2D,SAAS,gGAAgG,OAAO,qDAAqD,8DAA8D,sCAAsC,mDAAmD,SAAS,0CAA0C,2DAA2D,SAAS,+CAA+C,OAAO,gDAAgD,8DAA8D,wCAAwC,wCAAwC,SAAS,EAAE,mGAAmG,OAAO,sCAAsC,yBAAyB,QAAQ,wCAAwC,oFAAoF,kCAAkC,wCAAwC,wIAAwI,mEAAmE,6CAA6C,aAAa,OAAO,iCAAiC,+BAA+B,yBAAyB,OAAO,0DAA0D,iBAAiB,eAAe,aAAa,WAAW,2BAA2B,mCAAmC,mDAAmD,4CAA4C,mCAAmC,WAAW,oDAAoD,4BAA4B,0FAA0F,aAAa,+CAA+C,iFAAiF,EAAE,uDAAuD,iCAAiC,kCAAkC,mCAAmC,EAAE,kCAAkC,+DAA+D,EAAE,wDAAwD,wCAAwC,iLAAiL,EAAE,sCAAsC,+BAA+B,8BAA8B,OAAO,yEAAyE,8FAA8F,iBAAiB,eAAe,aAAa,OAAO,+CAA+C,8IAA8I,EAAE,aAAa,4FAA4F,2EAA2E,aAAa,OAAO,yEAAyE,aAAa,2EAA2E,kGAAkG,gDAAgD,qCAAqC,aAAa,gDAAgD,iDAAiD,wFAAwF,qEAAqE,aAAa,mCAAmC,6BAA6B,6DAA6D,YAAY,aAAa,6BAA6B,+BAA+B,WAAW,EAAE,SAAS,mDAAmD,yEAAyE,2DAA2D,6BAA6B,iBAAiB,OAAO,6DAA6D,6DAA6D,+CAA+C,eAAe,oDAAoD,4BAA4B,eAAe,aAAa,qCAAqC,aAAa,oEAAoE,mCAAmC,SAAS,iCAAiC,yEAAyE,2BAA2B,oBAAoB,g4BAAg4B,mEAAmE,yEAAyE,kCAAkC,eAAe,aAAa,EAAE,WAAW,SAAS,OAAO,sBAAsB,6BAA6B,sBAAsB,6BAA6B,SAAS,iDAAiD,gCAAgC,yFAAyF,WAAW,6BAA6B,iMAAiM,iCAAiC,+CAA+C,wDAAwD,sCAAsC,EAAE,oBAAoB,iBAAiB,eAAe,yBAAyB,SAAS,8BAA8B,qKAAqK,qKAAqK,2EAA2E,iJAAiJ,8BAA8B,kBAAkB,gCAAgC,kBAAkB,2CAA2C,kBAAkB,2CAA2C,kBAAkB,gCAAgC,kBAAkB,oDAAoD,sFAAsF,8BAA8B,kBAAkB,gCAAgC,4BAA4B,gBAAgB,8JAA8J,wBAAwB,kBAAkB,4BAA4B,kBAAkB,gCAAgC,kBAAkB,8BAA8B,4BAA4B,iDAAiD,uDAAuD,kDAAkD,uCAAuC,kIAAkI,oHAAoH,qGAAqG,EAAE,SAAS,OAAO,qCAAqC,oJAAoJ,EAAE,SAAS,QAAQ,2CAA2C,mCAAmC,+DAA+D,mEAAmE,cAAc,mEAAmE,4CAA4C,qCAAqC,sDAAsD,qDAAqD,aAAa,EAAE,WAAW,SAAS,EAAE,QAAQ,gCAAgC,uEAAuE,gDAAgD,4CAA4C,4CAA4C,WAAW,SAAS,+CAA+C,4CAA4C,2CAA2C,WAAW,SAAS,uCAAuC,iCAAiC,mDAAmD,oDAAoD,2CAA2C,sDAAsD,sDAAsD,yDAAyD,oEAAoE,sEAAsE,iHAAiH,yDAAyD,eAAe,0EAA0E,sCAAsC,uCAAuC,eAAe,iEAAiE,+DAA+D,WAAW,eAAe,2EAA2E,iEAAiE,WAAW,eAAe,aAAa,EAAE,6BAA6B,WAAW,EAAE,SAAS,oIAAoI,6EAA6E,uCAAuC,8BAA8B,SAAS,wCAAwC,yBAAyB,oFAAoF,SAAS,iCAAiC,kBAAkB,mMAAmM,SAAS,OAAO,kBAAkB,gUAAgU,uDAAuD,iEAAiE,sEAAsE,gCAAgC,aAAa,WAAW,EAAE,iEAAiE,uEAAuE,iCAAiC,aAAa,WAAW,EAAE,mDAAmD,SAAS,sDAAsD,2BAA2B,sMAAsM,iCAAiC,+CAA+C,wDAAwD,mCAAmC,EAAE,oBAAoB,iBAAiB,eAAe,yBAAyB,SAAS,iCAAiC,qKAAqK,qKAAqK,2EAA2E,wCAAwC,8BAA8B,kBAAkB,gCAAgC,kBAAkB,qPAAqP,0BAA0B,sBAAsB,iCAAiC,oCAAoC,kBAAkB,kPAAkP,wBAAwB,sBAAsB,0BAA0B,sBAAsB,6BAA6B,sBAAsB,qCAAqC,sBAAsB,wCAAwC,oCAAoC,kBAAkB,oPAAoP,wBAAwB,sBAAsB,4BAA4B,sBAAsB,gCAAgC,sBAAsB,8BAA8B,oCAAoC,kBAAkB,qPAAqP,wBAAwB,sBAAsB,0BAA0B,sBAAsB,gCAAgC,sBAAsB,gCAAgC,oCAAoC,4BAA4B,iDAAiD,4DAA4D,qCAAqC,iIAAiI,mHAAmH,sGAAsG,EAAE,SAAS,OAAO,qCAAqC,iJAAiJ,EAAE,SAAS,QAAQ,+BAA+B,wGAAwG,gDAAgD,2CAA2C,4CAA4C,WAAW,SAAS,+CAA+C,2CAA2C,2CAA2C,WAAW,SAAS,sCAAsC,gDAAgD,mCAAmC,mDAAmD,oDAAoD,mCAAmC,2CAA2C,qDAAqD,qDAAqD,wDAAwD,qEAAqE,0EAA0E,0DAA0D,mDAAmD,4DAA4D,iCAAiC,iDAAiD,4CAA4C,0EAA0E,mBAAmB,OAAO,oDAAoD,mBAAmB,iBAAiB,gDAAgD,sDAAsD,2CAA2C,iBAAiB,eAAe,+EAA+E,qCAAqC,eAAe,iCAAiC,+DAA+D,UAAU,eAAe,aAAa,EAAE,6BAA6B,WAAW,EAAE,SAAS,gFAAgF,6EAA6E,6CAA6C,0CAA0C,8EAA8E,6BAA6B,2BAA2B,aAAa,WAAW,EAAE,SAAS,EAAE,2BAA2B,sBAAsB,oFAAoF,SAAS,gCAAgC,kBAAkB,iKAAiK,SAAS,OAAO,kBAAkB,uNAAuN,iEAAiE,iEAAiE,qEAAqE,gCAAgC,aAAa,WAAW,EAAE,kDAAkD,SAAS,qDAAqD,2BAA2B,qMAAqM,iCAAiC,+CAA+C,wDAAwD,mCAAmC,EAAE,oBAAoB,iBAAiB,eAAe,yBAAyB,SAAS,4BAA4B,sFAAsF,sCAAsC,gCAAgC,2LAA2L,+BAA+B,kBAAkB,6BAA6B,kBAAkB,+BAA+B,4BAA4B,cAAc,2LAA2L,wBAAwB,kBAAkB,4BAA4B,kBAAkB,gCAAgC,kBAAkB,8BAA8B,4BAA4B,cAAc,gCAAgC,+CAA+C,2DAA2D,qCAAqC,gIAAgI,kHAAkH,mGAAmG,EAAE,SAAS,OAAO,qCAAqC,8IAA8I,EAAE,SAAS,QAAQ,MAAM,GAAG,EAAE,6qBAA6qB,mBAAmB,+BAA+B,spBAAspB,yHAAyH,uEAAuE,uFAAuF,gBAAgB,sEAAsE,OAAO,6FAA6F,gBAAgB,yFAAyF,OAAO,0FAA0F,gBAAgB,uEAAuE,OAAO,4FAA4F,gBAAgB,0FAA0F,OAAO,0BAA0B,uCAAuC,6BAA6B,OAAO,6BAA6B,6BAA6B,OAAO,4BAA4B,iFAAiF,OAAO,4CAA4C,8EAA8E,OAAO,4CAA4C,8EAA8E,OAAO,6DAA6D,mGAAmG,OAAO,0DAA0D,uEAAuE,8CAA8C,qBAAqB,OAAO,qDAAqD,8DAA8D,kFAAkF,mDAAmD,OAAO,oDAAoD,8DAA8D,wCAAwC,OAAO,qDAAqD,kFAAkF,8CAA8C,OAAO,4NAA4N,gCAAgC,6GAA6G,4BAA4B,OAAO,6FAA6F,oGAAoG,SAAS,gFAAgF,+FAA+F,gCAAgC,OAAO,sDAAsD,wEAAwE,wCAAwC,iCAAiC,SAAS,EAAE,OAAO,sEAAsE,oBAAoB,+BAA+B,OAAO,2JAA2J,mBAAmB,oMAAoM,2BAA2B,4BAA4B,oCAAoC,sCAAsC,oCAAoC,0CAA0C,wCAAwC,YAAY,iCAAiC,qBAAqB,OAAO,oHAAoH,wDAAwD,yKAAyK,iNAAiN,SAAS,EAAE,OAAO,4HAA4H,0DAA0D,2KAA2K,kNAAkN,SAAS,EAAE,OAAO,kHAAkH,oDAAoD,6DAA6D,0GAA0G,wGAAwG,sBAAsB,uGAAuG,WAAW,EAAE,oBAAoB,6DAA6D,WAAW,EAAE,SAAS,oFAAoF,0CAA0C,2CAA2C,SAAS,8CAA8C,iDAAiD,SAAS,kCAAkC,4BAA4B,0CAA0C,kDAAkD,WAAW,EAAE,0BAA0B,SAAS,iCAAiC,sBAAsB,SAAS,0BAA0B,sBAAsB,0BAA0B,wBAAwB,4DAA4D,8BAA8B,kDAAkD,4BAA4B,kEAAkE,sBAAsB,aAAa,6BAA6B,wLAAwL,6BAA6B,kBAAkB,OAAO,6BAA6B,kBAAkB,OAAO,sCAAsC,mCAAmC,8CAA8C,oDAAoD,oDAAoD,eAAe,aAAa,uCAAuC,WAAW,EAAE,uBAAuB,yEAAyE,EAAE,SAAS,EAAE,kBAAkB,iBAAiB,oEAAoE,qGAAqG,OAAO,oCAAoC,mBAAmB,6BAA6B,SAAS,OAAO,oBAAoB,SAAS,mBAAmB,OAAO,mSAAmS,iCAAiC,0BAA0B,yBAAyB,oBAAoB,OAAO,qCAAqC,uCAAuC,WAAW,SAAS,6DAA6D,OAAO,wHAAwH,oDAAoD,oDAAoD,gDAAgD,+BAA+B,6BAA6B,2BAA2B,iBAAiB,OAAO,mDAAmD,sDAAsD,qCAAqC,eAAe,aAAa,6BAA6B,WAAW,uCAAuC,wCAAwC,WAAW,oCAAoC,qBAAqB,6BAA6B,iBAAiB,OAAO,6CAA6C,yBAAyB,4BAA4B,eAAe,aAAa,0BAA0B,WAAW,2DAA2D,SAAS,EAAE,OAAO,mHAAmH,oDAAoD,oDAAoD,gDAAgD,+BAA+B,6BAA6B,2BAA2B,iBAAiB,OAAO,mDAAmD,sDAAsD,qCAAqC,eAAe,aAAa,2BAA2B,WAAW,uCAAuC,wCAAwC,WAAW,oCAAoC,2CAA2C,WAAW,2DAA2D,SAAS,EAAE,OAAO,0MAA0M,kDAAkD,mDAAmD,2CAA2C,8CAA8C,uDAAuD,iGAAiG,kGAAkG,mEAAmE,kEAAkE,OAAO,0KAA0K,0DAA0D,sBAAsB,SAAS,0CAA0C,wBAAwB,qBAAqB,2DAA2D,SAAS,OAAO,uEAAuE,yBAAyB,8BAA8B,OAAO,uCAAuC,yBAAyB,wFAAwF,aAAa,WAAW,SAAS,2CAA2C,qBAAqB,kBAAkB,wDAAwD,SAAS,OAAO,iDAAiD,yBAAyB,iBAAiB,OAAO,0BAA0B,sBAAsB,2EAA2E,aAAa,WAAW,SAAS,kDAAkD,uEAAuE,wGAAwG,OAAO,sDAAsD,gEAAgE,0BAA0B,+DAA+D,SAAS,0BAA0B,oEAAoE,SAAS,0BAA0B,OAAO,8DAA8D,6DAA6D,sDAAsD,yIAAyI,ySAAyS,+DAA+D,SAAS,kGAAkG,OAAO,wIAAwI,gDAAgD,uDAAuD,2DAA2D,SAAS,EAAE,0BAA0B,yBAAyB,iBAAiB,OAAO,yHAAyH,0KAA0K,0HAA0H,6BAA6B,SAAS,wBAAwB,OAAO,+FAA+F,iEAAiE,wDAAwD,oDAAoD,2BAA2B,SAAS,kIAAkI,OAAO,kHAAkH,6CAA6C,uDAAuD,yDAAyD,SAAS,EAAE,2BAA2B,yBAAyB,iBAAiB,OAAO,yHAAyH,6FAA6F,6DAA6D,+BAA+B,SAAS,yBAAyB,OAAO,yNAAyN,sCAAsC,yCAAyC,8CAA8C,qBAAqB,WAAW,EAAE,SAAS,kCAAkC,qBAAqB,kCAAkC,2JAA2J,WAAW,OAAO,0DAA0D,2CAA2C,WAAW,wBAAwB,SAAS,gDAAgD,mEAAmE,+DAA+D,qBAAqB,4BAA4B,6DAA6D,wFAAwF,WAAW,OAAO,8DAA8D,gDAAgD,0FAA0F,WAAW,0BAA0B,SAAS,6CAA6C,iEAAiE,qBAAqB,4BAA4B,+CAA+C,WAAW,OAAO,2DAA2D,+DAA+D,WAAW,0BAA0B,WAAW,qBAAqB,mCAAmC,oCAAoC,SAAS,+BAA+B,+CAA+C,SAAS,yBAAyB,uDAAuD,SAAS,oDAAoD,uEAAuE,SAAS,wCAAwC,+DAA+D,SAAS,OAAO,sBAAsB,SAAS,wBAAwB,OAAO,8CAA8C,kBAAkB,2BAA2B,SAAS,OAAO,2BAA2B,SAAS,iBAAiB,OAAO,iIAAiI,+CAA+C,mDAAmD,iFAAiF,kBAAkB,wGAAwG,SAAS,EAAE,OAAO,yIAAyI,+CAA+C,mDAAmD,mFAAmF,kBAAkB,0GAA0G,SAAS,EAAE,OAAO,2FAA2F,6CAA6C,oDAAoD,kBAAkB,2EAA2E,SAAS,EAAE,OAAO,8CAA8C,mDAAmD,OAAO,yCAAyC,8CAA8C,OAAO,yHAAyH,kDAAkD,mDAAmD,uDAAuD,+CAA+C,oFAAoF,8DAA8D,WAAW,EAAE,SAAS,8CAA8C,8KAA8K,SAAS,4CAA4C,qJAAqJ,SAAS,gFAAgF,uEAAuE,gFAAgF,uDAAuD,WAAW,SAAS,wHAAwH,oEAAoE,iFAAiF,6JAA6J,2BAA2B,yBAAyB,mBAAmB,OAAO,gDAAgD,SAAS,iEAAiE,0DAA0D,2GAA2G,kDAAkD,6CAA6C,uEAAuE,SAAS,EAAE,OAAO,wHAAwH,kDAAkD,mDAAmD,mDAAmD,kDAAkD,yBAAyB,oBAAoB,OAAO,yEAAyE,8CAA8C,SAAS,2EAA2E,uEAAuE,kDAAkD,mDAAmD,0EAA0E,8DAA8D,WAAW,EAAE,qDAAqD,4EAA4E,+DAA+D,WAAW,EAAE,wEAAwE,sDAAsD,SAAS,EAAE,OAAO,6CAA6C,2CAA2C,iBAAiB,SAAS,OAAO,OAAO,2CAA2C,gCAAgC,OAAO,sCAAsC,oDAAoD,mDAAmD,8BAA8B,mCAAmC,6BAA6B,4BAA4B,gCAAgC,+BAA+B,GAAG,sDAAsD,yBAAyB,OAAO,0DAA0D,wDAAwD,iBAAiB,SAAS,EAAE,6DAA6D,mCAAmC,2BAA2B,2BAA2B,WAAW,SAAS,EAAE,2DAA2D,qCAAqC,SAAS,EAAE,SAAS,yBAAyB,0CAA0C,yBAAyB,qEAAqE,2BAA2B,6BAA6B,iCAAiC,sHAAsH,uDAAuD,+FAA+F,4EAA4E,uCAAuC,gIAAgI,aAAa,WAAW,2BAA2B,oHAAoH,sDAAsD,+FAA+F,wCAAwC,uCAAuC,iIAAiI,aAAa,WAAW,kCAAkC,+BAA+B,SAAS,OAAO,kDAAkD,+EAA+E,wBAAwB,4DAA4D,sBAAsB,uDAAuD,kDAAkD,OAAO,gCAAgC,iEAAiE,OAAO,gCAAgC,iEAAiE,OAAO,wCAAwC,4DAA4D,+DAA+D,8BAA8B,mDAAmD,sEAAsE,OAAO,wCAAwC,4DAA4D,2CAA2C,8BAA8B,kDAAkD,oEAAoE,OAAO,oCAAoC,0BAA0B,2CAA2C,OAAO,oCAAoC,0BAA0B,2CAA2C,OAAO,sCAAsC,uDAAuD,+PAA+P,iBAAiB,SAAS,8BAA8B,6BAA6B,wDAAwD,gGAAgG,+BAA+B,SAAS,0BAA0B,6BAA6B,uDAAuD,8FAA8F,+BAA+B,SAAS,OAAO,sBAAsB,SAAS,OAAO,sCAAsC,sLAAsL,OAAO,EAAE,6KAA6K,6BAA6B,yCAAyC,gCAAgC,gDAAgD,kDAAkD,mEAAmE,iCAAiC,sEAAsE,EAAE,aAAa,EAAE,WAAW,EAAE,0DAA0D,8EAA8E,kEAAkE,WAAW,EAAE,SAAS,OAAO,EAAE,4CAA4C,wBAAwB,qEAAqE,gEAAgE,sCAAsC,sCAAsC,WAAW,SAAS,OAAO,EAAE,kPAAkP,4BAA4B,mHAAmH,kBAAkB,SAAS,OAAO,EAAE,wCAAwC,oBAAoB,oEAAoE,OAAO,EAAE,gBAAgB,ujBAAujB,MAAM,GAAG,EAAE,i2BAAi2B,0BAA0B,+BAA+B,gFAAgF,iMAAiM,wCAAwC,OAAO,+BAA+B,2BAA2B,sCAAsC,UAAU,OAAO,0CAA0C,iCAAiC,+CAA+C,qBAAqB,UAAU,OAAO,yBAAyB,uBAAuB,UAAU,OAAO,6DAA6D,sBAAsB,WAAW,4BAA4B,SAAS,qCAAqC,kDAAkD,qCAAqC,+CAA+C,qDAAqD,gEAAgE,mCAAmC,oCAAoC,EAAE,iEAAiE,sCAAsC,yCAAyC,EAAE,aAAa,EAAE,WAAW,EAAE,0FAA0F,EAAE,mFAAmF,EAAE,SAAS,EAAE,0BAA0B,OAAO,iEAAiE,sCAAsC,oDAAoD,iBAAiB,6FAA6F,yCAAyC,6BAA6B,sDAAsD,WAAW,qJAAqJ,gDAAgD,oEAAoE,aAAa,EAAE,2CAA2C,2BAA2B,aAAa,EAAE,gCAAgC,WAAW,OAAO,iEAAiE,WAAW,iCAAiC,wEAAwE,kCAAkC,WAAW,EAAE,SAAS,mCAAmC,8BAA8B,SAAS,OAAO,+CAA+C,SAAS,OAAO,+BAA+B,4EAA4E,OAAO,mCAAmC,4EAA4E,OAAO,wCAAwC,kFAAkF,OAAO,sCAAsC,sBAAsB,mGAAmG,yBAAyB,QAAQ,OAAO,yBAAyB,2BAA2B,QAAQ,OAAO,2LAA2L,WAAW,4BAA4B,SAAS,6BAA6B,qFAAqF,sBAAsB,OAAO,8CAA8C,qEAAqE,0CAA0C,qEAAqE,oEAAoE,oBAAoB,sBAAsB,SAAS,qBAAqB,QAAQ,OAAO,qBAAqB,QAAQ,OAAO,0DAA0D,0DAA0D,iEAAiE,2BAA2B,+BAA+B,aAAa,WAAW,SAAS,sCAAsC,OAAO,mDAAmD,2CAA2C,oHAAoH,EAAE,OAAO,OAAO,2CAA2C,wIAAwI,yBAAyB,sCAAsC,2CAA2C,8BAA8B,aAAa,WAAW,+BAA+B,mDAAmD,WAAW,+BAA+B,kFAAkF,2DAA2D,2DAA2D,WAAW,+BAA+B,kHAAkH,4CAA4C,eAAe,2CAA2C,4CAA4C,4DAA4D,sEAAsE,sEAAsE,uEAAuE,8BAA8B,mBAAmB,+DAA+D,gDAAgD,qCAAqC,mCAAmC,mBAAmB,iBAAiB,eAAe,uCAAuC,gCAAgC,8DAA8D,qCAAqC,sCAAsC,yCAAyC,4DAA4D,gEAAgE,mBAAmB,EAAE,uCAAuC,iBAAiB,eAAe,aAAa,oBAAoB,EAAE,OAAO,0CAA0C,qIAAqI,EAAE,2CAA2C,2HAA2H,EAAE,oCAAoC,oGAAoG,yFAAyF,YAAY,2FAA2F,YAAY,qFAAqF,gBAAgB,EAAE,mCAAmC,uEAAuE,iGAAiG,YAAY,+FAA+F,YAAY,oFAAoF,YAAY,uFAAuF,YAAY,UAAU,YAAY,8EAA8E,YAAY,gFAAgF,YAAY,+FAA+F,YAAY,6FAA6F,gBAAgB,EAAE,sCAAsC,0EAA0E,oGAAoG,YAAY,kGAAkG,YAAY,uFAAuF,gBAAgB,EAAE,2BAA2B,gGAAgG,0BAA0B,0BAA0B,UAAU,EAAE,SAAS,OAAO,iDAAiD,SAAS,OAAO,EAAE,qCAAqC,oFAAoF,EAAE,gFAAgF,wCAAwC,uBAAuB,yCAAyC,uCAAuC,iCAAiC,WAAW,SAAS,EAAE,OAAO,yCAAyC,sCAAsC,6EAA6E,wCAAwC,mCAAmC,WAAW,SAAS,EAAE,qCAAqC,OAAO,EAAE,yCAAyC,gMAAgM,mCAAmC,2BAA2B,wCAAwC,aAAa,WAAW,EAAE,OAAO,EAAE,+CAA+C,4CAA4C,uBAAuB,SAAS,+CAA+C,mBAAmB,8EAA8E,2FAA2F,sCAAsC,WAAW,OAAO,yBAAyB,WAAW,SAAS,oDAAoD,gCAAgC,SAAS,mDAAmD,4BAA4B,SAAS,oDAAoD,gCAAgC,SAAS,mDAAmD,4BAA4B,SAAS,8CAA8C,4BAA4B,SAAS,8CAA8C,4BAA4B,SAAS,2CAA2C,yCAAyC,SAAS,4CAA4C,0CAA0C,SAAS,mDAAmD,8CAA8C,SAAS,kDAAkD,wCAAwC,SAAS,+CAA+C,+BAA+B,SAAS,8CAA8C,gCAAgC,SAAS,2CAA2C,2BAA2B,mCAAmC,WAAW,6BAA6B,SAAS,OAAO,wBAAwB,4CAA4C,2CAA2C,uBAAuB,uBAAuB,6CAA6C,uCAAuC,WAAW,SAAS,EAAE,OAAO,EAAE,+CAA+C,yEAAyE,8BAA8B,SAAS,qFAAqF,wBAAwB,mDAAmD,oBAAoB,SAAS,EAAE,OAAO,EAAE,+BAA+B,wCAAwC,0GAA0G,EAAE,2CAA2C,iFAAiF,EAAE,8CAA8C,uFAAuF,EAAE,+CAA+C,oFAAoF,EAAE,+CAA+C,mFAAmF,EAAE,oDAAoD,+FAA+F,EAAE,mDAAmD,6FAA6F,EAAE,8CAA8C,kFAAkF,EAAE,6CAA6C,qFAAqF,EAAE,2CAA2C,4EAA4E,EAAE,4CAA4C,8EAA8E,EAAE,mDAAmD,6FAA6F,EAAE,kDAAkD,2FAA2F,EAAE,oDAAoD,kGAAkG,EAAE,mDAAmD,gGAAgG,EAAE,8CAA8C,qFAAqF,EAAE,SAAS,iCAAiC,kGAAkG,iCAAiC,OAAO,gCAAgC,yDAAyD,8DAA8D,iBAAiB,SAAS,8BAA8B,sMAAsM,SAAS,qFAAqF,OAAO,qCAAqC,6BAA6B,OAAO,yCAAyC,6BAA6B,OAAO,qBAAqB,oBAAoB,oGAAoG,0CAA0C,mCAAmC,iCAAiC,iFAAiF,4BAA4B,iCAAiC,6CAA6C,0CAA0C,wDAAwD,oEAAoE,mCAAmC,iCAAiC,kDAAkD,iBAAiB,eAAe,EAAE,aAAa,WAAW,SAAS,EAAE,OAAO,uCAAuC,+CAA+C,+CAA+C,KAAK,yCAAyC,GAAG,EAAE,GAAG,UAAU,C;;;;;;;ACAv2mI,uWAAuW,mBAAmB,cAAc,mLAAmL,YAAY,mLAAmL,wCAAwC,gBAAgB,0EAA0E,kBAAkB,0FAA0F,wBAAwB,SAAS,OAAO,EAAE,qBAAqB,KAAK,gCAAgC,mCAAmC,+wCAA+wC,6DAA6D,4DAA4D,mBAAmB,qBAAqB,UAAU,qBAAqB,2EAA2E,EAAE,OAAO,sBAAsB,KAAK,oCAAoC,0FAA0F,oCAAoC,iDAAiD,+CAA+C,0dAA0d,0DAA0D,OAAO,iCAAiC,mBAAmB,mFAAmF,EAAE,wHAAwH,+BAA+B,mBAAmB,gBAAgB,OAAO,uBAAuB,qBAAqB,gBAAgB,OAAO,iCAAiC,2BAA2B,gCAAgC,WAAW,OAAO,8BAA8B,8DAA8D,WAAW,SAAS,0BAA0B,OAAO,oDAAoD,4gBAA4gB,yBAAyB,qBAAqB,gBAAgB,OAAO,uDAAuD,SAAS,0BAA0B,OAAO,mCAAmC,oBAAoB,KAAK,2CAA2C,8CAA8C,uBAAuB,wCAAwC,aAAa,EAAE,6BAA6B,OAAO,EAAE,KAAK,qCAAqC,8CAA8C,uBAAuB,yCAAyC,YAAY,cAAc,6BAA6B,OAAO,EAAE,KAAK,gCAAgC,kDAAkD,0CAA0C,qCAAqC,+BAA+B,gCAAgC,uDAAuD,OAAO,+BAA+B,+BAA+B,gCAAgC,iDAAiD,OAAO,0CAA0C,qCAAqC,kDAAkD,OAAO,uEAAuE,+BAA+B,8EAA8E,mFAAmF,uCAAuC,8GAA8G,kCAAkC,WAAW,EAAE,uBAAuB,6BAA6B,OAAO,sCAAsC,sDAAsD,oBAAoB,aAAa,WAAW,2HAA2H,uBAAuB,oBAAoB,OAAO,uGAAuG,aAAa,WAAW,oCAAoC,6BAA6B,SAAS,+CAA+C,OAAO,wDAAwD,kBAAkB,0BAA0B,oFAAoF,SAAS,uDAAuD,kCAAkC,uCAAuC,uBAAuB,SAAS,OAAO,6BAA6B,SAAS,OAAO,2BAA2B,+BAA+B,OAAO,KAAK,gCAAgC,sBAAsB,0BAA0B,uDAAuD,OAAO,OAAO,2CAA2C,OAAO,KAAK,qCAAqC,8FAA8F,uJAAuJ,kCAAkC,EAAE,qCAAqC,sGAAsG,uJAAuJ,kCAAkC,EAAE,GAAG,EAAE,G;;;;;;;ACAxsQ,gCAAgC,kBAAkB,WAAW,wDAAwD,kKAAkK,yBAAyB,kCAAkC,uCAAuC,KAAK,mBAAmB,0BAA0B,OAAO,+EAA+E,oCAAoC,KAAK,qDAAqD,IAAI,qCAAqC,0BAA0B,mCAAmC,iCAAiC,kCAAkC,mCAAmC,mBAAmB,SAAS,+CAA+C,sDAAsD,sFAAsF,gCAAgC,IAAI,uDAAuD,wEAAwE,gFAAgF,qFAAqF,gBAAgB,+EAA+E,IAAI,6BAA6B,0BAA0B,6EAA6E,iEAAiE,2BAA2B,IAAI,wCAAwC,yBAAyB,mCAAmC,mBAAmB,SAAS,uCAAuC,mCAAmC,IAAI,mBAAmB,kBAAkB,aAAa,YAAY,mEAAmE,KAAK,IAAI,qBAAqB,oBAAoB,mBAAmB,iHAAiH,gCAAgC,YAAY,EAAE,EAAE,IAAI,isBAAisB,wEAAwE,sEAAsE,kEAAkE,kEAAkE,oDAAoD,wWAAwW,6KAA6K,0DAA0D,yCAAyC,qBAAqB,eAAe,OAAO,wDAAwD,qBAAqB,iDAAiD,2CAA2C,8CAA8C,oFAAoF,iCAAiC,aAAa,QAAQ,WAAW,sDAAsD,4FAA4F,mCAAmC,aAAa,EAAE,WAAW,UAAU,8BAA8B,6BAA6B,SAAS,OAAO,kCAAkC,oBAAoB,wBAAwB,oCAAoC,+BAA+B,WAAW,OAAO,+BAA+B,6BAA6B,gCAAgC,6CAA6C,aAAa,yCAAyC,2FAA2F,8CAA8C,kDAAkD,8BAA8B,eAAe,kDAAkD,+BAA+B,4CAA4C,2CAA2C,yCAAyC,sCAAsC,eAAe,OAAO,uDAAuD,eAAe,aAAa,WAAW,SAAS,OAAO,EAAE,gBAAgB,kFAAkF,MAAM,kGAAkG,OAAO,iDAAiD,MAAM,8EAA8E,oDAAoD,2CAA2C,oBAAoB,4DAA4D,sBAAsB,SAAS,QAAQ,gGAAgG,4GAA4G,iBAAiB,SAAS,6DAA6D,oDAAoD,SAAS,EAAE,kCAAkC,OAAO,mDAAmD,QAAQ,OAAO,qDAAqD,gBAAgB,SAAS,OAAO,8HAA8H,uDAAuD,OAAO,8BAA8B,gBAAgB,8KAA8K,OAAO,MAAM,cAAc,6EAA6E,GAAG,EAAE,iUAAiU,wBAAwB,aAAa,oCAAoC,cAAc,yEAAyE,gBAAgB,4BAA4B,cAAc,oCAAoC,gBAAgB,6GAA6G,eAAe,eAAe,eAAe,eAAe,MAAM,uDAAuD,mBAAmB,0BAA0B,gBAAgB,WAAW,OAAO,mCAAmC,wBAAwB,MAAM,sEAAsE,uEAAuE,2FAA2F,sDAAsD,sCAAsC,6BAA6B,OAAO,OAAO,qCAAqC,OAAO,mBAAmB,sBAAsB,kBAAkB,uBAAuB,4GAA4G,+DAA+D,sDAAsD,kEAAkE,WAAW,SAAS,EAAE,8DAA8D,0DAA0D,8CAA8C,mDAAmD,gCAAgC,UAAU,EAAE,eAAe,gDAAgD,4CAA4C,eAAe,OAAO,yCAAyC,eAAe,oDAAoD,gCAAgC,UAAU,EAAE,eAAe,aAAa,WAAW,EAAE,SAAS,yBAAyB,sBAAsB,OAAO,yCAAyC,uDAAuD,qCAAqC,aAAa,WAAW,SAAS,sCAAsC,wCAAwC,sBAAsB,SAAS,OAAO,0BAA0B,MAAM,iDAAiD,6DAA6D,gCAAgC,0BAA0B,qCAAqC,oCAAoC,SAAS,OAAO,OAAO,oCAAoC,oCAAoC,SAAS,OAAO,uHAAuH,qBAAqB,6BAA6B,OAAO,uCAAuC,mEAAmE,qBAAqB,iCAAiC,SAAS,OAAO,2BAA2B,MAAM,cAAc,gDAAgD,GAAG,EAAE,oEAAoE,gEAAgE,2gBAA2gB,4CAA4C,cAAc,4LAA4L,MAAM,qDAAqD,4DAA4D,4BAA4B,+BAA+B,SAAS,OAAO,EAAE,MAAM,+CAA+C,sCAAsC,MAAM,qEAAqE,iDAAiD,oBAAoB,wCAAwC,sBAAsB,kFAAkF,OAAO,EAAE,oBAAoB,2CAA2C,sBAAsB,kFAAkF,OAAO,EAAE,MAAM,6FAA6F,gCAAgC,2CAA2C,EAAE,sBAAsB,6BAA6B,iJAAiJ,EAAE,OAAO,yBAAyB,MAAM,qDAAqD,sDAAsD,8CAA8C,4CAA4C,QAAQ,6CAA6C,kCAAkC,6DAA6D,6CAA6C,oCAAoC,gGAAgG,2FAA2F,yFAAyF,SAAS,gCAAgC,8BAA8B,4BAA4B,QAAQ,uDAAuD,uHAAuH,+DAA+D,+BAA+B,iBAAiB,SAAS,+CAA+C,wCAAwC,iBAAiB,SAAS,qHAAqH,sCAAsC,gJAAgJ,uBAAuB,SAAS,sDAAsD,+CAA+C,4FAA4F,wCAAwC,0EAA0E,+MAA+M,qDAAqD,SAAS,+BAA+B,0EAA0E,SAAS,2MAA2M,wDAAwD,SAAS,yGAAyG,+DAA+D,uBAAuB,0EAA0E,oHAAoH,SAAS,OAAO,iIAAiI,uEAAuE,4BAA4B,mJAAmJ,2BAA2B,8EAA8E,wHAAwH,aAAa,OAAO,gIAAgI,aAAa,WAAW,OAAO,yBAAyB,WAAW,SAAS,mEAAmE,+BAA+B,SAAS,EAAE,8CAA8C,uCAAuC,uCAAuC,QAAQ,iDAAiD,4BAA4B,qCAAqC,mCAAmC,+EAA+E,aAAa,YAAY,iDAAiD,UAAU,QAAQ,2CAA2C,+BAA+B,qFAAqF,uEAAuE,4CAA4C,kDAAkD,WAAW,EAAE,SAAS,QAAQ,mDAAmD,kBAAkB,oCAAoC,qCAAqC,4BAA4B,iBAAiB,SAAS,4BAA4B,kCAAkC,gaAAga,2BAA2B,WAAW,SAAS,EAAE,sCAAsC,+CAA+C,0BAA0B,QAAQ,kDAAkD,4DAA4D,8BAA8B,iCAAiC,WAAW,SAAS,EAAE,QAAQ,uDAAuD,kEAAkE,wEAAwE,2CAA2C,QAAQ,OAAO,uCAAuC,QAAQ,OAAO,2DAA2D,sBAAsB,+FAA+F,aAAa,WAAW,SAAS,sBAAsB,QAAQ,uEAAuE,4FAA4F,iBAAiB,SAAS,qHAAqH,oBAAoB,mEAAmE,sBAAsB,qCAAqC,sCAAsC,WAAW,OAAO,qCAAqC,WAAW,SAAS,EAAE,OAAO,EAAE,mEAAmE,mDAAmD,mEAAmE,6CAA6C,qCAAqC,SAAS,OAAO,EAAE,wEAAwE,wDAAwD,wCAAwC,4DAA4D,8BAA8B,mCAAmC,WAAW,SAAS,EAAE,sCAAsC,OAAO,EAAE,4EAA4E,mEAAmE,2CAA2C,iDAAiD,SAAS,OAAO,EAAE,MAAM,cAAc,wDAAwD,GAAG,EAAE,uRAAuR,wCAAwC,0BAA0B,uCAAuC,qBAAqB,2BAA2B,SAAS,QAAQ,MAAM,8CAA8C,kEAAkE,uEAAuE,uEAAuE,qCAAqC,uBAAuB,OAAO,EAAE,MAAM,cAAc,4BAA4B,GAAG,EAAE,wYAAwY,8BAA8B,cAAc,8BAA8B,qBAAqB,SAAS,QAAQ,MAAM,6DAA6D,oDAAoD,qBAAqB,2CAA2C,OAAO,MAAM,6DAA6D,+CAA+C,oEAAoE,kEAAkE,4CAA4C,+BAA+B,SAAS,OAAO,EAAE,MAAM,kDAAkD,4CAA4C,2BAA2B,OAAO,EAAE,MAAM,mDAAmD,sDAAsD,qCAAqC,OAAO,KAAK,MAAM,yDAAyD,2BAA2B,gCAAgC,6DAA6D,kDAAkD,kDAAkD,gDAAgD,4CAA4C,yCAAyC,4CAA4C,uBAAuB,gCAAgC,SAAS,OAAO,sBAAsB,yBAAyB,8CAA8C,WAAW,OAAO,oCAAoC,iKAAiK,EAAE,uCAAuC,gDAAgD,8CAA8C,WAAW,iCAAiC,SAAS,sCAAsC,QAAQ,MAAM,yCAAyC,qCAAqC,MAAM,0CAA0C,uFAAuF,MAAM,6CAA6C,mEAAmE,wCAAwC,kBAAkB,wMAAwM,OAAO,EAAE,gBAAgB,4HAA4H,oIAAoI,iBAAiB,MAAM,cAAc,qEAAqE,GAAG,EAAE,iSAAiS,4CAA4C,8BAA8B,kCAAkC,kCAAkC,QAAQ,2BAA2B,iCAAiC,iBAAiB,SAAS,OAAO,kCAAkC,SAAS,QAAQ,MAAM,cAAc,0CAA0C,GAAG,EAAE,sTAAsT,kCAAkC,cAAc,uEAAuE,MAAM,uDAAuD,yFAAyF,6CAA6C,8DAA8D,4CAA4C,sCAAsC,6BAA6B,2DAA2D,8DAA8D,gGAAgG,gDAAgD,OAAO,8DAA8D,+DAA+D,gDAAgD,oCAAoC,MAAM,gDAAgD,iDAAiD,oEAAoE,MAAM,cAAc,uDAAuD,GAAG,EAAE,srBAAsrB,uCAAuC,0BAA0B,wDAAwD,QAAQ,MAAM,wCAAwC,cAAc,iJAAiJ,MAAM,iDAAiD,cAAc,+MAA+M,MAAM,mDAAmD,yEAAyE,6BAA6B,qFAAqF,OAAO,8CAA8C,0NAA0N,6EAA6E,6KAA6K,EAAE,wCAAwC,4BAA4B,2GAA2G,kEAAkE,2BAA2B,yFAAyF,WAAW,oCAAoC,6CAA6C,+FAA+F,aAAa,OAAO,yEAAyE,aAAa,WAAW,UAAU,OAAO,2EAA2E,mBAAmB,8HAA8H,oCAAoC,qCAAqC,EAAE,OAAO,sCAAsC,iDAAiD,mDAAmD,gCAAgC,mCAAmC,OAAO,6BAA6B,6DAA6D,OAAO,4FAA4F,uBAAuB,qBAAqB,OAAO,EAAE,uEAAuE,oDAAoD,gBAAgB,wGAAwG,MAAM,cAAc,0BAA0B,GAAG,EAAE,0EAA0E,mpBAAmpB,iDAAiD,oEAAoE,+CAA+C,iFAAiF,OAAO,sCAAsC,yEAAyE,sLAAsL,qCAAqC,kCAAkC,6FAA6F,qEAAqE,mEAAmE,WAAW,mIAAmI,SAAS,QAAQ,gCAAgC,oBAAoB,uBAAuB,uBAAuB,2DAA2D,SAAS,QAAQ,gCAAgC,oBAAoB,6HAA6H,qGAAqG,gEAAgE,SAAS,QAAQ,kCAAkC,oBAAoB,iCAAiC,mBAAmB,WAAW,mBAAmB,SAAS,iIAAiI,+YAA+Y,6EAA6E,4FAA4F,EAAE,uEAAuE,qBAAqB,6FAA6F,oBAAoB,YAAY,EAAE,SAAS,0CAA0C,yEAAyE,sCAAsC,eAAe,sDAAsD,8CAA8C,oCAAoC,sCAAsC,+BAA+B,QAAQ,yCAAyC,uCAAuC,qFAAqF,oEAAoE,SAAS,OAAO,mBAAmB,SAAS,OAAO,EAAE,qCAAqC,4FAA4F,oBAAoB,yBAAyB,uBAAuB,SAAS,OAAO,EAAE,sDAAsD,qFAAqF,OAAO,kBAAkB,MAAM,cAAc,0BAA0B,GAAG,EAAE,sEAAsE,+UAA+U,0CAA0C,mBAAmB,gDAAgD,uEAAuE,wBAAwB,gCAAgC,SAAS,OAAO,0BAA0B,SAAS,OAAO,EAAE,MAAM,cAAc,wBAAwB,GAAG,EAAE,mkBAAmkB,kDAAkD,qCAAqC,gFAAgF,mBAAmB,wCAAwC,wBAAwB,+DAA+D,SAAS,OAAO,6DAA6D,SAAS,+HAA+H,yDAAyD,SAAS,OAAO,qDAAqD,SAAS,gKAAgK,OAAO,2CAA2C,8BAA8B,kDAAkD,OAAO,kDAAkD,MAAM,oDAAoD,cAAc,mCAAmC,8CAA8C,SAAS,oCAAoC,+CAA+C,SAAS,sCAAsC,iDAAiD,SAAS,QAAQ,KAAK,EAAE,0BAA0B,MAAM,GAAG,EAAE,kCAAkC,GAAG,IAAI,G;;;;;;;ACA5nqC,wPAAwP,mBAAmB,uBAAuB,uCAAuC,4BAA4B,uBAAuB,gBAAgB,OAAO,oDAAoD,sBAAsB,mEAAmE,SAAS,4BAA4B,OAAO,mCAAmC,KAAK,qDAAqD,mCAAmC,qFAAqF,OAAO,yCAAyC,0EAA0E,OAAO,uCAAuC,iFAAiF,OAAO,0CAA0C,wDAAwD,OAAO,EAAE,KAAK,4BAA4B,2BAA2B,KAAK,4BAA4B,2BAA2B,yCAAyC,wBAAwB,uBAAuB,QAAQ,qCAAqC,iBAAiB,SAAS,yCAAyC,OAAO,sBAAsB,KAAK,4BAA4B,mDAAmD,mBAAmB,gBAAgB,OAAO,yBAAyB,oBAAoB,uCAAuC,0BAA0B,2BAA2B,QAAQ,oDAAoD,uCAAuC,WAAW,2CAA2C,SAAS,gEAAgE,OAAO,gFAAgF,sDAAsD,+BAA+B,2CAA2C,SAAS,qBAAqB,gBAAgB,OAAO,wCAAwC,SAAS,kDAAkD,OAAO,KAAK,6aAA6a,mBAAmB,6DAA6D,6JAA6J,KAAK,2DAA2D,KAAK,4EAA4E,OAAO,wGAAwG,uCAAuC,yBAAyB,uBAAuB,iBAAiB,iBAAiB,6BAA6B,6BAA6B,oCAAoC,6BAA6B,qBAAqB,OAAO,6BAA6B,qBAAqB,OAAO,6BAA6B,gCAAgC,OAAO,6BAA6B,gCAAgC,OAAO,6BAA6B,eAAe,OAAO,6BAA6B,eAAe,OAAO,6BAA6B,0BAA0B,OAAO,6BAA6B,0BAA0B,OAAO,kCAAkC,KAAK,iIAAiI,KAAK,2CAA2C,KAAK,oDAAoD,KAAK,uDAAuD,MAAM,uIAAuI,iBAAiB,mBAAmB,iBAAiB,OAAO,0DAA0D,0LAA0L,yBAAyB,SAAS,OAAO,oBAAoB,KAAK,+FAA+F,KAAK,oCAAoC,OAAO,8CAA8C,OAAO,gDAAgD,KAAK,4DAA4D,4EAA4E,KAAK,kHAAkH,KAAK,oDAAoD,KAAK,0DAA0D,KAAK,uHAAuH,yBAAyB,qCAAqC,mCAAmC,yDAAyD,yDAAyD,yCAAyC,oBAAoB,OAAO,gDAAgD,KAAK,wKAAwK,KAAK,0DAA0D,KAAK,mDAAmD,QAAQ,8DAA8D,KAAK,qEAAqE,4FAA4F,oBAAoB,kBAAkB,2BAA2B,2BAA2B,sCAAsC,sCAAsC,+CAA+C,6CAA6C,oCAAoC,oCAAoC,0BAA0B,wBAAwB,wBAAwB,0BAA0B,0BAA0B,yBAAyB,yBAAyB,OAAO,yBAAyB,uBAAuB,gDAAgD,KAAK,yFAAyF,OAAO,uCAAuC,OAAO,uCAAuC,OAAO,kCAAkC,OAAO,oCAAoC,KAAK,8DAA8D,cAAc,wBAAwB,KAAK,2HAA2H,WAAW,kDAAkD,KAAK,sEAAsE,0FAA0F,KAAK,cAAc,sOAAsO,GAAG,EAAE,wiBAAwiB,yBAAyB,4BAA4B,KAAK,6KAA6K,mBAAmB,GAAG,6EAA6E,yBAAyB,qCAAqC,QAAQ,KAAK,sDAAsD,qEAAqE,GAAG,4BAA4B,gGAAgG,0EAA0E,yBAAyB,yBAAyB,2BAA2B,+DAA+D,KAAK,iCAAiC,oBAAoB,iCAAiC,uCAAuC,eAAe,OAAO,uBAAuB,wEAAwE,0BAA0B,sEAAsE,iBAAiB,SAAS,gBAAgB,aAAa,8BAA8B,SAAS,mBAAmB,6BAA6B,iBAAiB,SAAS,8BAA8B,OAAO,EAAE,KAAK,kCAAkC,WAAW,iNAAiN,2FAA2F,mCAAmC,2CAA2C,qFAAqF,mBAAmB,WAAW,SAAS,2BAA2B,+BAA+B,0BAA0B,OAAO,YAAY,sBAAsB,EAAE,KAAK,iCAAiC,0BAA0B,6BAA6B,wBAAwB,KAAK,yBAAyB,mDAAmD,SAAS,OAAO,8CAA8C,OAAO,6BAA6B,KAAK,iEAAiE,gFAAgF,6EAA6E,6BAA6B,2BAA2B,KAAK,mPAAmP,uBAAuB,WAAW,6BAA6B,2BAA2B,sBAAsB,6BAA6B,SAAS,qBAAqB,2BAA2B,sBAAsB,6BAA6B,SAAS,EAAE,OAAO,aAAa,yBAAyB,oBAAoB,uBAAuB,OAAO,KAAK,0DAA0D,yCAAyC,MAAM,kEAAkE,oBAAoB,oDAAoD,+EAA+E,OAAO,EAAE,MAAM,iCAAiC,wHAAwH,uDAAuD,kDAAkD,oCAAoC,8BAA8B,eAAe,gFAAgF,kCAAkC,+CAA+C,+CAA+C,aAAa,EAAE,UAAU,uBAAuB,eAAe,aAAa,0BAA0B,oCAAoC,4BAA4B,aAAa,WAAW,aAAa,uBAAuB,WAAW,SAAS,uBAAuB,iBAAiB,OAAO,0BAA0B,SAAS,OAAO,EAAE,MAAM,0CAA0C,gFAAgF,qBAAqB,OAAO,+CAA+C,uBAAuB,OAAO,EAAE,MAAM,yCAAyC,qDAAqD,sBAAsB,OAAO,EAAE,MAAM,wCAAwC,qDAAqD,2CAA2C,SAAS,OAAO,0CAA0C,SAAS,OAAO,EAAE,MAAM,qBAAqB,GAAG,EAAE,8gBAA8gB,qCAAqC,yDAAyD,yGAAyG,wCAAwC,uCAAuC,OAAO,mBAAmB,kDAAkD,OAAO,iFAAiF,OAAO,yCAAyC,gDAAgD,OAAO,qDAAqD,KAAK,kDAAkD,oCAAoC,iBAAiB,OAAO,0CAA0C,KAAK,mDAAmD,oCAAoC,iBAAiB,kCAAkC,2CAA2C,KAAK,wCAAwC,8BAA8B,KAAK,yCAAyC,+BAA+B,KAAK,yCAAyC,sBAAsB,2BAA2B,6BAA6B,8BAA8B,gDAAgD,qCAAqC,SAAS,QAAQ,QAAQ,gCAAgC,4BAA4B,QAAQ,oBAAoB,KAAK,cAAc,0JAA0J,SAAS,6EAA6E,WAAW,4GAA4G,2CAA2C,sDAAsD,iBAAiB,SAAS,wEAAwE,yBAAyB,oCAAoC,WAAW,oDAAoD,SAAS,iBAAiB,OAAO,wJAAwJ,SAAS,mEAAmE,OAAO,6FAA6F,OAAO,yOAAyO,SAAS,2EAA2E,OAAO,6FAA6F,OAAO,sSAAsS,eAAe,uEAAuE,SAAS,mEAAmE,OAAO,6FAA6F,OAAO,sFAAsF,6CAA6C,gCAAgC,uBAAuB,WAAW,SAAS,QAAQ,OAAO,uOAAuO,SAAS,2EAA2E,OAAO,6FAA6F,OAAO,uFAAuF,kBAAkB,iDAAiD,gCAAgC,uBAAuB,WAAW,OAAO,iCAAiC,WAAW,SAAS,QAAQ,uBAAuB,OAAO,kKAAkK,SAAS,mEAAmE,OAAO,6FAA6F,SAAS,wRAAwR,OAAO,mMAAmM,OAAO,+EAA+E,GAAG,EAAE,ulBAAulB,mDAAmD,0GAA0G,uCAAuC,0EAA0E,KAAK,uDAAuD,wCAAwC,sCAAsC,6FAA6F,mDAAmD,yIAAyI,2EAA2E,4BAA4B,wDAAwD,yCAAyC,8CAA8C,+GAA+G,mGAAmG,6FAA6F,4DAA4D,iBAAiB,qBAAqB,KAAK,8QAA8Q,cAAc,2+CAA2+C,uzCAAuzC,GAAG,EAAE,2kBAA2kB,mBAAmB,6CAA6C,sDAAsD,sBAAsB,+HAA+H,yIAAyI,oCAAoC,kEAAkE,OAAO,+BAA+B,kDAAkD,OAAO,KAAK,0IAA0I,uCAAuC,qEAAqE,OAAO,+BAA+B,kDAAkD,OAAO,KAAK,8JAA8J,uCAAuC,wQAAwQ,oCAAoC,yBAAyB,OAAO,qGAAqG,gCAAgC,sCAAsC,2BAA2B,SAAS,OAAO,sBAAsB,KAAK,yJAAyJ,kCAAkC,QAAQ,4GAA4G,qBAAqB,OAAO,2GAA2G,oBAAoB,OAAO,yFAAyF,uGAAuG,4CAA4C,SAAS,OAAO,wEAAwE,oDAAoD,OAAO,gFAAgF,2EAA2E,OAAO,sMAAsM,8DAA8D,2CAA2C,iCAAiC,2KAA2K,uKAAuK,OAAO,6EAA6E,8CAA8C,4FAA4F,6CAA6C,2CAA2C,WAAW,OAAO,8CAA8C,iBAAiB,SAAS,QAAQ,wEAAwE,gDAAgD,6FAA6F,8CAA8C,4CAA4C,WAAW,OAAO,8CAA8C,iBAAiB,SAAS,QAAQ,0FAA0F,yDAAyD,gCAAgC,QAAQ,4EAA4E,+CAA+C,iDAAiD,0DAA0D,OAAO,uFAAuF,8BAA8B,OAAO,qBAAqB,KAAK,wSAAwS,uCAAuC,eAAe,mCAAmC,wBAAwB,eAAe,OAAO,2EAA2E,oCAAoC,sCAAsC,0BAA0B,SAAS,OAAO,qCAAqC,mOAAmO,mEAAmE,yBAAyB,SAAS,OAAO,8BAA8B,aAAa,gNAAgN,SAAS,aAAa,sCAAsC,iBAAiB,SAAS,yBAAyB,OAAO,0DAA0D,8CAA8C,yBAAyB,SAAS,OAAO,0DAA0D,SAAS,OAAO,OAAO,sFAAsF,4IAA4I,sBAAsB,SAAS,OAAO,yHAAyH,KAAK,8JAA8J,kCAAkC,kEAAkE,kEAAkE,wEAAwE,6DAA6D,yBAAyB,iDAAiD,gBAAgB,yFAAyF,2BAA2B,wHAAwH,MAAM,mCAAmC,OAAO,mFAAmF,iEAAiE,0DAA0D,2BAA2B,8CAA8C,OAAO,OAAO,uCAAuC,oLAAoL,mCAAmC,aAAa,wHAAwH,qBAAqB,aAAa,WAAW,SAAS,OAAO,uHAAuH,OAAO,6DAA6D,OAAO,kDAAkD,SAAS,8EAA8E,OAAO,oFAAoF,SAAS,uGAAuG,sFAAsF,mJAAmJ,qDAAqD,SAAS,yHAAyH,iBAAiB,SAAS,kFAAkF,uBAAuB,+BAA+B,0BAA0B,SAAS,OAAO,+BAA+B,SAAS,qGAAqG,gIAAgI,yBAAyB,qBAAqB,0BAA0B,+CAA+C,qCAAqC,kGAAkG,6BAA6B,WAAW,2HAA2H,sCAAsC,WAAW,GAAG,qBAAqB,WAAW,gFAAgF,6CAA6C,6BAA6B,6CAA6C,qCAAqC,8CAA8C,4CAA4C,sOAAsO,uGAAuG,iBAAiB,OAAO,0DAA0D,iDAAiD,mBAAmB,iBAAiB,mEAAmE,8CAA8C,mFAAmF,uCAAuC,2CAA2C,iBAAiB,gBAAgB,aAAa,WAAW,+HAA+H,2BAA2B,mEAAmE,2CAA2C,0CAA0C,uEAAuE,uCAAuC,cAAc,WAAW,kGAAkG,8BAA8B,gDAAgD,6BAA6B,EAAE,6CAA6C,2CAA2C,+CAA+C,iJAAiJ,qGAAqG,uDAAuD,aAAa,OAAO,yEAAyE,aAAa,WAAW,OAAO,uDAAuD,wBAAwB,WAAW,EAAE,aAAa,OAAO,iHAAiH,6BAA6B,EAAE,aAAa,WAAW,SAAS,oCAAoC,iDAAiD,QAAQ,uJAAuJ,OAAO,6DAA6D,OAAO,sDAAsD,SAAS,iEAAiE,WAAW,sFAAsF,oDAAoD,yHAAyH,sBAAsB,SAAS,8FAA8F,iBAAiB,gCAAgC,sDAAsD,qCAAqC,6BAA6B,yBAAyB,8BAA8B,4CAA4C,4FAA4F,2EAA2E,2CAA2C,gCAAgC,6DAA6D,qEAAqE,2FAA2F,sNAAsN,iEAAiE,uDAAuD,qDAAqD,sDAAsD,qBAAqB,mBAAmB,iBAAiB,wKAAwK,wCAAwC,uHAAuH,iBAAiB,eAAe,aAAa,WAAW,OAAO,oFAAoF,4CAA4C,mHAAmH,aAAa,4BAA4B,WAAW,2HAA2H,wBAAwB,WAAW,8DAA8D,wDAAwD,gHAAgH,WAAW,aAAa,wEAAwE,WAAW,SAAS,sBAAsB,QAAQ,oHAAoH,OAAO,6DAA6D,OAAO,0CAA0C,OAAO,oEAAoE,WAAW,+EAA+E,eAAe,yHAAyH,sBAAsB,SAAS,mFAAmF,yBAAyB,6BAA6B,cAAc,qGAAqG,mBAAmB,sCAAsC,WAAW,wIAAwI,SAAS,gDAAgD,sBAAsB,QAAQ,mNAAmN,OAAO,oDAAoD,WAAW,oEAAoE,8CAA8C,yHAAyH,sBAAsB,SAAS,qFAAqF,yBAAyB,SAAS,0KAA0K,mCAAmC,SAAS,sGAAsG,yBAAyB,wDAAwD,8BAA8B,uBAAuB,iCAAiC,oCAAoC,6BAA6B,aAAa,WAAW,SAAS,sBAAsB,QAAQ,gIAAgI,oBAAoB,QAAQ,gFAAgF,gBAAgB,6BAA6B,uCAAuC,SAAS,uBAAuB,QAAQ,KAAK,0CAA0C,wDAAwD,EAAE,wBAAwB,GAAG,EAAE,0sBAA0sB,siBAAsiB,sBAAsB,4BAA4B,OAAO,eAAe,KAAK,2IAA2I,mOAAmO,0CAA0C,aAAa,SAAS,QAAQ,iCAAiC,mBAAmB,SAAS,OAAO,gBAAgB,KAAK,gjCAAgjC,m6BAAm6B,04BAA04B,oGAAoG,KAAK,8TAA8T,IAAI,uHAAuH,4CAA4C,gaAAga,MAAM,oDAAoD,sGAAsG,uHAAuH,GAAG,cAAc,YAAY,wFAAwF,qDAAqD,OAAO,2FAA2F,8CAA8C,mFAAmF,8BAA8B,OAAO,MAAM,GAAG,yDAAyD,qGAAqG,yFAAyF,6BAA6B,KAAK,oCAAoC,4BAA4B,0DAA0D,qBAAqB,KAAK,oEAAoE,gBAAgB,KAAK,sCAAsC,wEAAwE,mEAAmE,iCAAiC,+CAA+C,sLAAsL,mJAAmJ,qCAAqC,+BAA+B,eAAe,aAAa,OAAO,6BAA6B,aAAa,WAAW,OAAO,mMAAmM,mCAAmC,6BAA6B,aAAa,WAAW,+CAA+C,uBAAuB,0EAA0E,yBAAyB,kDAAkD,+DAA+D,qEAAqE,yBAAyB,SAAS,OAAO,4FAA4F,4BAA4B,6BAA6B,iDAAiD,iVAAiV,wCAAwC,yDAAyD,qDAAqD,WAAW,OAAO,gDAAgD,WAAW,0CAA0C,8BAA8B,yBAAyB,sDAAsD,WAAW,iGAAiG,2CAA2C,SAAS,8BAA8B,eAAe,sGAAsG,2BAA2B,WAAW,kBAAkB,WAAW,UAAU,yBAAyB,8CAA8C,aAAa,WAAW,SAAS,OAAO,KAAK,kGAAkG,GAAG,kEAAkE,yBAAyB,wNAAwN,kBAAkB,oCAAoC,yJAAyJ,iFAAiF,OAAO,4CAA4C,KAAK,iBAAiB,GAAG,kEAAkE,SAAS,4DAA4D,yBAAyB,cAAc,GAAG,yDAAyD,SAAS,qFAAqF,8CAA8C,WAAW,yBAAyB,KAAK,YAAY,mBAAmB,KAAK,UAAU,uEAAuE,0CAA0C,OAAO,8CAA8C,KAAK,GAAG,6EAA6E,OAAO,qDAAqD,SAAS,qFAAqF,wDAAwD,qBAAqB,0CAA0C,KAAK,GAAG,8DAA8D,QAAQ,eAAe,QAAQ,iBAAiB,OAAO,yGAAyG,uKAAuK,uEAAuE,kBAAkB,KAAK,6CAA6C,yCAAyC,0BAA0B,oBAAoB,SAAS,OAAO,KAAK,wBAAwB,GAAG,6EAA6E,OAAO,gDAAgD,6BAA6B,6CAA6C,sDAAsD,MAAM,GAAG,yEAAyE,OAAO,iDAAiD,6BAA6B,6CAA6C,+EAA+E,MAAM,GAAG,6EAA6E,SAAS,iDAAiD,8CAA8C,2BAA2B,qDAAqD,yGAAyG,iFAAiF,gDAAgD,8CAA8C,WAAW,SAAS,OAAO,EAAE,KAAK,EAAE,GAAG,uEAAuE,gBAAgB,uBAAuB,uBAAuB,8FAA8F,sFAAsF,GAAG,0EAA0E,0CAA0C,eAAe,6CAA6C,QAAQ,qFAAqF,oMAAoM,2EAA2E,IAAI,2FAA2F,eAAe,8EAA8E,OAAO,yFAAyF,+GAA+G,4BAA4B,gHAAgH,uBAAuB,OAAO,aAAa,wBAAwB,oBAAoB,KAAK,2IAA2I,sBAAsB,KAAK,4CAA4C,kCAAkC,yDAAyD,6VAA6V,iGAAiG,yDAAyD,wBAAwB,SAAS,UAAU,OAAO,iCAAiC,sDAAsD,wBAAwB,SAAS,EAAE,OAAO,KAAK,4QAA4Q,4BAA4B,8CAA8C,KAAK,EAAE,oOAAoO,iDAAiD,qDAAqD,KAAK,EAAE,sGAAsG,8PAA8P,8CAA8C,gFAAgF,KAAK,EAAE,uDAAuD,mDAAmD,iFAAiF,+CAA+C,6KAA6K,SAAS,QAAQ,4CAA4C,wDAAwD,iCAAiC,sDAAsD,UAAU,QAAQ,KAAK,OAAO,gHAAgH,+CAA+C,wDAAwD,iCAAiC,oGAAoG,+CAA+C,UAAU,QAAQ,KAAK,mGAAmG,qEAAqE,qDAAqD,SAAS,OAAO,kCAAkC,4GAA4G,uEAAuE,2CAA2C,wCAAwC,+BAA+B,aAAa,WAAW,uBAAuB,SAAS,uBAAuB,QAAQ,2GAA2G,6BAA6B,2DAA2D,OAAO,MAAM,kPAAkP,8UAA8U,mEAAmE,uGAAuG,sVAAsV,+VAA+V,2EAA2E,SAAS,2JAA2J,uFAAuF,SAAS,4QAA4Q,uCAAuC,SAAS,OAAO,EAAE,gCAAgC,6KAA6K,mDAAmD,iEAAiE,wIAAwI,oEAAoE,SAAS,wNAAwN,wDAAwD,SAAS,4GAA4G,iCAAiC,OAAO,EAAE,KAAK,kOAAkO,gCAAgC,uKAAuK,gJAAgJ,8CAA8C,OAAO,EAAE,KAAK,0EAA0E,oFAAoF,+JAA+J,mOAAmO,+FAA+F,oNAAoN,OAAO,0BAA0B,kBAAkB,wCAAwC,4BAA4B,0BAA0B,aAAa,WAAW,SAAS,qBAAqB,QAAQ,8KAA8K,2DAA2D,4BAA4B,iBAAiB,OAAO,6JAA6J,sBAAsB,uBAAuB,OAAO,qPAAqP,uIAAuI,0KAA0K,oBAAoB,SAAS,2FAA2F,mBAAmB,SAAS,qJAAqJ,OAAO,oCAAoC,KAAK,wBAAwB,oEAAoE,4BAA4B,iBAAiB,OAAO,0HAA0H,2FAA2F,2MAA2M,oEAAoE,0BAA0B,oCAAoC,OAAO,uFAAuF,wCAAwC,0BAA0B,OAAO,cAAc,wCAAwC,0BAA0B,OAAO,wFAAwF,YAAY,OAAO,mQAAmQ,MAAM,iBAAiB,IAAI,iDAAiD,gDAAgD,IAAI,qDAAqD,0FAA0F,0BAA0B,KAAK,8GAA8G,wKAAwK,aAAa,6CAA6C,2RAA2R,qBAAqB,SAAS,OAAO,YAAY,KAAK,iEAAiE,IAAI,iDAAiD,gGAAgG,6BAA6B,KAAK,qCAAqC,IAAI,0CAA0C,0FAA0F,0BAA0B,KAAK,gQAAgQ,6NAA6N,IAAI,oCAAoC,yEAAyE,IAAI,iEAAiE,UAAU,wDAAwD,2DAA2D,sHAAsH,0DAA0D,8BAA8B,2BAA2B,uCAAuC,sCAAsC,mCAAmC,SAAS,OAAO,qBAAqB,6CAA6C,OAAO,KAAK,8HAA8H,qBAAqB,IAAI,gGAAgG,cAAc,yDAAyD,yEAAyE,wBAAwB,4FAA4F,uEAAuE,OAAO,KAAK,kEAAkE,uKAAuK,gCAAgC,OAAO,OAAO,qEAAqE,MAAM,4BAA4B,iCAAiC,SAAS,OAAO,KAAK,+CAA+C,4BAA4B,KAAK,8EAA8E,IAAI,+BAA+B,oIAAoI,eAAe,kBAAkB,cAAc,mCAAmC,eAAe,sBAAsB,eAAe,wCAAwC,eAAe,2BAA2B,KAAK,mBAAmB,mCAAmC,4DAA4D,wKAAwK,sCAAsC,8CAA8C,SAAS,qCAAqC,OAAO,uCAAuC,uYAAuY,qDAAqD,gEAAgE,qCAAqC,WAAW,qPAAqP,0EAA0E,oDAAoD,uBAAuB,mCAAmC,SAAS,uBAAuB,OAAO,wCAAwC,8DAA8D,wDAAwD,sBAAsB,SAAS,mEAAmE,kDAAkD,qEAAqE,ySAAyS,0FAA0F,iDAAiD,SAAS,2HAA2H,OAAO,KAAK,gBAAgB,+CAA+C,sFAAsF,iEAAiE,aAAa,EAAE,8BAA8B,6EAA6E,YAAY,OAAO,2CAA2C,sDAAsD,4LAA4L,+KAA+K,WAAW,EAAE,OAAO,sDAAsD,iCAAiC,iDAAiD,mCAAmC,uCAAuC,WAAW,4BAA4B,wBAAwB,WAAW,2BAA2B,wiBAAwiB,UAAU,OAAO,mEAAmE,8IAA8I,6GAA6G,qCAAqC,WAAW,8CAA8C,0RAA0R,6BAA6B,kFAAkF,+BAA+B,8BAA8B,kDAAkD,gGAAgG,mCAAmC,qBAAqB,mBAAmB,6JAA6J,iBAAiB,4BAA4B,eAAe,2EAA2E,kHAAkH,sIAAsI,EAAE,iDAAiD,6DAA6D,wDAAwD,mEAAmE,mMAAmM,+IAA+I,sEAAsE,0BAA0B,mBAAmB,iBAAiB,kFAAkF,yEAAyE,uCAAuC,gCAAgC,0GAA0G,OAAO,4MAA4M,8GAA8G,uGAAuG,+DAA+D,+BAA+B,qBAAqB,4CAA4C,4BAA4B,qBAAqB,mBAAmB,iBAAiB,eAAe,mGAAmG,mFAAmF,aAAa,YAAY,OAAO,mDAAmD,uaAAua,oLAAoL,gCAAgC,SAAS,kFAAkF,oDAAoD,6HAA6H,wGAAwG,6BAA6B,uDAAuD,+DAA+D,eAAe,aAAa,iCAAiC,yCAAyC,cAAc,SAAS,oBAAoB,OAAO,KAAK,iBAAiB,sFAAsF,8OAA8O,qGAAqG,4GAA4G,iFAAiF,4CAA4C,+CAA+C,eAAe,aAAa,WAAW,6CAA6C,4BAA4B,iDAAiD,kCAAkC,YAAY,OAAO,sDAAsD,iCAAiC,qDAAqD,UAAU,OAAO,uDAAuD,oDAAoD,iCAAiC,gGAAgG,UAAU,OAAO,2fAA2f,gGAAgG,wDAAwD,SAAS,kEAAkE,iCAAiC,uBAAuB,cAAc,uJAAuJ,kDAAkD,iFAAiF,aAAa,WAAW,2DAA2D,uBAAuB,UAAU,OAAO,8DAA8D,2DAA2D,mDAAmD,OAAO,qCAAqC,gCAAgC,OAAO,sCAAsC,8IAA8I,OAAO,mEAAmE,uCAAuC,OAAO,yCAAyC,sCAAsC,OAAO,wCAAwC,yMAAyM,0GAA0G,OAAO,yCAAyC,sIAAsI,wCAAwC,SAAS,wCAAwC,OAAO,uDAAuD,6HAA6H,UAAU,2DAA2D,2BAA2B,yHAAyH,MAAM,4BAA4B,oCAAoC,yBAAyB,WAAW,SAAS,oBAAoB,OAAO,uCAAuC,gDAAgD,OAAO,mEAAmE,6CAA6C,OAAO,sCAAsC,6CAA6C,OAAO,uCAAuC,+CAA+C,qFAAqF,OAAO,qCAAqC,iBAAiB,qTAAqT,OAAO,sFAAsF,qBAAqB,OAAO,6EAA6E,8BAA8B,OAAO,qFAAqF,+DAA+D,OAAO,6EAA6E,kBAAkB,eAAe,YAAY,WAAW,iCAAiC,SAAS,4BAA4B,OAAO,4EAA4E,kBAAkB,eAAe,YAAY,WAAW,iCAAiC,SAAS,4BAA4B,OAAO,qFAAqF,4DAA4D,eAAe,UAAU,IAAI,iCAAiC,SAAS,4BAA4B,OAAO,qFAAqF,4DAA4D,eAAe,cAAc,IAAI,iCAAiC,SAAS,4BAA4B,OAAO,MAAM,IAAI,iDAAiD,kDAAkD,uEAAuE,IAAI,+CAA+C,GAAG,cAAc,4BAA4B,IAAI,gDAAgD,GAAG,qEAAqE,qDAAqD,qCAAqC,kEAAkE,mHAAmH,qBAAqB,+CAA+C,KAAK,uBAAuB,gBAAgB,gCAAgC,uBAAuB,uFAAuF,sBAAsB,6GAA6G,SAAS,qCAAqC,OAAO,wBAAwB,yEAAyE,gCAAgC,qBAAqB,mIAAmI,EAAE,8CAA8C,OAAO,qDAAqD,qIAAqI,kCAAkC,uBAAuB,uFAAuF,EAAE,gDAAgD,SAAS,OAAO,yBAAyB,cAAc,OAAO,KAAK,mSAAmS,IAAI,mCAAmC,8DAA8D,WAAW,SAAS,QAAQ,kCAAkC,KAAK,oBAAoB,GAAG,yDAAyD,6GAA6G,8HAA8H,wCAAwC,0DAA0D,iDAAiD,WAAW,SAAS,OAAO,gGAAgG,4EAA4E,iHAAiH,0CAA0C,4DAA4D,oDAAoD,4BAA4B,eAAe,aAAa,WAAW,SAAS,OAAO,0CAA0C,4DAA4D,mEAAmE,EAAE,+HAA+H,6IAA6I,eAAe,OAAO,6HAA6H,8CAA8C,8GAA8G,8BAA8B,iBAAiB,eAAe,aAAa,WAAW,SAAS,QAAQ,GAAG,yCAAyC,sEAAsE,gCAAgC,uBAAuB,qDAAqD,yBAAyB,WAAW,SAAS,oBAAoB,OAAO,oBAAoB,GAAG,8DAA8D,0CAA0C,WAAW,SAAS,QAAQ,+CAA+C,KAAK,mBAAmB,GAAG,+DAA+D,yGAAyG,aAAa,SAAS,QAAQ,oCAAoC,wDAAwD,oCAAoC,yBAAyB,0BAA0B,WAAW,SAAS,OAAO,KAAK,0BAA0B,GAAG,+FAA+F,iDAAiD,4CAA4C,KAAK,iDAAiD,0DAA0D,KAAK,iEAAiE,+1BAA+1B,qDAAqD,uDAAuD,OAAO,oDAAoD,+CAA+C,6CAA6C,+FAA+F,uBAAuB,mCAAmC,yEAAyE,WAAW,SAAS,OAAO,qBAAqB,wCAAwC,6BAA6B,sHAAsH,kCAAkC,2BAA2B,6CAA6C,2HAA2H,eAAe,aAAa,6DAA6D,WAAW,mHAAmH,yBAAyB,6HAA6H,qDAAqD,aAAa,WAAW,SAAS,wEAAwE,OAAO,iKAAiK,2BAA2B,uDAAuD,SAAS,OAAO,4CAA4C,SAAS,OAAO,KAAK,EAAE,GAAG,0CAA0C,6WAA6W,qCAAqC,OAAO,oFAAoF,uDAAuD,OAAO,8EAA8E,oOAAoO,OAAO,GAAG,aAAa,SAAS,QAAQ,0DAA0D,0EAA0E,OAAO,OAAO,iFAAiF,+FAA+F,2FAA2F,iBAAiB,SAAS,QAAQ,oDAAoD,oBAAoB,aAAa,WAAW,kQAAkQ,uDAAuD,2PAA2P,SAAS,iCAAiC,OAAO,KAAK,wCAAwC,GAAG,uEAAuE,6JAA6J,igBAAigB,4BAA4B,6DAA6D,SAAS,yPAAyP,yDAAyD,wCAAwC,QAAQ,oCAAoC,kBAAkB,wDAAwD,oDAAoD,qCAAqC,sBAAsB,eAAe,aAAa,8BAA8B,sCAAsC,aAAa,WAAW,+EAA+E,8GAA8G,6BAA6B,aAAa,8FAA8F,qCAAqC,aAAa,WAAW,SAAS,8EAA8E,4CAA4C,gBAAgB,kDAAkD,2DAA2D,WAAW,yBAAyB,iHAAiH,6BAA6B,yDAAyD,sDAAsD,iBAAiB,eAAe,aAAa,4HAA4H,WAAW,iFAAiF,mNAAmN,2CAA2C,WAAW,SAAS,0FAA0F,kCAAkC,2CAA2C,SAAS,2BAA2B,QAAQ,2EAA2E,GAAG,oFAAoF,6GAA6G,sBAAsB,+GAA+G,qCAAqC,OAAO,uBAAuB,qBAAqB,+CAA+C,kCAAkC,qCAAqC,SAAS,OAAO,yCAAyC,SAAS,OAAO,yIAAyI,0EAA0E,KAAK,kBAAkB,IAAI,iHAAiH,gBAAgB,oGAAoG,QAAQ,qBAAqB,MAAM,uBAAuB,MAAM,wHAAwH,iLAAiL,8BAA8B,yGAAyG,0HAA0H,2LAA2L,8GAA8G,yBAAyB,yBAAyB,yFAAyF,uBAAuB,uCAAuC,SAAS,mEAAmE,OAAO,iIAAiI,qBAAqB,0BAA0B,8FAA8F,gBAAgB,SAAS,2CAA2C,0QAA0Q,4GAA4G,2DAA2D,8BAA8B,0CAA0C,6BAA6B,aAAa,oBAAoB,WAAW,SAAS,OAAO,KAAK,yVAAyV,mBAAmB,IAAI,oIAAoI,uJAAuJ,8DAA8D,kLAAkL,gIAAgI,GAAG,EAAE,0KAA0K,yCAAyC,4DAA4D,GAAG,KAAK,0EAA0E,qBAAqB,kFAAkF,OAAO,KAAK,EAAE,GAAG,oIAAoI,iCAAiC,mDAAmD,6DAA6D,GAAG,KAAK,yDAAyD,kEAAkE,iCAAiC,OAAO,KAAK,EAAE,GAAG,sHAAsH,kDAAkD,GAAG,KAAK,wDAAwD,cAAc,qBAAqB,qKAAqK,OAAO,KAAK,EAAE,GAAG,6BAA6B,GAAG,EAAE,yaAAya,kDAAkD,wEAAwE,MAAM,6BAA6B,4BAA4B,4BAA4B,mBAAmB,mCAAmC,OAAO,OAAO,4BAA4B,SAAS,OAAO,qBAAqB,KAAK,+BAA+B,eAAe,iBAAiB,iBAAiB,OAAO,mBAAmB,qCAAqC,6EAA6E,OAAO,OAAO,iDAAiD,qBAAqB,WAAW,SAAS,OAAO,OAAO,2CAA2C,oCAAoC,mDAAmD,uBAAuB,aAAa,WAAW,SAAS,OAAO,iBAAiB,KAAK,qCAAqC,mBAAmB,2CAA2C,+CAA+C,OAAO,EAAE,mBAAmB,KAAK,6BAA6B,iBAAiB,oCAAoC,mCAAmC,oBAAoB,SAAS,OAAO,EAAE,iBAAiB,KAAK,8BAA8B,eAAe,gBAAgB,iCAAiC,OAAO,OAAO,2BAA2B,qBAAqB,WAAW,SAAS,OAAO,kBAAkB,KAAK,mEAAmE,gBAAgB,mCAAmC,oCAAoC,OAAO,cAAc,uBAAuB,OAAO,4EAA4E,OAAO,2BAA2B,KAAK,qDAAqD,eAAe,qCAAqC,OAAO,OAAO,0DAA0D,mBAAmB,SAAS,OAAO,kBAAkB,KAAK,gDAAgD,qDAAqD,yBAAyB,0BAA0B,OAAO,yBAAyB,KAAK,iCAAiC,+CAA+C,KAAK,cAAc,iNAAiN,GAAG,EAAE,2hBAA2hB,gHAAgH,OAAO,oDAAoD,OAAO,qFAAqF,0BAA0B,mGAAmG,KAAK,oHAAoH,OAAO,4CAA4C,OAAO,iDAAiD,QAAQ,sFAAsF,kBAAkB,iCAAiC,OAAO,kDAAkD,oBAAoB,OAAO,kCAAkC,KAAK,8GAA8G,aAAa,+CAA+C,OAAO,4DAA4D,OAAO,kDAAkD,OAAO,yEAAyE,YAAY,4BAA4B,2BAA2B,yCAAyC,mCAAmC,OAAO,wBAAwB,yBAAyB,mBAAmB,2BAA2B,OAAO,mBAAmB,KAAK,oKAAoK,OAAO,mBAAmB,OAAO,sBAAsB,QAAQ,+CAA+C,6DAA6D,KAAK,oKAAoK,OAAO,qDAAqD,OAAO,4DAA4D,OAAO,sKAAsK,kCAAkC,+CAA+C,sCAAsC,yCAAyC,QAAQ,EAAE,uIAAuI,qCAAqC,gEAAgE,uCAAuC,sCAAsC,0DAA0D,kCAAkC,6BAA6B,yCAAyC,mDAAmD,YAAY,QAAQ,EAAE,wHAAwH,+BAA+B,yCAAyC,QAAQ,EAAE,wCAAwC,kDAAkD,yGAAyG,4CAA4C,oHAAoH,kDAAkD,eAAe,OAAO,8DAA8D,mBAAmB,8BAA8B,4CAA4C,SAAS,iBAAiB,OAAO,wDAAwD,8BAA8B,eAAe,OAAO,2DAA2D,uCAAuC,kCAAkC,0CAA0C,2CAA2C,gEAAgE,iBAAiB,uEAAuE,kDAAkD,YAAY,SAAS,OAAO,mEAAmE,kCAAkC,4CAA4C,YAAY,SAAS,sCAAsC,oEAAoE,sCAAsC,SAAS,EAAE,wEAAwE,2DAA2D,8CAA8C,kCAAkC,8CAA8C,cAAc,WAAW,OAAO,0BAA0B,sCAAsC,aAAa,WAAW,SAAS,EAAE,OAAO,kIAAkI,sBAAsB,OAAO,EAAE,KAAK,iCAAiC,8CAA8C,oCAAoC,OAAO,OAAO,sBAAsB,2BAA2B,yCAAyC,8BAA8B,wCAAwC,gCAAgC,aAAa,WAAW,SAAS,OAAO,mBAAmB,KAAK,uHAAuH,OAAO,6CAA6C,SAAS,iDAAiD,OAAO,gGAAgG,OAAO,mFAAmF,oBAAoB,gBAAgB,gBAAgB,mBAAmB,SAAS,sCAAsC,6CAA6C,yBAAyB,WAAW,6BAA6B,SAAS,EAAE,OAAO,KAAK,qGAAqG,OAAO,0DAA0D,OAAO,2EAA2E,OAAO,oJAAoJ,0FAA0F,+BAA+B,yCAAyC,SAAS,oCAAoC,eAAe,wBAAwB,yBAAyB,iBAAiB,cAAc,OAAO,iBAAiB,sBAAsB,oBAAoB,SAAS,mBAAmB,OAAO,iBAAiB,KAAK,8HAA8H,OAAO,sDAAsD,OAAO,wEAAwE,OAAO,oKAAoK,mCAAmC,eAAe,wBAAwB,yBAAyB,+BAA+B,OAAO,OAAO,oBAAoB,mBAAmB,gBAAgB,SAAS,OAAO,iBAAiB,KAAK,kIAAkI,OAAO,kCAAkC,OAAO,uIAAuI,mCAAmC,iCAAiC,iBAAiB,OAAO,gDAAgD,KAAK,qCAAqC,wCAAwC,0BAA0B,mEAAmE,OAAO,mBAAmB,KAAK,cAAc,0IAA0I,OAAO,uCAAuC,QAAQ,sOAAsO,OAAO,oDAAoD,MAAM,ocAAoc,OAAO,0CAA0C,SAAS,gEAAgE,OAAO,yIAAyI,gEAAgE,UAAU,EAAE,4DAA4D,mCAAmC,8DAA8D,UAAU,EAAE,wOAAwO,MAAM,kDAAkD,SAAS,oGAAoG,MAAM,oVAAoV,MAAM,kDAAkD,SAAS,kGAAkG,MAAM,kNAAkN,cAAc,EAAE,4KAA4K,IAAI,0CAA0C,MAAM,0CAA0C,OAAO,kSAAkS,GAAG,EAAE,snBAAsnB,oDAAoD,oOAAoO,mFAAmF,oEAAoE,wCAAwC,mEAAmE,+BAA+B,wCAAwC,KAAK,8BAA8B,qCAAqC,KAAK,8BAA8B,sCAAsC,KAAK,8CAA8C,gCAAgC,iCAAiC,+CAA+C,8CAA8C,iCAAiC,+CAA+C,+BAA+B,OAAO,oBAAoB,KAAK,0EAA0E,YAAY,mCAAmC,oFAAoF,OAAO,sDAAsD,oDAAoD,wBAAwB,yCAAyC,QAAQ,OAAO,yEAAyE,WAAW,SAAS,OAAO,qBAAqB,uBAAuB,OAAO,yEAAyE,WAAW,SAAS,6BAA6B,OAAO,kCAAkC,+BAA+B,qBAAqB,oDAAoD,SAAS,OAAO,2BAA2B,KAAK,0CAA0C,qGAAqG,KAAK,6CAA6C,iCAAiC,uCAAuC,kCAAkC,wBAAwB,sDAAsD,uCAAuC,gDAAgD,yDAAyD,uCAAuC,SAAS,OAAO,uCAAuC,SAAS,OAAO,EAAE,wBAAwB,KAAK,qHAAqH,yIAAyI,mBAAmB,oFAAoF,kBAAkB,+BAA+B,wBAAwB,gBAAgB,4CAA4C,gFAAgF,KAAK,qCAAqC,YAAY,4BAA4B,mCAAmC,OAAO,yBAAyB,mBAAmB,gCAAgC,mBAAmB,SAAS,OAAO,kBAAkB,KAAK,4CAA4C,0BAA0B,+FAA+F,KAAK,oCAAoC,uCAAuC,kBAAkB,4BAA4B,iCAAiC,0DAA0D,0CAA0C,+BAA+B,+DAA+D,sBAAsB,eAAe,aAAa,WAAW,SAAS,OAAO,kDAAkD,YAAY,OAAO,2BAA2B,2DAA2D,oBAAoB,aAAa,WAAW,SAAS,OAAO,mBAAmB,KAAK,sCAAsC,mBAAmB,uCAAuC,gCAAgC,yBAAyB,SAAS,OAAO,EAAE,mBAAmB,KAAK,4CAA4C,qBAAqB,mBAAmB,OAAO,oCAAoC,uBAAuB,OAAO,qCAAqC,KAAK,0CAA0C,klBAAklB,sBAAsB,2FAA2F,iBAAiB,yFAAyF,qCAAqC,0BAA0B,sBAAsB,SAAS,kCAAkC,4CAA4C,0BAA0B,wBAAwB,SAAS,4CAA4C,iCAAiC,SAAS,OAAO,wBAAwB,oDAAoD,WAAW,8CAA8C,SAAS,mCAAmC,mCAAmC,yHAAyH,2CAA2C,WAAW,OAAO,8CAA8C,WAAW,wBAAwB,2BAA2B,sFAAsF,8BAA8B,sCAAsC,wCAAwC,eAAe,aAAa,OAAO,0EAA0E,4BAA4B,4BAA4B,eAAe,2CAA2C,2CAA2C,eAAe,gCAAgC,6BAA6B,aAAa,WAAW,OAAO,oDAAoD,WAAW,SAAS,OAAO,oCAAoC,SAAS,sBAAsB,OAAO,4GAA4G,MAAM,+DAA+D,mCAAmC,OAAO,4FAA4F,2BAA2B,yDAAyD,QAAQ,4EAA4E,qBAAqB,0EAA0E,kCAAkC,gCAAgC,2CAA2C,SAAS,+BAA+B,oFAAoF,qCAAqC,qBAAqB,kBAAkB,OAAO,+BAA+B,WAAW,SAAS,OAAO,sDAAsD,SAAS,sBAAsB,OAAO,2HAA2H,cAAc,oFAAoF,OAAO,+CAA+C,4BAA4B,oHAAoH,8BAA8B,2CAA2C,4CAA4C,mCAAmC,WAAW,EAAE,SAAS,6BAA6B,gCAAgC,qBAAqB,wCAAwC,qCAAqC,qCAAqC,sCAAsC,uBAAuB,eAAe,qCAAqC,8CAA8C,eAAe,OAAO,kDAAkD,eAAe,aAAa,WAAW,EAAE,SAAS,OAAO,kDAAkD,mCAAmC,mCAAmC,6CAA6C,aAAa,qCAAqC,oDAAoD,aAAa,oDAAoD,mCAAmC,4BAA4B,aAAa,WAAW,yBAAyB,SAAS,sBAAsB,OAAO,+HAA+H,cAAc,oDAAoD,4BAA4B,wDAAwD,qCAAqC,OAAO,2HAA2H,cAAc,mFAAmF,OAAO,+CAA+C,4BAA4B,mHAAmH,wBAAwB,uCAAuC,2CAA2C,4CAA4C,mCAAmC,WAAW,EAAE,SAAS,6BAA6B,gCAAgC,qCAAqC,iCAAiC,aAAa,WAAW,EAAE,SAAS,OAAO,+DAA+D,iCAAiC,WAAW,yBAAyB,SAAS,sBAAsB,OAAO,sHAAsH,cAAc,4EAA4E,OAAO,+CAA+C,4BAA4B,+GAA+G,mCAAmC,gCAAgC,yDAAyD,mCAAmC,WAAW,EAAE,SAAS,iCAAiC,qDAAqD,2BAA2B,WAAW,EAAE,SAAS,2CAA2C,4CAA4C,kCAAkC,WAAW,EAAE,SAAS,OAAO,iCAAiC,+BAA+B,+GAA+G,4BAA4B,aAAa,oCAAoC,qCAAqC,sCAAsC,qCAAqC,sCAAsC,uBAAuB,eAAe,qBAAqB,yDAAyD,eAAe,aAAa,wCAAwC,qDAAqD,2CAA2C,qDAAqD,iBAAiB,OAAO,8CAA8C,iBAAiB,eAAe,aAAa,EAAE,WAAW,OAAO,0BAA0B,oCAAoC,mCAAmC,mCAAmC,aAAa,kDAAkD,mBAAmB,gHAAgH,eAAe,aAAa,6BAA6B,eAAe,aAAa,6BAA6B,mDAAmD,aAAa,WAAW,SAAS,sBAAsB,OAAO,iHAAiH,qBAAqB,uEAAuE,+CAA+C,uBAAuB,yBAAyB,4BAA4B,kCAAkC,8CAA8C,WAAW,SAAS,sBAAsB,OAAO,iGAAiG,qBAAqB,oEAAoE,+CAA+C,uBAAuB,yBAAyB,mCAAmC,8CAA8C,WAAW,SAAS,sBAAsB,OAAO,8HAA8H,OAAO,yEAAyE,4BAA4B,yFAAyF,2BAA2B,iCAAiC,0BAA0B,iBAAiB,yBAAyB,wCAAwC,aAAa,WAAW,aAAa,wIAAwI,WAAW,wBAAwB,SAAS,kDAAkD,OAAO,8HAA8H,OAAO,yEAAyE,4BAA4B,yFAAyF,2BAA2B,iCAAiC,0BAA0B,uBAAuB,2CAA2C,wCAAwC,aAAa,OAAO,0CAA0C,aAAa,WAAW,wBAAwB,SAAS,2EAA2E,OAAO,0IAA0I,0CAA0C,oEAAoE,qBAAqB,gDAAgD,8DAA8D,yHAAyH,mCAAmC,WAAW,SAAS,EAAE,OAAO,4IAA4I,0CAA0C,qEAAqE,qBAAqB,iDAAiD,8DAA8D,yHAAyH,qDAAqD,WAAW,SAAS,QAAQ,OAAO,0HAA0H,0CAA0C,wEAAwE,qBAAqB,gDAAgD,wBAAwB,8CAA8C,gEAAgE,qDAAqD,WAAW,EAAE,SAAS,sBAAsB,OAAO,wHAAwH,0CAA0C,uEAAuE,qBAAqB,+CAA+C,wBAAwB,8CAA8C,gEAAgE,iEAAiE,WAAW,QAAQ,SAAS,sBAAsB,OAAO,0IAA0I,0CAA0C,yDAAyD,qBAAqB,6EAA6E,mCAAmC,sBAAsB,OAAO,4IAA4I,0CAA0C,0DAA0D,qBAAqB,+EAA+E,oCAAoC,sBAAsB,OAAO,+HAA+H,0CAA0C,yDAAyD,qBAAqB,wEAAwE,6CAA6C,OAAO,wHAAwH,0CAA0C,sDAAsD,qBAAqB,gEAAgE,mCAAmC,OAAO,2MAA2M,0CAA0C,sDAAsD,qBAAqB,mEAAmE,yCAAyC,OAAO,4IAA4I,0CAA0C,sDAAsD,qBAAqB,qEAAqE,8BAA8B,qDAAqD,SAAS,EAAE,sBAAsB,OAAO,8IAA8I,qBAAqB,6DAA6D,8CAA8C,sDAAsD,SAAS,EAAE,OAAO,6FAA6F,qBAAqB,yDAAyD,wBAAwB,gCAAgC,4CAA4C,SAAS,EAAE,kCAAkC,OAAO,iIAAiI,OAAO,+CAA+C,qBAAqB,2DAA2D,iDAAiD,OAAO,uIAAuI,OAAO,kDAAkD,qBAAqB,8DAA8D,kDAAkD,OAAO,uIAAuI,OAAO,qDAAqD,QAAQ,yDAAyD,qBAAqB,qEAAqE,wBAAwB,mFAAmF,sBAAsB,SAAS,8CAA8C,iDAAiD,0CAA0C,WAAW,EAAE,SAAS,OAAO,2CAA2C,8CAA8C,qDAAqD,uCAAuC,iDAAiD,iCAAiC,+GAA+G,eAAe,OAAO,kFAAkF,eAAe,aAAa,WAAW,EAAE,SAAS,sBAAsB,OAAO,2IAA2I,OAAO,qDAAqD,QAAQ,6FAA6F,4CAA4C,OAAO,wMAAwM,SAAS,uEAAuE,qBAAqB,sDAAsD,oCAAoC,OAAO,8HAA8H,OAAO,iDAAiD,SAAS,+EAA+E,qBAAqB,0DAA0D,qCAAqC,2CAA2C,SAAS,EAAE,OAAO,iIAAiI,OAAO,0DAA0D,SAAS,wFAAwF,qBAAqB,2DAA2D,qCAAqC,6CAA6C,SAAS,EAAE,OAAO,2HAA2H,cAAc,qEAAqE,qBAAqB,qDAAqD,qCAAqC,wCAAwC,8CAA8C,WAAW,OAAO,mCAAmC,WAAW,SAAS,EAAE,OAAO,8FAA8F,qBAAqB,8CAA8C,uCAAuC,OAAO,8FAA8F,qBAAqB,8CAA8C,2CAA2C,OAAO,2FAA2F,OAAO,gDAAgD,OAAO,0DAA0D,qBAAqB,8CAA8C,0DAA0D,OAAO,4GAA4G,OAAO,kDAAkD,qBAAqB,qDAAqD,gFAAgF,OAAO,iHAAiH,qBAAqB,mDAAmD,0BAA0B,OAAO,+GAA+G,qBAAqB,kDAAkD,2BAA2B,OAAO,oIAAoI,OAAO,yDAAyD,qBAAqB,oEAAoE,2BAA2B,sCAAsC,OAAO,OAAO,gDAAgD,SAAS,+BAA+B,OAAO,yHAAyH,gBAAgB,2DAA2D,qBAAqB,uEAAuE,4CAA4C,kEAAkE,qCAAqC,WAAW,GAAG,SAAS,qEAAqE,OAAO,0IAA0I,oCAAoC,wDAAwD,qBAAqB,uEAAuE,wBAAwB,6CAA6C,iCAAiC,SAAS,uCAAuC,wBAAwB,6EAA6E,gCAAgC,oBAAoB,aAAa,6BAA6B,gCAAgC,oBAAoB,aAAa,qCAAqC,WAAW,SAAS,EAAE,kCAAkC,OAAO,+KAA+K,OAAO,qEAAqE,4BAA4B,yHAAyH,6BAA6B,8BAA8B,wBAAwB,wBAAwB,sBAAsB,oCAAoC,yCAAyC,8CAA8C,gDAAgD,4FAA4F,wFAAwF,aAAa,WAAW,oBAAoB,kDAAkD,SAAS,kCAAkC,OAAO,qEAAqE,mDAAmD,wIAAwI,OAAO,gEAAgE,SAAS,2DAA2D,OAAO,+LAA+L,OAAO,qDAAqD,MAAM,wEAAwE,kDAAkD,0BAA0B,SAAS,uCAAuC,OAAO,+IAA+I,OAAO,wCAAwC,MAAM,mDAAmD,OAAO,4MAA4M,OAAO,iEAAiE,QAAQ,+RAA+R,OAAO,wCAAwC,SAAS,2NAA2N,OAAO,wDAAwD,OAAO,+UAA+U,MAAM,sDAAsD,SAAS,yGAAyG,MAAM,uNAAuN,cAAc,EAAE,gOAAgO,6BAA6B,oBAAoB,0CAA0C,SAAS,uBAAuB,uCAAuC,+BAA+B,WAAW,SAAS,mCAAmC,kFAAkF,SAAS,OAAO,qDAAqD,SAAS,uBAAuB,OAAO,KAAK,EAAE,qCAAqC,uCAAuC,oEAAoE,yBAAyB,OAAO,2CAA2C,kCAAkC,8BAA8B,kBAAkB,WAAW,sEAAsE,kBAAkB,WAAW,SAAS,mCAAmC,4BAA4B,SAAS,0BAA0B,OAAO,uBAAuB,KAAK,4DAA4D,sBAAsB,wCAAwC,yBAAyB,OAAO,cAAc,MAAM,4BAA4B,qDAAqD,mBAAmB,SAAS,oCAAoC,+BAA+B,kBAAkB,WAAW,uEAAuE,kBAAkB,WAAW,SAAS,4BAA4B,OAAO,sBAAsB,KAAK,0DAA0D,oCAAoC,MAAM,4BAA4B,wCAAwC,sBAAsB,SAAS,OAAO,oBAAoB,KAAK,YAAY,6KAA6K,6BAA6B,sDAAsD,qBAAqB,wFAAwF,qCAAqC,kEAAkE,OAAO,0LAA0L,6BAA6B,sDAAsD,qBAAqB,yFAAyF,yCAAyC,OAAO,gLAAgL,6BAA6B,+DAA+D,qBAAqB,uFAAuF,oDAAoD,OAAO,oLAAoL,6BAA6B,mEAAmE,qBAAqB,uFAAuF,wDAAwD,OAAO,iIAAiI,6BAA6B,2DAA2D,qBAAqB,2FAA2F,0DAA0D,OAAO,8HAA8H,6BAA6B,oDAAoD,qBAAqB,2FAA2F,qIAAqI,OAAO,KAAK,sBAAsB,8CAA8C,qCAAqC,gCAAgC,8DAA8D,wBAAwB,0CAA0C,+CAA+C,aAAa,OAAO,iCAAiC,aAAa,WAAW,SAAS,EAAE,kHAAkH,mCAAmC,6CAA6C,WAAW,gDAAgD,sCAAsC,WAAW,SAAS,oCAAoC,yBAAyB,yCAAyC,SAAS,wBAAwB,QAAQ,KAAK,EAAE,YAAY,wOAAwO,6BAA6B,8CAA8C,oCAAoC,gEAAgE,qBAAqB,qGAAqG,gDAAgD,OAAO,0LAA0L,6BAA6B,qDAAqD,oCAAoC,gEAAgE,qBAAqB,mGAAmG,+DAA+D,OAAO,8LAA8L,6BAA6B,yDAAyD,oCAAoC,gEAAgE,qBAAqB,mGAAmG,mEAAmE,OAAO,KAAK,sBAAsB,sDAAsD,qCAAqC,gCAAgC,8DAA8D,wBAAwB,0CAA0C,+CAA+C,aAAa,OAAO,iCAAiC,aAAa,WAAW,SAAS,EAAE,kHAAkH,2CAA2C,wEAAwE,sCAAsC,WAAW,SAAS,oCAAoC,uBAAuB,uCAAuC,SAAS,wBAAwB,QAAQ,KAAK,EAAE,uHAAuH,OAAO,iEAAiE,QAAQ,oGAAoG,4DAA4D,MAAM,+CAA+C,sDAAsD,mBAAmB,yCAAyC,0CAA0C,uCAAuC,sCAAsC,SAAS,yBAAyB,qCAAqC,SAAS,oDAAoD,OAAO,mCAAmC,mBAAmB,MAAM,sDAAsD,wCAAwC,oDAAoD,uCAAuC,OAAO,EAAE,KAAK,iCAAiC,qCAAqC,kCAAkC,oCAAoC,uCAAuC,yBAAyB,WAAW,yBAAyB,SAAS,gCAAgC,+BAA+B,+BAA+B,yBAAyB,WAAW,yBAAyB,SAAS,mCAAmC,+BAA+B,SAAS,iCAAiC,wCAAwC,qCAAqC,yBAAyB,WAAW,yBAAyB,SAAS,OAAO,EAAE,uCAAuC,uCAAuC,gCAAgC,SAAS,wCAAwC,oCAAoC,SAAS,OAAO,EAAE,KAAK,iCAAiC,+FAA+F,sCAAsC,uCAAuC,gCAAgC,iDAAiD,4CAA4C,WAAW,OAAO,2BAA2B,kEAAkE,WAAW,SAAS,OAAO,EAAE,KAAK,qCAAqC,iCAAiC,sBAAsB,GAAG,EAAE,2bAA2b,sCAAsC,sBAAsB,SAAS,MAAM,EAAE,wDAAwD,0BAA0B,2EAA2E,2GAA2G,uCAAuC,mXAAmX,IAAI,oEAAoE,uEAAuE,kCAAkC,qBAAqB,8CAA8C,kDAAkD,OAAO,8CAA8C,QAAQ,iCAAiC,iBAAiB,0BAA0B,OAAO,6DAA6D,6DAA6D,OAAO,wCAAwC,2BAA2B,+CAA+C,oDAAoD,oBAAoB,gDAAgD,OAAO,gBAAgB,wJAAwJ,OAAO,2DAA2D,OAAO,uFAAuF,iDAAiD,SAAS,iYAAiY,OAAO,4DAA4D,qBAAqB,OAAO,2CAA2C,wBAAwB,yCAAyC,yBAAyB,yEAAyE,uEAAuE,uDAAuD,yCAAyC,qDAAqD,uBAAuB,qBAAqB,aAAa,yDAAyD,yBAAyB,qBAAqB,aAAa,2DAA2D,0BAA0B,qBAAqB,aAAa,uDAAuD,wBAAwB,qBAAqB,aAAa,mDAAmD,+BAA+B,yBAAyB,0CAA0C,sBAAsB,eAAe,aAAa,qCAAqC,qBAAqB,aAAa,yEAAyE,oDAAoD,sDAAsD,uDAAuD,qDAAqD,WAAW,0KAA0K,uCAAuC,2BAA2B,qBAAqB,aAAa,uCAAuC,6BAA6B,yBAAyB,0CAA0C,6BAA6B,eAAe,aAAa,qCAAqC,0BAA0B,WAAW,kIAAkI,kCAAkC,qBAAqB,aAAa,oCAAoC,qBAAqB,aAAa,oCAAoC,qBAAqB,aAAa,oGAAoG,6BAA6B,6BAA6B,6BAA6B,WAAW,uEAAuE,8CAA8C,6BAA6B,yCAAyC,WAAW,8OAA8O,4BAA4B,gEAAgE,2CAA2C,eAAe,EAAE,aAAa,kCAAkC,+CAA+C,eAAe,aAAa,yBAAyB,WAAW,sDAAsD,sEAAsE,WAAW,gDAAgD,6EAA6E,WAAW,oEAAoE,8BAA8B,wBAAwB,gCAAgC,6HAA6H,aAAa,gDAAgD,gDAAgD,+DAA+D,0DAA0D,4BAA4B,eAAe,4FAA4F,4BAA4B,eAAe,aAAa,wGAAwG,uEAAuE,aAAa,6GAA6G,WAAW,sBAAsB,wDAAwD,wCAAwC,gHAAgH,+EAA+E,oCAAoC,cAAc,aAAa,EAAE,oFAAoF,wEAAwE,2EAA2E,8DAA8D,oCAAoC,0GAA0G,kDAAkD,iVAAiV,2BAA2B,iBAAiB,oNAAoN,2BAA2B,iBAAiB,iJAAiJ,iCAAiC,iBAAiB,4DAA4D,2EAA2E,iBAAiB,sGAAsG,2IAA2I,uEAAuE,eAAe,aAAa,qIAAqI,6CAA6C,6CAA6C,6CAA6C,wCAAwC,uCAAuC,gFAAgF,6GAA6G,mCAAmC,aAAa,+OAA+O,4CAA4C,aAAa,WAAW,0BAA0B,SAAS,sIAAsI,OAAO,oDAAoD,wBAAwB,mBAAmB,OAAO,gIAAgI,OAAO,2IAA2I,oCAAoC,4CAA4C,uCAAuC,4CAA4C,4BAA4B,+CAA+C,OAAO,OAAO,oCAAoC,qCAAqC,8BAA8B,+EAA+E,EAAE,iBAAiB,eAAe,aAAa,WAAW,iDAAiD,yBAAyB,4CAA4C,6CAA6C,2BAA2B,aAAa,oDAAoD,6CAA6C,2BAA2B,aAAa,0BAA0B,WAAW,8FAA8F,mGAAmG,yCAAyC,WAAW,OAAO,0GAA0G,mCAAmC,8EAA8E,6EAA6E,EAAE,eAAe,aAAa,WAAW,uBAAuB,SAAS,QAAQ,MAAM,GAAG,EAAE,sdAAsd,aAAa,uCAAuC,MAAM,uBAAuB,0DAA0D,oHAAoH,KAAK,qDAAqD,KAAK,mGAAmG,2BAA2B,qEAAqE,4BAA4B,qBAAqB,0FAA0F,mCAAmC,WAAW,gFAAgF,wCAAwC,0BAA0B,6BAA6B,aAAa,mGAAmG,8BAA8B,8BAA8B,4CAA4C,4BAA4B,+BAA+B,eAAe,aAAa,WAAW,SAAS,OAAO,0EAA0E,mCAAmC,qBAAqB,sCAAsC,iDAAiD,mBAAmB,WAAW,0BAA0B,2BAA2B,uGAAuG,OAAO,4BAA4B,wCAAwC,+BAA+B,iBAAiB,eAAe,aAAa,6BAA6B,WAAW,qCAAqC,8CAA8C,0BAA0B,WAAW,SAAS,OAAO,+FAA+F,KAAK,4EAA4E,oBAAoB,QAAQ,kGAAkG,KAAK,8GAA8G,uEAAuE,oBAAoB,QAAQ,sGAAsG,KAAK,kHAAkH,0EAA0E,oBAAoB,QAAQ,wCAAwC,+EAA+E,oBAAoB,QAAQ,MAAM,GAAG,EAAE,kbAAkb,iDAAiD,uWAAuW,2CAA2C,4CAA4C,OAAO,iCAAiC,iCAAiC,OAAO,+BAA+B,kCAAkC,OAAO,oCAAoC,6CAA6C,OAAO,mCAAmC,iDAAiD,OAAO,kCAAkC,2CAA2C,OAAO,iCAAiC,+CAA+C,OAAO,+BAA+B,iBAAiB,sDAAsD,gDAAgD,SAAS,OAAO,sDAAsD,gDAAgD,SAAS,gCAAgC,OAAO,gCAAgC,0BAA0B,uBAAuB,OAAO,wCAAwC,uBAAuB,+EAA+E,OAAO,8CAA8C,8MAA8M,uDAAuD,0DAA0D,SAAS,qDAAqD,0DAA0D,SAAS,mDAAmD,0DAA0D,SAAS,qDAAqD,0DAA0D,SAAS,OAAO,mCAAmC,0BAA0B,OAAO,oCAAoC,kCAAkC,OAAO,kCAAkC,gCAAgC,OAAO,gCAAgC,qGAAqG,kJAAkJ,6BAA6B,yGAAyG,WAAW,2DAA2D,gFAAgF,WAAW,OAAO,2FAA2F,0DAA0D,WAAW,SAAS,OAAO,qFAAqF,uDAAuD,WAAW,oBAAoB,8CAA8C,WAAW,OAAO,+CAA+C,iDAAiD,aAAa,OAAO,4CAA4C,aAAa,WAAW,SAAS,OAAO,sCAAsC,uCAAuC,6BAA6B,yBAAyB,2BAA2B,OAAO,+BAA+B,uCAAuC,wRAAwR,EAAE,OAAO,gFAAgF,kBAAkB,4DAA4D,2BAA2B,SAAS,2BAA2B,2BAA2B,SAAS,uCAAuC,qCAAqC,mBAAmB,oCAAoC,SAAS,sBAAsB,uBAAuB,SAAS,2BAA2B,OAAO,iCAAiC,wGAAwG,OAAO,mFAAmF,mDAAmD,qUAAqU,mCAAmC,qBAAqB,oBAAoB,oCAAoC,sBAAsB,qBAAqB,qBAAqB,kBAAkB,gRAAgR,iDAAiD,2BAA2B,SAAS,kBAAkB,sBAAsB,oCAAoC,iDAAiD,sBAAsB,8BAA8B,WAAW,qCAAqC,sBAAsB,qBAAqB,qBAAqB,kBAAkB,mQAAmQ,iDAAiD,2BAA2B,SAAS,kBAAkB,sBAAsB,oCAAoC,iDAAiD,sBAAsB,8BAA8B,WAAW,oCAAoC,sBAAsB,qBAAqB,qBAAqB,kBAAkB,uYAAuY,4BAA4B,0DAA0D,qCAAqC,SAAS,wBAAwB,2BAA2B,SAAS,8BAA8B,wDAAwD,qCAAqC,SAAS,wBAAwB,2BAA2B,SAAS,iCAAiC,mBAAmB,kBAAkB,iCAAiC,mBAAmB,4BAA4B,sBAAsB,qBAAqB,8BAA8B,qBAAqB,oBAAoB,8BAA8B,SAAS,OAAO,yCAAyC,mBAAmB,mBAAmB,oCAAoC,iCAAiC,SAAS,OAAO,kCAAkC,+BAA+B,SAAS,yUAAyU,+BAA+B,6BAA6B,SAAS,qCAAqC,+BAA+B,6BAA6B,SAAS,yBAAyB,0XAA0X,8BAA8B,WAAW,SAAS,OAAO,4BAA4B,SAAS,0CAA0C,0GAA0G,OAAO,iCAAiC,wGAAwG,6DAA6D,6CAA6C,SAAS,yDAAyD,GAAG,2BAA2B,2CAA2C,yDAAyD,WAAW,gCAAgC,SAAS,2DAA2D,GAAG,2BAA2B,yCAAyC,uDAAuD,WAAW,kCAAkC,SAAS,8DAA8D,4CAA4C,+BAA+B,2CAA2C,sBAAsB,SAAS,wCAAwC,+BAA+B,uCAAuC,sBAAsB,SAAS,yIAAyI,UAAU,0CAA0C,yBAAyB,uBAAuB,SAAS,mEAAmE,OAAO,8CAA8C,gEAAgE,8BAA8B,0CAA0C,SAAS,iHAAiH,sBAAsB,SAAS,oGAAoG,yFAAyF,kEAAkE,uFAAuF,sCAAsC,uCAAuC,wDAAwD,iEAAiE,0CAA0C,aAAa,OAAO,uCAAuC,aAAa,0GAA0G,WAAW,gCAAgC,mBAAmB,WAAW,iCAAiC,sDAAsD,WAAW,wBAAwB,SAAS,8HAA8H,oDAAoD,gCAAgC,kCAAkC,oDAAoD,uBAAuB,uCAAuC,WAAW,kBAAkB,sBAAsB,SAAS,iGAAiG,8BAA8B,SAAS,sBAAsB,OAAO,kEAAkE,oDAAoD,8BAA8B,0CAA0C,SAAS,uDAAuD,qBAAqB,8BAA8B,SAAS,0CAA0C,0CAA0C,yBAAyB,2HAA2H,2CAA2C,iCAAiC,WAAW,wBAAwB,SAAS,0CAA0C,yBAAyB,sCAAsC,oDAAoD,uBAAuB,yDAAyD,WAAW,kBAAkB,sBAAsB,SAAS,uHAAuH,yCAAyC,+BAA+B,SAAS,sBAAsB,OAAO,kEAAkE,sDAAsD,8BAA8B,0CAA0C,SAAS,wDAAwD,mBAAmB,8BAA8B,SAAS,8CAA8C,mBAAmB,+EAA+E,sCAAsC,8BAA8B,kCAAkC,oDAAoD,uBAAuB,uCAAuC,WAAW,kBAAkB,sBAAsB,SAAS,6BAA6B,4CAA4C,8BAA8B,SAAS,sBAAsB,OAAO,4EAA4E,uEAAuE,8BAA8B,0CAA0C,SAAS,wDAAwD,mBAAmB,8BAA8B,SAAS,iDAAiD,2CAA2C,sBAAsB,wCAAwC,4CAA4C,2BAA2B,4CAA4C,mDAAmD,uBAAuB,gCAAgC,WAAW,kCAAkC,gBAAgB,SAAS,uDAAuD,qBAAqB,8BAA8B,SAAS,6BAA6B,4CAA4C,8BAA8B,SAAS,sBAAsB,OAAO,oDAAoD,qGAAqG,uGAAuG,6BAA6B,kEAAkE,SAAS,mCAAmC,gEAAgE,0BAA0B,wBAAwB,+CAA+C,2EAA2E,kCAAkC,8EAA8E,aAAa,qCAAqC,+BAA+B,WAAW,iCAAiC,gCAAgC,WAAW,0CAA0C,qCAAqC,yEAAyE,gCAAgC,wDAAwD,WAAW,6CAA6C,SAAS,OAAO,mDAAmD,gIAAgI,8EAA8E,6BAA6B,iEAAiE,SAAS,mCAAmC,+DAA+D,0BAA0B,wBAAwB,2CAA2C,0EAA0E,kCAAkC,oDAAoD,aAAa,qCAAqC,+BAA+B,WAAW,iCAAiC,gCAAgC,WAAW,sCAAsC,qCAAqC,wEAAwE,gCAAgC,wDAAwD,WAAW,6CAA6C,SAAS,OAAO,iEAAiE,kEAAkE,gCAAgC,gDAAgD,SAAS,oDAAoD,iCAAiC,yBAAyB,wCAAwC,sDAAsD,yDAAyD,WAAW,OAAO,sCAAsC,yDAAyD,sDAAsD,WAAW,+BAA+B,uCAAuC,WAAW,gCAAgC,mBAAmB,WAAW,0CAA0C,2CAA2C,2BAA2B,SAAS,8BAA8B,iBAAiB,SAAS,qCAAqC,OAAO,iDAAiD,4BAA4B,uDAAuD,SAAS,sCAAsC,OAAO,+BAA+B,mEAAmE,OAAO,sBAAsB,k7BAAk7B,EAAE,oBAAoB,KAAK,mKAAmK,+BAA+B,MAAM,mBAAmB,GAAG,EAAE,ghBAAghB,gCAAgC,kVAAkV,eAAe,sBAAsB,ghBAAghB,yCAAyC,qBAAqB,oGAAoG,kBAAkB,kBAAkB,mBAAmB,yBAAyB,OAAO,qEAAqE,WAAW,kBAAkB,mBAAmB,oBAAoB,qBAAqB,cAAc,2EAA2E,cAAc,8CAA8C,2BAA2B,wDAAwD,KAAK,sGAAsG,sCAAsC,oBAAoB,iCAAiC,4BAA4B,2DAA2D,kBAAkB,UAAU,+DAA+D,4EAA4E,4CAA4C,EAAE,iCAAiC,iCAAiC,WAAW,SAAS,wBAAwB,OAAO,KAAK,sjFAAsjF,sBAAsB,qLAAqL,OAAO,sCAAsC,QAAQ,mFAAmF,OAAO,qEAAqE,sFAAsF,0CAA0C,SAAS,EAAE,OAAO,2WAA2W,OAAO,uCAAuC,OAAO,kEAAkE,kEAAkE,0CAA0C,SAAS,EAAE,OAAO,kQAAkQ,OAAO,sCAAsC,QAAQ,mFAAmF,OAAO,yEAAyE,sFAAsF,6FAA6F,gHAAgH,EAAE,WAAW,qEAAqE,EAAE,SAAS,EAAE,OAAO,4PAA4P,OAAO,sCAAsC,QAAQ,kFAAkF,OAAO,oEAAoE,OAAO,iFAAiF,6CAA6C,wFAAwF,2DAA2D,SAAS,EAAE,OAAO,uJAAuJ,OAAO,kFAAkF,OAAO,gGAAgG,SAAS,oFAAoF,kEAAkE,sDAAsD,wFAAwF,sFAAsF,SAAS,WAAW,EAAE,SAAS,kDAAkD,4DAA4D,SAAS,+HAA+H,+EAA+E,uCAAuC,SAAS,mDAAmD,kDAAkD,qCAAqC,WAAW,wCAAwC,SAAS,+CAA+C,wCAAwC,SAAS,0DAA0D,OAAO,sJAAsJ,OAAO,8CAA8C,OAAO,8DAA8D,kEAAkE,wBAAwB,0DAA0D,wDAAwD,aAAa,OAAO,8CAA8C,aAAa,qEAAqE,iCAAiC,iGAAiG,aAAa,uEAAuE,WAAW,mFAAmF,SAAS,EAAE,OAAO,MAAM,sBAAsB,GAAG,EAAE,6kBAA6kB,mBAAmB,2CAA2C,wCAAwC,cAAc,kCAAkC,iDAAiD,qCAAqC,mEAAmE,OAAO,kKAAkK,OAAO,uCAAuC,SAAS,qEAAqE,SAAS,6HAA6H,0CAA0C,6BAA6B,6DAA6D,yBAAyB,2BAA2B,WAAW,6BAA6B,4BAA4B,4BAA4B,SAAS,6BAA6B,6DAA6D,yBAAyB,2BAA2B,WAAW,6BAA6B,4BAA4B,4BAA4B,SAAS,wHAAwH,0EAA0E,2DAA2D,SAAS,wIAAwI,gCAAgC,kGAAkG,6CAA6C,aAAa,OAAO,uBAAuB,aAAa,WAAW,SAAS,8OAA8O,2BAA2B,8FAA8F,2BAA2B,0CAA0C,6FAA6F,kDAAkD,yBAAyB,4BAA4B,eAAe,aAAa,WAAW,2BAA2B,SAAS,sIAAsI,2BAA2B,iBAAiB,8IAA8I,uBAAuB,gCAAgC,aAAa,aAAa,oCAAoC,WAAW,0BAA0B,SAAS,2CAA2C,mCAAmC,mBAAmB,yDAAyD,sCAAsC,SAAS,OAAO,oCAAoC,SAAS,+BAA+B,4CAA4C,SAAS,8BAA8B,2CAA2C,SAAS,2EAA2E,iBAAiB,SAAS,iFAAiF,mBAAmB,iBAAiB,SAAS,mFAAmF,mBAAmB,iBAAiB,SAAS,mDAAmD,8CAA8C,gCAAgC,+BAA+B,oCAAoC,2BAA2B,2BAA2B,yCAAyC,iKAAiK,gDAAgD,gCAAgC,SAAS,OAAO,qOAAqO,oDAAoD,0DAA0D,qCAAqC,gCAAgC,mBAAmB,WAAW,oFAAoF,SAAS,6BAA6B,wBAAwB,OAAO,yBAAyB,MAAM,GAAG,EAAE,+fAA+f,2HAA2H,+aAA+a,mGAAmG,sBAAsB,8CAA8C,6CAA6C,mDAAmD,wBAAwB,iDAAiD,uBAAuB,0CAA0C,uCAAuC,gHAAgH,WAAW,mEAAmE,SAAS,sCAAsC,kEAAkE,SAAS,QAAQ,qBAAqB,gBAAgB,sCAAsC,8DAA8D,8BAA8B,qBAAqB,aAAa,+BAA+B,iDAAiD,aAAa,wCAAwC,WAAW,kCAAkC,0EAA0E,4FAA4F,2BAA2B,WAAW,SAAS,QAAQ,yBAAyB,qDAAqD,OAAO,yBAAyB,KAAK,wDAAwD,qCAAqC,sFAAsF,qBAAqB,qBAAqB,OAAO,2CAA2C,KAAK,4CAA4C,0CAA0C,mBAAmB,uEAAuE,MAAM,+BAA+B,mCAAmC,+EAA+E,qEAAqE,uBAAuB,aAAa,WAAW,gBAAgB,kCAAkC,SAAS,OAAO,mBAAmB,KAAK,oLAAoL,SAAS,oEAAoE,SAAS,oFAAoF,wCAAwC,uBAAuB,wBAAwB,sBAAsB,uBAAuB,oDAAoD,gFAAgF,wDAAwD,4BAA4B,gDAAgD,oCAAoC,gCAAgC,8GAA8G,mBAAmB,yBAAyB,2FAA2F,sDAAsD,mFAAmF,8CAA8C,gBAAgB,kEAAkE,OAAO,EAAE,2IAA2I,YAAY,8CAA8C,QAAQ,sGAAsG,4CAA4C,uBAAuB,SAAS,kJAAkJ,uFAAuF,mEAAmE,SAAS,0CAA0C,QAAQ,KAAK,4BAA4B,yBAAyB,qCAAqC,8BAA8B,SAAS,6BAA6B,OAAO,mDAAmD,2CAA2C,wCAAwC,qSAAqS,oCAAoC,WAAW,EAAE,sGAAsG,oCAAoC,WAAW,SAAS,OAAO,sCAAsC,oCAAoC,8GAA8G,sCAAsC,SAAS,yBAAyB,+DAA+D,mDAAmD,iFAAiF,sFAAsF,WAAW,EAAE,yBAAyB,SAAS,kCAAkC,OAAO,yOAAyO,QAAQ,wEAAwE,wBAAwB,6DAA6D,OAAO,6GAA6G,OAAO,0DAA0D,OAAO,sFAAsF,yBAAyB,sCAAsC,2BAA2B,iEAAiE,uEAAuE,sNAAsN,OAAO,mHAAmH,eAAe,0EAA0E,OAAO,sGAAsG,mCAAmC,8BAA8B,+BAA+B,iCAAiC,kBAAkB,qEAAqE,OAAO,2HAA2H,eAAe,0EAA0E,OAAO,gGAAgG,8BAA8B,8BAA8B,wCAAwC,yCAAyC,gGAAgG,gBAAgB,SAAS,gGAAgG,gBAAgB,SAAS,kBAAkB,iJAAiJ,OAAO,mZAAmZ,YAAY,kEAAkE,SAAS,sFAAsF,KAAK,0EAA0E,KAAK,+FAA+F,4DAA4D,OAAO,gSAAgS,YAAY,kEAAkE,SAAS,qFAAqF,KAAK,0EAA0E,MAAM,+GAA+G,kDAAkD,gCAAgC,wCAAwC,sIAAsI,wEAAwE,iCAAiC,mCAAmC,uCAAuC,wCAAwC,cAAc,WAAW,OAAO,uCAAuC,gDAAgD,cAAc,WAAW,SAAS,wBAAwB,sEAAsE,kBAAkB,WAAW,8CAA8C,0BAA0B,gCAAgC,aAAa,OAAO,0BAA0B,aAAa,WAAW,mCAAmC,SAAS,yCAAyC,OAAO,gJAAgJ,eAAe,2EAA2E,QAAQ,iGAAiG,iBAAiB,0DAA0D,qBAAqB,6CAA6C,4KAA4K,uDAAuD,WAAW,SAAS,qBAAqB,OAAO,6HAA6H,KAAK,kDAAkD,gBAAgB,gEAAgE,KAAK,mHAAmH,4DAA4D,OAAO,iIAAiI,KAAK,kDAAkD,gBAAgB,gEAAgE,KAAK,uHAAuH,gEAAgE,OAAO,qUAAqU,OAAO,0EAA0E,OAAO,0EAA0E,MAAM,yNAAyN,4PAA4P,wBAAwB,8HAA8H,OAAO,+IAA+I,cAAc,sEAAsE,OAAO,+FAA+F,cAAc,wJAAwJ,iEAAiE,qCAAqC,WAAW,4FAA4F,yDAAyD,6CAA6C,2CAA2C,QAAQ,OAAO,uCAAuC,4BAA4B,eAAe,aAAa,2BAA2B,WAAW,SAAS,2EAA2E,uBAAuB,SAAS,gDAAgD,wHAAwH,OAAO,6IAA6I,qBAAqB,sGAAsG,eAAe,6EAA6E,OAAO,+FAA+F,OAAO,4EAA4E,QAAQ,kFAAkF,cAAc,0QAA0Q,kBAAkB,kBAAkB,oEAAoE,wBAAwB,0DAA0D,qBAAqB,8EAA8E,yCAAyC,uBAAuB,gCAAgC,uCAAuC,aAAa,OAAO,yCAAyC,aAAa,WAAW,oEAAoE,SAAS,EAAE,OAAO,2FAA2F,OAAO,2CAA2C,OAAO,sFAAsF,OAAO,iFAAiF,QAAQ,gMAAgM,+BAA+B,kBAAkB,oDAAoD,oDAAoD,4EAA4E,OAAO,oLAAoL,OAAO,2CAA2C,OAAO,sFAAsF,OAAO,iFAAiF,OAAO,wQAAwQ,kBAAkB,gBAAgB,wDAAwD,8BAA8B,gCAAgC,8BAA8B,qGAAqG,0EAA0E,WAAW,SAAS,yJAAyJ,0DAA0D,SAAS,iCAAiC,OAAO,0IAA0I,OAAO,4DAA4D,iBAAiB,uEAAuE,kDAAkD,iDAAiD,4CAA4C,qBAAqB,qCAAqC,SAAS,iDAAiD,iCAAiC,SAAS,sBAAsB,OAAO,2HAA2H,qBAAqB,qGAAqG,QAAQ,kKAAkK,cAAc,6QAA6Q,iGAAiG,qDAAqD,6BAA6B,6BAA6B,gCAAgC,sBAAsB,iDAAiD,mEAAmE,wCAAwC,eAAe,OAAO,0DAA0D,eAAe,aAAa,WAAW,WAAW,SAAS,OAAO,wBAAwB,SAAS,4DAA4D,OAAO,0MAA0M,qBAAqB,+EAA+E,OAAO,sDAAsD,OAAO,6OAA6O,oJAAoJ,qDAAqD,4CAA4C,4CAA4C,6CAA6C,SAAS,OAAO,yIAAyI,eAAe,0EAA0E,OAAO,4CAA4C,QAAQ,2CAA2C,OAAO,6GAA6G,2BAA2B,yBAAyB,+BAA+B,SAAS,2FAA2F,iCAAiC,SAAS,EAAE,gCAAgC,mEAAmE,SAAS,yEAAyE,OAAO,yHAAyH,qBAAqB,+FAA+F,OAAO,kPAAkP,4CAA4C,EAAE,oHAAoH,4CAA4C,EAAE,iDAAiD,uCAAuC,4CAA4C,6CAA6C,SAAS,OAAO,kIAAkI,qBAAqB,mIAAmI,wCAAwC,sCAAsC,oCAAoC,QAAQ,OAAO,iDAAiD,WAAW,SAAS,EAAE,OAAO,+HAA+H,qBAAqB,kGAAkG,OAAO,gDAAgD,OAAO,4TAA4T,8IAA8I,sDAAsD,uEAAuE,6BAA6B,uBAAuB,SAAS,6BAA6B,uCAAuC,4BAA4B,iBAAiB,SAAS,sCAAsC,+BAA+B,qCAAqC,SAAS,OAAO,gCAAgC,SAAS,+DAA+D,gCAAgC,2FAA2F,EAAE,SAAS,OAAO,yIAAyI,qBAAqB,mGAAmG,OAAO,gQAAgQ,wCAAwC,EAAE,uIAAuI,wCAAwC,EAAE,iDAAiD,wBAAwB,+CAA+C,6CAA6C,8CAA8C,WAAW,EAAE,SAAS,EAAE,OAAO,gHAAgH,eAAe,6EAA6E,OAAO,gDAAgD,OAAO,6FAA6F,OAAO,wIAAwI,qCAAqC,6BAA6B,2BAA2B,sCAAsC,mCAAmC,wCAAwC,WAAW,OAAO,mCAAmC,WAAW,SAAS,4CAA4C,mCAAmC,SAAS,uBAAuB,OAAO,+KAA+K,eAAe,2EAA2E,QAAQ,yEAAyE,OAAO,mHAAmH,0FAA0F,8BAA8B,kCAAkC,oBAAoB,uTAAuT,8CAA8C,iEAAiE,yVAAyV,gGAAgG,sBAAsB,YAAY,WAAW,+BAA+B,oFAAoF,8CAA8C,6CAA6C,qDAAqD,WAAW,0CAA0C,oFAAoF,8CAA8C,6CAA6C,mDAAmD,WAAW,SAAS,kBAAkB,YAAY,OAAO,wXAAwX,OAAO,iEAAiE,mBAAmB,OAAO,oDAAoD,wBAAwB,8CAA8C,0CAA0C,OAAO,iIAAiI,OAAO,qDAAqD,wBAAwB,iBAAiB,OAAO,8CAA8C,OAAO,sIAAsI,mDAAmD,OAAO,0JAA0J,OAAO,sGAAsG,wDAAwD,sHAAsH,qDAAqD,4CAA4C,qCAAqC,mBAAmB,WAAW,wCAAwC,iDAAiD,SAAS,qGAAqG,wBAAwB,gDAAgD,2CAA2C,qCAAqC,uDAAuD,gCAAgC,yDAAyD,WAAW,OAAO,uCAAuC,WAAW,SAAS,4FAA4F,iDAAiD,SAAS,OAAO,4DAA4D,SAAS,OAAO,gJAAgJ,OAAO,kKAAkK,6IAA6I,kIAAkI,+IAA+I,uCAAuC,8CAA8C,wHAAwH,oCAAoC,iBAAiB,SAAS,qBAAqB,mBAAmB,SAAS,qDAAqD,8CAA8C,mBAAmB,6CAA6C,kCAAkC,mBAAmB,WAAW,mCAAmC,sCAAsC,6BAA6B,EAAE,8TAA8T,sCAAsC,+BAA+B,6BAA6B,eAAe,mCAAmC,cAAc,WAAW,mCAAmC,SAAS,EAAE,OAAO,yHAAyH,qBAAqB,qFAAqF,OAAO,yDAAyD,aAAa,yPAAyP,4HAA4H,6CAA6C,mCAAmC,OAAO,iIAAiI,qBAAqB,qFAAqF,OAAO,8DAA8D,aAAa,iSAAiS,oIAAoI,gDAAgD,0CAA0C,OAAO,qIAAqI,eAAe,8EAA8E,OAAO,8CAA8C,QAAQ,0GAA0G,0CAA0C,OAAO,6GAA6G,QAAQ,iDAAiD,OAAO,6CAA6C,OAAO,oFAAoF,8DAA8D,sCAAsC,wCAAwC,WAAW,SAAS,EAAE,OAAO,yIAAyI,qBAAqB,gHAAgH,4BAA4B,OAAO,yIAAyI,qBAAqB,iLAAiL,oCAAoC,4BAA4B,OAAO,4JAA4J,eAAe,+DAA+D,QAAQ,oFAAoF,qDAAqD,OAAO,qNAAqN,OAAO,4FAA4F,OAAO,sDAAsD,8DAA8D,OAAO,8QAA8Q,qBAAqB,oGAAoG,OAAO,iPAAiP,oIAAoI,6CAA6C,2BAA2B,qBAAqB,wCAAwC,+CAA+C,qBAAqB,aAAa,gHAAgH,oDAAoD,aAAa,mBAAmB,sKAAsK,oDAAoD,aAAa,aAAa,6LAA6L,aAAa,0BAA0B,WAAW,EAAE,SAAS,OAAO,yBAAyB,SAAS,OAAO,gHAAgH,eAAe,2EAA2E,OAAO,qFAAqF,2EAA2E,4CAA4C,4BAA4B,6MAA6M,OAAO,mIAAmI,qBAAqB,mGAAmG,OAAO,0PAA0P,8IAA8I,kDAAkD,wBAAwB,wCAAwC,eAAe,8HAA8H,oCAAoC,qBAAqB,aAAa,WAAW,aAAa,gCAAgC,kIAAkI,SAAS,EAAE,OAAO,oGAAoG,iDAAiD,OAAO,kDAAkD,OAAO,uNAAuN,OAAO,uDAAuD,OAAO,4LAA4L,QAAQ,6DAA6D,qBAAqB,oGAAoG,cAAc,6GAA6G,gDAAgD,gDAAgD,kCAAkC,8CAA8C,kDAAkD,8BAA8B,mDAAmD,WAAW,OAAO,qCAAqC,WAAW,wBAAwB,SAAS,EAAE,OAAO,iOAAiO,QAAQ,8DAA8D,qBAAqB,6FAA6F,QAAQ,6LAA6L,wBAAwB,oDAAoD,oCAAoC,4CAA4C,WAAW,+BAA+B,0DAA0D,uCAAuC,aAAa,EAAE,WAAW,kEAAkE,SAAS,EAAE,OAAO,yIAAyI,QAAQ,wCAAwC,OAAO,gDAAgD,QAAQ,kGAAkG,gCAAgC,mDAAmD,sEAAsE,iGAAiG,8FAA8F,WAAW,EAAE,mEAAmE,SAAS,+BAA+B,OAAO,mLAAmL,QAAQ,uDAAuD,QAAQ,wDAAwD,QAAQ,sGAAsG,uBAAuB,sBAAsB,iBAAiB,oCAAoC,+BAA+B,WAAW,2BAA2B,kBAAkB,WAAW,+BAA+B,SAAS,uCAAuC,iDAAiD,SAAS,oBAAoB,OAAO,iJAAiJ,OAAO,0DAA0D,OAAO,oFAAoF,qDAAqD,OAAO,mKAAmK,qBAAqB,6EAA6E,SAAS,yDAAyD,OAAO,mEAAmE,aAAa,iIAAiI,gCAAgC,wCAAwC,8BAA8B,SAAS,qBAAqB,uBAAuB,SAAS,gCAAgC,gEAAgE,sBAAsB,wCAAwC,sBAAsB,2CAA2C,oCAAoC,eAAe,sDAAsD,aAAa,WAAW,EAAE,0BAA0B,SAAS,uCAAuC,OAAO,4HAA4H,mBAAmB,wEAAwE,SAAS,oEAAoE,kBAAkB,8BAA8B,qBAAqB,oBAAoB,SAAS,qBAAqB,qBAAqB,yFAAyF,kCAAkC,WAAW,+JAA+J,wBAAwB,mCAAmC,EAAE,WAAW,4MAA4M,sGAAsG,wBAAwB,0BAA0B,EAAE,WAAW,EAAE,yBAAyB,SAAS,gCAAgC,OAAO,4JAA4J,UAAU,EAAE,yCAAyC,OAAO,0HAA0H,QAAQ,0FAA0F,oFAAoF,iCAAiC,mBAAmB,yDAAyD,0FAA0F,8EAA8E,gBAAgB,iCAAiC,+BAA+B,uGAAuG,6BAA6B,uDAAuD,yBAAyB,eAAe,oGAAoG,+CAA+C,2IAA2I,4BAA4B,uCAAuC,2BAA2B,iBAAiB,+BAA+B,eAAe,yJAAyJ,oCAAoC,2BAA2B,8CAA8C,wEAAwE,+BAA+B,iBAAiB,eAAe,aAAa,+DAA+D,2BAA2B,aAAa,sHAAsH,2BAA2B,aAAa,mLAAmL,2BAA2B,aAAa,mCAAmC,WAAW,cAAc,SAAS,8BAA8B,OAAO,+OAA+O,SAAS,8EAA8E,6DAA6D,sCAAsC,2BAA2B,uEAAuE,OAAO,kIAAkI,KAAK,wCAAwC,QAAQ,+GAA+G,OAAO,kZAAkZ,QAAQ,oDAAoD,QAAQ,+CAA+C,QAAQ,iGAAiG,QAAQ,gJAAgJ,4DAA4D,+jBAA+jB,kEAAkE,8CAA8C,iGAAiG,qFAAqF,gDAAgD,WAAW,gFAAgF,mBAAmB,WAAW,yCAAyC,QAAQ,OAAO,kCAAkC,WAAW,4BAA4B,sGAAsG,yVAAyV,0HAA0H,uBAAuB,eAAe,aAAa,sBAAsB,yGAAyG,0MAA0M,gEAAgE,eAAe,2IAA2I,uBAAuB,eAAe,aAAa,gCAAgC,WAAW,wBAAwB,SAAS,sCAAsC,mGAAmG,kEAAkE,oCAAoC,6DAA6D,wEAAwE,wEAAwE,oCAAoC,sEAAsE,oDAAoD,iEAAiE,uDAAuD,wDAAwD,WAAW,OAAO,iDAAiD,WAAW,qFAAqF,iCAAiC,8CAA8C,SAAS,OAAO,iHAAiH,8BAA8B,oHAAoH,OAAO,wEAAwE,SAAS,iEAAiE,OAAO,mEAAmE,SAAS,mHAAmH,wBAAwB,sCAAsC,gCAAgC,yBAAyB,gEAAgE,WAAW,0BAA0B,SAAS,4JAA4J,6DAA6D,SAAS,qEAAqE,OAAO,wKAAwK,8BAA8B,4DAA4D,OAAO,iEAAiE,SAAS,2CAA2C,WAAW,6KAA6K,2BAA2B,sCAAsC,4BAA4B,yBAAyB,2DAA2D,WAAW,0BAA0B,SAAS,sIAAsI,sCAAsC,yBAAyB,2CAA2C,kGAAkG,4DAA4D,aAAa,WAAW,SAAS,wDAAwD,OAAO,wHAAwH,qBAAqB,mEAAmE,OAAO,iDAAiD,OAAO,4CAA4C,MAAM,gEAAgE,mDAAmD,OAAO,kGAAkG,4BAA4B,iEAAiE,sBAAsB,SAAS,sHAAsH,iEAAiE,iCAAiC,SAAS,8HAA8H,OAAO,mDAAmD,gDAAgD,gBAAgB,uBAAuB,0BAA0B,gDAAgD,iCAAiC,kBAAkB,WAAW,SAAS,uBAAuB,OAAO,6JAA6J,wBAAwB,yGAAyG,0CAA0C,yBAAyB,2CAA2C,0DAA0D,WAAW,oCAAoC,SAAS,8LAA8L,+BAA+B,SAAS,2EAA2E,OAAO,4CAA4C,sBAAsB,gCAAgC,wBAAwB,WAAW,mCAAmC,SAAS,uBAAuB,OAAO,sDAAsD,gOAAgO,OAAO,oEAAoE,yCAAyC,qBAAqB,iGAAiG,mCAAmC,6CAA6C,cAAc,WAAW,iEAAiE,MAAM,qBAAqB,6BAA6B,0BAA0B,aAAa,WAAW,SAAS,sBAAsB,OAAO,MAAM,sQAAsQ,iDAAiD,mCAAmC,sBAAsB,GAAG,EAAE,grBAAgrB,6HAA6H,4CAA4C,wFAAwF,4CAA4C,wCAAwC,wCAAwC,4CAA4C,6CAA6C,MAAM,EAAE,oIAAoI,2BAA2B,6CAA6C,qCAAqC,qCAAqC,MAAM,+BAA+B,kGAAkG,sDAAsD,qEAAqE,uIAAuI,OAAO,oDAAoD,SAAS,kGAAkG,SAAS,uIAAuI,+BAA+B,4EAA4E,yBAAyB,sBAAsB,6DAA6D,WAAW,sBAAsB,SAAS,4BAA4B,8PAA8P,sCAAsC,sBAAsB,WAAW,OAAO,kJAAkJ,6DAA6D,aAAa,WAAW,SAAS,8BAA8B,qFAAqF,oBAAoB,qCAAqC,6CAA6C,6IAA6I,+CAA+C,yDAAyD,qBAAqB,aAAa,YAAY,SAAS,OAAO,4BAA4B,SAAS,8GAA8G,wHAAwH,OAAO,0HAA0H,OAAO,wCAAwC,QAAQ,6EAA6E,qCAAqC,QAAQ,+NAA+N,OAAO,gGAAgG,6BAA6B,QAAQ,+HAA+H,OAAO,oDAAoD,SAAS,4GAA4G,OAAO,8DAA8D,SAAS,oKAAoK,gCAAgC,+DAA+D,0BAA0B,+BAA+B,SAAS,wBAAwB,gGAAgG,4CAA4C,WAAW,6CAA6C,qGAAqG,EAAE,SAAS,QAAQ,qCAAqC,2BAA2B,0CAA0C,QAAQ,uGAAuG,SAAS,wFAAwF,SAAS,wFAAwF,OAAO,oHAAoH,yDAAyD,QAAQ,kQAAkQ,MAAM,uDAAuD,SAAS,4FAA4F,OAAO,8DAA8D,SAAS,+IAA+I,uCAAuC,6CAA6C,0GAA0G,6CAA6C,kDAAkD,aAAa,WAAW,EAAE,+CAA+C,SAAS,qCAAqC,6FAA6F,EAAE,oCAAoC,6CAA6C,4EAA4E,iGAAiG,uHAAuH,4CAA4C,qBAAqB,aAAa,2CAA2C,4CAA4C,qBAAqB,aAAa,sGAAsG,oCAAoC,wBAAwB,4CAA4C,qCAAqC,0BAA0B,gDAAgD,sHAAsH,eAAe,eAAe,qCAAqC,0BAA0B,qCAAqC,8CAA8C,sHAAsH,eAAe,EAAE,aAAa,WAAW,EAAE,wHAAwH,2DAA2D,0CAA0C,mDAAmD,wDAAwD,iBAAiB,eAAe,OAAO,mDAAmD,kEAAkE,iBAAiB,eAAe,aAAa,EAAE,8CAA8C,WAAW,UAAU,wBAAwB,QAAQ,KAAK,qDAAqD,0BAA0B,GAAG,EAAE,kjBAAkjB,0BAA0B,+BAA+B,sBAAsB,wBAAwB,qBAAqB,uBAAuB,KAAK,gCAAgC,8GAA8G,OAAO,2CAA2C,6BAA6B,kFAAkF,gCAAgC,4CAA4C,SAAS,2BAA2B,OAAO,uCAAuC,mBAAmB,kCAAkC,kDAAkD,SAAS,8BAA8B,OAAO,6HAA6H,OAAO,gDAAgD,OAAO,0JAA0J,6CAA6C,gEAAgE,0BAA0B,8CAA8C,yIAAyI,+CAA+C,aAAa,0DAA0D,qBAAqB,aAAa,WAAW,0FAA0F,SAAS,OAAO,mHAAmH,OAAO,kDAAkD,6BAA6B,gDAAgD,6BAA6B,gKAAgK,0CAA0C,uCAAuC,qDAAqD,YAAY,EAAE,YAAY,UAAU,EAAE,+HAA+H,6DAA6D,6FAA6F,EAAE,uDAAuD,+BAA+B,2BAA2B,6CAA6C,uBAAuB,OAAO,iCAAiC,+BAA+B,iCAAiC,OAAO,4CAA4C,wCAAwC,qBAAqB,SAAS,kBAAkB,+DAA+D,OAAO,2XAA2X,OAAO,wHAAwH,MAAM,wHAAwH,8CAA8C,0CAA0C,oEAAoE,SAAS,EAAE,OAAO,uGAAuG,OAAO,iEAAiE,OAAO,kEAAkE,SAAS,wFAAwF,OAAO,kEAAkE,SAAS,8NAA8N,6DAA6D,mFAAmF,EAAE,wEAAwE,wCAAwC,uCAAuC,qDAAqD,8CAA8C,uDAAuD,uEAAuE,WAAW,EAAE,0BAA0B,wBAAwB,kCAAkC,aAAa,OAAO,yCAAyC,aAAa,WAAW,SAAS,gCAAgC,iBAAiB,SAAS,+CAA+C,sEAAsE,SAAS,mEAAmE,iDAAiD,SAAS,mEAAmE,kCAAkC,6BAA6B,SAAS,OAAO,+EAA+E,SAAS,OAAO,MAAM,sDAAsD,mDAAmD,0BAA0B,GAAG,EAAE,iPAAiP,OAAO,8HAA8H,OAAO,wWAAwW,kFAAkF,0FAA0F,2EAA2E,mGAAmG,+CAA+C,mEAAmE,oJAAoJ,sBAAsB,kBAAkB,EAAE,cAAc,UAAU,EAAE,0FAA0F,oGAAoG,+FAA+F,+LAA+L,sGAAsG,mBAAmB,EAAE,cAAc,UAAU,EAAE,MAAM,EAAE,gcAAgc,+BAA+B,6BAA6B,+CAA+C,QAAQ,KAAK,oCAAoC,sCAAsC,6CAA6C,+BAA+B,oBAAoB,sCAAsC,6CAA6C,uBAAuB,kBAAkB,OAAO,oCAAoC,0BAA0B,aAAa,WAAW,SAAS,uBAAuB,QAAQ,KAAK,+CAA+C,+CAA+C,+BAA+B,wBAAwB,gCAAgC,qBAAqB,mBAAmB,OAAO,2EAA2E,yCAAyC,0BAA0B,aAAa,WAAW,SAAS,uBAAuB,QAAQ,KAAK,kDAAkD,6BAA6B,+DAA+D,QAAQ,KAAK,uDAAuD,6BAA6B,4EAA4E,QAAQ,KAAK,8BAA8B,oEAAoE,KAAK,+CAA+C,6BAA6B,8BAA8B,+CAA+C,wBAAwB,WAAW,0EAA0E,wBAAwB,WAAW,SAAS,uBAAuB,QAAQ,KAAK,cAAc,yaAAya,GAAG,EAAE,weAAwe,sCAAsC,qDAAqD,yBAAyB,4BAA4B,yBAAyB,KAAK,0BAA0B,oDAAoD,KAAK,cAAc,4DAA4D,GAAG,EAAE,umBAAumB,sEAAsE,4CAA4C,yBAAyB,+BAA+B,OAAO,sEAAsE,KAAK,6CAA6C,oDAAoD,KAAK,uCAAuC,yEAAyE,KAAK,iCAAiC,uCAAuC,uBAAuB,qCAAqC,OAAO,KAAK,mCAAmC,WAAW,8BAA8B,OAAO,aAAa,kFAAkF,OAAO,KAAK,yCAAyC,8BAA8B,yBAAyB,OAAO,OAAO,8BAA8B,OAAO,KAAK,2CAA2C,6CAA6C,iCAAiC,+CAA+C,mCAAmC,sBAAsB,mCAAmC,8BAA8B,0CAA0C,2BAA2B,WAAW,oDAAoD,iCAAiC,2BAA2B,WAAW,SAAS,iCAAiC,8DAA8D,SAAS,OAAO,2CAA2C,SAAS,OAAO,OAAO,uCAAuC,8BAA8B,0CAA0C,2BAA2B,WAAW,kDAAkD,8DAA8D,WAAW,SAAS,kDAAkD,OAAO,wBAAwB,KAAK,gCAAgC,4CAA4C,6CAA6C,gBAAgB,KAAK,qDAAqD,qCAAqC,iCAAiC,+CAA+C,4EAA4E,sDAAsD,6CAA6C,mCAAmC,sBAAsB,+BAA+B,+DAA+D,SAAS,OAAO,4CAA4C,SAAS,OAAO,OAAO,iDAAiD,OAAO,yBAAyB,KAAK,iCAAiC,mFAAmF,KAAK,2CAA2C,kFAAkF,6CAA6C,+DAA+D,SAAS,OAAO,yCAAyC,SAAS,OAAO,yCAAyC,+DAA+D,+CAA+C,OAAO,KAAK,+CAA+C,uDAAuD,KAAK,6CAA6C,0EAA0E,KAAK,iCAAiC,+CAA+C,uCAAuC,qCAAqC,8CAA8C,OAAO,KAAK,wDAAwD,4EAA4E,oCAAoC,yDAAyD,yDAAyD,gDAAgD,sDAAsD,8BAA8B,OAAO,oBAAoB,KAAK,cAAc,6aAA6a,GAAG,EAAE,yoBAAyoB,+MAA+M,oCAAoC,yEAAyE,KAAK,8CAA8C,4CAA4C,gBAAgB,4CAA4C,sCAAsC,OAAO,sBAAsB,kBAAkB,OAAO,8CAA8C,KAAK,sDAAsD,yCAAyC,8BAA8B,sBAAsB,SAAS,iCAAiC,OAAO,oBAAoB,KAAK,qDAAqD,4DAA4D,KAAK,uCAAuC,sCAAsC,KAAK,wDAAwD,6FAA6F,KAAK,gCAAgC,sLAAsL,OAAO,wCAAwC,SAAS,uHAAuH,uPAAuP,2NAA2N,+BAA+B,sCAAsC,6BAA6B,WAAW,EAAE,mBAAmB,SAAS,mIAAmI,MAAM,uDAAuD,MAAM,0GAA0G,mBAAmB,+DAA+D,uGAAuG,+BAA+B,WAAW,6EAA6E,oGAAoG,8CAA8C,WAAW,yBAAyB,SAAS,yFAAyF,KAAK,uDAAuD,OAAO,0DAA0D,KAAK,6BAA6B,MAAM,gGAAgG,4BAA4B,kBAAkB,0BAA0B,qBAAqB,gCAAgC,WAAW,4BAA4B,SAAS,gJAAgJ,KAAK,0CAA0C,KAAK,oEAAoE,KAAK,yFAAyF,cAAc,0CAA0C,0BAA0B,aAAa,qCAAqC,WAAW,cAAc,SAAS,6DAA6D,qEAAqE,6DAA6D,0BAA0B,iBAAiB,qCAAqC,mGAAmG,oCAAoC,0BAA0B,mCAAmC,eAAe,4CAA4C,aAAa,WAAW,SAAS,uIAAuI,kEAAkE,SAAS,iIAAiI,8DAA8D,SAAS,wEAAwE,qDAAqD,SAAS,wHAAwH,iEAAiE,MAAM,0BAA0B,sCAAsC,gEAAgE,WAAW,oCAAoC,kBAAkB,WAAW,SAAS,gEAAgE,MAAM,0BAA0B,wCAAwC,wDAAwD,WAAW,oCAAoC,kBAAkB,WAAW,SAAS,+GAA+G,wEAAwE,kFAAkF,0QAA0Q,gCAAgC,sCAAsC,SAAS,yEAAyE,QAAQ,kHAAkH,kBAAkB,sCAAsC,OAAO,kEAAkE,sKAAsK,4CAA4C,wCAAwC,SAAS,iHAAiH,iFAAiF,kEAAkE,0DAA0D,4CAA4C,kDAAkD,iGAAiG,wDAAwD,8BAA8B,aAAa,OAAO,4BAA4B,aAAa,WAAW,SAAS,OAAO,sKAAsK,oEAAoE,4BAA4B,WAAW,8JAA8J,8EAA8E,sDAAsD,WAAW,SAAS,kBAAkB,yJAAyJ,QAAQ,iJAAiJ,MAAM,0CAA0C,QAAQ,wGAAwG,kCAAkC,6CAA6C,yFAAyF,yCAAyC,wCAAwC,mEAAmE,WAAW,mDAAmD,mGAAmG,iEAAiE,6CAA6C,4BAA4B,eAAe,aAAa,WAAW,0DAA0D,0CAA0C,iDAAiD,4BAA4B,eAAe,uCAAuC,aAAa,2BAA2B,WAAW,6CAA6C,iFAAiF,WAAW,2QAA2Q,gEAAgE,iDAAiD,4FAA4F,4QAA4Q,+CAA+C,gDAAgD,gCAAgC,qBAAqB,aAAa,yJAAyJ,+DAA+D,iLAAiL,uBAAuB,eAAe,yHAAyH,iCAAiC,0DAA0D,kCAAkC,uBAAuB,eAAe,2JAA2J,uBAAuB,eAAe,yCAAyC,aAAa,+HAA+H,4CAA4C,gCAAgC,yBAAyB,aAAa,WAAW,qEAAqE,6DAA6D,0FAA0F,iEAAiE,gCAAgC,8CAA8C,mBAAmB,WAAW,sFAAsF,kCAAkC,WAAW,kHAAkH,sCAAsC,uBAAuB,WAAW,6HAA6H,0FAA0F,uEAAuE,yBAAyB,6CAA6C,yBAAyB,iBAAiB,yFAAyF,yBAAyB,iBAAiB,eAAe,aAAa,8EAA8E,qHAAqH,uDAAuD,yBAAyB,2LAA2L,uBAAuB,eAAe,8FAA8F,uBAAuB,eAAe,2KAA2K,kHAAkH,yDAAyD,sBAAsB,+EAA+E,uCAAuC,0BAA0B,mBAAmB,mIAAmI,uEAAuE,qCAAqC,sCAAsC,0BAA0B,mBAAmB,+KAA+K,iDAAiD,gDAAgD,6IAA6I,+BAA+B,qBAAqB,wCAAwC,0BAA0B,mBAAmB,iBAAiB,kEAAkE,eAAe,aAAa,WAAW,+EAA+E,sMAAsM,yCAAyC,aAAa,sXAAsX,kDAAkD,oJAAoJ,wDAAwD,eAAe,0JAA0J,iDAAiD,eAAe,aAAa,WAAW,mPAAmP,wCAAwC,WAAW,2EAA2E,sEAAsE,WAAW,SAAS,oCAAoC,kCAAkC,2BAA2B,8BAA8B,SAAS,iGAAiG,6BAA6B,SAAS,4BAA4B,QAAQ,KAAK,gIAAgI,SAAS,4CAA4C,SAAS,6CAA6C,QAAQ,gGAAgG,yBAAyB,6EAA6E,6IAA6I,wBAAwB,WAAW,4HAA4H,wBAAwB,WAAW,SAAS,OAAO,mIAAmI,SAAS,OAAO,qBAAqB,MAAM,iJAAiJ,8BAA8B,yDAAyD,uCAAuC,oDAAoD,2BAA2B,OAAO,uCAAuC,kDAAkD,2CAA2C,oEAAoE,oEAAoE,uBAAuB,OAAO,EAAE,+BAA+B,uDAAuD,eAAe,4CAA4C,6BAA6B,uBAAuB,SAAS,aAAa,uCAAuC,OAAO,oBAAoB,KAAK,6DAA6D,gFAAgF,qGAAqG,KAAK,wIAAwI,OAAO,8CAA8C,OAAO,8CAA8C,SAAS,uDAAuD,MAAM,4FAA4F,qBAAqB,yCAAyC,6DAA6D,gCAAgC,qDAAqD,2BAA2B,OAAO,oCAAoC,wDAAwD,OAAO,qCAAqC,yCAAyC,eAAe,4CAA4C,6BAA6B,SAAS,aAAa,0DAA0D,SAAS,8DAA8D,OAAO,mBAAmB,MAAM,oDAAoD,wFAAwF,mFAAmF,sDAAsD,OAAO,oBAAoB,MAAM,wDAAwD,iEAAiE,oDAAoD,mDAAmD,SAAS,mDAAmD,OAAO,yBAAyB,MAAM,wBAAwB,GAAG,EAAE,qlBAAqlB,6BAA6B,iCAAiC,sIAAsI,QAAQ,6GAA6G,2BAA2B,wFAAwF,qDAAqD,sCAAsC,QAAQ,OAAO,iDAAiD,oBAAoB,aAAa,WAAW,2BAA2B,mCAAmC,wBAAwB,WAAW,SAAS,iCAAiC,uBAAuB,OAAO,oHAAoH,uEAAuE,iCAAiC,4JAA4J,qBAAqB,2MAA2M,sPAAsP,2CAA2C,WAAW,8BAA8B,SAAS,EAAE,OAAO,oPAAoP,uCAAuC,OAAO,EAAE,0IAA0I,uDAAuD,mPAAmP,iBAAiB,SAAS,iGAAiG,8BAA8B,sBAAsB,EAAE,SAAS,OAAO,EAAE,gHAAgH,sCAAsC,oNAAoN,uDAAuD,mCAAmC,aAAa,EAAE,WAAW,OAAO,iCAAiC,WAAW,SAAS,OAAO,EAAE,8NAA8N,OAAO,2GAA2G,8DAA8D,0MAA0M,6DAA6D,8CAA8C,4KAA4K,wBAAwB,WAAW,4GAA4G,mCAAmC,WAAW,wEAAwE,qDAAqD,gCAAgC,0BAA0B,aAAa,iCAAiC,WAAW,EAAE,8BAA8B,8BAA8B,iCAAiC,4CAA4C,SAAS,QAAQ,MAAM,GAAG,EAAE,+bAA+b,2BAA2B,uGAAuG,4DAA4D,+HAA+H,4EAA4E,+GAA+G,wEAAwE,+BAA+B,OAAO,0EAA0E,oCAAoC,wBAAwB,yBAAyB,SAAS,uFAAuF,gCAAgC,0BAA0B,wCAAwC,0BAA0B,2BAA2B,WAAW,SAAS,OAAO,KAAK,0GAA0G,OAAO,2CAA2C,OAAO,+EAA+E,uBAAuB,uBAAuB,yBAAyB,6BAA6B,iCAAiC,OAAO,KAAK,wBAAwB,mIAAmI,iDAAiD,kBAAkB,8DAA8D,kBAAkB,wEAAwE,wBAAwB,4BAA4B,wBAAwB,SAAS,kCAAkC,sBAAsB,sBAAsB,OAAO,oIAAoI,mEAAmE,4DAA4D,sEAAsE,OAAO,oDAAoD,OAAO,+CAA+C,yBAAyB,2HAA2H,yCAAyC,2CAA2C,2BAA2B,kCAAkC,WAAW,wBAAwB,SAAS,0CAA0C,gCAAgC,gEAAgE,sCAAsC,uCAAuC,mCAAmC,6BAA6B,+CAA+C,+CAA+C,gCAAgC,mBAAmB,iBAAiB,eAAe,4BAA4B,aAAa,kEAAkE,6DAA6D,2BAA2B,6CAA6C,yCAAyC,wBAAwB,iBAAiB,eAAe,aAAa,OAAO,0BAA0B,yBAAyB,EAAE,aAAa,sCAAsC,0BAA0B,WAAW,mCAAmC,SAAS,OAAO,+NAA+N,gDAAgD,kBAAkB,iEAAiE,uGAAuG,iFAAiF,0BAA0B,8BAA8B,6CAA6C,OAAO,OAAO,oCAAoC,oFAAoF,+CAA+C,4CAA4C,6DAA6D,aAAa,WAAW,0CAA0C,SAAS,mCAAmC,2CAA2C,uBAAuB,OAAO,gHAAgH,qEAAqE,wBAAwB,4CAA4C,6BAA6B,sBAAsB,OAAO,gJAAgJ,kEAAkE,oCAAoC,sCAAsC,MAAM,GAAG,2BAA2B,wCAAwC,sBAAsB,SAAS,wBAAwB,OAAO,uGAAuG,iDAAiD,kBAAkB,kEAAkE,kFAAkF,uBAAuB,2CAA2C,qCAAqC,yBAAyB,+BAA+B,aAAa,WAAW,OAAO,6BAA6B,WAAW,4CAA4C,oCAAoC,yBAAyB,+BAA+B,aAAa,WAAW,OAAO,6BAA6B,WAAW,uDAAuD,SAAS,sBAAsB,OAAO,+HAA+H,gDAAgD,kBAAkB,qEAAqE,kBAAkB,mEAAmE,8BAA8B,4BAA4B,wBAAwB,SAAS,gCAAgC,mBAAmB,2BAA2B,2BAA2B,gCAAgC,SAAS,OAAO,kDAAkD,SAAS,6BAA6B,sBAAsB,OAAO,0KAA0K,gDAAgD,kBAAkB,qEAAqE,kBAAkB,mEAAmE,QAAQ,sFAAsF,kBAAkB,qFAAqF,mBAAmB,4BAA4B,wBAAwB,SAAS,2CAA2C,uBAAuB,+CAA+C,qCAAqC,WAAW,OAAO,sCAAsC,WAAW,sCAAsC,+BAA+B,+BAA+B,SAAS,OAAO,8CAA8C,oCAAoC,WAAW,OAAO,sCAAsC,WAAW,sCAAsC,+BAA+B,+BAA+B,SAAS,+BAA+B,sBAAsB,OAAO,8FAA8F,OAAO,2DAA2D,MAAM,0FAA0F,+CAA+C,sCAAsC,MAAM,2BAA2B,mCAAmC,kCAAkC,WAAW,SAAS,4BAA4B,OAAO,8GAA8G,kBAAkB,qEAAqE,wCAAwC,8DAA8D,qBAAqB,yEAAyE,MAAM,2BAA2B,6BAA6B,WAAW,6DAA6D,uBAAuB,4BAA4B,0FAA0F,WAAW,SAAS,kDAAkD,sBAAsB,OAAO,qIAAqI,UAAU,EAAE,yCAAyC,OAAO,gHAAgH,OAAO,qHAAqH,QAAQ,gGAAgG,yDAAyD,wCAAwC,qBAAqB,cAAc,kCAAkC,gGAAgG,yBAAyB,eAAe,2FAA2F,6BAA6B,eAAe,0HAA0H,2BAA2B,+CAA+C,mFAAmF,+BAA+B,iBAAiB,eAAe,aAAa,gEAAgE,2BAA2B,aAAa,uHAAuH,2BAA2B,aAAa,wKAAwK,2BAA2B,aAAa,WAAW,mCAAmC,SAAS,sBAAsB,OAAO,uJAAuJ,QAAQ,uEAAuE,kBAAkB,2FAA2F,sCAAsC,OAAO,MAAM,0GAA0G,OAAO,oFAAoF,OAAO,4HAA4H,yBAAyB,yEAAyE,qDAAqD,iCAAiC,+CAA+C,SAAS,OAAO,oBAAoB,MAAM,kBAAkB,GAAG,EAAE,sdAAsd,qGAAqG,4IAA4I,qBAAqB,gBAAgB,4HAA4H,oCAAoC,gCAAgC,oDAAoD,KAAK,gFAAgF,OAAO,+DAA+D,OAAO,8DAA8D,qBAAqB,iCAAiC,gFAAgF,kDAAkD,yCAAyC,2CAA2C,sBAAsB,OAAO,yCAAyC,OAAO,OAAO,sCAAsC,WAAW,uBAAuB,SAAS,oCAAoC,wCAAwC,+CAA+C,qCAAqC,SAAS,6BAA6B,yBAAyB,sBAAsB,4EAA4E,uBAAuB,iKAAiK,uCAAuC,SAAS,OAAO,6CAA6C,iCAAiC,6BAA6B,yBAAyB,uCAAuC,sBAAsB,wCAAwC,4CAA4C,OAAO,OAAO,sDAAsD,2DAA2D,WAAW,SAAS,OAAO,uDAAuD,8BAA8B,OAAO,2HAA2H,iuBAAiuB,uJAAuJ,4TAA4T,2GAA2G,4HAA4H,kGAAkG,gJAAgJ,OAAO,2FAA2F,0CAA0C,gFAAgF,4EAA4E,4DAA4D,2CAA2C,SAAS,EAAE,8DAA8D,mEAAmE,qIAAqI,yDAAyD,uCAAuC,SAAS,EAAE,OAAO,kJAAkJ,2NAA2N,kFAAkF,oCAAoC,qCAAqC,qEAAqE,yDAAyD,4CAA4C,wDAAwD,sPAAsP,4DAA4D,8IAA8I,iDAAiD,mDAAmD,gCAAgC,0CAA0C,mCAAmC,2EAA2E,4CAA4C,uDAAuD,uEAAuE,8DAA8D,gDAAgD,qHAAqH,qCAAqC,gEAAgE,8EAA8E,oHAAoH,2CAA2C,6BAA6B,+CAA+C,mCAAmC,4DAA4D,uEAAuE,+GAA+G,qFAAqF,oDAAoD,uQAAuQ,+KAA+K,0FAA0F,wDAAwD,yDAAyD,mGAAmG,qEAAqE,2CAA2C,mEAAmE,qBAAqB,oEAAoE,+CAA+C,+DAA+D,uDAAuD,oLAAoL,uKAAuK,+CAA+C,yDAAyD,2DAA2D,yEAAyE,4EAA4E,qDAAqD,uEAAuE,qDAAqD,+CAA+C,kFAAkF,4DAA4D,0DAA0D,4EAA4E,yEAAyE,4EAA4E,OAAO,qGAAqG,qDAAqD,2CAA2C,oHAAoH,0DAA0D,gDAAgD,2DAA2D,oCAAoC,yGAAyG,wEAAwE,gGAAgG,yDAAyD,8CAA8C,2CAA2C,+BAA+B,wEAAwE,2CAA2C,mCAAmC,kDAAkD,+CAA+C,uDAAuD,0CAA0C,iGAAiG,+DAA+D,oEAAoE,2DAA2D,gEAAgE,yFAAyF,uCAAuC,oGAAoG,2DAA2D,2DAA2D,uCAAuC,yEAAyE,OAAO,uFAAuF,kEAAkE,sDAAsD,sCAAsC,uDAAuD,mEAAmE,2BAA2B,8OAA8O,2BAA2B,6CAA6C,SAAS,OAAO,EAAE,0HAA0H,0CAA0C,QAAQ,EAAE,iFAAiF,mFAAmF,kKAAkK,sBAAsB,KAAK,+CAA+C,iBAAiB,oBAAoB,oBAAoB,yCAAyC,mBAAmB,kCAAkC,SAAS,sFAAsF,oHAAoH,SAAS,EAAE,OAAO,sBAAsB,KAAK,8GAA8G,OAAO,2EAA2E,oCAAoC,eAAe,gEAAgE,0GAA0G,gIAAgI,gCAAgC,uBAAuB,gKAAgK,qCAAqC,uBAAuB,2FAA2F,yBAAyB,2FAA2F,8CAA8C,uCAAuC,WAAW,SAAS,OAAO,6GAA6G,SAAS,uBAAuB,OAAO,kCAAkC,mDAAmD,sHAAsH,yCAAyC,OAAO,+DAA+D,wEAAwE,sEAAsE,6LAA6L,6HAA6H,iLAAiL,uMAAuM,wJAAwJ,iIAAiI,iNAAiN,yOAAyO,4JAA4J,gGAAgG,2EAA2E,OAAO,EAAE,mIAAmI,sEAAsE,OAAO,sNAAsN,qaAAqa,8BAA8B,8GAA8G,gCAAgC,wDAAwD,kEAAkE,WAAW,8EAA8E,SAAS,QAAQ,iGAAiG,0BAA0B,gFAAgF,uCAAuC,sCAAsC,oCAAoC,0FAA0F,mCAAmC,kEAAkE,uGAAuG,gFAAgF,yCAAyC,eAAe,kFAAkF,2CAA2C,eAAe,yCAAyC,gDAAgD,eAAe,0GAA0G,+CAA+C,0DAA0D,iBAAiB,qFAAqF,eAAe,kEAAkE,gDAAgD,kDAAkD,SAAS,QAAQ,8DAA8D,gCAAgC,8BAA8B,0CAA0C,8DAA8D,wCAAwC,uCAAuC,4EAA4E,oFAAoF,gEAAgE,2CAA2C,qBAAqB,sFAAsF,kDAAkD,oFAAoF,+BAA+B,qBAAqB,uEAAuE,iFAAiF,oFAAoF,wDAAwD,6BAA6B,EAAE,kDAAkD,uBAAuB,kFAAkF,kFAAkF,uDAAuD,6BAA6B,EAAE,iDAAiD,uBAAuB,qFAAqF,+DAA+D,uBAAuB,qBAAqB,gHAAgH,kFAAkF,+DAA+D,2DAA2D,qBAAqB,OAAO,kIAAkI,uDAAuD,uBAAuB,oDAAoD,qBAAqB,mBAAmB,iBAAiB,eAAe,4HAA4H,8CAA8C,wDAAwD,eAAe,6FAA6F,iDAAiD,+CAA+C,eAAe,uGAAuG,+DAA+D,8CAA8C,eAAe,OAAO,gDAAgD,eAAe,aAAa,WAAW,SAAS,OAAO,kDAAkD,sBAAsB,6BAA6B,0CAA0C,qDAAqD,4CAA4C,SAAS,EAAE,OAAO,wGAAwG,+CAA+C,+BAA+B,8IAA8I,6DAA6D,qLAAqL,mDAAmD,gDAAgD,2GAA2G,wDAAwD,0CAA0C,aAAa,+EAA+E,mDAAmD,sCAAsC,cAAc,iDAAiD,4CAA4C,4CAA4C,aAAa,iHAAiH,uCAAuC,uDAAuD,qBAAqB,mDAAmD,eAAe,aAAa,EAAE,WAAW,EAAE,SAAS,OAAO,mGAAmG,iEAAiE,0GAA0G,8BAA8B,0DAA0D,qEAAqE,4BAA4B,kCAAkC,2EAA2E,8CAA8C,eAAe,OAAO,iDAAiD,gBAAgB,eAAe,8CAA8C,8DAA8D,qCAAqC,uCAAuC,iBAAiB,OAAO,qCAAqC,iBAAiB,eAAe,EAAE,aAAa,WAAW,EAAE,SAAS,OAAO,uCAAuC,wCAAwC,oDAAoD,yBAAyB,SAAS,oFAAoF,qBAAqB,uCAAuC,6CAA6C,2BAA2B,WAAW,SAAS,OAAO,uCAAuC,oIAAoI,4BAA4B,2GAA2G,8CAA8C,SAAS,EAAE,6EAA6E,uDAAuD,oCAAoC,mDAAmD,WAAW,EAAE,SAAS,qJAAqJ,uBAAuB,EAAE,+JAA+J,+BAA+B,8CAA8C,WAAW,SAAS,EAAE,2HAA2H,0CAA0C,SAAS,EAAE,gGAAgG,iDAAiD,SAAS,EAAE,0HAA0H,+BAA+B,UAAU,EAAE,SAAS,OAAO,kDAAkD,OAAO,oDAAoD,gDAAgD,yDAAyD,kHAAkH,oFAAoF,sRAAsR,2BAA2B,6BAA6B,0DAA0D,SAAS,OAAO,EAAE,0EAA0E,iEAAiE,+BAA+B,kCAAkC,WAAW,SAAS,EAAE,OAAO,sGAAsG,mDAAmD,OAAO,yIAAyI,iBAAiB,IAAI,QAAQ,WAAW,qFAAqF,0LAA0L,2BAA2B,QAAQ,8LAA8L,6BAA6B,QAAQ,6LAA6L,4BAA4B,QAAQ,iHAAiH,OAAO,6FAA6F,2BAA2B,QAAQ,iHAAiH,OAAO,6FAA6F,gCAAgC,QAAQ,uJAAuJ,OAAO,iGAAiG,oCAAoC,QAAQ,6JAA6J,OAAO,wGAAwG,qCAAqC,QAAQ,8IAA8I,OAAO,wGAAwG,qCAAqC,QAAQ,uIAAuI,OAAO,+GAA+G,sCAAsC,QAAQ,mOAAmO,OAAO,oGAAoG,mCAAmC,QAAQ,qMAAqM,OAAO,uIAAuI,iDAAiD,QAAQ,wKAAwK,OAAO,wGAAwG,qCAAqC,QAAQ,6SAA6S,OAAO,iGAAiG,+BAA+B,QAAQ,qLAAqL,OAAO,iDAAiD,OAAO,iDAAiD,QAAQ,8HAA8H,oCAAoC,6CAA6C,QAAQ,sLAAsL,OAAO,gDAAgD,OAAO,6DAA6D,QAAQ,sGAAsG,yDAAyD,6DAA6D,qBAAqB,qFAAqF,0BAA0B,aAAa,8GAA8G,+BAA+B,sCAAsC,2BAA2B,yDAAyD,8BAA8B,iBAAiB,eAAe,aAAa,WAAW,OAAO,wBAAwB,WAAW,SAAS,0CAA0C,QAAQ,wKAAwK,OAAO,kDAAkD,OAAO,4GAA4G,6HAA6H,OAAO,kGAAkG,iCAAiC,QAAQ,0TAA0T,OAAO,yHAAyH,0TAA0T,OAAO,yHAAyH,2HAA2H,OAAO,0HAA0H,iOAAiO,OAAO,+GAA+G,iCAAiC,MAAM,GAAG,EAAE,8rBAA8rB,8DAA8D,2CAA2C,UAAU,qCAAqC,yCAAyC,UAAU,yCAAyC,qDAAqD,UAAU,mDAAmD,uDAAuD,UAAU,mCAAmC,uCAAuC,UAAU,wCAAwC,4CAA4C,UAAU,uCAAuC,2CAA2C,UAAU,MAAM,UAAU,0NAA0N,0BAA0B,6NAA6N,oBAAoB,4EAA4E,OAAO,wDAAwD,OAAO,uFAAuF,OAAO,gFAAgF,qEAAqE,4DAA4D,oIAAoI,iDAAiD,oDAAoD,sCAAsC,mCAAmC,iCAAiC,SAAS,wBAAwB,kEAAkE,qBAAqB,WAAW,oBAAoB,SAAS,4BAA4B,gBAAgB,SAAS,OAAO,qBAAqB,KAAK,oHAAoH,OAAO,8GAA8G,oBAAoB,+FAA+F,sBAAsB,0BAA0B,kCAAkC,oDAAoD,kDAAkD,yCAAyC,OAAO,0JAA0J,mBAAmB,8CAA8C,SAAS,OAAO,EAAE,wJAAwJ,IAAI,uBAAuB,uCAAuC,OAAO,2EAA2E,mGAAmG,sGAAsG,kHAAkH,oEAAoE,iHAAiH,qIAAqI,qFAAqF,wCAAwC,qBAAqB,oFAAoF,yBAAyB,2CAA2C,oBAAoB,aAAa,WAAW,oDAAoD,gFAAgF,UAAU,OAAO,8BAA8B,iCAAiC,oCAAoC,eAAe,aAAa,uFAAuF,WAAW,SAAS,mEAAmE,iEAAiE,sCAAsC,oFAAoF,uMAAuM,gDAAgD,oGAAoG,gDAAgD,2BAA2B,qDAAqD,kDAAkD,wBAAwB,iBAAiB,eAAe,+DAA+D,gCAAgC,eAAe,aAAa,oEAAoE,qBAAqB,aAAa,0GAA0G,qBAAqB,aAAa,WAAW,sIAAsI,oDAAoD,mBAAmB,+FAA+F,aAAa,aAAa,gFAAgF,aAAa,8CAA8C,qBAAqB,aAAa,8GAA8G,qBAAqB,aAAa,WAAW,iFAAiF,yBAAyB,0DAA0D,EAAE,SAAS,kiBAAkiB,sHAAsH,sIAAsI,wFAAwF,6CAA6C,qCAAqC,2DAA2D,mDAAmD,sDAAsD,sDAAsD,uDAAuD,yEAAyE,WAAW,uCAAuC,uDAAuD,gKAAgK,sCAAsC,aAAa,mCAAmC,WAAW,iCAAiC,yDAAyD,gKAAgK,sCAAsC,aAAa,yDAAyD,gMAAgM,mCAAmC,aAAa,6GAA6G,oCAAoC,0GAA0G,4DAA4D,uEAAuE,eAAe,mFAAmF,iFAAiF,mNAAmN,yCAAyC,iBAAiB,gCAAgC,kCAAkC,mEAAmE,eAAe,OAAO,8BAA8B,kCAAkC,eAAe,iHAAiH,oEAAoE,kEAAkE,gEAAgE,qEAAqE,kHAAkH,yCAAyC,iBAAiB,oFAAoF,8CAA8C,+BAA+B,+CAA+C,qCAAqC,2CAA2C,0CAA0C,KAAK,IAAI,qDAAqD,qBAAqB,qDAAqD,mCAAmC,6BAA6B,EAAE,mBAAmB,iBAAiB,sFAAsF,+CAA+C,+BAA+B,gDAAgD,qCAAqC,oDAAoD,6CAA6C,4CAA4C,KAAK,IAAI,uDAAuD,uBAAuB,uDAAuD,qCAAqC,6BAA6B,EAAE,qBAAqB,mBAAmB,iBAAiB,wFAAwF,gDAAgD,+BAA+B,gEAAgE,4BAA4B,qBAAqB,mBAAmB,mGAAmG,2CAA2C,mBAAmB,iBAAiB,6HAA6H,uCAAuC,4EAA4E,kDAAkD,6BAA6B,mBAAmB,2CAA2C,iBAAiB,eAAe,qCAAqC,0DAA0D,eAAe,aAAa,OAAO,qCAAqC,aAAa,6KAA6K,8EAA8E,uDAAuD,qCAAqC,mEAAmE,iBAAiB,4DAA4D,eAAe,OAAO,0CAA0C,oCAAoC,eAAe,qCAAqC,sCAAsC,wCAAwC,iBAAiB,kCAAkC,eAAe,8CAA8C,uBAAuB,aAAa,uEAAuE,0FAA0F,4BAA4B,mCAAmC,EAAE,eAAe,2BAA2B,gCAAgC,eAAe,aAAa,WAAW,iCAAiC,8IAA8I,kCAAkC,aAAa,uGAAuG,kCAAkC,aAAa,kCAAkC,WAAW,iCAAiC,uCAAuC,WAAW,iCAAiC,2CAA2C,WAAW,iCAAiC,6CAA6C,WAAW,sDAAsD,SAAS,mDAAmD,gDAAgD,SAAS,sEAAsE,QAAQ,OAAO,2BAA2B,8BAA8B,iCAAiC,WAAW,SAAS,QAAQ,KAAK,wCAAwC,uBAAuB,GAAG,EAAE,umBAAumB,eAAe,UAAU,qDAAqD,gQAAgQ,mGAAmG,qDAAqD,wCAAwC,mEAAmE,OAAO,OAAO,sEAAsE,OAAO,MAAM,gDAAgD,yFAAyF,MAAM,oHAAoH,OAAO,8GAA8G,oBAAoB,4FAA4F,uCAAuC,0CAA0C,yBAAyB,kCAAkC,8EAA8E,wDAAwD,oDAAoD,4CAA4C,sFAAsF,8HAA8H,6EAA6E,wDAAwD,4DAA4D,0DAA0D,sDAAsD,sBAAsB,mBAAmB,QAAQ,2BAA2B,kFAAkF,qBAAqB,WAAW,6SAA6S,wFAAwF,6BAA6B,oDAAoD,oCAAoC,qCAAqC,yDAAyD,eAAe,OAAO,sBAAsB,eAAe,uCAAuC,aAAa,wEAAwE,qBAAqB,WAAW,2HAA2H,oCAAoC,yGAAyG,0BAA0B,iCAAiC,WAAW,mFAAmF,4FAA4F,wJAAwJ,6GAA6G,wBAAwB,OAAO,2EAA2E,+DAA+D,6CAA6C,eAAe,OAAO,uCAAuC,eAAe,uDAAuD,0CAA0C,GAAG,0CAA0C,2CAA2C,qCAAqC,eAAe,uCAAuC,aAAa,6EAA6E,yDAAyD,6CAA6C,aAAa,OAAO,oDAAoD,aAAa,uJAAuJ,qGAAqG,sCAAsC,aAAa,WAAW,wBAAwB,uGAAuG,kCAAkC,gFAAgF,qCAAqC,yBAAyB,eAAe,oCAAoC,gFAAgF,+DAA+D,yBAAyB,eAAe,8DAA8D,uBAAuB,aAAa,0JAA0J,6DAA6D,aAAa,OAAO,+GAA+G,sCAAsC,eAAe,OAAO,8BAA8B,eAAe,aAAa,WAAW,SAAS,OAAO,0IAA0I,kBAAkB,mDAAmD,kBAAkB,qEAAqE,0BAA0B,kEAAkE,oCAAoC,uBAAuB,4BAA4B,WAAW,OAAO,wCAAwC,WAAW,SAAS,sEAAsE,qBAAqB,0CAA0C,8CAA8C,2CAA2C,yBAAyB,8BAA8B,aAAa,OAAO,+CAA+C,aAAa,WAAW,SAAS,sBAAsB,QAAQ,yRAAyR,2BAA2B,kBAAkB,OAAO,yCAAyC,aAAa,UAAU,EAAE,gDAAgD,OAAO,gEAAgE,SAAS,iIAAiI,4CAA4C,uCAAuC,wBAAwB,0CAA0C,WAAW,gCAAgC,SAAS,EAAE,QAAQ,mTAAmT,2BAA2B,kBAAkB,OAAO,yCAAyC,aAAa,UAAU,EAAE,qDAAqD,OAAO,gEAAgE,SAAS,sIAAsI,4CAA4C,gBAAgB,uBAAuB,6BAA6B,OAAO,oDAAoD,2DAA2D,qBAAqB,aAAa,WAAW,mCAAmC,kCAAkC,EAAE,SAAS,EAAE,QAAQ,sKAAsK,IAAI,uBAAuB,uCAAuC,OAAO,gDAAgD,OAAO,sFAAsF,kBAAkB,iFAAiF,8EAA8E,uGAAuG,gGAAgG,sDAAsD,4BAA4B,0BAA0B,+BAA+B,mHAAmH,wDAAwD,mCAAmC,qCAAqC,4GAA4G,8DAA8D,iDAAiD,+CAA+C,+CAA+C,kDAAkD,oCAAoC,8DAA8D,8IAA8I,gCAAgC,8CAA8C,2CAA2C,2EAA2E,eAAe,+CAA+C,2CAA2C,yEAAyE,eAAe,aAAa,WAAW,4MAA4M,mBAAmB,WAAW,0BAA0B,6BAA6B,qJAAqJ,mCAAmC,+GAA+G,qEAAqE,qDAAqD,2CAA2C,eAAe,OAAO,2CAA2C,eAAe,aAAa,OAAO,kCAAkC,mCAAmC,aAAa,0BAA0B,WAAW,gCAAgC,SAAS,2CAA2C,gDAAgD,sCAAsC,sCAAsC,yBAAyB,8BAA8B,aAAa,OAAO,0CAA0C,aAAa,WAAW,wBAAwB,SAAS,iDAAiD,kGAAkG,sCAAsC,iCAAiC,GAAG,sEAAsE,oHAAoH,uCAAuC,qBAAqB,aAAa,2CAA2C,0LAA0L,wEAAwE,yCAAyC,yBAAyB,eAAe,yHAAyH,yCAAyC,yBAAyB,eAAe,aAAa,sCAAsC,8BAA8B,+BAA+B,WAAW,SAAS,iDAAiD,gCAAgC,iCAAiC,+CAA+C,yCAAyC,aAAa,WAAW,0BAA0B,SAAS,kCAAkC,sXAAsX,8DAA8D,WAAW,wCAAwC,yBAAyB,4HAA4H,4DAA4D,2EAA2E,+DAA+D,eAAe,aAAa,kFAAkF,gDAAgD,mCAAmC,iDAAiD,aAAa,WAAW,sCAAsC,gEAAgE,WAAW,uCAAuC,0DAA0D,yCAAyC,WAAW,sCAAsC,wBAAwB,gEAAgE,iCAAiC,yCAAyC,WAAW,kDAAkD,uEAAuE,wEAAwE,8BAA8B,sEAAsE,yCAAyC,yCAAyC,qCAAqC,8MAA8M,8EAA8E,8CAA8C,eAAe,yDAAyD,wCAAwC,iEAAiE,8CAA8C,qDAAqD,+BAA+B,uCAAuC,mBAAmB,OAAO,4DAA4D,mBAAmB,iBAAiB,eAAe,uFAAuF,gDAAgD,eAAe,uHAAuH,+BAA+B,eAAe,wJAAwJ,sDAAsD,eAAe,aAAa,WAAW,kCAAkC,+DAA+D,wEAAwE,8BAA8B,wCAAwC,sDAAsD,8GAA8G,wDAAwD,6EAA6E,wHAAwH,4CAA4C,+CAA+C,qBAAqB,OAAO,8CAA8C,wCAAwC,yCAAyC,6HAA6H,8CAA8C,gDAAgD,sFAAsF,4CAA4C,6CAA6C,yBAAyB,6CAA6C,uBAAuB,qBAAqB,mBAAmB,8GAA8G,wDAAwD,2EAA2E,wHAAwH,4CAA4C,+CAA+C,qBAAqB,OAAO,8CAA8C,wCAAwC,yCAAyC,6HAA6H,8CAA8C,gDAAgD,sFAAsF,4CAA4C,6CAA6C,yBAAyB,6CAA6C,uBAAuB,qBAAqB,mBAAmB,iBAAiB,0HAA0H,sDAAsD,2EAA2E,kFAAkF,4DAA4D,iBAAiB,iBAAiB,mJAAmJ,uDAAuD,eAAe,0GAA0G,yEAAyE,8CAA8C,kDAAkD,mBAAmB,OAAO,yJAAyJ,6CAA6C,uDAAuD,8CAA8C,uBAAuB,OAAO,sCAAsC,uBAAuB,wCAAwC,6BAA6B,qBAAqB,mBAAmB,iBAAiB,eAAe,mCAAmC,aAAa,WAAW,SAAS,UAAU,6EAA6E,6BAA6B,qIAAqI,8BAA8B,gDAAgD,WAAW,OAAO,gCAAgC,WAAW,SAAS,0JAA0J,0BAA0B,SAAS,oFAAoF,mEAAmE,qCAAqC,uCAAuC,8EAA8E,0BAA0B,sCAAsC,oCAAoC,eAAe,aAAa,0CAA0C,OAAO,OAAO,yCAAyC,aAAa,WAAW,sFAAsF,OAAO,OAAO,uCAAuC,mDAAmD,mDAAmD,kFAAkF,4BAA4B,wCAAwC,sCAAsC,iBAAiB,eAAe,wDAAwD,SAAS,QAAQ,2DAA2D,eAAe,aAAa,WAAW,SAAS,0BAA0B,QAAQ,+SAA+S,kDAAkD,kEAAkE,6BAA6B,kGAAkG,gEAAgE,oCAAoC,oFAAoF,qHAAqH,OAAO,OAAO,4BAA4B,iCAAiC,iFAAiF,2LAA2L,4BAA4B,qCAAqC,8HAA8H,uFAAuF,0BAA0B,mBAAmB,sIAAsI,gCAAgC,0BAA0B,mBAAmB,iBAAiB,mCAAmC,eAAe,2BAA2B,8BAA8B,4JAA4J,mEAAmE,8GAA8G,kDAAkD,sCAAsC,qBAAqB,kCAAkC,sDAAsD,qBAAqB,mBAAmB,iBAAiB,eAAe,aAAa,OAAO,0IAA0I,4CAA4C,qGAAqG,oCAAoC,mDAAmD,wBAAwB,iBAAiB,yCAAyC,eAAe,oFAAoF,gDAAgD,2CAA2C,uCAAuC,eAAe,aAAa,WAAW,SAAS,EAAE,OAAO,iDAAiD,yDAAyD,0CAA0C,4CAA4C,0CAA0C,yCAAyC,wDAAwD,WAAW,6CAA6C,8EAA8E,sBAAsB,wDAAwD,aAAa,oCAAoC,WAAW,uDAAuD,2EAA2E,WAAW,yBAAyB,4BAA4B,mCAAmC,oCAAoC,wFAAwF,aAAa,WAAW,SAAS,EAAE,OAAO,gKAAgK,4DAA4D,mEAAmE,yBAAyB,4BAA4B,6EAA6E,mCAAmC,0FAA0F,kBAAkB,2CAA2C,6CAA6C,sCAAsC,eAAe,iBAAiB,aAAa,WAAW,SAAS,EAAE,OAAO,yCAAyC,qDAAqD,iDAAiD,yBAAyB,4BAA4B,qCAAqC,yEAAyE,yDAAyD,uCAAuC,eAAe,OAAO,2CAA2C,0DAA0D,8BAA8B,eAAe,aAAa,WAAW,SAAS,EAAE,OAAO,4DAA4D,0DAA0D,2EAA2E,8EAA8E,yBAAyB,4BAA4B,sDAAsD,4BAA4B,0BAA0B,uBAAuB,QAAQ,wCAAwC,4BAA4B,oDAAoD,kEAAkE,6BAA6B,eAAe,0DAA0D,4EAA4E,6BAA6B,eAAe,4BAA4B,iCAAiC,oCAAoC,iBAAiB,0CAA0C,eAAe,aAAa,uCAAuC,gCAAgC,aAAa,6CAA6C,WAAW,SAAS,EAAE,OAAO,MAAM,GAAG,EAAE,6dAA6d,aAAa,EAAE,0EAA0E,sCAAsC,oLAAoL,gCAAgC,8GAA8G,OAAO,2EAA2E,2EAA2E,kCAAkC,+BAA+B,2DAA2D,yDAAyD,4FAA4F,uDAAuD,gBAAgB,2HAA2H,OAAO,6CAA6C,MAAM,iFAAiF,QAAQ,sHAAsH,gCAAgC,kEAAkE,0CAA0C,wDAAwD,+BAA+B,aAAa,WAAW,iCAAiC,wBAAwB,yCAAyC,OAAO,OAAO,8BAA8B,+EAA+E,aAAa,WAAW,uCAAuC,oCAAoC,WAAW,OAAO,sCAAsC,WAAW,0EAA0E,0CAA0C,wDAAwD,+BAA+B,aAAa,WAAW,SAAS,kHAAkH,OAAO,kEAAkE,oBAAoB,oEAAoE,0CAA0C,qFAAqF,WAAW,yCAAyC,iEAAiE,0CAA0C,wDAAwD,+BAA+B,aAAa,WAAW,SAAS,gGAAgG,OAAO,6CAA6C,QAAQ,4GAA4G,gCAAgC,0DAA0D,WAAW,SAAS,2HAA2H,OAAO,qFAAqF,8CAA8C,SAAS,6HAA6H,OAAO,yFAAyF,yCAAyC,SAAS,4HAA4H,OAAO,wCAAwC,OAAO,qFAAqF,qBAAqB,2DAA2D,WAAW,OAAO,wCAAwC,WAAW,yBAAyB,6BAA6B,WAAW,SAAS,8HAA8H,OAAO,yFAAyF,iEAAiE,SAAS,6JAA6J,0BAA0B,SAAS,6HAA6H,OAAO,gFAAgF,mDAAmD,SAAS,QAAQ,MAAM,GAAG,EAAE,yfAAyf,sLAAsL,oHAAoH,OAAO,oDAAoD,oBAAoB,6EAA6E,qDAAqD,kCAAkC,8EAA8E,sDAAsD,2BAA2B,6LAA6L,2CAA2C,kBAAkB,mDAAmD,OAAO,oFAAoF,+BAA+B,uCAAuC,sBAAsB,+CAA+C,8CAA8C,WAAW,qDAAqD,uCAAuC,WAAW,mEAAmE,6CAA6C,WAAW,qDAAqD,uCAAuC,WAAW,kDAAkD,qCAAqC,WAAW,+DAA+D,2CAA2C,kBAAkB,2BAA2B,eAAe,4BAA4B,aAAa,WAAW,UAAU,yBAAyB,+BAA+B,uHAAuH,2BAA2B,6BAA6B,sCAAsC,oCAAoC,wFAAwF,+BAA+B,mCAAmC,+DAA+D,gCAAgC,mEAAmE,OAAO,OAAO,4DAA4D,gDAAgD,oDAAoD,0DAA0D,sCAAsC,iCAAiC,EAAE,mBAAmB,iBAAiB,+CAA+C,OAAO,OAAO,2CAA2C,yDAAyD,oDAAoD,0DAA0D,sCAAsC,iCAAiC,EAAE,mBAAmB,iBAAiB,sCAAsC,eAAe,aAAa,sDAAsD,6BAA6B,6CAA6C,oBAAoB,6BAA6B,iBAAiB,4BAA4B,eAAe,iCAAiC,aAAa,WAAW,OAAO,0BAA0B,WAAW,SAAS,sHAAsH,qBAAqB,SAAS,OAAO,6BAA6B,SAAS,qCAAqC,QAAQ,MAAM,GAAG,EAAE,y4BAAy4B,6CAA6C,2BAA2B,gkBAAgkB,2BAA2B,6BAA6B,0CAA0C,OAAO,qCAAqC,0BAA0B,+BAA+B,8BAA8B,2BAA2B,2BAA2B,SAAS,OAAO,KAAK,uHAAuH,OAAO,oDAAoD,eAAe,gHAAgH,uEAAuE,qBAAqB,yBAAyB,+BAA+B,OAAO,iCAAiC,wTAAwT,gEAAgE,sBAAsB,OAAO,oCAAoC,2BAA2B,0EAA0E,iGAAiG,sCAAsC,4DAA4D,oHAAoH,2CAA2C,0CAA0C,iDAAiD,gCAAgC,WAAW,OAAO,uEAAuE,WAAW,iGAAiG,yDAAyD,SAAS,yBAAyB,OAAO,2gBAA2gB,OAAO,iHAAiH,uDAAuD,OAAO,oCAAoC,oDAAoD,qEAAqE,iCAAiC,2BAA2B,wCAAwC,aAAa,WAAW,EAAE,iCAAiC,SAAS,OAAO,8EAA8E,8CAA8C,qEAAqE,+GAA+G,qDAAqD,sJAAsJ,mCAAmC,uBAAuB,0BAA0B,0EAA0E,gCAAgC,SAAS,OAAO,EAAE,wLAAwL,6EAA6E,2GAA2G,uBAAuB,0BAA0B,sDAAsD,gCAAgC,mIAAmI,0CAA0C,WAAW,OAAO,kIAAkI,uCAAuC,2EAA2E,aAAa,yBAAyB,mFAAmF,aAAa,+DAA+D,WAAW,SAAS,OAAO,EAAE,2HAA2H,0CAA0C,uBAAuB,0BAA0B,qCAAqC,wBAAwB,qFAAqF,gEAAgE,WAAW,SAAS,OAAO,EAAE,qHAAqH,mCAAmC,uBAAuB,0BAA0B,uFAAuF,0BAA0B,WAAW,SAAS,OAAO,EAAE,8DAA8D,mCAAmC,uBAAuB,qCAAqC,uBAAuB,qDAAqD,WAAW,SAAS,OAAO,EAAE,4KAA4K,gDAAgD,gCAAgC,8gBAA8gB,SAAS,uBAAuB,0BAA0B,+DAA+D,sCAAsC,kMAAkM,uBAAuB,4FAA4F,aAAa,qCAAqC,oFAAoF,aAAa,WAAW,OAAO,mCAAmC,yEAAyE,aAAa,WAAW,SAAS,OAAO,EAAE,8HAA8H,mCAAmC,uBAAuB,0BAA0B,sDAAsD,iCAAiC,0BAA0B,yEAAyE,WAAW,uDAAuD,kCAAkC,0BAA0B,4BAA4B,yDAAyD,WAAW,SAAS,OAAO,EAAE,+EAA+E,mCAAmC,uBAAuB,0BAA0B,gCAAgC,0BAA0B,WAAW,4BAA4B,2EAA2E,wCAAwC,aAAa,WAAW,SAAS,OAAO,EAAE,4PAA4P,+BAA+B,yBAAyB,sCAAsC,WAAW,SAAS,QAAQ,8CAA8C,wHAAwH,oBAAoB,qWAAqW,6BAA6B,kBAAkB,OAAO,2CAA2C,eAAe,YAAY,EAAE,oDAAoD,OAAO,kEAAkE,SAAS,8dAA8d,6BAA6B,kBAAkB,OAAO,2CAA2C,eAAe,YAAY,EAAE,yDAAyD,OAAO,kEAAkE,SAAS,sRAAsR,QAAQ,+CAA+C,OAAO,8GAA8G,gFAAgF,mOAAmO,qCAAqC,yCAAyC,uCAAuC,WAAW,OAAO,wCAAwC,WAAW,gLAAgL,wCAAwC,4FAA4F,iLAAiL,+DAA+D,aAAa,EAAE,6GAA6G,yCAAyC,aAAa,OAAO,8BAA8B,aAAa,yGAAyG,0BAA0B,WAAW,8BAA8B,8CAA8C,yFAAyF,wCAAwC,WAAW,0DAA0D,6BAA6B,oCAAoC,WAAW,oIAAoI,mCAAmC,yFAAyF,4DAA4D,mHAAmH,mDAAmD,gEAAgE,WAAW,2DAA2D,qCAAqC,WAAW,gFAAgF,6BAA6B,WAAW,6BAA6B,gCAAgC,SAAS,+UAA+U,OAAO,kGAAkG,yCAAyC,SAAS,mVAAmV,OAAO,iFAAiF,yCAAyC,SAAS,yCAAyC,uBAAuB,4CAA4C,WAAW,SAAS,0CAA0C,uBAAuB,6CAA6C,WAAW,SAAS,wNAAwN,OAAO,6LAA6L,MAAM,GAAG,EAAE,uiBAAuiB,mCAAmC,0DAA0D,0CAA0C,uHAAuH,gGAAgG,iCAAiC,0CAA0C,yHAAyH,iBAAiB,SAAS,kJAAkJ,qCAAqC,SAAS,iIAAiI,kBAAkB,yBAAyB,SAAS,4EAA4E,uCAAuC,6FAA6F,0DAA0D,8FAA8F,4CAA4C,yFAAyF,0EAA0E,iCAAiC,WAAW,yBAAyB,mCAAmC,WAAW,OAAO,oBAAoB,aAAa,WAAW,SAAS,sGAAsG,gHAAgH,+CAA+C,oCAAoC,2BAA2B,0BAA0B,WAAW,OAAO,qCAAqC,WAAW,uRAAuR,+FAA+F,4FAA4F,oBAAoB,aAAa,uBAAuB,WAAW,SAAS,OAAO,6FAA6F,wLAAwL,+FAA+F,6FAA6F,oBAAoB,aAAa,uBAAuB,WAAW,SAAS,kBAAkB,iEAAiE,OAAO,yGAAyG,uHAAuH,+JAA+J,+CAA+C,0BAA0B,SAAS,8CAA8C,gEAAgE,wEAAwE,6EAA6E,4BAA4B,SAAS,wCAAwC,uHAAuH,sCAAsC,mCAAmC,gEAAgE,kEAAkE,mBAAmB,WAAW,mCAAmC,0EAA0E,mBAAmB,WAAW,wCAAwC,qFAAqF,6BAA6B,2EAA2E,qBAAqB,aAAa,4BAA4B,0CAA0C,oEAAoE,eAAe,OAAO,6EAA6E,eAAe,uBAAuB,aAAa,2EAA2E,0CAA0C,8CAA8C,mDAAmD,yHAAyH,sCAAsC,2CAA2C,qEAAqE,wBAAwB,iBAAiB,eAAe,8CAA8C,aAAa,WAAW,OAAO,4FAA4F,6BAA6B,oFAAoF,aAAa,sGAAsG,4CAA4C,6FAA6F,eAAe,OAAO,2EAA2E,eAAe,uBAAuB,aAAa,+BAA+B,0CAA0C,2DAA2D,yHAAyH,sCAAsC,2CAA2C,wBAAwB,iBAAiB,eAAe,kDAAkD,aAAa,WAAW,+EAA+E,SAAS,eAAe,0DAA0D,kEAAkE,2BAA2B,WAAW,SAAS,aAAa,6VAA6V,mFAAmF,6EAA6E,oCAAoC,+CAA+C,6DAA6D,6CAA6C,uCAAuC,kDAAkD,sDAAsD,aAAa,6FAA6F,gFAAgF,wGAAwG,gEAAgE,sEAAsE,6BAA6B,aAAa,WAAW,OAAO,qBAAqB,iCAAiC,SAAS,0BAA0B,OAAO,2CAA2C,oDAAoD,qCAAqC,sDAAsD,qCAAqC,0CAA0C,6DAA6D,uCAAuC,kCAAkC,yBAAyB,yCAAyC,gCAAgC,sBAAsB,eAAe,aAAa,4BAA4B,uCAAuC,WAAW,2BAA2B,SAAS,+CAA+C,uBAAuB,+CAA+C,yBAAyB,oBAAoB,oLAAoL,WAAW,SAAS,8DAA8D,4DAA4D,uDAAuD,6CAA6C,mDAAmD,aAAa,WAAW,OAAO,8BAA8B,8CAA8C,WAAW,SAAS,0BAA0B,QAAQ,kDAAkD,qCAAqC,4CAA4C,qCAAqC,iCAAiC,sCAAsC,QAAQ,OAAO,qCAAqC,6BAA6B,+CAA+C,mCAAmC,aAAa,WAAW,wBAAwB,SAAS,+CAA+C,6FAA6F,2BAA2B,6CAA6C,+CAA+C,wEAAwE,uCAAuC,mCAAmC,4DAA4D,0EAA0E,aAAa,OAAO,sCAAsC,aAAa,8EAA8E,0BAA0B,iCAAiC,aAAa,WAAW,SAAS,+BAA+B,oCAAoC,4CAA4C,mEAAmE,yBAAyB,WAAW,OAAO,yCAAyC,sCAAsC,kCAAkC,yBAAyB,WAAW,SAAS,QAAQ,uCAAuC,iKAAiK,uCAAuC,uDAAuD,qCAAqC,4DAA4D,mDAAmD,qCAAqC,uEAAuE,6BAA6B,uBAAuB,WAAW,0CAA0C,iEAAiE,6CAA6C,kDAAkD,+BAA+B,2EAA2E,WAAW,OAAO,yCAAyC,iCAAiC,2CAA2C,iEAAiE,eAAe,OAAO,8DAA8D,eAAe,iDAAiD,aAAa,kCAAkC,sOAAsO,SAAS,4CAA4C,+CAA+C,qCAAqC,0EAA0E,6EAA6E,+BAA+B,WAAW,SAAS,oFAAoF,sCAAsC,wCAAwC,kCAAkC,uCAAuC,mKAAmK,4JAA4J,6CAA6C,yVAAyV,gFAAgF,6CAA6C,EAAE,eAAe,OAAO,+BAA+B,eAAe,0DAA0D,qBAAqB,SAAS,gEAAgE,6BAA6B,wCAAwC,4CAA4C,8BAA8B,uCAAuC,eAAe,qBAAqB,aAAa,0DAA0D,uDAAuD,WAAW,+CAA+C,iBAAiB,+DAA+D,kDAAkD,0CAA0C,+BAA+B,kQAAkQ,oEAAoE,uBAAuB,eAAe,aAAa,aAAa,oCAAoC,WAAW,SAAS,uEAAuE,sBAAsB,gFAAgF,QAAQ,+DAA+D,KAAK,uBAAuB,GAAG,EAAE,wbAAwb,YAAY,qLAAqL,6EAA6E,OAAO,sCAAsC,qLAAqL,OAAO,MAAM,GAAG,EAAE,0zBAA0zB,iEAAiE,+DAA+D,mDAAmD,oCAAoC,0EAA0E,sBAAsB,SAAS,iCAAiC,OAAO,oBAAoB,KAAK,0CAA0C,8CAA8C,yGAAyG,2FAA2F,8GAA8G,kHAAkH,mFAAmF,oSAAoS,4GAA4G,4EAA4E,iCAAiC,sCAAsC,qCAAqC,+BAA+B,yBAAyB,0BAA0B,yCAAyC,kDAAkD,2CAA2C,yFAAyF,uCAAuC,8FAA8F,+CAA+C,iCAAiC,0DAA0D,mEAAmE,wCAAwC,yCAAyC,6CAA6C,+BAA+B,2CAA2C,iCAAiC,0BAA0B,2BAA2B,4BAA4B,sCAAsC,8BAA8B,kCAAkC,gCAAgC,+BAA+B,2BAA2B,iCAAiC,yCAAyC,SAAS,mCAAmC,uDAAuD,8CAA8C,uBAAuB,SAAS,4CAA4C,qCAAqC,SAAS,gEAAgE,uBAAuB,SAAS,wCAAwC,uBAAuB,SAAS,8CAA8C,OAAO,wCAAwC,yCAAyC,yCAAyC,sEAAsE,oCAAoC,8EAA8E,qDAAqD,uFAAuF,yCAAyC,qGAAqG,gDAAgD,SAAS,OAAO,mIAAmI,SAAS,6DAA6D,0CAA0C,0CAA0C,0CAA0C,WAAW,OAAO,0CAA0C,0CAA0C,WAAW,SAAS,uEAAuE,wDAAwD,EAAE,qGAAqG,2DAA2D,8DAA8D,8DAA8D,uCAAuC,8FAA8F,EAAE,oDAAoD,YAAY,2HAA2H,kFAAkF,SAAS,6HAA6H,kFAAkF,SAAS,2GAA2G,8DAA8D,oGAAoG,uCAAuC,2FAA2F,EAAE,SAAS,+BAA+B,4CAA4C,mDAAmD,EAAE,+BAA+B,SAAS,OAAO,mCAAmC,8BAA8B,6CAA6C,sBAAsB,+JAA+J,qDAAqD,aAAa,OAAO,sDAAsD,aAAa,WAAW,SAAS,4EAA4E,sCAAsC,mEAAmE,2DAA2D,4CAA4C,oEAAoE,8DAA8D,SAAS,wGAAwG,iCAAiC,2DAA2D,sCAAsC,SAAS,wCAAwC,kDAAkD,EAAE,iFAAiF,6BAA6B,OAAO,iFAAiF,yDAAyD,2BAA2B,mCAAmC,kGAAkG,kCAAkC,kCAAkC,iDAAiD,kHAAkH,+DAA+D,wGAAwG,sCAAsC,kCAAkC,6BAA6B,SAAS,6FAA6F,kBAAkB,EAAE,kEAAkE,sDAAsD,0BAA0B,qCAAqC,iCAAiC,iCAAiC,+CAA+C,gDAAgD,sCAAsC,sCAAsC,mCAAmC,oIAAoI,2DAA2D,2DAA2D,+DAA+D,oEAAoE,uEAAuE,uDAAuD,gFAAgF,+CAA+C,6GAA6G,EAAE,sEAAsE,wDAAwD,uEAAuE,+DAA+D,kDAAkD,wEAAwE,kEAAkE,eAAe,4DAA4D,mGAAmG,oBAAoB,aAAa,aAAa,wCAAwC,sGAAsG,0CAA0C,eAAe,uBAAuB,aAAa,+GAA+G,4BAA4B,oCAAoC,aAAa,uDAAuD,6MAA6M,UAAU,wBAAwB,EAAE,2IAA2I,gDAAgD,aAAa,4DAA4D,2CAA2C,iCAAiC,2BAA2B,aAAa,EAAE,qCAAqC,uEAAuE,mMAAmM,EAAE,WAAW,EAAE,SAAS,OAAO,2BAA2B,SAAS,6DAA6D,OAAO,mCAAmC,4BAA4B,qCAAqC,4BAA4B,2DAA2D,SAAS,uCAAuC,wDAAwD,0BAA0B,kCAAkC,kCAAkC,WAAW,SAAS,OAAO,sCAAsC,iCAAiC,iDAAiD,qBAAqB,gBAAgB,oCAAoC,4BAA4B,eAAe,aAAa,kCAAkC,WAAW,SAAS,iIAAiI,iBAAiB,SAAS,gMAAgM,mDAAmD,SAAS,EAAE,8EAA8E,mFAAmF,wDAAwD,+BAA+B,8CAA8C,6GAA6G,mFAAmF,yCAAyC,qBAAqB,aAAa,WAAW,SAAS,2BAA2B,OAAO,+CAA+C,qCAAqC,6CAA6C,SAAS,OAAO,+CAA+C,qCAAqC,6CAA6C,SAAS,OAAO,uCAAuC,6FAA6F,+CAA+C,0DAA0D,yDAAyD,0FAA0F,uCAAuC,qDAAqD,oDAAoD,+EAA+E,oCAAoC,kBAAkB,WAAW,SAAS,yFAAyF,0CAA0C,0HAA0H,EAAE,0CAA0C,yDAAyD,OAAO,oCAAoC,+BAA+B,6BAA6B,SAAS,OAAO,gCAAgC,eAAe,OAAO,oDAAoD,qFAAqF,OAAO,yCAAyC,kCAAkC,qDAAqD,4BAA4B,iBAAiB,SAAS,sCAAsC,yCAAyC,eAAe,EAAE,sCAAsC,6DAA6D,kCAAkC,mBAAmB,WAAW,yEAAyE,6BAA6B,iCAAiC,kEAAkE,WAAW,SAAS,OAAO,8CAA8C,mEAAmE,OAAO,6CAA6C,yCAAyC,2CAA2C,6BAA6B,mCAAmC,8BAA8B,WAAW,SAAS,OAAO,uCAAuC,aAAa,yHAAyH,SAAS,aAAa,4BAA4B,OAAO,qCAAqC,oBAAoB,sBAAsB,iBAAiB,SAAS,0DAA0D,eAAe,kCAAkC,2BAA2B,sBAAsB,SAAS,aAAa,4FAA4F,OAAO,sCAAsC,mBAAmB,oHAAoH,+CAA+C,+BAA+B,sCAAsC,aAAa,WAAW,EAAE,2EAA2E,gDAAgD,mCAAmC,WAAW,EAAE,SAAS,OAAO,+BAA+B,0FAA0F,2LAA2L,gEAAgE,mHAAmH,qEAAqE,6GAA6G,uCAAuC,iBAAiB,eAAe,aAAa,EAAE,2EAA2E,4CAA4C,2DAA2D,gDAAgD,iBAAiB,EAAE,eAAe,6DAA6D,mCAAmC,wCAAwC,uBAAuB,eAAe,iEAAiE,mCAAmC,mSAAmS,0CAA0C,iBAAiB,eAAe,aAAa,EAAE,WAAW,SAAS,sEAAsE,kCAAkC,gCAAgC,WAAW,SAAS,EAAE,4FAA4F,8GAA8G,iKAAiK,yCAAyC,WAAW,SAAS,EAAE,iDAAiD,mIAAmI,OAAO,EAAE,sDAAsD,4BAA4B,8CAA8C,qBAAqB,sCAAsC,yEAAyE,SAAS,OAAO,gBAAgB,+NAA+N,MAAM,GAAG,EAAE,wZAAwZ,yBAAyB,gCAAgC,yBAAyB,qBAAqB,QAAQ,KAAK,kCAAkC,0BAA0B,6BAA6B,QAAQ,KAAK,8BAA8B,0BAA0B,uBAAuB,QAAQ,KAAK,qBAAqB,uCAAuC,4BAA4B,uBAAuB,iBAAiB,OAAO,2BAA2B,wBAAwB,WAAW,SAAS,uBAAuB,QAAQ,KAAK,sBAAsB,uCAAuC,4BAA4B,uBAAuB,iBAAiB,OAAO,4BAA4B,yBAAyB,WAAW,SAAS,sBAAsB,QAAQ,KAAK,0BAA0B,uCAAuC,2CAA2C,6CAA6C,OAAO,2BAA2B,6DAA6D,2CAA2C,QAAQ,KAAK,uBAAuB,KAAK,cAAc,0IAA0I,GAAG,EAAE,gsBAAgsB,kdAAkd,uCAAuC,mCAAmC,qBAAqB,OAAO,2BAA2B,oDAAoD,uBAAuB,SAAS,sBAAsB,OAAO,mGAAmG,KAAK,6CAA6C,kCAAkC,0BAA0B,0BAA0B,2CAA2C,uBAAuB,SAAS,4CAA4C,sBAAsB,SAAS,OAAO,oBAAoB,KAAK,mDAAmD,0CAA0C,qBAAqB,OAAO,iFAAiF,oDAAoD,OAAO,kBAAkB,KAAK,+BAA+B,wEAAwE,KAAK,yDAAyD,oEAAoE,KAAK,cAAc,iKAAiK,GAAG,EAAE,2cAA2c,2BAA2B,4BAA4B,kBAAkB,gBAAgB,2DAA2D,OAAO,gBAAgB,2MAA2M,KAAK,8CAA8C,qCAAqC,sBAAsB,2CAA2C,OAAO,OAAO,6DAA6D,2CAA2C,OAAO,6BAA6B,0BAA0B,KAAK,sCAAsC,uKAAuK,KAAK,qEAAqE,iGAAiG,OAAO,kDAAkD,iDAAiD,oBAAoB,OAAO,mDAAmD,qBAAqB,OAAO,+FAA+F,KAAK,kDAAkD,iDAAiD,oBAAoB,OAAO,mDAAmD,qBAAqB,OAAO,+FAA+F,KAAK,iDAAiD,iDAAiD,KAAK,kDAAkD,mDAAmD,KAAK,kDAAkD,8CAA8C,kBAAkB,OAAO,gDAAgD,iBAAiB,OAAO,+CAA+C,kBAAkB,OAAO,gDAAgD,iBAAiB,OAAO,iBAAiB,KAAK,yDAAyD,yKAAyK,KAAK,cAAc,sNAAsN,GAAG,EAAE,6eAA6e,8DAA8D,y9FAAy9F,oCAAoC,2FAA2F,KAAK,cAAc,4CAA4C,GAAG,EAAE,oqBAAoqB,6DAA6D,wWAAwW,8iBAA8iB,iCAAiC,mFAAmF,KAAK,kCAAkC,6CAA6C,KAAK,+CAA+C,2FAA2F,+EAA+E,8BAA8B,iFAAiF,sBAAsB,SAAS,OAAO,qBAAqB,KAAK,2DAA2D,6CAA6C,mJAAmJ,qLAAqL,gDAAgD,8BAA8B,4BAA4B,mEAAmE,qCAAqC,4BAA4B,OAAO,8CAA8C,oCAAoC,8CAA8C,qCAAqC,wDAAwD,SAAS,OAAO,sEAAsE,SAAS,oDAAoD,uCAAuC,SAAS,4BAA4B,OAAO,+DAA+D,8DAA8D,6BAA6B,+CAA+C,4BAA4B,OAAO,oDAAoD,sCAAsC,iBAAiB,SAAS,uCAAuC,oFAAoF,mBAAmB,WAAW,SAAS,uCAAuC,OAAO,wDAAwD,yDAAyD,+CAA+C,sEAAsE,+BAA+B,WAAW,gPAAgP,8CAA8C,gDAAgD,oDAAoD,kGAAkG,iCAAiC,aAAa,WAAW,SAAS,2BAA2B,gDAAgD,0CAA0C,kDAAkD,gGAAgG,WAAW,SAAS,+CAA+C,4CAA4C,8CAA8C,kDAAkD,+FAA+F,WAAW,SAAS,OAAO,gDAAgD,8EAA8E,2BAA2B,OAAO,mDAAmD,sCAAsC,iFAAiF,6BAA6B,uDAAuD,WAAW,oEAAoE,+FAA+F,WAAW,SAAS,OAAO,iFAAiF,6BAA6B,wCAAwC,WAAW,gFAAgF,+FAA+F,+BAA+B,WAAW,6FAA6F,8EAA8E,8FAA8F,uGAAuG,aAAa,WAAW,qDAAqD,8FAA8F,WAAW,SAAS,OAAO,2BAA2B,KAAK,+HAA+H,KAAK,yCAAyC,OAAO,yDAAyD,MAAM,6HAA6H,4BAA4B,gCAAgC,8BAA8B,SAAS,8BAA8B,OAAO,4BAA4B,gCAAgC,iDAAiD,SAAS,uDAAuD,OAAO,4BAA4B,kBAAkB,uDAAuD,0CAA0C,wCAAwC,uBAAuB,OAAO,mCAAmC,2BAA2B,0FAA0F,SAAS,6BAA6B,OAAO,8BAA8B,2CAA2C,OAAO,yCAAyC,6GAA6G,OAAO,kCAAkC,qEAAqE,OAAO,gBAAgB,2GAA2G,KAAK,kMAAkM,OAAO,8MAA8M,SAAS,mQAAmQ,MAAM,6NAA6N,QAAQ,yPAAyP,QAAQ,qPAAqP,QAAQ,uSAAuS,4BAA4B,kEAAkE,QAAQ,4TAA4T,KAAK,8EAA8E,KAAK,qHAAqH,SAAS,+DAA+D,4BAA4B,uGAAuG,wEAAwE,MAAM,iHAAiH,SAAS,+DAA+D,4BAA4B,mGAAmG,oEAAoE,MAAM,6HAA6H,KAAK,sDAAsD,4BAA4B,+EAA+E,qEAAqE,MAAM,+HAA+H,KAAK,sDAAsD,4BAA4B,gFAAgF,iEAAiE,MAAM,2BAA2B,GAAG,EAAE,0yBAA0yB,yDAAyD,+OAA+O,uGAAuG,uCAAuC,uCAAuC,kCAAkC,4CAA4C,OAAO,0BAA0B,KAAK,oCAAoC,kBAAkB,kBAAkB,OAAO,mEAAmE,qDAAqD,sDAAsD,SAAS,OAAO,4BAA4B,SAAS,wBAAwB,OAAO,MAAM,KAAK,uDAAuD,qDAAqD,gCAAgC,gBAAgB,SAAS,yCAAyC,OAAO,sBAAsB,KAAK,mCAAmC,8BAA8B,qCAAqC,QAAQ,KAAK,0CAA0C,yCAAyC,sDAAsD,sDAAsD,wCAAwC,sEAAsE,mDAAmD,mBAAmB,SAAS,wBAAwB,OAAO,KAAK,0EAA0E,sDAAsD,wCAAwC,KAAK,qCAAqC,eAAe,2BAA2B,wBAAwB,OAAO,OAAO,2CAA2C,OAAO,4DAA4D,KAAK,wDAAwD,uBAAuB,oCAAoC,kBAAkB,0BAA0B,2CAA2C,gBAAgB,SAAS,6BAA6B,OAAO,uBAAuB,KAAK,gDAAgD,iFAAiF,8CAA8C,sCAAsC,gCAAgC,+DAA+D,OAAO,OAAO,0CAA0C,0CAA0C,iCAAiC,yCAAyC,SAAS,OAAO,kCAAkC,SAAS,yCAAyC,OAAO,6CAA6C,kDAAkD,kEAAkE,0DAA0D,oCAAoC,OAAO,GAAG,6DAA6D,KAAK,mDAAmD,sCAAsC,yDAAyD,0DAA0D,OAAO,EAAE,iEAAiE,0BAA0B,KAAK,oDAAoD,sDAAsD,8BAA8B,mCAAmC,2EAA2E,2BAA2B,yCAAyC,gBAAgB,SAAS,0CAA0C,2BAA2B,2BAA2B,gBAAgB,SAAS,kCAAkC,gCAAgC,OAAO,6CAA6C,uCAAuC,OAAO,oDAAoD,KAAK,wCAAwC,mCAAmC,oBAAoB,oBAAoB,OAAO,gCAAgC,iCAAiC,sDAAsD,8DAA8D,8DAA8D,qBAAqB,sBAAsB,SAAS,sCAAsC,6BAA6B,SAAS,2EAA2E,OAAO,YAAY,yBAAyB,oBAAoB,OAAO,iCAAiC,iCAAiC,4CAA4C,SAAS,OAAO,wCAAwC,SAAS,iEAAiE,OAAO,iEAAiE,KAAK,cAAc,oIAAoI,KAAK,+DAA+D,4BAA4B,qEAAqE,OAAO,iNAAiN,KAAK,sEAAsE,OAAO,uDAAuD,4BAA4B,uFAAuF,GAAG,EAAE,6uBAA6uB,iEAAiE,kKAAkK,sBAAsB,sGAAsG,8BAA8B,uPAAuP,OAAO,kGAAkG,QAAQ,qHAAqH,OAAO,qNAAqN,yGAAyG,6GAA6G,8DAA8D,oEAAoE,UAAU,6CAA6C,wBAAwB,yDAAyD,gEAAgE,qBAAqB,aAAa,oCAAoC,2BAA2B,aAAa,sBAAsB,WAAW,EAAE,yBAAyB,SAAS,qDAAqD,wCAAwC,gFAAgF,oDAAoD,4CAA4C,4EAA4E,gDAAgD,mGAAmG,8BAA8B,iEAAiE,0EAA0E,eAAe,aAAa,WAAW,+BAA+B,yBAAyB,uBAAuB,SAAS,qCAAqC,kDAAkD,2CAA2C,oLAAoL,4CAA4C,+BAA+B,sDAAsD,4BAA4B,+BAA+B,kDAAkD,iBAAiB,eAAe,mCAAmC,aAAa,OAAO,gDAAgD,uEAAuE,0BAA0B,4DAA4D,eAAe,kFAAkF,aAAa,oBAAoB,gCAAgC,oCAAoC,+DAA+D,aAAa,2BAA2B,WAAW,iDAAiD,2CAA2C,yCAAyC,WAAW,4BAA4B,SAAS,6DAA6D,8CAA8C,wBAAwB,6CAA6C,sDAAsD,iDAAiD,4BAA4B,eAAe,aAAa,0DAA0D,wFAAwF,uCAAuC,eAAe,+CAA+C,oDAAoD,+BAA+B,eAAe,2CAA2C,oDAAoD,+BAA+B,eAAe,aAAa,WAAW,oHAAoH,SAAS,0BAA0B,wCAAwC,mDAAmD,mCAAmC,mEAAmE,oBAAoB,6CAA6C,WAAW,uCAAuC,0DAA0D,WAAW,+DAA+D,wBAAwB,mCAAmC,oBAAoB,6CAA6C,WAAW,oCAAoC,SAAS,0BAA0B,mCAAmC,oBAAoB,2LAA2L,SAAS,mDAAmD,kBAAkB,yBAAyB,SAAS,mCAAmC,4BAA4B,4CAA4C,kCAAkC,iBAAiB,oEAAoE,qDAAqD,mCAAmC,mBAAmB,iEAAiE,oIAAoI,mEAAmE,qCAAqC,kNAAkN,qEAAqE,6CAA6C,iBAAiB,uIAAuI,eAAe,aAAa,aAAa,6FAA6F,aAAa,WAAW,OAAO,kEAAkE,oCAAoC,sBAAsB,6CAA6C,WAAW,SAAS,OAAO,wCAAwC,kCAAkC,8BAA8B,oBAAoB,6CAA6C,WAAW,wFAAwF,2DAA2D,iCAAiC,gDAAgD,8DAA8D,QAAQ,WAAW,mDAAmD,6BAA6B,6CAA6C,gEAAgE,QAAQ,SAAS,oCAAoC,gBAAgB,EAAE,kBAAkB,QAAQ,QAAQ,6HAA6H,OAAO,+DAA+D,QAAQ,8KAA8K,yGAAyG,6GAA6G,yDAAyD,4EAA4E,uCAAuC,mFAAmF,wBAAwB,8BAA8B,uFAAuF,QAAQ,OAAO,yCAAyC,qDAAqD,uBAAuB,eAAe,0CAA0C,aAAa,iGAAiG,iEAAiE,aAAa,oGAAoG,kEAAkE,aAAa,yEAAyE,yCAAyC,aAAa,OAAO,uCAAuC,aAAa,WAAW,wBAAwB,SAAS,4CAA4C,wGAAwG,yBAAyB,qCAAqC,sCAAsC,0BAA0B,4CAA4C,eAAe,OAAO,yCAAyC,wBAAwB,eAAe,qDAAqD,4CAA4C,aAAa,OAAO,0BAA0B,4CAA4C,eAAe,OAAO,yCAAyC,wBAAwB,eAAe,oCAAoC,8BAA8B,aAAa,0BAA0B,4CAA4C,wCAAwC,uHAAuH,yCAAyC,0EAA0E,iBAAiB,eAAe,EAAE,wUAAwU,sCAAsC,eAAe,gZAAgZ,4CAA4C,gDAAgD,iCAAiC,0CAA0C,uDAAuD,gDAAgD,iBAAiB,OAAO,sCAAsC,kCAAkC,iBAAiB,eAAe,aAAa,WAAW,SAAS,mCAAmC,6HAA6H,2DAA2D,WAAW,wBAAwB,SAAS,mDAAmD,uBAAuB,kCAAkC,qEAAqE,sDAAsD,qEAAqE,oDAAoD,uBAAuB,SAAS,yBAAyB,8CAA8C,kCAAkC,iCAAiC,yCAAyC,mEAAmE,aAAa,uDAAuD,oCAAoC,aAAa,WAAW,8CAA8C,qEAAqE,WAAW,wBAAwB,4EAA4E,mCAAmC,mCAAmC,oCAAoC,kEAAkE,4DAA4D,oCAAoC,aAAa,WAAW,0BAA0B,wEAAwE,WAAW,yBAAyB,2CAA2C,WAAW,SAAS,QAAQ,KAAK,mJAAmJ,QAAQ,uEAAuE,QAAQ,8GAA8G,kGAAkG,MAAM,6BAA6B,GAAG,EAAE,ooBAAooB,scAAsc,6CAA6C,sBAAsB,oHAAoH,qBAAqB,8CAA8C,OAAO,2DAA2D,eAAe,wDAAwD,uBAAuB,uHAAuH,sBAAsB,uBAAuB,qBAAqB,mCAAmC,2BAA2B,uDAAuD,iEAAiE,kEAAkE,qDAAqD,OAAO,KAAK,6BAA6B,oPAAoP,KAAK,0DAA0D,OAAO,kIAAkI,oDAAoD,sBAAsB,+DAA+D,2BAA2B,SAAS,OAAO,qCAAqC,mCAAmC,2BAA2B,+BAA+B,SAAS,OAAO,wJAAwJ,OAAO,4FAA4F,OAAO,6KAA6K,kIAAkI,eAAe,GAAG,2CAA2C,iFAAiF,4EAA4E,4BAA4B,gDAAgD,wBAAwB,4CAA4C,8BAA8B,mDAAmD,sCAAsC,4FAA4F,SAAS,kCAAkC,yCAAyC,2BAA2B,yCAAyC,WAAW,SAAS,iEAAiE,yUAAyU,gDAAgD,SAAS,OAAO,4CAA4C,SAAS,yFAAyF,iCAAiC,SAAS,+CAA+C,gCAAgC,SAAS,+BAA+B,gIAAgI,6CAA6C,8BAA8B,OAAO,gVAAgV,OAAO,iGAAiG,OAAO,iOAAiO,oDAAoD,6FAA6F,0BAA0B,gBAAgB,wBAAwB,8BAA8B,+BAA+B,4EAA4E,qDAAqD,SAAS,iCAAiC,+BAA+B,2JAA2J,8GAA8G,0JAA0J,WAAW,OAAO,iCAAiC,qDAAqD,2CAA2C,aAAa,OAAO,2HAA2H,sEAAsE,eAAe,OAAO,iHAAiH,gDAAgD,yCAAyC,yCAAyC,uCAAuC,eAAe,aAAa,WAAW,iFAAiF,uHAAuH,wCAAwC,sCAAsC,2BAA2B,6EAA6E,iBAAiB,6BAA6B,WAAW,aAAa,iEAAiE,SAAS,OAAO,yBAAyB,6GAA6G,gCAAgC,WAAW,kHAAkH,uEAAuE,yCAAyC,WAAW,OAAO,mCAAmC,WAAW,SAAS,qEAAqE,+CAA+C,SAAS,OAAO,kMAAkM,QAAQ,sHAAsH,QAAQ,2EAA2E,0FAA0F,0CAA0C,0EAA0E,+BAA+B,WAAW,qEAAqE,+BAA+B,kDAAkD,4DAA4D,8CAA8C,WAAW,iRAAiR,4CAA4C,uCAAuC,2CAA2C,oBAAoB,aAAa,WAAW,gCAAgC,SAAS,4CAA4C,2EAA2E,wCAAwC,kHAAkH,WAAW,SAAS,2DAA2D,yCAAyC,SAAS,8BAA8B,OAAO,4LAA4L,QAAQ,sHAAsH,QAAQ,uEAAuE,oEAAoE,0CAA0C,yBAAyB,+BAA+B,WAAW,kCAAkC,0BAA0B,2CAA2C,0DAA0D,4CAA4C,WAAW,8DAA8D,sDAAsD,WAAW,8BAA8B,SAAS,wCAAwC,kCAAkC,uEAAuE,wCAAwC,0FAA0F,WAAW,SAAS,uDAAuD,uCAAuC,SAAS,4BAA4B,OAAO,wPAAwP,OAAO,kGAAkG,QAAQ,qHAAqH,OAAO,qNAAqN,yGAAyG,6GAA6G,wDAAwD,kEAAkE,OAAO,8HAA8H,OAAO,+DAA+D,QAAQ,8KAA8K,yGAAyG,6GAA6G,mDAAmD,6DAA6D,OAAO,gLAAgL,QAAQ,kDAAkD,QAAQ,2GAA2G,QAAQ,qOAAqO,gDAAgD,oEAAoE,yFAAyF,qBAAqB,sEAAsE,mBAAmB,WAAW,sCAAsC,6CAA6C,+CAA+C,8EAA8E,gDAAgD,0CAA0C,WAAW,6BAA6B,SAAS,sBAAsB,OAAO,gMAAgM,QAAQ,oKAAoK,kEAAkE,iCAAiC,uBAAuB,SAAS,qCAAqC,+DAA+D,SAAS,uCAAuC,OAAO,uHAAuH,QAAQ,4HAA4H,mDAAmD,uDAAuD,6BAA6B,yDAAyD,sCAAsC,SAAS,kCAAkC,yBAAyB,OAAO,qHAAqH,UAAU,sEAAsE,2BAA2B,gFAAgF,OAAO,gHAAgH,QAAQ,2DAA2D,MAAM,gNAAgN,8DAA8D,iFAAiF,eAAe,4EAA4E,WAAW,aAAa,kZAAkZ,WAAW,SAAS,0BAA0B,sBAAsB,SAAS,kCAAkC,2DAA2D,sBAAsB,SAAS,oNAAoN,gDAAgD,0FAA0F,oCAAoC,wEAAwE,kEAAkE,WAAW,OAAO,2BAA2B,WAAW,uBAAuB,SAAS,sGAAsG,+CAA+C,SAAS,eAAe,4CAA4C,2CAA2C,4CAA4C,aAAa,OAAO,wFAAwF,aAAa,WAAW,SAAS,aAAa,6FAA6F,uDAAuD,WAAW,EAAE,gCAAgC,2BAA2B,SAAS,gQAAgQ,eAAe,wGAAwG,WAAW,aAAa,gCAAgC,sCAAsC,gCAAgC,oCAAoC,oCAAoC,iCAAiC,WAAW,SAAS,gNAAgN,iFAAiF,SAAS,4JAA4J,mCAAmC,+BAA+B,6BAA6B,SAAS,yDAAyD,kLAAkL,8OAA8O,WAAW,OAAO,sCAAsC,sCAAsC,WAAW,SAAS,qBAAqB,OAAO,sHAAsH,MAAM,sCAAsC,QAAQ,mHAAmH,wCAAwC,qBAAqB,iBAAiB,SAAS,0DAA0D,oCAAoC,iBAAiB,yBAAyB,WAAW,aAAa,6DAA6D,mBAAmB,SAAS,iCAAiC,8BAA8B,yDAAyD,WAAW,EAAE,0BAA0B,sBAAsB,qCAAqC,mBAAmB,oCAAoC,gCAAgC,aAAa,aAAa,4HAA4H,yHAAyH,4DAA4D,8DAA8D,aAAa,qMAAqM,WAAW,0NAA0N,sDAAsD,uDAAuD,sEAAsE,oDAAoD,4MAA4M,oZAAoZ,2DAA2D,mBAAmB,iBAAiB,eAAe,aAAa,WAAW,wDAAwD,WAAW,EAAE,SAAS,OAAO,yEAAyE,iBAAiB,4CAA4C,aAAa,aAAa,wGAAwG,WAAW,SAAS,OAAO,8HAA8H,QAAQ,uEAAuE,QAAQ,mNAAmN,qCAAqC,GAAG,uCAAuC,wBAAwB,sDAAsD,qBAAqB,OAAO,qLAAqL,QAAQ,sMAAsM,oCAAoC,kDAAkD,4FAA4F,uDAAuD,0BAA0B,sEAAsE,sEAAsE,WAAW,gCAAgC,SAAS,uFAAuF,sBAAsB,SAAS,8CAA8C,wCAAwC,sCAAsC,kCAAkC,6BAA6B,4CAA4C,oHAAoH,iDAAiD,gDAAgD,qDAAqD,+DAA+D,iBAAiB,eAAe,aAAa,wPAAwP,kSAAkS,0DAA0D,sFAAsF,eAAe,OAAO,2DAA2D,eAAe,sCAAsC,uFAAuF,eAAe,OAAO,uDAAuD,eAAe,wEAAwE,sCAAsC,eAAe,aAAa,WAAW,2CAA2C,kCAAkC,WAAW,uBAAuB,SAAS,6DAA6D,gHAAgH,qBAAqB,SAAS,qBAAqB,OAAO,wDAAwD,yEAAyE,+BAA+B,2EAA2E,qEAAqE,6CAA6C,wCAAwC,SAAS,yDAAyD,0BAA0B,wDAAwD,4DAA4D,oCAAoC,wCAAwC,aAAa,WAAW,SAAS,+DAA+D,sCAAsC,SAAS,gCAAgC,OAAO,gCAAgC,yEAAyE,+HAA+H,sBAAsB,SAAS,wCAAwC,+DAA+D,mCAAmC,uCAAuC,4DAA4D,kCAAkC,gGAAgG,OAAO,gCAAgC,6CAA6C,qEAAqE,6CAA6C,SAAS,qBAAqB,OAAO,yPAAyP,OAAO,qDAAqD,SAAS,yIAAyI,0CAA0C,0CAA0C,wCAAwC,gCAAgC,sDAAsD,6HAA6H,2HAA2H,4CAA4C,6CAA6C,oDAAoD,gGAAgG,sCAAsC,iDAAiD,EAAE,qBAAqB,EAAE,6DAA6D,mBAAmB,2DAA2D,+BAA+B,iBAAiB,eAAe,EAAE,aAAa,EAAE,yHAAyH,gDAAgD,kDAAkD,sDAAsD,mCAAmC,iDAAiD,EAAE,iBAAiB,EAAE,eAAe,aAAa,EAAE,WAAW,EAAE,SAAS,qFAAqF,kDAAkD,SAAS,4DAA4D,sBAAsB,OAAO,yCAAyC,uDAAuD,mDAAmD,sDAAsD,mCAAmC,kBAAkB,WAAW,mCAAmC,SAAS,iCAAiC,OAAO,oDAAoD,8GAA8G,gCAAgC,2BAA2B,mCAAmC,yDAAyD,8CAA8C,6CAA6C,qDAAqD,WAAW,oBAAoB,YAAY,SAAS,yCAAyC,iBAAiB,SAAS,qCAAqC,qCAAqC,SAAS,wCAAwC,0DAA0D,gCAAgC,oEAAoE,qDAAqD,kDAAkD,kEAAkE,iFAAiF,aAAa,qBAAqB,WAAW,SAAS,2DAA2D,wCAAwC,+BAA+B,+BAA+B,+DAA+D,mFAAmF,SAAS,OAAO,mDAAmD,+FAA+F,OAAO,oDAAoD,6DAA6D,wEAAwE,cAAc,8FAA8F,wBAAwB,oCAAoC,aAAa,OAAO,sDAAsD,aAAa,qBAAqB,WAAW,+IAA+I,wBAAwB,uCAAuC,aAAa,OAAO,0CAA0C,uCAAuC,eAAe,OAAO,sCAAsC,eAAe,aAAa,qBAAqB,WAAW,2KAA2K,wBAAwB,oCAAoC,aAAa,OAAO,kCAAkC,aAAa,qBAAqB,WAAW,SAAS,0DAA0D,wIAAwI,sBAAsB,kCAAkC,WAAW,OAAO,qDAAqD,WAAW,SAAS,OAAO,6CAA6C,gCAAgC,mHAAmH,OAAO,8BAA8B,wBAAwB,wCAAwC,OAAO,MAAM,uBAAuB,GAAG,EAAE,2iBAA2iB,0BAA0B,kCAAkC,uNAAuN,KAAK,mDAAmD,KAAK,qDAAqD,QAAQ,mGAAmG,2EAA2E,uBAAuB,SAAS,qJAAqJ,KAAK,sDAAsD,OAAO,sGAAsG,2BAA2B,uDAAuD,mDAAmD,wJAAwJ,wDAAwD,aAAa,WAAW,EAAE,2BAA2B,SAAS,gJAAgJ,OAAO,iDAAiD,OAAO,mDAAmD,QAAQ,kGAAkG,0BAA0B,gCAAgC,0FAA0F,iCAAiC,gGAAgG,6BAA6B,eAAe,0FAA0F,6BAA6B,eAAe,uEAAuE,aAAa,WAAW,4FAA4F,0FAA0F,2BAA2B,aAAa,WAAW,wBAAwB,SAAS,yGAAyG,uBAAuB,SAAS,gKAAgK,uBAAuB,SAAS,kGAAkG,QAAQ,KAAK,0BAA0B,GAAG,EAAE,yZAAyZ,mNAAmN,0BAA0B,2BAA2B,uDAAuD,8BAA8B,2DAA2D,EAAE,sCAAsC,kCAAkC,oDAAoD,SAAS,wCAAwC,OAAO,uCAAuC,gBAAgB,8CAA8C,+DAA+D,SAAS,SAAS,sCAAsC,4BAA4B,mBAAmB,OAAO,oDAAoD,8EAA8E,kDAAkD,sDAAsD,0DAA0D,gHAAgH,SAAS,OAAO,uBAAuB,SAAS,OAAO,sDAAsD,oDAAoD,sDAAsD,qDAAqD,gEAAgE,+BAA+B,+CAA+C,0CAA0C,yCAAyC,WAAW,OAAO,6CAA6C,WAAW,SAAS,qBAAqB,wCAAwC,uCAAuC,SAAS,sBAAsB,qBAAqB,SAAS,gCAAgC,kDAAkD,kCAAkC,SAAS,yBAAyB,wBAAwB,8FAA8F,oCAAoC,WAAW,oDAAoD,oDAAoD,iDAAiD,WAAW,EAAE,SAAS,2FAA2F,OAAO,0CAA0C,2BAA2B,kCAAkC,qCAAqC,gFAAgF,wBAAwB,OAAO,OAAO,kBAAkB,OAAO,KAAK,mDAAmD,mEAAmE,KAAK,0CAA0C,kBAAkB,iBAAiB,qCAAqC,QAAQ,+CAA+C,2BAA2B,wKAAwK,uBAAuB,qDAAqD,oBAAoB,0DAA0D,oBAAoB,8HAA8H,mCAAmC,eAAe,oBAAoB,WAAW,yDAAyD,kEAAkE,oBAAoB,qCAAqC,aAAa,WAAW,sBAAsB,SAAS,EAAE,OAAO,oCAAoC,iBAAiB,KAAK,0CAA0C,sDAAsD,kBAAkB,OAAO,2FAA2F,qFAAqF,+JAA+J,qIAAqI,iCAAiC,mEAAmE,kCAAkC,SAAS,mBAAmB,OAAO,YAAY,KAAK,6CAA6C,+CAA+C,yDAAyD,uDAAuD,gEAAgE,kBAAkB,OAAO,wEAAwE,oLAAoL,OAAO,+FAA+F,2CAA2C,OAAO,iGAAiG,8CAA8C,sBAAsB,iBAAiB,SAAS,6BAA6B,OAAO,6JAA6J,uCAAuC,sCAAsC,oBAAoB,SAAS,OAAO,uDAAuD,+CAA+C,yBAAyB,6BAA6B,mFAAmF,SAAS,+BAA+B,0DAA0D,OAAO,OAAO,2DAA2D,OAAO,gFAAgF,gGAAgG,kCAAkC,sBAAsB,gDAAgD,SAAS,OAAO,EAAE,iGAAiG,kCAAkC,sBAAsB,iDAAiD,SAAS,OAAO,EAAE,qFAAqF,kCAAkC,iDAAiD,0CAA0C,SAAS,OAAO,EAAE,sCAAsC,uFAAuF,oCAAoC,EAAE,gDAAgD,wKAAwK,qFAAqF,uDAAuD,yDAAyD,kMAAkM,6DAA6D,8LAA8L,mBAAmB,WAAW,SAAS,gCAAgC,4LAA4L,mBAAmB,WAAW,SAAS,kHAAkH,oCAAoC,uCAAuC,qBAAqB,aAAa,2HAA2H,oDAAoD,WAAW,SAAS,4CAA4C,uCAAuC,EAAE,SAAS,+CAA+C,EAAE,OAAO,EAAE,2CAA2C,6CAA6C,gCAAgC,0BAA0B,KAAK,cAAc,0GAA0G,GAAG,EAAE,ihBAAihB,6BAA6B,uCAAuC,+CAA+C,yCAAyC,qBAAqB,4CAA4C,OAAO,0CAA0C,KAAK,0CAA0C,mDAAmD,qBAAqB,OAAO,EAAE,KAAK,oDAAoD,yDAAyD,qCAAqC,4FAA4F,OAAO,sCAAsC,yBAAyB,2DAA2D,OAAO,+CAA+C,6BAA6B,sDAAsD,4EAA4E,4CAA4C,SAAS,EAAE,OAAO,KAAK,EAAE,cAAc,oCAAoC,GAAG,EAAE,6qBAA6qB,wCAAwC,iBAAiB,OAAO,EAAE,iEAAiE,oXAAoX,oGAAoG,eAAe,yFAAyF,sBAAsB,2kBAA2kB,gHAAgH,oCAAoC,4BAA4B,+BAA+B,SAAS,wEAAwE,OAAO,oCAAoC,+CAA+C,OAAO,sCAAsC,qDAAqD,OAAO,6CAA6C,6DAA6D,OAAO,oCAAoC,+DAA+D,OAAO,mCAAmC,kBAAkB,mCAAmC,4BAA4B,wBAAwB,oDAAoD,4BAA4B,2BAA2B,oDAAoD,4BAA4B,2BAA2B,iDAAiD,yMAAyM,cAAc,kGAAkG,gDAAgD,yGAAyG,cAAc,kDAAkD,gBAAgB,mCAAmC,mDAAmD,kGAAkG,kDAAkD,yGAAyG,cAAc,2MAA2M,cAAc,oFAAoF,sHAAsH,0CAA0C,cAAc,sFAAsF,qFAAqF,4DAA4D,kDAAkD,0MAA0M,cAAc,kGAAkG,iDAAiD,2HAA2H,cAAc,0FAA0F,+CAA+C,4DAA4D,oDAAoD,kGAAkG,mDAAmD,2HAA2H,4CAA4C,gCAAgC,cAAc,yBAAyB,oBAAoB,cAAc,2BAA2B,8CAA8C,4BAA4B,cAAc,yBAAyB,qBAAqB,cAAc,2BAA2B,iDAAiD,yBAAyB,4BAA4B,cAAc,cAAc,2BAA2B,qDAAqD,yBAAyB,+BAA+B,cAAc,cAAc,gCAAgC,oCAAoC,yBAAyB,gBAAgB,oCAAoC,yBAAyB,yBAAyB,0BAA0B,oCAAoC,sBAAsB,yBAAyB,sBAAsB,sBAAsB,yBAAyB,oBAAoB,4BAA4B,6BAA6B,mBAAmB,wBAAwB,+CAA+C,uBAAuB,cAAc,yBAAyB,cAAc,kBAAkB,eAAe,oBAAoB,oGAAoG,0BAA0B,aAAa,mDAAmD,+CAA+C,+CAA+C,eAAe,EAAE,aAAa,WAAW,yCAAyC,gQAAgQ,cAAc,0GAA0G,cAAc,uFAAuF,oBAAoB,EAAE,2IAA2I,0BAA0B,2BAA2B,EAAE,SAAS,EAAE,gFAAgF,OAAO,yCAAyC,0FAA0F,0DAA0D,gEAAgE,8DAA8D,QAAQ,OAAO,6EAA6E,SAAS,sEAAsE,sEAAsE,0EAA0E,OAAO,8JAA8J,OAAO,qDAAqD,aAAa,kGAAkG,8CAA8C,OAAO,0GAA0G,cAAc,+DAA+D,aAAa,qKAAqK,mBAAmB,yCAAyC,+CAA+C,qCAAqC,aAAa,EAAE,WAAW,OAAO,+HAA+H,6CAA6C,gOAAgO,+CAA+C,eAAe,6EAA6E,iEAAiE,eAAe,mHAAmH,uCAAuC,eAAe,0HAA0H,oCAAoC,2CAA2C,eAAe,iGAAiG,8DAA8D,eAAe,aAAa,EAAE,qCAAqC,WAAW,SAAS,OAAO,6GAA6G,OAAO,wFAAwF,oCAAoC,+BAA+B,SAAS,yBAAyB,OAAO,+DAA+D,mCAAmC,2BAA2B,yBAAyB,uBAAuB,OAAO,0FAA0F,0BAA0B,aAAa,WAAW,SAAS,uBAAuB,OAAO,0CAA0C,uBAAuB,8CAA8C,6DAA6D,qDAAqD,SAAS,EAAE,4BAA4B,OAAO,iDAAiD,2BAA2B,uFAAuF,8DAA8D,iEAAiE,qEAAqE,WAAW,wEAAwE,2DAA2D,WAAW,SAAS,OAAO,2IAA2I,OAAO,+CAA+C,OAAO,8FAA8F,KAAK,0HAA0H,0HAA0H,+CAA+C,8BAA8B,sBAAsB,+BAA+B,iDAAiD,aAAa,sDAAsD,gEAAgE,aAAa,EAAE,8IAA8I,yDAAyD,+BAA+B,6DAA6D,eAAe,aAAa,0DAA0D,iEAAiE,aAAa,EAAE,iDAAiD,+CAA+C,gDAAgD,yCAAyC,eAAe,aAAa,EAAE,WAAW,SAAS,qDAAqD,4BAA4B,mCAAmC,yBAAyB,WAAW,qFAAqF,6HAA6H,qBAAqB,aAAa,wEAAwE,6CAA6C,2BAA2B,2BAA2B,aAAa,WAAW,EAAE,yBAAyB,SAAS,0HAA0H,iDAAiD,6CAA6C,uCAAuC,MAAM,yBAAyB,+DAA+D,4BAA4B,eAAe,0FAA0F,4BAA4B,eAAe,aAAa,WAAW,2MAA2M,yCAAyC,qCAAqC,sDAAsD,sDAAsD,iGAAiG,4CAA4C,WAAW,uBAAuB,SAAS,gEAAgE,0EAA0E,uFAAuF,yCAAyC,oCAAoC,kDAAkD,+BAA+B,qHAAqH,qFAAqF,sDAAsD,qDAAqD,kEAAkE,uHAAuH,sDAAsD,wEAAwE,+CAA+C,yEAAyE,wFAAwF,mCAAmC,kGAAkG,mCAAmC,iBAAiB,yBAAyB,eAAe,4GAA4G,mCAAmC,uBAAuB,eAAe,0QAA0Q,kDAAkD,uCAAuC,uCAAuC,mCAAmC,uBAAuB,eAAe,+EAA+E,6DAA6D,uJAAuJ,qCAAqC,yBAAyB,iBAAiB,eAAe,0eAA0e,uEAAuE,+FAA+F,qEAAqE,mDAAmD,iBAAiB,mDAAmD,eAAe,OAAO,+FAA+F,uDAAuD,gDAAgD,wDAAwD,kEAAkE,4EAA4E,eAAe,aAAa,6EAA6E,WAAW,EAAE,uIAAuI,8CAA8C,sCAAsC,4CAA4C,iDAAiD,iBAAiB,uDAAuD,eAAe,8BAA8B,aAAa,EAAE,WAAW,kEAAkE,2BAA2B,4CAA4C,4BAA4B,sDAAsD,uEAAuE,0BAA0B,iBAAiB,eAAe,EAAE,6BAA6B,aAAa,kDAAkD,gCAAgC,oDAAoD,0CAA0C,+BAA+B,+BAA+B,+BAA+B,eAAe,EAAE,2BAA2B,aAAa,yDAAyD,kBAAkB,gDAAgD,wBAAwB,iBAAiB,mDAAmD,4BAA4B,wBAAwB,iBAAiB,yBAAyB,8BAA8B,iBAAiB,eAAe,cAAc,4BAA4B,aAAa,0CAA0C,+BAA+B,kDAAkD,8JAA8J,gDAAgD,wCAAwC,iDAAiD,qCAAqC,eAAe,qCAAqC,aAAa,+CAA+C,sUAAsU,kCAAkC,qBAAqB,aAAa,kOAAkO,6EAA6E,8BAA8B,mCAAmC,uCAAuC,QAAQ,eAAe,aAAa,oDAAoD,kKAAkK,yCAAyC,eAAe,yFAAyF,yKAAyK,iOAAiO,8CAA8C,2BAA2B,mBAAmB,mFAAmF,iBAAiB,EAAE,eAAe,EAAE,wIAAwI,uDAAuD,2BAA2B,iBAAiB,eAAe,0HAA0H,iEAAiE,sDAAsD,2DAA2D,+BAA+B,qBAAqB,gCAAgC,mBAAmB,iBAAiB,EAAE,eAAe,kLAAkL,0EAA0E,gFAAgF,eAAe,aAAa,WAAW,EAAE,SAAS,sEAAsE,qCAAqC,gDAAgD,OAAO,OAAO,wFAAwF,oDAAoD,qBAAqB,aAAa,WAAW,mBAAmB,SAAS,uBAAuB,qBAAqB,gCAAgC,sDAAsD,sCAAsC,yCAAyC,sCAAsC,sEAAsE,eAAe,aAAa,OAAO,8CAA8C,aAAa,WAAW,OAAO,qHAAqH,8IAA8I,6ZAA6Z,kDAAkD,eAAe,uHAAuH,iDAAiD,qFAAqF,oCAAoC,0LAA0L,2EAA2E,uDAAuD,iBAAiB,kLAAkL,kNAAkN,iBAAiB,eAAe,mDAAmD,gDAAgD,+BAA+B,aAAa,OAAO,sDAAsD,aAAa,WAAW,wCAAwC,SAAS,OAAO,8IAA8I,OAAO,gDAAgD,OAAO,8FAA8F,WAAW,oJAAoJ,kGAAkG,4EAA4E,2EAA2E,+GAA+G,kDAAkD,oEAAoE,2CAA2C,qEAAqE,qHAAqH,+FAA+F,8CAA8C,OAAO,OAAO,kEAAkE,sBAAsB,eAAe,aAAa,WAAW,+DAA+D,kCAAkC,8CAA8C,OAAO,OAAO,qCAAqC,eAAe,8CAA8C,sDAAsD,gEAAgE,aAAa,WAAW,SAAS,8CAA8C,yBAAyB,4GAA4G,uBAAuB,uHAAuH,iIAAiI,qDAAqD,oCAAoC,eAAe,aAAa,WAAW,EAAE,8BAA8B,SAAS,uEAAuE,wEAAwE,2FAA2F,qDAAqD,iDAAiD,sCAAsC,8BAA8B,+CAA+C,2BAA2B,uBAAuB,OAAO,sEAAsE,4BAA4B,wBAAwB,iBAAiB,eAAe,+DAA+D,gCAAgC,+CAA+C,iBAAiB,oCAAoC,qCAAqC,iBAAiB,oCAAoC,eAAe,aAAa,qIAAqI,2DAA2D,aAAa,6EAA6E,gEAAgE,6CAA6C,aAAa,WAAW,6BAA6B,SAAS,iDAAiD,qFAAqF,SAAS,kCAAkC,mHAAmH,+OAA+O,0DAA0D,WAAW,6JAA6J,8GAA8G,WAAW,mCAAmC,uBAAuB,SAAS,wCAAwC,2CAA2C,oEAAoE,mDAAmD,+BAA+B,qDAAqD,6CAA6C,mDAAmD,sVAAsV,wDAAwD,0FAA0F,iBAAiB,OAAO,+EAA+E,iBAAiB,eAAe,4SAA4S,uEAAuE,eAAe,yKAAyK,+DAA+D,0CAA0C,EAAE,kDAAkD,8CAA8C,uBAAuB,eAAe,sJAAsJ,0CAA0C,EAAE,yDAAyD,wCAAwC,EAAE,kFAAkF,8CAA8C,0GAA0G,sCAAsC,aAAa,OAAO,gFAAgF,aAAa,wMAAwM,wDAAwD,gGAAgG,wDAAwD,WAAW,6FAA6F,wCAAwC,4BAA4B,uTAAuT,8BAA8B,gIAAgI,oEAAoE,iBAAiB,cAAc,eAAe,aAAa,EAAE,WAAW,EAAE,SAAS,2CAA2C,8BAA8B,kCAAkC,qCAAqC,kCAAkC,gCAAgC,WAAW,OAAO,iCAAiC,WAAW,mBAAmB,SAAS,sEAAsE,qCAAqC,gDAAgD,OAAO,OAAO,gDAAgD,kEAAkE,sBAAsB,eAAe,aAAa,WAAW,mBAAmB,SAAS,+HAA+H,6CAA6C,iDAAiD,6CAA6C,uOAAuO,8CAA8C,WAAW,6BAA6B,SAAS,OAAO,4DAA4D,SAAS,OAAO,wGAAwG,OAAO,sDAAsD,OAAO,uGAAuG,KAAK,2IAA2I,4BAA4B,oFAAoF,mCAAmC,SAAS,OAAO,kCAAkC,SAAS,OAAO,wIAAwI,KAAK,mDAAmD,OAAO,4CAA4C,OAAO,gFAAgF,QAAQ,oEAAoE,OAAO,qIAAqI,uDAAuD,wDAAwD,uDAAuD,0DAA0D,2DAA2D,WAAW,oDAAoD,0EAA0E,kCAAkC,gDAAgD,mDAAmD,qDAAqD,mBAAmB,OAAO,gDAAgD,mBAAmB,6DAA6D,2BAA2B,mBAAmB,8HAA8H,2BAA2B,mBAAmB,iBAAiB,eAAe,aAAa,OAAO,kFAAkF,kBAAkB,OAAO,4GAA4G,gCAAgC,iBAAiB,eAAe,aAAa,WAAW,0BAA0B,SAAS,mCAAmC,2DAA2D,uBAAuB,OAAO,mCAAmC,oLAAoL,6EAA6E,2BAA2B,oBAAoB,OAAO,wDAAwD,2BAA2B,mBAAmB,iBAAiB,eAAe,8BAA8B,aAAa,WAAW,SAAS,OAAO,qJAAqJ,OAAO,+CAA+C,OAAO,gFAAgF,KAAK,+CAA+C,QAAQ,gHAAgH,sBAAsB,uCAAuC,mCAAmC,gCAAgC,yBAAyB,WAAW,gHAAgH,+DAA+D,0BAA0B,aAAa,qFAAqF,WAAW,EAAE,2GAA2G,SAAS,oDAAoD,oCAAoC,SAAS,mEAAmE,iCAAiC,sBAAsB,SAAS,wFAAwF,gCAAgC,wCAAwC,wBAAwB,WAAW,SAAS,uBAAuB,OAAO,+KAA+K,MAAM,gDAAgD,OAAO,iFAAiF,MAAM,2EAA2E,mEAAmE,6FAA6F,oDAAoD,sBAAsB,uBAAuB,kBAAkB,OAAO,4BAA4B,qEAAqE,sCAAsC,4CAA4C,aAAa,WAAW,SAAS,iBAAiB,oCAAoC,OAAO,gRAAgR,OAAO,gDAAgD,QAAQ,yHAAyH,uEAAuE,2BAA2B,2CAA2C,0CAA0C,2CAA2C,QAAQ,OAAO,8CAA8C,uPAAuP,0BAA0B,aAAa,0CAA0C,QAAQ,OAAO,iDAAiD,4BAA4B,eAAe,aAAa,WAAW,SAAS,uBAAuB,OAAO,iKAAiK,OAAO,uEAAuE,SAAS,kGAAkG,QAAQ,iJAAiJ,2BAA2B,2EAA2E,gCAAgC,8BAA8B,6CAA6C,qEAAqE,qIAAqI,gFAAgF,aAAa,EAAE,sGAAsG,4CAA4C,8CAA8C,uBAAuB,gDAAgD,gGAAgG,sCAAsC,6CAA6C,EAAE,qBAAqB,EAAE,yDAAyD,mBAAmB,uDAAuD,+BAA+B,iBAAiB,uEAAuE,+BAA+B,iBAAiB,eAAe,EAAE,aAAa,EAAE,mHAAmH,4CAA4C,8CAA8C,sDAAsD,mCAAmC,kDAAkD,EAAE,iBAAiB,EAAE,eAAe,aAAa,EAAE,WAAW,EAAE,SAAS,oFAAoF,0CAA0C,0CAA0C,uDAAuD,WAAW,oDAAoD,SAAS,EAAE,sBAAsB,OAAO,4HAA4H,cAAc,kEAAkE,OAAO,gHAAgH,qDAAqD,YAAY,EAAE,4CAA4C,8CAA8C,OAAO,+CAA+C,gUAAgU,EAAE,4CAA4C,6BAA6B,6CAA6C,4DAA4D,qCAAqC,SAAS,OAAO,EAAE,4CAA4C,oCAAoC,mCAAmC,SAAS,OAAO,EAAE,yKAAyK,KAAK,kEAAkE,OAAO,qDAAqD,QAAQ,mFAAmF,yEAAyE,sBAAsB,SAAS,yEAAyE,sBAAsB,SAAS,mEAAmE,qEAAqE,SAAS,OAAO,iHAAiH,YAAY,iDAAiD,YAAY,kDAAkD,QAAQ,oEAAoE,0BAA0B,0BAA0B,8CAA8C,4CAA4C,0DAA0D,OAAO,8DAA8D,8CAA8C,oCAAoC,+BAA+B,4BAA4B,aAAa,uCAAuC,0DAA0D,aAAa,WAAW,SAAS,EAAE,OAAO,sCAAsC,4GAA4G,OAAO,iCAAiC,+CAA+C,kDAAkD,SAAS,QAAQ,OAAO,0CAA0C,sDAAsD,0CAA0C,SAAS,eAAe,OAAO,qOAAqO,KAAK,yCAAyC,OAAO,0CAA0C,OAAO,gEAAgE,mEAAmE,OAAO,mNAAmN,OAAO,gDAAgD,OAAO,0CAA0C,OAAO,4EAA4E,6FAA6F,mCAAmC,SAAS,6FAA6F,yBAAyB,SAAS,yHAAyH,yEAAyE,SAAS,4BAA4B,OAAO,2HAA2H,OAAO,sDAAsD,OAAO,mEAAmE,OAAO,qFAAqF,yCAAyC,8BAA8B,SAAS,iBAAiB,iEAAiE,qCAAqC,WAAW,EAAE,SAAS,uBAAuB,OAAO,yCAAyC,wFAAwF,OAAO,0CAA0C,8CAA8C,sDAAsD,kCAAkC,yBAAyB,OAAO,6PAA6P,OAAO,wCAAwC,MAAM,yDAAyD,QAAQ,yBAAyB,OAAO,oFAAoF,wMAAwM,uIAAuI,4DAA4D,uEAAuE,kEAAkE,+BAA+B,sCAAsC,uGAAuG,WAAW,4IAA4I,mFAAmF,+BAA+B,aAAa,WAAW,uEAAuE,4GAA4G,4BAA4B,aAAa,+EAA+E,SAAS,kCAAkC,kGAAkG,8BAA8B,eAAe,aAAa,yIAAyI,iCAAiC,oBAAoB,aAAa,yCAAyC,WAAW,6BAA6B,SAAS,+OAA+O,iCAAiC,gFAAgF,WAAW,kDAAkD,2CAA2C,uBAAuB,kFAAkF,aAAa,WAAW,kBAAkB,4BAA4B,SAAS,uIAAuI,yDAAyD,oGAAoG,+CAA+C,4BAA4B,WAAW,SAAS,iIAAiI,uDAAuD,gGAAgG,6CAA6C,sDAAsD,WAAW,SAAS,wIAAwI,4BAA4B,4BAA4B,sEAAsE,8EAA8E,aAAa,yCAAyC,WAAW,wBAAwB,SAAS,+DAA+D,8CAA8C,8CAA8C,gDAAgD,mDAAmD,8CAA8C,aAAa,0BAA0B,iDAAiD,wDAAwD,4CAA4C,0GAA0G,sBAAsB,eAAe,aAAa,OAAO,6CAA6C,oDAAoD,2EAA2E,aAAa,yBAAyB,WAAW,2CAA2C,+CAA+C,+BAA+B,sBAAsB,mCAAmC,aAAa,uCAAuC,WAAW,8IAA8I,8DAA8D,sCAAsC,kCAAkC,oCAAoC,iCAAiC,wBAAwB,8BAA8B,eAAe,aAAa,0BAA0B,oBAAoB,aAAa,WAAW,+BAA+B,wBAAwB,yBAAyB,aAAa,OAAO,2CAA2C,aAAa,sBAAsB,yCAAyC,WAAW,SAAS,kEAAkE,uCAAuC,yGAAyG,gDAAgD,WAAW,4CAA4C,qBAAqB,oBAAoB,OAAO,uBAAuB,mBAAmB,OAAO,oCAAoC,8KAA8K,yBAAyB,eAAe,6DAA6D,kCAAkC,eAAe,aAAa,WAAW,6BAA6B,SAAS,+DAA+D,yCAAyC,iFAAiF,mEAAmE,WAAW,iGAAiG,6GAA6G,mJAAmJ,aAAa,EAAE,WAAW,0FAA0F,kEAAkE,WAAW,sGAAsG,6BAA6B,0EAA0E,wCAAwC,8LAA8L,sBAAsB,eAAe,aAAa,WAAW,qCAAqC,SAAS,yHAAyH,+DAA+D,yIAAyI,uGAAuG,wEAAwE,+CAA+C,4BAA4B,WAAW,SAAS,wFAAwF,+FAA+F,sEAAsE,6CAA6C,4CAA4C,WAAW,SAAS,iCAAiC,8BAA8B,8HAA8H,2BAA2B,kDAAkD,4CAA4C,aAAa,uHAAuH,2BAA2B,gDAAgD,0CAA0C,aAAa,WAAW,gHAAgH,0BAA0B,iFAAiF,yDAAyD,aAAa,mJAAmJ,sCAAsC,yCAAyC,wDAAwD,eAAe,aAAa,WAAW,SAAS,sWAAsW,yFAAyF,uDAAuD,WAAW,mHAAmH,iDAAiD,WAAW,SAAS,gJAAgJ,2JAA2J,2EAA2E,SAAS,kIAAkI,wJAAwJ,wEAAwE,+FAA+F,2CAA2C,yDAAyD,aAAa,2CAA2C,mDAAmD,aAAa,WAAW,SAAS,sFAAsF,kDAAkD,qDAAqD,SAAS,kFAAkF,kDAAkD,iDAAiD,SAAS,yDAAyD,yJAAyJ,OAAO,uDAAuD,mDAAmD,OAAO,8NAA8N,OAAO,sEAAsE,OAAO,2EAA2E,KAAK,2DAA2D,KAAK,6GAA6G,QAAQ,mHAAmH,qCAAqC,yHAAyH,uBAAuB,SAAS,kGAAkG,+EAA+E,wEAAwE,yEAAyE,2BAA2B,+BAA+B,aAAa,0GAA0G,2CAA2C,aAAa,iCAAiC,WAAW,EAAE,yHAAyH,0CAA0C,mDAAmD,WAAW,yFAAyF,yBAAyB,+CAA+C,yEAAyE,2BAA2B,+BAA+B,aAAa,oFAAoF,0EAA0E,kDAAkD,4BAA4B,2IAA2I,2DAA2D,iDAAiD,8DAA8D,qBAAqB,mBAAmB,EAAE,yFAAyF,wDAAwD,2BAA2B,mBAAmB,iBAAiB,eAAe,wHAAwH,kDAAkD,eAAe,4FAA4F,yDAAyD,eAAe,2CAA2C,aAAa,WAAW,EAAE,6EAA6E,6CAA6C,uEAAuE,2CAA2C,aAAa,WAAW,EAAE,uFAAuF,qBAAqB,kBAAkB,OAAO,6CAA6C,iFAAiF,2BAA2B,aAAa,WAAW,SAAS,kHAAkH,mCAAmC,sBAAsB,SAAS,OAAO,kfAAkf,KAAK,+DAA+D,OAAO,sCAAsC,KAAK,8DAA8D,uDAAuD,0CAA0C,0DAA0D,qEAAqE,SAAS,6BAA6B,iCAAiC,8HAA8H,0EAA0E,qEAAqE,eAAe,2EAA2E,mDAAmD,eAAe,aAAa,WAAW,OAAO,kIAAkI,yEAAyE,4DAA4D,8EAA8E,wCAAwC,iEAAiE,wFAAwF,qBAAqB,OAAO,qDAAqD,qBAAqB,mBAAmB,OAAO,qCAAqC,mBAAmB,iBAAiB,EAAE,eAAe,aAAa,WAAW,SAAS,mLAAmL,iBAAiB,SAAS,8BAA8B,OAAO,4GAA4G,KAAK,wCAAwC,QAAQ,qFAAqF,QAAQ,0FAA0F,KAAK,yHAAyH,mBAAmB,0DAA0D,gDAAgD,MAAM,qBAAqB,gEAAgE,0BAA0B,aAAa,WAAW,SAAS,OAAO,qHAAqH,KAAK,sDAAsD,KAAK,mDAAmD,KAAK,yGAAyG,sEAAsE,2DAA2D,8BAA8B,SAAS,mCAAmC,0EAA0E,0BAA0B,aAAa,sEAAsE,6BAA6B,aAAa,WAAW,wBAAwB,SAAS,4FAA4F,wHAAwH,yDAAyD,+FAA+F,+EAA+E,4BAA4B,GAAG,mCAAmC,4CAA4C,2CAA2C,aAAa,8DAA8D,qGAAqG,qCAAqC,aAAa,EAAE,0BAA0B,WAAW,SAAS,sBAAsB,OAAO,2CAA2C,uCAAuC,qEAAqE,0DAA0D,wCAAwC,oDAAoD,mCAAmC,qBAAqB,WAAW,kFAAkF,SAAS,8JAA8J,kFAAkF,SAAS,yIAAyI,kFAAkF,SAAS,2BAA2B,OAAO,gEAAgE,6EAA6E,iGAAiG,mDAAmD,8EAA8E,EAAE,uBAAuB,mFAAmF,WAAW,kCAAkC,SAAS,uDAAuD,wBAAwB,2GAA2G,2BAA2B,aAAa,6EAA6E,+BAA+B,aAAa,qCAAqC,WAAW,wBAAwB,SAAS,uGAAuG,wBAAwB,+CAA+C,0BAA0B,aAAa,qCAAqC,WAAW,SAAS,sGAAsG,qBAAqB,uBAAuB,gDAAgD,2CAA2C,MAAM,wBAAwB,wCAAwC,4BAA4B,eAAe,aAAa,WAAW,SAAS,uJAAuJ,yBAAyB,wBAAwB,iEAAiE,0BAA0B,0DAA0D,kDAAkD,eAAe,aAAa,WAAW,OAAO,yCAAyC,gDAAgD,yCAAyC,yCAAyC,uCAAuC,eAAe,iCAAiC,aAAa,OAAO,8CAA8C,mEAAmE,uCAAuC,+GAA+G,2DAA2D,iBAAiB,uEAAuE,uDAAuD,iBAAiB,eAAe,oCAAoC,aAAa,oCAAoC,WAAW,SAAS,0FAA0F,+EAA+E,yCAAyC,mCAAmC,yCAAyC,qCAAqC,2EAA2E,+BAA+B,yDAAyD,WAAW,gMAAgM,gKAAgK,4FAA4F,gFAAgF,8HAA8H,wCAAwC,iFAAiF,qGAAqG,WAAW,OAAO,2EAA2E,0DAA0D,mDAAmD,+CAA+C,yBAAyB,kDAAkD,aAAa,OAAO,gDAAgD,aAAa,sGAAsG,WAAW,SAAS,wCAAwC,uJAAuJ,2CAA2C,mCAAmC,2BAA2B,0CAA0C,uDAAuD,qCAAqC,aAAa,qCAAqC,WAAW,0BAA0B,uDAAuD,gCAAgC,oBAAoB,aAAa,qCAAqC,qCAAqC,aAAa,iCAAiC,mCAAmC,WAAW,iFAAiF,mBAAmB,WAAW,sHAAsH,4FAA4F,gFAAgF,oIAAoI,wCAAwC,qFAAqF,qGAAqG,WAAW,OAAO,oDAAoD,oCAAoC,wCAAwC,QAAQ,OAAO,6DAA6D,qCAAqC,aAAa,+IAA+I,mCAAmC,iEAAiE,gDAAgD,+LAA+L,aAAa,OAAO,0HAA0H,aAAa,6FAA6F,+GAA+G,qCAAqC,aAAa,WAAW,SAAS,4MAA4M,6BAA6B,2EAA2E,+DAA+D,iDAAiD,6FAA6F,4DAA4D,eAAe,aAAa,gBAAgB,WAAW,SAAS,8EAA8E,6KAA6K,8BAA8B,gGAAgG,6DAA6D,2BAA2B,+DAA+D,eAAe,aAAa,YAAY,iDAAiD,oCAAoC,qCAAqC,mKAAmK,kFAAkF,aAAa,kIAAkI,kFAAkF,aAAa,wCAAwC,YAAY,6IAA6I,8BAA8B,wCAAwC,aAAa,WAAW,EAAE,oCAAoC,SAAS,4EAA4E,6BAA6B,SAAS,OAAO,8BAA8B,SAAS,OAAO,4GAA4G,wIAAwI,uDAAuD,8EAA8E,mBAAmB,WAAW,SAAS,mIAAmI,0GAA0G,2CAA2C,+BAA+B,SAAS,wGAAwG,uCAAuC,gEAAgE,oFAAoF,qIAAqI,0BAA0B,WAAW,yCAAyC,MAAM,wBAAwB,gEAAgE,4PAA4P,wBAAwB,kBAAkB,0DAA0D,uFAAuF,oCAAoC,kCAAkC,uBAAuB,aAAa,WAAW,SAAS,OAAO,MAAM,GAAG,EAAE,6cAA6c,yCAAyC,yCAAyC,gDAAgD,kCAAkC,gCAAgC,iDAAiD,gBAAgB,wEAAwE,QAAQ,yEAAyE,gEAAgE,6JAA6J,yBAAyB,yBAAyB,wCAAwC,+DAA+D,2CAA2C,kBAAkB,kBAAkB,aAAa,OAAO,kDAAkD,+CAA+C,oBAAoB,eAAe,OAAO,gDAAgD,oBAAoB,eAAe,aAAa,WAAW,SAAS,OAAO,wFAAwF,qCAAqC,iBAAiB,QAAQ,0CAA0C,WAAW,gFAAgF,SAAS,QAAQ,6DAA6D,wBAAwB,oFAAoF,gBAAgB,SAAS,uCAAuC,QAAQ,oEAAoE,kFAAkF,8BAA8B,iCAAiC,sBAAsB,SAAS,4BAA4B,wBAAwB,yDAAyD,mCAAmC,mCAAmC,yBAAyB,aAAa,OAAO,2CAA2C,QAAQ,UAAU,0DAA0D,oEAAoE,sCAAsC,aAAa,OAAO,0CAA0C,aAAa,+BAA+B,4CAA4C,oEAAoE,6BAA6B,kBAAkB,aAAa,+FAA+F,+CAA+C,mFAAmF,eAAe,aAAa,WAAW,8CAA8C,gBAAgB,UAAU,4DAA4D,gFAAgF,sCAAsC,aAAa,OAAO,kCAAkC,aAAa,6BAA6B,wCAAwC,wEAAwE,2BAA2B,kBAAkB,aAAa,iFAAiF,+CAA+C,2EAA2E,eAAe,aAAa,WAAW,SAAS,QAAQ,wBAAwB,2DAA2D,oBAAoB,MAAM,cAAc,iFAAiF,GAAG,EAAE,4jBAA4jB,uCAAuC,+BAA+B,6BAA6B,OAAO,+BAA+B,mDAAmD,OAAO,+BAA+B,yCAAyC,OAAO,kBAAkB,MAAM,2CAA2C,gCAAgC,oDAAoD,+CAA+C,mBAAmB,mCAAmC,OAAO,+CAA+C,+BAA+B,OAAO,oBAAoB,MAAM,kDAAkD,0CAA0C,iEAAiE,2CAA2C,yDAAyD,OAAO,OAAO,kCAAkC,OAAO,MAAM,4CAA4C,iEAAiE,2CAA2C,8CAA8C,OAAO,MAAM,4CAA4C,oBAAoB,wCAAwC,sCAAsC,kBAAkB,SAAS,sCAAsC,0CAA0C,kBAAkB,SAAS,sCAAsC,+BAA+B,SAAS,OAAO,EAAE,MAAM,iCAAiC,mDAAmD,MAAM,6CAA6C,mEAAmE,6DAA6D,iBAAiB,MAAM,cAAc,yCAAyC,GAAG,EAAE,4hBAA4hB,sCAAsC,8CAA8C,MAAM,wDAAwD,cAAc,uIAAuI,MAAM,oDAAoD,cAAc,qIAAqI,MAAM,gDAAgD,+CAA+C,qDAAqD,6DAA6D,mDAAmD,OAAO,EAAE,0CAA0C,4GAA4G,MAAM,4DAA4D,wCAAwC,2DAA2D,OAAO,OAAO,0CAA0C,cAAc,EAAE,OAAO,wFAAwF,MAAM,8CAA8C,oFAAoF,MAAM,4CAA4C,iEAAiE,MAAM,cAAc,oMAAoM,GAAG,EAAE,6mBAA6mB,6BAA6B,8FAA8F,kCAAkC,+BAA+B,OAAO,2CAA2C,4BAA4B,mBAAmB,KAAK,OAAO,8BAA8B,0BAA0B,8BAA8B,qBAAqB,SAAS,OAAO,oGAAoG,mBAAmB,OAAO,EAAE,4GAA4G,4BAA4B,yEAAyE,sBAAsB,8BAA8B,SAAS,OAAO,EAAE,wGAAwG,4BAA4B,yEAAyE,mCAAmC,SAAS,OAAO,EAAE,uDAAuD,4BAA4B,OAAO,EAAE,2EAA2E,kDAAkD,wCAAwC,gCAAgC,6JAA6J,iBAAiB,SAAS,oHAAoH,kCAAkC,+BAA+B,SAAS,gDAAgD,+BAA+B,SAAS,sHAAsH,wHAAwH,wFAAwF,6EAA6E,qCAAqC,gCAAgC,EAAE,aAAa,WAAW,sCAAsC,wCAAwC,+BAA+B,SAAS,OAAO,EAAE,0CAA0C,gCAAgC,6JAA6J,iBAAiB,SAAS,0LAA0L,4BAA4B,qCAAqC,WAAW,mBAAmB,SAAS,mGAAmG,6GAA6G,8BAA8B,6BAA6B,qBAAqB,KAAK,uCAAuC,SAAS,OAAO,EAAE,4CAA4C,0BAA0B,mCAAmC,SAAS,OAAO,EAAE,mGAAmG,4DAA4D,+DAA+D,sCAAsC,+BAA+B,SAAS,OAAO,EAAE,mDAAmD,yQAAyQ,QAAQ,0RAA0R,uBAAuB,mEAAmE,WAAW,SAAS,4HAA4H,OAAO,4DAA4D,SAAS,yFAAyF,OAAO,4GAA4G,qEAAqE,2DAA2D,8BAA8B,oDAAoD,0CAA0C,wBAAwB,WAAW,oCAAoC,4CAA4C,yDAAyD,yBAAyB,wBAAwB,WAAW,kGAAkG,wBAAwB,WAAW,gFAAgF,wDAAwD,WAAW,gFAAgF,iEAAiE,yBAAyB,qBAAqB,OAAO,sCAAsC,eAAe,8BAA8B,kCAAkC,aAAa,WAAW,uHAAuH,2EAA2E,oCAAoC,WAAW,6BAA6B,kCAAkC,wBAAwB,0DAA0D,yCAAyC,4BAA4B,2BAA2B,wCAAwC,WAAW,yBAAyB,SAAS,qGAAqG,OAAO,kFAAkF,oBAAoB,8BAA8B,uBAAuB,gCAAgC,WAAW,4BAA4B,kCAAkC,sDAAsD,2BAA2B,iCAAiC,aAAa,EAAE,WAAW,yBAAyB,SAAS,qGAAqG,OAAO,kFAAkF,oBAAoB,0CAA0C,kCAAkC,uDAAuD,2BAA2B,iCAAiC,aAAa,EAAE,WAAW,yBAAyB,SAAS,yHAAyH,oBAAoB,oBAAoB,8BAA8B,2BAA2B,oCAAoC,SAAS,4IAA4I,QAAQ,4FAA4F,uMAAuM,SAAS,4IAA4I,QAAQ,4FAA4F,yDAAyD,SAAS,+bAA+b,SAAS,+FAA+F,OAAO,6GAA6G,sBAAsB,8BAA8B,iBAAiB,oBAAoB,uBAAuB,WAAW,UAAU,oBAAoB,WAAW,8BAA8B,SAAS,uWAAuW,SAAS,2GAA2G,SAAS,iIAAiI,kCAAkC,2CAA2C,4CAA4C,wCAAwC,0DAA0D,6CAA6C,wDAAwD,aAAa,WAAW,SAAS,QAAQ,oBAAoB,MAAM,GAAG,EAAE,knBAAknB,qCAAqC,+BAA+B,qFAAqF,8MAA8M,sCAAsC,0NAA0N,gHAAgH,wOAAwO,SAAS,sCAAsC,iEAAiE,SAAS,+EAA+E,qBAAqB,qCAAqC,wCAAwC,mEAAmE,oCAAoC,2CAA2C,qCAAqC,WAAW,SAAS,qLAAqL,gDAAgD,wBAAwB,mBAAmB,WAAW,iHAAiH,oCAAoC,qBAAqB,aAAa,4FAA4F,qCAAqC,aAAa,WAAW,mCAAmC,uBAAuB,kCAAkC,mHAAmH,+BAA+B,aAAa,OAAO,qIAAqI,iCAAiC,eAAe,aAAa,WAAW,SAAS,mMAAmM,0DAA0D,wDAAwD,0BAA0B,6GAA6G,4BAA4B,eAAe,wCAAwC,aAAa,WAAW,wBAAwB,mBAAmB,WAAW,mTAAmT,4GAA4G,iDAAiD,aAAa,WAAW,qDAAqD,4EAA4E,2EAA2E,oFAAoF,aAAa,WAAW,kCAAkC,6RAA6R,6BAA6B,WAAW,uCAAuC,gDAAgD,iDAAiD,uCAAuC,sCAAsC,oCAAoC,sBAAsB,eAAe,qFAAqF,yCAAyC,uCAAuC,sBAAsB,eAAe,gCAAgC,mCAAmC,aAAa,0BAA0B,wCAAwC,sCAAsC,aAAa,WAAW,OAAO,wCAAwC,sEAAsE,yJAAyJ,6CAA6C,8DAA8D,iBAAiB,2CAA2C,uCAAuC,eAAe,OAAO,wCAAwC,sCAAsC,eAAe,aAAa,OAAO,oCAAoC,kCAAkC,aAAa,WAAW,kCAAkC,gFAAgF,yCAAyC,SAAS,8CAA8C,+DAA+D,0GAA0G,mEAAmE,WAAW,SAAS,oCAAoC,+HAA+H,SAAS,oQAAoQ,kHAAkH,uDAAuD,qDAAqD,uCAAuC,WAAW,OAAO,iDAAiD,WAAW,8BAA8B,qFAAqF,gBAAgB,sDAAsD,+FAA+F,2BAA2B,iBAAiB,qDAAqD,oDAAoD,gGAAgG,2DAA2D,gDAAgD,iBAAiB,OAAO,yCAAyC,gDAAgD,iBAAiB,eAAe,aAAa,0DAA0D,WAAW,oFAAoF,8DAA8D,WAAW,yBAAyB,SAAS,gJAAgJ,iCAAiC,uKAAuK,yBAAyB,WAAW,sKAAsK,wBAAwB,WAAW,8JAA8J,wBAAwB,WAAW,mLAAmL,oGAAoG,WAAW,mIAAmI,0IAA0I,wCAAwC,4BAA4B,aAAa,2DAA2D,4BAA4B,aAAa,WAAW,+CAA+C,sCAAsC,+FAA+F,4JAA4J,iEAAiE,+BAA+B,iBAAiB,eAAe,aAAa,2EAA2E,2BAA2B,aAAa,0BAA0B,4BAA4B,aAAa,OAAO,4BAA4B,aAAa,WAAW,wBAAwB,SAAS,mKAAmK,2GAA2G,iIAAiI,4DAA4D,sDAAsD,gFAAgF,iEAAiE,aAAa,OAAO,4EAA4E,aAAa,iDAAiD,+CAA+C,4CAA4C,gDAAgD,wCAAwC,sCAAsC,8BAA8B,aAAa,gGAAgG,oDAAoD,qCAAqC,aAAa,+GAA+G,+BAA+B,0CAA0C,aAAa,6FAA6F,+CAA+C,4CAA4C,qEAAqE,qFAAqF,kDAAkD,wCAAwC,2CAA2C,4BAA4B,eAAe,oGAAoG,4CAA4C,aAAa,WAAW,6BAA6B,SAAS,2IAA2I,2CAA2C,0EAA0E,wGAAwG,uCAAuC,sBAAsB,eAAe,uEAAuE,aAAa,0CAA0C,WAAW,0CAA0C,iEAAiE,uEAAuE,0CAA0C,aAAa,oCAAoC,WAAW,qDAAqD,mBAAmB,WAAW,4HAA4H,8DAA8D,gCAAgC,WAAW,sFAAsF,6DAA6D,mDAAmD,wGAAwG,aAAa,OAAO,yIAAyI,aAAa,WAAW,kCAAkC,mDAAmD,yIAAyI,gEAAgE,+FAA+F,aAAa,OAAO,8JAA8J,aAAa,WAAW,8BAA8B,sIAAsI,sCAAsC,WAAW,OAAO,qNAAqN,sCAAsC,8CAA8C,+CAA+C,gDAAgD,iFAAiF,6CAA6C,wDAAwD,aAAa,OAAO,wDAAwD,wDAAwD,aAAa,WAAW,oCAAoC,wCAAwC,4BAA4B,SAAS,8HAA8H,8DAA8D,SAAS,8JAA8J,cAAc,sCAAsC,wEAAwE,aAAa,qCAAqC,WAAW,cAAc,SAAS,0CAA0C,yDAAyD,qGAAqG,mFAAmF,8DAA8D,oCAAoC,aAAa,yCAAyC,WAAW,yDAAyD,SAAS,wMAAwM,wBAAwB,kGAAkG,8BAA8B,oLAAoL,kGAAkG,mCAAmC,aAAa,WAAW,SAAS,0CAA0C,yNAAyN,oDAAoD,WAAW,OAAO,wCAAwC,WAAW,mOAAmO,+KAA+K,WAAW,OAAO,mDAAmD,WAAW,0CAA0C,SAAS,uCAAuC,uHAAuH,iBAAiB,SAAS,sEAAsE,uCAAuC,iBAAiB,SAAS,0FAA0F,uCAAuC,iCAAiC,4FAA4F,sEAAsE,4CAA4C,gCAAgC,kGAAkG,gFAAgF,6GAA6G,sEAAsE,gDAAgD,WAAW,OAAO,uBAAuB,WAAW,SAAS,4IAA4I,+HAA+H,iBAAiB,SAAS,qCAAqC,8IAA8I,0CAA0C,uBAAuB,WAAW,mBAAmB,SAAS,2VAA2V,2EAA2E,SAAS,yHAAyH,iGAAiG,8GAA8G,2GAA2G,qKAAqK,uCAAuC,+CAA+C,SAAS,0CAA0C,4CAA4C,mCAAmC,SAAS,yFAAyF,0CAA0C,uBAAuB,mBAAmB,WAAW,8FAA8F,kCAAkC,mBAAmB,WAAW,SAAS,qKAAqK,0BAA0B,uBAAuB,mBAAmB,WAAW,SAAS,OAAO,2MAA2M,uBAAuB,mBAAmB,WAAW,SAAS,gIAAgI,iBAAiB,SAAS,iGAAiG,uJAAuJ,yEAAyE,yCAAyC,oCAAoC,WAAW,wCAAwC,SAAS,yCAAyC,gCAAgC,SAAS,6CAA6C,4HAA4H,oCAAoC,2CAA2C,SAAS,OAAO,6GAA6G,0CAA0C,8CAA8C,0CAA0C,yCAAyC,iDAAiD,wDAAwD,4CAA4C,2CAA2C,oCAAoC,WAAW,iCAAiC,2GAA2G,iCAAiC,kCAAkC,WAAW,OAAO,0CAA0C,WAAW,SAAS,4CAA4C,mIAAmI,mBAAmB,EAAE,qCAAqC,0BAA0B,OAAO,4CAA4C,gCAAgC,8CAA8C,iCAAiC,WAAW,SAAS,OAAO,EAAE,MAAM,GAAG,EAAE,scAAsc,6BAA6B,qFAAqF,4EAA4E,kCAAkC,0EAA0E,gFAAgF,oEAAoE,kDAAkD,uDAAuD,iEAAiE,iBAAiB,SAAS,wFAAwF,6CAA6C,mBAAmB,WAAW,mCAAmC,SAAS,mEAAmE,2BAA2B,8CAA8C,wCAAwC,0CAA0C,oCAAoC,iBAAiB,0EAA0E,WAAW,aAAa,oEAAoE,SAAS,OAAO,yEAAyE,+BAA+B,yDAAyD,wCAAwC,WAAW,qFAAqF,mCAAmC,gCAAgC,8DAA8D,oCAAoC,qCAAqC,mCAAmC,8EAA8E,WAAW,SAAS,sFAAsF,uDAAuD,sBAAsB,6NAA6N,2GAA2G,8BAA8B,sCAAsC,mCAAmC,uBAAuB,aAAa,mCAAmC,mGAAmG,gEAAgE,6BAA6B,aAAa,8BAA8B,oCAAoC,gDAAgD,WAAW,OAAO,iCAAiC,oCAAoC,WAAW,SAAS,4CAA4C,6BAA6B,sDAAsD,gDAAgD,kCAAkC,WAAW,OAAO,kIAAkI,2DAA2D,8CAA8C,iCAAiC,sDAAsD,oCAAoC,oDAAoD,eAAe,6BAA6B,aAAa,aAAa,oCAAoC,WAAW,iCAAiC,SAAS,OAAO,mEAAmE,+CAA+C,OAAO,MAAM,GAAG,EAAE,stBAAstB,idAAid,sCAAsC,2BAA2B,KAAK,uCAAuC,2BAA2B,KAAK,mDAAmD,eAAe,wCAAwC,2CAA2C,sBAAsB,SAAS,OAAO,oBAAoB,KAAK,0EAA0E,kDAAkD,qCAAqC,0EAA0E,wDAAwD,kCAAkC,wBAAwB,WAAW,SAAS,sEAAsE,kCAAkC,wBAAwB,WAAW,SAAS,OAAO,oCAAoC,0EAA0E,wDAAwD,kCAAkC,wBAAwB,WAAW,SAAS,sEAAsE,kCAAkC,wBAAwB,WAAW,SAAS,OAAO,oBAAoB,KAAK,+CAA+C,kCAAkC,0BAA0B,0BAA0B,0CAA0C,sBAAsB,SAAS,OAAO,wBAAwB,KAAK,+CAA+C,wCAAwC,gCAAgC,sBAAsB,SAAS,iCAAiC,OAAO,oBAAoB,KAAK,wEAAwE,0HAA0H,KAAK,8EAA8E,0HAA0H,KAAK,4EAA4E,4BAA4B,6BAA6B,oBAAoB,OAAO,8CAA8C,sCAAsC,oCAAoC,oBAAoB,OAAO,6DAA6D,KAAK,0CAA0C,mDAAmD,qBAAqB,mCAAmC,iCAAiC,OAAO,OAAO,kCAAkC,gCAAgC,OAAO,qBAAqB,KAAK,2DAA2D,gFAAgF,KAAK,2CAA2C,+BAA+B,mBAAmB,wCAAwC,OAAO,OAAO,oCAAoC,OAAO,0CAA0C,oCAAoC,0CAA0C,yCAAyC,SAAS,gDAAgD,4DAA4D,2BAA2B,WAAW,kBAAkB,SAAS,0CAA0C,gBAAgB,SAAS,iCAAiC,OAAO,oBAAoB,KAAK,4CAA4C,0CAA0C,2DAA2D,4CAA4C,iDAAiD,mDAAmD,yCAAyC,iCAAiC,8DAA8D,oCAAoC,2CAA2C,SAAS,8DAA8D,qCAAqC,uCAAuC,6CAA6C,gCAAgC,WAAW,SAAS,oCAAoC,2CAA2C,6CAA6C,+BAA+B,WAAW,SAAS,OAAO,+BAA+B,qBAAqB,OAAO,yCAAyC,0CAA0C,gCAAgC,wCAAwC,uBAAuB,kCAAkC,aAAa,yCAAyC,uBAAuB,iCAAiC,aAAa,WAAW,mCAAmC,uCAAuC,uBAAuB,iCAAiC,aAAa,0CAA0C,uBAAuB,kCAAkC,aAAa,WAAW,yBAAyB,SAAS,wGAAwG,gCAAgC,wCAAwC,uBAAuB,kCAAkC,aAAa,WAAW,yBAAyB,SAAS,kFAAkF,iCAAiC,uCAAuC,uBAAuB,iCAAiC,aAAa,WAAW,yBAAyB,SAAS,iDAAiD,sCAAsC,qBAAqB,gCAAgC,WAAW,yBAAyB,SAAS,6BAA6B,qCAAqC,qBAAqB,+BAA+B,WAAW,yBAAyB,SAAS,OAAO,qBAAqB,KAAK,4EAA4E,iGAAiG,KAAK,cAAc,ibAAib,GAAG,EAAE,otBAAotB,8FAA8F,wFAAwF,oTAAoT,+ZAA+Z,2CAA2C,uBAAuB,0CAA0C,2BAA2B,+BAA+B,OAAO,uBAAuB,KAAK,+CAA+C,8EAA8E,4CAA4C,OAAO,oBAAoB,KAAK,2DAA2D,kCAAkC,sFAAsF,4CAA4C,SAAS,6BAA6B,wCAAwC,SAAS,OAAO,qCAAqC,8EAA8E,2CAA2C,SAAS,6BAA6B,uDAAuD,SAAS,OAAO,qCAAqC,yBAAyB,4CAA4C,SAAS,2CAA2C,OAAO,0CAA0C,KAAK,0HAA0H,eAAe,mCAAmC,qBAAqB,OAAO,yEAAyE,kBAAkB,qBAAqB,OAAO,2GAA2G,KAAK,2EAA2E,0GAA0G,0DAA0D,oBAAoB,OAAO,2CAA2C,4CAA4C,sCAAsC,gCAAgC,mDAAmD,oDAAoD,SAAS,mEAAmE,oDAAoD,SAAS,2BAA2B,OAAO,OAAO,mDAAmD,wDAAwD,2CAA2C,sCAAsC,uGAAuG,8BAA8B,wCAAwC,yEAAyE,iBAAiB,wDAAwD,eAAe,aAAa,qCAAqC,mEAAmE,aAAa,oDAAoD,WAAW,SAAS,8EAA8E,oDAAoD,2CAA2C,sDAAsD,2FAA2F,aAAa,wCAAwC,uGAAuG,8BAA8B,wCAAwC,qDAAqD,iBAAiB,yDAAyD,eAAe,aAAa,qCAAqC,gDAAgD,aAAa,mDAAmD,WAAW,SAAS,yCAAyC,OAAO,0HAA0H,wFAAwF,6CAA6C,4DAA4D,SAAS,OAAO,4FAA4F,oHAAoH,0GAA0G,oCAAoC,2EAA2E,SAAS,OAAO,4EAA4E,SAAS,+BAA+B,OAAO,uBAAuB,8DAA8D,OAAO,oBAAoB,KAAK,iCAAiC,cAAc,2QAA2Q,4BAA4B,gEAAgE,4BAA4B,kGAAkG,+DAA+D,SAAS,kRAAkR,4BAA4B,gEAAgE,4BAA4B,kGAAkG,gEAAgE,SAAS,QAAQ,MAAM,GAAG,EAAE,ikBAAikB,6CAA6C,2CAA2C,yCAAyC,6GAA6G,qCAAqC,OAAO,sJAAsJ,mCAAmC,OAAO,sDAAsD,qBAAqB,OAAO,oEAAoE,MAAM,uDAAuD,8CAA8C,4CAA4C,8GAA8G,sDAAsD,OAAO,yDAAyD,oDAAoD,OAAO,2BAA2B,MAAM,+DAA+D,gDAAgD,iDAAiD,+CAA+C,MAAM,qCAAqC,yDAAyD,uCAAuC,OAAO,EAAE,MAAM,oCAAoC,6BAA6B,MAAM,0CAA0C,0FAA0F,MAAM,6CAA6C,yDAAyD,+EAA+E,MAAM,iDAAiD,sCAAsC,MAAM,gDAAgD,uCAAuC,sCAAsC,6CAA6C,uCAAuC,0FAA0F,MAAM,kDAAkD,gDAAgD,kDAAkD,mDAAmD,0DAA0D,MAAM,iDAAiD,+CAA+C,kDAAkD,mDAAmD,0DAA0D,MAAM,gEAAgE,wCAAwC,wCAAwC,iDAAiD,qCAAqC,2CAA2C,OAAO,EAAE,+CAA+C,oCAAoC,2DAA2D,MAAM,2DAA2D,wCAAwC,wCAAwC,4CAA4C,OAAO,EAAE,6CAA6C,MAAM,+DAA+D,8CAA8C,2CAA2C,MAAM,oEAAoE,iEAAiE,0DAA0D,oEAAoE,iCAAiC,mCAAmC,uCAAuC,yDAAyD,yDAAyD,sGAAsG,iFAAiF,QAAQ,8BAA8B,wDAAwD,OAAO,sBAAsB,4DAA4D,OAAO,6DAA6D,MAAM,cAAc,kLAAkL,GAAG,EAAE,kxBAAkxB,uDAAuD,iEAAiE,8KAA8K,yFAAyF,OAAO,OAAO,6IAA6I,yCAAyC,kEAAkE,mDAAmD,SAAS,OAAO,6CAA6C,SAAS,OAAO,MAAM,gEAAgE,mEAAmE,wDAAwD,qEAAqE,yDAAyD,4CAA4C,mCAAmC,uCAAuC,uCAAuC,iCAAiC,gDAAgD,gFAAgF,SAAS,wCAAwC,2BAA2B,wCAAwC,QAAQ,WAAW,+CAA+C,6CAA6C,GAAG,WAAW,4CAA4C,uCAAuC,gBAAgB,WAAW,2CAA2C,wCAAwC,qBAAqB,GAAG,WAAW,SAAS,sBAAsB,OAAO,yBAAyB,yBAAyB,0DAA0D,mCAAmC,uCAAuC,uCAAuC,iCAAiC,yDAAyD,qDAAqD,4CAA4C,gDAAgD,2BAA2B,aAAa,WAAW,qDAAqD,gDAAgD,gDAAgD,kCAAkC,aAAa,WAAW,SAAS,OAAO,6CAA6C,oBAAoB,4EAA4E,2EAA2E,gDAAgD,8BAA8B,kCAAkC,4GAA4G,uCAAuC,eAAe,aAAa,WAAW,EAAE,SAAS,OAAO,iDAAiD,4BAA4B,wCAAwC,gCAAgC,gDAAgD,WAAW,SAAS,OAAO,6CAA6C,iEAAiE,mDAAmD,SAAS,EAAE,OAAO,yCAAyC,wDAAwD,OAAO,wCAAwC,6EAA6E,OAAO,gDAAgD,yDAAyD,wDAAwD,sCAAsC,kBAAkB,uBAAuB,0BAA0B,kEAAkE,0BAA0B,aAAa,WAAW,wBAAwB,SAAS,wBAAwB,iBAAiB,SAAS,2CAA2C,wJAAwJ,qCAAqC,6BAA6B,mDAAmD,iBAAiB,SAAS,qFAAqF,+HAA+H,yCAAyC,oDAAoD,yEAAyE,uCAAuC,+CAA+C,0CAA0C,kDAAkD,aAAa,WAAW,SAAS,OAAO,qJAAqJ,mCAAmC,SAAS,0CAA0C,2DAA2D,8DAA8D,kDAAkD,yBAAyB,sCAAsC,WAAW,SAAS,kHAAkH,2BAA2B,wDAAwD,wCAAwC,yCAAyC,qCAAqC,mHAAmH,0BAA0B,oCAAoC,WAAW,OAAO,mDAAmD,sBAAsB,GAAG,WAAW,SAAS,gCAAgC,OAAO,kFAAkF,2CAA2C,OAAO,mEAAmE,4BAA4B,qCAAqC,iDAAiD,iBAAiB,iFAAiF,QAAQ,SAAS,iFAAiF,iDAAiD,4CAA4C,2BAA2B,iFAAiF,OAAO,WAAW,mBAAmB,OAAO,EAAE,OAAO,gGAAgG,WAAW,iBAAiB,4GAA4G,gGAAgG,kCAAkC,6DAA6D,+GAA+G,gCAAgC,2CAA2C,yCAAyC,gCAAgC,SAAS,OAAO,uHAAuH,2MAA2M,2DAA2D,0CAA0C,OAAO,yCAAyC,2FAA2F,gEAAgE,iDAAiD,4JAA4J,iGAAiG,qCAAqC,wCAAwC,eAAe,OAAO,uCAAuC,qFAAqF,4CAA4C,sBAAsB,gCAAgC,MAAM,0BAA0B,0DAA0D,uEAAuE,mEAAmE,aAAa,kBAAkB,WAAW,SAAS,OAAO,uEAAuE,2GAA2G,+CAA+C,kDAAkD,OAAO,OAAO,mOAAmO,yCAAyC,oCAAoC,iHAAiH,uCAAuC,SAAS,OAAO,4BAA4B,SAAS,8FAA8F,4BAA4B,iCAAiC,SAAS,iMAAiM,iQAAiQ,oDAAoD,aAAa,sBAAsB,oHAAoH,uCAAuC,SAAS,OAAO,8CAA8C,SAAS,OAAO,mCAAmC,mDAAmD,8CAA8C,sCAAsC,yBAAyB,MAAM,2CAA2C,kBAAkB,wCAAwC,gCAAgC,8CAA8C,yCAAyC,SAAS,SAAS,kBAAkB,qEAAqE,OAAO,gBAAgB,0CAA0C,QAAQ,MAAM,oDAAoD,uCAAuC,gEAAgE,MAAM,cAAc,wCAAwC,GAAG,EAAE,qwBAAqwB,sFAAsF,0EAA0E,wCAAwC,mCAAmC,+BAA+B,wDAAwD,SAAS,UAAU,YAAY,qDAAqD,yCAAyC,yBAAyB,qCAAqC,mCAAmC,qCAAqC,OAAO,EAAE,wGAAwG,OAAO,6CAA6C,QAAQ,mDAAmD,OAAO,mDAAmD,OAAO,oEAAoE,QAAQ,2GAA2G,2CAA2C,iIAAiI,yBAAyB,SAAS,mDAAmD,uCAAuC,EAAE,wCAAwC,uBAAuB,SAAS,gDAAgD,oDAAoD,yCAAyC,sCAAsC,uCAAuC,EAAE,sBAAsB,SAAS,sEAAsE,mEAAmE,wCAAwC,uCAAuC,EAAE,yBAAyB,yBAAyB,WAAW,SAAS,EAAE,sBAAsB,uBAAuB,SAAS,kIAAkI,sCAAsC,uCAAuC,EAAE,sBAAsB,SAAS,0CAA0C,kEAAkE,SAAS,aAAa,0CAA0C,sBAAsB,sCAAsC,uCAAuC,EAAE,sBAAsB,SAAS,uBAAuB,OAAO,wKAAwK,OAAO,yDAAyD,eAAe,8HAA8H,iBAAiB,mFAAmF,iBAAiB,SAAS,0CAA0C,+CAA+C,+BAA+B,SAAS,0CAA0C,4DAA4D,SAAS,aAAa,sDAAsD,uBAAuB,OAAO,0IAA0I,OAAO,yDAAyD,OAAO,8FAA8F,iBAAiB,mFAAmF,iBAAiB,SAAS,0CAA0C,+CAA+C,+BAA+B,SAAS,0CAA0C,4DAA4D,SAAS,aAAa,sDAAsD,OAAO,iHAAiH,OAAO,iHAAiH,OAAO,qIAAqI,8BAA8B,0DAA0D,oEAAoE,+CAA+C,WAAW,EAAE,SAAS,EAAE,OAAO,uDAAuD,wCAAwC,qEAAqE,iEAAiE,UAAU,OAAO,yIAAyI,OAAO,6DAA6D,QAAQ,uGAAuG,wCAAwC,uCAAuC,sBAAsB,SAAS,0CAA0C,gEAAgE,SAAS,aAAa,sDAAsD,uBAAuB,OAAO,iEAAiE,wCAAwC,8CAA8C,gDAAgD,UAAU,OAAO,iEAAiE,wCAAwC,8CAA8C,gDAAgD,UAAU,OAAO,4CAA4C,wCAAwC,wCAAwC,OAAO,oDAAoD,uYAAuY,EAAE,kFAAkF,+BAA+B,qBAAqB,SAAS,oCAAoC,uBAAuB,SAAS,iEAAiE,OAAO,sCAAsC,qCAAqC,OAAO,4CAA4C,wCAAwC,aAAa,cAAc,6BAA6B,OAAO,uCAAuC,+CAA+C,OAAO,qCAAqC,2CAA2C,OAAO,uDAAuD,6GAA6G,2FAA2F,mCAAmC,SAAS,gDAAgD,4CAA4C,8DAA8D,uCAAuC,WAAW,aAAa,uDAAuD,WAAW,wLAAwL,0BAA0B,WAAW,6IAA6I,6MAA6M,4BAA4B,wDAAwD,aAAa,+CAA+C,yBAAyB,EAAE,WAAW,SAAS,iEAAiE,wCAAwC,6EAA6E,sBAAsB,2CAA2C,aAAa,qBAAqB,WAAW,uCAAuC,SAAS,qKAAqK,2CAA2C,kCAAkC,8BAA8B,WAAW,uHAAuH,gCAAgC,+CAA+C,aAAa,WAAW,EAAE,kCAAkC,0CAA0C,WAAW,SAAS,0HAA0H,kCAAkC,uCAAuC,6SAA6S,wBAAwB,4CAA4C,4IAA4I,+BAA+B,6CAA6C,iCAAiC,aAAa,WAAW,SAAS,wJAAwJ,gCAAgC,SAAS,wIAAwI,uCAAuC,SAAS,mDAAmD,qCAAqC,uFAAuF,iEAAiE,8DAA8D,gCAAgC,sDAAsD,aAAa,OAAO,oDAAoD,aAAa,WAAW,yCAAyC,SAAS,4CAA4C,oCAAoC,SAAS,sCAAsC,qCAAqC,SAAS,sDAAsD,4CAA4C,SAAS,mCAAmC,iDAAiD,iDAAiD,cAAc,IAAI,cAAc,EAAE,+CAA+C,SAAS,wDAAwD,kDAAkD,kGAAkG,6BAA6B,0CAA0C,+BAA+B,WAAW,SAAS,6DAA6D,0BAA0B,+DAA+D,2DAA2D,qCAAqC,2BAA2B,aAAa,WAAW,oBAAoB,SAAS,wDAAwD,kCAAkC,SAAS,2DAA2D,qDAAqD,SAAS,2DAA2D,kDAAkD,oGAAoG,2BAA2B,aAAa,aAAa,SAAS,0DAA0D,8BAA8B,SAAS,wDAAwD,mCAAmC,SAAS,gDAAgD,6CAA6C,8EAA8E,qDAAqD,kDAAkD,uGAAuG,2MAA2M,qCAAqC,aAAa,qEAAqE,kEAAkE,uBAAuB,eAAe,kDAAkD,yGAAyG,4FAA4F,wGAAwG,6CAA6C,uGAAuG,0FAA0F,iBAAiB,OAAO,yGAAyG,gEAAgE,iBAAiB,eAAe,aAAa,EAAE,WAAW,OAAO,uCAAuC,WAAW,SAAS,mCAAmC,SAAS,6CAA6C,kEAAkE,SAAS,2CAA2C,+CAA+C,6BAA6B,SAAS,4DAA4D,0EAA0E,eAAe,0BAA0B,eAAe,IAAI,SAAS,wDAAwD,qBAAqB,2CAA2C,qBAAqB,aAAa,WAAW,6DAA6D,wKAAwK,0IAA0I,qCAAqC,WAAW,qEAAqE,mDAAmD,WAAW,SAAS,kCAAkC,wCAAwC,8CAA8C,kGAAkG,8BAA8B,oCAAoC,kDAAkD,oCAAoC,aAAa,WAAW,OAAO,qVAAqV,4BAA4B,0CAA0C,2BAA2B,aAAa,WAAW,SAAS,mCAAmC,wCAAwC,+TAA+T,oCAAoC,kCAAkC,oEAAoE,qEAAqE,aAAa,OAAO,0DAA0D,aAAa,WAAW,SAAS,uCAAuC,gCAAgC,SAAS,0DAA0D,wLAAwL,qCAAqC,2CAA2C,6CAA6C,yCAAyC,6CAA6C,sGAAsG,sFAAsF,+GAA+G,wEAAwE,kDAAkD,aAAa,OAAO,yBAAyB,aAAa,WAAW,oEAAoE,sFAAsF,yHAAyH,+FAA+F,8JAA8J,4DAA4D,yCAAyC,iDAAiD,WAAW,qHAAqH,sEAAsE,0EAA0E,8CAA8C,wFAAwF,4BAA4B,eAAe,aAAa,WAAW,+FAA+F,qHAAqH,uCAAuC,oCAAoC,uCAAuC,qCAAqC,6BAA6B,aAAa,WAAW,qCAAqC,gCAAgC,4JAA4J,2FAA2F,gFAAgF,WAAW,4FAA4F,SAAS,GAAG,uDAAuD,2CAA2C,6BAA6B,2BAA2B,qCAAqC,mCAAmC,WAAW,OAAO,sCAAsC,oCAAoC,WAAW,kCAAkC,mCAAmC,wBAAwB,SAAS,OAAO,EAAE,6DAA6D,qHAAqH,oDAAoD,kIAAkI,mDAAmD,qDAAqD,WAAW,EAAE,+CAA+C,SAAS,2FAA2F,wCAAwC,SAAS,sCAAsC,6CAA6C,SAAS,gCAAgC,mBAAmB,yCAAyC,wHAAwH,0BAA0B,aAAa,wHAAwH,0BAA0B,aAAa,WAAW,uOAAuO,SAAS,uEAAuE,iEAAiE,sMAAsM,SAAS,OAAO,WAAW,6DAA6D,gDAAgD,gCAAgC,wEAAwE,wCAAwC,4CAA4C,aAAa,OAAO,0GAA0G,aAAa,WAAW,yBAAyB,SAAS,OAAO,WAAW,oDAAoD,0BAA0B,oCAAoC,SAAS,6BAA6B,oCAAoC,SAAS,OAAO,EAAE,MAAM,GAAG,EAAE,6dAA6d,6CAA6C,yIAAyI,yBAAyB,4EAA4E,wGAAwG,OAAO,wCAAwC,OAAO,2EAA2E,yCAAyC,wBAAwB,gDAAgD,kCAAkC,gJAAgJ,EAAE,sCAAsC,0BAA0B,eAAe,OAAO,yDAAyD,uHAAuH,oFAAoF,OAAO,wGAAwG,iGAAiG,kDAAkD,6DAA6D,SAAS,OAAO,8CAA8C,sHAAsH,SAAS,OAAO,0IAA0I,8UAA8U,yCAAyC,0BAA0B,uEAAuE,qDAAqD,SAAS,yBAAyB,OAAO,EAAE,sBAAsB,6BAA6B,2CAA2C,SAAS,+BAA+B,2CAA2C,SAAS,uDAAuD,mCAAmC,SAAS,uDAAuD,mCAAmC,SAAS,2BAA2B,OAAO,iCAAiC,2BAA2B,OAAO,iCAAiC,KAAK,uBAAuB,0GAA0G,OAAO,iEAAiE,wBAAwB,iDAAiD,0DAA0D,iCAAiC,4BAA4B,oDAAoD,sBAAsB,OAAO,mKAAmK,OAAO,+DAA+D,OAAO,2SAA2S,0CAA0C,gCAAgC,+BAA+B,qBAAqB,SAAS,8BAA8B,eAAe,EAAE,0NAA0N,8BAA8B,SAAS,oDAAoD,qKAAqK,oBAAoB,SAAS,uDAAuD,8CAA8C,oCAAoC,SAAS,gDAAgD,qCAAqC,SAAS,wBAAwB,OAAO,mKAAmK,OAAO,8DAA8D,QAAQ,sDAAsD,OAAO,2SAA2S,kDAAkD,4BAA4B,eAAe,EAAE,8DAA8D,OAAO,yUAAyU,iBAAiB,gDAAgD,QAAQ,8EAA8E,qEAAqE,sCAAsC,wBAAwB,WAAW,2DAA2D,yFAAyF,wBAAwB,WAAW,SAAS,uBAAuB,OAAO,sHAAsH,OAAO,2DAA2D,OAAO,oGAAoG,kDAAkD,oFAAoF,+BAA+B,gCAAgC,4CAA4C,sCAAsC,OAAO,OAAO,2DAA2D,iCAAiC,oBAAoB,aAAa,WAAW,SAAS,2CAA2C,uCAAuC,OAAO,OAAO,0DAA0D,iCAAiC,oBAAoB,aAAa,WAAW,SAAS,iCAAiC,sBAAsB,SAAS,yDAAyD,OAAO,OAAO,yBAAyB,SAAS,oDAAoD,OAAO,OAAO,oCAAoC,oCAAoC,WAAW,OAAO,4BAA4B,WAAW,SAAS,qBAAqB,OAAO,sHAAsH,OAAO,2DAA2D,OAAO,qGAAqG,2CAA2C,kEAAkE,+BAA+B,+BAA+B,gEAAgE,kBAAkB,sBAAsB,WAAW,SAAS,EAAE,mBAAmB,8EAA8E,QAAQ,OAAO,wFAAwF,qBAAqB,WAAW,yDAAyD,iBAAiB,qBAAqB,WAAW,6CAA6C,iBAAiB,qBAAqB,WAAW,4BAA4B,SAAS,+BAA+B,gDAAgD,0CAA0C,SAAS,OAAO,6EAA6E,SAAS,gFAAgF,kCAAkC,SAAS,6GAA6G,wBAAwB,SAAS,yBAAyB,OAAO,oHAAoH,QAAQ,iHAAiH,2BAA2B,qEAAqE,iBAAiB,+BAA+B,gCAAgC,yCAAyC,aAAa,OAAO,wBAAwB,aAAa,kCAAkC,uCAAuC,aAAa,8BAA8B,6BAA6B,aAAa,8BAA8B,mCAAmC,aAAa,WAAW,4BAA4B,2BAA2B,WAAW,6BAA6B,kCAAkC,WAAW,8BAA8B,mCAAmC,WAAW,4BAA4B,SAAS,6BAA6B,OAAO,MAAM,wCAAwC,wBAAwB,iDAAiD,4BAA4B,kBAAkB,oBAAoB,0BAA0B,OAAO,gBAAgB,+CAA+C,MAAM,8CAA8C,kBAAkB,6IAA6I,2BAA2B,OAAO,OAAO,gEAAgE,OAAO,0DAA0D,oFAAoF,4CAA4C,yBAAyB,SAAS,OAAO,uBAAuB,MAAM,iBAAiB,GAAG,EAAE,qZAAqZ,yFAAyF,4BAA4B,sIAAsI,iDAAiD,oCAAoC,wBAAwB,KAAK,0HAA0H,wEAAwE,8DAA8D,0CAA0C,6FAA6F,2DAA2D,6CAA6C,WAAW,oEAAoE,uBAAuB,8BAA8B,yBAAyB,gCAAgC,+BAA+B,kDAAkD,eAAe,aAAa,WAAW,SAAS,OAAO,yGAAyG,oBAAoB,OAAO,mGAAmG,kEAAkE,2BAA2B,kDAAkD,uCAAuC,0CAA0C,4BAA4B,uBAAuB,UAAU,OAAO,oIAAoI,0DAA0D,2BAA2B,6CAA6C,2CAA2C,mCAAmC,oCAAoC,uCAAuC,aAAa,WAAW,SAAS,EAAE,8BAA8B,0DAA0D,SAAS,OAAO,0DAA0D,sDAAsD,6BAA6B,SAAS,EAAE,OAAO,gEAAgE,yDAAyD,qCAAqC,0CAA0C,mCAAmC,4DAA4D,sCAAsC,4BAA4B,aAAa,6DAA6D,YAAY,SAAS,EAAE,OAAO,oDAAoD,iDAAiD,6BAA6B,SAAS,EAAE,OAAO,wEAAwE,iCAAiC,kCAAkC,OAAO,oFAAoF,4BAA4B,8DAA8D,uDAAuD,SAAS,OAAO,mCAAmC,SAAS,OAAO,sFAAsF,uFAAuF,0EAA0E,qBAAqB,MAAM,mBAAmB,GAAG,EAAE,gjBAAgjB,kDAAkD,qBAAqB,EAAE,qCAAqC,UAAU,EAAE,iGAAiG,6bAA6b,qCAAqC,2CAA2C,cAAc,gCAAgC,qBAAqB,OAAO,+BAA+B,oBAAoB,OAAO,kCAAkC,qCAAqC,wDAAwD,oGAAoG,OAAO,iDAAiD,QAAQ,wCAAwC,OAAO,iFAAiF,IAAI,EAAE,0CAA0C,qCAAqC,oCAAoC,0BAA0B,yBAAyB,uEAAuE,8BAA8B,SAAS,gGAAgG,kFAAkF,iDAAiD,YAAY,+EAA+E,mDAAmD,YAAY,iGAAiG,4DAA4D,YAAY,0FAA0F,kDAAkD,2DAA2D,SAAS,oCAAoC,oCAAoC,SAAS,oCAAoC,uBAAuB,0CAA0C,OAAO,OAAO,mCAAmC,qFAAqF,uCAAuC,aAAa,4GAA4G,qCAAqC,0BAA0B,aAAa,oJAAoJ,oCAAoC,0BAA0B,aAAa,WAAW,SAAS,sBAAsB,OAAO,oHAAoH,OAAO,4EAA4E,SAAS,yEAAyE,QAAQ,4FAA4F,OAAO,oFAAoF,wCAAwC,EAAE,4DAA4D,+BAA+B,mCAAmC,iCAAiC,SAAS,yBAAyB,sBAAsB,sCAAsC,wBAAwB,0CAA0C,WAAW,kDAAkD,2BAA2B,uBAAuB,4BAA4B,sCAAsC,4BAA4B,6CAA6C,sCAAsC,aAAa,4BAA4B,yCAAyC,aAAa,OAAO,sCAAsC,aAAa,WAAW,SAAS,sBAAsB,OAAO,uHAAuH,QAAQ,mDAAmD,UAAU,+CAA+C,OAAO,qHAAqH,+EAA+E,6DAA6D,6CAA6C,gDAAgD,qBAAqB,gDAAgD,2BAA2B,uBAAuB,4BAA4B,sCAAsC,4DAA4D,6CAA6C,gDAAgD,6CAA6C,eAAe,4BAA4B,aAAa,6BAA6B,iEAAiE,oCAAoC,eAAe,OAAO,4EAA4E,8BAA8B,uDAAuD,oFAAoF,8CAA8C,mBAAmB,iBAAiB,eAAe,uCAAuC,yCAAyC,sCAAsC,eAAe,aAAa,WAAW,SAAS,OAAO,kCAAkC,qCAAqC,WAAW,0BAA0B,SAAS,sBAAsB,OAAO,yLAAyL,OAAO,4EAA4E,SAAS,yEAAyE,QAAQ,4FAA4F,OAAO,sFAAsF,wCAAwC,EAAE,uDAAuD,4CAA4C,WAAW,EAAE,OAAO,wIAAwI,OAAO,uDAAuD,QAAQ,0EAA0E,kCAAkC,iEAAiE,OAAO,wCAAwC,mBAAmB,qBAAqB,uBAAuB,qBAAqB,KAAK,4IAA4I,OAAO,mDAAmD,QAAQ,yGAAyG,gDAAgD,MAAM,wBAAwB,GAAG,EAAE,okBAAokB,qGAAqG,OAAO,yEAAyE,oCAAoC,KAAK,sGAAsG,8BAA8B,iDAAiD,OAAO,+CAA+C,qBAAqB,qEAAqE,0BAA0B,iDAAiD,uBAAuB,yCAAyC,+CAA+C,WAAW,yCAAyC,qCAAqC,WAAW,kEAAkE,sDAAsD,mFAAmF,4BAA4B,iDAAiD,mDAAmD,sCAAsC,6BAA6B,8BAA8B,eAAe,aAAa,EAAE,WAAW,sCAAsC,yDAAyD,WAAW,EAAE,mCAAmC,SAAS,OAAO,EAAE,MAAM,qBAAqB,GAAG,EAAE,sfAAsf,sCAAsC,kCAAkC,oDAAoD,mEAAmE,0EAA0E,iDAAiD,aAAa,WAAW,SAAS,EAAE,OAAO,oCAAoC,KAAK,cAAc,4MAA4M,OAAO,iDAAiD,QAAQ,uCAAuC,SAAS,mEAAmE,OAAO,iFAAiF,IAAI,EAAE,mDAAmD,wBAAwB,6IAA6I,sBAAsB,SAAS,mEAAmE,qFAAqF,qCAAqC,0DAA0D,2CAA2C,qCAAqC,WAAW,SAAS,sBAAsB,OAAO,+NAA+N,OAAO,4EAA4E,SAAS,yEAAyE,QAAQ,4FAA4F,OAAO,oFAAoF,wCAAwC,EAAE,sDAAsD,oEAAoE,OAAO,kOAAkO,QAAQ,mDAAmD,UAAU,+CAA+C,OAAO,qHAAqH,+EAA+E,6DAA6D,8CAA8C,4DAA4D,OAAO,+OAA+O,OAAO,iDAAiD,SAAS,uDAAuD,OAAO,uEAAuE,6DAA6D,OAAO,mJAAmJ,OAAO,uDAAuD,QAAQ,yFAAyF,kDAAkD,OAAO,MAAM,GAAG,EAAE,sqBAAsqB,2BAA2B,+BAA+B,KAAK,wHAAwH,qBAAqB,4CAA4C,oBAAoB,OAAO,4DAA4D,uBAAuB,OAAO,oHAAoH,uBAAuB,OAAO,sDAAsD,oCAAoC,uBAAuB,SAAS,uBAAuB,qBAAqB,qCAAqC,yBAAyB,WAAW,SAAS,OAAO,mEAAmE,uBAAuB,OAAO,6CAA6C,oBAAoB,mCAAmC,uBAAuB,SAAS,4BAA4B,OAAO,sBAAsB,kDAAkD,uBAAuB,SAAS,OAAO,oBAAoB,KAAK,2BAA2B,yIAAyI,OAAO,uEAAuE,wBAAwB,4BAA4B,8BAA8B,6BAA6B,2CAA2C,kDAAkD,WAAW,SAAS,2BAA2B,OAAO,gLAAgL,cAAc,+EAA+E,OAAO,uDAAuD,8BAA8B,uEAAuE,kDAAkD,yCAAyC,2CAA2C,SAAS,2CAA2C,6BAA6B,qCAAqC,WAAW,wBAAwB,SAAS,0CAA0C,kCAAkC,oBAAoB,mHAAmH,8CAA8C,oCAAoC,SAAS,sBAAsB,OAAO,0FAA0F,OAAO,oDAAoD,OAAO,6DAA6D,+BAA+B,OAAO,sHAAsH,OAAO,0DAA0D,QAAQ,mEAAmE,iCAAiC,OAAO,4OAA4O,OAAO,wFAAwF,qBAAqB,4DAA4D,0CAA0C,OAAO,oMAAoM,6BAA6B,OAAO,KAAK,EAAE,GAAG,EAAE,6jCAA6jC,mBAAmB,gMAAgM,MAAM,qEAAqE,MAAM,4DAA4D,mDAAmD,qBAAqB,wBAAwB,gCAAgC,iCAAiC,6BAA6B,SAAS,OAAO,+BAA+B,mBAAmB,wCAAwC,OAAO,2BAA2B,KAAK,0JAA0J,yRAAyR,mCAAmC,wHAAwH,OAAO,gFAAgF,+BAA+B,4CAA4C,qBAAqB,sCAAsC,qCAAqC,wDAAwD,cAAc,WAAW,SAAS,wCAAwC,mBAAmB,mCAAmC,uCAAuC,cAAc,WAAW,SAAS,kDAAkD,wBAAwB,yCAAyC,qCAAqC,qCAAqC,6BAA6B,yDAAyD,+BAA+B,iBAAiB,eAAe,4BAA4B,cAAc,WAAW,SAAS,wDAAwD,qBAAqB,mCAAmC,yDAAyD,4cAA4c,cAAc,WAAW,SAAS,8CAA8C,2BAA2B,uBAAuB,wDAAwD,6BAA6B,6BAA6B,sDAAsD,+RAA+R,gBAAgB,aAAa,2FAA2F,qCAAqC,gDAAgD,cAAc,WAAW,SAAS,uDAAuD,oBAAoB,kCAAkC,yBAAyB,mCAAmC,aAAa,WAAW,8GAA8G,6CAA6C,yCAAyC,8CAA8C,+DAA+D,6CAA6C,gGAAgG,kCAAkC,2BAA2B,SAAS,0GAA0G,4CAA4C,gBAAgB,+BAA+B,6CAA6C,4BAA4B,oCAAoC,qCAAqC,iCAAiC,mCAAmC,sBAAsB,eAAe,aAAa,WAAW,iBAAiB,wBAAwB,0CAA0C,WAAW,0BAA0B,qBAAqB,kBAAkB,OAAO,kCAAkC,yEAAyE,aAAa,WAAW,qCAAqC,6BAA6B,SAAS,sDAAsD,OAAO,qIAAqI,mBAAmB,gEAAgE,MAAM,iFAAiF,QAAQ,oGAAoG,0FAA0F,mDAAmD,yCAAyC,OAAO,OAAO,kCAAkC,+BAA+B,yBAAyB,oBAAoB,6BAA6B,SAAS,QAAQ,mCAAmC,4BAA4B,wHAAwH,iDAAiD,iDAAiD,iCAAiC,iDAAiD,0BAA0B,mBAAmB,iBAAiB,eAAe,iDAAiD,SAAS,QAAQ,wDAAwD,8BAA8B,wBAAwB,iBAAiB,eAAe,gCAAgC,wBAAwB,sBAAsB,eAAe,OAAO,2KAA2K,wBAAwB,iBAAiB,eAAe,qCAAqC,aAAa,WAAW,iHAAiH,wBAAwB,WAAW,SAAS,uBAAuB,OAAO,yKAAyK,mBAAmB,4DAA4D,sBAAsB,4EAA4E,4DAA4D,oDAAoD,4DAA4D,yCAAyC,OAAO,OAAO,4BAA4B,8FAA8F,SAAS,QAAQ,6CAA6C,4BAA4B,sBAAsB,eAAe,aAAa,yEAAyE,qIAAqI,mCAAmC,eAAe,OAAO,gFAAgF,6DAA6D,iBAAiB,eAAe,aAAa,2BAA2B,qBAAqB,aAAa,iEAAiE,qDAAqD,aAAa,WAAW,SAAS,gCAAgC,2CAA2C,OAAO,OAAO,wDAAwD,WAAW,iEAAiE,sCAAsC,WAAW,SAAS,iEAAiE,qEAAqE,SAAS,yCAAyC,OAAO,KAAK,EAAE,sBAAsB,GAAG,EAAE,8gBAA8gB,uMAAuM,mBAAmB,wFAAwF,eAAe,kQAAkQ,MAAM,8EAA8E,oBAAoB,0BAA0B,SAAS,OAAO,2GAA2G,MAAM,6DAA6D,sBAAsB,kEAAkE,wBAAwB,6EAA6E,4CAA4C,sCAAsC,WAAW,OAAO,mCAAmC,WAAW,SAAS,OAAO,kCAAkC,SAAS,sBAAsB,OAAO,+MAA+M,MAAM,qEAAqE,sBAAsB,0DAA0D,8CAA8C,0BAA0B,wBAAwB,4DAA4D,SAAS,OAAO,yBAAyB,SAAS,sBAAsB,OAAO,iKAAiK,OAAO,mEAAmE,sBAAsB,qFAAqF,yDAAyD,iGAAiG,4CAA4C,oCAAoC,wCAAwC,YAAY,SAAS,OAAO,yEAAyE,SAAS,sCAAsC,OAAO,OAAO,yBAAyB,8BAA8B,+BAA+B,WAAW,SAAS,yCAAyC,OAAO,2GAA2G,OAAO,0CAA0C,OAAO,gDAAgD,sBAAsB,sDAAsD,4DAA4D,OAAO,2HAA2H,OAAO,oEAAoE,sBAAsB,wDAAwD,gFAAgF,OAAO,8HAA8H,SAAS,4EAA4E,sBAAsB,sEAAsE,mCAAmC,sBAAsB,OAAO,gJAAgJ,MAAM,0EAA0E,mCAAmC,OAAO,0JAA0J,QAAQ,qDAAqD,OAAO,8EAA8E,yCAAyC,uBAAuB,iCAAiC,kBAAkB,WAAW,SAAS,mBAAmB,OAAO,iIAAiI,sBAAsB,6EAA6E,6DAA6D,OAAO,qHAAqH,OAAO,0CAA0C,QAAQ,qFAAqF,+DAA+D,OAAO,uIAAuI,8CAA8C,OAAO,gDAAgD,OAAO,sDAAsD,sBAAsB,uHAAuH,qCAAqC,gCAAgC,oCAAoC,6BAA6B,gCAAgC,aAAa,WAAW,EAAE,wBAAwB,SAAS,yBAAyB,mCAAmC,8BAA8B,SAAS,OAAO,mMAAmM,sCAAsC,OAAO,uDAAuD,OAAO,mEAAmE,sBAAsB,yDAAyD,kEAAkE,oCAAoC,2BAA2B,yCAAyC,WAAW,SAAS,EAAE,sBAAsB,OAAO,+GAA+G,sBAAsB,uDAAuD,4BAA4B,uBAAuB,2BAA2B,SAAS,sBAAsB,OAAO,mHAAmH,OAAO,iDAAiD,sBAAsB,qEAAqE,yCAAyC,gCAAgC,SAAS,EAAE,OAAO,mIAAmI,OAAO,sDAAsD,sBAAsB,wEAAwE,yCAAyC,mCAAmC,SAAS,EAAE,OAAO,qLAAqL,OAAO,iDAAiD,OAAO,gEAAgE,sBAAsB,6EAA6E,8cAA8c,OAAO,wEAAwE,gBAAgB,+EAA+E,sBAAsB,8EAA8E,iUAAiU,OAAO,6DAA6D,SAAS,iEAAiE,sBAAsB,+EAA+E,yIAAyI,sBAAsB,kEAAkE,yIAAyI,sBAAsB,kEAAkE,kKAAkK,sBAAsB,0HAA0H,kKAAkK,sBAAsB,0HAA0H,uKAAuK,sBAAsB,kIAAkI,mKAAmK,sBAAsB,8HAA8H,uKAAuK,sBAAsB,kIAAkI,sKAAsK,sBAAsB,gIAAgI,kCAAkC,kMAAkM,gCAAgC,4CAA4C,oCAAoC,6BAA6B,yCAAyC,WAAW,SAAS,EAAE,sBAAsB,QAAQ,KAAK,EAAE,4LAA4L,qCAAqC,sCAAsC,QAAQ,KAAK,EAAE,qFAAqF,0GAA0G,wBAAwB,GAAG,EAAE,wgBAAwgB,mBAAmB,oBAAoB,mBAAmB,sBAAsB,mCAAmC,OAAO,kDAAkD,+CAA+C,8CAA8C,6CAA6C,mCAAmC,SAAS,OAAO,gDAAgD,iCAAiC,qCAAqC,aAAa,WAAW,EAAE,SAAS,qBAAqB,OAAO,yCAAyC,iDAAiD,OAAO,oCAAoC,0CAA0C,OAAO,iCAAiC,0BAA0B,0CAA0C,iDAAiD,sFAAsF,0FAA0F,SAAS,OAAO,kCAAkC,oCAAoC,SAAS,kBAAkB,8BAA8B,OAAO,sCAAsC,sEAAsE,OAAO,oCAAoC,6DAA6D,OAAO,qCAAqC,6CAA6C,OAAO,4BAA4B,2CAA2C,OAAO,uCAAuC,+CAA+C,OAAO,0CAA0C,kDAAkD,OAAO,uCAAuC,+CAA+C,OAAO,iDAAiD,yDAAyD,OAAO,0CAA0C,uDAAuD,OAAO,+CAA+C,sDAAsD,OAAO,sDAAsD,gEAAgE,OAAO,gDAAgD,2DAA2D,OAAO,6CAA6C,qDAAqD,OAAO,yCAAyC,gGAAgG,OAAO,MAAM,mBAAmB,GAAG,EAAE,2bAA2b,mBAAmB,cAAc,2JAA2J,cAAc,4DAA4D,OAAO,yGAAyG,4BAA4B,uBAAuB,iBAAiB,SAAS,4CAA4C,6BAA6B,oBAAoB,6GAA6G,SAAS,mCAAmC,2BAA2B,0BAA0B,oDAAoD,SAAS,sBAAsB,8BAA8B,8BAA8B,SAAS,sBAAsB,8BAA8B,SAAS,kBAAkB,uMAAuM,OAAO,4CAA4C,iCAAiC,iDAAiD,8BAA8B,sFAAsF,6BAA6B,aAAa,EAAE,oFAAoF,WAAW,0CAA0C,SAAS,kCAAkC,mDAAmD,wCAAwC,SAAS,kBAAkB,6MAA6M,OAAO,MAAM,GAAG,EAAE,wdAAwd,mBAAmB,uBAAuB,KAAK,sLAAsL,SAAS,oFAAoF,oBAAoB,yBAAyB,uCAAuC,uBAAuB,KAAK,yCAAyC,kGAAkG,OAAO,yCAAyC,qBAAqB,gEAAgE,yCAAyC,oCAAoC,6BAA6B,yBAAyB,SAAS,sBAAsB,OAAO,qHAAqH,OAAO,2CAA2C,qBAAqB,mEAAmE,iCAAiC,yBAAyB,qBAAqB,OAAO,sCAAsC,oBAAoB,aAAa,WAAW,kCAAkC,oCAAoC,yBAAyB,SAAS,sBAAsB,OAAO,uGAAuG,OAAO,gDAAgD,QAAQ,sEAAsE,qBAAqB,0EAA0E,0CAA0C,mCAAmC,yBAAyB,6BAA6B,WAAW,OAAO,0BAA0B,WAAW,2BAA2B,SAAS,sBAAsB,OAAO,8HAA8H,OAAO,yCAAyC,QAAQ,+EAA+E,oCAAoC,OAAO,kHAAkH,OAAO,uEAAuE,6BAA6B,iCAAiC,OAAO,KAAK,EAAE,0EAA0E,gBAAgB,4BAA4B,6BAA6B,OAAO,mBAAmB,qBAAqB,qBAAqB,OAAO,oBAAoB,uBAAuB,SAAS,6CAA6C,OAAO,qBAAqB,MAAM,uBAAuB,GAAG,EAAE,2tBAA2tB,uBAAuB,0BAA0B,cAAc,iNAAiN,mBAAmB,kEAAkE,mCAAmC,uBAAuB,6DAA6D,mBAAmB,WAAW,0CAA0C,4CAA4C,WAAW,2CAA2C,2CAA2C,sDAAsD,2BAA2B,gDAAgD,wCAAwC,sCAAsC,mDAAmD,gCAAgC,iBAAiB,eAAe,gCAAgC,aAAa,iBAAiB,WAAW,SAAS,OAAO,4MAA4M,mBAAmB,0EAA0E,mCAAmC,sCAAsC,SAAS,OAAO,MAAM,GAAG,EAAE,k9BAAk9B,mBAAmB,mEAAmE,qCAAqC,+BAA+B,+BAA+B,mBAAmB,gBAAgB,uCAAuC,4BAA4B,2BAA2B,OAAO,qGAAqG,OAAO,oLAAoL,OAAO,6DAA6D,OAAO,sDAAsD,OAAO,6DAA6D,OAAO,+DAA+D,OAAO,6DAA6D,OAAO,2DAA2D,OAAO,6DAA6D,OAAO,mEAAmE,OAAO,0DAA0D,QAAQ,4DAA4D,QAAQ,gEAAgE,OAAO,4EAA4E,iDAAiD,0CAA0C,gBAAgB,yCAAyC,qBAAqB,oBAAoB,OAAO,yCAAyC,WAAW,SAAS,oDAAoD,2BAA2B,uFAAuF,sBAAsB,qBAAqB,4BAA4B,mBAAmB,6CAA6C,sGAAsG,EAAE,0DAA0D,mDAAmD,2CAA2C,qDAAqD,WAAW,SAAS,EAAE,+CAA+C,6DAA6D,sBAAsB,8BAA8B,mDAAmD,gEAAgE,2CAA2C,aAAa,WAAW,kCAAkC,SAAS,iGAAiG,iCAAiC,uCAAuC,WAAW,SAAS,EAAE,uCAAuC,gCAAgC,yBAAyB,WAAW,SAAS,EAAE,6GAA6G,OAAO,qDAAqD,8DAA8D,8DAA8D,4DAA4D,gCAAgC,sBAAsB,SAAS,OAAO,mOAAmO,QAAQ,6EAA6E,uCAAuC,OAAO,mIAAmI,QAAQ,mEAAmE,mBAAmB,4EAA4E,0DAA0D,iCAAiC,gCAAgC,qBAAqB,kBAAkB,WAAW,iCAAiC,SAAS,sBAAsB,OAAO,yOAAyO,OAAO,iEAAiE,yEAAyE,+EAA+E,uDAAuD,kIAAkI,iFAAiF,8EAA8E,4CAA4C,gGAAgG,4CAA4C,sDAAsD,yDAAyD,+BAA+B,iCAAiC,yCAAyC,yFAAyF,oCAAoC,qCAAqC,wDAAwD,sDAAsD,iDAAiD,gDAAgD,+EAA+E,mjBAAmjB,oCAAoC,4BAA4B,OAAO,mHAAmH,OAAO,sDAAsD,0BAA0B,8EAA8E,2HAA2H,kEAAkE,0CAA0C,SAAS,sDAAsD,4FAA4F,uCAAuC,iEAAiE,kCAAkC,WAAW,iEAAiE,kCAAkC,WAAW,8DAA8D,wCAAwC,WAAW,8DAA8D,wCAAwC,WAAW,iFAAiF,+BAA+B,6DAA6D,6DAA6D,6BAA6B,+CAA+C,WAAW,mFAAmF,+BAA+B,6DAA6D,6DAA6D,6BAA6B,gDAAgD,WAAW,sFAAsF,+BAA+B,uFAAuF,uFAAuF,kCAAkC,0CAA0C,WAAW,wFAAwF,+BAA+B,yFAAyF,yFAAyF,kCAAkC,2CAA2C,WAAW,0EAA0E,gDAAgD,WAAW,0EAA0E,gDAAgD,WAAW,gJAAgJ,gKAAgK,sDAAsD,oCAAoC,0EAA0E,2CAA2C,qDAAqD,eAAe,aAAa,2CAA2C,yCAAyC,yCAAyC,yCAAyC,WAAW,wBAAwB,SAAS,yBAAyB,OAAO,uIAAuI,oEAAoE,4DAA4D,yHAAyH,uBAAuB,UAAU,qCAAqC,gCAAgC,sDAAsD,qCAAqC,mDAAmD,mDAAmD,6CAA6C,4CAA4C,qCAAqC,SAAS,6CAA6C,2CAA2C,qCAAqC,SAAS,6CAA6C,0CAA0C,wDAAwD,qCAAqC,SAAS,6CAA6C,0CAA0C,yDAAyD,qCAAqC,SAAS,wGAAwG,qCAAqC,yCAAyC,wBAAwB,sCAAsC,8DAA8D,WAAW,iDAAiD,SAAS,wEAAwE,qCAAqC,oDAAoD,wBAAwB,mDAAmD,+DAA+D,WAAW,iDAAiD,SAAS,kDAAkD,+BAA+B,SAAS,OAAO,qHAAqH,wBAAwB,yCAAyC,sCAAsC,sBAAsB,EAAE,iFAAiF,8BAA8B,OAAO,iUAAiU,OAAO,wEAAwE,gBAAgB,+EAA+E,mBAAmB,qEAAqE,wBAAwB,8CAA8C,8BAA8B,0CAA0C,wBAAwB,WAAW,gCAAgC,4BAA4B,yDAAyD,wDAAwD,kEAAkE,+BAA+B,+BAA+B,iBAAiB,eAAe,EAAE,aAAa,8BAA8B,8BAA8B,sCAAsC,qBAAqB,aAAa,6CAA6C,YAAY,SAAS,2EAA2E,sBAAsB,OAAO,sSAAsS,OAAO,sDAAsD,SAAS,0DAA0D,mBAAmB,sEAAsE,qDAAqD,oBAAoB,OAAO,sLAAsL,OAAO,iDAAiD,OAAO,wDAAwD,QAAQ,wEAAwE,OAAO,6EAA6E,wBAAwB,4BAA4B,8BAA8B,8BAA8B,SAAS,2DAA2D,qFAAqF,qCAAqC,0DAA0D,2CAA2C,qCAAqC,WAAW,SAAS,sBAAsB,OAAO,4IAA4I,OAAO,uDAAuD,QAAQ,+FAA+F,kDAAkD,OAAO,4HAA4H,OAAO,yEAAyE,sBAAsB,iFAAiF,0DAA0D,4EAA4E,MAAM,wBAAwB,4BAA4B,SAAS,0FAA0F,6CAA6C,SAAS,yBAAyB,OAAO,0HAA0H,OAAO,yEAAyE,sBAAsB,wFAAwF,gEAAgE,OAAO,oHAAoH,mBAAmB,wDAAwD,mDAAmD,kEAAkE,OAAO,wHAAwH,mBAAmB,4DAA4D,mDAAmD,kEAAkE,OAAO,mHAAmH,OAAO,yDAAyD,mBAAmB,kEAAkE,4BAA4B,oBAAoB,OAAO,mHAAmH,OAAO,qDAAqD,QAAQ,mGAAmG,6DAA6D,oCAAoC,8CAA8C,SAAS,oCAAoC,OAAO,mGAAmG,mBAAmB,2DAA2D,kCAAkC,OAAO,oGAAoG,mBAAmB,2DAA2D,mCAAmC,OAAO,iGAAiG,mBAAmB,4DAA4D,aAAa,+BAA+B,SAAS,aAAa,qCAAqC,sBAAsB,OAAO,8FAA8F,mBAAmB,2DAA2D,4BAA4B,sBAAsB,OAAO,oGAAoG,OAAO,wDAAwD,OAAO,oDAAoD,mBAAmB,sEAAsE,2DAA2D,+CAA+C,kCAAkC,SAAS,mCAAmC,2CAA2C,0EAA0E,SAAS,sBAAsB,OAAO,uLAAuL,oBAAoB,6CAA6C,QAAQ,kFAAkF,OAAO,yFAAyF,kCAAkC,sCAAsC,SAAS,mEAAmE,gDAAgD,EAAE,SAAS,EAAE,OAAO,sGAAsG,OAAO,0CAA0C,OAAO,sFAAsF,kEAAkE,OAAO,2GAA2G,4BAA4B,uEAAuE,mBAAmB,kEAAkE,gDAAgD,uBAAuB,mEAAmE,SAAS,sBAAsB,OAAO,yGAAyG,4BAA4B,qEAAqE,mBAAmB,iEAAiE,gDAAgD,uBAAuB,6DAA6D,SAAS,sBAAsB,OAAO,mIAAmI,mBAAmB,6DAA6D,iFAAiF,2BAA2B,gDAAgD,8BAA8B,uBAAuB,iCAAiC,WAAW,SAAS,uCAAuC,wBAAwB,gDAAgD,gCAAgC,kCAAkC,aAAa,WAAW,EAAE,yCAAyC,kCAAkC,SAAS,6DAA6D,uBAAuB,SAAS,sDAAsD,qBAAqB,kCAAkC,SAAS,sCAAsC,0CAA0C,SAAS,4CAA4C,6BAA6B,8BAA8B,sBAAsB,OAAO,4HAA4H,QAAQ,gDAAgD,mBAAmB,sEAAsE,yCAAyC,0BAA0B,oBAAoB,OAAO,wHAAwH,QAAQ,4CAA4C,mBAAmB,kEAAkE,mEAAmE,0BAA0B,oBAAoB,OAAO,gCAAgC,OAAO,6BAA6B,OAAO,iCAAiC,oFAAoF,OAAO,uJAAuJ,mBAAmB,iEAAiE,4FAA4F,qCAAqC,yCAAyC,oEAAoE,2CAA2C,oDAAoD,WAAW,SAAS,iCAAiC,sCAAsC,6BAA6B,4BAA4B,kDAAkD,WAAW,mCAAmC,0DAA0D,8CAA8C,aAAa,WAAW,SAAS,kCAAkC,+BAA+B,6BAA6B,oBAAoB,sDAAsD,+CAA+C,WAAW,SAAS,qCAAqC,+BAA+B,wBAAwB,sLAAsL,EAAE,SAAS,qEAAqE,oCAAoC,oCAAoC,SAAS,gDAAgD,uCAAuC,0CAA0C,SAAS,oDAAoD,8CAA8C,SAAS,4BAA4B,uDAAuD,0CAA0C,6CAA6C,uEAAuE,qGAAqG,WAAW,oFAAoF,2BAA2B,wCAAwC,WAAW,+CAA+C,kCAAkC,SAAS,EAAE,oCAAoC,SAAS,OAAO,iCAAiC,OAAO,mHAAmH,OAAO,6DAA6D,mBAAmB,0EAA0E,0CAA0C,iCAAiC,sBAAsB,kEAAkE,wCAAwC,uCAAuC,yCAAyC,WAAW,oBAAoB,YAAY,SAAS,6DAA6D,2DAA2D,4CAA4C,oBAAoB,kBAAkB,gCAAgC,kCAAkC,4CAA4C,8CAA8C,iCAAiC,mCAAmC,qCAAqC,SAAS,gCAAgC,+CAA+C,iDAAiD,SAAS,mCAAmC,gCAAgC,sBAAsB,OAAO,8BAA8B,mDAAmD,wBAAwB,iCAAiC,2CAA2C,kBAAkB,WAAW,+BAA+B,6BAA6B,+BAA+B,SAAS,6BAA6B,6BAA6B,SAAS,iCAAiC,qBAAqB,+CAA+C,SAAS,6BAA6B,OAAO,iSAAiS,kCAAkC,WAAW,iDAAiD,mBAAmB,6DAA6D,iCAAiC,qCAAqC,2DAA2D,0BAA0B,SAAS,sBAAsB,OAAO,mHAAmH,qBAAqB,iDAAiD,mBAAmB,oGAAoG,kHAAkH,OAAO,iDAAiD,0BAA0B,wGAAwG,+HAA+H,QAAQ,iDAAiD,2BAA2B,4GAA4G,sHAAsH,QAAQ,iDAAiD,2BAA2B,0GAA0G,kHAAkH,OAAO,iDAAiD,0BAA0B,wGAAwG,oHAAoH,OAAO,iDAAiD,0BAA0B,yGAAyG,wHAAwH,QAAQ,iDAAiD,2BAA2B,2GAA2G,mBAAmB,oIAAoI,qCAAqC,qCAAqC,sCAAsC,SAAS,8CAA8C,sCAAsC,SAAS,sBAAsB,QAAQ,KAAK,EAAE,oCAAoC,wCAAwC,kCAAkC,oDAAoD,mEAAmE,0DAA0D,uCAAuC,uCAAuC,eAAe,+CAA+C,gDAAgD,uCAAuC,eAAe,aAAa,WAAW,SAAS,EAAE,OAAO,oCAAoC,KAAK,6CAA6C,2DAA2D,8BAA8B,wDAAwD,wBAAwB,kCAAkC,SAAS,OAAO,sCAAsC,gDAAgD,qBAAqB,qCAAqC,qBAAqB,EAAE,gDAAgD,uCAAuC,qBAAqB,EAAE,WAAW,EAAE,gDAAgD,SAAS,OAAO,uCAAuC,gIAAgI,kEAAkE,8CAA8C,yDAAyD,6BAA6B,2BAA2B,iEAAiE,uCAAuC,2BAA2B,0BAA0B,SAAS,sDAAsD,sBAAsB,eAAe,aAAa,8CAA8C,UAAU,OAAO,wCAAwC,6CAA6C,uDAAuD,EAAE,aAAa,WAAW,yBAAyB,oBAAoB,OAAO,8BAA8B,uCAAuC,+CAA+C,EAAE,WAAW,SAAS,OAAO,mCAAmC,2BAA2B,yCAAyC,4CAA4C,gCAAgC,+CAA+C,WAAW,SAAS,OAAO,uBAAuB,8BAA8B,SAAS,2CAA2C,OAAO,+CAA+C,yBAAyB,+FAA+F,mCAAmC,uCAAuC,yBAAyB,OAAO,iDAAiD,SAAS,0FAA0F,mEAAmE,SAAS,sHAAsH,0BAA0B,OAAO,OAAO,iDAAiD,SAAS,4DAA4D,kCAAkC,6DAA6D,SAAS,4EAA4E,8BAA8B,yBAAyB,WAAW,8DAA8D,4CAA4C,qEAAqE,aAAa,OAAO,yEAAyE,aAAa,uBAAuB,WAAW,uJAAuJ,wFAAwF,kHAAkH,+CAA+C,aAAa,WAAW,sCAAsC,wDAAwD,4CAA4C,WAAW,oFAAoF,SAAS,OAAO,KAAK,qBAAqB,GAAG,EAAE,+mBAA+mB,mBAAmB,oBAAoB,gBAAgB,cAAc,+GAA+G,OAAO,wDAAwD,SAAS,8EAA8E,8CAA8C,OAAO,yHAAyH,OAAO,yCAAyC,QAAQ,8EAA8E,2CAA2C,OAAO,sTAAsT,uEAAuE,EAAE,gDAAgD,cAAc,iFAAiF,mBAAmB,+FAA+F,yCAAyC,2DAA2D,iCAAiC,qCAAqC,wDAAwD,WAAW,iCAAiC,SAAS,iGAAiG,oCAAoC,+BAA+B,SAAS,OAAO,0BAA0B,+BAA+B,SAAS,gEAAgE,kCAAkC,mDAAmD,uEAAuE,SAAS,qEAAqE,gCAAgC,uGAAuG,OAAO,MAAM,GAAG,EAAE,0eAA0e,mBAAmB,yMAAyM,+DAA+D,kCAAkC,2CAA2C,OAAO,aAAa,gDAAgD,OAAO,aAAa,+FAA+F,OAAO,4DAA4D,iLAAiL,QAAQ,yDAAyD,OAAO,iEAAiE,oCAAoC,+BAA+B,0CAA0C,SAAS,sBAAsB,OAAO,uKAAuK,QAAQ,gEAAgE,OAAO,sFAAsF,iDAAiD,gDAAgD,yCAAyC,wBAAwB,WAAW,SAAS,OAAO,4HAA4H,OAAO,kFAAkF,OAAO,gEAAgE,iCAAiC,+BAA+B,kDAAkD,SAAS,OAAO,yGAAyG,QAAQ,6EAA6E,QAAQ,qGAAqG,gDAAgD,wOAAwO,OAAO,gIAAgI,QAAQ,wEAAwE,QAAQ,iFAAiF,qDAAqD,sBAAsB,SAAS,8GAA8G,sBAAsB,SAAS,uBAAuB,OAAO,oJAAoJ,QAAQ,qEAAqE,MAAM,4EAA4E,0BAA0B,iCAAiC,iFAAiF,mBAAmB,WAAW,gCAAgC,+BAA+B,WAAW,2BAA2B,2BAA2B,OAAO,uCAAuC,WAAW,SAAS,uCAAuC,0BAA0B,OAAO,wXAAwX,mBAAmB,yEAAyE,mBAAmB,mFAAmF,qCAAqC,0DAA0D,qDAAqD,wCAAwC,yBAAyB,qBAAqB,OAAO,uCAAuC,mDAAmD,kBAAkB,WAAW,SAAS,gCAAgC,OAAO,sNAAsN,mBAAmB,4GAA4G,8DAA8D,qEAAqE,4FAA4F,wEAAwE,SAAS,OAAO,6CAA6C,SAAS,OAAO,+MAA+M,OAAO,iDAAiD,MAAM,yEAAyE,OAAO,gHAAgH,sBAAsB,oCAAoC,SAAS,mCAAmC,kBAAkB,SAAS,8BAA8B,gCAAgC,SAAS,qBAAqB,OAAO,oGAAoG,OAAO,4FAA4F,MAAM,wJAAwJ,2DAA2D,0EAA0E,yBAAyB,qBAAqB,OAAO,+CAA+C,oBAAoB,WAAW,SAAS,qBAAqB,uEAAuE,OAAO,wIAAwI,yCAAyC,0CAA0C,qEAAqE,SAAS,4CAA4C,mBAAmB,SAAS,OAAO,wBAAwB,SAAS,OAAO,2IAA2I,2DAA2D,0CAA0C,oEAAoE,SAAS,sFAAsF,kBAAkB,SAAS,OAAO,uBAAuB,SAAS,OAAO,kIAAkI,sBAAsB,OAAO,sIAAsI,2DAA2D,kEAAkE,kBAAkB,SAAS,0DAA0D,iBAAiB,YAAY,EAAE,SAAS,OAAO,uBAAuB,SAAS,OAAO,uIAAuI,SAAS,oDAAoD,yCAAyC,0CAA0C,sEAAsE,sBAAsB,wBAAwB,WAAW,SAAS,OAAO,yCAAyC,SAAS,OAAO,gLAAgL,sCAAsC,OAAO,uKAAuK,OAAO,iGAAiG,0BAA0B,sCAAsC,mCAAmC,EAAE,OAAO,wCAAwC,qDAAqD,qGAAqG,mBAAmB,WAAW,uDAAuD,mBAAmB,WAAW,uCAAuC,+BAA+B,WAAW,SAAS,uCAAuC,iBAAiB,SAAS,8BAA8B,6EAA6E,kBAAkB,iFAAiF,kBAAkB,2EAA2E,kBAAkB,+EAA+E,kBAAkB,0DAA0D,kBAAkB,sJAAsJ,kBAAkB,oEAAoE,iCAAiC,aAAa,kBAAkB,SAAS,OAAO,EAAE,wCAAwC,kCAAkC,mCAAmC,OAAO,EAAE,gBAAgB,sCAAsC,MAAM,GAAG,EAAE,2gCAA2gC,mBAAmB,6BAA6B,6BAA6B,8HAA8H,OAAO,6DAA6D,MAAM,wFAAwF,OAAO,yDAAyD,OAAO,0FAA0F,wBAAwB,gCAAgC,iCAAiC,+BAA+B,wCAAwC,SAAS,yCAAyC,6BAA6B,kCAAkC,SAAS,uDAAuD,2CAA2C,2DAA2D,WAAW,SAAS,EAAE,mDAAmD,wCAAwC,+CAA+C,sCAAsC,kDAAkD,SAAS,4EAA4E,oCAAoC,wCAAwC,SAAS,OAAO,kCAAkC,SAAS,yDAAyD,OAAO,2IAA2I,sBAAsB,4EAA4E,2BAA2B,OAAO,mGAAmG,OAAO,qEAAqE,sBAAsB,iFAAiF,+FAA+F,qCAAqC,OAAO,8LAA8L,gCAAgC,2EAA2E,sBAAsB,iEAAiE,wBAAwB,4DAA4D,sBAAsB,OAAO,yLAAyL,QAAQ,yFAAyF,sBAAsB,4DAA4D,uDAAuD,yBAAyB,iFAAiF,8BAA8B,yCAAyC,mBAAmB,WAAW,SAAS,iCAAiC,0GAA0G,4CAA4C,SAAS,qCAAqC,wCAAwC,6BAA6B,yBAAyB,WAAW,gCAAgC,0CAA0C,WAAW,SAAS,EAAE,0BAA0B,4BAA4B,SAAS,sBAAsB,OAAO,8HAA8H,mBAAmB,kDAAkD,mBAAmB,qFAAqF,4DAA4D,gEAAgE,qCAAqC,+BAA+B,kBAAkB,WAAW,SAAS,uBAAuB,yEAAyE,wBAAwB,oDAAoD,WAAW,2EAA2E,wBAAwB,oDAAoD,WAAW,SAAS,wDAAwD,OAAO,uNAAuN,MAAM,0EAA0E,MAAM,sEAAsE,kDAAkD,iGAAiG,0BAA0B,SAAS,6FAA6F,qBAAqB,oFAAoF,qGAAqG,wBAAwB,YAAY,eAAe,+HAA+H,gCAAgC,wKAAwK,8CAA8C,aAAa,mCAAmC,WAAW,SAAS,EAAE,2BAA2B,OAAO,kHAAkH,wBAAwB,kFAAkF,2BAA2B,8BAA8B,8CAA8C,8CAA8C,wIAAwI,0EAA0E,aAAa,OAAO,wDAAwD,aAAa,gCAAgC,kCAAkC,WAAW,SAAS,EAAE,qEAAqE,8BAA8B,sBAAsB,OAAO,oHAAoH,4BAA4B,qDAAqD,qBAAqB,oEAAoE,2CAA2C,OAAO,sHAAsH,4BAA4B,sDAAsD,qBAAqB,qEAAqE,wBAAwB,8EAA8E,kCAAkC,OAAO,4GAA4G,4BAA4B,oDAAoD,OAAO,oDAAoD,QAAQ,yGAAyG,2DAA2D,qCAAqC,gCAAgC,uDAAuD,qBAAqB,SAAS,sDAAsD,2DAA2D,uDAAuD,8DAA8D,SAAS,kCAAkC,OAAO,+NAA+N,OAAO,kEAAkE,qBAAqB,gEAAgE,wBAAwB,kCAAkC,kDAAkD,SAAS,sBAAsB,OAAO,sKAAsK,OAAO,+DAA+D,mCAAmC,8CAA8C,uDAAuD,wDAAwD,+BAA+B,WAAW,SAAS,EAAE,sBAAsB,OAAO,+GAA+G,OAAO,sEAAsE,0EAA0E,2BAA2B,+BAA+B,mWAAmW,OAAO,uJAAuJ,qBAAqB,kEAAkE,6BAA6B,0CAA0C,sBAAsB,wCAAwC,yCAAyC,oCAAoC,4CAA4C,SAAS,qCAAqC,+BAA+B,wBAAwB,sLAAsL,EAAE,SAAS,+BAA+B,qDAAqD,iCAAiC,EAAE,SAAS,sBAAsB,OAAO,yOAAyO,OAAO,iEAAiE,oDAAoD,6FAA6F,4BAA4B,OAAO,0OAA0O,4EAA4E,0EAA0E,oCAAoC,mCAAmC,4BAA4B,4CAA4C,sBAAsB,SAAS,OAAO,yTAAyT,kCAAkC,WAAW,iDAAiD,qBAAqB,+DAA+D,cAAc,mCAAmC,+BAA+B,uCAAuC,2CAA2C,0BAA0B,6CAA6C,yBAAyB,iDAAiD,WAAW,oHAAoH,2BAA2B,WAAW,yCAAyC,SAAS,sBAAsB,OAAO,KAAK,EAAE,GAAG,EAAE,4YAA4Y,+BAA+B,UAAU,mCAAmC,UAAU,kCAAkC,UAAU,MAAM,EAAE,6HAA6H,mBAAmB,qCAAqC,0DAA0D,gFAAgF,8CAA8C,sBAAsB,yEAAyE,uEAAuE,uEAAuE,4EAA4E,0EAA0E,0EAA0E,gBAAgB,sJAAsJ,KAAK,uCAAuC,kBAAkB,+BAA+B,0EAA0E,mBAAmB,iBAAiB,OAAO,oDAAoD,SAAS,OAAO,KAAK,qCAAqC,4GAA4G,kCAAkC,iCAAiC,yDAAyD,OAAO,6BAA6B,8DAA8D,iCAAiC,6BAA6B,8BAA8B,mCAAmC,2BAA2B,2BAA2B,wGAAwG,yFAAyF,SAAS,OAAO,iDAAiD,SAAS,gDAAgD,mNAAmN,qBAAqB,8EAA8E,4BAA4B,QAAQ,4BAA4B,+BAA+B,wCAAwC,yBAAyB,SAAS,wCAAwC,sCAAsC,6BAA6B,yBAAyB,QAAQ,4BAA4B,+BAA+B,gFAAgF,iCAAiC,8BAA8B,2BAA2B,SAAS,QAAQ,qIAAqI,gCAAgC,QAAQ,4DAA4D,MAAM,GAAG,EAAE,2iBAA2iB,mBAAmB,cAAc,wBAAwB,wBAAwB,8CAA8C,OAAO,mCAAmC,oCAAoC,oCAAoC,8CAA8C,+FAA+F,2DAA2D,uDAAuD,4CAA4C,6DAA6D,+BAA+B,mDAAmD,qDAAqD,kGAAkG,iCAAiC,uDAAuD,uBAAuB,eAAe,wDAAwD,gDAAgD,uEAAuE,iFAAiF,4FAA4F,+DAA+D,iDAAiD,0BAA0B,+EAA+E,kDAAkD,wCAAwC,0BAA0B,8EAA8E,0DAA0D,0CAA0C,aAAa,WAAW,yCAAyC,iEAAiE,mEAAmE,0FAA0F,uFAAuF,SAAS,gCAAgC,iFAAiF,iGAAiG,+RAA+R,8DAA8D,iCAAiC,uEAAuE,4DAA4D,eAAe,oCAAoC,iGAAiG,uEAAuE,qEAAqE,yFAAyF,iHAAiH,oFAAoF,+GAA+G,eAAe,mCAAmC,+DAA+D,eAAe,aAAa,EAAE,WAAW,uCAAuC,wEAAwE,uEAAuE,SAAS,yCAAyC,iCAAiC,mCAAmC,wBAAwB,4CAA4C,8CAA8C,0DAA0D,gDAAgD,gCAAgC,aAAa,EAAE,kEAAkE,WAAW,4BAA4B,SAAS,OAAO,MAAM,GAAG,EAAE,ojBAAojB,mBAAmB,+BAA+B,iBAAiB,0DAA0D,4IAA4I,OAAO,sEAAsE,+EAA+E,2BAA2B,+BAA+B,kDAAkD,mLAAmL,SAAS,OAAO,+CAA+C,6CAA6C,WAAW,kCAAkC,SAAS,qOAAqO,OAAO,KAAK,EAAE,GAAG,EAAE,+eAA+e,mBAAmB,gEAAgE,6EAA6E,0CAA0C,mEAAmE,gBAAgB,gBAAgB,yGAAyG,wBAAwB,wBAAwB,OAAO,wDAAwD,uCAAuC,yBAAyB,0BAA0B,sEAAsE,2BAA2B,4BAA4B,+DAA+D,oDAAoD,qBAAqB,OAAO,6BAA6B,qBAAqB,OAAO,6BAA6B,qCAAqC,OAAO,6BAA6B,qCAAqC,OAAO,kDAAkD,mBAAmB,OAAO,6BAA6B,mBAAmB,OAAO,6BAA6B,mCAAmC,OAAO,6BAA6B,mCAAmC,OAAO,gBAAgB,mEAAmE,KAAK,cAAc,4HAA4H,WAAW,kDAAkD,MAAM,sDAAsD,OAAO,kFAAkF,kDAAkD,yBAAyB,iBAAiB,OAAO,kEAAkE,0CAA0C,6GAA6G,6BAA6B,aAAa,WAAW,OAAO,sLAAsL,6BAA6B,aAAa,WAAW,SAAS,yBAAyB,OAAO,6GAA6G,QAAQ,kDAAkD,OAAO,yDAAyD,mBAAmB,sEAAsE,qCAAqC,2CAA2C,SAAS,8DAA8D,yCAAyC,OAAO,oGAAoG,OAAO,yCAAyC,OAAO,0CAA0C,mBAAmB,mEAAmE,kDAAkD,gDAAgD,sBAAsB,OAAO,+FAA+F,OAAO,wCAAwC,OAAO,yCAAyC,mBAAmB,iEAAiE,wBAAwB,+FAA+F,0BAA0B,qBAAqB,WAAW,qCAAqC,+BAA+B,yCAAyC,WAAW,yBAAyB,SAAS,kDAAkD,0DAA0D,6CAA6C,4EAA4E,0EAA0E,SAAS,2CAA2C,2BAA2B,WAAW,YAAY,SAAS,OAAO,8BAA8B,8BAA8B,SAAS,6BAA6B,WAAW,EAAE,sBAAsB,OAAO,MAAM,GAAG,EAAE,ydAAyd,mBAAmB,cAAc,sIAAsI,2CAA2C,8BAA8B,sBAAsB,OAAO,sHAAsH,OAAO,kCAAkC,OAAO,oCAAoC,mBAAmB,mEAAmE,wDAAwD,8CAA8C,wCAAwC,sCAAsC,SAAS,8CAA8C,gCAAgC,6BAA6B,WAAW,OAAO,+HAA+H,OAAO,4CAA4C,OAAO,8CAA8C,mBAAmB,qEAAqE,kDAAkD,yDAAyD,OAAO,MAAM,GAAG,EAAE,wvBAAwvB,mBAAmB,+FAA+F,8BAA8B,wCAAwC,oBAAoB,6BAA6B,sBAAsB,SAAS,+BAA+B,OAAO,KAAK,oCAAoC,oMAAoM,qBAAqB,gFAAgF,wCAAwC,0BAA0B,8EAA8E,uBAAuB,aAAa,WAAW,wCAAwC,iBAAiB,EAAE,wCAAwC,yBAAyB,WAAW,SAAS,OAAO,KAAK,2CAA2C,oCAAoC,4CAA4C,kHAAkH,mBAAmB,WAAW,gCAAgC,UAAU,mEAAmE,OAAO,KAAK,4CAA4C,mCAAmC,4CAA4C,gBAAgB,qCAAqC,uBAAuB,8CAA8C,WAAW,UAAU,wDAAwD,OAAO,KAAK,0CAA0C,iCAAiC,oHAAoH,4CAA4C,2MAA2M,6CAA6C,+CAA+C,iCAAiC,WAAW,UAAU,sDAAsD,OAAO,KAAK,yNAAyN,6CAA6C,wDAAwD,mBAAmB,yBAAyB,0BAA0B,OAAO,0CAA0C,+CAA+C,4DAA4D,oCAAoC,0EAA0E,eAAe,aAAa,WAAW,SAAS,OAAO,qCAAqC,wCAAwC,iDAAiD,4CAA4C,0CAA0C,KAAK,YAAY,oEAAoE,WAAW,SAAS,OAAO,0CAA0C,2CAA2C,mBAAmB,YAAY,qEAAqE,WAAW,SAAS,OAAO,KAAK,qCAAqC,4DAA4D,kBAAkB,0BAA0B,OAAO,OAAO,0BAA0B,uBAAuB,mCAAmC,gCAAgC,WAAW,SAAS,OAAO,4BAA4B,mBAAmB,mBAAmB,OAAO,gCAAgC,qBAAqB,iCAAiC,WAAW,oDAAoD,oCAAoC,mBAAmB,SAAS,OAAO,gGAAgG,uBAAuB,4DAA4D,OAAO,yBAAyB,0DAA0D,yBAAyB,OAAO,0CAA0C,KAAK,qCAAqC,mKAAmK,OAAO,6DAA6D,QAAQ,gFAAgF,wBAAwB,gCAAgC,gCAAgC,yCAAyC,8FAA8F,qCAAqC,oCAAoC,mCAAmC,SAAS,iCAAiC,sCAAsC,wCAAwC,kCAAkC,WAAW,EAAE,SAAS,kDAAkD,kCAAkC,yDAAyD,4CAA4C,sFAAsF,sCAAsC,sMAAsM,eAAe,6CAA6C,sDAAsD,wDAAwD,eAAe,EAAE,gCAAgC,aAAa,oCAAoC,WAAW,SAAS,EAAE,sCAAsC,8CAA8C,0CAA0C,+BAA+B,2BAA2B,aAAa,WAAW,EAAE,SAAS,EAAE,iCAAiC,oFAAoF,wFAAwF,SAAS,iDAAiD,0CAA0C,yEAAyE,OAAO,iCAAiC,wBAAwB,iDAAiD,2CAA2C,kDAAkD,0BAA0B,gDAAgD,aAAa,OAAO,gDAAgD,aAAa,WAAW,gDAAgD,yCAAyC,SAAS,sBAAsB,OAAO,kGAAkG,sBAAsB,8DAA8D,kDAAkD,mCAAmC,qBAAqB,0CAA0C,kBAAkB,WAAW,SAAS,yBAAyB,mCAAmC,SAAS,uBAAuB,OAAO,kGAAkG,sBAAsB,8DAA8D,iCAAiC,+BAA+B,+BAA+B,OAAO,sNAAsN,6BAA6B,OAAO,iLAAiL,wBAAwB,yDAAyD,wBAAwB,iCAAiC,SAAS,sBAAsB,OAAO,yHAAyH,iCAAiC,sBAAsB,OAAO,iCAAiC,wBAAwB,uCAAuC,0EAA0E,SAAS,+BAA+B,OAAO,KAAK,EAAE,iOAAiO,mCAAmC,qBAAqB,qCAAqC,iDAAiD,uBAAuB,qCAAqC,SAAS,OAAO,MAAM,0CAA0C,YAAY,iCAAiC,mBAAmB,yCAAyC,qCAAqC,SAAS,OAAO,0BAA0B,mBAAmB,kCAAkC,8BAA8B,SAAS,OAAO,KAAK,wBAAwB,GAAG,EAAE,muBAAmuB,mBAAmB,0CAA0C,6CAA6C,8LAA8L,6CAA6C,eAAe,OAAO,wBAAwB,kDAAkD,kDAAkD,uEAAuE,OAAO,wDAAwD,+DAA+D,oCAAoC,OAAO,kFAAkF,KAAK,gEAAgE,wDAAwD,6FAA6F,OAAO,KAAK,yCAAyC,qBAAqB,oBAAoB,OAAO,qCAAqC,sBAAsB,SAAS,OAAO,mBAAmB,KAAK,qCAAqC,yBAAyB,wBAAwB,wEAAwE,wCAAwC,uEAAuE,qDAAqD,wBAAwB,mDAAmD,0CAA0C,WAAW,SAAS,OAAO,OAAO,+BAA+B,2DAA2D,qBAAqB,oBAAoB,OAAO,+CAA+C,yMAAyM,SAAS,OAAO,2CAA2C,KAAK,sCAAsC,qCAAqC,kHAAkH,8BAA8B,iCAAiC,oBAAoB,EAAE,WAAW,gCAAgC,yBAAyB,WAAW,SAAS,OAAO,qHAAqH,OAAO,mFAAmF,wBAAwB,gCAAgC,6BAA6B,kCAAkC,SAAS,qCAAqC,4CAA4C,sCAAsC,4DAA4D,sCAAsC,4MAA4M,yCAAyC,+CAA+C,EAAE,+CAA+C,sCAAsC,SAAS,wCAAwC,sDAAsD,gHAAgH,yBAAyB,WAAW,SAAS,EAAE,wCAAwC,uBAAuB,SAAS,EAAE,2EAA2E,2CAA2C,iCAAiC,OAAO,0OAA0O,uFAAuF,iCAAiC,oDAAoD,gEAAgE,SAAS,wBAAwB,yCAAyC,sGAAsG,qCAAqC,qCAAqC,sDAAsD,6BAA6B,eAAe,EAAE,+BAA+B,WAAW,SAAS,2EAA2E,gCAAgC,4BAA4B,WAAW,oEAAoE,qCAAqC,iEAAiE,6BAA6B,eAAe,EAAE,+BAA+B,WAAW,SAAS,0EAA0E,wBAAwB,SAAS,OAAO,yOAAyO,OAAO,iEAAiE,wEAAwE,oGAAoG,sCAAsC,gDAAgD,4CAA4C,2CAA2C,yCAAyC,SAAS,8EAA8E,kDAAkD,SAAS,sCAAsC,kCAAkC,sCAAsC,+BAA+B,8CAA8C,uFAAuF,qFAAqF,4BAA4B,OAAO,+GAA+G,OAAO,sEAAsE,yFAAyF,6FAA6F,2BAA2B,+BAA+B,+BAA+B,mgBAAmgB,SAAS,6BAA6B,kFAAkF,SAAS,6CAA6C,yCAAyC,SAAS,+BAA+B,mDAAmD,SAAS,6ZAA6Z,OAAO,6GAA6G,QAAQ,0CAA0C,kBAAkB,qEAAqE,0HAA0H,0CAA0C,6CAA6C,qBAAqB,qCAAqC,yHAAyH,4CAA4C,sDAAsD,2DAA2D,2DAA2D,uCAAuC,iBAAiB,eAAe,OAAO,mCAAmC,6DAA6D,wDAAwD,+DAA+D,sCAAsC,mBAAmB,MAAM,iBAAiB,eAAe,aAAa,WAAW,EAAE,2CAA2C,mCAAmC,yBAAyB,qEAAqE,kDAAkD,oDAAoD,mFAAmF,8CAA8C,qGAAqG,WAAW,OAAO,6BAA6B,oEAAoE,sDAAsD,sDAAsD,wDAAwD,gFAAgF,2CAA2C,kDAAkD,uDAAuD,WAAW,SAAS,+BAA+B,OAAO,0IAA0I,kCAAkC,iCAAiC,iCAAiC,4BAA4B,SAAS,KAAK,wBAAwB,+BAA+B,sCAAsC,SAAS,uBAAuB,iEAAiE,6BAA6B,wBAAwB,uFAAuF,WAAW,gCAAgC,sEAAsE,WAAW,SAAS,EAAE,yCAAyC,wCAAwC,yBAAyB,WAAW,SAAS,EAAE,6BAA6B,oCAAoC,OAAO,oHAAoH,OAAO,2DAA2D,oCAAoC,oBAAoB,EAAE,OAAO,mIAAmI,mBAAmB,6DAA6D,2BAA2B,oCAAoC,sBAAsB,+BAA+B,kCAAkC,SAAS,+DAA+D,6BAA6B,qBAAqB,oCAAoC,iCAAiC,WAAW,SAAS,oDAAoD,OAAO,4IAA4I,OAAO,oEAAoE,iEAAiE,8CAA8C,OAAO,KAAK,EAAE,2BAA2B,oBAAoB,GAAG,EAAE,+gBAA+gB,mBAAmB,sCAAsC,kHAAkH,OAAO,mFAAmF,oBAAoB,yMAAyM,+CAA+C,mBAAmB,uHAAuH,UAAU,gCAAgC,OAAO,mBAAmB,0GAA0G,OAAO,+IAA+I,OAAO,0JAA0J,OAAO,2JAA2J,OAAO,kNAAkN,OAAO,yFAAyF,qEAAqE,0DAA0D,oBAAoB,4IAA4I,+CAA+C,iCAAiC,eAAe,cAAc,WAAW,uCAAuC,2KAA2K,oBAAoB,0MAA0M,mEAAmE,yDAAyD,eAAe,oBAAoB,6GAA6G,oBAAoB,WAAW,+BAA+B,4UAA4U,mKAAmK,uCAAuC,4DAA4D,aAAa,yEAAyE,8BAA8B,aAAa,WAAW,mCAAmC,SAAS,yGAAyG,OAAO,2DAA2D,SAAS,qHAAqH,8CAA8C,wBAAwB,gBAAgB,WAAW,yCAAyC,6CAA6C,SAAS,6GAA6G,OAAO,6DAA6D,SAAS,uHAAuH,8CAA8C,wBAAwB,gBAAgB,WAAW,yCAAyC,kDAAkD,+CAA+C,SAAS,OAAO,KAAK,EAAE,wBAAwB,GAAG,EAAE,ssBAAssB,oEAAoE,GAAG,6BAA6B,EAAE,gJAAgJ,oNAAoN,0EAA0E,4EAA4E,MAAM,EAAE,oIAAoI,6BAA6B,oCAAoC,qCAAqC,6BAA6B,6CAA6C,SAAS,OAAO,qCAAqC,mCAAmC,2BAA2B,EAAE,OAAO,sCAAsC,oCAAoC,2BAA2B,EAAE,OAAO,+BAA+B,wCAAwC,+BAA+B,uBAAuB,6BAA6B,SAAS,OAAO,EAAE,qFAAqF,OAAO,yGAAyG,OAAO,sEAAsE,OAAO,sCAAsC,OAAO,8DAA8D,OAAO,yCAAyC,OAAO,2CAA2C,QAAQ,8LAA8L,gBAAgB,iDAAiD,yCAAyC,gEAAgE,iCAAiC,uDAAuD,yDAAyD,SAAS,gDAAgD,wBAAwB,uLAAuL,SAAS,2CAA2C,uCAAuC,qDAAqD,2CAA2C,cAAc,gBAAgB,qCAAqC,0BAA0B,cAAc,YAAY,SAAS,iCAAiC,0BAA0B,sCAAsC,iCAAiC,yBAAyB,qCAAqC,mCAAmC,aAAa,WAAW,kCAAkC,2BAA2B,WAAW,gCAAgC,SAAS,EAAE,gDAAgD,2CAA2C,gDAAgD,qCAAqC,wCAAwC,4CAA4C,eAAe,aAAa,EAAE,WAAW,EAAE,SAAS,wEAAwE,kCAAkC,oIAAoI,+BAA+B,SAAS,wCAAwC,6BAA6B,qBAAqB,QAAQ,yNAAyN,OAAO,kEAAkE,SAAS,2FAA2F,OAAO,sNAAsN,gEAAgE,gBAAgB,sDAAsD,yBAAyB,yCAAyC,WAAW,OAAO,2BAA2B,WAAW,SAAS,EAAE,sCAAsC,8BAA8B,SAAS,EAAE,6BAA6B,QAAQ,6NAA6N,OAAO,oEAAoE,SAAS,qGAAqG,OAAO,0RAA0R,kFAAkF,oFAAoF,UAAU,EAAE,kEAAkE,gBAAgB,6DAA6D,8CAA8C,SAAS,EAAE,sCAAsC,8BAA8B,SAAS,EAAE,6BAA6B,QAAQ,qHAAqH,iCAAiC,qCAAqC,SAAS,QAAQ,6QAA6Q,oDAAoD,OAAO,mHAAmH,qEAAqE,QAAQ,iHAAiH,OAAO,0GAA0G,iCAAiC,6CAA6C,SAAS,QAAQ,qHAAqH,MAAM,oFAAoF,uBAAuB,QAAQ,MAAM,GAAG,EAAE,sjBAAsjB,2BAA2B,2CAA2C,kDAAkD,+GAA+G,OAAO,sEAAsE,mDAAmD,2TAA2T,OAAO,iCAAiC,wBAAwB,oDAAoD,kEAAkE,SAAS,EAAE,+BAA+B,OAAO,uIAAuI,qCAAqC,qCAAqC,gCAAgC,qCAAqC,kCAAkC,uCAAuC,OAAO,KAAK,EAAE,GAAG,EAAE,gjBAAgjB,mBAAmB,kBAAkB,mCAAmC,kHAAkH,OAAO,6DAA6D,OAAO,kEAAkE,QAAQ,kFAAkF,OAAO,6EAA6E,wBAAwB,gCAAgC,iCAAiC,6BAA6B,8DAA8D,6CAA6C,yDAAyD,sCAAsC,qHAAqH,oEAAoE,mEAAmE,mEAAmE,mDAAmD,aAAa,OAAO,6BAA6B,aAAa,WAAW,EAAE,8DAA8D,kCAAkC,WAAW,EAAE,SAAS,qEAAqE,OAAO,4GAA4G,mBAAmB,sDAAsD,uBAAuB,iCAAiC,gBAAgB,EAAE,6BAA6B,SAAS,yBAAyB,OAAO,0IAA0I,kDAAkD,wBAAwB,sEAAsE,gCAAgC,yBAAyB,SAAS,mCAAmC,uBAAuB,SAAS,OAAO,iCAAiC,wBAAwB,mCAAmC,uCAAuC,iDAAiD,SAAS,kCAAkC,sCAAsC,+CAA+C,SAAS,wDAAwD,2BAA2B,SAAS,EAAE,sDAAsD,0BAA0B,SAAS,EAAE,2CAA2C,wBAAwB,SAAS,yCAAyC,uBAAuB,SAAS,+BAA+B,OAAO,mIAAmI,mBAAmB,6DAA6D,sBAAsB,wBAAwB,2BAA2B,yBAAyB,SAAS,OAAO,KAAK,EAAE,oBAAoB,GAAG,EAAE,6eAA6e,mBAAmB,4BAA4B,iBAAiB,uBAAuB,mCAAmC,wBAAwB,gCAAgC,qCAAqC,sCAAsC,kDAAkD,qCAAqC,YAAY,SAAS,OAAO,iCAAiC,kEAAkE,sTAAsT,OAAO,iCAAiC,wBAAwB,wBAAwB,wCAAwC,sBAAsB,OAAO,iCAAiC,wBAAwB,oCAAoC,8CAA8C,yDAAyD,uEAAuE,SAAS,qDAAqD,4BAA4B,SAAS,EAAE,4CAA4C,+BAA+B,OAAO,KAAK,EAAE,GAAG,EAAE,8pBAA8pB,2BAA2B,2CAA2C,6CAA6C,mCAAmC,wBAAwB,gCAAgC,8BAA8B,mCAAmC,SAAS,8BAA8B,oCAAoC,SAAS,+BAA+B,sCAAsC,SAAS,8BAA8B,4DAA4D,SAAS,4GAA4G,mCAAmC,SAAS,OAAO,wCAAwC,kCAAkC,SAAS,qCAAqC,4CAA4C,SAAS,wCAAwC,6EAA6E,yBAAyB,WAAW,SAAS,EAAE,OAAO,+GAA+G,OAAO,sEAAsE,0HAA0H,0BAA0B,8FAA8F,SAAS,2BAA2B,gFAAgF,SAAS,iCAAiC,sHAAsH,SAAS,iCAAiC,sDAAsD,SAAS,+UAA+U,OAAO,iCAAiC,wBAAwB,uCAAuC,qDAAqD,SAAS,EAAE,+BAA+B,OAAO,iCAAiC,wBAAwB,oDAAoD,yDAAyD,SAAS,EAAE,+BAA+B,wCAAwC,SAAS,6BAA6B,OAAO,4BAA4B,wBAAwB,yDAAyD,wBAAwB,SAAS,sBAAsB,OAAO,uIAAuI,qCAAqC,qCAAqC,gCAAgC,qCAAqC,kCAAkC,8IAA8I,OAAO,KAAK,EAAE,GAAG,EAAE,mjBAAmjB,8DAA8D,EAAE,gLAAgL,6BAA6B,0CAA0C,wCAAwC,mCAAmC,yDAAyD,SAAS,OAAO,2CAA2C,sCAAsC,gDAAgD,qCAAqC,kCAAkC,SAAS,EAAE,OAAO,6PAA6P,uBAAuB,0BAA0B,OAAO,wCAAwC,SAAS,OAAO,0CAA0C,uCAAuC,uDAAuD,iGAAiG,gDAAgD,yCAAyC,2BAA2B,0BAA0B,OAAO,8EAA8E,aAAa,WAAW,SAAS,OAAO,wCAAwC,qCAAqC,uBAAuB,mCAAmC,SAAS,OAAO,EAAE,yDAAyD,mDAAmD,2FAA2F,OAAO,wIAAwI,2FAA2F,iBAAiB,SAAS,oBAAoB,iDAAiD,oEAAoE,mCAAmC,yCAAyC,oCAAoC,yEAAyE,mDAAmD,8BAA8B,eAAe,gBAAgB,WAAW,0CAA0C,yCAAyC,gCAAgC,wDAAwD,aAAa,2BAA2B,+CAA+C,2CAA2C,eAAe,aAAa,sCAAsC,WAAW,EAAE,6BAA6B,oCAAoC,SAAS,OAAO,4BAA4B,SAAS,uBAAuB,QAAQ,2HAA2H,oCAAoC,wCAAwC,SAAS,QAAQ,iIAAiI,MAAM,gGAAgG,6BAA6B,QAAQ,4CAA4C,6DAA6D,+BAA+B,2CAA2C,mHAAmH,EAAE,SAAS,OAAO,EAAE,4KAA4K,eAAe,oEAAoE,eAAe,6DAA6D,cAAc,kFAAkF,wDAAwD,sBAAsB,SAAS,6FAA6F,mEAAmE,SAAS,EAAE,sFAAsF,OAAO,2JAA2J,2BAA2B,kDAAkD,aAAa,wCAAwC,QAAQ,kDAAkD,wEAAwE,OAAO,kIAAkI,aAAa,wDAAwD,QAAQ,+DAA+D,kEAAkE,OAAO,6DAA6D,MAAM,GAAG,EAAE,+dAA+d,uDAAuD,oBAAoB,cAAc,sCAAsC,sCAAsC,8DAA8D,OAAO,oBAAoB,KAAK,wCAAwC,4BAA4B,kDAAkD,QAAQ,OAAO,mCAAmC,8CAA8C,sBAAsB,SAAS,mCAAmC,OAAO,oBAAoB,KAAK,cAAc,iDAAiD,GAAG,EAAE,u+BAAu+B,6BAA6B,0CAA0C,kMAAkM,oEAAoE,2DAA2D,sDAAsD,+KAA+K,aAAa,yDAAyD,SAAS,aAAa,4BAA4B,OAAO,gGAAgG,wDAAwD,iDAAiD,OAAO,kHAAkH,MAAM,kCAAkC,QAAQ,4FAA4F,sCAAsC,OAAO,+VAA+V,UAAU,iEAAiE,2CAA2C,+BAA+B,4EAA4E,uCAAuC,WAAW,0DAA0D,2IAA2I,qGAAqG,yEAAyE,WAAW,SAAS,OAAO,uVAAuV,UAAU,kCAAkC,OAAO,uEAAuE,4BAA4B,+BAA+B,wEAAwE,wFAAwF,6FAA6F,sBAAsB,6GAA6G,WAAW,SAAS,sBAAsB,OAAO,4LAA4L,OAAO,kGAAkG,wEAAwE,kEAAkE,iBAAiB,EAAE,SAAS,OAAO,iEAAiE,SAAS,OAAO,qqCAAqqC,kFAAkF,kFAAkF,kJAAkJ,6BAA6B,2CAA2C,qCAAqC,sCAAsC,qDAAqD,4BAA4B,qCAAqC,EAAE,aAAa,wCAAwC,qDAAqD,4BAA4B,0CAA0C,EAAE,aAAa,6CAA6C,4BAA4B,+EAA+E,wFAAwF,4EAA4E,8EAA8E,cAAc,4CAA4C,kFAAkF,2FAA2F,+EAA+E,iFAAiF,cAAc,6CAA6C,6BAA6B,cAAc,YAAY,SAAS,uCAAuC,yFAAyF,wCAAwC,yBAAyB,WAAW,kBAAkB,mDAAmD,0BAA0B,mCAAmC,2BAA2B,aAAa,WAAW,wBAAwB,SAAS,6DAA6D,mBAAmB,0CAA0C,uBAAuB,2BAA2B,uEAAuE,uBAAuB,aAAa,mCAAmC,2BAA2B,aAAa,WAAW,kCAAkC,SAAS,4DAA4D,gDAAgD,keAAke,mBAAmB,WAAW,gEAAgE,6DAA6D,qEAAqE,+EAA+E,6BAA6B,aAAa,qEAAqE,6BAA6B,aAAa,WAAW,SAAS,sDAAsD,uFAAuF,gCAAgC,mBAAmB,WAAW,6GAA6G,qGAAqG,mEAAmE,yCAAyC,mBAAmB,WAAW,mGAAmG,mBAAmB,WAAW,qHAAqH,mBAAmB,WAAW,iCAAiC,+DAA+D,yDAAyD,yCAAyC,sDAAsD,WAAW,iCAAiC,kCAAkC,gDAAgD,uDAAuD,oDAAoD,kDAAkD,eAAe,OAAO,mDAAmD,iDAAiD,eAAe,aAAa,OAAO,yEAAyE,uEAAuE,aAAa,WAAW,2BAA2B,+CAA+C,iDAAiD,+CAA+C,aAAa,OAAO,8CAA8C,4CAA4C,aAAa,WAAW,kCAAkC,wBAAwB,SAAS,wDAAwD,wFAAwF,iCAAiC,uBAAuB,WAAW,2CAA2C,mCAAmC,0CAA0C,4BAA4B,mDAAmD,2BAA2B,eAAe,aAAa,OAAO,+BAA+B,2BAA2B,eAAe,aAAa,WAAW,8DAA8D,4DAA4D,kFAAkF,wEAAwE,6FAA6F,iDAAiD,uBAAuB,WAAW,kEAAkE,6BAA6B,4EAA4E,2BAA2B,eAAe,oDAAoD,yDAAyD,sDAAsD,iBAAiB,OAAO,qDAAqD,iBAAiB,eAAe,OAAO,2EAA2E,eAAe,8CAA8C,8BAA8B,6CAA6C,iBAAiB,OAAO,8CAA8C,iBAAiB,eAAe,OAAO,4CAA4C,eAAe,aAAa,OAAO,4EAA4E,2BAA2B,eAAe,8CAA8C,mDAAmD,gDAAgD,iBAAiB,OAAO,+CAA+C,iBAAiB,eAAe,OAAO,+DAA+D,eAAe,oDAAoD,+CAA+C,eAAe,OAAO,kDAAkD,eAAe,aAAa,WAAW,uBAAuB,SAAS,0DAA0D,uCAAuC,sDAAsD,oDAAoD,wBAAwB,WAAW,SAAS,6TAA6T,yHAAyH,gEAAgE,+EAA+E,4EAA4E,aAAa,EAAE,sDAAsD,uFAAuF,uDAAuD,kDAAkD,+DAA+D,oDAAoD,eAAe,OAAO,oDAAoD,eAAe,oDAAoD,kCAAkC,aAAa,EAAE,8CAA8C,oCAAoC,oDAAoD,iDAAiD,uCAAuC,mCAAmC,2CAA2C,0BAA0B,aAAa,0BAA0B,WAAW,wCAAwC,8EAA8E,WAAW,iCAAiC,mBAAmB,WAAW,2CAA2C,mCAAmC,2DAA2D,uCAAuC,mBAAmB,WAAW,0CAA0C,qDAAqD,yDAAyD,qBAAqB,aAAa,8BAA8B,6CAA6C,aAAa,OAAO,iDAAiD,aAAa,0FAA0F,mEAAmE,oCAAoC,4BAA4B,eAAe,aAAa,WAAW,oCAAoC,wDAAwD,sDAAsD,+DAA+D,8BAA8B,oDAAoD,uBAAuB,eAAe,gDAAgD,aAAa,OAAO,gCAAgC,uBAAuB,eAAe,oDAAoD,aAAa,gDAAgD,oEAAoE,aAAa,WAAW,SAAS,4CAA4C,kDAAkD,wDAAwD,mBAAmB,WAAW,kFAAkF,0EAA0E,qDAAqD,aAAa,yJAAyJ,qFAAqF,aAAa,WAAW,EAAE,6HAA6H,EAAE,qDAAqD,oIAAoI,EAAE,6FAA6F,4CAA4C,uDAAuD,yEAAyE,kEAAkE,qBAAqB,aAAa,8GAA8G,0EAA0E,+BAA+B,gEAAgE,eAAe,OAAO,yDAAyD,eAAe,aAAa,mIAAmI,uFAAuF,sCAAsC,6CAA6C,2CAA2C,8CAA8C,iBAAiB,yCAAyC,kCAAkC,kDAAkD,gDAAgD,+CAA+C,iBAAiB,eAAe,aAAa,EAAE,WAAW,EAAE,0CAA0C,0HAA0H,oDAAoD,WAAW,EAAE,SAAS,oDAAoD,mDAAmD,oCAAoC,WAAW,EAAE,SAAS,4CAA4C,qFAAqF,kFAAkF,0GAA0G,8EAA8E,qBAAqB,aAAa,mEAAmE,iCAAiC,qBAAqB,aAAa,qKAAqK,4EAA4E,uBAAuB,eAAe,aAAa,iCAAiC,iCAAiC,4IAA4I,aAAa,sCAAsC,WAAW,SAAS,EAAE,wGAAwG,+GAA+G,wFAAwF,8CAA8C,uDAAuD,+BAA+B,gJAAgJ,4EAA4E,aAAa,EAAE,iCAAiC,kIAAkI,yDAAyD,aAAa,EAAE,6EAA6E,kDAAkD,mEAAmE,yDAAyD,qDAAqD,kEAAkE,uDAAuD,iBAAiB,OAAO,yCAAyC,uDAAuD,iBAAiB,uDAAuD,eAAe,EAAE,gFAAgF,gKAAgK,6CAA6C,4DAA4D,eAAe,OAAO,6CAA6C,eAAe,sDAAsD,kDAAkD,2CAA2C,aAAa,OAAO,oDAAoD,aAAa,WAAW,SAAS,EAAE,kDAAkD,yBAAyB,SAAS,EAAE,yDAAyD,6BAA6B,SAAS,EAAE,mHAAmH,iBAAiB,SAAS,8CAA8C,4CAA4C,mCAAmC,SAAS,EAAE,yCAAyC,uCAAuC,2DAA2D,oCAAoC,iCAAiC,2YAA2Y,gFAAgF,qCAAqC,iDAAiD,sCAAsC,yCAAyC,iBAAiB,6CAA6C,8DAA8D,eAAe,EAAE,aAAa,WAAW,SAAS,EAAE,wCAAwC,6FAA6F,+BAA+B,wCAAwC,gFAAgF,+EAA+E,eAAe,GAAG,4SAA4S,yCAAyC,aAAa,EAAE,WAAW,SAAS,EAAE,OAAO,8SAA8S,oCAAoC,0CAA0C,6CAA6C,qCAAqC,uDAAuD,eAAe,EAAE,SAAS,6CAA6C,8BAA8B,2BAA2B,2BAA2B,aAAa,4CAA4C,wDAAwD,0DAA0D,WAAW,8CAA8C,yCAAyC,8CAA8C,oDAAoD,4CAA4C,SAAS,4CAA4C,qDAAqD,6KAA6K,yDAAyD,oCAAoC,sHAAsH,qBAAqB,aAAa,iKAAiK,qBAAqB,aAAa,yEAAyE,kCAAkC,oEAAoE,qEAAqE,aAAa,OAAO,0DAA0D,aAAa,mCAAmC,WAAW,SAAS,EAAE,OAAO,4UAA4U,0DAA0D,OAAO,6kBAA6kB,gDAAgD,kQAAkQ,iDAAiD,WAAW,EAAE,uRAAuR,oBAAoB,gEAAgE,uCAAuC,uCAAuC,4CAA4C,0EAA0E,yBAAyB,iBAAiB,6LAA6L,eAAe,OAAO,sCAAsC,eAAe,aAAa,WAAW,EAAE,SAAS,OAAO,4nBAA4nB,0CAA0C,kEAAkE,sKAAsK,qBAAqB,aAAa,wFAAwF,6CAA6C,yDAAyD,4CAA4C,iCAAiC,mCAAmC,uBAAuB,eAAe,uHAAuH,4CAA4C,mCAAmC,eAAe,aAAa,WAAW,SAAS,EAAE,OAAO,6KAA6K,gMAAgM,8FAA8F,2EAA2E,0CAA0C,iGAAiG,iHAAiH,6BAA6B,eAAe,EAAE,aAAa,WAAW,EAAE,SAAS,OAAO,yMAAyM,wCAAwC,gCAAgC,+PAA+P,+BAA+B,qCAAqC,iCAAiC,WAAW,oFAAoF,+BAA+B,qCAAqC,WAAW,SAAS,EAAE,OAAO,kbAAkb,8CAA8C,+EAA+E,+BAA+B,8CAA8C,gDAAgD,qDAAqD,+CAA+C,8DAA8D,eAAe,EAAE,aAAa,YAAY,SAAS,gDAAgD,2JAA2J,SAAS,6CAA6C,8BAA8B,+GAA+G,0DAA0D,+DAA+D,8BAA8B,+BAA+B,yBAAyB,WAAW,SAAS,EAAE,wDAAwD,8BAA8B,wEAAwE,0DAA0D,yDAAyD,gCAAgC,aAAa,EAAE,WAAW,SAAS,EAAE,OAAO,oJAAoJ,8DAA8D,OAAO,iOAAiO,0CAA0C,kEAAkE,sFAAsF,wEAAwE,wHAAwH,mCAAmC,6BAA6B,eAAe,aAAa,WAAW,SAAS,EAAE,OAAO,iPAAiP,sGAAsG,iBAAiB,SAAS,2QAA2Q,2DAA2D,cAAc,GAAG,yDAAyD,6HAA6H,2DAA2D,yBAAyB,4CAA4C,+BAA+B,yBAAyB,iCAAiC,mIAAmI,sGAAsG,uCAAuC,eAAe,OAAO,qFAAqF,eAAe,aAAa,WAAW,SAAS,EAAE,2LAA2L,2DAA2D,yBAAyB,4CAA4C,+BAA+B,yBAAyB,iCAAiC,mCAAmC,iDAAiD,sEAAsE,eAAe,aAAa,WAAW,SAAS,EAAE,OAAO,sLAAsL,0DAA0D,gDAAgD,+FAA+F,6GAA6G,2EAA2E,8CAA8C,aAAa,kHAAkH,4EAA4E,+CAA+C,aAAa,WAAW,SAAS,EAAE,OAAO,oQAAoQ,qFAAqF,mDAAmD,qEAAqE,mBAAmB,WAAW,qCAAqC,yCAAyC,mCAAmC,+BAA+B,6BAA6B,iDAAiD,mBAAmB,WAAW,wHAAwH,uCAAuC,WAAW,8GAA8G,oGAAoG,+FAA+F,uCAAuC,qCAAqC,kCAAkC,WAAW,SAAS,EAAE,OAAO,mMAAmM,4BAA4B,mCAAmC,2DAA2D,qEAAqE,4CAA4C,mEAAmE,WAAW,SAAS,mCAAmC,4DAA4D,SAAS,OAAO,iZAAiZ,6BAA6B,gDAAgD,mEAAmE,kDAAkD,8DAA8D,4FAA4F,yBAAyB,iBAAiB,qDAAqD,eAAe,2CAA2C,oBAAoB,EAAE,aAAa,WAAW,EAAE,SAAS,2DAA2D,0EAA0E,uBAAuB,WAAW,SAAS,EAAE,OAAO,oNAAoN,yCAAyC,wCAAwC,2FAA2F,WAAW,EAAE,SAAS,OAAO,oJAAoJ,0CAA0C,kBAAkB,mEAAmE,0DAA0D,kCAAkC,iCAAiC,gDAAgD,sCAAsC,uCAAuC,aAAa,WAAW,SAAS,EAAE,OAAO,+TAA+T,2BAA2B,wDAAwD,8BAA8B,wEAAwE,mEAAmE,WAAW,EAAE,yDAAyD,8BAA8B,GAAG,SAAS,OAAO,sQAAsQ,oCAAoC,4DAA4D,iDAAiD,2BAA2B,8BAA8B,yCAAyC,+BAA+B,gEAAgE,eAAe,aAAa,WAAW,EAAE,kEAAkE,wDAAwD,2BAA2B,8BAA8B,6CAA6C,+BAA+B,iEAAiE,eAAe,OAAO,2JAA2J,4BAA4B,wDAAwD,kDAAkD,yCAAyC,sCAAsC,wCAAwC,iBAAiB,eAAe,aAAa,WAAW,EAAE,SAAS,OAAO,8MAA8M,uEAAuE,8FAA8F,2CAA2C,iBAAiB,kCAAkC,WAAW,aAAa,+FAA+F,WAAW,uBAAuB,SAAS,uFAAuF,uBAAuB,0EAA0E,6FAA6F,6BAA6B,mKAAmK,+DAA+D,eAAe,OAAO,2DAA2D,eAAe,kCAAkC,aAAa,WAAW,OAAO,2BAA2B,WAAW,SAAS,+DAA+D,gDAAgD,6JAA6J,8BAA8B,WAAW,qDAAqD,wDAAwD,iCAAiC,SAAS,0IAA0I,8GAA8G,6CAA6C,0BAA0B,6BAA6B,aAAa,iKAAiK,8DAA8D,qBAAqB,aAAa,0BAA0B,iFAAiF,2BAA2B,wGAAwG,0DAA0D,sCAAsC,gCAAgC,aAAa,WAAW,SAAS,EAAE,OAAO,qPAAqP,4LAA4L,yDAAyD,kCAAkC,WAAW,SAAS,QAAQ,OAAO,2IAA2I,8DAA8D,+CAA+C,+BAA+B,8CAA8C,WAAW,OAAO,oaAAoa,6BAA6B,2CAA2C,0DAA0D,sCAAsC,aAAa,WAAW,EAAE,SAAS,OAAO,2oBAA2oB,6BAA6B,2CAA2C,kBAAkB,GAAG,0CAA0C,oBAAoB,gDAAgD,gLAAgL,yCAAyC,uBAAuB,eAAe,yJAAyJ,uCAAuC,2CAA2C,2CAA2C,mCAAmC,aAAa,WAAW,EAAE,SAAS,OAAO,+QAA+Q,sBAAsB,4CAA4C,8FAA8F,iCAAiC,iHAAiH,aAAa,WAAW,EAAE,SAAS,OAAO,qJAAqJ,wDAAwD,OAAO,qRAAqR,wCAAwC,6BAA6B,gBAAgB,sCAAsC,iCAAiC,qBAAqB,aAAa,WAAW,gCAAgC,SAAS,EAAE,wDAAwD,4BAA4B,GAAG,OAAO,0TAA0T,6CAA6C,oDAAoD,2BAA2B,sCAAsC,4CAA4C,+DAA+D,mBAAmB,WAAW,2CAA2C,iDAAiD,qDAAqD,sDAAsD,qBAAqB,aAAa,wEAAwE,qBAAqB,aAAa,wEAAwE,qBAAqB,aAAa,sBAAsB,uCAAuC,4FAA4F,wCAAwC,aAAa,EAAE,gDAAgD,+CAA+C,8RAA8R,mCAAmC,aAAa,WAAW,EAAE,SAAS,EAAE,OAAO,2OAA2O,sCAAsC,mEAAmE,+BAA+B,WAAW,EAAE,SAAS,EAAE,OAAO,8TAA8T,oDAAoD,+BAA+B,yBAAyB,wEAAwE,gCAAgC,aAAa,WAAW,SAAS,EAAE,OAAO,iRAAiR,4CAA4C,mCAAmC,SAAS,EAAE,yCAAyC,uCAAuC,2DAA2D,uEAAuE,iCAAiC,uFAAuF,oCAAoC,4DAA4D,aAAa,WAAW,SAAS,EAAE,OAAO,2CAA2C,kFAAkF,6BAA6B,gBAAgB,yBAAyB,mBAAmB,SAAS,yFAAyF,iEAAiE,OAAO,2OAA2O,+CAA+C,8DAA8D,8CAA8C,gEAAgE,4DAA4D,qDAAqD,mDAAmD,uMAAuM,SAAS,qKAAqK,+GAA+G,+CAA+C,iCAAiC,iEAAiE,8DAA8D,+CAA+C,mCAAmC,aAAa,WAAW,SAAS,EAAE,6CAA6C,kCAAkC,wFAAwF,+CAA+C,iCAAiC,oCAAoC,mCAAmC,aAAa,WAAW,SAAS,EAAE,OAAO,2DAA2D,gCAAgC,gKAAgK,6BAA6B,OAAO,sCAAsC,wCAAwC,oCAAoC,2BAA2B,gCAAgC,8BAA8B,sCAAsC,qCAAqC,oCAAoC,8BAA8B,sCAAsC,kCAAkC,uBAAuB,8BAA8B,SAAS,OAAO,sBAAsB,SAAS,OAAO,6CAA6C,8BAA8B,uCAAuC,mCAAmC,yDAAyD,uCAAuC,+BAA+B,+BAA+B,iDAAiD,OAAO,2BAA2B,qBAAqB,qCAAqC,OAAO,qBAAqB,oBAAoB,+BAA+B,gCAAgC,OAAO,oCAAoC,wCAAwC,8BAA8B,oBAAoB,sDAAsD,iCAAiC,8BAA8B,8BAA8B,kCAAkC,qCAAqC,OAAO,gBAAgB,yFAAyF,MAAM,GAAG,EAAE,inBAAinB,qDAAqD,4RAA4R,eAAe,gEAAgE,OAAO,mEAAmE,iBAAiB,mGAAmG,2CAA2C,+BAA+B,OAAO,0PAA0P,+CAA+C,OAAO,oGAAoG,gCAAgC,uEAAuE,SAAS,kCAAkC,OAAO,gCAAgC,KAAK,mKAAmK,eAAe,gEAAgE,OAAO,6GAA6G,qEAAqE,sCAAsC,kDAAkD,OAAO,gCAAgC,8BAA8B,OAAO,0CAA0C,eAAe,OAAO,yCAAyC,wCAAwC,wCAAwC,8DAA8D,qBAAqB,uDAAuD,6CAA6C,wDAAwD,kEAAkE,iBAAiB,kDAAkD,eAAe,aAAa,WAAW,EAAE,SAAS,oDAAoD,iBAAiB,SAAS,kCAAkC,4FAA4F,yBAAyB,4CAA4C,mEAAmE,4CAA4C,8CAA8C,eAAe,aAAa,WAAW,UAAU,yDAAyD,oDAAoD,OAAO,OAAO,gCAAgC,oCAAoC,sCAAsC,WAAW,UAAU,sDAAsD,+CAA+C,OAAO,KAAK,8BAA8B,gMAAgM,wBAAwB,gEAAgE,wCAAwC,SAAS,EAAE,OAAO,kRAAkR,wBAAwB,yHAAyH,iBAAiB,SAAS,sBAAsB,iCAAiC,0CAA0C,WAAW,OAAO,6CAA6C,iDAAiD,aAAa,OAAO,mDAAmD,aAAa,WAAW,SAAS,6BAA6B,kFAAkF,sCAAsC,SAAS,OAAO,qMAAqM,8BAA8B,+BAA+B,wCAAwC,oFAAoF,WAAW,kCAAkC,SAAS,6BAA6B,uCAAuC,yCAAyC,yCAAyC,SAAS,0CAA0C,6CAA6C,OAAO,MAAM,wCAAwC,gCAAgC,8BAA8B,GAAG,EAAE,wYAAwY,wDAAwD,WAAW,uDAAuD,OAAO,aAAa,wBAAwB,KAAK,qCAAqC,0BAA0B,kCAAkC,+BAA+B,8DAA8D,6BAA6B,SAAS,QAAQ,kDAAkD,gBAAgB,4BAA4B,sDAAsD,SAAS,QAAQ,KAAK,8CAA8C,iCAAiC,sCAAsC,oCAAoC,OAAO,oBAAoB,oDAAoD,2DAA2D,+BAA+B,iDAAiD,OAAO,OAAO,gCAAgC,gDAAgD,+DAA+D,2EAA2E,uEAAuE,uBAAuB,6BAA6B,OAAO,KAAK,sCAAsC,gEAAgE,kCAAkC,eAAe,OAAO,iCAAiC,mDAAmD,OAAO,OAAO,sCAAsC,qDAAqD,SAAS,EAAE,OAAO,oEAAoE,WAAW,EAAE,KAAK,cAAc,4BAA4B,GAAG,EAAE,0bAA0b,EAAE,iDAAiD,EAAE,uGAAuG,EAAE,mDAAmD,EAAE,yKAAyK,mDAAmD,2BAA2B,6DAA6D,sEAAsE,+BAA+B,qCAAqC,uBAAuB,yCAAyC,mCAAmC,iHAAiH,uCAAuC,mCAAmC,WAAW,OAAO,sFAAsF,GAAG,iBAAiB,qDAAqD,aAAa,OAAO,sDAAsD,2FAA2F,aAAa,WAAW,SAAS,EAAE,mIAAmI,oCAAoC,8BAA8B,yBAAyB,WAAW,OAAO,kCAAkC,WAAW,SAAS,mCAAmC,0GAA0G,8BAA8B,0BAA0B,iCAAiC,WAAW,OAAO,kCAAkC,WAAW,SAAS,sGAAsG,wBAAwB,iCAAiC,WAAW,OAAO,iCAAiC,kCAAkC,WAAW,SAAS,0BAA0B,OAAO,gEAAgE,sBAAsB,sEAAsE,yFAAyF,iEAAiE,EAAE,6CAA6C,yFAAyF,EAAE,OAAO,iCAAiC,kDAAkD,OAAO,mCAAmC,8EAA8E,OAAO,6CAA6C,wBAAwB,uBAAuB,SAAS,yEAAyE,uBAAuB,SAAS,yEAAyE,uBAAuB,SAAS,iGAAiG,6BAA6B,sBAAsB,SAAS,uBAAuB,OAAO,kDAAkD,yEAAyE,OAAO,yDAAyD,8EAA8E,8CAA8C,6CAA6C,8DAA8D,4CAA4C,gDAAgD,eAAe,4BAA4B,aAAa,WAAW,EAAE,uDAAuD,+CAA+C,0CAA0C,0DAA0D,eAAe,aAAa,sCAAsC,WAAW,SAAS,OAAO,EAAE,uHAAuH,OAAO,yEAAyE,OAAO,wDAAwD,gBAAgB,6FAA6F,OAAO,mEAAmE,QAAQ,sHAAsH,gBAAgB,wBAAwB,4CAA4C,gCAAgC,iDAAiD,YAAY,SAAS,+BAA+B,gCAAgC,uDAAuD,YAAY,SAAS,8EAA8E,uEAAuE,4CAA4C,SAAS,EAAE,sBAAsB,QAAQ,0GAA0G,OAAO,0EAA0E,QAAQ,qGAAqG,+CAA+C,uCAAuC,wCAAwC,sBAAsB,SAAS,uBAAuB,QAAQ,MAAM,GAAG,EAAE,ocAAoc,2IAA2I,0BAA0B,MAAM,EAAE,2DAA2D,kBAAkB,EAAE,8JAA8J,6CAA6C,+BAA+B,qCAAqC,4BAA4B,wBAAwB,8HAA8H,wEAAwE,iDAAiD,OAAO,yCAAyC,oBAAoB,6EAA6E,SAAS,uBAAuB,OAAO,2CAA2C,gBAAgB,wJAAwJ,OAAO,uEAAuE,0BAA0B,qCAAqC,uCAAuC,mDAAmD,+CAA+C,6CAA6C,UAAU,oCAAoC,6FAA6F,UAAU,mCAAmC,mBAAmB,oCAAoC,mDAAmD,mBAAmB,WAAW,gDAAgD,8DAA8D,2DAA2D,mBAAmB,WAAW,gEAAgE,UAAU,oCAAoC,sEAAsE,6BAA6B,OAAO,6BAA6B,8CAA8C,sBAAsB,SAAS,EAAE,OAAO,gDAAgD,gBAAgB,gFAAgF,OAAO,kDAAkD,gBAAgB,uGAAuG,OAAO,kDAAkD,gEAAgE,0BAA0B,SAAS,EAAE,0CAA0C,OAAO,sEAAsE,qDAAqD,gDAAgD,qCAAqC,mCAAmC,YAAY,iBAAiB,gDAAgD,iCAAiC,qCAAqC,gCAAgC,+CAA+C,cAAc,2CAA2C,kCAAkC,iEAAiE,gFAAgF,qDAAqD,cAAc,6CAA6C,kCAAkC,4DAA4D,kFAAkF,uDAAuD,cAAc,4CAA4C,iDAAiD,uBAAuB,eAAe,oCAAoC,kDAAkD,eAAe,wDAAwD,cAAc,4EAA4E,WAAW,aAAa,0DAA0D,WAAW,SAAS,EAAE,OAAO,4CAA4C,0CAA0C,OAAO,kDAAkD,yCAAyC,gDAAgD,oEAAoE,iDAAiD,SAAS,EAAE,OAAO,2DAA2D,8DAA8D,8DAA8D,SAAS,EAAE,sEAAsE,wKAAwK,SAAS,GAAG,OAAO,sDAAsD,6HAA6H,OAAO,iCAAiC,0JAA0J,YAAY,gBAAgB,8BAA8B,MAAM,GAAG,EAAE,seAAse,iCAAiC,4CAA4C,uCAAuC,qCAAqC,kCAAkC,mCAAmC,mCAAmC,mCAAmC,WAAW,UAAU,qBAAqB,OAAO,EAAE,KAAK,kCAAkC,wBAAwB,iDAAiD,4BAA4B,kBAAkB,oBAAoB,0BAA0B,OAAO,gBAAgB,+CAA+C,KAAK,mCAAmC,4CAA4C,wBAAwB,kCAAkC,uEAAuE,+BAA+B,SAAS,YAAY,gCAAgC,iBAAiB,SAAS,2CAA2C,qBAAqB,gBAAgB,OAAO,qCAAqC,SAAS,mCAAmC,eAAe,GAAG,OAAO,EAAE,KAAK,+BAA+B,uCAAuC,kCAAkC,OAAO,yCAAyC,kCAAkC,OAAO,oBAAoB,KAAK,oCAAoC,4CAA4C,sCAAsC,yCAAyC,iCAAiC,UAAU,qCAAqC,OAAO,EAAE,KAAK,cAAc,oGAAoG,GAAG,EAAE,grBAAgrB,kBAAkB,uCAAuC,8CAA8C,MAAM,gDAAgD,8BAA8B,0CAA0C,6BAA6B,kDAAkD,+BAA+B,iDAAiD,mDAAmD,6BAA6B,uBAAuB,4EAA4E,EAAE,aAAa,OAAO,mEAAmE,yEAAyE,kEAAkE,wEAAwE,0CAA0C,6BAA6B,wFAAwF,EAAE,iBAAiB,EAAE,eAAe,EAAE,aAAa,qBAAqB,WAAW,4DAA4D,mEAAmE,sDAAsD,WAAW,EAAE,2BAA2B,qBAAqB,sEAAsE,EAAE,WAAW,OAAO,gEAAgE,oEAAoE,sCAAsC,yBAAyB,4EAA4E,EAAE,aAAa,EAAE,WAAW,SAAS,2BAA2B,yCAAyC,SAAS,8EAA8E,4BAA4B,+BAA+B,yBAAyB,WAAW,qDAAqD,yBAAyB,WAAW,2DAA2D,yBAAyB,WAAW,oDAAoD,yBAAyB,WAAW,6CAA6C,iDAAiD,WAAW,6CAA6C,kCAAkC,WAAW,yBAAyB,SAAS,EAAE,oDAAoD,yBAAyB,0CAA0C,yLAAyL,gEAAgE,yBAAyB,4FAA4F,EAAE,eAAe,EAAE,aAAa,EAAE,WAAW,wDAAwD,0CAA0C,WAAW,yBAAyB,oDAAoD,0BAA0B,WAAW,4BAA4B,2CAA2C,yBAAyB,WAAW,EAAE,iDAAiD,8BAA8B,SAAS,EAAE,uCAAuC,OAAO,gBAAgB,gCAAgC,MAAM,GAAG,EAAE,qhBAAqhB,uBAAuB,8CAA8C,qDAAqD,gBAAgB,0MAA0M,OAAO,gCAAgC,kCAAkC,+BAA+B,SAAS,OAAO,0BAA0B,mDAAmD,4CAA4C,SAAS,EAAE,OAAO,uCAAuC,+CAA+C,OAAO,oCAAoC,6CAA6C,+CAA+C,SAAS,EAAE,OAAO,uCAAuC,sDAAsD,+CAA+C,oDAAoD,yBAAyB,WAAW,wBAAwB,SAAS,EAAE,OAAO,4BAA4B,kDAAkD,wDAAwD,SAAS,EAAE,qBAAqB,OAAO,gBAAgB,kLAAkL,MAAM,GAAG,EAAE,sgBAAsgB,uBAAuB,oCAAoC,+BAA+B,kDAAkD,gBAAgB,iEAAiE,OAAO,sCAAsC,0CAA0C,OAAO,wCAAwC,8CAA8C,kDAAkD,OAAO,qCAAqC,yFAAyF,OAAO,sCAAsC,0FAA0F,OAAO,uCAAuC,+DAA+D,OAAO,mDAAmD,qEAAqE,OAAO,wCAAwC,wCAAwC,OAAO,4BAA4B,6BAA6B,OAAO,gBAAgB,qQAAqQ,MAAM,GAAG,EAAE,4eAA4e,mDAAmD,4DAA4D,4CAA4C,6EAA6E,qCAAqC,sBAAsB,SAAS,OAAO,oBAAoB,MAAM,uDAAuD,yDAAyD,kIAAkI,MAAM,4DAA4D,uCAAuC,kDAAkD,EAAE,MAAM,qDAAqD,+BAA+B,6CAA6C,OAAO,OAAO,6CAA6C,+CAA+C,SAAS,EAAE,OAAO,MAAM,oDAAoD,iEAAiE,MAAM,oDAAoD,4DAA4D,MAAM,cAAc,2EAA2E,GAAG,EAAE,suBAAsuB,6BAA6B,0FAA0F,4CAA4C,uCAAuC,iCAAiC,iCAAiC,oCAAoC,WAAW,sBAAsB,UAAU,OAAO,qCAAqC,4CAA4C,OAAO,mIAAmI,sBAAsB,cAAc,iDAAiD,+BAA+B,oGAAoG,wDAAwD,WAAW,SAAS,sBAAsB,yBAAyB,OAAO,sEAAsE,wGAAwG,0HAA0H,yBAAyB,OAAO,mEAAmE,2DAA2D,4CAA4C,4EAA4E,0EAA0E,aAAa,EAAE,WAAW,OAAO,sFAAsF,WAAW,SAAS,EAAE,OAAO,qCAAqC,gDAAgD,wIAAwI,EAAE,OAAO,oDAAoD,yCAAyC,oDAAoD,gCAAgC,iKAAiK,EAAE,OAAO,yCAAyC,wBAAwB,iDAAiD,6NAA6N,EAAE,SAAS,uEAAuE,wBAAwB,iEAAiE,sCAAsC,WAAW,EAAE,kGAAkG,kEAAkE,kDAAkD,8FAA8F,uDAAuD,eAAe,6BAA6B,oEAAoE,eAAe,wBAAwB,wFAAwF,aAAa,EAAE,6BAA6B,+BAA+B,aAAa,4BAA4B,WAAW,GAAG,SAAS,GAAG,OAAO,6CAA6C,mDAAmD,wCAAwC,SAAS,OAAO,8CAA8C,8FAA8F,OAAO,kCAAkC,4BAA4B,mEAAmE,SAAS,+GAA+G,iDAAiD,uFAAuF,iEAAiE,6DAA6D,WAAW,EAAE,0BAA0B,SAAS,GAAG,OAAO,4BAA4B,4BAA4B,+BAA+B,uCAAuC,OAAO,2CAA2C,mFAAmF,6DAA6D,4BAA4B,+CAA+C,WAAW,uDAAuD,4BAA4B,0FAA0F,+EAA+E,aAAa,QAAQ,WAAW,2BAA2B,4DAA4D,oCAAoC,WAAW,yBAAyB,SAAS,EAAE,OAAO,4CAA4C,0DAA0D,6BAA6B,SAAS,OAAO,0BAA0B,SAAS,OAAO,EAAE,iDAAiD,+CAA+C,OAAO,EAAE,6CAA6C,iDAAiD,iBAAiB,SAAS,iDAAiD,OAAO,EAAE,4CAA4C,6DAA6D,0CAA0C,sCAAsC,4CAA4C,qBAAqB,aAAa,6DAA6D,4BAA4B,yCAAyC,aAAa,WAAW,EAAE,SAAS,EAAE,OAAO,EAAE,gBAAgB,gLAAgL,MAAM,GAAG,EAAE,8vBAA8vB,iEAAiE,0CAA0C,+DAA+D,sDAAsD,wIAAwI,2CAA2C,0DAA0D,6DAA6D,2DAA2D,SAAS,OAAO,sDAAsD,wDAAwD,sDAAsD,SAAS,qCAAqC,oCAAoC,kCAAkC,qCAAqC,6BAA6B,uDAAuD,2BAA2B,uBAAuB,yBAAyB,WAAW,sCAAsC,qCAAqC,SAAS,4BAA4B,OAAO,8CAA8C,8DAA8D,8EAA8E,mBAAmB,sCAAsC,OAAO,8CAA8C,2CAA2C,+DAA+D,gCAAgC,qCAAqC,sDAAsD,aAAa,OAAO,qDAAqD,aAAa,WAAW,uCAAuC,iEAAiE,gCAAgC,qCAAqC,sDAAsD,aAAa,OAAO,uCAAuC,aAAa,WAAW,SAAS,sBAAsB,OAAO,qCAAqC,4BAA4B,iBAAiB,8BAA8B,6EAA6E,2DAA2D,2DAA2D,qIAAqI,yBAAyB,iEAAiE,WAAW,yBAAyB,mDAAmD,8CAA8C,4CAA4C,SAAS,OAAO,yEAAyE,iDAAiD,yEAAyE,gDAAgD,8CAA8C,WAAW,OAAO,gDAAgD,8CAA8C,WAAW,uBAAuB,SAAS,qBAAqB,OAAO,yBAAyB,oCAAoC,mCAAmC,oDAAoD,oCAAoC,SAAS,iCAAiC,oCAAoC,kCAAkC,SAAS,wCAAwC,OAAO,+BAA+B,uDAAuD,qFAAqF,SAAS,OAAO,OAAO,4BAA4B,4CAA4C,OAAO,2BAA2B,8CAA8C,mCAAmC,wCAAwC,+CAA+C,eAAe,wCAAwC,8BAA8B,eAAe,iCAAiC,mCAAmC,8BAA8B,4BAA4B,uBAAuB,0BAA0B,2BAA2B,eAAe,WAAW,OAAO,gBAAgB,6FAA6F,MAAM,GAAG,EAAE,6mBAA6mB,qCAAqC,6CAA6C,0DAA0D,oDAAoD,iCAAiC,8BAA8B,SAAS,EAAE,OAAO,gCAAgC,wDAAwD,qDAAqD,SAAS,MAAM,OAAO,uCAAuC,sDAAsD,OAAO,oCAAoC,mDAAmD,gCAAgC,2CAA2C,uDAAuD,OAAO,KAAK,cAAc,uHAAuH,cAAc,qEAAqE,MAAM,qGAAqG,GAAG,EAAE,01BAA01B,0BAA0B,kEAAkE,gHAAgH,gCAAgC,iBAAiB,SAAS,OAAO,KAAK,kGAAkG,wDAAwD,4BAA4B,uCAAuC,wDAAwD,8BAA8B,8CAA8C,SAAS,qBAAqB,wBAAwB,OAAO,sCAAsC,yDAAyD,qBAAqB,WAAW,+EAA+E,mBAAmB,WAAW,mCAAmC,0CAA0C,wBAAwB,WAAW,oCAAoC,SAAS,OAAO,oEAAoE,8BAA8B,sBAAsB,OAAO,uCAAuC,gBAAgB,gDAAgD,sBAAsB,KAAK,wDAAwD,0CAA0C,KAAK,+CAA+C,4CAA4C,KAAK,iFAAiF,gFAAgF,uEAAuE,2JAA2J,+CAA+C,6BAA6B,0DAA0D,SAAS,0DAA0D,OAAO,6BAA6B,kCAAkC,uCAAuC,uCAAuC,kDAAkD,OAAO,OAAO,kCAAkC,uCAAuC,uCAAuC,mDAAmD,OAAO,wDAAwD,YAAY,yCAAyC,mBAAmB,SAAS,oDAAoD,wDAAwD,mBAAmB,SAAS,6EAA6E,iBAAiB,SAAS,oDAAoD,4CAA4C,+BAA+B,wCAAwC,wBAAwB,SAAS,kCAAkC,OAAO,iDAAiD,sBAAsB,KAAK,cAAc,8MAA8M,OAAO,4DAA4D,QAAQ,oDAAoD,SAAS,iEAAiE,QAAQ,mDAAmD,MAAM,oLAAoL,GAAG,EAAE,8tBAA8tB,8HAA8H,wDAAwD,iDAAiD,KAAK,yDAAyD,kDAAkD,KAAK,4DAA4D,8CAA8C,yEAAyE,OAAO,4EAA4E,qCAAqC,0HAA0H,kHAAkH,8CAA8C,4BAA4B,SAAS,iDAAiD,+BAA+B,SAAS,6HAA6H,4BAA4B,SAAS,0CAA0C,4BAA4B,SAAS,+BAA+B,OAAO,EAAE,KAAK,kEAAkE,qGAAqG,gCAAgC,iBAAiB,SAAS,OAAO,KAAK,4DAA4D,2BAA2B,4CAA4C,sBAAsB,wFAAwF,yDAAyD,SAAS,EAAE,sDAAsD,wCAAwC,OAAO,yCAAyC,uFAAuF,sFAAsF,2BAA2B,KAAK,0DAA0D,iGAAiG,KAAK,+CAA+C,cAAc,wIAAwI,KAAK,yDAAyD,yDAAyD,6GAA6G,sGAAsG,yEAAyE,OAAO,EAAE,wFAAwF,4BAA4B,uGAAuG,8EAA8E,qDAAqD,SAAS,OAAO,oBAAoB,KAAK,cAAc,oIAAoI,GAAG,EAAE,khBAAkhB,8CAA8C,wCAAwC,iDAAiD,8BAA8B,oCAAoC,4BAA4B,gBAAgB,8IAA8I,MAAM,+CAA+C,sEAAsE,iBAAiB,MAAM,iDAAiD,kCAAkC,8BAA8B,2CAA2C,IAAI,iBAAiB,MAAM,6CAA6C,4EAA4E,0BAA0B,4CAA4C,0BAA0B,qFAAqF,2DAA2D,MAAM,uDAAuD,2DAA2D,mFAAmF,mDAAmD,kBAAkB,sJAAsJ,OAAO,gBAAgB,0DAA0D,MAAM,sFAAsF,cAAc,gKAAgK,MAAM,2CAA2C,oHAAoH,MAAM,cAAc,sBAAsB,GAAG,EAAE,ktBAAktB,8HAA8H,iDAAiD,4DAA4D,MAAM,6EAA6E,8FAA8F,qBAAqB,OAAO,oDAAoD,qBAAqB,OAAO,oBAAoB,MAAM,yCAAyC,yCAAyC,oDAAoD,sBAAsB,MAAM,+DAA+D,0CAA0C,yCAAyC,6BAA6B,EAAE,iEAAiE,iDAAiD,wIAAwI,EAAE,wCAAwC,sLAAsL,EAAE,yCAAyC,wDAAwD,EAAE,wCAAwC,wBAAwB,MAAM,4DAA4D,4CAA4C,sCAAsC,OAAO,MAAM,gFAAgF,uCAAuC,oDAAoD,iDAAiD,4CAA4C,oDAAoD,OAAO,6CAA6C,qDAAqD,OAAO,0DAA0D,0DAA0D,MAAM,0CAA0C,kCAAkC,wCAAwC,OAAO,MAAM,mDAAmD,4BAA4B,MAAM,kDAAkD,2BAA2B,MAAM,oDAAoD,cAAc,oFAAoF,MAAM,4CAA4C,2BAA2B,0CAA0C,uHAAuH,uDAAuD,kDAAkD,2CAA2C,yDAAyD,oCAAoC,sCAAsC,sCAAsC,wFAAwF,0FAA0F,4CAA4C,4CAA4C,4CAA4C,8CAA8C,gFAAgF,WAAW,SAAS,QAAQ,MAAM,2CAA2C,2HAA2H,mDAAmD,wDAAwD,OAAO,KAAK,6BAA6B,0GAA0G,+EAA+E,+CAA+C,sBAAsB,EAAE,0CAA0C,mBAAmB,WAAW,kCAAkC,yBAAyB,SAAS,+BAA+B,4EAA4E,6DAA6D,+FAA+F,wDAAwD,SAAS,QAAQ,MAAM,kHAAkH,iDAAiD,8CAA8C,wFAAwF,MAAM,2CAA2C,2BAA2B,6BAA6B,yFAAyF,0DAA0D,8CAA8C,qHAAqH,EAAE,+CAA+C,6CAA6C,wDAAwD,6CAA6C,2EAA2E,2DAA2D,eAAe,EAAE,aAAa,WAAW,SAAS,iCAAiC,QAAQ,MAAM,2CAA2C,0BAA0B,+BAA+B,6BAA6B,iCAAiC,SAAS,QAAQ,MAAM,8CAA8C,6BAA6B,2BAA2B,iCAAiC,MAAM,kDAAkD,oBAAoB,oFAAoF,+BAA+B,8BAA8B,8CAA8C,wCAAwC,wCAAwC,2CAA2C,iDAAiD,0CAA0C,wCAAwC,6DAA6D,4DAA4D,yCAAyC,+DAA+D,gEAAgE,OAAO,EAAE,MAAM,2CAA2C,qCAAqC,+NAA+N,8HAA8H,6BAA6B,SAAS,OAAO,EAAE,MAAM,oCAAoC,iCAAiC,0BAA0B,MAAM,cAAc,sBAAsB,GAAG,EAAE,mjBAAmjB,4BAA4B,MAAM,EAAE,0wBAA0wB,sYAAsY,8DAA8D,uDAAuD,wCAAwC,+BAA+B,SAAS,OAAO,6BAA6B,KAAK,2CAA2C,+EAA+E,uFAAuF,+PAA+P,8CAA8C,mEAAmE,OAAO,4CAA4C,wDAAwD,8EAA8E,OAAO,gCAAgC,wCAAwC,OAAO,kCAAkC,yCAAyC,oBAAoB,yCAAyC,SAAS,OAAO,6BAA6B,yCAAyC,OAAO,mDAAmD,0DAA0D,OAAO,qDAAqD,cAAc,wCAAwC,uFAAuF,EAAE,uCAAuC,sBAAsB,SAAS,iDAAiD,8CAA8C,OAAO,mCAAmC,cAAc,mDAAmD,aAAa,EAAE,qCAAqC,sBAAsB,SAAS,oCAAoC,OAAO,qCAAqC,mDAAmD,+BAA+B,qBAAqB,OAAO,4EAA4E,uFAAuF,qHAAqH,sBAAsB,SAAS,6BAA6B,OAAO,+DAA+D,sEAAsE,gCAAgC,qDAAqD,SAAS,mDAAmD,OAAO,sDAAsD,0EAA0E,OAAO,4GAA4G,4EAA4E,iCAAiC,wCAAwC,6CAA6C,+DAA+D,WAAW,SAAS,wEAAwE,qEAAqE,8DAA8D,oEAAoE,SAAS,sDAAsD,6BAA6B,wCAAwC,yBAAyB,WAAW,wBAAwB,SAAS,8DAA8D,8FAA8F,SAAS,0IAA0I,gEAAgE,wEAAwE,oGAAoG,WAAW,SAAS,wCAAwC,2DAA2D,SAAS,sBAAsB,OAAO,sEAAsE,qKAAqK,4DAA4D,qEAAqE,qFAAqF,4EAA4E,mEAAmE,4DAA4D,6DAA6D,SAAS,2DAA2D,iEAAiE,SAAS,iCAAiC,sBAAsB,SAAS,yCAAyC,4FAA4F,kCAAkC,iEAAiE,iEAAiE,kEAAkE,mFAAmF,WAAW,SAAS,yCAAyC,mIAAmI,6HAA6H,oCAAoC,4EAA4E,WAAW,6FAA6F,oCAAoC,4EAA4E,WAAW,SAAS,OAAO,iDAAiD,oCAAoC,sCAAsC,+EAA+E,0CAA0C,8DAA8D,WAAW,6BAA6B,SAAS,qEAAqE,kEAAkE,qBAAqB,mBAAmB,WAAW,iCAAiC,uFAAuF,WAAW,OAAO,uFAAuF,WAAW,4BAA4B,yCAAyC,mCAAmC,4CAA4C,aAAa,OAAO,6CAA6C,aAAa,sDAAsD,wCAAwC,WAAW,SAAS,OAAO,wFAAwF,qBAAqB,+GAA+G,uBAAuB,0BAA0B,SAAS,oDAAoD,uBAAuB,0BAA0B,SAAS,sBAAsB,OAAO,oDAAoD,qBAAqB,yEAAyE,uBAAuB,0BAA0B,SAAS,oDAAoD,uBAAuB,0BAA0B,SAAS,sBAAsB,OAAO,2CAA2C,yCAAyC,OAAO,+DAA+D,iEAAiE,sEAAsE,+BAA+B,+EAA+E,SAAS,OAAO,4CAA4C,kCAAkC,gEAAgE,4DAA4D,gEAAgE,iFAAiF,SAAS,oEAAoE,kEAAkE,SAAS,mOAAmO,6CAA6C,6CAA6C,SAAS,sBAAsB,OAAO,0CAA0C,uBAAuB,2CAA2C,uBAAuB,SAAS,iDAAiD,yBAAyB,4BAA4B,SAAS,uBAAuB,OAAO,kDAAkD,8EAA8E,8CAA8C,sBAAsB,SAAS,6DAA6D,gDAAgD,SAAS,qFAAqF,iCAAiC,oFAAoF,SAAS,4EAA4E,oDAAoD,SAAS,sDAAsD,gDAAgD,gCAAgC,qDAAqD,gCAAgC,yBAAyB,iBAAiB,SAAS,+BAA+B,+DAA+D,SAAS,4BAA4B,6DAA6D,SAAS,kCAAkC,6CAA6C,SAAS,kCAAkC,6CAA6C,SAAS,sBAAsB,OAAO,oCAAoC,8DAA8D,2CAA2C,OAAO,+BAA+B,uCAAuC,OAAO,iFAAiF,iEAAiE,8EAA8E,wEAAwE,iCAAiC,mDAAmD,kFAAkF,yCAAyC,uCAAuC,sCAAsC,eAAe,+DAA+D,aAAa,8EAA8E,WAAW,SAAS,OAAO,iDAAiD,qFAAqF,uCAAuC,qCAAqC,oCAAoC,eAAe,gEAAgE,aAAa,4EAA4E,WAAW,SAAS,4IAA4I,sBAAsB,SAAS,iDAAiD,oCAAoC,SAAS,uCAAuC,2CAA2C,OAAO,uEAAuE,qEAAqE,iCAAiC,wCAAwC,6CAA6C,qEAAqE,WAAW,SAAS,uEAAuE,qGAAqG,iHAAiH,yFAAyF,SAAS,wCAAwC,qGAAqG,SAAS,kHAAkH,0CAA0C,iCAAiC,gFAAgF,WAAW,gFAAgF,SAAS,OAAO,mCAAmC,8FAA8F,6FAA6F,iHAAiH,8GAA8G,sDAAsD,yDAAyD,0CAA0C,yCAAyC,qDAAqD,iCAAiC,4BAA4B,WAAW,SAAS,iDAAiD,sCAAsC,0CAA0C,8EAA8E,0BAA0B,aAAa,qCAAqC,WAAW,wBAAwB,SAAS,6DAA6D,gCAAgC,yBAAyB,WAAW,6EAA6E,0EAA0E,WAAW,SAAS,SAAS,qLAAqL,iCAAiC,kCAAkC,gDAAgD,WAAW,SAAS,EAAE,0CAA0C,kCAAkC,oEAAoE,oCAAoC,0HAA0H,iCAAiC,6BAA6B,aAAa,iKAAiK,0FAA0F,iDAAiD,eAAe,aAAa,WAAW,SAAS,EAAE,kDAAkD,2CAA2C,0BAA0B,SAAS,EAAE,8CAA8C,4BAA4B,iDAAiD,0BAA0B,WAAW,EAAE,gDAAgD,yBAAyB,WAAW,EAAE,gDAAgD,wEAAwE,gEAAgE,2BAA2B,mCAAmC,6EAA6E,eAAe,aAAa,WAAW,EAAE,SAAS,uDAAuD,iDAAiD,kCAAkC,yBAAyB,WAAW,gEAAgE,kDAAkD,2GAA2G,UAAU,uDAAuD,uEAAuE,uEAAuE,mCAAmC,UAAU,2CAA2C,qDAAqD,yBAAyB,WAAW,wBAAwB,UAAU,6UAA6U,iFAAiF,+EAA+E,iHAAiH,UAAU,oCAAoC,8CAA8C,kCAAkC,oEAAoE,oCAAoC,8DAA8D,iCAAiC,2EAA2E,aAAa,OAAO,sFAAsF,oEAAoE,eAAe,aAAa,WAAW,OAAO,gPAAgP,4BAA4B,qFAAqF,4BAA4B,oEAAoE,mCAAmC,yCAAyC,yEAAyE,eAAe,aAAa,WAAW,SAAS,EAAE,4CAA4C,sCAAsC,mBAAmB,WAAW,gCAAgC,2DAA2D,oBAAoB,2DAA2D,oBAAoB,2DAA2D,oBAAoB,uDAAuD,oBAAoB,sEAAsE,oBAAoB,qEAAqE,oBAAoB,gHAAgH,mCAAmC,eAAe,oBAAoB,WAAW,SAAS,EAAE,mDAAmD,8EAA8E,iGAAiG,0CAA0C,0BAA0B,EAAE,gDAAgD,wEAAwE,WAAW,SAAS,4CAA4C,6DAA6D,uCAAuC,mBAAmB,WAAW,+CAA+C,+BAA+B,gCAAgC,yDAAyD,mBAAmB,WAAW,iEAAiE,yDAAyD,WAAW,SAAS,kDAAkD,sBAAsB,gCAAgC,kFAAkF,oBAAoB,uFAAuF,oBAAoB,WAAW,0BAA0B,+BAA+B,WAAW,SAAS,2IAA2I,kCAAkC,wCAAwC,SAAS,QAAQ,uCAAuC,gDAAgD,+CAA+C,uDAAuD,0EAA0E,aAAa,EAAE,WAAW,SAAS,EAAE,sDAAsD,4BAA4B,8CAA8C,0DAA0D,iDAAiD,qBAAqB,aAAa,qCAAqC,wDAAwD,0BAA0B,WAAW,SAAS,EAAE,sDAAsD,kBAAkB,uDAAuD,oBAAoB,0BAA0B,WAAW,SAAS,EAAE,2DAA2D,4BAA4B,gDAAgD,4BAA4B,WAAW,yEAAyE,6CAA6C,WAAW,SAAS,EAAE,yCAAyC,gHAAgH,iFAAiF,WAAW,KAAK,SAAS,EAAE,0CAA0C,8CAA8C,iPAAiP,iEAAiE,uCAAuC,iCAAiC,wCAAwC,iFAAiF,kFAAkF,aAAa,WAAW,SAAS,EAAE,yCAAyC,OAAO,2BAA2B,2EAA2E,0CAA0C,sEAAsE,mCAAmC,oCAAoC,qCAAqC,eAAe,qDAAqD,gCAAgC,eAAe,oDAAoD,6BAA6B,eAAe,WAAW,OAAO,+CAA+C,wHAAwH,OAAO,qDAAqD,gLAAgL,uBAAuB,sBAAsB,SAAS,gCAAgC,gDAAgD,iEAAiE,oEAAoE,qFAAqF,aAAa,wEAAwE,sEAAsE,aAAa,WAAW,wBAAwB,SAAS,gDAAgD,wCAAwC,oCAAoC,gMAAgM,qDAAqD,sDAAsD,qDAAqD,SAAS,6CAA6C,sBAAsB,SAAS,6CAA6C,wDAAwD,SAAS,8CAA8C,sBAAsB,SAAS,+DAA+D,2CAA2C,uCAAuC,EAAE,qCAAqC,sBAAsB,SAAS,sCAAsC,2DAA2D,mDAAmD,gKAAgK,+DAA+D,SAAS,yCAAyC,wVAAwV,qIAAqI,gFAAgF,yCAAyC,SAAS,OAAO,kGAAkG,mEAAmE,gEAAgE,SAAS,uCAAuC,4DAA4D,EAAE,6CAA6C,wCAAwC,8BAA8B,4BAA4B,2EAA2E,kDAAkD,2CAA2C,wBAAwB,uBAAuB,OAAO,mDAAmD,0CAA0C,2EAA2E,mDAAmD,6CAA6C,SAAS,OAAO,4BAA4B,4BAA4B,2CAA2C,OAAO,kCAAkC,yBAAyB,OAAO,0BAA0B,yBAAyB,iBAAiB,OAAO,gBAAgB,8HAA8H,KAAK,gCAAgC,GAAG,EAAE,0ZAA0Z,kBAAkB,8BAA8B,6BAA6B,mEAAmE,QAAQ,uCAAuC,4DAA4D,MAAM,oCAAoC,yCAAyC,MAAM,cAAc,sBAAsB,GAAG,EAAE,icAAic,iDAAiD,4DAA4D,qBAAqB,+BAA+B,EAAE,iCAAiC,MAAM,cAAc,oBAAoB,GAAG,EAAE,msBAAmsB,sGAAsG,eAAe,EAAE,yFAAyF,8BAA8B,yBAAyB,gFAAgF,uCAAuC,MAAM,EAAE,qBAAqB,k0CAAk0C,2IAA2I,0EAA0E,4EAA4E,iCAAiC,yCAAyC,2OAA2O,OAAO,4CAA4C,OAAO,iDAAiD,sBAAsB,+FAA+F,iEAAiE,+EAA+E,sCAAsC,sDAAsD,mTAAmT,kCAAkC,w/CAAw/C,6BAA6B,8HAA8H,6CAA6C,+DAA+D,OAAO,iCAAiC,wDAAwD,yDAAyD,mDAAmD,4LAA4L,gOAAgO,6PAA6P,iCAAiC,8TAA8T,oJAAoJ,8FAA8F,gCAAgC,EAAE,+SAA+S,kIAAkI,sCAAsC,8JAA8J,4LAA4L,iJAAiJ,0BAA0B,qDAAqD,yCAAyC,yCAAyC,oCAAoC,mDAAmD,oCAAoC,0EAA0E,OAAO,mDAAmD,qCAAqC,OAAO,mEAAmE,uCAAuC,wQAAwQ,uDAAuD,8DAA8D,gBAAgB,2GAA2G,OAAO,EAAE,KAAK,0BAA0B,2HAA2H,sFAAsF,mCAAmC,oDAAoD,wBAAwB,SAAS,+EAA+E,kDAAkD,iBAAiB,SAAS,yFAAyF,iBAAiB,SAAS,wFAAwF,iBAAiB,SAAS,iGAAiG,kEAAkE,wDAAwD,SAAS,OAAO,6BAA6B,SAAS,yEAAyE,mBAAmB,kCAAkC,wKAAwK,iDAAiD,yBAAyB,OAAO,uCAAuC,WAAW,6GAA6G,iCAAiC,YAAY,mEAAmE,qGAAqG,gDAAgD,cAAc,EAAE,WAAW,EAAE,mMAAmM,6CAA6C,sCAAsC,+CAA+C,mCAAmC,gDAAgD,cAAc,WAAW,SAAS,wSAAwS,mQAAmQ,4FAA4F,GAAG,yCAAyC,EAAE,gEAAgE,4TAA4T,mCAAmC,EAAE,4EAA4E,2CAA2C,6CAA6C,yBAAyB,gDAAgD,aAAa,WAAW,EAAE,SAAS,iDAAiD,wCAAwC,mCAAmC,0BAA0B,aAAa,WAAW,EAAE,SAAS,4CAA4C,2CAA2C,0EAA0E,yBAAyB,iDAAiD,EAAE,aAAa,YAAY,sEAAsE,SAAS,yDAAyD,uDAAuD,2FAA2F,uGAAuG,WAAW,wCAAwC,oDAAoD,WAAW,8JAA8J,8CAA8C,6BAA6B,mEAAmE,aAAa,OAAO,gFAAgF,aAAa,0DAA0D,WAAW,kDAAkD,0DAA0D,WAAW,iEAAiE,0CAA0C,2CAA2C,WAAW,EAAE,mEAAmE,kCAAkC,0DAA0D,4CAA4C,yDAAyD,wEAAwE,oDAAoD,yCAAyC,mJAAmJ,wEAAwE,wDAAwD,iBAAiB,EAAE,eAAe,OAAO,4CAA4C,6IAA6I,EAAE,eAAe,aAAa,WAAW,EAAE,+CAA+C,gCAAgC,0BAA0B,aAAa,WAAW,yBAAyB,yDAAyD,kCAAkC,0BAA0B,aAAa,WAAW,EAAE,SAAS,uCAAuC,sBAAsB,OAAO,sTAAsT,2EAA2E,iGAAiG,oEAAoE,2DAA2D,2HAA2H,qCAAqC,sRAAsR,wCAAwC,sDAAsD,6DAA6D,qDAAqD,4EAA4E,oCAAoC,2HAA2H,aAAa,WAAW,OAAO,wCAAwC,WAAW,SAAS,uCAAuC,4EAA4E,+FAA+F,gCAAgC,qEAAqE,oEAAoE,8BAA8B,aAAa,EAAE,yCAAyC,qBAAqB,aAAa,mEAAmE,oDAAoD,wCAAwC,mDAAmD,8CAA8C,aAAa,WAAW,SAAS,4GAA4G,uEAAuE,8CAA8C,wDAAwD,qEAAqE,wEAAwE,mDAAmD,qCAAqC,oCAAoC,iDAAiD,aAAa,oCAAoC,uDAAuD,aAAa,+DAA+D,yLAAyL,EAAE,2EAA2E,6FAA6F,kCAAkC,8BAA8B,eAAe,aAAa,WAAW,OAAO,0CAA0C,+CAA+C,mFAAmF,aAAa,+CAA+C,4FAA4F,aAAa,2HAA2H,WAAW,qDAAqD,SAAS,+EAA+E,2DAA2D,qEAAqE,WAAW,EAAE,SAAS,iFAAiF,0DAA0D,SAAS,oFAAoF,6BAA6B,uDAAuD,SAAS,8DAA8D,0NAA0N,uFAAuF,SAAS,yKAAyK,wFAAwF,SAAS,oFAAoF,qBAAqB,oPAAoP,qBAAqB,4BAA4B,OAAO,4CAA4C,kMAAkM,0CAA0C,WAAW,SAAS,iDAAiD,wCAAwC,wDAAwD,6CAA6C,SAAS,gDAAgD,2CAA2C,8DAA8D,+CAA+C,SAAS,iDAAiD,oIAAoI,SAAS,gLAAgL,0FAA0F,8BAA8B,4CAA4C,sEAAsE,8BAA8B,+BAA+B,0BAA0B,KAAK,iJAAiJ,kGAAkG,iCAAiC,WAAW,SAAS,+HAA+H,6XAA6X,6IAA6I,SAAS,EAAE,mCAAmC,4BAA4B,8BAA8B,UAAU,gEAAgE,wDAAwD,iCAAiC,8CAA8C,wOAAwO,eAAe,0BAA0B,WAAW,YAAY,yCAAyC,WAAW,SAAS,kCAAkC,qEAAqE,wDAAwD,SAAS,mDAAmD,oDAAoD,qBAAqB,iCAAiC,SAAS,6BAA6B,kBAAkB,wSAAwS,4HAA4H,gFAAgF,kEAAkE,SAAS,qFAAqF,qBAAqB,qCAAqC,sBAAsB,SAAS,0CAA0C,wCAAwC,wCAAwC,0DAA0D,sDAAsD,2DAA2D,WAAW,EAAE,wDAAwD,6EAA6E,iEAAiE,uCAAuC,sGAAsG,6FAA6F,SAAS,gGAAgG,6BAA6B,0CAA0C,+BAA+B,gFAAgF,6CAA6C,WAAW,iFAAiF,SAAS,gCAAgC,qDAAqD,0NAA0N,4SAA4S,iDAAiD,sZAAsZ,sCAAsC,WAAW,SAAS,EAAE,6OAA6O,8KAA8K,0EAA0E,yBAAyB,4BAA4B,oCAAoC,8CAA8C,gJAAgJ,oKAAoK,yBAAyB,eAAe,yCAAyC,6EAA6E,sCAAsC,+BAA+B,iBAAiB,iDAAiD,uCAAuC,eAAe,kCAAkC,+CAA+C,sCAAsC,eAAe,OAAO,iFAAiF,eAAe,aAAa,WAAW,SAAS,EAAE,qGAAqG,2CAA2C,yBAAyB,4BAA4B,kDAAkD,6CAA6C,+CAA+C,aAAa,WAAW,SAAS,EAAE,+DAA+D,qCAAqC,yBAAyB,4BAA4B,0BAA0B,mCAAmC,uDAAuD,WAAW,SAAS,EAAE,gFAAgF,2FAA2F,yBAAyB,4BAA4B,qFAAqF,+DAA+D,aAAa,WAAW,SAAS,EAAE,wXAAwX,uEAAuE,wSAAwS,gHAAgH,mJAAmJ,kGAAkG,6KAA6K,gSAAgS,4DAA4D,mDAAmD,2CAA2C,0DAA0D,gEAAgE,+BAA+B,2EAA2E,sCAAsC,kEAAkE,SAAS,yCAAyC,gCAAgC,wCAAwC,6CAA6C,SAAS,gCAAgC,6CAA6C,SAAS,iCAAiC,mDAAmD,sDAAsD,oEAAoE,kEAAkE,eAAe,EAAE,aAAa,EAAE,WAAW,EAAE,SAAS,4CAA4C,yCAAyC,SAAS,EAAE,2EAA2E,8CAA8C,4DAA4D,OAAO,iEAAiE,WAAW,EAAE,SAAS,qBAAqB,8BAA8B,EAAE,6CAA6C,cAAc,EAAE,2NAA2N,mDAAmD,YAAY,2CAA2C,yCAAyC,4BAA4B,yBAAyB,0BAA0B,cAAc,EAAE,0DAA0D,kEAAkE,yDAAyD,SAAS,EAAE,uFAAuF,8BAA8B,sDAAsD,iDAAiD,WAAW,EAAE,8CAA8C,SAAS,4FAA4F,wCAAwC,qCAAqC,0CAA0C,WAAW,SAAS,EAAE,gEAAgE,mDAAmD,uBAAuB,iDAAiD,4BAA4B,aAAa,OAAO,mEAAmE,aAAa,sCAAsC,6BAA6B,aAAa,WAAW,OAAO,SAAS,6EAA6E,OAAO,iOAAiO,QAAQ,uGAAuG,2GAA2G,wFAAwF,iDAAiD,0DAA0D,kEAAkE,WAAW,EAAE,SAAS,2BAA2B,4EAA4E,yBAAyB,qCAAqC,WAAW,iDAAiD,6IAA6I,2DAA2D,wCAAwC,kCAAkC,+CAA+C,mBAAmB,WAAW,uEAAuE,kMAAkM,qCAAqC,aAAa,oCAAoC,WAAW,2GAA2G,0GAA0G,sGAAsG,iCAAiC,eAAe,aAAa,6BAA6B,eAAe,aAAa,OAAO,2BAA2B,aAAa,oCAAoC,oCAAoC,aAAa,WAAW,gQAAgQ,gDAAgD,uCAAuC,yBAAyB,WAAW,SAAS,6CAA6C,OAAO,2QAA2Q,OAAO,wDAAwD,OAAO,yFAAyF,+DAA+D,0BAA0B,iBAAiB,SAAS,yGAAyG,gCAAgC,8BAA8B,SAAS,6CAA6C,mDAAmD,6CAA6C,uCAAuC,0DAA0D,uCAAuC,8BAA8B,SAAS,yFAAyF,OAAO,wNAAwN,OAAO,sEAAsE,OAAO,6DAA6D,kFAAkF,sBAAsB,oBAAoB,SAAS,kEAAkE,SAAS,MAAM,oBAAoB,gDAAgD,WAAW,EAAE,SAAS,EAAE,oDAAoD,OAAO,+GAA+G,OAAO,8DAA8D,OAAO,mGAAmG,6JAA6J,cAAc,YAAY,OAAO,iHAAiH,OAAO,2DAA2D,OAAO,8DAA8D,OAAO,gDAAgD,OAAO,6MAA6M,8JAA8J,2DAA2D,qFAAqF,gCAAgC,sBAAsB,4CAA4C,yDAAyD,SAAS,QAAQ,8CAA8C,uCAAuC,uCAAuC,wDAAwD,eAAe,OAAO,qDAAqD,eAAe,aAAa,EAAE,WAAW,OAAO,2BAA2B,WAAW,0BAA0B,SAAS,uBAAuB,OAAO,+NAA+N,OAAO,qGAAqG,qDAAqD,OAAO,mJAAmJ,OAAO,0CAA0C,OAAO,uKAAuK,8FAA8F,wCAAwC,oJAAoJ,uDAAuD,mBAAmB,gBAAgB,EAAE,aAAa,UAAU,EAAE,oDAAoD,wBAAwB,6BAA6B,yCAAyC,2CAA2C,YAAY,SAAS,iDAAiD,+BAA+B,SAAS,4CAA4C,8DAA8D,sCAAsC,OAAO,gHAAgH,OAAO,2CAA2C,OAAO,kKAAkK,gDAAgD,yCAAyC,uHAAuH,gDAAgD,mBAAmB,gBAAgB,EAAE,aAAa,UAAU,EAAE,sDAAsD,iDAAiD,OAAO,oWAAoW,OAAO,6CAA6C,OAAO,oQAAoQ,wDAAwD,0CAA0C,iHAAiH,uDAAuD,mBAAmB,gBAAgB,EAAE,aAAa,UAAU,EAAE,sDAAsD,wBAAwB,6BAA6B,yCAAyC,2CAA2C,YAAY,SAAS,gDAAgD,wCAAwC,OAAO,mJAAmJ,gBAAgB,sHAAsH,aAAa,8HAA8H,kCAAkC,4DAA4D,uFAAuF,+BAA+B,qCAAqC,8CAA8C,YAAY,SAAS,qCAAqC,8FAA8F,EAAE,OAAO,0OAA0O,OAAO,oDAAoD,mBAAmB,uEAAuE,OAAO,uKAAuK,wDAAwD,qGAAqG,gGAAgG,eAAe,GAAG,gBAAgB,EAAE,aAAa,UAAU,EAAE,4DAA4D,wJAAwJ,QAAQ,mDAAmD,OAAO,sDAAsD,QAAQ,6HAA6H,OAAO,+QAA+Q,OAAO,oDAAoD,6BAA6B,uFAAuF,OAAO,uHAAuH,6KAA6K,QAAQ,sJAAsJ,OAAO,+QAA+Q,OAAO,oDAAoD,6BAA6B,uFAAuF,OAAO,uHAAuH,6KAA6K,OAAO,sHAAsH,OAAO,gIAAgI,OAAO,yEAAyE,OAAO,wDAAwD,gBAAgB,6FAA6F,OAAO,gEAAgE,QAAQ,wHAAwH,0DAA0D,OAAO,6hBAA6hB,OAAO,2EAA2E,QAAQ,kFAAkF,MAAM,qEAAqE,OAAO,4FAA4F,qEAAqE,OAAO,wJAAwJ,OAAO,mDAAmD,QAAQ,gHAAgH,0DAA0D,OAAO,oJAAoJ,OAAO,mDAAmD,OAAO,4GAA4G,0DAA0D,OAAO,0IAA0I,OAAO,yDAAyD,QAAQ,oGAAoG,8DAA8D,OAAO,sKAAsK,wBAAwB,4BAA4B,8BAA8B,8BAA8B,kDAAkD,WAAW,OAAO,0CAA0C,8BAA8B,WAAW,wBAAwB,4BAA4B,SAAS,OAAO,sKAAsK,6CAA6C,6BAA6B,oHAAoH,yCAAyC,WAAW,wFAAwF,8BAA8B,mDAAmD,6GAA6G,sDAAsD,aAAa,WAAW,OAAO,0CAA0C,8DAA8D,WAAW,+BAA+B,4BAA4B,SAAS,OAAO,0HAA0H,QAAQ,gFAAgF,6BAA6B,OAAO,sOAAsO,QAAQ,gFAAgF,OAAO,6EAA6E,QAAQ,8IAA8I,6GAA6G,4GAA4G,wDAAwD,oCAAoC,yBAAyB,EAAE,OAAO,8UAA8U,OAAO,wGAAwG,OAAO,+EAA+E,uDAAuD,oBAAoB,4BAA4B,2BAA2B,8FAA8F,6BAA6B,kCAAkC,2CAA2C,WAAW,sCAAsC,wBAAwB,SAAS,OAAO,iWAAiW,OAAO,wGAAwG,OAAO,qFAAqF,6DAA6D,0CAA0C,iBAAiB,SAAS,4BAA4B,yBAAyB,6BAA6B,oDAAoD,gCAAgC,yCAAyC,SAAS,8EAA8E,4CAA4C,SAAS,8BAA8B,sDAAsD,oFAAoF,iCAAiC,WAAW,iGAAiG,+CAA+C,wCAAwC,iCAAiC,6BAA6B,eAAe,aAAa,EAAE,WAAW,SAAS,OAAO,2BAA2B,SAAS,oCAAoC,yCAAyC,+BAA+B,SAAS,sBAAsB,OAAO,+NAA+N,OAAO,4GAA4G,OAAO,uGAAuG,OAAO,2LAA2L,wIAAwI,cAAc,EAAE,wIAAwI,oKAAoK,iBAAiB,EAAE,oDAAoD,0EAA0E,wDAAwD,4CAA4C,wBAAwB,+BAA+B,2DAA2D,8CAA8C,SAAS,iCAAiC,wQAAwQ,kEAAkE,yLAAyL,uDAAuD,WAAW,4CAA4C,8CAA8C,WAAW,kEAAkE,qOAAqO,qJAAqJ,+GAA+G,WAAW,4BAA4B,6JAA6J,WAAW,4CAA4C,0CAA0C,SAAS,OAAO,+EAA+E,sCAAsC,kDAAkD,mEAAmE,oBAAoB,eAAe,WAAW,gGAAgG,+CAA+C,iEAAiE,0CAA0C,WAAW,sPAAsP,uCAAuC,WAAW,WAAW,8BAA8B,OAAO,4NAA4N,OAAO,uGAAuG,OAAO,2LAA2L,iHAAiH,cAAc,EAAE,+IAA+I,wDAAwD,wDAAwD,4CAA4C,wBAAwB,6BAA6B,2DAA2D,8CAA8C,SAAS,mGAAmG,oEAAoE,SAAS,kCAAkC,uDAAuD,SAAS,OAAO,0DAA0D,SAAS,yFAAyF,uCAAuC,SAAS,OAAO,iCAAiC,SAAS,6DAA6D,wCAAwC,SAAS,8BAA8B,OAAO,8GAA8G,OAAO,4CAA4C,OAAO,kGAAkG,mBAAmB,4BAA4B,iBAAiB,QAAQ,SAAS,+DAA+D,OAAO,mdAAmd,QAAQ,kOAAkO,oCAAoC,gCAAgC,OAAO,+NAA+N,QAAQ,mGAAmG,8CAA8C,iGAAiG,4CAA4C,mCAAmC,0CAA0C,wCAAwC,mCAAmC,2CAA2C,6BAA6B,SAAS,OAAO,yJAAyJ,OAAO,wEAAwE,iCAAiC,OAAO,sOAAsO,QAAQ,oFAAoF,wBAAwB,gCAAgC,gFAAgF,SAAS,gCAAgC,OAAO,4NAA4N,QAAQ,oGAAoG,yCAAyC,OAAO,+JAA+J,QAAQ,kFAAkF,8BAA8B,4CAA4C,SAAS,gCAAgC,OAAO,wGAAwG,OAAO,6DAA6D,6BAA6B,oCAAoC,mCAAmC,sBAAsB,mDAAmD,WAAW,SAAS,oCAAoC,OAAO,0GAA0G,SAAS,+DAA+D,6BAA6B,sCAAsC,8BAA8B,sBAAsB,gDAAgD,WAAW,SAAS,sCAAsC,OAAO,sMAAsM,QAAQ,2EAA2E,gCAAgC,2DAA2D,OAAO,kRAAkR,OAAO,qCAAqC,OAAO,oDAAoD,mBAAmB,oFAAoF,OAAO,2EAA2E,kDAAkD,8EAA8E,kFAAkF,SAAS,mPAAmP,qBAAqB,SAAS,qEAAqE,sDAAsD,SAAS,gHAAgH,qBAAqB,OAAO,oKAAoK,QAAQ,gIAAgI,uEAAuE,sCAAsC,6CAA6C,2CAA2C,SAAS,0DAA0D,oBAAoB,mCAAmC,6FAA6F,mDAAmD,iEAAiE,uCAAuC,eAAe,OAAO,0CAA0C,eAAe,uBAAuB,8EAA8E,6DAA6D,wEAAwE,gDAAgD,yCAAyC,iBAAiB,OAAO,4CAA4C,iBAAiB,eAAe,uBAAuB,WAAW,SAAS,EAAE,kCAAkC,wCAAwC,EAAE,OAAO,8IAA8I,wBAAwB,8BAA8B,sBAAsB,2BAA2B,uCAAuC,0EAA0E,sDAAsD,WAAW,+BAA+B,6KAA6K,kEAAkE,aAAa,gEAAgE,yCAAyC,4BAA4B,gCAAgC,4CAA4C,0CAA0C,6CAA6C,sCAAsC,yBAAyB,SAAS,OAAO,6UAA6U,QAAQ,iIAAiI,8BAA8B,4DAA4D,iBAAiB,SAAS,6KAA6K,wBAAwB,iBAAiB,SAAS,2BAA2B,qEAAqE,8EAA8E,iCAAiC,WAAW,qFAAqF,6BAA6B,SAAS,kCAAkC,mBAAmB,mCAAmC,6CAA6C,sCAAsC,WAAW,qEAAqE,SAAS,sGAAsG,4EAA4E,mDAAmD,+BAA+B,mGAAmG,SAAS,6BAA6B,OAAO,iJAAiJ,SAAS,oFAAoF,qBAAqB,mEAAmE,wDAAwD,OAAO,kEAAkE,iDAAiD,OAAO,MAAM,iDAAiD,oBAAoB,GAAG,EAAE,yfAAyf,mBAAmB,mBAAmB,gBAAgB,cAAc,kGAAkG,OAAO,0EAA0E,sBAAsB,yBAAyB,oFAAoF,SAAS,OAAO,yGAAyG,OAAO,2DAA2D,oBAAoB,OAAO,+QAA+Q,OAAO,gDAAgD,MAAM,+FAA+F,kCAAkC,0BAA0B,qCAAqC,SAAS,mCAAmC,uCAAuC,SAAS,6BAA6B,OAAO,2HAA2H,iCAAiC,EAAE,EAAE,EAAE,WAAW,yBAAyB,oBAAoB,EAAE,mDAAmD,oBAAoB,0CAA0C,OAAO,sEAAsE,wCAAwC,8QAA8Q,OAAO,2CAA2C,0CAA0C,uDAAuD,WAAW,+CAA+C,SAAS,kCAAkC,6EAA6E,SAAS,sCAAsC,8FAA8F,gFAAgF,SAAS,gCAAgC,oBAAoB,SAAS,sEAAsE,oCAAoC,SAAS,wCAAwC,qCAAqC,kDAAkD,WAAW,sBAAsB,wEAAwE,WAAW,EAAE,SAAS,6CAA6C,aAAa,QAAQ,OAAO,yBAAyB,GAAG,EAAE,u1BAAu1B,mGAAmG,gDAAgD,4EAA4E,sDAAsD,iJAAiJ,OAAO,EAAE,6BAA6B,MAAM,6GAA6G,sBAAsB,4GAA4G,mCAAmC,aAAa,wCAAwC,SAAS,aAAa,8IAA8I,SAAS,OAAO,iQAAiQ,wCAAwC,wLAAwL,mBAAmB,WAAW,oBAAoB,mLAAmL,SAAS,qBAAqB,OAAO,kDAAkD,gBAAgB,wCAAwC,8CAA8C,sEAAsE,gEAAgE,SAAS,OAAO,yBAAyB,SAAS,qBAAqB,OAAO,oCAAoC,8BAA8B,wCAAwC,+IAA+I,iKAAiK,iFAAiF,mDAAmD,yBAAyB,iBAAiB,uBAAuB,6DAA6D,iBAAiB,aAAa,8HAA8H,eAAe,EAAE,aAAa,OAAO,2LAA2L,8CAA8C,qHAAqH,yBAAyB,iBAAiB,0IAA0I,0CAA0C,iBAAiB,qEAAqE,6DAA6D,iBAAiB,eAAe,EAAE,aAAa,kQAAkQ,mDAAmD,8DAA8D,+DAA+D,4DAA4D,kGAAkG,yCAAyC,mBAAmB,iBAAiB,gBAAgB,8EAA8E,aAAa,WAAW,SAAS,EAAE,8CAA8C,gCAAgC,SAAS,EAAE,6GAA6G,oDAAoD,SAAS,EAAE,2CAA2C,mEAAmE,qDAAqD,gFAAgF,sDAAsD,6CAA6C,WAAW,0CAA0C,gCAAgC,0CAA0C,sBAAsB,EAAE,aAAa,8CAA8C,iDAAiD,kCAAkC,6BAA6B,EAAE,+BAA+B,WAAW,kCAAkC,SAAS,EAAE,4CAA4C,qDAAqD,4DAA4D,+JAA+J,mCAAmC,oBAAoB,EAAE,iDAAiD,mKAAmK,0DAA0D,eAAe,aAAa,WAAW,EAAE,SAAS,EAAE,qPAAqP,gDAAgD,kEAAkE,gCAAgC,qEAAqE,4OAA4O,kHAAkH,eAAe,uMAAuM,2CAA2C,oBAAoB,EAAE,mDAAmD,eAAe,aAAa,YAAY,kEAAkE,SAAS,sVAAsV,gDAAgD,kFAAkF,mGAAmG,wDAAwD,qCAAqC,2CAA2C,eAAe,aAAa,YAAY,kEAAkE,SAAS,OAAO,8CAA8C,sDAAsD,6CAA6C,SAAS,4CAA4C,0EAA0E,kEAAkE,kEAAkE,0FAA0F,SAAS,OAAO,sDAAsD,iEAAiE,KAAK,kKAAkK,QAAQ,oEAAoE,QAAQ,qHAAqH,qIAAqI,MAAM,8CAA8C,0BAA0B,GAAG,EAAE,saAAsa,EAAE,mhBAAmhB,2BAA2B,0EAA0E,4FAA4F,uCAAuC,oDAAoD,kCAAkC,yCAAyC,SAAS,OAAO,yCAAyC,SAAS,OAAO,EAAE,KAAK,mDAAmD,wCAAwC,oBAAoB,6DAA6D,SAAS,OAAO,8DAA8D,SAAS,oCAAoC,OAAO,KAAK,6CAA6C,2DAA2D,kCAAkC,uBAAuB,oBAAoB,OAAO,mCAAmC,+BAA+B,iCAAiC,gBAAgB,SAAS,OAAO,kHAAkH,gDAAgD,OAAO,gJAAgJ,2CAA2C,OAAO,+BAA+B,KAAK,6CAA6C,0KAA0K,qCAAqC,uCAAuC,6BAA6B,8BAA8B,sBAAsB,OAAO,sBAAsB,KAAK,uBAAuB,2vBAA2vB,6VAA6V,mEAAmE,6DAA6D,+EAA+E,sHAAsH,+NAA+N,sGAAsG,sDAAsD,mCAAmC,WAAW,SAAS,kJAAkJ,sBAAsB,oDAAoD,kCAAkC,SAAS,OAAO,yHAAyH,yBAAyB,oBAAoB,OAAO,iCAAiC,iTAAiT,+EAA+E,oDAAoD,gCAAgC,eAAe,iEAAiE,oBAAoB,aAAa,WAAW,8LAA8L,6CAA6C,8CAA8C,8BAA8B,aAAa,+DAA+D,WAAW,SAAS,4NAA4N,+MAA+M,6MAA6M,6MAA6M,qDAAqD,OAAO,mIAAmI,OAAO,sGAAsG,4BAA4B,6CAA6C,sBAAsB,gGAAgG,+CAA+C,SAAS,0CAA0C,qCAAqC,+BAA+B,SAAS,iDAAiD,gEAAgE,0CAA0C,uEAAuE,SAAS,OAAO,2JAA2J,OAAO,iFAAiF,qBAAqB,6MAA6M,kDAAkD,EAAE,qHAAqH,kDAAkD,0BAA0B,yBAAyB,EAAE,yCAAyC,sDAAsD,+RAA+R,yDAAyD,sFAAsF,SAAS,qCAAqC,yFAAyF,yCAAyC,WAAW,SAAS,kCAAkC,0BAA0B,yFAAyF,0BAA0B,uCAAuC,4BAA4B,aAAa,OAAO,uEAAuE,aAAa,yCAAyC,WAAW,sBAAsB,SAAS,uCAAuC,wCAAwC,4BAA4B,mBAAmB,WAAW,kFAAkF,SAAS,6CAA6C,iHAAiH,SAAS,0CAA0C,8BAA8B,iCAAiC,iDAAiD,kEAAkE,aAAa,EAAE,6BAA6B,WAAW,8BAA8B,iDAAiD,WAAW,4BAA4B,qCAAqC,WAAW,wEAAwE,qEAAqE,mCAAmC,+CAA+C,0BAA0B,8CAA8C,sCAAsC,mBAAmB,OAAO,sDAAsD,oDAAoD,4CAA4C,iEAAiE,qDAAqD,0CAA0C,yBAAyB,uBAAuB,EAAE,qBAAqB,EAAE,mBAAmB,iBAAiB,EAAE,eAAe,oBAAoB,mIAAmI,8FAA8F,yBAAyB,iBAAiB,6FAA6F,oCAAoC,iBAAiB,eAAe,EAAE,oBAAoB,WAAW,2BAA2B,SAAS,kDAAkD,2BAA2B,UAAU,kCAAkC,mDAAmD,4DAA4D,wDAAwD,mCAAmC,4CAA4C,mDAAmD,wCAAwC,eAAe,aAAa,EAAE,+DAA+D,4BAA4B,WAAW,qDAAqD,qCAAqC,sDAAsD,sEAAsE,iDAAiD,iDAAiD,iDAAiD,uDAAuD,wBAAwB,+BAA+B,iBAAiB,8BAA8B,eAAe,EAAE,aAAa,EAAE,qBAAqB,WAAW,+CAA+C,mDAAmD,WAAW,EAAE,yDAAyD,qCAAqC,WAAW,EAAE,yCAAyC,uDAAuD,iGAAiG,aAAa,OAAO,yDAAyD,aAAa,WAAW,EAAE,SAAS,mCAAmC,+CAA+C,gDAAgD,uBAAuB,4BAA4B,WAAW,OAAO,gDAAgD,+BAA+B,cAAc,WAAW,SAAS,EAAE,OAAO,kGAAkG,cAAc,4DAA4D,eAAe,6KAA6K,mDAAmD,UAAU,EAAE,sJAAsJ,mDAAmD,UAAU,EAAE,kCAAkC,gCAAgC,8BAA8B,SAAS,8DAA8D,OAAO,+JAA+J,eAAe,mEAAmE,eAAe,4EAA4E,gDAAgD,oFAAoF,6BAA6B,4CAA4C,2KAA2K,kCAAkC,eAAe,EAAE,sCAAsC,6CAA6C,sCAAsC,YAAY,mEAAmE,SAAS,wBAAwB,OAAO,kJAAkJ,OAAO,mDAAmD,OAAO,qDAAqD,eAAe,uFAAuF,wDAAwD,OAAO,+JAA+J,6FAA6F,gEAAgE,iFAAiF,gDAAgD,6BAA6B,wEAAwE,eAAe,wHAAwH,2DAA2D,uDAAuD,sCAAsC,QAAQ,OAAO,oCAAoC,WAAW,mBAAmB,SAAS,mFAAmF,mDAAmD,sDAAsD,qCAAqC,2BAA2B,kCAAkC,aAAa,WAAW,EAAE,mBAAmB,SAAS,6DAA6D,oEAAoE,sBAAsB,SAAS,6CAA6C,qCAAqC,eAAe,EAAE,SAAS,gCAAgC,mEAAmE,SAAS,0BAA0B,0DAA0D,wBAAwB,OAAO,qIAAqI,OAAO,0DAA0D,QAAQ,+FAA+F,OAAO,oFAAoF,QAAQ,qGAAqG,kDAAkD,mDAAmD,mEAAmE,8DAA8D,aAAa,0BAA0B,8DAA8D,8BAA8B,aAAa,0BAA0B,6DAA6D,yDAAyD,0BAA0B,aAAa,sCAAsC,4BAA4B,aAAa,OAAO,4BAA4B,aAAa,0BAA0B,SAAS,yEAAyE,+DAA+D,SAAS,uBAAuB,OAAO,0PAA0P,wCAAwC,6CAA6C,wBAAwB,SAAS,EAAE,OAAO,qJAAqJ,OAAO,8CAA8C,OAAO,0FAA0F,8BAA8B,OAAO,sIAAsI,oBAAoB,2CAA2C,OAAO,6DAA6D,oCAAoC,OAAO,iJAAiJ,eAAe,kGAAkG,6CAA6C,4CAA4C,6BAA6B,6CAA6C,sBAAsB,EAAE,WAAW,qCAAqC,4BAA4B,EAAE,SAAS,qCAAqC,OAAO,MAAM,wCAAwC,4BAA4B,wHAAwH,2BAA2B,GAAG,EAAE,mgBAAmgB,mDAAmD,iDAAiD,4BAA4B,yCAAyC,gEAAgE,kDAAkD,8CAA8C,wBAAwB,8CAA8C,aAAa,WAAW,EAAE,qCAAqC,SAAS,+BAA+B,2BAA2B,kDAAkD,sEAAsE,8DAA8D,aAAa,EAAE,WAAW,SAAS,uCAAuC,gEAAgE,uBAAuB,uCAAuC,qCAAqC,mNAAmN,EAAE,aAAa,uCAAuC,gGAAgG,uCAAuC,8DAA8D,EAAE,eAAe,aAAa,4CAA4C,qCAAqC,6DAA6D,EAAE,aAAa,YAAY,wDAAwD,SAAS,OAAO,EAAE,KAAK,EAAE,GAAG,EAAE,qfAAqf,wDAAwD,+BAA+B,SAAS,MAAM,EAAE,gGAAgG,iEAAiE,MAAM,EAAE,iIAAiI,eAAe,gKAAgK,OAAO,+HAA+H,2BAA2B,4BAA4B,0EAA0E,yEAAyE,kGAAkG,aAAa,2BAA2B,gHAAgH,aAAa,yBAAyB,WAAW,OAAO,kCAAkC,WAAW,SAAS,6EAA6E,0EAA0E,sEAAsE,iEAAiE,4CAA4C,wCAAwC,mBAAmB,EAAE,qCAAqC,oBAAoB,qCAAqC,wDAAwD,WAAW,sGAAsG,uCAAuC,uCAAuC,WAAW,wCAAwC,wEAAwE,WAAW,0CAA0C,kEAAkE,6DAA6D,aAAa,EAAE,WAAW,uEAAuE,0CAA0C,6BAA6B,MAAM,kCAAkC,iEAAiE,2BAA2B,WAAW,gIAAgI,SAAS,OAAO,MAAM,oCAAoC,iBAAiB,GAAG,EAAE,wdAAwd,kGAAkG,qDAAqD,kCAAkC,wBAAwB,8BAA8B,yBAAyB,sBAAsB,OAAO,qBAAqB,4BAA4B,uDAAuD,uIAAuI,gJAAgJ,qBAAqB,WAAW,6BAA6B,wBAAwB,4CAA4C,WAAW,4CAA4C,4DAA4D,SAAS,UAAU,OAAO,4BAA4B,yFAAyF,8BAA8B,cAAc,OAAO,6DAA6D,WAAW,2BAA2B,SAAS,gBAAgB,EAAE,2BAA2B,uCAAuC,wJAAwJ,WAAW,SAAS,uBAAuB,EAAE,OAAO,sBAAsB,KAAK,cAAc,sHAAsH,OAAO,2DAA2D,OAAO,8DAA8D,OAAO,sMAAsM,OAAO,mEAAmE,OAAO,+FAA+F,aAAa,wGAAwG,SAAS,aAAa,4BAA4B,OAAO,sBAAsB,GAAG,EAAE,gdAAgd,qCAAqC,EAAE,2CAA2C,+FAA+F,iCAAiC,UAAU,MAAM,EAAE,2CAA2C,+FAA+F,iCAAiC,UAAU,MAAM,EAAE,2JAA2J,8BAA8B,sCAAsC,+BAA+B,YAAY,qBAAqB,KAAK,qQAAqQ,OAAO,6JAA6J,uCAAuC,MAAM,+BAA+B,iLAAiL,OAAO,uJAAuJ,iDAAiD,6CAA6C,yCAAyC,4BAA4B,0CAA0C,iBAAiB,sDAAsD,WAAW,0BAA0B,iEAAiE,WAAW,OAAO,iEAAiE,WAAW,UAAU,wCAAwC,oBAAoB,4DAA4D,WAAW,UAAU,sCAAsC,kHAAkH,EAAE,8GAA8G,yBAAyB,OAAO,MAAM,yBAAyB,GAAG,EAAE,+WAA+W,YAAY,mBAAmB,kDAAkD,gHAAgH,0CAA0C,kDAAkD,yBAAyB,uCAAuC,oCAAoC,UAAU,2CAA2C,uFAAuF,EAAE,uBAAuB,OAAO,MAAM,GAAG,EAAE,++BAA++B,0DAA0D,6DAA6D,gFAAgF,0CAA0C,gCAAgC,4BAA4B,OAAO,KAAK,aAAa,oBAAoB,gCAAgC,0CAA0C,mDAAmD,gCAAgC,kDAAkD,KAAK,2JAA2J,gBAAgB,gCAAgC,uBAAuB,OAAO,0CAA0C,KAAK,6GAA6G,oCAAoC,mBAAmB,gHAAgH,eAAe,OAAO,4BAA4B,2BAA2B,2EAA2E,sDAAsD,sBAAsB,SAAS,+CAA+C,0BAA0B,uBAAuB,OAAO,qCAAqC,wDAAwD,YAAY,4BAA4B,8BAA8B,gBAAgB,SAAS,gDAAgD,2BAA2B,0BAA0B,gCAAgC,kBAAkB,WAAW,oDAAoD,sBAAsB,+BAA+B,WAAW,SAAS,OAAO,sBAAsB,qBAAqB,KAAK,iGAAiG,2BAA2B,gHAAgH,eAAe,OAAO,gCAAgC,2BAA2B,wHAAwH,OAAO,mDAAmD,aAAa,qCAAqC,OAAO,aAAa,kCAAkC,qBAAqB,KAAK,sBAAsB,mIAAmI,OAAO,qJAAqJ,OAAO,gDAAgD,OAAO,2EAA2E,2BAA2B,OAAO,wIAAwI,OAAO,+CAA+C,OAAO,+FAA+F,gDAAgD,OAAO,uHAAuH,OAAO,6CAA6C,OAAO,8EAA8E,kCAAkC,eAAe,OAAO,2GAA2G,OAAO,qEAAqE,0BAA0B,eAAe,OAAO,uGAAuG,mBAAmB,eAAe,OAAO,MAAM,aAAa,0BAA0B,GAAG,EAAE,8rBAA8rB,iCAAiC,2BAA2B,qBAAqB,2CAA2C,yBAAyB,6DAA6D,qBAAqB,+DAA+D,qBAAqB,iFAAiF,qDAAqD,uDAAuD,qDAAqD,sCAAsC,yCAAyC,2KAA2K,kCAAkC,OAAO,MAAM,mFAAmF,wDAAwD,KAAK,EAAE,gBAAgB,GAAG,EAAE,+mCAA+mC,mBAAmB,2BAA2B,iBAAiB,0EAA0E,4HAA4H,OAAO,mFAAmF,uCAAuC,2BAA2B,OAAO,wIAAwI,qBAAqB,0FAA0F,gEAAgE,OAAO,oIAAoI,8FAA8F,kDAAkD,8CAA8C,qCAAqC,uFAAuF,iCAAiC,6BAA6B,+BAA+B,aAAa,8BAA8B,WAAW,SAAS,EAAE,0BAA0B,4CAA4C,SAAS,yBAAyB,0CAA0C,SAAS,OAAO,sIAAsI,qBAAqB,wFAAwF,mCAAmC,+CAA+C,iDAAiD,oCAAoC,SAAS,EAAE,sBAAsB,OAAO,2IAA2I,qBAAqB,2EAA2E,OAAO,wIAAwI,qBAAqB,mFAAmF,OAAO,+BAA+B,qBAAqB,OAAO,KAAK,EAAE,GAAG,EAAE,woBAAwoB,mBAAmB,4BAA4B,iBAAiB,mFAAmF,2IAA2I,qBAAqB,oFAAoF,kEAAkE,uCAAuC,6BAA6B,kHAAkH,EAAE,8BAA8B,0BAA0B,WAAW,SAAS,EAAE,OAAO,sIAAsI,qBAAqB,wFAAwF,yIAAyI,OAAO,KAAK,EAAE,GAAG,EAAE,meAAme,wDAAwD,0BAA0B,+KAA+K,mBAAmB,4BAA4B,iBAAiB,+DAA+D,gIAAgI,OAAO,6DAA6D,OAAO,+DAA+D,OAAO,gDAAgD,OAAO,sEAAsE,8BAA8B,gCAAgC,iCAAiC,oCAAoC,kDAAkD,6BAA6B,SAAS,EAAE,6CAA6C,gCAAgC,6BAA6B,SAAS,EAAE,iCAAiC,6CAA6C,SAAS,qBAAqB,0CAA0C,SAAS,8BAA8B,mCAAmC,SAAS,OAAO,qGAAqG,OAAO,8CAA8C,6BAA6B,kFAAkF,gCAAgC,wCAAwC,SAAS,uCAAuC,sBAAsB,OAAO,oKAAoK,gEAAgE,uBAAuB,kCAAkC,sDAAsD,SAAS,wBAAwB,OAAO,+GAA+G,OAAO,sEAAsE,kEAAkE,+FAA+F,sCAAsC,oBAAoB,wBAAwB,uGAAuG,8DAA8D,WAAW,4EAA4E,SAAS,OAAO,qBAAqB,SAAS,qBAAqB,2CAA2C,0FAA0F,SAAS,oEAAoE,2WAA2W,OAAO,iCAAiC,wEAAwE,wCAAwC,yDAAyD,uBAAuB,4BAA4B,gGAAgG,yDAAyD,aAAa,4CAA4C,WAAW,OAAO,2BAA2B,WAAW,wDAAwD,SAAS,oDAAoD,iCAAiC,SAAS,EAAE,oDAAoD,wDAAwD,sCAAsC,kFAAkF,gGAAgG,uBAAuB,2DAA2D,oDAAoD,8DAA8D,aAAa,uCAAuC,WAAW,oBAAoB,wCAAwC,WAAW,kDAAkD,SAAS,EAAE,+BAA+B,OAAO,KAAK,EAAE,GAAG,EAAE,yjBAAyjB,4DAA4D,iBAAiB,eAAe,iBAAiB,gBAAgB,0BAA0B,uMAAuM,mBAAmB,+BAA+B,iBAAiB,0DAA0D,+GAA+G,OAAO,sEAAsE,+CAA+C,wCAAwC,yBAAyB,+BAA+B,oQAAoQ,OAAO,KAAK,EAAE,GAAG,EAAE,sbAAsb,mFAAmF,0BAA0B,qLAAqL,mBAAmB,4BAA4B,iBAAiB,sFAAsF,kIAAkI,OAAO,6DAA6D,QAAQ,oGAAoG,wBAAwB,gCAAgC,kDAAkD,6BAA6B,SAAS,EAAE,wCAAwC,6BAA6B,mCAAmC,0CAA0C,WAAW,SAAS,EAAE,8CAA8C,OAAO,mHAAmH,QAAQ,2CAA2C,4BAA4B,yFAAyF,gCAAgC,2CAA2C,SAAS,2CAA2C,sBAAsB,OAAO,+GAA+G,QAAQ,2CAA2C,4BAA4B,uFAAuF,gCAAgC,gCAAgC,SAAS,qCAAqC,OAAO,+GAA+G,OAAO,sEAAsE,kEAAkE,+XAA+X,OAAO,iCAAiC,wBAAwB,mCAAmC,kDAAkD,sCAAsC,SAAS,oDAAoD,qEAAqE,SAAS,EAAE,oEAAoE,8BAA8B,2BAA2B,SAAS,EAAE,oDAAoD,wDAAwD,6CAA6C,sCAAsC,WAAW,sCAAsC,kFAAkF,gGAAgG,uBAAuB,2DAA2D,oDAAoD,8DAA8D,aAAa,uCAAuC,WAAW,oBAAoB,wCAAwC,WAAW,SAAS,EAAE,0CAA0C,wBAAwB,SAAS,+BAA+B,OAAO,KAAK,EAAE,GAAG,EAAE,2uBAA2uB,mBAAmB,4BAA4B,8HAA8H,OAAO,6DAA6D,OAAO,kFAAkF,wBAAwB,gCAAgC,iCAAiC,uCAAuC,6BAA6B,gCAAgC,4FAA4F,8BAA8B,kCAAkC,SAAS,wCAAwC,kDAAkD,wDAAwD,mBAAmB,WAAW,wCAAwC,0DAA0D,kCAAkC,oCAAoC,gCAAgC,+BAA+B,+CAA+C,iBAAiB,eAAe,aAAa,mCAAmC,WAAW,SAAS,EAAE,sEAAsE,0BAA0B,mEAAmE,+BAA+B,qHAAqH,gCAAgC,mCAAmC,6BAA6B,eAAe,aAAa,EAAE,2HAA2H,2BAA2B,EAAE,WAAW,SAAS,EAAE,wCAAwC,+CAA+C,mDAAmD,0CAA0C,0CAA0C,gDAAgD,2CAA2C,aAAa,WAAW,SAAS,EAAE,4CAA4C,uDAAuD,uGAAuG,6DAA6D,4GAA4G,kEAAkE,iEAAiE,iEAAiE,6CAA6C,WAAW,SAAS,EAAE,OAAO,wCAAwC,mCAAmC,+CAA+C,SAAS,+CAA+C,OAAO,0CAA0C,mCAAmC,iDAAiD,SAAS,iDAAiD,OAAO,+BAA+B,wDAAwD,2BAA2B,qCAAqC,wFAAwF,oBAAoB,kEAAkE,WAAW,OAAO,4CAA4C,WAAW,2FAA2F,kCAAkC,6BAA6B,8CAA8C,0CAA0C,2BAA2B,aAAa,WAAW,EAAE,mDAAmD,mDAAmD,wDAAwD,aAAa,EAAE,WAAW,eAAe,gDAAgD,0CAA0C,WAAW,EAAE,4CAA4C,4DAA4D,+BAA+B,aAAa,WAAW,EAAE,wCAAwC,SAAS,2BAA2B,8BAA8B,uBAAuB,EAAE,gGAAgG,OAAO,2HAA2H,kCAAkC,OAAO,uIAAuI,oGAAoG,2EAA2E,oEAAoE,iMAAiM,SAAS,wBAAwB,gEAAgE,SAAS,OAAO,8BAA8B,SAAS,gHAAgH,sEAAsE,wDAAwD,SAAS,2BAA2B,+EAA+E,EAAE,wBAAwB,sBAAsB,OAAO,uJAAuJ,oBAAoB,kEAAkE,wBAAwB,yDAAyD,kDAAkD,iCAAiC,SAAS,EAAE,+BAA+B,OAAO,+GAA+G,OAAO,sEAAsE,4FAA4F,kDAAkD,2EAA2E,2CAA2C,sEAAsE,SAAS,mCAAmC,oEAAoE,SAAS,8BAA8B,0DAA0D,SAAS,iCAAiC,6DAA6D,SAAS,+GAA+G,gCAAgC,iDAAiD,SAAS,+BAA+B,sCAAsC,iEAAiE,SAAS,wCAAwC,6BAA6B,0dAA0d,yCAAyC,SAAS,gZAAgZ,OAAO,iCAAiC,+BAA+B,yCAAyC,sBAAsB,SAAS,yFAAyF,2DAA2D,SAAS,yCAAyC,OAAO,mDAAmD,wBAAwB,mCAAmC,0BAA0B,iBAAiB,SAAS,gDAAgD,8BAA8B,qCAAqC,kEAAkE,EAAE,YAAY,UAAU,0BAA0B,qCAAqC,SAAS,OAAO,sCAAsC,mGAAmG,0BAA0B,SAAS,6CAA6C,yBAAyB,8LAA8L,EAAE,SAAS,EAAE,gCAAgC,wBAAwB,8CAA8C,iDAAiD,gCAAgC,yBAAyB,4BAA4B,WAAW,SAAS,EAAE,6CAA6C,uBAAuB,SAAS,EAAE,yCAAyC,8BAA8B,6BAA6B,EAAE,2BAA2B,yBAAyB,gGAAgG,OAAO,+BAA+B,wBAAwB,2BAA2B,SAAS,OAAO,iCAAiC,wBAAwB,qDAAqD,mDAAmD,8CAA8C,WAAW,SAAS,EAAE,wDAAwD,+CAA+C,SAAS,EAAE,2DAA2D,mDAAmD,yDAAyD,mFAAmF,sFAAsF,sFAAsF,qFAAqF,8DAA8D,yBAAyB,SAAS,EAAE,uEAAuE,gCAAgC,SAAS,EAAE,0CAA0C,iDAAiD,gCAAgC,4BAA4B,WAAW,SAAS,EAAE,+CAA+C,gDAAgD,4CAA4C,WAAW,UAAU,2CAA2C,kCAAkC,gDAAgD,sCAAsC,iCAAiC,wCAAwC,qCAAqC,aAAa,8BAA8B,iCAAiC,sCAAsC,aAAa,WAAW,SAAS,EAAE,+BAA+B,OAAO,6BAA6B,mCAAmC,0BAA0B,6BAA6B,SAAS,wBAAwB,OAAO,KAAK,EAAE,GAAG,EAAE,2mBAA2mB,mBAAmB,8BAA8B,8HAA8H,OAAO,mFAAmF,wBAAwB,sCAAsC,kCAAkC,iCAAiC,SAAS,gCAAgC,uCAAuC,uDAAuD,0CAA0C,SAAS,EAAE,OAAO,wCAAwC,yCAAyC,wEAAwE,oBAAoB,eAAe,yCAAyC,WAAW,aAAa,gCAAgC,SAAS,OAAO,iCAAiC,wBAAwB,qDAAqD,2CAA2C,uCAAuC,WAAW,SAAS,EAAE,+BAA+B,OAAO,KAAK,EAAE,GAAG,EAAE,ihBAAihB,mBAAmB,4BAA4B,yHAAyH,kDAAkD,4BAA4B,4BAA4B,6CAA6C,iMAAiM,6BAA6B,6EAA6E,WAAW,gEAAgE,uCAAuC,wCAAwC,wCAAwC,8EAA8E,+BAA+B,WAAW,4BAA4B,gCAAgC,yBAAyB,6BAA6B,WAAW,gDAAgD,oCAAoC,8BAA8B,SAAS,OAAO,4BAA4B,SAAS,8HAA8H,OAAO,4HAA4H,wBAAwB,2BAA2B,4BAA4B,SAAS,OAAO,0IAA0I,wBAAwB,sCAAsC,wCAAwC,mCAAmC,qDAAqD,+BAA+B,aAAa,OAAO,+BAA+B,yCAAyC,aAAa,WAAW,SAAS,EAAE,+BAA+B,OAAO,6BAA6B,yBAAyB,8BAA8B,4BAA4B,SAAS,+BAA+B,OAAO,KAAK,EAAE,GAAG,EAAE,+xBAA+xB,mBAAmB,6BAA6B,iCAAiC,kIAAkI,OAAO,mFAAmF,8BAA8B,wCAAwC,OAAO,wGAAwG,OAAO,wCAAwC,8BAA8B,0EAA0E,oBAAoB,8BAA8B,8DAA8D,sBAAsB,SAAS,6BAA6B,OAAO,mGAAmG,uBAAuB,yDAAyD,2BAA2B,2DAA2D,oBAAoB,OAAO,+GAA+G,OAAO,sEAAsE,iGAAiG,kGAAkG,6IAA6I,qBAAqB,2CAA2C,0FAA0F,SAAS,kpBAAkpB,OAAO,0IAA0I,gEAAgE,wCAAwC,+CAA+C,mBAAmB,WAAW,iGAAiG,yCAAyC,yCAAyC,WAAW,SAAS,EAAE,uCAAuC,+BAA+B,OAAO,KAAK,EAAE,GAAG,EAAE,ybAAyb,uBAAuB,EAAE,iDAAiD,iDAAiD,sDAAsD,2DAA2D,4GAA4G,OAAO,yEAAyE,2CAA2C,mCAAmC,uCAAuC,gBAAgB,cAAc,cAAc,oBAAoB,oBAAoB,oBAAoB,qCAAqC,mCAAmC,iCAAiC,qBAAqB,oBAAoB,oEAAoE,SAAS,6GAA6G,wDAAwD,6CAA6C,uCAAuC,mBAAmB,kBAAkB,uFAAuF,OAAO,wDAAwD,mCAAmC,+CAA+C,oDAAoD,oDAAoD,gDAAgD,gDAAgD,iCAAiC,8CAA8C,iBAAiB,SAAS,0BAA0B,yCAAyC,kDAAkD,oCAAoC,qCAAqC,wCAAwC,kBAAkB,kBAAkB,kBAAkB,qCAAqC,uBAAuB,kBAAkB,kBAAkB,qCAAqC,uBAAuB,kBAAkB,kBAAkB,qCAAqC,kBAAkB,uBAAuB,kBAAkB,qCAAqC,kBAAkB,uBAAuB,kBAAkB,0CAA0C,kBAAkB,kBAAkB,kBAAkB,8CAA8C,SAAS,uCAAuC,qCAAqC,qCAAqC,OAAO,qIAAqI,OAAO,8DAA8D,2BAA2B,+CAA+C,oDAAoD,SAAS,gDAAgD,OAAO,iJAAiJ,OAAO,6DAA6D,gBAAgB,sDAAsD,OAAO,+IAA+I,OAAO,6DAA6D,gCAAgC,OAAO,mMAAmM,mBAAmB,aAAa,uBAAuB,+CAA+C,cAAc,8CAA8C,mBAAmB,8DAA8D,oBAAoB,yCAAyC,+BAA+B,wBAAwB,wBAAwB,wBAAwB,WAAW,2BAA2B,gDAAgD,WAAW,SAAS,OAAO,+GAA+G,yCAAyC,yCAAyC,yCAAyC,WAAW,8BAA8B,EAAE,QAAQ,EAAE,QAAQ,EAAE,oBAAoB,yCAAyC,yCAAyC,yCAAyC,WAAW,+DAA+D,sDAAsD,sDAAsD,sDAAsD,WAAW,SAAS,8CAA8C,4CAA4C,4CAA4C,sBAAsB,OAAO,oBAAoB,qBAAqB,OAAO,2BAA2B,yBAAyB,yBAAyB,yBAAyB,KAAK,mBAAmB,GAAG,EAAE,uoBAAuoB,mBAAmB,4BAA4B,iBAAiB,8CAA8C,qIAAqI,OAAO,6DAA6D,OAAO,oEAAoE,8BAA8B,OAAO,iCAAiC,mGAAmG,uCAAuC,uCAAuC,qCAAqC,uCAAuC,uCAAuC,+CAA+C,oCAAoC,kCAAkC,8DAA8D,6DAA6D,oBAAoB,6CAA6C,SAAS,gDAAgD,wCAAwC,uCAAuC,6CAA6C,EAAE,6BAA6B,sCAAsC,mFAAmF,EAAE,WAAW,oDAAoD,yBAAyB,UAAU,8BAA8B,6BAA6B,EAAE,SAAS,gDAAgD,kBAAkB,uCAAuC,8BAA8B,oCAAoC,6BAA6B,8BAA8B,SAAS,iCAAiC,kBAAkB,wCAAwC,8BAA8B,oCAAoC,iCAAiC,8BAA8B,SAAS,sCAAsC,8BAA8B,2BAA2B,UAAU,wBAAwB,iEAAiE,2FAA2F,EAAE,+DAA+D,6DAA6D,EAAE,0BAA0B,OAAO,0BAA0B,oCAAoC,OAAO,iCAAiC,wBAAwB,iCAAiC,oCAAoC,iCAAiC,4BAA4B,WAAW,SAAS,OAAO,sCAAsC,SAAS,OAAO,4BAA4B,2BAA2B,oCAAoC,SAAS,6BAA6B,OAAO,+GAA+G,OAAO,sEAAsE,2EAA2E,8HAA8H,2CAA2C,yDAAyD,+GAA+G,uCAAuC,+CAA+C,OAAO,OAAO,2IAA2I,2FAA2F,6IAA6I,WAAW,wBAAwB,SAAS,+FAA+F,mEAAmE,WAAW,iSAAiS,snBAAsnB,OAAO,KAAK,EAAE,GAAG,EAAE,keAAke,mBAAmB,4BAA4B,kHAAkH,OAAO,6DAA6D,OAAO,6FAA6F,wBAAwB,oCAAoC,yCAAyC,SAAS,gCAAgC,iCAAiC,6BAA6B,wCAAwC,uCAAuC,8DAA8D,iCAAiC,uCAAuC,EAAE,WAAW,SAAS,EAAE,sCAAsC,OAAO,iGAAiG,mBAAmB,4DAA4D,wBAAwB,0CAA0C,sBAAsB,OAAO,6GAA6G,MAAM,gFAAgF,gCAAgC,uCAAuC,SAAS,qCAAqC,sBAAsB,OAAO,+GAA+G,OAAO,sEAAsE,wBAAwB,kLAAkL,OAAO,iCAAiC,wBAAwB,mDAAmD,yDAAyD,SAAS,EAAE,+BAA+B,OAAO,2CAA2C,wFAAwF,uCAAuC,OAAO,OAAO,qaAAqa,SAAS,sBAAsB,wEAAwE,SAAS,sBAAsB,OAAO,KAAK,EAAE,GAAG,EAAE,yhBAAyhB,wBAAwB,oJAAoJ,uBAAuB,kEAAkE,uDAAuD,kCAAkC,mCAAmC,iFAAiF,0BAA0B,aAAa,qEAAqE,0BAA0B,aAAa,WAAW,yBAAyB,SAAS,sDAAsD,yCAAyC,2BAA2B,iEAAiE,iCAAiC,WAAW,EAAE,iDAAiD,yEAAyE,2BAA2B,sEAAsE,uDAAuD,+GAA+G,EAAE,mDAAmD,mCAAmC,qCAAqC,EAAE,iBAAiB,oDAAoD,wBAAwB,iBAAiB,eAAe,aAAa,mCAAmC,WAAW,EAAE,SAAS,+BAA+B,OAAO,KAAK,EAAE,GAAG,EAAE,kdAAkd,OAAO,wIAAwI,mBAAmB,+BAA+B,iBAAiB,kEAAkE,0BAA0B,OAAO,+GAA+G,OAAO,sEAAsE,0EAA0E,uCAAuC,+BAA+B,qeAAqe,OAAO,KAAK,EAAE,GAAG,EAAE,giBAAgiB,qDAAqD,sCAAsC,gBAAgB,0BAA0B,mOAAmO,mBAAmB,+BAA+B,iBAAiB,0MAA0M,8BAA8B,0BAA0B,WAAW,SAAS,OAAO,qJAAqJ,8CAA8C,gDAAgD,4CAA4C,uFAAuF,QAAQ,YAAY,SAAS,mFAAmF,oDAAoD,wBAAwB,kDAAkD,sBAAsB,8MAA8M,aAAa,mCAAmC,yCAAyC,qDAAqD,+DAA+D,qCAAqC,aAAa,2CAA2C,+BAA+B,WAAW,SAAS,EAAE,OAAO,oHAAoH,OAAO,2DAA2D,oCAAoC,oBAAoB,EAAE,OAAO,uJAAuJ,oBAAoB,kEAAkE,wBAAwB,wBAAwB,0CAA0C,OAAO,iCAAiC,wBAAwB,wBAAwB,mCAAmC,iEAAiE,uDAAuD,mBAAmB,WAAW,6DAA6D,0CAA0C,WAAW,OAAO,iCAAiC,WAAW,0DAA0D,wFAAwF,sFAAsF,mCAAmC,WAAW,EAAE,mDAAmD,8BAA8B,uBAAuB,mEAAmE,WAAW,SAAS,wCAAwC,uBAAuB,OAAO,KAAK,EAAE,GAAG,EAAE,4fAA4f,mBAAmB,0BAA0B,iBAAiB,8NAA8N,+GAA+G,OAAO,sEAAsE,0EAA0E,2BAA2B,+BAA+B,8fAA8f,OAAO,KAAK,EAAE,GAAG,EAAE,usBAAusB,0BAA0B,+DAA+D,cAAc,4GAA4G,MAAM,0DAA0D,wCAAwC,yCAAyC,2CAA2C,sDAAsD,SAAS,OAAO,qBAAqB,MAAM,8CAA8C,iDAAiD,MAAM,2CAA2C,8CAA8C,MAAM,4CAA4C,8CAA8C,MAAM,qCAAqC,iEAAiE,MAAM,0CAA0C,8CAA8C,MAAM,qCAAqC,oDAAoD,MAAM,uCAAuC,wFAAwF,MAAM,0CAA0C,8CAA8C,MAAM,qCAAqC,sEAAsE,MAAM,yCAAyC,0CAA0C,kCAAkC,0BAA0B,QAAQ,4FAA4F,MAAM,yCAAyC,wCAAwC,2CAA2C,uGAAuG,MAAM,8CAA8C,oEAAoE,MAAM,8CAA8C,oEAAoE,MAAM,8CAA8C,gEAAgE,kBAAkB,MAAM,wCAAwC,2CAA2C,MAAM,iCAAiC,wCAAwC,yFAAyF,MAAM,cAAc,sBAAsB,GAAG,EAAE,8rBAA8rB,mBAAmB,uBAAuB,2BAA2B,0CAA0C,cAAc,4CAA4C,kBAAkB,kBAAkB,mEAAmE,QAAQ,MAAM,4CAA4C,4CAA4C,MAAM,kDAAkD,cAAc,qCAAqC,6EAA6E,QAAQ,MAAM,iDAAiD,6DAA6D,kCAAkC,OAAO,EAAE,4BAA4B,MAAM,sEAAsE,+EAA+E,4CAA4C,MAAM,gFAAgF,uBAAuB,YAAY,uDAAuD,0EAA0E,2CAA2C,SAAS,EAAE,0DAA0D,kBAAkB,2CAA2C,2FAA2F,YAAY,SAAS,EAAE,QAAQ,6CAA6C,qEAAqE,qCAAqC,SAAS,EAAE,8CAA8C,QAAQ,2CAA2C,sDAAsD,yEAAyE,iFAAiF,mCAAmC,sEAAsE,SAAS,qCAAqC,wEAAwE,SAAS,iCAAiC,QAAQ,qCAAqC,kDAAkD,2DAA2D,kEAAkE,SAAS,MAAM,QAAQ,sDAAsD,kBAAkB,OAAO,uQAAuQ,MAAM,mDAAmD,oCAAoC,mCAAmC,eAAe,OAAO,oBAAoB,6CAA6C,yEAAyE,SAAS,OAAO,OAAO,kCAAkC,OAAO,MAAM,sDAAsD,6CAA6C,0DAA0D,sEAAsE,OAAO,EAAE,6EAA6E,MAAM,6CAA6C,oCAAoC,2CAA2C,MAAM,yFAAyF,0CAA0C,oDAAoD,qFAAqF,+CAA+C,QAAQ,6CAA6C,mCAAmC,OAAO,EAAE,4CAA4C,kCAAkC,sCAAsC,0CAA0C,qCAAqC,+BAA+B,OAAO,wCAAwC,EAAE,SAAS,OAAO,+BAA+B,OAAO,yCAAyC,EAAE,SAAS,uBAAuB,OAAO,EAAE,uCAAuC,yEAAyE,2BAA2B,SAAS,OAAO,EAAE,2CAA2C,kDAAkD,wCAAwC,iDAAiD,WAAW,SAAS,EAAE,OAAO,EAAE,MAAM,+CAA+C,2DAA2D,iCAAiC,gBAAgB,gCAAgC,OAAO,iCAAiC,gBAAgB,kCAAkC,OAAO,iCAAiC,gBAAgB,kCAAkC,OAAO,OAAO,gBAAgB,6BAA6B,OAAO,MAAM,iFAAiF,yEAAyE,6BAA6B,0CAA0C,iCAAiC,qCAAqC,mBAAmB,WAAW,8BAA8B,0DAA0D,qBAAqB,kDAAkD,kDAAkD,6CAA6C,WAAW,EAAE,UAAU,sDAAsD,+BAA+B,SAAS,EAAE,OAAO,MAAM,8BAA8B,8HAA8H,OAAO,mFAAmF,yFAAyF,0EAA0E,yCAAyC,sCAAsC,oHAAoH,uCAAuC,qFAAqF,SAAS,gFAAgF,oEAAoE,yGAAyG,yCAAyC,sDAAsD,qCAAqC,mBAAmB,QAAQ,8KAA8K,oDAAoD,WAAW,EAAE,iBAAiB,kEAAkE,cAAc,WAAW,OAAO,+JAA+J,2GAA2G,2CAA2C,+KAA+K,gBAAgB,aAAa,WAAW,SAAS,+BAA+B,mCAAmC,6CAA6C,SAAS,gCAAgC,qFAAqF,kEAAkE,OAAO,KAAK,EAAE,GAAG,EAAE,6nBAA6nB,mBAAmB,oCAAoC,wIAAwI,qBAAqB,oFAAoF,uFAAuF,oEAAoE,2BAA2B,2NAA2N,EAAE,8BAA8B,0BAA0B,WAAW,SAAS,EAAE,OAAO,KAAK,EAAE,GAAG,EAAE,mXAAmX,OAAO,+DAA+D,OAAO,kDAAkD,OAAO,8CAA8C,OAAO,6MAA6M,mBAAmB,oCAAoC,wIAAwI,qBAAqB,oFAAoF,8MAA8M,yHAAyH,mHAAmH,gHAAgH,qDAAqD,2CAA2C,8GAA8G,gDAAgD,8CAA8C,0CAA0C,4GAA4G,mCAAmC,oFAAoF,4CAA4C,iFAAiF,uDAAuD,8CAA8C,SAAS,uIAAuI,0BAA0B,2BAA2B,iCAAiC,iCAAiC,qCAAqC,6BAA6B,qCAAqC,yCAAyC,uCAAuC,gCAAgC,gCAAgC,0CAA0C,sCAAsC,qCAAqC,0CAA0C,8CAA8C,SAAS,OAAO,0BAA0B,2BAA2B,iCAAiC,iCAAiC,qCAAqC,8BAA8B,qCAAqC,yCAAyC,sCAAsC,gCAAgC,gCAAgC,0CAA0C,sCAAsC,sCAAsC,0CAA0C,8CAA8C,SAAS,qMAAqM,uCAAuC,qCAAqC,OAAO,OAAO,0BAA0B,6CAA6C,uCAAuC,mCAAmC,sDAAsD,2BAA2B,8BAA8B,wIAAwI,sCAAsC,aAAa,yCAAyC,WAAW,0DAA0D,+MAA+M,sCAAsC,kCAAkC,WAAW,SAAS,kDAAkD,iCAAiC,2GAA2G,SAAS,OAAO,6GAA6G,SAAS,uFAAuF,iFAAiF,oDAAoD,wDAAwD,wDAAwD,iEAAiE,kEAAkE,gLAAgL,6BAA6B,6BAA6B,uCAAuC,iCAAiC,+GAA+G,gDAAgD,6BAA6B,0CAA0C,kCAAkC,aAAa,WAAW,mBAAmB,SAAS,wIAAwI,4CAA4C,OAAO,OAAO,iCAAiC,6CAA6C,gDAAgD,2EAA2E,iCAAiC,0FAA0F,6CAA6C,oCAAoC,iDAAiD,WAAW,OAAO,2CAA2C,WAAW,SAAS,2GAA2G,yCAAyC,kBAAkB,sGAAsG,gCAAgC,8DAA8D,WAAW,+BAA+B,kLAAkL,4BAA4B,+CAA+C,aAAa,WAAW,gCAAgC,6CAA6C,sEAAsE,WAAW,SAAS,gKAAgK,2EAA2E,OAAO,OAAO,0BAA0B,6CAA6C,2EAA2E,uFAAuF,6HAA6H,WAAW,kCAAkC,2NAA2N,kEAAkE,WAAW,8BAA8B,0HAA0H,WAAW,uFAAuF,gDAAgD,WAAW,kCAAkC,8BAA8B,gCAAgC,iEAAiE,0BAA0B,WAAW,gEAAgE,SAAS,OAAO,KAAK,EAAE,GAAG,EAAE,qjBAAqjB,0BAA0B,iBAAiB,+GAA+G,2IAA2I,qBAAqB,oFAAoF,kEAAkE,4BAA4B,0BAA0B,WAAW,SAAS,EAAE,OAAO,+BAA+B,oBAAoB,OAAO,KAAK,EAAE,GAAG,EAAE,0eAA0e,kEAAkE,+BAA+B,kCAAkC,qCAAqC,SAAS,+BAA+B,OAAO,kBAAkB,MAAM,sCAAsC,wCAAwC,mEAAmE,OAAO,wBAAwB,MAAM,uDAAuD,qHAAqH,MAAM,0DAA0D,wDAAwD,MAAM,iDAAiD,6EAA6E,iGAAiG,MAAM,mDAAmD,+EAA+E,4GAA4G,6EAA6E,MAAM,cAAc,wFAAwF,GAAG,EAAE,01BAA01B,0BAA0B,mCAAmC,qDAAqD,mCAAmC,OAAO,MAAM,MAAM,iDAAiD,4BAA4B,6BAA6B,+BAA+B,6BAA6B,KAAK,EAAE,0CAA0C,2CAA2C,MAAM,iCAAiC,uCAAuC,yCAAyC,6EAA6E,OAAO,KAAK,qCAAqC,8CAA8C,yBAAyB,6BAA6B,SAAS,OAAO,EAAE,KAAK,yCAAyC,qBAAqB,gEAAgE,2BAA2B,0BAA0B,iDAAiD,6CAA6C,6BAA6B,8CAA8C,0CAA0C,iCAAiC,6DAA6D,kBAAkB,IAAI,uCAAuC,mBAAmB,iBAAiB,OAAO,8DAA8D,uCAAuC,mBAAmB,iBAAiB,8BAA8B,+BAA+B,iBAAiB,eAAe,EAAE,4BAA4B,6BAA6B,eAAe,aAAa,EAAE,gCAAgC,WAAW,EAAE,UAAU,OAAO,4DAA4D,2BAA2B,0BAA0B,sDAAsD,8DAA8D,YAAY,iDAAiD,yCAAyC,+EAA+E,0CAA0C,0EAA0E,mCAAmC,eAAe,aAAa,EAAE,0CAA0C,gHAAgH,mCAAmC,eAAe,aAAa,EAAE,gCAAgC,yCAAyC,kDAAkD,aAAa,WAAW,EAAE,UAAU,OAAO,4DAA4D,2BAA2B,0BAA0B,iDAAiD,qCAAqC,qEAAqE,mCAAmC,0CAA0C,sCAAsC,2BAA2B,eAAe,8BAA8B,2BAA2B,eAAe,aAAa,EAAE,gCAAgC,2BAA2B,4BAA4B,aAAa,WAAW,EAAE,UAAU,OAAO,yCAAyC,oCAAoC,gBAAgB,GAAG,iCAAiC,qBAAqB,6CAA6C,SAAS,yBAAyB,OAAO,qCAAqC,uCAAuC,gDAAgD,wCAAwC,iCAAiC,cAAc,iCAAiC,cAAc,iCAAiC,cAAc,iCAAiC,cAAc,iCAAiC,cAAc,iCAAiC,YAAY,cAAc,sCAAsC,4CAA4C,cAAc,kDAAkD,cAAc,2DAA2D,cAAc,uEAAuE,cAAc,iEAAiE,cAAc,2DAA2D,cAAc,4CAA4C,YAAY,cAAc,sCAAsC,gCAAgC,cAAc,0CAA0C,cAAc,4BAA4B,cAAc,4BAA4B,YAAY,cAAc,yCAAyC,sDAAsD,cAAc,4DAA4D,cAAc,yDAAyD,cAAc,+DAA+D,YAAY,UAAU,wCAAwC,wBAAwB,2BAA2B,mBAAmB,WAAW,4CAA4C,4BAA4B,8EAA8E,iCAAiC,uDAAuD,aAAa,OAAO,qEAAqE,qCAAqC,yCAAyC,wCAAwC,eAAe,6CAA6C,wCAAwC,aAAa,kCAAkC,WAAW,EAAE,wBAAwB,SAAS,uCAAuC,mBAAmB,sDAAsD,gDAAgD,2FAA2F,aAAa,OAAO,qDAAqD,aAAa,WAAW,OAAO,oFAAoF,WAAW,wBAAwB,SAAS,wCAAwC,6CAA6C,2DAA2D,WAAW,EAAE,SAAS,EAAE,kBAAkB,gGAAgG,8CAA8C,mBAAmB,EAAE,WAAW,0BAA0B,+DAA+D,yCAAyC,yEAAyE,eAAe,aAAa,yCAAyC,8BAA8B,qDAAqD,wCAAwC,oDAAoD,iCAAiC,wEAAwE,kEAAkE,iBAAiB,8CAA8C,8BAA8B,iEAAiE,iBAAiB,eAAe,EAAE,aAAa,oCAAoC,yCAAyC,mDAAmD,eAAe,wCAAwC,sDAAsD,eAAe,aAAa,WAAW,UAAU,OAAO,wCAAwC,yCAAyC,2BAA2B,0BAA0B,8DAA8D,kEAAkE,iCAAiC,aAAa,EAAE,WAAW,OAAO,0CAA0C,oEAAoE,mCAAmC,eAAe,EAAE,aAAa,EAAE,WAAW,UAAU,OAAO,wEAAwE,4LAA4L,wBAAwB,gCAAgC,sGAAsG,+BAA+B,WAAW,SAAS,EAAE,OAAO,EAAE,8EAA8E,8bAA8b,wBAAwB,gCAAgC,0DAA0D,EAAE,OAAO,EAAE,gEAAgE,4ZAA4Z,wBAAwB,gCAAgC,yGAAyG,EAAE,OAAO,EAAE,4CAA4C,2BAA2B,0BAA0B,mCAAmC,gEAAgE,6EAA6E,WAAW,yCAAyC,sFAAsF,4DAA4D,WAAW,EAAE,UAAU,OAAO,yCAAyC,wBAAwB,8CAA8C,mCAAmC,SAAS,EAAE,wCAAwC,OAAO,kDAAkD,wCAAwC,8EAA8E,qDAAqD,SAAS,uGAAuG,iFAAiF,SAAS,iCAAiC,QAAQ,sDAAsD,4BAA4B,0CAA0C,sCAAsC,SAAS,iCAAiC,kEAAkE,SAAS,wDAAwD,0DAA0D,SAAS,EAAE,mDAAmD,iCAAiC,UAAU,0BAA0B,SAAS,EAAE,QAAQ,yDAAyD,gCAAgC,UAAU,EAAE,0EAA0E,8CAA8C,SAAS,EAAE,qDAAqD,+CAA+C,kCAAkC,UAAU,EAAE,WAAW,4CAA4C,8CAA8C,WAAW,OAAO,2CAA2C,WAAW,gDAAgD,kCAAkC,UAAU,EAAE,WAAW,SAAS,EAAE,iCAAiC,QAAQ,0DAA0D,iDAAiD,0FAA0F,SAAS,OAAO,iEAAiE,SAAS,QAAQ,kCAAkC,oGAAoG,EAAE,kCAAkC,oGAAoG,EAAE,2CAA2C,6FAA6F,EAAE,oCAAoC,iJAAiJ,EAAE,oCAAoC,iJAAiJ,EAAE,yCAAyC,wIAAwI,EAAE,oCAAoC,6EAA6E,EAAE,oCAAoC,sGAAsG,2DAA2D,gCAAgC,SAAS,OAAO,EAAE,cAAc,iiBAAiiB,wBAAwB,kCAAkC,wGAAwG,EAAE,OAAO,EAAE,2CAA2C,6BAA6B,OAAO,EAAE,oCAAoC,0BAA0B,oCAAoC,SAAS,oBAAoB,4DAA4D,SAAS,OAAO,wCAAwC,gCAAgC,4CAA4C,0BAA0B,2DAA2D,WAAW,yCAAyC,2BAA2B,iEAAiE,WAAW,8BAA8B,oBAAoB,WAAW,SAAS,EAAE,uBAAuB,OAAO,4CAA4C,wCAAwC,6CAA6C,0BAA0B,6DAA6D,WAAW,mDAAmD,kEAAkE,WAAW,kDAAkD,2BAA2B,gEAAgE,WAAW,kCAAkC,oBAAoB,WAAW,SAAS,EAAE,uBAAuB,OAAO,yCAAyC,6GAA6G,uDAAuD,2CAA2C,WAAW,SAAS,OAAO,EAAE,qDAAqD,sGAAsG,2BAA2B,2BAA2B,2BAA2B,2BAA2B,2BAA2B,2BAA2B,yCAAyC,wCAAwC,sBAAsB,0FAA0F,2DAA2D,aAAa,WAAW,EAAE,SAAS,EAAE,kBAAkB,8MAA8M,OAAO,EAAE,mDAAmD,8EAA8E,+CAA+C,iDAAiD,uDAAuD,qDAAqD,wDAAwD,6CAA6C,mDAAmD,uCAAuC,4BAA4B,uDAAuD,iDAAiD,0DAA0D,0DAA0D,gDAAgD,gCAAgC,iDAAiD,qGAAqG,sCAAsC,sBAAsB,mBAAmB,aAAa,4HAA4H,EAAE,SAAS,EAAE,kBAAkB,+OAA+O,2CAA2C,8EAA8E,aAAa,WAAW,UAAU,OAAO,EAAE,uDAAuD,qFAAqF,0FAA0F,4DAA4D,wCAAwC,gFAAgF,kCAAkC,6BAA6B,8BAA8B,WAAW,sBAAsB,yBAAyB,EAAE,SAAS,EAAE,kBAAkB,4OAA4O,2CAA2C,8EAA8E,aAAa,WAAW,UAAU,OAAO,EAAE,uCAAuC,uDAAuD,EAAE,KAAK,GAAG,EAAE,2WAA2W,OAAO,iDAAiD,OAAO,6DAA6D,OAAO,2DAA2D,OAAO,iDAAiD,aAAa,mFAAmF,aAAa,mFAAmF,OAAO,qMAAqM,mBAAmB,oCAAoC,wIAAwI,qBAAqB,oFAAoF,6UAA6U,sEAAsE,qDAAqD,gDAAgD,sEAAsE,8CAA8C,8DAA8D,8DAA8D,mDAAmD,mDAAmD,8CAA8C,2FAA2F,sDAAsD,4BAA4B,SAAS,sDAAsD,4BAA4B,SAAS,sDAAsD,UAAU,OAAO,4BAA4B,SAAS,oDAAoD,UAAU,OAAO,6BAA6B,SAAS,qEAAqE,UAAU,OAAO,qBAAqB,UAAU,OAAO,uCAAuC,sDAAsD,oBAAoB,aAAa,iDAAiD,+CAA+C,gDAAgD,uFAAuF,0FAA0F,WAAW,SAAS,uHAAuH,6BAA6B,UAAU,OAAO,wDAAwD,kEAAkE,SAAS,wHAAwH,6BAA6B,UAAU,OAAO,yDAAyD,oEAAoE,SAAS,6DAA6D,2DAA2D,kDAAkD,sEAAsE,sEAAsE,4DAA4D,0DAA0D,6DAA6D,6DAA6D,sEAAsE,uEAAuE,gLAAgL,6BAA6B,6BAA6B,uCAAuC,iCAAiC,+GAA+G,gDAAgD,6BAA6B,0CAA0C,kCAAkC,aAAa,WAAW,mBAAmB,SAAS,uGAAuG,4CAA4C,4DAA4D,4DAA4D,SAAS,oBAAoB,0CAA0C,oBAAoB,SAAS,OAAO,+EAA+E,SAAS,0DAA0D,6CAA6C,yBAAyB,qBAAqB,uBAAuB,OAAO,uCAAuC,WAAW,SAAS,OAAO,2BAA2B,SAAS,4GAA4G,mBAAmB,UAAU,OAAO,qEAAqE,SAAS,mEAAmE,mBAAmB,UAAU,OAAO,qCAAqC,yCAAyC,uBAAuB,UAAU,OAAO,8BAA8B,4CAA4C,aAAa,OAAO,iCAAiC,aAAa,gCAAgC,8EAA8E,oBAAoB,aAAa,iGAAiG,+CAA+C,yEAAyE,oCAAoC,oCAAoC,+HAA+H,sCAAsC,6EAA6E,aAAa,+BAA+B,iEAAiE,aAAa,iCAAiC,uCAAuC,aAAa,6HAA6H,sCAAsC,8EAA8E,aAAa,gCAAgC,kEAAkE,aAAa,iCAAiC,wCAAwC,aAAa,8CAA8C,uCAAuC,gCAAgC,4BAA4B,aAAa,WAAW,sCAAsC,SAAS,OAAO,KAAK,EAAE,GAAG,EAAE,gXAAgX,OAAO,gPAAgP,mBAAmB,4BAA4B,4GAA4G,OAAO,sEAAsE,wBAAwB,qCAAqC,8BAA8B,uPAAuP,OAAO,+FAA+F,OAAO,8DAA8D,+BAA+B,OAAO,6FAA6F,OAAO,oEAAoE,SAAS,sGAAsG,kBAAkB,uEAAuE,yEAAyE,+EAA+E,uCAAuC,4BAA4B,WAAW,EAAE,SAAS,OAAO,gCAAgC,2BAA2B,uBAAuB,WAAW,SAAS,sBAAsB,OAAO,KAAK,EAAE,GAAG,EAAE,0dAA0d,mBAAmB,4BAA4B,kHAAkH,OAAO,6DAA6D,QAAQ,oEAAoE,wBAAwB,gCAAgC,kDAAkD,8BAA8B,OAAO,oCAAoC,qCAAqC,uCAAuC,uCAAuC,gCAAgC,OAAO,gCAAgC,sCAAsC,OAAO,+GAA+G,OAAO,sEAAsE,mDAAmD,oZAAoZ,OAAO,iCAAiC,wBAAwB,oDAAoD,oEAAoE,6CAA6C,oCAAoC,WAAW,SAAS,EAAE,oDAAoD,mDAAmD,6CAA6C,oCAAoC,WAAW,SAAS,EAAE,+BAA+B,OAAO,KAAK,EAAE,GAAG,EAAE,+lBAA+lB,mBAAmB,4BAA4B,kHAAkH,OAAO,6DAA6D,QAAQ,oEAAoE,wBAAwB,gCAAgC,gDAAgD,8BAA8B,mCAAmC,yCAAyC,SAAS,gCAAgC,qCAAqC,SAAS,OAAO,yOAAyO,OAAO,iEAAiE,oDAAoD,wCAAwC,oDAAoD,+HAA+H,8CAA8C,0CAA0C,WAAW,8DAA8D,mIAAmI,SAAS,4BAA4B,OAAO,uIAAuI,wBAAwB,yCAAyC,qEAAqE,SAAS,+BAA+B,OAAO,oCAAoC,qCAAqC,uCAAuC,uCAAuC,gCAAgC,OAAO,+GAA+G,OAAO,sEAAsE,0EAA0E,4DAA4D,6DAA6D,6BAA6B,mCAAmC,WAAW,SAAS,sBAAsB,oOAAoO,SAAS,2KAA2K,OAAO,iCAAiC,wBAAwB,oDAAoD,+CAA+C,6CAA6C,oCAAoC,WAAW,SAAS,EAAE,+BAA+B,OAAO,KAAK,EAAE,GAAG,EAAE,2dAA2d,mBAAmB,+BAA+B,iBAAiB,qDAAqD,qHAAqH,OAAO,mFAAmF,wBAAwB,gCAAgC,oCAAoC,OAAO,0IAA0I,wBAAwB,4CAA4C,2CAA2C,SAAS,EAAE,+BAA+B,OAAO,KAAK,EAAE,GAAG,EAAE,ifAAif,mBAAmB,6BAA6B,iBAAiB,kGAAkG,qCAAqC,OAAO,KAAK,EAAE,GAAG,EAAE,ukBAAukB,mBAAmB,sFAAsF,oBAAoB,8BAA8B,sBAAsB,SAAS,iCAAiC,OAAO,qBAAqB,KAAK,sCAAsC,kHAAkH,OAAO,mFAAmF,wBAAwB,kCAAkC,gCAAgC,iCAAiC,sCAAsC,oCAAoC,0CAA0C,SAAS,sCAAsC,iEAAiE,OAAO,+HAA+H,8BAA8B,qEAAqE,iCAAiC,SAAS,2BAA2B,8CAA8C,wFAAwF,oBAAoB,kEAAkE,WAAW,OAAO,4CAA4C,WAAW,iCAAiC,qEAAqE,WAAW,OAAO,4DAA4D,WAAW,oCAAoC,6BAA6B,8CAA8C,mDAAmD,kCAAkC,2BAA2B,8BAA8B,aAAa,WAAW,EAAE,qHAAqH,yBAAyB,WAAW,EAAE,mDAAmD,yCAAyC,gDAAgD,aAAa,sDAAsD,WAAW,eAAe,SAAS,2BAA2B,8BAA8B,uBAAuB,EAAE,gGAAgG,8BAA8B,OAAO,yHAAyH,wBAAwB,0BAA0B,iDAAiD,gCAAgC,8BAA8B,aAAa,WAAW,EAAE,6BAA6B,SAAS,OAAO,qHAAqH,6CAA6C,OAAO,+GAA+G,OAAO,sEAAsE,kEAAkE,oGAAoG,sCAAsC,oBAAoB,wBAAwB,uGAAuG,8DAA8D,WAAW,4EAA4E,SAAS,OAAO,qBAAqB,SAAS,qBAAqB,2CAA2C,0FAA0F,SAAS,kFAAkF,sFAAsF,0bAA0b,OAAO,gJAAgJ,wBAAwB,wCAAwC,wEAAwE,yBAAyB,mCAAmC,2BAA2B,8DAA8D,aAAa,WAAW,SAAS,EAAE,6CAA6C,kFAAkF,sGAAsG,qEAAqE,sDAAsD,uDAAuD,+CAA+C,iBAAiB,kCAAkC,eAAe,aAAa,EAAE,0CAA0C,+BAA+B,oDAAoD,aAAa,WAAW,SAAS,EAAE,+BAA+B,OAAO,iCAAiC,wBAAwB,mDAAmD,0BAA0B,+BAA+B,WAAW,6BAA6B,SAAS,EAAE,+BAA+B,OAAO,0HAA0H,sBAAsB,0BAA0B,6BAA6B,SAAS,OAAO,KAAK,EAAE,wBAAwB,GAAG,EAAE,mlBAAmlB,mBAAmB,4BAA4B,iBAAiB,iDAAiD,qHAAqH,OAAO,6DAA6D,QAAQ,+CAA+C,MAAM,kDAAkD,OAAO,qGAAqG,8BAA8B,gCAAgC,mCAAmC,wCAAwC,8BAA8B,+CAA+C,SAAS,iCAAiC,gDAAgD,SAAS,wCAAwC,2CAA2C,4CAA4C,yCAAyC,sCAAsC,SAAS,oCAAoC,gDAAgD,iDAAiD,qCAAqC,SAAS,0DAA0D,+CAA+C,SAAS,4CAA4C,6BAA6B,SAAS,EAAE,wDAAwD,sCAAsC,SAAS,OAAO,wHAAwH,QAAQ,yEAAyE,oCAAoC,OAAO,4HAA4H,gFAAgF,8CAA8C,8BAA8B,4BAA4B,WAAW,SAAS,EAAE,8BAA8B,2BAA2B,wBAAwB,iCAAiC,4FAA4F,sBAAsB,wEAAwE,aAAa,OAAO,8CAA8C,aAAa,iDAAiD,+DAA+D,aAAa,8EAA8E,0BAA0B,2CAA2C,kCAAkC,2BAA2B,0BAA0B,aAAa,EAAE,8CAA8C,oCAAoC,uDAAuD,sDAAsD,iBAAiB,EAAE,eAAe,aAAa,eAAe,2CAA2C,uCAAuC,gDAAgD,eAAe,aAAa,EAAE,kCAAkC,WAAW,OAAO,wBAAwB,WAAW,sCAAsC,yCAAyC,kLAAkL,4CAA4C,yBAAyB,oCAAoC,sDAAsD,8BAA8B,yCAAyC,sCAAsC,SAAS,OAAO,4HAA4H,wBAAwB,0BAA0B,iDAAiD,gCAAgC,8BAA8B,aAAa,WAAW,EAAE,6BAA6B,uCAAuC,SAAS,sBAAsB,OAAO,+GAA+G,OAAO,sEAAsE,2HAA2H,gFAAgF,2DAA2D,oGAAoG,qCAAqC,0BAA0B,uBAAuB,4BAA4B,+BAA+B,gCAAgC,+BAA+B,eAAe,WAAW,OAAO,uBAAuB,wCAAwC,WAAW,2CAA2C,uBAAuB,qBAAqB,OAAO,uDAAuD,0BAA0B,kCAAkC,aAAa,WAAW,sCAAsC,SAAS,sCAAsC,uCAAuC,4BAA4B,SAAS,sCAAsC,2CAA2C,iGAAiG,yDAAyD,WAAW,SAAS,SAAS,sCAAsC,yKAAyK,SAAS,qBAAqB,sDAAsD,SAAS,+BAA+B,mFAAmF,SAAS,yBAAyB,+CAA+C,SAAS,kFAAkF,8FAA8F,6DAA6D,yDAAyD,mjBAAmjB,OAAO,gJAAgJ,kDAAkD,6CAA6C,+CAA+C,2CAA2C,SAAS,0BAA0B,2CAA2C,wBAAwB,qDAAqD,WAAW,SAAS,mDAAmD,mCAAmC,uDAAuD,kCAAkC,mHAAmH,wCAAwC,eAAe,EAAE,aAAa,OAAO,8BAA8B,6BAA6B,sCAAsC,eAAe,aAAa,WAAW,SAAS,EAAE,wBAAwB,sBAAsB,OAAO,4BAA4B,wBAAwB,qDAAqD,0CAA0C,SAAS,EAAE,gDAAgD,sBAAsB,OAAO,kCAAkC,4CAA4C,sCAAsC,SAAS,oCAAoC,OAAO,0HAA0H,sBAAsB,0BAA0B,6BAA6B,SAAS,OAAO,KAAK,EAAE,GAAG,EAAE,6jBAA6jB,mBAAmB,kFAAkF,QAAQ,4DAA4D,QAAQ,oJAAoJ,uEAAuE,qFAAqF,OAAO,qDAAqD,SAAS,sFAAsF,oBAAoB,gFAAgF,2BAA2B,wBAAwB,4KAA4K,+BAA+B,2BAA2B,eAAe,aAAa,SAAS,sBAAsB,uBAAuB,qBAAqB,iDAAiD,SAAS,OAAO,mBAAmB,SAAS,sBAAsB,QAAQ,sFAAsF,oBAAoB,kEAAkE,kCAAkC,oCAAoC,mEAAmE,8CAA8C,SAAS,wBAAwB,sBAAsB,QAAQ,MAAM,GAAG,EAAE,olBAAolB,mBAAmB,gCAAgC,iBAAiB,4JAA4J,qHAAqH,OAAO,mFAAmF,wBAAwB,mCAAmC,4CAA4C,qDAAqD,iDAAiD,8BAA8B,SAAS,sCAAsC,uDAAuD,yBAAyB,sCAAsC,mCAAmC,WAAW,SAAS,gCAAgC,iCAAiC,OAAO,uIAAuI,gDAAgD,wBAAwB,yCAAyC,6CAA6C,sBAAsB,OAAO,6GAA6G,wBAAwB,yBAAyB,4BAA4B,OAAO,mIAAmI,uCAAuC,mCAAmC,8BAA8B,iCAAiC,iCAAiC,WAAW,SAAS,+CAA+C,uBAAuB,iBAAiB,SAAS,+BAA+B,iEAAiE,4CAA4C,iCAAiC,iCAAiC,WAAW,OAAO,gDAAgD,oCAAoC,mCAAmC,aAAa,EAAE,WAAW,gDAAgD,SAAS,yDAAyD,sDAAsD,mCAAmC,wBAAwB,mBAAmB,WAAW,4CAA4C,mBAAmB,WAAW,0CAA0C,8CAA8C,2BAA2B,gCAAgC,4CAA4C,4BAA4B,2BAA2B,8BAA8B,SAAS,EAAE,OAAO,qHAAqH,wBAAwB,iDAAiD,+BAA+B,OAAO,iIAAiI,wBAAwB,4CAA4C,uCAAuC,yEAAyE,kCAAkC,yBAAyB,WAAW,SAAS,EAAE,2CAA2C,4CAA4C,6CAA6C,0BAA0B,aAAa,WAAW,EAAE,SAAS,+BAA+B,OAAO,KAAK,EAAE,GAAG,EAAE,+hBAA+hB,mBAAmB,gCAAgC,kHAAkH,OAAO,6DAA6D,MAAM,sFAAsF,sEAAsE,4CAA4C,kEAAkE,uBAAuB,OAAO,wFAAwF,6BAA6B,gEAAgE,2DAA2D,0BAA0B,aAAa,8HAA8H,oDAAoD,4BAA4B,eAAe,aAAa,WAAW,SAAS,gCAAgC,iCAAiC,kDAAkD,qBAAqB,uDAAuD,gCAAgC,WAAW,qFAAqF,0CAA0C,qDAAqD,WAAW,2CAA2C,SAAS,gEAAgE,sCAAsC,yCAAyC,+BAA+B,+BAA+B,yCAAyC,WAAW,oCAAoC,wCAAwC,WAAW,OAAO,0CAA0C,WAAW,gCAAgC,SAAS,EAAE,OAAO,iHAAiH,OAAO,2CAA2C,2BAA2B,8EAA8E,wBAAwB,0DAA0D,qCAAqC,8CAA8C,qCAAqC,oDAAoD,eAAe,aAAa,EAAE,WAAW,SAAS,uDAAuD,2BAA2B,8BAA8B,mBAAmB,WAAW,2BAA2B,uBAAuB,OAAO,gDAAgD,mCAAmC,aAAa,uCAAuC,wEAAwE,iCAAiC,oCAAoC,eAAe,aAAa,WAAW,SAAS,uCAAuC,4DAA4D,SAAS,EAAE,qDAAqD,8EAA8E,+BAA+B,yCAAyC,WAAW,OAAO,0CAA0C,WAAW,SAAS,EAAE,+BAA+B,OAAO,KAAK,EAAE,GAAG,EAAE,6eAA6e,mBAAmB,8BAA8B,iBAAiB,yDAAyD,KAAK,EAAE,GAAG,EAAE,qmBAAqmB,mBAAmB,4BAA4B,4GAA4G,OAAO,sEAAsE,mDAAmD,2CAA2C,oDAAoD,gDAAgD,SAAS,gCAAgC,kMAAkM,OAAO,0IAA0I,wBAAwB,wBAAwB,4DAA4D,6BAA6B,qCAAqC,WAAW,gCAAgC,sDAAsD,2BAA2B,aAAa,qCAAqC,WAAW,+BAA+B,mCAAmC,WAAW,SAAS,EAAE,OAAO,6BAA6B,oCAAoC,0CAA0C,SAAS,+BAA+B,OAAO,KAAK,EAAE,GAAG,EAAE,igBAAigB,mBAAmB,uCAAuC,0BAA0B,oBAAoB,uBAAuB,oBAAoB,OAAO,2FAA2F,SAAS,OAAO,wBAAwB,KAAK,4BAA4B,iBAAiB,qFAAqF,mHAAmH,OAAO,6DAA6D,MAAM,8FAA8F,wBAAwB,gCAAgC,mCAAmC,yCAAyC,SAAS,sCAAsC,gDAAgD,SAAS,0CAA0C,0BAA0B,kCAAkC,+BAA+B,qHAAqH,gCAAgC,mCAAmC,6BAA6B,eAAe,aAAa,EAAE,2HAA2H,2BAA2B,EAAE,WAAW,SAAS,EAAE,OAAO,mHAAmH,MAAM,2CAA2C,2BAA2B,kEAAkE,gCAAgC,2CAA2C,SAAS,2CAA2C,sBAAsB,OAAO,iCAAiC,4CAA4C,iDAAiD,0BAA0B,iDAAiD,SAAS,+JAA+J,OAAO,iCAAiC,wBAAwB,uDAAuD,0DAA0D,SAAS,EAAE,+BAA+B,OAAO,KAAK,EAAE,GAAG,EAAE,gjBAAgjB,mBAAmB,iDAAiD,2BAA2B,uBAAuB,OAAO,6BAA6B,uBAAuB,OAAO,qBAAqB,KAAK,6CAA6C,6CAA6C,KAAK,gDAAgD,oFAAoF,iDAAiD,+BAA+B,8BAA8B,8BAA8B,OAAO,OAAO,gCAAgC,6BAA6B,8BAA8B,OAAO,wCAAwC,sGAAsG,4GAA4G,gDAAgD,yDAAyD,iDAAiD,kFAAkF,wDAAwD,wDAAwD,KAAK,4BAA4B,gCAAgC,wBAAwB,wCAAwC,oDAAoD,mDAAmD,YAAY,SAAS,gCAAgC,mCAAmC,8CAA8C,uCAAuC,SAAS,kDAAkD,kDAAkD,kDAAkD,OAAO,iCAAiC,kEAAkE,4OAA4O,OAAO,4BAA4B,8CAA8C,OAAO,iCAAiC,8GAA8G,8CAA8C,2CAA2C,SAAS,gDAAgD,2CAA2C,SAAS,uDAAuD,iCAAiC,sBAAsB,mCAAmC,6GAA6G,yDAAyD,gCAAgC,sCAAsC,aAAa,EAAE,+BAA+B,aAAa,EAAE,kCAAkC,aAAa,EAAE,WAAW,4CAA4C,gCAAgC,sEAAsE,sBAAsB,uEAAuE,sBAAsB,aAAa,WAAW,EAAE,SAAS,6DAA6D,uEAAuE,yDAAyD,6EAA6E,2CAA2C,sFAAsF,8GAA8G,sCAAsC,aAAa,EAAE,aAAa,kCAAkC,uDAAuD,+EAA+E,8DAA8D,sFAAsF,gCAAgC,+GAA+G,mCAAmC,aAAa,EAAE,aAAa,iCAAiC,oCAAoC,oCAAoC,aAAa,EAAE,aAAa,WAAW,EAAE,SAAS,oCAAoC,kCAAkC,mDAAmD,uCAAuC,iCAAiC,gCAAgC,gCAAgC,SAAS,OAAO,uCAAuC,kCAAkC,+BAA+B,gCAAgC,SAAS,wBAAwB,mEAAmE,6DAA6D,OAAO,8BAA8B,sBAAsB,+CAA+C,OAAO,iCAAiC,wBAAwB,qDAAqD,4CAA4C,SAAS,EAAE,+BAA+B,OAAO,KAAK,EAAE,GAAG,EAAE,ohBAAohB,mBAAmB,4BAA4B,4GAA4G,OAAO,sEAAsE,wBAAwB,qCAAqC,8BAA8B,sFAAsF,OAAO,KAAK,EAAE,GAAG,EAAE,+kBAA+kB,8BAA8B,iBAAiB,wEAAwE,uIAAuI,oGAAoG,wBAAwB,yCAAyC,sCAAsC,gCAAgC,qGAAqG,EAAE,gCAAgC,qCAAqC,EAAE,sBAAsB,OAAO,qHAAqH,wBAAwB,oFAAoF,OAAO,+GAA+G,OAAO,sEAAsE,yEAAyE,iGAAiG,sCAAsC,oBAAoB,wBAAwB,uGAAuG,8DAA8D,WAAW,4EAA4E,SAAS,OAAO,qBAAqB,SAAS,kFAAkF,qBAAqB,2CAA2C,0FAA0F,SAAS,kqBAAkqB,OAAO,0IAA0I,gEAAgE,wCAAwC,8BAA8B,oCAAoC,+EAA+E,4HAA4H,6CAA6C,uCAAuC,+CAA+C,iBAAiB,yBAAyB,eAAe,uCAAuC,aAAa,WAAW,SAAS,EAAE,uCAAuC,+BAA+B,OAAO,KAAK,EAAE,GAAG,EAAE,qjBAAqjB,mBAAmB,gCAAgC,iBAAiB,iHAAiH,+BAA+B,oBAAoB,OAAO,KAAK,EAAE,GAAG,EAAE,ibAAib,OAAO,wLAAwL,mBAAmB,2BAA2B,iBAAiB,8CAA8C,gCAAgC,OAAO,+GAA+G,OAAO,6EAA6E,yBAAyB,iCAAiC,sDAAsD,mEAAmE,gEAAgE,SAAS,uCAAuC,+CAA+C,6DAA6D,8DAA8D,mDAAmD,sBAAsB,+CAA+C,yBAAyB,wBAAwB,WAAW,SAAS,EAAE,OAAO,+GAA+G,OAAO,sEAAsE,yFAAyF,2BAA2B,+BAA+B,+CAA+C,uCAAuC,0CAA0C,sCAAsC,0SAA0S,SAAS,EAAE,wbAAwb,OAAO,0IAA0I,wBAAwB,wBAAwB,iEAAiE,kDAAkD,wCAAwC,iDAAiD,wEAAwE,mDAAmD,2BAA2B,2DAA2D,oCAAoC,eAAe,aAAa,WAAW,SAAS,EAAE,OAAO,yOAAyO,OAAO,iEAAiE,0CAA0C,4DAA4D,mCAAmC,iBAAiB,4CAA4C,wDAAwD,wDAAwD,SAAS,EAAE,4CAA4C,8BAA8B,8BAA8B,iCAAiC,iCAAiC,6BAA6B,oFAAoF,EAAE,SAAS,EAAE,kEAAkE,wCAAwC,+CAA+C,+BAA+B,6BAA6B,2CAA2C,sBAAsB,OAAO,KAAK,EAAE,GAAG,EAAE,ojBAAojB,0BAA0B,kHAAkH,OAAO,6DAA6D,QAAQ,yEAAyE,OAAO,yDAAyD,OAAO,iFAAiF,wBAAwB,gCAAgC,sCAAsC,mCAAmC,wCAAwC,SAAS,OAAO,0CAA0C,4BAA4B,oCAAoC,iCAAiC,yHAAyH,kCAAkC,qCAAqC,+BAA+B,iBAAiB,eAAe,EAAE,+HAA+H,2BAA2B,EAAE,aAAa,WAAW,EAAE,0CAA0C,oDAAoD,WAAW,EAAE,SAAS,OAAO,uIAAuI,uFAAuF,qCAAqC,gCAAgC,sDAAsD,gHAAgH,kGAAkG,uDAAuD,SAAS,qCAAqC,uDAAuD,uFAAuF,6CAA6C,qCAAqC,qCAAqC,SAAS,6CAA6C,oCAAoC,qCAAqC,SAAS,6CAA6C,kDAAkD,qCAAqC,SAAS,6CAA6C,mDAAmD,qCAAqC,SAAS,kDAAkD,+BAA+B,SAAS,sBAAsB,OAAO,+GAA+G,OAAO,sEAAsE,8DAA8D,mBAAmB,yDAAyD,2MAA2M,uCAAuC,SAAS,EAAE,gCAAgC,sCAAsC,SAAS,iCAAiC,wCAAwC,SAAS,kFAAkF,4CAA4C,qCAAqC,+BAA+B,OAAO,iCAAiC,+BAA+B,yCAAyC,sBAAsB,SAAS,yFAAyF,sDAAsD,SAAS,yCAAyC,OAAO,0IAA0I,wBAAwB,uDAAuD,sBAAsB,6CAA6C,kDAAkD,iCAAiC,SAAS,EAAE,OAAO,iCAAiC,wBAAwB,qDAAqD,8CAA8C,yCAAyC,WAAW,SAAS,EAAE,wDAAwD,0CAA0C,SAAS,EAAE,+BAA+B,OAAO,6BAA6B,uBAAuB,sBAAsB,OAAO,KAAK,EAAE,GAAG,EAAE,sbAAsb,mEAAmE,gCAAgC,6BAA6B,MAAM,mDAAmD,6CAA6C,uDAAuD,OAAO,KAAK,uCAAuC,+DAA+D,KAAK,gBAAgB,GAAG,EAAE,2mFAA2mF,GAAG,UAAU,C","file":"scripts.bundle.js","sourcesContent":["/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nmodule.exports = function(src) {\r\n\tif (typeof execScript !== \"undefined\")\r\n\t\texecScript(src);\r\n\telse\r\n\t\teval.call(null, src);\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/script-loader/addScript.js\n// module id = 39\n// module chunks = 1","require(\"!!/Users/Dan/Documents/PoC/angular2-animal-frenzy/animal-frenzy/node_modules/script-loader/addScript.js\")(require(\"!!/Users/Dan/Documents/PoC/angular2-animal-frenzy/animal-frenzy/node_modules/raw-loader/index.js!/Users/Dan/Documents/PoC/angular2-animal-frenzy/animal-frenzy/node_modules/desandro-classie/classie.js\"))\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/script-loader!./~/desandro-classie/classie.js\n// module id = 424\n// module chunks = 1","require(\"!!/Users/Dan/Documents/PoC/angular2-animal-frenzy/animal-frenzy/node_modules/script-loader/addScript.js\")(require(\"!!/Users/Dan/Documents/PoC/angular2-animal-frenzy/animal-frenzy/node_modules/raw-loader/index.js!/Users/Dan/Documents/PoC/angular2-animal-frenzy/animal-frenzy/node_modules/imagesloaded/imagesloaded.pkgd.js\"))\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/script-loader!./~/imagesloaded/imagesloaded.pkgd.js\n// module id = 425\n// module chunks = 1","require(\"!!/Users/Dan/Documents/PoC/angular2-animal-frenzy/animal-frenzy/node_modules/script-loader/addScript.js\")(require(\"!!/Users/Dan/Documents/PoC/angular2-animal-frenzy/animal-frenzy/node_modules/raw-loader/index.js!/Users/Dan/Documents/PoC/angular2-animal-frenzy/animal-frenzy/node_modules/masonry-layout/dist/masonry.pkgd.js\"))\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/script-loader!./~/masonry-layout/dist/masonry.pkgd.js\n// module id = 426\n// module chunks = 1","require(\"!!/Users/Dan/Documents/PoC/angular2-animal-frenzy/animal-frenzy/node_modules/script-loader/addScript.js\")(require(\"!!/Users/Dan/Documents/PoC/angular2-animal-frenzy/animal-frenzy/node_modules/raw-loader/index.js!/Users/Dan/Documents/PoC/angular2-animal-frenzy/animal-frenzy/node_modules/modernizr/modernizr.js\"))\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/script-loader!./~/modernizr/modernizr.js\n// module id = 427\n// module chunks = 1","require(\"!!/Users/Dan/Documents/PoC/angular2-animal-frenzy/animal-frenzy/node_modules/script-loader/addScript.js\")(require(\"!!/Users/Dan/Documents/PoC/angular2-animal-frenzy/animal-frenzy/node_modules/raw-loader/index.js!/Users/Dan/Documents/PoC/angular2-animal-frenzy/animal-frenzy/node_modules/source-map-loader/index.js!/Users/Dan/Documents/PoC/angular2-animal-frenzy/animal-frenzy/src/js/cbpGridGallery.js\"))\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/script-loader!./src/js/cbpGridGallery.js\n// module id = 428\n// module chunks = 1","require(\"!!/Users/Dan/Documents/PoC/angular2-animal-frenzy/animal-frenzy/node_modules/script-loader/addScript.js\")(require(\"!!/Users/Dan/Documents/PoC/angular2-animal-frenzy/animal-frenzy/node_modules/raw-loader/index.js!/Users/Dan/Documents/PoC/angular2-animal-frenzy/animal-frenzy/node_modules/tinymce/plugins/link/plugin.js\"))\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/script-loader!./~/tinymce/plugins/link/plugin.js\n// module id = 429\n// module chunks = 1","require(\"!!/Users/Dan/Documents/PoC/angular2-animal-frenzy/animal-frenzy/node_modules/script-loader/addScript.js\")(require(\"!!/Users/Dan/Documents/PoC/angular2-animal-frenzy/animal-frenzy/node_modules/raw-loader/index.js!/Users/Dan/Documents/PoC/angular2-animal-frenzy/animal-frenzy/node_modules/tinymce/plugins/paste/plugin.js\"))\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/script-loader!./~/tinymce/plugins/paste/plugin.js\n// module id = 430\n// module chunks = 1","require(\"!!/Users/Dan/Documents/PoC/angular2-animal-frenzy/animal-frenzy/node_modules/script-loader/addScript.js\")(require(\"!!/Users/Dan/Documents/PoC/angular2-animal-frenzy/animal-frenzy/node_modules/raw-loader/index.js!/Users/Dan/Documents/PoC/angular2-animal-frenzy/animal-frenzy/node_modules/tinymce/plugins/table/plugin.js\"))\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/script-loader!./~/tinymce/plugins/table/plugin.js\n// module id = 431\n// module chunks = 1","require(\"!!/Users/Dan/Documents/PoC/angular2-animal-frenzy/animal-frenzy/node_modules/script-loader/addScript.js\")(require(\"!!/Users/Dan/Documents/PoC/angular2-animal-frenzy/animal-frenzy/node_modules/raw-loader/index.js!/Users/Dan/Documents/PoC/angular2-animal-frenzy/animal-frenzy/node_modules/tinymce/plugins/textcolor/plugin.js\"))\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/script-loader!./~/tinymce/plugins/textcolor/plugin.js\n// module id = 432\n// module chunks = 1","require(\"!!/Users/Dan/Documents/PoC/angular2-animal-frenzy/animal-frenzy/node_modules/script-loader/addScript.js\")(require(\"!!/Users/Dan/Documents/PoC/angular2-animal-frenzy/animal-frenzy/node_modules/raw-loader/index.js!/Users/Dan/Documents/PoC/angular2-animal-frenzy/animal-frenzy/node_modules/tinymce/themes/modern/theme.js\"))\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/script-loader!./~/tinymce/themes/modern/theme.js\n// module id = 433\n// module chunks = 1","require(\"!!/Users/Dan/Documents/PoC/angular2-animal-frenzy/animal-frenzy/node_modules/script-loader/addScript.js\")(require(\"!!/Users/Dan/Documents/PoC/angular2-animal-frenzy/animal-frenzy/node_modules/raw-loader/index.js!/Users/Dan/Documents/PoC/angular2-animal-frenzy/animal-frenzy/node_modules/tinymce/tinymce.js\"))\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/script-loader!./~/tinymce/tinymce.js\n// module id = 434\n// module chunks = 1","module.exports = \"/*!\\n * classie v1.0.1\\n * class helper functions\\n * from bonzo https://github.com/ded/bonzo\\n * MIT license\\n * \\n * classie.has( elem, 'my-class' ) -> true/false\\n * classie.add( elem, 'my-new-class' )\\n * classie.remove( elem, 'my-unwanted-class' )\\n * classie.toggle( elem, 'my-class' )\\n */\\n\\n/*jshint browser: true, strict: true, undef: true, unused: true */\\n/*global define: false, module: false */\\n\\n( function( window ) {\\n\\n'use strict';\\n\\n// class helper functions from bonzo https://github.com/ded/bonzo\\n\\nfunction classReg( className ) {\\n  return new RegExp(\\\"(^|\\\\\\\\s+)\\\" + className + \\\"(\\\\\\\\s+|$)\\\");\\n}\\n\\n// classList support for class management\\n// altho to be fair, the api sucks because it won't accept multiple classes at once\\nvar hasClass, addClass, removeClass;\\n\\nif ( 'classList' in document.documentElement ) {\\n  hasClass = function( elem, c ) {\\n    return elem.classList.contains( c );\\n  };\\n  addClass = function( elem, c ) {\\n    elem.classList.add( c );\\n  };\\n  removeClass = function( elem, c ) {\\n    elem.classList.remove( c );\\n  };\\n}\\nelse {\\n  hasClass = function( elem, c ) {\\n    return classReg( c ).test( elem.className );\\n  };\\n  addClass = function( elem, c ) {\\n    if ( !hasClass( elem, c ) ) {\\n      elem.className = elem.className + ' ' + c;\\n    }\\n  };\\n  removeClass = function( elem, c ) {\\n    elem.className = elem.className.replace( classReg( c ), ' ' );\\n  };\\n}\\n\\nfunction toggleClass( elem, c ) {\\n  var fn = hasClass( elem, c ) ? removeClass : addClass;\\n  fn( elem, c );\\n}\\n\\nvar classie = {\\n  // full names\\n  hasClass: hasClass,\\n  addClass: addClass,\\n  removeClass: removeClass,\\n  toggleClass: toggleClass,\\n  // short names\\n  has: hasClass,\\n  add: addClass,\\n  remove: removeClass,\\n  toggle: toggleClass\\n};\\n\\n// transport\\nif ( typeof define === 'function' && define.amd ) {\\n  // AMD\\n  define( classie );\\n} else if ( typeof exports === 'object' ) {\\n  // CommonJS\\n  module.exports = classie;\\n} else {\\n  // browser global\\n  window.classie = classie;\\n}\\n\\n})( window );\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/raw-loader!./~/desandro-classie/classie.js\n// module id = 563\n// module chunks = 1","module.exports = \"/*!\\n * imagesLoaded PACKAGED v4.1.1\\n * JavaScript is all like \\\"You images are done yet or what?\\\"\\n * MIT License\\n */\\n\\n/**\\n * EvEmitter v1.0.3\\n * Lil' event emitter\\n * MIT License\\n */\\n\\n/* jshint unused: true, undef: true, strict: true */\\n\\n( function( global, factory ) {\\n  // universal module definition\\n  /* jshint strict: false */ /* globals define, module, window */\\n  if ( typeof define == 'function' && define.amd ) {\\n    // AMD - RequireJS\\n    define( 'ev-emitter/ev-emitter',factory );\\n  } else if ( typeof module == 'object' && module.exports ) {\\n    // CommonJS - Browserify, Webpack\\n    module.exports = factory();\\n  } else {\\n    // Browser globals\\n    global.EvEmitter = factory();\\n  }\\n\\n}( typeof window != 'undefined' ? window : this, function() {\\n\\n\\n\\nfunction EvEmitter() {}\\n\\nvar proto = EvEmitter.prototype;\\n\\nproto.on = function( eventName, listener ) {\\n  if ( !eventName || !listener ) {\\n    return;\\n  }\\n  // set events hash\\n  var events = this._events = this._events || {};\\n  // set listeners array\\n  var listeners = events[ eventName ] = events[ eventName ] || [];\\n  // only add once\\n  if ( listeners.indexOf( listener ) == -1 ) {\\n    listeners.push( listener );\\n  }\\n\\n  return this;\\n};\\n\\nproto.once = function( eventName, listener ) {\\n  if ( !eventName || !listener ) {\\n    return;\\n  }\\n  // add event\\n  this.on( eventName, listener );\\n  // set once flag\\n  // set onceEvents hash\\n  var onceEvents = this._onceEvents = this._onceEvents || {};\\n  // set onceListeners object\\n  var onceListeners = onceEvents[ eventName ] = onceEvents[ eventName ] || {};\\n  // set flag\\n  onceListeners[ listener ] = true;\\n\\n  return this;\\n};\\n\\nproto.off = function( eventName, listener ) {\\n  var listeners = this._events && this._events[ eventName ];\\n  if ( !listeners || !listeners.length ) {\\n    return;\\n  }\\n  var index = listeners.indexOf( listener );\\n  if ( index != -1 ) {\\n    listeners.splice( index, 1 );\\n  }\\n\\n  return this;\\n};\\n\\nproto.emitEvent = function( eventName, args ) {\\n  var listeners = this._events && this._events[ eventName ];\\n  if ( !listeners || !listeners.length ) {\\n    return;\\n  }\\n  var i = 0;\\n  var listener = listeners[i];\\n  args = args || [];\\n  // once stuff\\n  var onceListeners = this._onceEvents && this._onceEvents[ eventName ];\\n\\n  while ( listener ) {\\n    var isOnce = onceListeners && onceListeners[ listener ];\\n    if ( isOnce ) {\\n      // remove listener\\n      // remove before trigger to prevent recursion\\n      this.off( eventName, listener );\\n      // unset once flag\\n      delete onceListeners[ listener ];\\n    }\\n    // trigger listener\\n    listener.apply( this, args );\\n    // get next listener\\n    i += isOnce ? 0 : 1;\\n    listener = listeners[i];\\n  }\\n\\n  return this;\\n};\\n\\nreturn EvEmitter;\\n\\n}));\\n\\n/*!\\n * imagesLoaded v4.1.1\\n * JavaScript is all like \\\"You images are done yet or what?\\\"\\n * MIT License\\n */\\n\\n( function( window, factory ) { 'use strict';\\n  // universal module definition\\n\\n  /*global define: false, module: false, require: false */\\n\\n  if ( typeof define == 'function' && define.amd ) {\\n    // AMD\\n    define( [\\n      'ev-emitter/ev-emitter'\\n    ], function( EvEmitter ) {\\n      return factory( window, EvEmitter );\\n    });\\n  } else if ( typeof module == 'object' && module.exports ) {\\n    // CommonJS\\n    module.exports = factory(\\n      window,\\n      require('ev-emitter')\\n    );\\n  } else {\\n    // browser global\\n    window.imagesLoaded = factory(\\n      window,\\n      window.EvEmitter\\n    );\\n  }\\n\\n})( window,\\n\\n// --------------------------  factory -------------------------- //\\n\\nfunction factory( window, EvEmitter ) {\\n\\n\\n\\nvar $ = window.jQuery;\\nvar console = window.console;\\n\\n// -------------------------- helpers -------------------------- //\\n\\n// extend objects\\nfunction extend( a, b ) {\\n  for ( var prop in b ) {\\n    a[ prop ] = b[ prop ];\\n  }\\n  return a;\\n}\\n\\n// turn element or nodeList into an array\\nfunction makeArray( obj ) {\\n  var ary = [];\\n  if ( Array.isArray( obj ) ) {\\n    // use object if already an array\\n    ary = obj;\\n  } else if ( typeof obj.length == 'number' ) {\\n    // convert nodeList to array\\n    for ( var i=0; i < obj.length; i++ ) {\\n      ary.push( obj[i] );\\n    }\\n  } else {\\n    // array of single index\\n    ary.push( obj );\\n  }\\n  return ary;\\n}\\n\\n// -------------------------- imagesLoaded -------------------------- //\\n\\n/**\\n * @param {Array, Element, NodeList, String} elem\\n * @param {Object or Function} options - if function, use as callback\\n * @param {Function} onAlways - callback function\\n */\\nfunction ImagesLoaded( elem, options, onAlways ) {\\n  // coerce ImagesLoaded() without new, to be new ImagesLoaded()\\n  if ( !( this instanceof ImagesLoaded ) ) {\\n    return new ImagesLoaded( elem, options, onAlways );\\n  }\\n  // use elem as selector string\\n  if ( typeof elem == 'string' ) {\\n    elem = document.querySelectorAll( elem );\\n  }\\n\\n  this.elements = makeArray( elem );\\n  this.options = extend( {}, this.options );\\n\\n  if ( typeof options == 'function' ) {\\n    onAlways = options;\\n  } else {\\n    extend( this.options, options );\\n  }\\n\\n  if ( onAlways ) {\\n    this.on( 'always', onAlways );\\n  }\\n\\n  this.getImages();\\n\\n  if ( $ ) {\\n    // add jQuery Deferred object\\n    this.jqDeferred = new $.Deferred();\\n  }\\n\\n  // HACK check async to allow time to bind listeners\\n  setTimeout( function() {\\n    this.check();\\n  }.bind( this ));\\n}\\n\\nImagesLoaded.prototype = Object.create( EvEmitter.prototype );\\n\\nImagesLoaded.prototype.options = {};\\n\\nImagesLoaded.prototype.getImages = function() {\\n  this.images = [];\\n\\n  // filter & find items if we have an item selector\\n  this.elements.forEach( this.addElementImages, this );\\n};\\n\\n/**\\n * @param {Node} element\\n */\\nImagesLoaded.prototype.addElementImages = function( elem ) {\\n  // filter siblings\\n  if ( elem.nodeName == 'IMG' ) {\\n    this.addImage( elem );\\n  }\\n  // get background image on element\\n  if ( this.options.background === true ) {\\n    this.addElementBackgroundImages( elem );\\n  }\\n\\n  // find children\\n  // no non-element nodes, #143\\n  var nodeType = elem.nodeType;\\n  if ( !nodeType || !elementNodeTypes[ nodeType ] ) {\\n    return;\\n  }\\n  var childImgs = elem.querySelectorAll('img');\\n  // concat childElems to filterFound array\\n  for ( var i=0; i < childImgs.length; i++ ) {\\n    var img = childImgs[i];\\n    this.addImage( img );\\n  }\\n\\n  // get child background images\\n  if ( typeof this.options.background == 'string' ) {\\n    var children = elem.querySelectorAll( this.options.background );\\n    for ( i=0; i < children.length; i++ ) {\\n      var child = children[i];\\n      this.addElementBackgroundImages( child );\\n    }\\n  }\\n};\\n\\nvar elementNodeTypes = {\\n  1: true,\\n  9: true,\\n  11: true\\n};\\n\\nImagesLoaded.prototype.addElementBackgroundImages = function( elem ) {\\n  var style = getComputedStyle( elem );\\n  if ( !style ) {\\n    // Firefox returns null if in a hidden iframe https://bugzil.la/548397\\n    return;\\n  }\\n  // get url inside url(\\\"...\\\")\\n  var reURL = /url\\\\((['\\\"])?(.*?)\\\\1\\\\)/gi;\\n  var matches = reURL.exec( style.backgroundImage );\\n  while ( matches !== null ) {\\n    var url = matches && matches[2];\\n    if ( url ) {\\n      this.addBackground( url, elem );\\n    }\\n    matches = reURL.exec( style.backgroundImage );\\n  }\\n};\\n\\n/**\\n * @param {Image} img\\n */\\nImagesLoaded.prototype.addImage = function( img ) {\\n  var loadingImage = new LoadingImage( img );\\n  this.images.push( loadingImage );\\n};\\n\\nImagesLoaded.prototype.addBackground = function( url, elem ) {\\n  var background = new Background( url, elem );\\n  this.images.push( background );\\n};\\n\\nImagesLoaded.prototype.check = function() {\\n  var _this = this;\\n  this.progressedCount = 0;\\n  this.hasAnyBroken = false;\\n  // complete if no images\\n  if ( !this.images.length ) {\\n    this.complete();\\n    return;\\n  }\\n\\n  function onProgress( image, elem, message ) {\\n    // HACK - Chrome triggers event before object properties have changed. #83\\n    setTimeout( function() {\\n      _this.progress( image, elem, message );\\n    });\\n  }\\n\\n  this.images.forEach( function( loadingImage ) {\\n    loadingImage.once( 'progress', onProgress );\\n    loadingImage.check();\\n  });\\n};\\n\\nImagesLoaded.prototype.progress = function( image, elem, message ) {\\n  this.progressedCount++;\\n  this.hasAnyBroken = this.hasAnyBroken || !image.isLoaded;\\n  // progress event\\n  this.emitEvent( 'progress', [ this, image, elem ] );\\n  if ( this.jqDeferred && this.jqDeferred.notify ) {\\n    this.jqDeferred.notify( this, image );\\n  }\\n  // check if completed\\n  if ( this.progressedCount == this.images.length ) {\\n    this.complete();\\n  }\\n\\n  if ( this.options.debug && console ) {\\n    console.log( 'progress: ' + message, image, elem );\\n  }\\n};\\n\\nImagesLoaded.prototype.complete = function() {\\n  var eventName = this.hasAnyBroken ? 'fail' : 'done';\\n  this.isComplete = true;\\n  this.emitEvent( eventName, [ this ] );\\n  this.emitEvent( 'always', [ this ] );\\n  if ( this.jqDeferred ) {\\n    var jqMethod = this.hasAnyBroken ? 'reject' : 'resolve';\\n    this.jqDeferred[ jqMethod ]( this );\\n  }\\n};\\n\\n// --------------------------  -------------------------- //\\n\\nfunction LoadingImage( img ) {\\n  this.img = img;\\n}\\n\\nLoadingImage.prototype = Object.create( EvEmitter.prototype );\\n\\nLoadingImage.prototype.check = function() {\\n  // If complete is true and browser supports natural sizes,\\n  // try to check for image status manually.\\n  var isComplete = this.getIsImageComplete();\\n  if ( isComplete ) {\\n    // report based on naturalWidth\\n    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );\\n    return;\\n  }\\n\\n  // If none of the checks above matched, simulate loading on detached element.\\n  this.proxyImage = new Image();\\n  this.proxyImage.addEventListener( 'load', this );\\n  this.proxyImage.addEventListener( 'error', this );\\n  // bind to image as well for Firefox. #191\\n  this.img.addEventListener( 'load', this );\\n  this.img.addEventListener( 'error', this );\\n  this.proxyImage.src = this.img.src;\\n};\\n\\nLoadingImage.prototype.getIsImageComplete = function() {\\n  return this.img.complete && this.img.naturalWidth !== undefined;\\n};\\n\\nLoadingImage.prototype.confirm = function( isLoaded, message ) {\\n  this.isLoaded = isLoaded;\\n  this.emitEvent( 'progress', [ this, this.img, message ] );\\n};\\n\\n// ----- events ----- //\\n\\n// trigger specified handler for event type\\nLoadingImage.prototype.handleEvent = function( event ) {\\n  var method = 'on' + event.type;\\n  if ( this[ method ] ) {\\n    this[ method ]( event );\\n  }\\n};\\n\\nLoadingImage.prototype.onload = function() {\\n  this.confirm( true, 'onload' );\\n  this.unbindEvents();\\n};\\n\\nLoadingImage.prototype.onerror = function() {\\n  this.confirm( false, 'onerror' );\\n  this.unbindEvents();\\n};\\n\\nLoadingImage.prototype.unbindEvents = function() {\\n  this.proxyImage.removeEventListener( 'load', this );\\n  this.proxyImage.removeEventListener( 'error', this );\\n  this.img.removeEventListener( 'load', this );\\n  this.img.removeEventListener( 'error', this );\\n};\\n\\n// -------------------------- Background -------------------------- //\\n\\nfunction Background( url, element ) {\\n  this.url = url;\\n  this.element = element;\\n  this.img = new Image();\\n}\\n\\n// inherit LoadingImage prototype\\nBackground.prototype = Object.create( LoadingImage.prototype );\\n\\nBackground.prototype.check = function() {\\n  this.img.addEventListener( 'load', this );\\n  this.img.addEventListener( 'error', this );\\n  this.img.src = this.url;\\n  // check if image is already complete\\n  var isComplete = this.getIsImageComplete();\\n  if ( isComplete ) {\\n    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );\\n    this.unbindEvents();\\n  }\\n};\\n\\nBackground.prototype.unbindEvents = function() {\\n  this.img.removeEventListener( 'load', this );\\n  this.img.removeEventListener( 'error', this );\\n};\\n\\nBackground.prototype.confirm = function( isLoaded, message ) {\\n  this.isLoaded = isLoaded;\\n  this.emitEvent( 'progress', [ this, this.element, message ] );\\n};\\n\\n// -------------------------- jQuery -------------------------- //\\n\\nImagesLoaded.makeJQueryPlugin = function( jQuery ) {\\n  jQuery = jQuery || window.jQuery;\\n  if ( !jQuery ) {\\n    return;\\n  }\\n  // set local variable\\n  $ = jQuery;\\n  // $().imagesLoaded()\\n  $.fn.imagesLoaded = function( options, callback ) {\\n    var instance = new ImagesLoaded( this, options, callback );\\n    return instance.jqDeferred.promise( $(this) );\\n  };\\n};\\n// try making plugin\\nImagesLoaded.makeJQueryPlugin();\\n\\n// --------------------------  -------------------------- //\\n\\nreturn ImagesLoaded;\\n\\n});\\n\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/raw-loader!./~/imagesloaded/imagesloaded.pkgd.js\n// module id = 564\n// module chunks = 1","module.exports = \"/*!\\n * Masonry PACKAGED v4.1.1\\n * Cascading grid layout library\\n * http://masonry.desandro.com\\n * MIT License\\n * by David DeSandro\\n */\\n\\n/**\\n * Bridget makes jQuery widgets\\n * v2.0.1\\n * MIT license\\n */\\n\\n/* jshint browser: true, strict: true, undef: true, unused: true */\\n\\n( function( window, factory ) {\\n  // universal module definition\\n  /*jshint strict: false */ /* globals define, module, require */\\n  if ( typeof define == 'function' && define.amd ) {\\n    // AMD\\n    define( 'jquery-bridget/jquery-bridget',[ 'jquery' ], function( jQuery ) {\\n      return factory( window, jQuery );\\n    });\\n  } else if ( typeof module == 'object' && module.exports ) {\\n    // CommonJS\\n    module.exports = factory(\\n      window,\\n      require('jquery')\\n    );\\n  } else {\\n    // browser global\\n    window.jQueryBridget = factory(\\n      window,\\n      window.jQuery\\n    );\\n  }\\n\\n}( window, function factory( window, jQuery ) {\\n'use strict';\\n\\n// ----- utils ----- //\\n\\nvar arraySlice = Array.prototype.slice;\\n\\n// helper function for logging errors\\n// $.error breaks jQuery chaining\\nvar console = window.console;\\nvar logError = typeof console == 'undefined' ? function() {} :\\n  function( message ) {\\n    console.error( message );\\n  };\\n\\n// ----- jQueryBridget ----- //\\n\\nfunction jQueryBridget( namespace, PluginClass, $ ) {\\n  $ = $ || jQuery || window.jQuery;\\n  if ( !$ ) {\\n    return;\\n  }\\n\\n  // add option method -> $().plugin('option', {...})\\n  if ( !PluginClass.prototype.option ) {\\n    // option setter\\n    PluginClass.prototype.option = function( opts ) {\\n      // bail out if not an object\\n      if ( !$.isPlainObject( opts ) ){\\n        return;\\n      }\\n      this.options = $.extend( true, this.options, opts );\\n    };\\n  }\\n\\n  // make jQuery plugin\\n  $.fn[ namespace ] = function( arg0 /*, arg1 */ ) {\\n    if ( typeof arg0 == 'string' ) {\\n      // method call $().plugin( 'methodName', { options } )\\n      // shift arguments by 1\\n      var args = arraySlice.call( arguments, 1 );\\n      return methodCall( this, arg0, args );\\n    }\\n    // just $().plugin({ options })\\n    plainCall( this, arg0 );\\n    return this;\\n  };\\n\\n  // $().plugin('methodName')\\n  function methodCall( $elems, methodName, args ) {\\n    var returnValue;\\n    var pluginMethodStr = '$().' + namespace + '(\\\"' + methodName + '\\\")';\\n\\n    $elems.each( function( i, elem ) {\\n      // get instance\\n      var instance = $.data( elem, namespace );\\n      if ( !instance ) {\\n        logError( namespace + ' not initialized. Cannot call methods, i.e. ' +\\n          pluginMethodStr );\\n        return;\\n      }\\n\\n      var method = instance[ methodName ];\\n      if ( !method || methodName.charAt(0) == '_' ) {\\n        logError( pluginMethodStr + ' is not a valid method' );\\n        return;\\n      }\\n\\n      // apply method, get return value\\n      var value = method.apply( instance, args );\\n      // set return value if value is returned, use only first value\\n      returnValue = returnValue === undefined ? value : returnValue;\\n    });\\n\\n    return returnValue !== undefined ? returnValue : $elems;\\n  }\\n\\n  function plainCall( $elems, options ) {\\n    $elems.each( function( i, elem ) {\\n      var instance = $.data( elem, namespace );\\n      if ( instance ) {\\n        // set options & init\\n        instance.option( options );\\n        instance._init();\\n      } else {\\n        // initialize new instance\\n        instance = new PluginClass( elem, options );\\n        $.data( elem, namespace, instance );\\n      }\\n    });\\n  }\\n\\n  updateJQuery( $ );\\n\\n}\\n\\n// ----- updateJQuery ----- //\\n\\n// set $.bridget for v1 backwards compatibility\\nfunction updateJQuery( $ ) {\\n  if ( !$ || ( $ && $.bridget ) ) {\\n    return;\\n  }\\n  $.bridget = jQueryBridget;\\n}\\n\\nupdateJQuery( jQuery || window.jQuery );\\n\\n// -----  ----- //\\n\\nreturn jQueryBridget;\\n\\n}));\\n\\n/**\\n * EvEmitter v1.0.3\\n * Lil' event emitter\\n * MIT License\\n */\\n\\n/* jshint unused: true, undef: true, strict: true */\\n\\n( function( global, factory ) {\\n  // universal module definition\\n  /* jshint strict: false */ /* globals define, module, window */\\n  if ( typeof define == 'function' && define.amd ) {\\n    // AMD - RequireJS\\n    define( 'ev-emitter/ev-emitter',factory );\\n  } else if ( typeof module == 'object' && module.exports ) {\\n    // CommonJS - Browserify, Webpack\\n    module.exports = factory();\\n  } else {\\n    // Browser globals\\n    global.EvEmitter = factory();\\n  }\\n\\n}( typeof window != 'undefined' ? window : this, function() {\\n\\n\\n\\nfunction EvEmitter() {}\\n\\nvar proto = EvEmitter.prototype;\\n\\nproto.on = function( eventName, listener ) {\\n  if ( !eventName || !listener ) {\\n    return;\\n  }\\n  // set events hash\\n  var events = this._events = this._events || {};\\n  // set listeners array\\n  var listeners = events[ eventName ] = events[ eventName ] || [];\\n  // only add once\\n  if ( listeners.indexOf( listener ) == -1 ) {\\n    listeners.push( listener );\\n  }\\n\\n  return this;\\n};\\n\\nproto.once = function( eventName, listener ) {\\n  if ( !eventName || !listener ) {\\n    return;\\n  }\\n  // add event\\n  this.on( eventName, listener );\\n  // set once flag\\n  // set onceEvents hash\\n  var onceEvents = this._onceEvents = this._onceEvents || {};\\n  // set onceListeners object\\n  var onceListeners = onceEvents[ eventName ] = onceEvents[ eventName ] || {};\\n  // set flag\\n  onceListeners[ listener ] = true;\\n\\n  return this;\\n};\\n\\nproto.off = function( eventName, listener ) {\\n  var listeners = this._events && this._events[ eventName ];\\n  if ( !listeners || !listeners.length ) {\\n    return;\\n  }\\n  var index = listeners.indexOf( listener );\\n  if ( index != -1 ) {\\n    listeners.splice( index, 1 );\\n  }\\n\\n  return this;\\n};\\n\\nproto.emitEvent = function( eventName, args ) {\\n  var listeners = this._events && this._events[ eventName ];\\n  if ( !listeners || !listeners.length ) {\\n    return;\\n  }\\n  var i = 0;\\n  var listener = listeners[i];\\n  args = args || [];\\n  // once stuff\\n  var onceListeners = this._onceEvents && this._onceEvents[ eventName ];\\n\\n  while ( listener ) {\\n    var isOnce = onceListeners && onceListeners[ listener ];\\n    if ( isOnce ) {\\n      // remove listener\\n      // remove before trigger to prevent recursion\\n      this.off( eventName, listener );\\n      // unset once flag\\n      delete onceListeners[ listener ];\\n    }\\n    // trigger listener\\n    listener.apply( this, args );\\n    // get next listener\\n    i += isOnce ? 0 : 1;\\n    listener = listeners[i];\\n  }\\n\\n  return this;\\n};\\n\\nreturn EvEmitter;\\n\\n}));\\n\\n/*!\\n * getSize v2.0.2\\n * measure size of elements\\n * MIT license\\n */\\n\\n/*jshint browser: true, strict: true, undef: true, unused: true */\\n/*global define: false, module: false, console: false */\\n\\n( function( window, factory ) {\\n  'use strict';\\n\\n  if ( typeof define == 'function' && define.amd ) {\\n    // AMD\\n    define( 'get-size/get-size',[],function() {\\n      return factory();\\n    });\\n  } else if ( typeof module == 'object' && module.exports ) {\\n    // CommonJS\\n    module.exports = factory();\\n  } else {\\n    // browser global\\n    window.getSize = factory();\\n  }\\n\\n})( window, function factory() {\\n'use strict';\\n\\n// -------------------------- helpers -------------------------- //\\n\\n// get a number from a string, not a percentage\\nfunction getStyleSize( value ) {\\n  var num = parseFloat( value );\\n  // not a percent like '100%', and a number\\n  var isValid = value.indexOf('%') == -1 && !isNaN( num );\\n  return isValid && num;\\n}\\n\\nfunction noop() {}\\n\\nvar logError = typeof console == 'undefined' ? noop :\\n  function( message ) {\\n    console.error( message );\\n  };\\n\\n// -------------------------- measurements -------------------------- //\\n\\nvar measurements = [\\n  'paddingLeft',\\n  'paddingRight',\\n  'paddingTop',\\n  'paddingBottom',\\n  'marginLeft',\\n  'marginRight',\\n  'marginTop',\\n  'marginBottom',\\n  'borderLeftWidth',\\n  'borderRightWidth',\\n  'borderTopWidth',\\n  'borderBottomWidth'\\n];\\n\\nvar measurementsLength = measurements.length;\\n\\nfunction getZeroSize() {\\n  var size = {\\n    width: 0,\\n    height: 0,\\n    innerWidth: 0,\\n    innerHeight: 0,\\n    outerWidth: 0,\\n    outerHeight: 0\\n  };\\n  for ( var i=0; i < measurementsLength; i++ ) {\\n    var measurement = measurements[i];\\n    size[ measurement ] = 0;\\n  }\\n  return size;\\n}\\n\\n// -------------------------- getStyle -------------------------- //\\n\\n/**\\n * getStyle, get style of element, check for Firefox bug\\n * https://bugzilla.mozilla.org/show_bug.cgi?id=548397\\n */\\nfunction getStyle( elem ) {\\n  var style = getComputedStyle( elem );\\n  if ( !style ) {\\n    logError( 'Style returned ' + style +\\n      '. Are you running this code in a hidden iframe on Firefox? ' +\\n      'See http://bit.ly/getsizebug1' );\\n  }\\n  return style;\\n}\\n\\n// -------------------------- setup -------------------------- //\\n\\nvar isSetup = false;\\n\\nvar isBoxSizeOuter;\\n\\n/**\\n * setup\\n * check isBoxSizerOuter\\n * do on first getSize() rather than on page load for Firefox bug\\n */\\nfunction setup() {\\n  // setup once\\n  if ( isSetup ) {\\n    return;\\n  }\\n  isSetup = true;\\n\\n  // -------------------------- box sizing -------------------------- //\\n\\n  /**\\n   * WebKit measures the outer-width on style.width on border-box elems\\n   * IE & Firefox<29 measures the inner-width\\n   */\\n  var div = document.createElement('div');\\n  div.style.width = '200px';\\n  div.style.padding = '1px 2px 3px 4px';\\n  div.style.borderStyle = 'solid';\\n  div.style.borderWidth = '1px 2px 3px 4px';\\n  div.style.boxSizing = 'border-box';\\n\\n  var body = document.body || document.documentElement;\\n  body.appendChild( div );\\n  var style = getStyle( div );\\n\\n  getSize.isBoxSizeOuter = isBoxSizeOuter = getStyleSize( style.width ) == 200;\\n  body.removeChild( div );\\n\\n}\\n\\n// -------------------------- getSize -------------------------- //\\n\\nfunction getSize( elem ) {\\n  setup();\\n\\n  // use querySeletor if elem is string\\n  if ( typeof elem == 'string' ) {\\n    elem = document.querySelector( elem );\\n  }\\n\\n  // do not proceed on non-objects\\n  if ( !elem || typeof elem != 'object' || !elem.nodeType ) {\\n    return;\\n  }\\n\\n  var style = getStyle( elem );\\n\\n  // if hidden, everything is 0\\n  if ( style.display == 'none' ) {\\n    return getZeroSize();\\n  }\\n\\n  var size = {};\\n  size.width = elem.offsetWidth;\\n  size.height = elem.offsetHeight;\\n\\n  var isBorderBox = size.isBorderBox = style.boxSizing == 'border-box';\\n\\n  // get all measurements\\n  for ( var i=0; i < measurementsLength; i++ ) {\\n    var measurement = measurements[i];\\n    var value = style[ measurement ];\\n    var num = parseFloat( value );\\n    // any 'auto', 'medium' value will be 0\\n    size[ measurement ] = !isNaN( num ) ? num : 0;\\n  }\\n\\n  var paddingWidth = size.paddingLeft + size.paddingRight;\\n  var paddingHeight = size.paddingTop + size.paddingBottom;\\n  var marginWidth = size.marginLeft + size.marginRight;\\n  var marginHeight = size.marginTop + size.marginBottom;\\n  var borderWidth = size.borderLeftWidth + size.borderRightWidth;\\n  var borderHeight = size.borderTopWidth + size.borderBottomWidth;\\n\\n  var isBorderBoxSizeOuter = isBorderBox && isBoxSizeOuter;\\n\\n  // overwrite width and height if we can get it from style\\n  var styleWidth = getStyleSize( style.width );\\n  if ( styleWidth !== false ) {\\n    size.width = styleWidth +\\n      // add padding and border unless it's already including it\\n      ( isBorderBoxSizeOuter ? 0 : paddingWidth + borderWidth );\\n  }\\n\\n  var styleHeight = getStyleSize( style.height );\\n  if ( styleHeight !== false ) {\\n    size.height = styleHeight +\\n      // add padding and border unless it's already including it\\n      ( isBorderBoxSizeOuter ? 0 : paddingHeight + borderHeight );\\n  }\\n\\n  size.innerWidth = size.width - ( paddingWidth + borderWidth );\\n  size.innerHeight = size.height - ( paddingHeight + borderHeight );\\n\\n  size.outerWidth = size.width + marginWidth;\\n  size.outerHeight = size.height + marginHeight;\\n\\n  return size;\\n}\\n\\nreturn getSize;\\n\\n});\\n\\n/**\\n * matchesSelector v2.0.1\\n * matchesSelector( element, '.selector' )\\n * MIT license\\n */\\n\\n/*jshint browser: true, strict: true, undef: true, unused: true */\\n\\n( function( window, factory ) {\\n  /*global define: false, module: false */\\n  'use strict';\\n  // universal module definition\\n  if ( typeof define == 'function' && define.amd ) {\\n    // AMD\\n    define( 'desandro-matches-selector/matches-selector',factory );\\n  } else if ( typeof module == 'object' && module.exports ) {\\n    // CommonJS\\n    module.exports = factory();\\n  } else {\\n    // browser global\\n    window.matchesSelector = factory();\\n  }\\n\\n}( window, function factory() {\\n  'use strict';\\n\\n  var matchesMethod = ( function() {\\n    var ElemProto = Element.prototype;\\n    // check for the standard method name first\\n    if ( ElemProto.matches ) {\\n      return 'matches';\\n    }\\n    // check un-prefixed\\n    if ( ElemProto.matchesSelector ) {\\n      return 'matchesSelector';\\n    }\\n    // check vendor prefixes\\n    var prefixes = [ 'webkit', 'moz', 'ms', 'o' ];\\n\\n    for ( var i=0; i < prefixes.length; i++ ) {\\n      var prefix = prefixes[i];\\n      var method = prefix + 'MatchesSelector';\\n      if ( ElemProto[ method ] ) {\\n        return method;\\n      }\\n    }\\n  })();\\n\\n  return function matchesSelector( elem, selector ) {\\n    return elem[ matchesMethod ]( selector );\\n  };\\n\\n}));\\n\\n/**\\n * Fizzy UI utils v2.0.2\\n * MIT license\\n */\\n\\n/*jshint browser: true, undef: true, unused: true, strict: true */\\n\\n( function( window, factory ) {\\n  // universal module definition\\n  /*jshint strict: false */ /*globals define, module, require */\\n\\n  if ( typeof define == 'function' && define.amd ) {\\n    // AMD\\n    define( 'fizzy-ui-utils/utils',[\\n      'desandro-matches-selector/matches-selector'\\n    ], function( matchesSelector ) {\\n      return factory( window, matchesSelector );\\n    });\\n  } else if ( typeof module == 'object' && module.exports ) {\\n    // CommonJS\\n    module.exports = factory(\\n      window,\\n      require('desandro-matches-selector')\\n    );\\n  } else {\\n    // browser global\\n    window.fizzyUIUtils = factory(\\n      window,\\n      window.matchesSelector\\n    );\\n  }\\n\\n}( window, function factory( window, matchesSelector ) {\\n\\n\\n\\nvar utils = {};\\n\\n// ----- extend ----- //\\n\\n// extends objects\\nutils.extend = function( a, b ) {\\n  for ( var prop in b ) {\\n    a[ prop ] = b[ prop ];\\n  }\\n  return a;\\n};\\n\\n// ----- modulo ----- //\\n\\nutils.modulo = function( num, div ) {\\n  return ( ( num % div ) + div ) % div;\\n};\\n\\n// ----- makeArray ----- //\\n\\n// turn element or nodeList into an array\\nutils.makeArray = function( obj ) {\\n  var ary = [];\\n  if ( Array.isArray( obj ) ) {\\n    // use object if already an array\\n    ary = obj;\\n  } else if ( obj && typeof obj.length == 'number' ) {\\n    // convert nodeList to array\\n    for ( var i=0; i < obj.length; i++ ) {\\n      ary.push( obj[i] );\\n    }\\n  } else {\\n    // array of single index\\n    ary.push( obj );\\n  }\\n  return ary;\\n};\\n\\n// ----- removeFrom ----- //\\n\\nutils.removeFrom = function( ary, obj ) {\\n  var index = ary.indexOf( obj );\\n  if ( index != -1 ) {\\n    ary.splice( index, 1 );\\n  }\\n};\\n\\n// ----- getParent ----- //\\n\\nutils.getParent = function( elem, selector ) {\\n  while ( elem != document.body ) {\\n    elem = elem.parentNode;\\n    if ( matchesSelector( elem, selector ) ) {\\n      return elem;\\n    }\\n  }\\n};\\n\\n// ----- getQueryElement ----- //\\n\\n// use element as selector string\\nutils.getQueryElement = function( elem ) {\\n  if ( typeof elem == 'string' ) {\\n    return document.querySelector( elem );\\n  }\\n  return elem;\\n};\\n\\n// ----- handleEvent ----- //\\n\\n// enable .ontype to trigger from .addEventListener( elem, 'type' )\\nutils.handleEvent = function( event ) {\\n  var method = 'on' + event.type;\\n  if ( this[ method ] ) {\\n    this[ method ]( event );\\n  }\\n};\\n\\n// ----- filterFindElements ----- //\\n\\nutils.filterFindElements = function( elems, selector ) {\\n  // make array of elems\\n  elems = utils.makeArray( elems );\\n  var ffElems = [];\\n\\n  elems.forEach( function( elem ) {\\n    // check that elem is an actual element\\n    if ( !( elem instanceof HTMLElement ) ) {\\n      return;\\n    }\\n    // add elem if no selector\\n    if ( !selector ) {\\n      ffElems.push( elem );\\n      return;\\n    }\\n    // filter & find items if we have a selector\\n    // filter\\n    if ( matchesSelector( elem, selector ) ) {\\n      ffElems.push( elem );\\n    }\\n    // find children\\n    var childElems = elem.querySelectorAll( selector );\\n    // concat childElems to filterFound array\\n    for ( var i=0; i < childElems.length; i++ ) {\\n      ffElems.push( childElems[i] );\\n    }\\n  });\\n\\n  return ffElems;\\n};\\n\\n// ----- debounceMethod ----- //\\n\\nutils.debounceMethod = function( _class, methodName, threshold ) {\\n  // original method\\n  var method = _class.prototype[ methodName ];\\n  var timeoutName = methodName + 'Timeout';\\n\\n  _class.prototype[ methodName ] = function() {\\n    var timeout = this[ timeoutName ];\\n    if ( timeout ) {\\n      clearTimeout( timeout );\\n    }\\n    var args = arguments;\\n\\n    var _this = this;\\n    this[ timeoutName ] = setTimeout( function() {\\n      method.apply( _this, args );\\n      delete _this[ timeoutName ];\\n    }, threshold || 100 );\\n  };\\n};\\n\\n// ----- docReady ----- //\\n\\nutils.docReady = function( callback ) {\\n  var readyState = document.readyState;\\n  if ( readyState == 'complete' || readyState == 'interactive' ) {\\n    callback();\\n  } else {\\n    document.addEventListener( 'DOMContentLoaded', callback );\\n  }\\n};\\n\\n// ----- htmlInit ----- //\\n\\n// http://jamesroberts.name/blog/2010/02/22/string-functions-for-javascript-trim-to-camel-case-to-dashed-and-to-underscore/\\nutils.toDashed = function( str ) {\\n  return str.replace( /(.)([A-Z])/g, function( match, $1, $2 ) {\\n    return $1 + '-' + $2;\\n  }).toLowerCase();\\n};\\n\\nvar console = window.console;\\n/**\\n * allow user to initialize classes via [data-namespace] or .js-namespace class\\n * htmlInit( Widget, 'widgetName' )\\n * options are parsed from data-namespace-options\\n */\\nutils.htmlInit = function( WidgetClass, namespace ) {\\n  utils.docReady( function() {\\n    var dashedNamespace = utils.toDashed( namespace );\\n    var dataAttr = 'data-' + dashedNamespace;\\n    var dataAttrElems = document.querySelectorAll( '[' + dataAttr + ']' );\\n    var jsDashElems = document.querySelectorAll( '.js-' + dashedNamespace );\\n    var elems = utils.makeArray( dataAttrElems )\\n      .concat( utils.makeArray( jsDashElems ) );\\n    var dataOptionsAttr = dataAttr + '-options';\\n    var jQuery = window.jQuery;\\n\\n    elems.forEach( function( elem ) {\\n      var attr = elem.getAttribute( dataAttr ) ||\\n        elem.getAttribute( dataOptionsAttr );\\n      var options;\\n      try {\\n        options = attr && JSON.parse( attr );\\n      } catch ( error ) {\\n        // log error, do not initialize\\n        if ( console ) {\\n          console.error( 'Error parsing ' + dataAttr + ' on ' + elem.className +\\n          ': ' + error );\\n        }\\n        return;\\n      }\\n      // initialize\\n      var instance = new WidgetClass( elem, options );\\n      // make available via $().data('layoutname')\\n      if ( jQuery ) {\\n        jQuery.data( elem, namespace, instance );\\n      }\\n    });\\n\\n  });\\n};\\n\\n// -----  ----- //\\n\\nreturn utils;\\n\\n}));\\n\\n/**\\n * Outlayer Item\\n */\\n\\n( function( window, factory ) {\\n  // universal module definition\\n  /* jshint strict: false */ /* globals define, module, require */\\n  if ( typeof define == 'function' && define.amd ) {\\n    // AMD - RequireJS\\n    define( 'outlayer/item',[\\n        'ev-emitter/ev-emitter',\\n        'get-size/get-size'\\n      ],\\n      factory\\n    );\\n  } else if ( typeof module == 'object' && module.exports ) {\\n    // CommonJS - Browserify, Webpack\\n    module.exports = factory(\\n      require('ev-emitter'),\\n      require('get-size')\\n    );\\n  } else {\\n    // browser global\\n    window.Outlayer = {};\\n    window.Outlayer.Item = factory(\\n      window.EvEmitter,\\n      window.getSize\\n    );\\n  }\\n\\n}( window, function factory( EvEmitter, getSize ) {\\n'use strict';\\n\\n// ----- helpers ----- //\\n\\nfunction isEmptyObj( obj ) {\\n  for ( var prop in obj ) {\\n    return false;\\n  }\\n  prop = null;\\n  return true;\\n}\\n\\n// -------------------------- CSS3 support -------------------------- //\\n\\n\\nvar docElemStyle = document.documentElement.style;\\n\\nvar transitionProperty = typeof docElemStyle.transition == 'string' ?\\n  'transition' : 'WebkitTransition';\\nvar transformProperty = typeof docElemStyle.transform == 'string' ?\\n  'transform' : 'WebkitTransform';\\n\\nvar transitionEndEvent = {\\n  WebkitTransition: 'webkitTransitionEnd',\\n  transition: 'transitionend'\\n}[ transitionProperty ];\\n\\n// cache all vendor properties that could have vendor prefix\\nvar vendorProperties = {\\n  transform: transformProperty,\\n  transition: transitionProperty,\\n  transitionDuration: transitionProperty + 'Duration',\\n  transitionProperty: transitionProperty + 'Property',\\n  transitionDelay: transitionProperty + 'Delay'\\n};\\n\\n// -------------------------- Item -------------------------- //\\n\\nfunction Item( element, layout ) {\\n  if ( !element ) {\\n    return;\\n  }\\n\\n  this.element = element;\\n  // parent layout class, i.e. Masonry, Isotope, or Packery\\n  this.layout = layout;\\n  this.position = {\\n    x: 0,\\n    y: 0\\n  };\\n\\n  this._create();\\n}\\n\\n// inherit EvEmitter\\nvar proto = Item.prototype = Object.create( EvEmitter.prototype );\\nproto.constructor = Item;\\n\\nproto._create = function() {\\n  // transition objects\\n  this._transn = {\\n    ingProperties: {},\\n    clean: {},\\n    onEnd: {}\\n  };\\n\\n  this.css({\\n    position: 'absolute'\\n  });\\n};\\n\\n// trigger specified handler for event type\\nproto.handleEvent = function( event ) {\\n  var method = 'on' + event.type;\\n  if ( this[ method ] ) {\\n    this[ method ]( event );\\n  }\\n};\\n\\nproto.getSize = function() {\\n  this.size = getSize( this.element );\\n};\\n\\n/**\\n * apply CSS styles to element\\n * @param {Object} style\\n */\\nproto.css = function( style ) {\\n  var elemStyle = this.element.style;\\n\\n  for ( var prop in style ) {\\n    // use vendor property if available\\n    var supportedProp = vendorProperties[ prop ] || prop;\\n    elemStyle[ supportedProp ] = style[ prop ];\\n  }\\n};\\n\\n // measure position, and sets it\\nproto.getPosition = function() {\\n  var style = getComputedStyle( this.element );\\n  var isOriginLeft = this.layout._getOption('originLeft');\\n  var isOriginTop = this.layout._getOption('originTop');\\n  var xValue = style[ isOriginLeft ? 'left' : 'right' ];\\n  var yValue = style[ isOriginTop ? 'top' : 'bottom' ];\\n  // convert percent to pixels\\n  var layoutSize = this.layout.size;\\n  var x = xValue.indexOf('%') != -1 ?\\n    ( parseFloat( xValue ) / 100 ) * layoutSize.width : parseInt( xValue, 10 );\\n  var y = yValue.indexOf('%') != -1 ?\\n    ( parseFloat( yValue ) / 100 ) * layoutSize.height : parseInt( yValue, 10 );\\n\\n  // clean up 'auto' or other non-integer values\\n  x = isNaN( x ) ? 0 : x;\\n  y = isNaN( y ) ? 0 : y;\\n  // remove padding from measurement\\n  x -= isOriginLeft ? layoutSize.paddingLeft : layoutSize.paddingRight;\\n  y -= isOriginTop ? layoutSize.paddingTop : layoutSize.paddingBottom;\\n\\n  this.position.x = x;\\n  this.position.y = y;\\n};\\n\\n// set settled position, apply padding\\nproto.layoutPosition = function() {\\n  var layoutSize = this.layout.size;\\n  var style = {};\\n  var isOriginLeft = this.layout._getOption('originLeft');\\n  var isOriginTop = this.layout._getOption('originTop');\\n\\n  // x\\n  var xPadding = isOriginLeft ? 'paddingLeft' : 'paddingRight';\\n  var xProperty = isOriginLeft ? 'left' : 'right';\\n  var xResetProperty = isOriginLeft ? 'right' : 'left';\\n\\n  var x = this.position.x + layoutSize[ xPadding ];\\n  // set in percentage or pixels\\n  style[ xProperty ] = this.getXValue( x );\\n  // reset other property\\n  style[ xResetProperty ] = '';\\n\\n  // y\\n  var yPadding = isOriginTop ? 'paddingTop' : 'paddingBottom';\\n  var yProperty = isOriginTop ? 'top' : 'bottom';\\n  var yResetProperty = isOriginTop ? 'bottom' : 'top';\\n\\n  var y = this.position.y + layoutSize[ yPadding ];\\n  // set in percentage or pixels\\n  style[ yProperty ] = this.getYValue( y );\\n  // reset other property\\n  style[ yResetProperty ] = '';\\n\\n  this.css( style );\\n  this.emitEvent( 'layout', [ this ] );\\n};\\n\\nproto.getXValue = function( x ) {\\n  var isHorizontal = this.layout._getOption('horizontal');\\n  return this.layout.options.percentPosition && !isHorizontal ?\\n    ( ( x / this.layout.size.width ) * 100 ) + '%' : x + 'px';\\n};\\n\\nproto.getYValue = function( y ) {\\n  var isHorizontal = this.layout._getOption('horizontal');\\n  return this.layout.options.percentPosition && isHorizontal ?\\n    ( ( y / this.layout.size.height ) * 100 ) + '%' : y + 'px';\\n};\\n\\nproto._transitionTo = function( x, y ) {\\n  this.getPosition();\\n  // get current x & y from top/left\\n  var curX = this.position.x;\\n  var curY = this.position.y;\\n\\n  var compareX = parseInt( x, 10 );\\n  var compareY = parseInt( y, 10 );\\n  var didNotMove = compareX === this.position.x && compareY === this.position.y;\\n\\n  // save end position\\n  this.setPosition( x, y );\\n\\n  // if did not move and not transitioning, just go to layout\\n  if ( didNotMove && !this.isTransitioning ) {\\n    this.layoutPosition();\\n    return;\\n  }\\n\\n  var transX = x - curX;\\n  var transY = y - curY;\\n  var transitionStyle = {};\\n  transitionStyle.transform = this.getTranslate( transX, transY );\\n\\n  this.transition({\\n    to: transitionStyle,\\n    onTransitionEnd: {\\n      transform: this.layoutPosition\\n    },\\n    isCleaning: true\\n  });\\n};\\n\\nproto.getTranslate = function( x, y ) {\\n  // flip cooridinates if origin on right or bottom\\n  var isOriginLeft = this.layout._getOption('originLeft');\\n  var isOriginTop = this.layout._getOption('originTop');\\n  x = isOriginLeft ? x : -x;\\n  y = isOriginTop ? y : -y;\\n  return 'translate3d(' + x + 'px, ' + y + 'px, 0)';\\n};\\n\\n// non transition + transform support\\nproto.goTo = function( x, y ) {\\n  this.setPosition( x, y );\\n  this.layoutPosition();\\n};\\n\\nproto.moveTo = proto._transitionTo;\\n\\nproto.setPosition = function( x, y ) {\\n  this.position.x = parseInt( x, 10 );\\n  this.position.y = parseInt( y, 10 );\\n};\\n\\n// ----- transition ----- //\\n\\n/**\\n * @param {Object} style - CSS\\n * @param {Function} onTransitionEnd\\n */\\n\\n// non transition, just trigger callback\\nproto._nonTransition = function( args ) {\\n  this.css( args.to );\\n  if ( args.isCleaning ) {\\n    this._removeStyles( args.to );\\n  }\\n  for ( var prop in args.onTransitionEnd ) {\\n    args.onTransitionEnd[ prop ].call( this );\\n  }\\n};\\n\\n/**\\n * proper transition\\n * @param {Object} args - arguments\\n *   @param {Object} to - style to transition to\\n *   @param {Object} from - style to start transition from\\n *   @param {Boolean} isCleaning - removes transition styles after transition\\n *   @param {Function} onTransitionEnd - callback\\n */\\nproto.transition = function( args ) {\\n  // redirect to nonTransition if no transition duration\\n  if ( !parseFloat( this.layout.options.transitionDuration ) ) {\\n    this._nonTransition( args );\\n    return;\\n  }\\n\\n  var _transition = this._transn;\\n  // keep track of onTransitionEnd callback by css property\\n  for ( var prop in args.onTransitionEnd ) {\\n    _transition.onEnd[ prop ] = args.onTransitionEnd[ prop ];\\n  }\\n  // keep track of properties that are transitioning\\n  for ( prop in args.to ) {\\n    _transition.ingProperties[ prop ] = true;\\n    // keep track of properties to clean up when transition is done\\n    if ( args.isCleaning ) {\\n      _transition.clean[ prop ] = true;\\n    }\\n  }\\n\\n  // set from styles\\n  if ( args.from ) {\\n    this.css( args.from );\\n    // force redraw. http://blog.alexmaccaw.com/css-transitions\\n    var h = this.element.offsetHeight;\\n    // hack for JSHint to hush about unused var\\n    h = null;\\n  }\\n  // enable transition\\n  this.enableTransition( args.to );\\n  // set styles that are transitioning\\n  this.css( args.to );\\n\\n  this.isTransitioning = true;\\n\\n};\\n\\n// dash before all cap letters, including first for\\n// WebkitTransform => -webkit-transform\\nfunction toDashedAll( str ) {\\n  return str.replace( /([A-Z])/g, function( $1 ) {\\n    return '-' + $1.toLowerCase();\\n  });\\n}\\n\\nvar transitionProps = 'opacity,' + toDashedAll( transformProperty );\\n\\nproto.enableTransition = function(/* style */) {\\n  // HACK changing transitionProperty during a transition\\n  // will cause transition to jump\\n  if ( this.isTransitioning ) {\\n    return;\\n  }\\n\\n  // make `transition: foo, bar, baz` from style object\\n  // HACK un-comment this when enableTransition can work\\n  // while a transition is happening\\n  // var transitionValues = [];\\n  // for ( var prop in style ) {\\n  //   // dash-ify camelCased properties like WebkitTransition\\n  //   prop = vendorProperties[ prop ] || prop;\\n  //   transitionValues.push( toDashedAll( prop ) );\\n  // }\\n  // munge number to millisecond, to match stagger\\n  var duration = this.layout.options.transitionDuration;\\n  duration = typeof duration == 'number' ? duration + 'ms' : duration;\\n  // enable transition styles\\n  this.css({\\n    transitionProperty: transitionProps,\\n    transitionDuration: duration,\\n    transitionDelay: this.staggerDelay || 0\\n  });\\n  // listen for transition end event\\n  this.element.addEventListener( transitionEndEvent, this, false );\\n};\\n\\n// ----- events ----- //\\n\\nproto.onwebkitTransitionEnd = function( event ) {\\n  this.ontransitionend( event );\\n};\\n\\nproto.onotransitionend = function( event ) {\\n  this.ontransitionend( event );\\n};\\n\\n// properties that I munge to make my life easier\\nvar dashedVendorProperties = {\\n  '-webkit-transform': 'transform'\\n};\\n\\nproto.ontransitionend = function( event ) {\\n  // disregard bubbled events from children\\n  if ( event.target !== this.element ) {\\n    return;\\n  }\\n  var _transition = this._transn;\\n  // get property name of transitioned property, convert to prefix-free\\n  var propertyName = dashedVendorProperties[ event.propertyName ] || event.propertyName;\\n\\n  // remove property that has completed transitioning\\n  delete _transition.ingProperties[ propertyName ];\\n  // check if any properties are still transitioning\\n  if ( isEmptyObj( _transition.ingProperties ) ) {\\n    // all properties have completed transitioning\\n    this.disableTransition();\\n  }\\n  // clean style\\n  if ( propertyName in _transition.clean ) {\\n    // clean up style\\n    this.element.style[ event.propertyName ] = '';\\n    delete _transition.clean[ propertyName ];\\n  }\\n  // trigger onTransitionEnd callback\\n  if ( propertyName in _transition.onEnd ) {\\n    var onTransitionEnd = _transition.onEnd[ propertyName ];\\n    onTransitionEnd.call( this );\\n    delete _transition.onEnd[ propertyName ];\\n  }\\n\\n  this.emitEvent( 'transitionEnd', [ this ] );\\n};\\n\\nproto.disableTransition = function() {\\n  this.removeTransitionStyles();\\n  this.element.removeEventListener( transitionEndEvent, this, false );\\n  this.isTransitioning = false;\\n};\\n\\n/**\\n * removes style property from element\\n * @param {Object} style\\n**/\\nproto._removeStyles = function( style ) {\\n  // clean up transition styles\\n  var cleanStyle = {};\\n  for ( var prop in style ) {\\n    cleanStyle[ prop ] = '';\\n  }\\n  this.css( cleanStyle );\\n};\\n\\nvar cleanTransitionStyle = {\\n  transitionProperty: '',\\n  transitionDuration: '',\\n  transitionDelay: ''\\n};\\n\\nproto.removeTransitionStyles = function() {\\n  // remove transition\\n  this.css( cleanTransitionStyle );\\n};\\n\\n// ----- stagger ----- //\\n\\nproto.stagger = function( delay ) {\\n  delay = isNaN( delay ) ? 0 : delay;\\n  this.staggerDelay = delay + 'ms';\\n};\\n\\n// ----- show/hide/remove ----- //\\n\\n// remove element from DOM\\nproto.removeElem = function() {\\n  this.element.parentNode.removeChild( this.element );\\n  // remove display: none\\n  this.css({ display: '' });\\n  this.emitEvent( 'remove', [ this ] );\\n};\\n\\nproto.remove = function() {\\n  // just remove element if no transition support or no transition\\n  if ( !transitionProperty || !parseFloat( this.layout.options.transitionDuration ) ) {\\n    this.removeElem();\\n    return;\\n  }\\n\\n  // start transition\\n  this.once( 'transitionEnd', function() {\\n    this.removeElem();\\n  });\\n  this.hide();\\n};\\n\\nproto.reveal = function() {\\n  delete this.isHidden;\\n  // remove display: none\\n  this.css({ display: '' });\\n\\n  var options = this.layout.options;\\n\\n  var onTransitionEnd = {};\\n  var transitionEndProperty = this.getHideRevealTransitionEndProperty('visibleStyle');\\n  onTransitionEnd[ transitionEndProperty ] = this.onRevealTransitionEnd;\\n\\n  this.transition({\\n    from: options.hiddenStyle,\\n    to: options.visibleStyle,\\n    isCleaning: true,\\n    onTransitionEnd: onTransitionEnd\\n  });\\n};\\n\\nproto.onRevealTransitionEnd = function() {\\n  // check if still visible\\n  // during transition, item may have been hidden\\n  if ( !this.isHidden ) {\\n    this.emitEvent('reveal');\\n  }\\n};\\n\\n/**\\n * get style property use for hide/reveal transition end\\n * @param {String} styleProperty - hiddenStyle/visibleStyle\\n * @returns {String}\\n */\\nproto.getHideRevealTransitionEndProperty = function( styleProperty ) {\\n  var optionStyle = this.layout.options[ styleProperty ];\\n  // use opacity\\n  if ( optionStyle.opacity ) {\\n    return 'opacity';\\n  }\\n  // get first property\\n  for ( var prop in optionStyle ) {\\n    return prop;\\n  }\\n};\\n\\nproto.hide = function() {\\n  // set flag\\n  this.isHidden = true;\\n  // remove display: none\\n  this.css({ display: '' });\\n\\n  var options = this.layout.options;\\n\\n  var onTransitionEnd = {};\\n  var transitionEndProperty = this.getHideRevealTransitionEndProperty('hiddenStyle');\\n  onTransitionEnd[ transitionEndProperty ] = this.onHideTransitionEnd;\\n\\n  this.transition({\\n    from: options.visibleStyle,\\n    to: options.hiddenStyle,\\n    // keep hidden stuff hidden\\n    isCleaning: true,\\n    onTransitionEnd: onTransitionEnd\\n  });\\n};\\n\\nproto.onHideTransitionEnd = function() {\\n  // check if still hidden\\n  // during transition, item may have been un-hidden\\n  if ( this.isHidden ) {\\n    this.css({ display: 'none' });\\n    this.emitEvent('hide');\\n  }\\n};\\n\\nproto.destroy = function() {\\n  this.css({\\n    position: '',\\n    left: '',\\n    right: '',\\n    top: '',\\n    bottom: '',\\n    transition: '',\\n    transform: ''\\n  });\\n};\\n\\nreturn Item;\\n\\n}));\\n\\n/*!\\n * Outlayer v2.1.0\\n * the brains and guts of a layout library\\n * MIT license\\n */\\n\\n( function( window, factory ) {\\n  'use strict';\\n  // universal module definition\\n  /* jshint strict: false */ /* globals define, module, require */\\n  if ( typeof define == 'function' && define.amd ) {\\n    // AMD - RequireJS\\n    define( 'outlayer/outlayer',[\\n        'ev-emitter/ev-emitter',\\n        'get-size/get-size',\\n        'fizzy-ui-utils/utils',\\n        './item'\\n      ],\\n      function( EvEmitter, getSize, utils, Item ) {\\n        return factory( window, EvEmitter, getSize, utils, Item);\\n      }\\n    );\\n  } else if ( typeof module == 'object' && module.exports ) {\\n    // CommonJS - Browserify, Webpack\\n    module.exports = factory(\\n      window,\\n      require('ev-emitter'),\\n      require('get-size'),\\n      require('fizzy-ui-utils'),\\n      require('./item')\\n    );\\n  } else {\\n    // browser global\\n    window.Outlayer = factory(\\n      window,\\n      window.EvEmitter,\\n      window.getSize,\\n      window.fizzyUIUtils,\\n      window.Outlayer.Item\\n    );\\n  }\\n\\n}( window, function factory( window, EvEmitter, getSize, utils, Item ) {\\n'use strict';\\n\\n// ----- vars ----- //\\n\\nvar console = window.console;\\nvar jQuery = window.jQuery;\\nvar noop = function() {};\\n\\n// -------------------------- Outlayer -------------------------- //\\n\\n// globally unique identifiers\\nvar GUID = 0;\\n// internal store of all Outlayer intances\\nvar instances = {};\\n\\n\\n/**\\n * @param {Element, String} element\\n * @param {Object} options\\n * @constructor\\n */\\nfunction Outlayer( element, options ) {\\n  var queryElement = utils.getQueryElement( element );\\n  if ( !queryElement ) {\\n    if ( console ) {\\n      console.error( 'Bad element for ' + this.constructor.namespace +\\n        ': ' + ( queryElement || element ) );\\n    }\\n    return;\\n  }\\n  this.element = queryElement;\\n  // add jQuery\\n  if ( jQuery ) {\\n    this.$element = jQuery( this.element );\\n  }\\n\\n  // options\\n  this.options = utils.extend( {}, this.constructor.defaults );\\n  this.option( options );\\n\\n  // add id for Outlayer.getFromElement\\n  var id = ++GUID;\\n  this.element.outlayerGUID = id; // expando\\n  instances[ id ] = this; // associate via id\\n\\n  // kick it off\\n  this._create();\\n\\n  var isInitLayout = this._getOption('initLayout');\\n  if ( isInitLayout ) {\\n    this.layout();\\n  }\\n}\\n\\n// settings are for internal use only\\nOutlayer.namespace = 'outlayer';\\nOutlayer.Item = Item;\\n\\n// default options\\nOutlayer.defaults = {\\n  containerStyle: {\\n    position: 'relative'\\n  },\\n  initLayout: true,\\n  originLeft: true,\\n  originTop: true,\\n  resize: true,\\n  resizeContainer: true,\\n  // item options\\n  transitionDuration: '0.4s',\\n  hiddenStyle: {\\n    opacity: 0,\\n    transform: 'scale(0.001)'\\n  },\\n  visibleStyle: {\\n    opacity: 1,\\n    transform: 'scale(1)'\\n  }\\n};\\n\\nvar proto = Outlayer.prototype;\\n// inherit EvEmitter\\nutils.extend( proto, EvEmitter.prototype );\\n\\n/**\\n * set options\\n * @param {Object} opts\\n */\\nproto.option = function( opts ) {\\n  utils.extend( this.options, opts );\\n};\\n\\n/**\\n * get backwards compatible option value, check old name\\n */\\nproto._getOption = function( option ) {\\n  var oldOption = this.constructor.compatOptions[ option ];\\n  return oldOption && this.options[ oldOption ] !== undefined ?\\n    this.options[ oldOption ] : this.options[ option ];\\n};\\n\\nOutlayer.compatOptions = {\\n  // currentName: oldName\\n  initLayout: 'isInitLayout',\\n  horizontal: 'isHorizontal',\\n  layoutInstant: 'isLayoutInstant',\\n  originLeft: 'isOriginLeft',\\n  originTop: 'isOriginTop',\\n  resize: 'isResizeBound',\\n  resizeContainer: 'isResizingContainer'\\n};\\n\\nproto._create = function() {\\n  // get items from children\\n  this.reloadItems();\\n  // elements that affect layout, but are not laid out\\n  this.stamps = [];\\n  this.stamp( this.options.stamp );\\n  // set container style\\n  utils.extend( this.element.style, this.options.containerStyle );\\n\\n  // bind resize method\\n  var canBindResize = this._getOption('resize');\\n  if ( canBindResize ) {\\n    this.bindResize();\\n  }\\n};\\n\\n// goes through all children again and gets bricks in proper order\\nproto.reloadItems = function() {\\n  // collection of item elements\\n  this.items = this._itemize( this.element.children );\\n};\\n\\n\\n/**\\n * turn elements into Outlayer.Items to be used in layout\\n * @param {Array or NodeList or HTMLElement} elems\\n * @returns {Array} items - collection of new Outlayer Items\\n */\\nproto._itemize = function( elems ) {\\n\\n  var itemElems = this._filterFindItemElements( elems );\\n  var Item = this.constructor.Item;\\n\\n  // create new Outlayer Items for collection\\n  var items = [];\\n  for ( var i=0; i < itemElems.length; i++ ) {\\n    var elem = itemElems[i];\\n    var item = new Item( elem, this );\\n    items.push( item );\\n  }\\n\\n  return items;\\n};\\n\\n/**\\n * get item elements to be used in layout\\n * @param {Array or NodeList or HTMLElement} elems\\n * @returns {Array} items - item elements\\n */\\nproto._filterFindItemElements = function( elems ) {\\n  return utils.filterFindElements( elems, this.options.itemSelector );\\n};\\n\\n/**\\n * getter method for getting item elements\\n * @returns {Array} elems - collection of item elements\\n */\\nproto.getItemElements = function() {\\n  return this.items.map( function( item ) {\\n    return item.element;\\n  });\\n};\\n\\n// ----- init & layout ----- //\\n\\n/**\\n * lays out all items\\n */\\nproto.layout = function() {\\n  this._resetLayout();\\n  this._manageStamps();\\n\\n  // don't animate first layout\\n  var layoutInstant = this._getOption('layoutInstant');\\n  var isInstant = layoutInstant !== undefined ?\\n    layoutInstant : !this._isLayoutInited;\\n  this.layoutItems( this.items, isInstant );\\n\\n  // flag for initalized\\n  this._isLayoutInited = true;\\n};\\n\\n// _init is alias for layout\\nproto._init = proto.layout;\\n\\n/**\\n * logic before any new layout\\n */\\nproto._resetLayout = function() {\\n  this.getSize();\\n};\\n\\n\\nproto.getSize = function() {\\n  this.size = getSize( this.element );\\n};\\n\\n/**\\n * get measurement from option, for columnWidth, rowHeight, gutter\\n * if option is String -> get element from selector string, & get size of element\\n * if option is Element -> get size of element\\n * else use option as a number\\n *\\n * @param {String} measurement\\n * @param {String} size - width or height\\n * @private\\n */\\nproto._getMeasurement = function( measurement, size ) {\\n  var option = this.options[ measurement ];\\n  var elem;\\n  if ( !option ) {\\n    // default to 0\\n    this[ measurement ] = 0;\\n  } else {\\n    // use option as an element\\n    if ( typeof option == 'string' ) {\\n      elem = this.element.querySelector( option );\\n    } else if ( option instanceof HTMLElement ) {\\n      elem = option;\\n    }\\n    // use size of element, if element\\n    this[ measurement ] = elem ? getSize( elem )[ size ] : option;\\n  }\\n};\\n\\n/**\\n * layout a collection of item elements\\n * @api public\\n */\\nproto.layoutItems = function( items, isInstant ) {\\n  items = this._getItemsForLayout( items );\\n\\n  this._layoutItems( items, isInstant );\\n\\n  this._postLayout();\\n};\\n\\n/**\\n * get the items to be laid out\\n * you may want to skip over some items\\n * @param {Array} items\\n * @returns {Array} items\\n */\\nproto._getItemsForLayout = function( items ) {\\n  return items.filter( function( item ) {\\n    return !item.isIgnored;\\n  });\\n};\\n\\n/**\\n * layout items\\n * @param {Array} items\\n * @param {Boolean} isInstant\\n */\\nproto._layoutItems = function( items, isInstant ) {\\n  this._emitCompleteOnItems( 'layout', items );\\n\\n  if ( !items || !items.length ) {\\n    // no items, emit event with empty array\\n    return;\\n  }\\n\\n  var queue = [];\\n\\n  items.forEach( function( item ) {\\n    // get x/y object from method\\n    var position = this._getItemLayoutPosition( item );\\n    // enqueue\\n    position.item = item;\\n    position.isInstant = isInstant || item.isLayoutInstant;\\n    queue.push( position );\\n  }, this );\\n\\n  this._processLayoutQueue( queue );\\n};\\n\\n/**\\n * get item layout position\\n * @param {Outlayer.Item} item\\n * @returns {Object} x and y position\\n */\\nproto._getItemLayoutPosition = function( /* item */ ) {\\n  return {\\n    x: 0,\\n    y: 0\\n  };\\n};\\n\\n/**\\n * iterate over array and position each item\\n * Reason being - separating this logic prevents 'layout invalidation'\\n * thx @paul_irish\\n * @param {Array} queue\\n */\\nproto._processLayoutQueue = function( queue ) {\\n  this.updateStagger();\\n  queue.forEach( function( obj, i ) {\\n    this._positionItem( obj.item, obj.x, obj.y, obj.isInstant, i );\\n  }, this );\\n};\\n\\n// set stagger from option in milliseconds number\\nproto.updateStagger = function() {\\n  var stagger = this.options.stagger;\\n  if ( stagger === null || stagger === undefined ) {\\n    this.stagger = 0;\\n    return;\\n  }\\n  this.stagger = getMilliseconds( stagger );\\n  return this.stagger;\\n};\\n\\n/**\\n * Sets position of item in DOM\\n * @param {Outlayer.Item} item\\n * @param {Number} x - horizontal position\\n * @param {Number} y - vertical position\\n * @param {Boolean} isInstant - disables transitions\\n */\\nproto._positionItem = function( item, x, y, isInstant, i ) {\\n  if ( isInstant ) {\\n    // if not transition, just set CSS\\n    item.goTo( x, y );\\n  } else {\\n    item.stagger( i * this.stagger );\\n    item.moveTo( x, y );\\n  }\\n};\\n\\n/**\\n * Any logic you want to do after each layout,\\n * i.e. size the container\\n */\\nproto._postLayout = function() {\\n  this.resizeContainer();\\n};\\n\\nproto.resizeContainer = function() {\\n  var isResizingContainer = this._getOption('resizeContainer');\\n  if ( !isResizingContainer ) {\\n    return;\\n  }\\n  var size = this._getContainerSize();\\n  if ( size ) {\\n    this._setContainerMeasure( size.width, true );\\n    this._setContainerMeasure( size.height, false );\\n  }\\n};\\n\\n/**\\n * Sets width or height of container if returned\\n * @returns {Object} size\\n *   @param {Number} width\\n *   @param {Number} height\\n */\\nproto._getContainerSize = noop;\\n\\n/**\\n * @param {Number} measure - size of width or height\\n * @param {Boolean} isWidth\\n */\\nproto._setContainerMeasure = function( measure, isWidth ) {\\n  if ( measure === undefined ) {\\n    return;\\n  }\\n\\n  var elemSize = this.size;\\n  // add padding and border width if border box\\n  if ( elemSize.isBorderBox ) {\\n    measure += isWidth ? elemSize.paddingLeft + elemSize.paddingRight +\\n      elemSize.borderLeftWidth + elemSize.borderRightWidth :\\n      elemSize.paddingBottom + elemSize.paddingTop +\\n      elemSize.borderTopWidth + elemSize.borderBottomWidth;\\n  }\\n\\n  measure = Math.max( measure, 0 );\\n  this.element.style[ isWidth ? 'width' : 'height' ] = measure + 'px';\\n};\\n\\n/**\\n * emit eventComplete on a collection of items events\\n * @param {String} eventName\\n * @param {Array} items - Outlayer.Items\\n */\\nproto._emitCompleteOnItems = function( eventName, items ) {\\n  var _this = this;\\n  function onComplete() {\\n    _this.dispatchEvent( eventName + 'Complete', null, [ items ] );\\n  }\\n\\n  var count = items.length;\\n  if ( !items || !count ) {\\n    onComplete();\\n    return;\\n  }\\n\\n  var doneCount = 0;\\n  function tick() {\\n    doneCount++;\\n    if ( doneCount == count ) {\\n      onComplete();\\n    }\\n  }\\n\\n  // bind callback\\n  items.forEach( function( item ) {\\n    item.once( eventName, tick );\\n  });\\n};\\n\\n/**\\n * emits events via EvEmitter and jQuery events\\n * @param {String} type - name of event\\n * @param {Event} event - original event\\n * @param {Array} args - extra arguments\\n */\\nproto.dispatchEvent = function( type, event, args ) {\\n  // add original event to arguments\\n  var emitArgs = event ? [ event ].concat( args ) : args;\\n  this.emitEvent( type, emitArgs );\\n\\n  if ( jQuery ) {\\n    // set this.$element\\n    this.$element = this.$element || jQuery( this.element );\\n    if ( event ) {\\n      // create jQuery event\\n      var $event = jQuery.Event( event );\\n      $event.type = type;\\n      this.$element.trigger( $event, args );\\n    } else {\\n      // just trigger with type if no event available\\n      this.$element.trigger( type, args );\\n    }\\n  }\\n};\\n\\n// -------------------------- ignore & stamps -------------------------- //\\n\\n\\n/**\\n * keep item in collection, but do not lay it out\\n * ignored items do not get skipped in layout\\n * @param {Element} elem\\n */\\nproto.ignore = function( elem ) {\\n  var item = this.getItem( elem );\\n  if ( item ) {\\n    item.isIgnored = true;\\n  }\\n};\\n\\n/**\\n * return item to layout collection\\n * @param {Element} elem\\n */\\nproto.unignore = function( elem ) {\\n  var item = this.getItem( elem );\\n  if ( item ) {\\n    delete item.isIgnored;\\n  }\\n};\\n\\n/**\\n * adds elements to stamps\\n * @param {NodeList, Array, Element, or String} elems\\n */\\nproto.stamp = function( elems ) {\\n  elems = this._find( elems );\\n  if ( !elems ) {\\n    return;\\n  }\\n\\n  this.stamps = this.stamps.concat( elems );\\n  // ignore\\n  elems.forEach( this.ignore, this );\\n};\\n\\n/**\\n * removes elements to stamps\\n * @param {NodeList, Array, or Element} elems\\n */\\nproto.unstamp = function( elems ) {\\n  elems = this._find( elems );\\n  if ( !elems ){\\n    return;\\n  }\\n\\n  elems.forEach( function( elem ) {\\n    // filter out removed stamp elements\\n    utils.removeFrom( this.stamps, elem );\\n    this.unignore( elem );\\n  }, this );\\n};\\n\\n/**\\n * finds child elements\\n * @param {NodeList, Array, Element, or String} elems\\n * @returns {Array} elems\\n */\\nproto._find = function( elems ) {\\n  if ( !elems ) {\\n    return;\\n  }\\n  // if string, use argument as selector string\\n  if ( typeof elems == 'string' ) {\\n    elems = this.element.querySelectorAll( elems );\\n  }\\n  elems = utils.makeArray( elems );\\n  return elems;\\n};\\n\\nproto._manageStamps = function() {\\n  if ( !this.stamps || !this.stamps.length ) {\\n    return;\\n  }\\n\\n  this._getBoundingRect();\\n\\n  this.stamps.forEach( this._manageStamp, this );\\n};\\n\\n// update boundingLeft / Top\\nproto._getBoundingRect = function() {\\n  // get bounding rect for container element\\n  var boundingRect = this.element.getBoundingClientRect();\\n  var size = this.size;\\n  this._boundingRect = {\\n    left: boundingRect.left + size.paddingLeft + size.borderLeftWidth,\\n    top: boundingRect.top + size.paddingTop + size.borderTopWidth,\\n    right: boundingRect.right - ( size.paddingRight + size.borderRightWidth ),\\n    bottom: boundingRect.bottom - ( size.paddingBottom + size.borderBottomWidth )\\n  };\\n};\\n\\n/**\\n * @param {Element} stamp\\n**/\\nproto._manageStamp = noop;\\n\\n/**\\n * get x/y position of element relative to container element\\n * @param {Element} elem\\n * @returns {Object} offset - has left, top, right, bottom\\n */\\nproto._getElementOffset = function( elem ) {\\n  var boundingRect = elem.getBoundingClientRect();\\n  var thisRect = this._boundingRect;\\n  var size = getSize( elem );\\n  var offset = {\\n    left: boundingRect.left - thisRect.left - size.marginLeft,\\n    top: boundingRect.top - thisRect.top - size.marginTop,\\n    right: thisRect.right - boundingRect.right - size.marginRight,\\n    bottom: thisRect.bottom - boundingRect.bottom - size.marginBottom\\n  };\\n  return offset;\\n};\\n\\n// -------------------------- resize -------------------------- //\\n\\n// enable event handlers for listeners\\n// i.e. resize -> onresize\\nproto.handleEvent = utils.handleEvent;\\n\\n/**\\n * Bind layout to window resizing\\n */\\nproto.bindResize = function() {\\n  window.addEventListener( 'resize', this );\\n  this.isResizeBound = true;\\n};\\n\\n/**\\n * Unbind layout to window resizing\\n */\\nproto.unbindResize = function() {\\n  window.removeEventListener( 'resize', this );\\n  this.isResizeBound = false;\\n};\\n\\nproto.onresize = function() {\\n  this.resize();\\n};\\n\\nutils.debounceMethod( Outlayer, 'onresize', 100 );\\n\\nproto.resize = function() {\\n  // don't trigger if size did not change\\n  // or if resize was unbound. See #9\\n  if ( !this.isResizeBound || !this.needsResizeLayout() ) {\\n    return;\\n  }\\n\\n  this.layout();\\n};\\n\\n/**\\n * check if layout is needed post layout\\n * @returns Boolean\\n */\\nproto.needsResizeLayout = function() {\\n  var size = getSize( this.element );\\n  // check that this.size and size are there\\n  // IE8 triggers resize on body size change, so they might not be\\n  var hasSizes = this.size && size;\\n  return hasSizes && size.innerWidth !== this.size.innerWidth;\\n};\\n\\n// -------------------------- methods -------------------------- //\\n\\n/**\\n * add items to Outlayer instance\\n * @param {Array or NodeList or Element} elems\\n * @returns {Array} items - Outlayer.Items\\n**/\\nproto.addItems = function( elems ) {\\n  var items = this._itemize( elems );\\n  // add items to collection\\n  if ( items.length ) {\\n    this.items = this.items.concat( items );\\n  }\\n  return items;\\n};\\n\\n/**\\n * Layout newly-appended item elements\\n * @param {Array or NodeList or Element} elems\\n */\\nproto.appended = function( elems ) {\\n  var items = this.addItems( elems );\\n  if ( !items.length ) {\\n    return;\\n  }\\n  // layout and reveal just the new items\\n  this.layoutItems( items, true );\\n  this.reveal( items );\\n};\\n\\n/**\\n * Layout prepended elements\\n * @param {Array or NodeList or Element} elems\\n */\\nproto.prepended = function( elems ) {\\n  var items = this._itemize( elems );\\n  if ( !items.length ) {\\n    return;\\n  }\\n  // add items to beginning of collection\\n  var previousItems = this.items.slice(0);\\n  this.items = items.concat( previousItems );\\n  // start new layout\\n  this._resetLayout();\\n  this._manageStamps();\\n  // layout new stuff without transition\\n  this.layoutItems( items, true );\\n  this.reveal( items );\\n  // layout previous items\\n  this.layoutItems( previousItems );\\n};\\n\\n/**\\n * reveal a collection of items\\n * @param {Array of Outlayer.Items} items\\n */\\nproto.reveal = function( items ) {\\n  this._emitCompleteOnItems( 'reveal', items );\\n  if ( !items || !items.length ) {\\n    return;\\n  }\\n  var stagger = this.updateStagger();\\n  items.forEach( function( item, i ) {\\n    item.stagger( i * stagger );\\n    item.reveal();\\n  });\\n};\\n\\n/**\\n * hide a collection of items\\n * @param {Array of Outlayer.Items} items\\n */\\nproto.hide = function( items ) {\\n  this._emitCompleteOnItems( 'hide', items );\\n  if ( !items || !items.length ) {\\n    return;\\n  }\\n  var stagger = this.updateStagger();\\n  items.forEach( function( item, i ) {\\n    item.stagger( i * stagger );\\n    item.hide();\\n  });\\n};\\n\\n/**\\n * reveal item elements\\n * @param {Array}, {Element}, {NodeList} items\\n */\\nproto.revealItemElements = function( elems ) {\\n  var items = this.getItems( elems );\\n  this.reveal( items );\\n};\\n\\n/**\\n * hide item elements\\n * @param {Array}, {Element}, {NodeList} items\\n */\\nproto.hideItemElements = function( elems ) {\\n  var items = this.getItems( elems );\\n  this.hide( items );\\n};\\n\\n/**\\n * get Outlayer.Item, given an Element\\n * @param {Element} elem\\n * @param {Function} callback\\n * @returns {Outlayer.Item} item\\n */\\nproto.getItem = function( elem ) {\\n  // loop through items to get the one that matches\\n  for ( var i=0; i < this.items.length; i++ ) {\\n    var item = this.items[i];\\n    if ( item.element == elem ) {\\n      // return item\\n      return item;\\n    }\\n  }\\n};\\n\\n/**\\n * get collection of Outlayer.Items, given Elements\\n * @param {Array} elems\\n * @returns {Array} items - Outlayer.Items\\n */\\nproto.getItems = function( elems ) {\\n  elems = utils.makeArray( elems );\\n  var items = [];\\n  elems.forEach( function( elem ) {\\n    var item = this.getItem( elem );\\n    if ( item ) {\\n      items.push( item );\\n    }\\n  }, this );\\n\\n  return items;\\n};\\n\\n/**\\n * remove element(s) from instance and DOM\\n * @param {Array or NodeList or Element} elems\\n */\\nproto.remove = function( elems ) {\\n  var removeItems = this.getItems( elems );\\n\\n  this._emitCompleteOnItems( 'remove', removeItems );\\n\\n  // bail if no items to remove\\n  if ( !removeItems || !removeItems.length ) {\\n    return;\\n  }\\n\\n  removeItems.forEach( function( item ) {\\n    item.remove();\\n    // remove item from collection\\n    utils.removeFrom( this.items, item );\\n  }, this );\\n};\\n\\n// ----- destroy ----- //\\n\\n// remove and disable Outlayer instance\\nproto.destroy = function() {\\n  // clean up dynamic styles\\n  var style = this.element.style;\\n  style.height = '';\\n  style.position = '';\\n  style.width = '';\\n  // destroy items\\n  this.items.forEach( function( item ) {\\n    item.destroy();\\n  });\\n\\n  this.unbindResize();\\n\\n  var id = this.element.outlayerGUID;\\n  delete instances[ id ]; // remove reference to instance by id\\n  delete this.element.outlayerGUID;\\n  // remove data for jQuery\\n  if ( jQuery ) {\\n    jQuery.removeData( this.element, this.constructor.namespace );\\n  }\\n\\n};\\n\\n// -------------------------- data -------------------------- //\\n\\n/**\\n * get Outlayer instance from element\\n * @param {Element} elem\\n * @returns {Outlayer}\\n */\\nOutlayer.data = function( elem ) {\\n  elem = utils.getQueryElement( elem );\\n  var id = elem && elem.outlayerGUID;\\n  return id && instances[ id ];\\n};\\n\\n\\n// -------------------------- create Outlayer class -------------------------- //\\n\\n/**\\n * create a layout class\\n * @param {String} namespace\\n */\\nOutlayer.create = function( namespace, options ) {\\n  // sub-class Outlayer\\n  var Layout = subclass( Outlayer );\\n  // apply new options and compatOptions\\n  Layout.defaults = utils.extend( {}, Outlayer.defaults );\\n  utils.extend( Layout.defaults, options );\\n  Layout.compatOptions = utils.extend( {}, Outlayer.compatOptions  );\\n\\n  Layout.namespace = namespace;\\n\\n  Layout.data = Outlayer.data;\\n\\n  // sub-class Item\\n  Layout.Item = subclass( Item );\\n\\n  // -------------------------- declarative -------------------------- //\\n\\n  utils.htmlInit( Layout, namespace );\\n\\n  // -------------------------- jQuery bridge -------------------------- //\\n\\n  // make into jQuery plugin\\n  if ( jQuery && jQuery.bridget ) {\\n    jQuery.bridget( namespace, Layout );\\n  }\\n\\n  return Layout;\\n};\\n\\nfunction subclass( Parent ) {\\n  function SubClass() {\\n    Parent.apply( this, arguments );\\n  }\\n\\n  SubClass.prototype = Object.create( Parent.prototype );\\n  SubClass.prototype.constructor = SubClass;\\n\\n  return SubClass;\\n}\\n\\n// ----- helpers ----- //\\n\\n// how many milliseconds are in each unit\\nvar msUnits = {\\n  ms: 1,\\n  s: 1000\\n};\\n\\n// munge time-like parameter into millisecond number\\n// '0.4s' -> 40\\nfunction getMilliseconds( time ) {\\n  if ( typeof time == 'number' ) {\\n    return time;\\n  }\\n  var matches = time.match( /(^\\\\d*\\\\.?\\\\d*)(\\\\w*)/ );\\n  var num = matches && matches[1];\\n  var unit = matches && matches[2];\\n  if ( !num.length ) {\\n    return 0;\\n  }\\n  num = parseFloat( num );\\n  var mult = msUnits[ unit ] || 1;\\n  return num * mult;\\n}\\n\\n// ----- fin ----- //\\n\\n// back in global\\nOutlayer.Item = Item;\\n\\nreturn Outlayer;\\n\\n}));\\n\\n/*!\\n * Masonry v4.1.1\\n * Cascading grid layout library\\n * http://masonry.desandro.com\\n * MIT License\\n * by David DeSandro\\n */\\n\\n( function( window, factory ) {\\n  // universal module definition\\n  /* jshint strict: false */ /*globals define, module, require */\\n  if ( typeof define == 'function' && define.amd ) {\\n    // AMD\\n    define( [\\n        'outlayer/outlayer',\\n        'get-size/get-size'\\n      ],\\n      factory );\\n  } else if ( typeof module == 'object' && module.exports ) {\\n    // CommonJS\\n    module.exports = factory(\\n      require('outlayer'),\\n      require('get-size')\\n    );\\n  } else {\\n    // browser global\\n    window.Masonry = factory(\\n      window.Outlayer,\\n      window.getSize\\n    );\\n  }\\n\\n}( window, function factory( Outlayer, getSize ) {\\n\\n\\n\\n// -------------------------- masonryDefinition -------------------------- //\\n\\n  // create an Outlayer layout class\\n  var Masonry = Outlayer.create('masonry');\\n  // isFitWidth -> fitWidth\\n  Masonry.compatOptions.fitWidth = 'isFitWidth';\\n\\n  Masonry.prototype._resetLayout = function() {\\n    this.getSize();\\n    this._getMeasurement( 'columnWidth', 'outerWidth' );\\n    this._getMeasurement( 'gutter', 'outerWidth' );\\n    this.measureColumns();\\n\\n    // reset column Y\\n    this.colYs = [];\\n    for ( var i=0; i < this.cols; i++ ) {\\n      this.colYs.push( 0 );\\n    }\\n\\n    this.maxY = 0;\\n  };\\n\\n  Masonry.prototype.measureColumns = function() {\\n    this.getContainerWidth();\\n    // if columnWidth is 0, default to outerWidth of first item\\n    if ( !this.columnWidth ) {\\n      var firstItem = this.items[0];\\n      var firstItemElem = firstItem && firstItem.element;\\n      // columnWidth fall back to item of first element\\n      this.columnWidth = firstItemElem && getSize( firstItemElem ).outerWidth ||\\n        // if first elem has no width, default to size of container\\n        this.containerWidth;\\n    }\\n\\n    var columnWidth = this.columnWidth += this.gutter;\\n\\n    // calculate columns\\n    var containerWidth = this.containerWidth + this.gutter;\\n    var cols = containerWidth / columnWidth;\\n    // fix rounding errors, typically with gutters\\n    var excess = columnWidth - containerWidth % columnWidth;\\n    // if overshoot is less than a pixel, round up, otherwise floor it\\n    var mathMethod = excess && excess < 1 ? 'round' : 'floor';\\n    cols = Math[ mathMethod ]( cols );\\n    this.cols = Math.max( cols, 1 );\\n  };\\n\\n  Masonry.prototype.getContainerWidth = function() {\\n    // container is parent if fit width\\n    var isFitWidth = this._getOption('fitWidth');\\n    var container = isFitWidth ? this.element.parentNode : this.element;\\n    // check that this.size and size are there\\n    // IE8 triggers resize on body size change, so they might not be\\n    var size = getSize( container );\\n    this.containerWidth = size && size.innerWidth;\\n  };\\n\\n  Masonry.prototype._getItemLayoutPosition = function( item ) {\\n    item.getSize();\\n    // how many columns does this brick span\\n    var remainder = item.size.outerWidth % this.columnWidth;\\n    var mathMethod = remainder && remainder < 1 ? 'round' : 'ceil';\\n    // round if off by 1 pixel, otherwise use ceil\\n    var colSpan = Math[ mathMethod ]( item.size.outerWidth / this.columnWidth );\\n    colSpan = Math.min( colSpan, this.cols );\\n\\n    var colGroup = this._getColGroup( colSpan );\\n    // get the minimum Y value from the columns\\n    var minimumY = Math.min.apply( Math, colGroup );\\n    var shortColIndex = colGroup.indexOf( minimumY );\\n\\n    // position the brick\\n    var position = {\\n      x: this.columnWidth * shortColIndex,\\n      y: minimumY\\n    };\\n\\n    // apply setHeight to necessary columns\\n    var setHeight = minimumY + item.size.outerHeight;\\n    var setSpan = this.cols + 1 - colGroup.length;\\n    for ( var i = 0; i < setSpan; i++ ) {\\n      this.colYs[ shortColIndex + i ] = setHeight;\\n    }\\n\\n    return position;\\n  };\\n\\n  /**\\n   * @param {Number} colSpan - number of columns the element spans\\n   * @returns {Array} colGroup\\n   */\\n  Masonry.prototype._getColGroup = function( colSpan ) {\\n    if ( colSpan < 2 ) {\\n      // if brick spans only one column, use all the column Ys\\n      return this.colYs;\\n    }\\n\\n    var colGroup = [];\\n    // how many different places could this brick fit horizontally\\n    var groupCount = this.cols + 1 - colSpan;\\n    // for each group potential horizontal position\\n    for ( var i = 0; i < groupCount; i++ ) {\\n      // make an array of colY values for that one group\\n      var groupColYs = this.colYs.slice( i, i + colSpan );\\n      // and get the max value of the array\\n      colGroup[i] = Math.max.apply( Math, groupColYs );\\n    }\\n    return colGroup;\\n  };\\n\\n  Masonry.prototype._manageStamp = function( stamp ) {\\n    var stampSize = getSize( stamp );\\n    var offset = this._getElementOffset( stamp );\\n    // get the columns that this stamp affects\\n    var isOriginLeft = this._getOption('originLeft');\\n    var firstX = isOriginLeft ? offset.left : offset.right;\\n    var lastX = firstX + stampSize.outerWidth;\\n    var firstCol = Math.floor( firstX / this.columnWidth );\\n    firstCol = Math.max( 0, firstCol );\\n    var lastCol = Math.floor( lastX / this.columnWidth );\\n    // lastCol should not go over if multiple of columnWidth #425\\n    lastCol -= lastX % this.columnWidth ? 0 : 1;\\n    lastCol = Math.min( this.cols - 1, lastCol );\\n    // set colYs to bottom of the stamp\\n\\n    var isOriginTop = this._getOption('originTop');\\n    var stampMaxY = ( isOriginTop ? offset.top : offset.bottom ) +\\n      stampSize.outerHeight;\\n    for ( var i = firstCol; i <= lastCol; i++ ) {\\n      this.colYs[i] = Math.max( stampMaxY, this.colYs[i] );\\n    }\\n  };\\n\\n  Masonry.prototype._getContainerSize = function() {\\n    this.maxY = Math.max.apply( Math, this.colYs );\\n    var size = {\\n      height: this.maxY\\n    };\\n\\n    if ( this._getOption('fitWidth') ) {\\n      size.width = this._getContainerFitWidth();\\n    }\\n\\n    return size;\\n  };\\n\\n  Masonry.prototype._getContainerFitWidth = function() {\\n    var unusedCols = 0;\\n    // count unused columns\\n    var i = this.cols;\\n    while ( --i ) {\\n      if ( this.colYs[i] !== 0 ) {\\n        break;\\n      }\\n      unusedCols++;\\n    }\\n    // fit container to columns that have been used\\n    return ( this.cols - unusedCols ) * this.columnWidth - this.gutter;\\n  };\\n\\n  Masonry.prototype.needsResizeLayout = function() {\\n    var previousWidth = this.containerWidth;\\n    this.getContainerWidth();\\n    return previousWidth != this.containerWidth;\\n  };\\n\\n  return Masonry;\\n\\n}));\\n\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/raw-loader!./~/masonry-layout/dist/masonry.pkgd.js\n// module id = 565\n// module chunks = 1","module.exports = \"/*!\\n * modernizr v3.3.1\\n * Build http://modernizr.com/download?-adownload-ambientlight-animation-apng-appearance-applicationcache-audio-audioloop-audiopreload-backdropfilter-backgroundblendmode-backgroundcliptext-backgroundsize-batteryapi-bdi-beacon-bgpositionshorthand-bgpositionxy-bgrepeatspace_bgrepeatround-bgsizecover-blobconstructor-bloburls-blobworkers-borderimage-borderradius-boxshadow-boxsizing-canvas-canvasblending-canvastext-canvaswinding-capture-checked-classlist-contains-contenteditable-contextmenu-cookies-cors-createelementattrs_createelement_attrs-cryptography-cssall-cssanimations-csscalc-csschunit-csscolumns-cssescape-cssexunit-cssfilters-cssgradients-csshairline-csshyphens_softhyphens_softhyphensfind-cssinvalid-cssmask-csspointerevents-csspositionsticky-csspseudoanimations-csspseudotransitions-cssreflections-cssremunit-cssresize-cssscrollbar-csstransforms-csstransforms3d-csstransitions-cssvalid-cssvhunit-cssvmaxunit-cssvminunit-cssvwunit-cubicbezierrange-customevent-customprotocolhandler-dart-datachannel-datalistelem-dataset-datauri-dataview-dataworkers-details-devicemotion_deviceorientation-directory-display_runin-displaytable-documentfragment-ellipsis-emoji-es5-es5array-es5date-es5function-es5object-es5string-es5syntax-es5undefined-es6array-es6collections-es6math-es6number-es6object-es6string-eventlistener-eventsource-exiforientation-fetch-fileinput-filereader-filesystem-flash-flexbox-flexboxlegacy-flexboxtweener-flexwrap-fontface-formattribute-formvalidation-framed-fullscreen-gamepads-generatedcontent-generators-geolocation-getrandomvalues-getusermedia-hashchange-hidden-hiddenscroll-history-hsla-htmlimports-ie8compat-imgcrossorigin-indexeddb-indexeddbblob-inlinesvg-input-inputformaction-inputformenctype-inputformmethod-inputformtarget-inputtypes-intl-jpeg2000-jpeg2000-jpegxr-json-lastchild-ligatures-localizednumber-localstorage-lowbandwidth-lowbattery-mathml-mediaqueries-microdata-multiplebgs-mutationobserver-notification-nthchild-objectfit-olreversed-oninput-opacity-outputelem-overflowscrolling-pagevisibility-peerconnection-performance-picture-placeholder-pointerevents-pointerlock-postmessage-preserve3d-progressbar_meter-promises-proximity-queryselector-quotamanagement-regions-requestanimationframe-requestautocomplete-rgba-ruby-sandbox-scriptasync-scriptdefer-scrollsnappoints-seamless-search-serviceworker-sessionstorage-shapes-sharedworkers-siblinggeneral-sizes-smil-speechrecognition-speechsynthesis-srcdoc-srcset-strictmode-stylescoped-subpixelfont-supports-svg-svgasimg-svgclippaths-svgfilters-svgforeignobject-target-template-templatestrings-textalignlast-textareamaxlength-textshadow-texttrackapi_track-time-todataurljpeg_todataurlpng_todataurlwebp-touchevents-transferables-typedarrays-unicode-unicoderange-unknownelements-urlparser-userdata-userselect-vibrate-video-videoautoplay-videoloop-videopreload-vml-webaudio-webgl-webglextensions-webintents-webp-webpalpha-webpanimation-webplossless_webp_lossless-websockets-websocketsbinary-websqldatabase-webworkers-willchange-wrapflow-xdomainrequest-xhr2-xhrresponsetype-xhrresponsetypearraybuffer-xhrresponsetypeblob-xhrresponsetypedocument-xhrresponsetypejson-xhrresponsetypetext-addtest-atrule-domprefixes-hasevent-load-mq-prefixed-prefixedcss-prefixes-printshiv-setclasses-testallprops-testprop-teststyles-dontmin\\n *\\n * Copyright (c)\\n *  Faruk Ates\\n *  Paul Irish\\n *  Alex Sexton\\n *  Ryan Seddon\\n *  Patrick Kettner\\n *  Stu Cox\\n *  Richard Herrera\\n\\n * MIT License\\n */\\n\\n/*\\n * Modernizr tests which native CSS3 and HTML5 features are available in the\\n * current UA and makes the results available to you in two ways: as properties on\\n * a global `Modernizr` object, and as classes on the `<html>` element. This\\n * information allows you to progressively enhance your pages with a granular level\\n * of control over the experience.\\n*/\\n\\n;(function(window, document, undefined){\\n  var tests = [];\\n  \\n\\n  /**\\n   *\\n   * ModernizrProto is the constructor for Modernizr\\n   *\\n   * @class\\n   * @access public\\n   */\\n\\n  var ModernizrProto = {\\n    // The current version, dummy\\n    _version: '3.3.1',\\n\\n    // Any settings that don't work as separate modules\\n    // can go in here as configuration.\\n    _config: {\\n      'classPrefix': '',\\n      'enableClasses': true,\\n      'enableJSClass': true,\\n      'usePrefixes': true\\n    },\\n\\n    // Queue of tests\\n    _q: [],\\n\\n    // Stub these for people who are listening\\n    on: function(test, cb) {\\n      // I don't really think people should do this, but we can\\n      // safe guard it a bit.\\n      // -- NOTE:: this gets WAY overridden in src/addTest for actual async tests.\\n      // This is in case people listen to synchronous tests. I would leave it out,\\n      // but the code to *disallow* sync tests in the real version of this\\n      // function is actually larger than this.\\n      var self = this;\\n      setTimeout(function() {\\n        cb(self[test]);\\n      }, 0);\\n    },\\n\\n    addTest: function(name, fn, options) {\\n      tests.push({name: name, fn: fn, options: options});\\n    },\\n\\n    addAsyncTest: function(fn) {\\n      tests.push({name: null, fn: fn});\\n    }\\n  };\\n\\n  \\n\\n  // Fake some of Object.create so we can force non test results to be non \\\"own\\\" properties.\\n  var Modernizr = function() {};\\n  Modernizr.prototype = ModernizrProto;\\n\\n  // Leak modernizr globally when you `require` it rather than force it here.\\n  // Overwrite name so constructor name is nicer :D\\n  Modernizr = new Modernizr();\\n\\n  \\n\\n  var classes = [];\\n  \\n\\n  /**\\n   * is returns a boolean if the typeof an obj is exactly type.\\n   *\\n   * @access private\\n   * @function is\\n   * @param {*} obj - A thing we want to check the type of\\n   * @param {string} type - A string to compare the typeof against\\n   * @returns {boolean}\\n   */\\n\\n  function is(obj, type) {\\n    return typeof obj === type;\\n  }\\n  ;\\n\\n  /**\\n   * Run through all tests and detect their support in the current UA.\\n   *\\n   * @access private\\n   */\\n\\n  function testRunner() {\\n    var featureNames;\\n    var feature;\\n    var aliasIdx;\\n    var result;\\n    var nameIdx;\\n    var featureName;\\n    var featureNameSplit;\\n\\n    for (var featureIdx in tests) {\\n      if (tests.hasOwnProperty(featureIdx)) {\\n        featureNames = [];\\n        feature = tests[featureIdx];\\n        // run the test, throw the return value into the Modernizr,\\n        // then based on that boolean, define an appropriate className\\n        // and push it into an array of classes we'll join later.\\n        //\\n        // If there is no name, it's an 'async' test that is run,\\n        // but not directly added to the object. That should\\n        // be done with a post-run addTest call.\\n        if (feature.name) {\\n          featureNames.push(feature.name.toLowerCase());\\n\\n          if (feature.options && feature.options.aliases && feature.options.aliases.length) {\\n            // Add all the aliases into the names list\\n            for (aliasIdx = 0; aliasIdx < feature.options.aliases.length; aliasIdx++) {\\n              featureNames.push(feature.options.aliases[aliasIdx].toLowerCase());\\n            }\\n          }\\n        }\\n\\n        // Run the test, or use the raw value if it's not a function\\n        result = is(feature.fn, 'function') ? feature.fn() : feature.fn;\\n\\n\\n        // Set each of the names on the Modernizr object\\n        for (nameIdx = 0; nameIdx < featureNames.length; nameIdx++) {\\n          featureName = featureNames[nameIdx];\\n          // Support dot properties as sub tests. We don't do checking to make sure\\n          // that the implied parent tests have been added. You must call them in\\n          // order (either in the test, or make the parent test a dependency).\\n          //\\n          // Cap it to TWO to make the logic simple and because who needs that kind of subtesting\\n          // hashtag famous last words\\n          featureNameSplit = featureName.split('.');\\n\\n          if (featureNameSplit.length === 1) {\\n            Modernizr[featureNameSplit[0]] = result;\\n          } else {\\n            // cast to a Boolean, if not one already\\n            /* jshint -W053 */\\n            if (Modernizr[featureNameSplit[0]] && !(Modernizr[featureNameSplit[0]] instanceof Boolean)) {\\n              Modernizr[featureNameSplit[0]] = new Boolean(Modernizr[featureNameSplit[0]]);\\n            }\\n\\n            Modernizr[featureNameSplit[0]][featureNameSplit[1]] = result;\\n          }\\n\\n          classes.push((result ? '' : 'no-') + featureNameSplit.join('-'));\\n        }\\n      }\\n    }\\n  }\\n  ;\\n\\n  /**\\n   * docElement is a convenience wrapper to grab the root element of the document\\n   *\\n   * @access private\\n   * @returns {HTMLElement|SVGElement} The root element of the document\\n   */\\n\\n  var docElement = document.documentElement;\\n  \\n\\n  /**\\n   * A convenience helper to check if the document we are running in is an SVG document\\n   *\\n   * @access private\\n   * @returns {boolean}\\n   */\\n\\n  var isSVG = docElement.nodeName.toLowerCase() === 'svg';\\n  \\n\\n  /**\\n   * setClasses takes an array of class names and adds them to the root element\\n   *\\n   * @access private\\n   * @function setClasses\\n   * @param {string[]} classes - Array of class names\\n   */\\n\\n  // Pass in an and array of class names, e.g.:\\n  //  ['no-webp', 'borderradius', ...]\\n  function setClasses(classes) {\\n    var className = docElement.className;\\n    var classPrefix = Modernizr._config.classPrefix || '';\\n\\n    if (isSVG) {\\n      className = className.baseVal;\\n    }\\n\\n    // Change `no-js` to `js` (independently of the `enableClasses` option)\\n    // Handle classPrefix on this too\\n    if (Modernizr._config.enableJSClass) {\\n      var reJS = new RegExp('(^|\\\\\\\\s)' + classPrefix + 'no-js(\\\\\\\\s|$)');\\n      className = className.replace(reJS, '$1' + classPrefix + 'js$2');\\n    }\\n\\n    if (Modernizr._config.enableClasses) {\\n      // Add the new classes\\n      className += ' ' + classPrefix + classes.join(' ' + classPrefix);\\n      isSVG ? docElement.className.baseVal = className : docElement.className = className;\\n    }\\n\\n  }\\n\\n  ;\\n\\n  /**\\n   * hasOwnProp is a shim for hasOwnProperty that is needed for Safari 2.0 support\\n   *\\n   * @author kangax\\n   * @access private\\n   * @function hasOwnProp\\n   * @param {object} object - The object to check for a property\\n   * @param {string} property - The property to check for\\n   * @returns {boolean}\\n   */\\n\\n  // hasOwnProperty shim by kangax needed for Safari 2.0 support\\n  var hasOwnProp;\\n\\n  (function() {\\n    var _hasOwnProperty = ({}).hasOwnProperty;\\n    /* istanbul ignore else */\\n    /* we have no way of testing IE 5.5 or safari 2,\\n     * so just assume the else gets hit */\\n    if (!is(_hasOwnProperty, 'undefined') && !is(_hasOwnProperty.call, 'undefined')) {\\n      hasOwnProp = function(object, property) {\\n        return _hasOwnProperty.call(object, property);\\n      };\\n    }\\n    else {\\n      hasOwnProp = function(object, property) { /* yes, this can give false positives/negatives, but most of the time we don't care about those */\\n        return ((property in object) && is(object.constructor.prototype[property], 'undefined'));\\n      };\\n    }\\n  })();\\n\\n  \\n\\n\\n   // _l tracks listeners for async tests, as well as tests that execute after the initial run\\n  ModernizrProto._l = {};\\n\\n  /**\\n   * Modernizr.on is a way to listen for the completion of async tests. Being\\n   * asynchronous, they may not finish before your scripts run. As a result you\\n   * will get a possibly false negative `undefined` value.\\n   *\\n   * @memberof Modernizr\\n   * @name Modernizr.on\\n   * @access public\\n   * @function on\\n   * @param {string} feature - String name of the feature detect\\n   * @param {function} cb - Callback function returning a Boolean - true if feature is supported, false if not\\n   * @example\\n   *\\n   * ```js\\n   * Modernizr.on('flash', function( result ) {\\n   *   if (result) {\\n   *    // the browser has flash\\n   *   } else {\\n   *     // the browser does not have flash\\n   *   }\\n   * });\\n   * ```\\n   */\\n\\n  ModernizrProto.on = function(feature, cb) {\\n    // Create the list of listeners if it doesn't exist\\n    if (!this._l[feature]) {\\n      this._l[feature] = [];\\n    }\\n\\n    // Push this test on to the listener list\\n    this._l[feature].push(cb);\\n\\n    // If it's already been resolved, trigger it on next tick\\n    if (Modernizr.hasOwnProperty(feature)) {\\n      // Next Tick\\n      setTimeout(function() {\\n        Modernizr._trigger(feature, Modernizr[feature]);\\n      }, 0);\\n    }\\n  };\\n\\n  /**\\n   * _trigger is the private function used to signal test completion and run any\\n   * callbacks registered through [Modernizr.on](#modernizr-on)\\n   *\\n   * @memberof Modernizr\\n   * @name Modernizr._trigger\\n   * @access private\\n   * @function _trigger\\n   * @param {string} feature - string name of the feature detect\\n   * @param {function|boolean} [res] - A feature detection function, or the boolean =\\n   * result of a feature detection function\\n   */\\n\\n  ModernizrProto._trigger = function(feature, res) {\\n    if (!this._l[feature]) {\\n      return;\\n    }\\n\\n    var cbs = this._l[feature];\\n\\n    // Force async\\n    setTimeout(function() {\\n      var i, cb;\\n      for (i = 0; i < cbs.length; i++) {\\n        cb = cbs[i];\\n        cb(res);\\n      }\\n    }, 0);\\n\\n    // Don't trigger these again\\n    delete this._l[feature];\\n  };\\n\\n  /**\\n   * addTest allows you to define your own feature detects that are not currently\\n   * included in Modernizr (under the covers it's the exact same code Modernizr\\n   * uses for its own [feature detections](https://github.com/Modernizr/Modernizr/tree/master/feature-detects)). Just like the offical detects, the result\\n   * will be added onto the Modernizr object, as well as an appropriate className set on\\n   * the html element when configured to do so\\n   *\\n   * @memberof Modernizr\\n   * @name Modernizr.addTest\\n   * @optionName Modernizr.addTest()\\n   * @optionProp addTest\\n   * @access public\\n   * @function addTest\\n   * @param {string|object} feature - The string name of the feature detect, or an\\n   * object of feature detect names and test\\n   * @param {function|boolean} test - Function returning true if feature is supported,\\n   * false if not. Otherwise a boolean representing the results of a feature detection\\n   * @example\\n   *\\n   * The most common way of creating your own feature detects is by calling\\n   * `Modernizr.addTest` with a string (preferably just lowercase, without any\\n   * punctuation), and a function you want executed that will return a boolean result\\n   *\\n   * ```js\\n   * Modernizr.addTest('itsTuesday', function() {\\n   *  var d = new Date();\\n   *  return d.getDay() === 2;\\n   * });\\n   * ```\\n   *\\n   * When the above is run, it will set Modernizr.itstuesday to `true` when it is tuesday,\\n   * and to `false` every other day of the week. One thing to notice is that the names of\\n   * feature detect functions are always lowercased when added to the Modernizr object. That\\n   * means that `Modernizr.itsTuesday` will not exist, but `Modernizr.itstuesday` will.\\n   *\\n   *\\n   *  Since we only look at the returned value from any feature detection function,\\n   *  you do not need to actually use a function. For simple detections, just passing\\n   *  in a statement that will return a boolean value works just fine.\\n   *\\n   * ```js\\n   * Modernizr.addTest('hasJquery', 'jQuery' in window);\\n   * ```\\n   *\\n   * Just like before, when the above runs `Modernizr.hasjquery` will be true if\\n   * jQuery has been included on the page. Not using a function saves a small amount\\n   * of overhead for the browser, as well as making your code much more readable.\\n   *\\n   * Finally, you also have the ability to pass in an object of feature names and\\n   * their tests. This is handy if you want to add multiple detections in one go.\\n   * The keys should always be a string, and the value can be either a boolean or\\n   * function that returns a boolean.\\n   *\\n   * ```js\\n   * var detects = {\\n   *  'hasjquery': 'jQuery' in window,\\n   *  'itstuesday': function() {\\n   *    var d = new Date();\\n   *    return d.getDay() === 2;\\n   *  }\\n   * }\\n   *\\n   * Modernizr.addTest(detects);\\n   * ```\\n   *\\n   * There is really no difference between the first methods and this one, it is\\n   * just a convenience to let you write more readable code.\\n   */\\n\\n  function addTest(feature, test) {\\n\\n    if (typeof feature == 'object') {\\n      for (var key in feature) {\\n        if (hasOwnProp(feature, key)) {\\n          addTest(key, feature[ key ]);\\n        }\\n      }\\n    } else {\\n\\n      feature = feature.toLowerCase();\\n      var featureNameSplit = feature.split('.');\\n      var last = Modernizr[featureNameSplit[0]];\\n\\n      // Again, we don't check for parent test existence. Get that right, though.\\n      if (featureNameSplit.length == 2) {\\n        last = last[featureNameSplit[1]];\\n      }\\n\\n      if (typeof last != 'undefined') {\\n        // we're going to quit if you're trying to overwrite an existing test\\n        // if we were to allow it, we'd do this:\\n        //   var re = new RegExp(\\\"\\\\\\\\b(no-)?\\\" + feature + \\\"\\\\\\\\b\\\");\\n        //   docElement.className = docElement.className.replace( re, '' );\\n        // but, no rly, stuff 'em.\\n        return Modernizr;\\n      }\\n\\n      test = typeof test == 'function' ? test() : test;\\n\\n      // Set the value (this is the magic, right here).\\n      if (featureNameSplit.length == 1) {\\n        Modernizr[featureNameSplit[0]] = test;\\n      } else {\\n        // cast to a Boolean, if not one already\\n        /* jshint -W053 */\\n        if (Modernizr[featureNameSplit[0]] && !(Modernizr[featureNameSplit[0]] instanceof Boolean)) {\\n          Modernizr[featureNameSplit[0]] = new Boolean(Modernizr[featureNameSplit[0]]);\\n        }\\n\\n        Modernizr[featureNameSplit[0]][featureNameSplit[1]] = test;\\n      }\\n\\n      // Set a single class (either `feature` or `no-feature`)\\n      /* jshint -W041 */\\n      setClasses([(!!test && test != false ? '' : 'no-') + featureNameSplit.join('-')]);\\n      /* jshint +W041 */\\n\\n      // Trigger the event\\n      Modernizr._trigger(feature, test);\\n    }\\n\\n    return Modernizr; // allow chaining.\\n  }\\n\\n  // After all the tests are run, add self to the Modernizr prototype\\n  Modernizr._q.push(function() {\\n    ModernizrProto.addTest = addTest;\\n  });\\n\\n  \\n\\n\\n  /**\\n   * If the browsers follow the spec, then they would expose vendor-specific style as:\\n   *   elem.style.WebkitBorderRadius\\n   * instead of something like the following, which would be technically incorrect:\\n   *   elem.style.webkitBorderRadius\\n\\n   * Webkit ghosts their properties in lowercase but Opera & Moz do not.\\n   * Microsoft uses a lowercase `ms` instead of the correct `Ms` in IE8+\\n   *   erik.eae.net/archives/2008/03/10/21.48.10/\\n\\n   * More here: github.com/Modernizr/Modernizr/issues/issue/21\\n   *\\n   * @access private\\n   * @returns {string} The string representing the vendor-specific style properties\\n   */\\n\\n  var omPrefixes = 'Moz O ms Webkit';\\n  \\n\\n  var cssomPrefixes = (ModernizrProto._config.usePrefixes ? omPrefixes.split(' ') : []);\\n  ModernizrProto._cssomPrefixes = cssomPrefixes;\\n  \\n\\n  /**\\n   * atRule returns a given CSS property at-rule (eg @keyframes), possibly in\\n   * some prefixed form, or false, in the case of an unsupported rule\\n   *\\n   * @memberof Modernizr\\n   * @name Modernizr.atRule\\n   * @optionName Modernizr.atRule()\\n   * @optionProp atRule\\n   * @access public\\n   * @function atRule\\n   * @param {string} prop - String name of the @-rule to test for\\n   * @returns {string|boolean} The string representing the (possibly prefixed)\\n   * valid version of the @-rule, or `false` when it is unsupported.\\n   * @example\\n   * ```js\\n   *  var keyframes = Modernizr.atRule('@keyframes');\\n   *\\n   *  if (keyframes) {\\n   *    // keyframes are supported\\n   *    // could be `@-webkit-keyframes` or `@keyframes`\\n   *  } else {\\n   *    // keyframes === `false`\\n   *  }\\n   * ```\\n   *\\n   */\\n\\n  var atRule = function(prop) {\\n    var length = prefixes.length;\\n    var cssrule = window.CSSRule;\\n    var rule;\\n\\n    if (typeof cssrule === 'undefined') {\\n      return undefined;\\n    }\\n\\n    if (!prop) {\\n      return false;\\n    }\\n\\n    // remove literal @ from beginning of provided property\\n    prop = prop.replace(/^@/, '');\\n\\n    // CSSRules use underscores instead of dashes\\n    rule = prop.replace(/-/g, '_').toUpperCase() + '_RULE';\\n\\n    if (rule in cssrule) {\\n      return '@' + prop;\\n    }\\n\\n    for (var i = 0; i < length; i++) {\\n      // prefixes gives us something like -o-, and we want O_\\n      var prefix = prefixes[i];\\n      var thisRule = prefix.toUpperCase() + '_' + rule;\\n\\n      if (thisRule in cssrule) {\\n        return '@-' + prefix.toLowerCase() + '-' + prop;\\n      }\\n    }\\n\\n    return false;\\n  };\\n\\n  ModernizrProto.atRule = atRule;\\n\\n  \\n\\n  /**\\n   * List of JavaScript DOM values used for tests\\n   *\\n   * @memberof Modernizr\\n   * @name Modernizr._domPrefixes\\n   * @optionName Modernizr._domPrefixes\\n   * @optionProp domPrefixes\\n   * @access public\\n   * @example\\n   *\\n   * Modernizr._domPrefixes is exactly the same as [_prefixes](#modernizr-_prefixes), but rather\\n   * than kebab-case properties, all properties are their Capitalized variant\\n   *\\n   * ```js\\n   * Modernizr._domPrefixes === [ \\\"Moz\\\", \\\"O\\\", \\\"ms\\\", \\\"Webkit\\\" ];\\n   * ```\\n   */\\n\\n  var domPrefixes = (ModernizrProto._config.usePrefixes ? omPrefixes.toLowerCase().split(' ') : []);\\n  ModernizrProto._domPrefixes = domPrefixes;\\n  \\n\\n  /**\\n   * createElement is a convenience wrapper around document.createElement. Since we\\n   * use createElement all over the place, this allows for (slightly) smaller code\\n   * as well as abstracting away issues with creating elements in contexts other than\\n   * HTML documents (e.g. SVG documents).\\n   *\\n   * @access private\\n   * @function createElement\\n   * @returns {HTMLElement|SVGElement} An HTML or SVG element\\n   */\\n\\n  function createElement() {\\n    if (typeof document.createElement !== 'function') {\\n      // This is the case in IE7, where the type of createElement is \\\"object\\\".\\n      // For this reason, we cannot call apply() as Object is not a Function.\\n      return document.createElement(arguments[0]);\\n    } else if (isSVG) {\\n      return document.createElementNS.call(document, 'http://www.w3.org/2000/svg', arguments[0]);\\n    } else {\\n      return document.createElement.apply(document, arguments);\\n    }\\n  }\\n\\n  ;\\n\\n  /**\\n   * Modernizr.hasEvent() detects support for a given event\\n   *\\n   * @memberof Modernizr\\n   * @name Modernizr.hasEvent\\n   * @optionName Modernizr.hasEvent()\\n   * @optionProp hasEvent\\n   * @access public\\n   * @function hasEvent\\n   * @param  {string|*} eventName - the name of an event to test for (e.g. \\\"resize\\\")\\n   * @param  {Element|string} [element=HTMLDivElement] - is the element|document|window|tagName to test on\\n   * @returns {boolean}\\n   * @example\\n   *  `Modernizr.hasEvent` lets you determine if the browser supports a supplied event.\\n   *  By default, it does this detection on a div element\\n   *\\n   * ```js\\n   *  hasEvent('blur') // true;\\n   * ```\\n   *\\n   * However, you are able to give an object as a second argument to hasEvent to\\n   * detect an event on something other than a div.\\n   *\\n   * ```js\\n   *  hasEvent('devicelight', window) // true;\\n   * ```\\n   *\\n   */\\n\\n  var hasEvent = (function() {\\n\\n    // Detect whether event support can be detected via `in`. Test on a DOM element\\n    // using the \\\"blur\\\" event b/c it should always exist. bit.ly/event-detection\\n    var needsFallback = !('onblur' in document.documentElement);\\n\\n    function inner(eventName, element) {\\n\\n      var isSupported;\\n      if (!eventName) { return false; }\\n      if (!element || typeof element === 'string') {\\n        element = createElement(element || 'div');\\n      }\\n\\n      // Testing via the `in` operator is sufficient for modern browsers and IE.\\n      // When using `setAttribute`, IE skips \\\"unload\\\", WebKit skips \\\"unload\\\" and\\n      // \\\"resize\\\", whereas `in` \\\"catches\\\" those.\\n      eventName = 'on' + eventName;\\n      isSupported = eventName in element;\\n\\n      // Fallback technique for old Firefox - bit.ly/event-detection\\n      if (!isSupported && needsFallback) {\\n        if (!element.setAttribute) {\\n          // Switch to generic element if it lacks `setAttribute`.\\n          // It could be the `document`, `window`, or something else.\\n          element = createElement('div');\\n        }\\n\\n        element.setAttribute(eventName, '');\\n        isSupported = typeof element[eventName] === 'function';\\n\\n        if (element[eventName] !== undefined) {\\n          // If property was created, \\\"remove it\\\" by setting value to `undefined`.\\n          element[eventName] = undefined;\\n        }\\n        element.removeAttribute(eventName);\\n      }\\n\\n      return isSupported;\\n    }\\n    return inner;\\n  })();\\n\\n\\n  ModernizrProto.hasEvent = hasEvent;\\n  \\n\\n/**\\n  * @optionName html5printshiv\\n  * @optionProp html5printshiv\\n  */\\n\\n  // Take the html5 variable out of the html5shiv scope so we can return it.\\n  var html5;\\n  if (!isSVG) {\\n\\n    /**\\n     * @preserve HTML5 Shiv 3.7.3 | @afarkas @jdalton @jon_neal @rem | MIT/GPL2 Licensed\\n     */\\n    ;(function(window, document) {\\n      /*jshint evil:true */\\n      /** version */\\n      var version = '3.7.3';\\n\\n      /** Preset options */\\n      var options = window.html5 || {};\\n\\n      /** Used to skip problem elements */\\n      var reSkip = /^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i;\\n\\n      /** Not all elements can be cloned in IE **/\\n      var saveClones = /^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i;\\n\\n      /** Detect whether the browser supports default html5 styles */\\n      var supportsHtml5Styles;\\n\\n      /** Name of the expando, to work with multiple documents or to re-shiv one document */\\n      var expando = '_html5shiv';\\n\\n      /** The id for the the documents expando */\\n      var expanID = 0;\\n\\n      /** Cached data for each document */\\n      var expandoData = {};\\n\\n      /** Detect whether the browser supports unknown elements */\\n      var supportsUnknownElements;\\n\\n      (function() {\\n        try {\\n          var a = document.createElement('a');\\n          a.innerHTML = '<xyz></xyz>';\\n          //if the hidden property is implemented we can assume, that the browser supports basic HTML5 Styles\\n          supportsHtml5Styles = ('hidden' in a);\\n\\n          supportsUnknownElements = a.childNodes.length == 1 || (function() {\\n            // assign a false positive if unable to shiv\\n            (document.createElement)('a');\\n            var frag = document.createDocumentFragment();\\n            return (\\n              typeof frag.cloneNode == 'undefined' ||\\n                typeof frag.createDocumentFragment == 'undefined' ||\\n                typeof frag.createElement == 'undefined'\\n            );\\n          }());\\n        } catch(e) {\\n          // assign a false positive if detection fails => unable to shiv\\n          supportsHtml5Styles = true;\\n          supportsUnknownElements = true;\\n        }\\n\\n      }());\\n\\n      /*--------------------------------------------------------------------------*/\\n\\n      /**\\n       * Creates a style sheet with the given CSS text and adds it to the document.\\n       * @private\\n       * @param {Document} ownerDocument The document.\\n       * @param {String} cssText The CSS text.\\n       * @returns {StyleSheet} The style element.\\n       */\\n      function addStyleSheet(ownerDocument, cssText) {\\n        var p = ownerDocument.createElement('p'),\\n          parent = ownerDocument.getElementsByTagName('head')[0] || ownerDocument.documentElement;\\n\\n        p.innerHTML = 'x<style>' + cssText + '</style>';\\n        return parent.insertBefore(p.lastChild, parent.firstChild);\\n      }\\n\\n      /**\\n       * Returns the value of `html5.elements` as an array.\\n       * @private\\n       * @returns {Array} An array of shived element node names.\\n       */\\n      function getElements() {\\n        var elements = html5.elements;\\n        return typeof elements == 'string' ? elements.split(' ') : elements;\\n      }\\n\\n      /**\\n       * Extends the built-in list of html5 elements\\n       * @memberOf html5\\n       * @param {String|Array} newElements whitespace separated list or array of new element names to shiv\\n       * @param {Document} ownerDocument The context document.\\n       */\\n      function addElements(newElements, ownerDocument) {\\n        var elements = html5.elements;\\n        if(typeof elements != 'string'){\\n          elements = elements.join(' ');\\n        }\\n        if(typeof newElements != 'string'){\\n          newElements = newElements.join(' ');\\n        }\\n        html5.elements = elements +' '+ newElements;\\n        shivDocument(ownerDocument);\\n      }\\n\\n      /**\\n       * Returns the data associated to the given document\\n       * @private\\n       * @param {Document} ownerDocument The document.\\n       * @returns {Object} An object of data.\\n       */\\n      function getExpandoData(ownerDocument) {\\n        var data = expandoData[ownerDocument[expando]];\\n        if (!data) {\\n          data = {};\\n          expanID++;\\n          ownerDocument[expando] = expanID;\\n          expandoData[expanID] = data;\\n        }\\n        return data;\\n      }\\n\\n      /**\\n       * returns a shived element for the given nodeName and document\\n       * @memberOf html5\\n       * @param {String} nodeName name of the element\\n       * @param {Document} ownerDocument The context document.\\n       * @returns {Object} The shived element.\\n       */\\n      function createElement(nodeName, ownerDocument, data){\\n        if (!ownerDocument) {\\n          ownerDocument = document;\\n        }\\n        if(supportsUnknownElements){\\n          return ownerDocument.createElement(nodeName);\\n        }\\n        if (!data) {\\n          data = getExpandoData(ownerDocument);\\n        }\\n        var node;\\n\\n        if (data.cache[nodeName]) {\\n          node = data.cache[nodeName].cloneNode();\\n        } else if (saveClones.test(nodeName)) {\\n          node = (data.cache[nodeName] = data.createElem(nodeName)).cloneNode();\\n        } else {\\n          node = data.createElem(nodeName);\\n        }\\n\\n        // Avoid adding some elements to fragments in IE < 9 because\\n        // * Attributes like `name` or `type` cannot be set/changed once an element\\n        //   is inserted into a document/fragment\\n        // * Link elements with `src` attributes that are inaccessible, as with\\n        //   a 403 response, will cause the tab/window to crash\\n        // * Script elements appended to fragments will execute when their `src`\\n        //   or `text` property is set\\n        return node.canHaveChildren && !reSkip.test(nodeName) && !node.tagUrn ? data.frag.appendChild(node) : node;\\n      }\\n\\n      /**\\n       * returns a shived DocumentFragment for the given document\\n       * @memberOf html5\\n       * @param {Document} ownerDocument The context document.\\n       * @returns {Object} The shived DocumentFragment.\\n       */\\n      function createDocumentFragment(ownerDocument, data){\\n        if (!ownerDocument) {\\n          ownerDocument = document;\\n        }\\n        if(supportsUnknownElements){\\n          return ownerDocument.createDocumentFragment();\\n        }\\n        data = data || getExpandoData(ownerDocument);\\n        var clone = data.frag.cloneNode(),\\n          i = 0,\\n          elems = getElements(),\\n          l = elems.length;\\n        for(;i<l;i++){\\n          clone.createElement(elems[i]);\\n        }\\n        return clone;\\n      }\\n\\n      /**\\n       * Shivs the `createElement` and `createDocumentFragment` methods of the document.\\n       * @private\\n       * @param {Document|DocumentFragment} ownerDocument The document.\\n       * @param {Object} data of the document.\\n       */\\n      function shivMethods(ownerDocument, data) {\\n        if (!data.cache) {\\n          data.cache = {};\\n          data.createElem = ownerDocument.createElement;\\n          data.createFrag = ownerDocument.createDocumentFragment;\\n          data.frag = data.createFrag();\\n        }\\n\\n\\n        ownerDocument.createElement = function(nodeName) {\\n          //abort shiv\\n          if (!html5.shivMethods) {\\n            return data.createElem(nodeName);\\n          }\\n          return createElement(nodeName, ownerDocument, data);\\n        };\\n\\n        ownerDocument.createDocumentFragment = Function('h,f', 'return function(){' +\\n                                                        'var n=f.cloneNode(),c=n.createElement;' +\\n                                                        'h.shivMethods&&(' +\\n                                                        // unroll the `createElement` calls\\n                                                        getElements().join().replace(/[\\\\w\\\\-:]+/g, function(nodeName) {\\n          data.createElem(nodeName);\\n          data.frag.createElement(nodeName);\\n          return 'c(\\\"' + nodeName + '\\\")';\\n        }) +\\n          ');return n}'\\n                                                       )(html5, data.frag);\\n      }\\n\\n      /*--------------------------------------------------------------------------*/\\n\\n      /**\\n       * Shivs the given document.\\n       * @memberOf html5\\n       * @param {Document} ownerDocument The document to shiv.\\n       * @returns {Document} The shived document.\\n       */\\n      function shivDocument(ownerDocument) {\\n        if (!ownerDocument) {\\n          ownerDocument = document;\\n        }\\n        var data = getExpandoData(ownerDocument);\\n\\n        if (html5.shivCSS && !supportsHtml5Styles && !data.hasCSS) {\\n          data.hasCSS = !!addStyleSheet(ownerDocument,\\n                                        // corrects block display not defined in IE6/7/8/9\\n                                        'article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}' +\\n                                        // adds styling not present in IE6/7/8/9\\n                                        'mark{background:#FF0;color:#000}' +\\n                                        // hides non-rendered elements\\n                                        'template{display:none}'\\n                                       );\\n        }\\n        if (!supportsUnknownElements) {\\n          shivMethods(ownerDocument, data);\\n        }\\n        return ownerDocument;\\n      }\\n\\n      /*--------------------------------------------------------------------------*/\\n\\n      /**\\n       * The `html5` object is exposed so that more elements can be shived and\\n       * existing shiving can be detected on iframes.\\n       * @type Object\\n       * @example\\n       *\\n       * // options can be changed before the script is included\\n       * html5 = { 'elements': 'mark section', 'shivCSS': false, 'shivMethods': false };\\n       */\\n      var html5 = {\\n\\n        /**\\n         * An array or space separated string of node names of the elements to shiv.\\n         * @memberOf html5\\n         * @type Array|String\\n         */\\n        'elements': options.elements || 'abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video',\\n\\n        /**\\n         * current version of html5shiv\\n         */\\n        'version': version,\\n\\n        /**\\n         * A flag to indicate that the HTML5 style sheet should be inserted.\\n         * @memberOf html5\\n         * @type Boolean\\n         */\\n        'shivCSS': (options.shivCSS !== false),\\n\\n        /**\\n         * Is equal to true if a browser supports creating unknown/HTML5 elements\\n         * @memberOf html5\\n         * @type boolean\\n         */\\n        'supportsUnknownElements': supportsUnknownElements,\\n\\n        /**\\n         * A flag to indicate that the document's `createElement` and `createDocumentFragment`\\n         * methods should be overwritten.\\n         * @memberOf html5\\n         * @type Boolean\\n         */\\n        'shivMethods': (options.shivMethods !== false),\\n\\n        /**\\n         * A string to describe the type of `html5` object (\\\"default\\\" or \\\"default print\\\").\\n         * @memberOf html5\\n         * @type String\\n         */\\n        'type': 'default',\\n\\n        // shivs the document according to the specified `html5` object options\\n        'shivDocument': shivDocument,\\n\\n        //creates a shived element\\n        createElement: createElement,\\n\\n        //creates a shived documentFragment\\n        createDocumentFragment: createDocumentFragment,\\n\\n        //extends list of elements\\n        addElements: addElements\\n      };\\n\\n      /*--------------------------------------------------------------------------*/\\n\\n      // expose html5\\n      window.html5 = html5;\\n\\n      // shiv the document\\n      shivDocument(document);\\n\\n      /*------------------------------- Print Shiv -------------------------------*/\\n\\n      /** Used to filter media types */\\n      var reMedia = /^$|\\\\b(?:all|print)\\\\b/;\\n\\n      /** Used to namespace printable elements */\\n      var shivNamespace = 'html5shiv';\\n\\n      /** Detect whether the browser supports shivable style sheets */\\n      var supportsShivableSheets = !supportsUnknownElements && (function() {\\n        // assign a false negative if unable to shiv\\n        var docEl = document.documentElement;\\n        return !(\\n          typeof document.namespaces == 'undefined' ||\\n            typeof document.parentWindow == 'undefined' ||\\n            typeof docEl.applyElement == 'undefined' ||\\n            typeof docEl.removeNode == 'undefined' ||\\n            typeof window.attachEvent == 'undefined'\\n        );\\n      }());\\n\\n      /*--------------------------------------------------------------------------*/\\n\\n      /**\\n       * Wraps all HTML5 elements in the given document with printable elements.\\n       * (eg. the \\\"header\\\" element is wrapped with the \\\"html5shiv:header\\\" element)\\n       * @private\\n       * @param {Document} ownerDocument The document.\\n       * @returns {Array} An array wrappers added.\\n       */\\n      function addWrappers(ownerDocument) {\\n        var node,\\n        nodes = ownerDocument.getElementsByTagName('*'),\\n          index = nodes.length,\\n          reElements = RegExp('^(?:' + getElements().join('|') + ')$', 'i'),\\n          result = [];\\n\\n        while (index--) {\\n          node = nodes[index];\\n          if (reElements.test(node.nodeName)) {\\n            result.push(node.applyElement(createWrapper(node)));\\n          }\\n        }\\n        return result;\\n      }\\n\\n      /**\\n       * Creates a printable wrapper for the given element.\\n       * @private\\n       * @param {Element} element The element.\\n       * @returns {Element} The wrapper.\\n       */\\n      function createWrapper(element) {\\n        var node,\\n        nodes = element.attributes,\\n          index = nodes.length,\\n          wrapper = element.ownerDocument.createElement(shivNamespace + ':' + element.nodeName);\\n\\n        // copy element attributes to the wrapper\\n        while (index--) {\\n          node = nodes[index];\\n          node.specified && wrapper.setAttribute(node.nodeName, node.nodeValue);\\n        }\\n        // copy element styles to the wrapper\\n        wrapper.style.cssText = element.style.cssText;\\n        return wrapper;\\n      }\\n\\n      /**\\n       * Shivs the given CSS text.\\n       * (eg. header{} becomes html5shiv\\\\:header{})\\n       * @private\\n       * @param {String} cssText The CSS text to shiv.\\n       * @returns {String} The shived CSS text.\\n       */\\n      function shivCssText(cssText) {\\n        var pair,\\n        parts = cssText.split('{'),\\n          index = parts.length,\\n          reElements = RegExp('(^|[\\\\\\\\s,>+~])(' + getElements().join('|') + ')(?=[[\\\\\\\\s,>+~#.:]|$)', 'gi'),\\n          replacement = '$1' + shivNamespace + '\\\\\\\\:$2';\\n\\n        while (index--) {\\n          pair = parts[index] = parts[index].split('}');\\n          pair[pair.length - 1] = pair[pair.length - 1].replace(reElements, replacement);\\n          parts[index] = pair.join('}');\\n        }\\n        return parts.join('{');\\n      }\\n\\n      /**\\n       * Removes the given wrappers, leaving the original elements.\\n       * @private\\n       * @params {Array} wrappers An array of printable wrappers.\\n       */\\n      function removeWrappers(wrappers) {\\n        var index = wrappers.length;\\n        while (index--) {\\n          wrappers[index].removeNode();\\n        }\\n      }\\n\\n      /*--------------------------------------------------------------------------*/\\n\\n      /**\\n       * Shivs the given document for print.\\n       * @memberOf html5\\n       * @param {Document} ownerDocument The document to shiv.\\n       * @returns {Document} The shived document.\\n       */\\n      function shivPrint(ownerDocument) {\\n        var shivedSheet,\\n        wrappers,\\n        data = getExpandoData(ownerDocument),\\n          namespaces = ownerDocument.namespaces,\\n          ownerWindow = ownerDocument.parentWindow;\\n\\n        if (!supportsShivableSheets || ownerDocument.printShived) {\\n          return ownerDocument;\\n        }\\n        if (typeof namespaces[shivNamespace] == 'undefined') {\\n          namespaces.add(shivNamespace);\\n        }\\n\\n        function removeSheet() {\\n          clearTimeout(data._removeSheetTimer);\\n          if (shivedSheet) {\\n            shivedSheet.removeNode(true);\\n          }\\n          shivedSheet= null;\\n        }\\n\\n        ownerWindow.attachEvent('onbeforeprint', function() {\\n\\n          removeSheet();\\n\\n          var imports,\\n          length,\\n          sheet,\\n          collection = ownerDocument.styleSheets,\\n            cssText = [],\\n            index = collection.length,\\n            sheets = Array(index);\\n\\n          // convert styleSheets collection to an array\\n          while (index--) {\\n            sheets[index] = collection[index];\\n          }\\n          // concat all style sheet CSS text\\n          while ((sheet = sheets.pop())) {\\n            // IE does not enforce a same origin policy for external style sheets...\\n            // but has trouble with some dynamically created stylesheets\\n            if (!sheet.disabled && reMedia.test(sheet.media)) {\\n\\n              try {\\n                imports = sheet.imports;\\n                length = imports.length;\\n              } catch(er){\\n                length = 0;\\n              }\\n\\n              for (index = 0; index < length; index++) {\\n                sheets.push(imports[index]);\\n              }\\n\\n              try {\\n                cssText.push(sheet.cssText);\\n              } catch(er){}\\n            }\\n          }\\n\\n          // wrap all HTML5 elements with printable elements and add the shived style sheet\\n          cssText = shivCssText(cssText.reverse().join(''));\\n          wrappers = addWrappers(ownerDocument);\\n          shivedSheet = addStyleSheet(ownerDocument, cssText);\\n\\n        });\\n\\n        ownerWindow.attachEvent('onafterprint', function() {\\n          // remove wrappers, leaving the original elements, and remove the shived style sheet\\n          removeWrappers(wrappers);\\n          clearTimeout(data._removeSheetTimer);\\n          data._removeSheetTimer = setTimeout(removeSheet, 500);\\n        });\\n\\n        ownerDocument.printShived = true;\\n        return ownerDocument;\\n      }\\n\\n      /*--------------------------------------------------------------------------*/\\n\\n      // expose API\\n      html5.type += ' print';\\n      html5.shivPrint = shivPrint;\\n\\n      // shiv for print\\n      shivPrint(document);\\n\\n      if(typeof module == 'object' && module.exports){\\n        module.exports = html5;\\n      }\\n\\n    }(typeof window !== \\\"undefined\\\" ? window : this, document));\\n  }\\n\\n  ;\\n\\n  /**\\n   * Previously, Modernizr.load was an alias for yepnope. Since yepnope was\\n   * deprecated, we removed it as well. It is not available on the website builder,\\n   * this is only included as an improved warning to those who build a custom\\n   * version locally.\\n   *\\n   * @memberof Modernizr\\n   * @name Modernizr.load\\n   * @access private\\n   * @function load\\n   *\\n   */\\n\\n  var err = function() {};\\n  var warn = function() {};\\n\\n  if (window.console) {\\n    err = function() {\\n      var method = console.error ? 'error' : 'log';\\n      window.console[method].apply(window.console, Array.prototype.slice.call(arguments));\\n    };\\n\\n    warn = function() {\\n      var method = console.warn ? 'warn' : 'log';\\n      window.console[method].apply(window.console, Array.prototype.slice.call(arguments));\\n    };\\n  }\\n\\n  ModernizrProto.load = function() {\\n    if ('yepnope' in window) {\\n      warn('yepnope.js (aka Modernizr.load) is no longer included as part of Modernizr. yepnope appears to be available on the page, so we’ll use it to handle this call to Modernizr.load, but please update your code to use yepnope directly.\\\\n See http://github.com/Modernizr/Modernizr/issues/1182 for more information.');\\n      window.yepnope.apply(window, [].slice.call(arguments, 0));\\n    } else {\\n      err('yepnope.js (aka Modernizr.load) is no longer included as part of Modernizr. Get it from http://yepnopejs.com. See http://github.com/Modernizr/Modernizr/issues/1182 for more information.');\\n    }\\n  };\\n\\n\\n\\n  /**\\n   * getBody returns the body of a document, or an element that can stand in for\\n   * the body if a real body does not exist\\n   *\\n   * @access private\\n   * @function getBody\\n   * @returns {HTMLElement|SVGElement} Returns the real body of a document, or an\\n   * artificially created element that stands in for the body\\n   */\\n\\n  function getBody() {\\n    // After page load injecting a fake body doesn't work so check if body exists\\n    var body = document.body;\\n\\n    if (!body) {\\n      // Can't use the real body create a fake one.\\n      body = createElement(isSVG ? 'svg' : 'body');\\n      body.fake = true;\\n    }\\n\\n    return body;\\n  }\\n\\n  ;\\n\\n  /**\\n   * injectElementWithStyles injects an element with style element and some CSS rules\\n   *\\n   * @access private\\n   * @function injectElementWithStyles\\n   * @param {string} rule - String representing a css rule\\n   * @param {function} callback - A function that is used to test the injected element\\n   * @param {number} [nodes] - An integer representing the number of additional nodes you want injected\\n   * @param {string[]} [testnames] - An array of strings that are used as ids for the additional nodes\\n   * @returns {boolean}\\n   */\\n\\n  function injectElementWithStyles(rule, callback, nodes, testnames) {\\n    var mod = 'modernizr';\\n    var style;\\n    var ret;\\n    var node;\\n    var docOverflow;\\n    var div = createElement('div');\\n    var body = getBody();\\n\\n    if (parseInt(nodes, 10)) {\\n      // In order not to give false positives we create a node for each test\\n      // This also allows the method to scale for unspecified uses\\n      while (nodes--) {\\n        node = createElement('div');\\n        node.id = testnames ? testnames[nodes] : mod + (nodes + 1);\\n        div.appendChild(node);\\n      }\\n    }\\n\\n    style = createElement('style');\\n    style.type = 'text/css';\\n    style.id = 's' + mod;\\n\\n    // IE6 will false positive on some tests due to the style element inside the test div somehow interfering offsetHeight, so insert it into body or fakebody.\\n    // Opera will act all quirky when injecting elements in documentElement when page is served as xml, needs fakebody too. #270\\n    (!body.fake ? div : body).appendChild(style);\\n    body.appendChild(div);\\n\\n    if (style.styleSheet) {\\n      style.styleSheet.cssText = rule;\\n    } else {\\n      style.appendChild(document.createTextNode(rule));\\n    }\\n    div.id = mod;\\n\\n    if (body.fake) {\\n      //avoid crashing IE8, if background image is used\\n      body.style.background = '';\\n      //Safari 5.13/5.1.4 OSX stops loading if ::-webkit-scrollbar is used and scrollbars are visible\\n      body.style.overflow = 'hidden';\\n      docOverflow = docElement.style.overflow;\\n      docElement.style.overflow = 'hidden';\\n      docElement.appendChild(body);\\n    }\\n\\n    ret = callback(div, rule);\\n    // If this is done after page load we don't want to remove the body so check if body exists\\n    if (body.fake) {\\n      body.parentNode.removeChild(body);\\n      docElement.style.overflow = docOverflow;\\n      // Trigger layout so kinetic scrolling isn't disabled in iOS6+\\n      docElement.offsetHeight;\\n    } else {\\n      div.parentNode.removeChild(div);\\n    }\\n\\n    return !!ret;\\n\\n  }\\n\\n  ;\\n\\n  /**\\n   * Modernizr.mq tests a given media query, live against the current state of the window\\n   * adapted from matchMedia polyfill by Scott Jehl and Paul Irish\\n   * gist.github.com/786768\\n   *\\n   * @memberof Modernizr\\n   * @name Modernizr.mq\\n   * @optionName Modernizr.mq()\\n   * @optionProp mq\\n   * @access public\\n   * @function mq\\n   * @param {string} mq - String of the media query we want to test\\n   * @returns {boolean}\\n   * @example\\n   * Modernizr.mq allows for you to programmatically check if the current browser\\n   * window state matches a media query.\\n   *\\n   * ```js\\n   *  var query = Modernizr.mq('(min-width: 900px)');\\n   *\\n   *  if (query) {\\n   *    // the browser window is larger than 900px\\n   *  }\\n   * ```\\n   *\\n   * Only valid media queries are supported, therefore you must always include values\\n   * with your media query\\n   *\\n   * ```js\\n   * // good\\n   *  Modernizr.mq('(min-width: 900px)');\\n   *\\n   * // bad\\n   *  Modernizr.mq('min-width');\\n   * ```\\n   *\\n   * If you would just like to test that media queries are supported in general, use\\n   *\\n   * ```js\\n   *  Modernizr.mq('only all'); // true if MQ are supported, false if not\\n   * ```\\n   *\\n   *\\n   * Note that if the browser does not support media queries (e.g. old IE) mq will\\n   * always return false.\\n   */\\n\\n  var mq = (function() {\\n    var matchMedia = window.matchMedia || window.msMatchMedia;\\n    if (matchMedia) {\\n      return function(mq) {\\n        var mql = matchMedia(mq);\\n        return mql && mql.matches || false;\\n      };\\n    }\\n\\n    return function(mq) {\\n      var bool = false;\\n\\n      injectElementWithStyles('@media ' + mq + ' { #modernizr { position: absolute; } }', function(node) {\\n        bool = (window.getComputedStyle ?\\n                window.getComputedStyle(node, null) :\\n                node.currentStyle).position == 'absolute';\\n      });\\n\\n      return bool;\\n    };\\n  })();\\n\\n\\n  ModernizrProto.mq = mq;\\n\\n  \\n\\n\\n  /**\\n   * contains checks to see if a string contains another string\\n   *\\n   * @access private\\n   * @function contains\\n   * @param {string} str - The string we want to check for substrings\\n   * @param {string} substr - The substring we want to search the first string for\\n   * @returns {boolean}\\n   */\\n\\n  function contains(str, substr) {\\n    return !!~('' + str).indexOf(substr);\\n  }\\n\\n  ;\\n\\n  /**\\n   * Create our \\\"modernizr\\\" element that we do most feature tests on.\\n   *\\n   * @access private\\n   */\\n\\n  var modElem = {\\n    elem: createElement('modernizr')\\n  };\\n\\n  // Clean up this element\\n  Modernizr._q.push(function() {\\n    delete modElem.elem;\\n  });\\n\\n  \\n\\n  var mStyle = {\\n    style: modElem.elem.style\\n  };\\n\\n  // kill ref for gc, must happen before mod.elem is removed, so we unshift on to\\n  // the front of the queue.\\n  Modernizr._q.unshift(function() {\\n    delete mStyle.style;\\n  });\\n\\n  \\n\\n  /**\\n   * domToCSS takes a camelCase string and converts it to kebab-case\\n   * e.g. boxSizing -> box-sizing\\n   *\\n   * @access private\\n   * @function domToCSS\\n   * @param {string} name - String name of camelCase prop we want to convert\\n   * @returns {string} The kebab-case version of the supplied name\\n   */\\n\\n  function domToCSS(name) {\\n    return name.replace(/([A-Z])/g, function(str, m1) {\\n      return '-' + m1.toLowerCase();\\n    }).replace(/^ms-/, '-ms-');\\n  }\\n  ;\\n\\n  /**\\n   * nativeTestProps allows for us to use native feature detection functionality if available.\\n   * some prefixed form, or false, in the case of an unsupported rule\\n   *\\n   * @access private\\n   * @function nativeTestProps\\n   * @param {array} props - An array of property names\\n   * @param {string} value - A string representing the value we want to check via @supports\\n   * @returns {boolean|undefined} A boolean when @supports exists, undefined otherwise\\n   */\\n\\n  // Accepts a list of property names and a single value\\n  // Returns `undefined` if native detection not available\\n  function nativeTestProps(props, value) {\\n    var i = props.length;\\n    // Start with the JS API: http://www.w3.org/TR/css3-conditional/#the-css-interface\\n    if ('CSS' in window && 'supports' in window.CSS) {\\n      // Try every prefixed variant of the property\\n      while (i--) {\\n        if (window.CSS.supports(domToCSS(props[i]), value)) {\\n          return true;\\n        }\\n      }\\n      return false;\\n    }\\n    // Otherwise fall back to at-rule (for Opera 12.x)\\n    else if ('CSSSupportsRule' in window) {\\n      // Build a condition string for every prefixed variant\\n      var conditionText = [];\\n      while (i--) {\\n        conditionText.push('(' + domToCSS(props[i]) + ':' + value + ')');\\n      }\\n      conditionText = conditionText.join(' or ');\\n      return injectElementWithStyles('@supports (' + conditionText + ') { #modernizr { position: absolute; } }', function(node) {\\n        return getComputedStyle(node, null).position == 'absolute';\\n      });\\n    }\\n    return undefined;\\n  }\\n  ;\\n\\n  /**\\n   * cssToDOM takes a kebab-case string and converts it to camelCase\\n   * e.g. box-sizing -> boxSizing\\n   *\\n   * @access private\\n   * @function cssToDOM\\n   * @param {string} name - String name of kebab-case prop we want to convert\\n   * @returns {string} The camelCase version of the supplied name\\n   */\\n\\n  function cssToDOM(name) {\\n    return name.replace(/([a-z])-([a-z])/g, function(str, m1, m2) {\\n      return m1 + m2.toUpperCase();\\n    }).replace(/^-/, '');\\n  }\\n  ;\\n\\n  // testProps is a generic CSS / DOM property test.\\n\\n  // In testing support for a given CSS property, it's legit to test:\\n  //    `elem.style[styleName] !== undefined`\\n  // If the property is supported it will return an empty string,\\n  // if unsupported it will return undefined.\\n\\n  // We'll take advantage of this quick test and skip setting a style\\n  // on our modernizr element, but instead just testing undefined vs\\n  // empty string.\\n\\n  // Property names can be provided in either camelCase or kebab-case.\\n\\n  function testProps(props, prefixed, value, skipValueTest) {\\n    skipValueTest = is(skipValueTest, 'undefined') ? false : skipValueTest;\\n\\n    // Try native detect first\\n    if (!is(value, 'undefined')) {\\n      var result = nativeTestProps(props, value);\\n      if (!is(result, 'undefined')) {\\n        return result;\\n      }\\n    }\\n\\n    // Otherwise do it properly\\n    var afterInit, i, propsLength, prop, before;\\n\\n    // If we don't have a style element, that means we're running async or after\\n    // the core tests, so we'll need to create our own elements to use\\n\\n    // inside of an SVG element, in certain browsers, the `style` element is only\\n    // defined for valid tags. Therefore, if `modernizr` does not have one, we\\n    // fall back to a less used element and hope for the best.\\n    var elems = ['modernizr', 'tspan'];\\n    while (!mStyle.style) {\\n      afterInit = true;\\n      mStyle.modElem = createElement(elems.shift());\\n      mStyle.style = mStyle.modElem.style;\\n    }\\n\\n    // Delete the objects if we created them.\\n    function cleanElems() {\\n      if (afterInit) {\\n        delete mStyle.style;\\n        delete mStyle.modElem;\\n      }\\n    }\\n\\n    propsLength = props.length;\\n    for (i = 0; i < propsLength; i++) {\\n      prop = props[i];\\n      before = mStyle.style[prop];\\n\\n      if (contains(prop, '-')) {\\n        prop = cssToDOM(prop);\\n      }\\n\\n      if (mStyle.style[prop] !== undefined) {\\n\\n        // If value to test has been passed in, do a set-and-check test.\\n        // 0 (integer) is a valid property value, so check that `value` isn't\\n        // undefined, rather than just checking it's truthy.\\n        if (!skipValueTest && !is(value, 'undefined')) {\\n\\n          // Needs a try catch block because of old IE. This is slow, but will\\n          // be avoided in most cases because `skipValueTest` will be used.\\n          try {\\n            mStyle.style[prop] = value;\\n          } catch (e) {}\\n\\n          // If the property value has changed, we assume the value used is\\n          // supported. If `value` is empty string, it'll fail here (because\\n          // it hasn't changed), which matches how browsers have implemented\\n          // CSS.supports()\\n          if (mStyle.style[prop] != before) {\\n            cleanElems();\\n            return prefixed == 'pfx' ? prop : true;\\n          }\\n        }\\n        // Otherwise just return true, or the property name if this is a\\n        // `prefixed()` call\\n        else {\\n          cleanElems();\\n          return prefixed == 'pfx' ? prop : true;\\n        }\\n      }\\n    }\\n    cleanElems();\\n    return false;\\n  }\\n\\n  ;\\n\\n  /**\\n   * fnBind is a super small [bind](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind) polyfill.\\n   *\\n   * @access private\\n   * @function fnBind\\n   * @param {function} fn - a function you want to change `this` reference to\\n   * @param {object} that - the `this` you want to call the function with\\n   * @returns {function} The wrapped version of the supplied function\\n   */\\n\\n  function fnBind(fn, that) {\\n    return function() {\\n      return fn.apply(that, arguments);\\n    };\\n  }\\n\\n  ;\\n\\n  /**\\n   * testDOMProps is a generic DOM property test; if a browser supports\\n   *   a certain property, it won't return undefined for it.\\n   *\\n   * @access private\\n   * @function testDOMProps\\n   * @param {array.<string>} props - An array of properties to test for\\n   * @param {object} obj - An object or Element you want to use to test the parameters again\\n   * @param {boolean|object} elem - An Element to bind the property lookup again. Use `false` to prevent the check\\n   */\\n  function testDOMProps(props, obj, elem) {\\n    var item;\\n\\n    for (var i in props) {\\n      if (props[i] in obj) {\\n\\n        // return the property name as a string\\n        if (elem === false) {\\n          return props[i];\\n        }\\n\\n        item = obj[props[i]];\\n\\n        // let's bind a function\\n        if (is(item, 'function')) {\\n          // bind to obj unless overriden\\n          return fnBind(item, elem || obj);\\n        }\\n\\n        // return the unbound function or obj or value\\n        return item;\\n      }\\n    }\\n    return false;\\n  }\\n\\n  ;\\n\\n  /**\\n   * testPropsAll tests a list of DOM properties we want to check against.\\n   * We specify literally ALL possible (known and/or likely) properties on\\n   * the element including the non-vendor prefixed one, for forward-\\n   * compatibility.\\n   *\\n   * @access private\\n   * @function testPropsAll\\n   * @param {string} prop - A string of the property to test for\\n   * @param {string|object} [prefixed] - An object to check the prefixed properties on. Use a string to skip\\n   * @param {HTMLElement|SVGElement} [elem] - An element used to test the property and value against\\n   * @param {string} [value] - A string of a css value\\n   * @param {boolean} [skipValueTest] - An boolean representing if you want to test if value sticks when set\\n   */\\n  function testPropsAll(prop, prefixed, elem, value, skipValueTest) {\\n\\n    var ucProp = prop.charAt(0).toUpperCase() + prop.slice(1),\\n    props = (prop + ' ' + cssomPrefixes.join(ucProp + ' ') + ucProp).split(' ');\\n\\n    // did they call .prefixed('boxSizing') or are we just testing a prop?\\n    if (is(prefixed, 'string') || is(prefixed, 'undefined')) {\\n      return testProps(props, prefixed, value, skipValueTest);\\n\\n      // otherwise, they called .prefixed('requestAnimationFrame', window[, elem])\\n    } else {\\n      props = (prop + ' ' + (domPrefixes).join(ucProp + ' ') + ucProp).split(' ');\\n      return testDOMProps(props, prefixed, elem);\\n    }\\n  }\\n\\n  // Modernizr.testAllProps() investigates whether a given style property,\\n  // or any of its vendor-prefixed variants, is recognized\\n  //\\n  // Note that the property names must be provided in the camelCase variant.\\n  // Modernizr.testAllProps('boxSizing')\\n  ModernizrProto.testAllProps = testPropsAll;\\n\\n  \\n\\n  /**\\n   * prefixed returns the prefixed or nonprefixed property name variant of your input\\n   *\\n   * @memberof Modernizr\\n   * @name Modernizr.prefixed\\n   * @optionName Modernizr.prefixed()\\n   * @optionProp prefixed\\n   * @access public\\n   * @function prefixed\\n   * @param {string} prop - String name of the property to test for\\n   * @param {object} [obj] - An object to test for the prefixed properties on\\n   * @param {HTMLElement} [elem] - An element used to test specific properties against\\n   * @returns {string|false} The string representing the (possibly prefixed) valid\\n   * version of the property, or `false` when it is unsupported.\\n   * @example\\n   *\\n   * Modernizr.prefixed takes a string css value in the DOM style camelCase (as\\n   * opposed to the css style kebab-case) form and returns the (possibly prefixed)\\n   * version of that property that the browser actually supports.\\n   *\\n   * For example, in older Firefox...\\n   * ```js\\n   * prefixed('boxSizing')\\n   * ```\\n   * returns 'MozBoxSizing'\\n   *\\n   * In newer Firefox, as well as any other browser that support the unprefixed\\n   * version would simply return `boxSizing`. Any browser that does not support\\n   * the property at all, it will return `false`.\\n   *\\n   * By default, prefixed is checked against a DOM element. If you want to check\\n   * for a property on another object, just pass it as a second argument\\n   *\\n   * ```js\\n   * var rAF = prefixed('requestAnimationFrame', window);\\n   *\\n   * raf(function() {\\n   *  renderFunction();\\n   * })\\n   * ```\\n   *\\n   * Note that this will return _the actual function_ - not the name of the function.\\n   * If you need the actual name of the property, pass in `false` as a third argument\\n   *\\n   * ```js\\n   * var rAFProp = prefixed('requestAnimationFrame', window, false);\\n   *\\n   * rafProp === 'WebkitRequestAnimationFrame' // in older webkit\\n   * ```\\n   *\\n   * One common use case for prefixed is if you're trying to determine which transition\\n   * end event to bind to, you might do something like...\\n   * ```js\\n   * var transEndEventNames = {\\n   *     'WebkitTransition' : 'webkitTransitionEnd', * Saf 6, Android Browser\\n   *     'MozTransition'    : 'transitionend',       * only for FF < 15\\n   *     'transition'       : 'transitionend'        * IE10, Opera, Chrome, FF 15+, Saf 7+\\n   * };\\n   *\\n   * var transEndEventName = transEndEventNames[ Modernizr.prefixed('transition') ];\\n   * ```\\n   *\\n   * If you want a similar lookup, but in kebab-case, you can use [prefixedCSS](#modernizr-prefixedcss).\\n   */\\n\\n  var prefixed = ModernizrProto.prefixed = function(prop, obj, elem) {\\n    if (prop.indexOf('@') === 0) {\\n      return atRule(prop);\\n    }\\n\\n    if (prop.indexOf('-') != -1) {\\n      // Convert kebab-case to camelCase\\n      prop = cssToDOM(prop);\\n    }\\n    if (!obj) {\\n      return testPropsAll(prop, 'pfx');\\n    } else {\\n      // Testing DOM property e.g. Modernizr.prefixed('requestAnimationFrame', window) // 'mozRequestAnimationFrame'\\n      return testPropsAll(prop, obj, elem);\\n    }\\n  };\\n\\n  \\n\\n  /**\\n   * List of property values to set for css tests. See ticket #21\\n   * http://git.io/vUGl4\\n   *\\n   * @memberof Modernizr\\n   * @name Modernizr._prefixes\\n   * @optionName Modernizr._prefixes\\n   * @optionProp prefixes\\n   * @access public\\n   * @example\\n   *\\n   * Modernizr._prefixes is the internal list of prefixes that we test against\\n   * inside of things like [prefixed](#modernizr-prefixed) and [prefixedCSS](#-code-modernizr-prefixedcss). It is simply\\n   * an array of kebab-case vendor prefixes you can use within your code.\\n   *\\n   * Some common use cases include\\n   *\\n   * Generating all possible prefixed version of a CSS property\\n   * ```js\\n   * var rule = Modernizr._prefixes.join('transform: rotate(20deg); ');\\n   *\\n   * rule === 'transform: rotate(20deg); webkit-transform: rotate(20deg); moz-transform: rotate(20deg); o-transform: rotate(20deg); ms-transform: rotate(20deg);'\\n   * ```\\n   *\\n   * Generating all possible prefixed version of a CSS value\\n   * ```js\\n   * rule = 'display:' +  Modernizr._prefixes.join('flex; display:') + 'flex';\\n   *\\n   * rule === 'display:flex; display:-webkit-flex; display:-moz-flex; display:-o-flex; display:-ms-flex; display:flex'\\n   * ```\\n   */\\n\\n  var prefixes = (ModernizrProto._config.usePrefixes ? ' -webkit- -moz- -o- -ms- '.split(' ') : []);\\n\\n  // expose these for the plugin API. Look in the source for how to join() them against your input\\n  ModernizrProto._prefixes = prefixes;\\n\\n  \\n\\n  /**\\n   * prefixedCSS is just like [prefixed](#modernizr-prefixed), but the returned values are in\\n   * kebab-case (e.g. `box-sizing`) rather than camelCase (boxSizing).\\n   *\\n   * @memberof Modernizr\\n   * @name Modernizr.prefixedCSS\\n   * @optionName Modernizr.prefixedCSS()\\n   * @optionProp prefixedCSS\\n   * @access public\\n   * @function prefixedCSS\\n   * @param {string} prop - String name of the property to test for\\n   * @returns {string|false} The string representing the (possibly prefixed)\\n   * valid version of the property, or `false` when it is unsupported.\\n   * @example\\n   *\\n   * `Modernizr.prefixedCSS` is like `Modernizr.prefixed`, but returns the result\\n   * in hyphenated form\\n   *\\n   * ```js\\n   * Modernizr.prefixedCSS('transition') // '-moz-transition' in old Firefox\\n   * ```\\n   *\\n   * Since it is only useful for CSS style properties, it can only be tested against\\n   * an HTMLElement.\\n   *\\n   * Properties can be passed as both the DOM style camelCase or CSS style kebab-case.\\n   */\\n\\n  var prefixedCSS = ModernizrProto.prefixedCSS = function(prop) {\\n    var prefixedProp = prefixed(prop);\\n    return prefixedProp && domToCSS(prefixedProp);\\n  };\\n  \\n\\n  /**\\n   * testAllProps determines whether a given CSS property is supported in the browser\\n   *\\n   * @memberof Modernizr\\n   * @name Modernizr.testAllProps\\n   * @optionName Modernizr.testAllProps()\\n   * @optionProp testAllProps\\n   * @access public\\n   * @function testAllProps\\n   * @param {string} prop - String naming the property to test (either camelCase or kebab-case)\\n   * @param {string} [value] - String of the value to test\\n   * @param {boolean} [skipValueTest=false] - Whether to skip testing that the value is supported when using non-native detection\\n   * @example\\n   *\\n   * testAllProps determines whether a given CSS property, in some prefixed form,\\n   * is supported by the browser.\\n   *\\n   * ```js\\n   * testAllProps('boxSizing')  // true\\n   * ```\\n   *\\n   * It can optionally be given a CSS value in string form to test if a property\\n   * value is valid\\n   *\\n   * ```js\\n   * testAllProps('display', 'block') // true\\n   * testAllProps('display', 'penguin') // false\\n   * ```\\n   *\\n   * A boolean can be passed as a third parameter to skip the value check when\\n   * native detection (@supports) isn't available.\\n   *\\n   * ```js\\n   * testAllProps('shapeOutside', 'content-box', true);\\n   * ```\\n   */\\n\\n  function testAllProps(prop, value, skipValueTest) {\\n    return testPropsAll(prop, undefined, undefined, value, skipValueTest);\\n  }\\n  ModernizrProto.testAllProps = testAllProps;\\n  \\n\\n  /**\\n   * testProp() investigates whether a given style property is recognized\\n   * Property names can be provided in either camelCase or kebab-case.\\n   *\\n   * @memberof Modernizr\\n   * @name Modernizr.testProp\\n   * @access public\\n   * @optionName Modernizr.testProp()\\n   * @optionProp testProp\\n   * @function testProp\\n   * @param {string} prop - Name of the CSS property to check\\n   * @param {string} [value] - Name of the CSS value to check\\n   * @param {boolean} [useValue] - Whether or not to check the value if @supports isn't supported\\n   * @returns {boolean}\\n   * @example\\n   *\\n   * Just like [testAllProps](#modernizr-testallprops), only it does not check any vendor prefixed\\n   * version of the string.\\n   *\\n   * Note that the property name must be provided in camelCase (e.g. boxSizing not box-sizing)\\n   *\\n   * ```js\\n   * Modernizr.testProp('pointerEvents')  // true\\n   * ```\\n   *\\n   * You can also provide a value as an optional second argument to check if a\\n   * specific value is supported\\n   *\\n   * ```js\\n   * Modernizr.testProp('pointerEvents', 'none') // true\\n   * Modernizr.testProp('pointerEvents', 'penguin') // false\\n   * ```\\n   */\\n\\n  var testProp = ModernizrProto.testProp = function(prop, value, useValue) {\\n    return testProps([prop], undefined, value, useValue);\\n  };\\n  \\n\\n  /**\\n   * testStyles injects an element with style element and some CSS rules\\n   *\\n   * @memberof Modernizr\\n   * @name Modernizr.testStyles\\n   * @optionName Modernizr.testStyles()\\n   * @optionProp testStyles\\n   * @access public\\n   * @function testStyles\\n   * @param {string} rule - String representing a css rule\\n   * @param {function} callback - A function that is used to test the injected element\\n   * @param {number} [nodes] - An integer representing the number of additional nodes you want injected\\n   * @param {string[]} [testnames] - An array of strings that are used as ids for the additional nodes\\n   * @returns {boolean}\\n   * @example\\n   *\\n   * `Modernizr.testStyles` takes a CSS rule and injects it onto the current page\\n   * along with (possibly multiple) DOM elements. This lets you check for features\\n   * that can not be detected by simply checking the [IDL](https://developer.mozilla.org/en-US/docs/Mozilla/Developer_guide/Interface_development_guide/IDL_interface_rules).\\n   *\\n   * ```js\\n   * Modernizr.testStyles('#modernizr { width: 9px; color: papayawhip; }', function(elem, rule) {\\n   *   // elem is the first DOM node in the page (by default #modernizr)\\n   *   // rule is the first argument you supplied - the CSS rule in string form\\n   *\\n   *   addTest('widthworks', elem.style.width === '9px')\\n   * });\\n   * ```\\n   *\\n   * If your test requires multiple nodes, you can include a third argument\\n   * indicating how many additional div elements to include on the page. The\\n   * additional nodes are injected as children of the `elem` that is returned as\\n   * the first argument to the callback.\\n   *\\n   * ```js\\n   * Modernizr.testStyles('#modernizr {width: 1px}; #modernizr2 {width: 2px}', function(elem) {\\n   *   document.getElementById('modernizr').style.width === '1px'; // true\\n   *   document.getElementById('modernizr2').style.width === '2px'; // true\\n   *   elem.firstChild === document.getElementById('modernizr2'); // true\\n   * }, 1);\\n   * ```\\n   *\\n   * By default, all of the additional elements have an ID of `modernizr[n]`, where\\n   * `n` is its index (e.g. the first additional, second overall is `#modernizr2`,\\n   * the second additional is `#modernizr3`, etc.).\\n   * If you want to have more meaningful IDs for your function, you can provide\\n   * them as the fourth argument, as an array of strings\\n   *\\n   * ```js\\n   * Modernizr.testStyles('#foo {width: 10px}; #bar {height: 20px}', function(elem) {\\n   *   elem.firstChild === document.getElementById('foo'); // true\\n   *   elem.lastChild === document.getElementById('bar'); // true\\n   * }, 2, ['foo', 'bar']);\\n   * ```\\n   *\\n   */\\n\\n  var testStyles = ModernizrProto.testStyles = injectElementWithStyles;\\n  \\n/*!\\n{\\n  \\\"name\\\": \\\"a[download] Attribute\\\",\\n  \\\"property\\\": \\\"adownload\\\",\\n  \\\"caniuse\\\" : \\\"download\\\",\\n  \\\"tags\\\": [\\\"media\\\", \\\"attribute\\\"],\\n  \\\"builderAliases\\\": [\\\"a_download\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"WhatWG Reference\\\",\\n    \\\"href\\\": \\\"https://developers.whatwg.org/links.html#downloading-resources\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nWhen used on an `<a>`, this attribute signifies that the resource it points to should be downloaded by the browser rather than navigating to it.\\n*/\\n\\n  Modernizr.addTest('adownload', !window.externalHost && 'download' in createElement('a'));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Ambient Light Events\\\",\\n  \\\"property\\\": \\\"ambientlight\\\",\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"W3C Ambient Light Events\\\",\\n    \\\"href\\\": \\\"https://www.w3.org/TR/ambient-light/\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nDetects support for the API that provides information about the ambient light levels, as detected by the device's light detector, in terms of lux units.\\n*/\\n\\n  Modernizr.addTest('ambientlight', hasEvent('devicelight', window));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Application Cache\\\",\\n  \\\"property\\\": \\\"applicationcache\\\",\\n  \\\"caniuse\\\": \\\"offline-apps\\\",\\n  \\\"tags\\\": [\\\"storage\\\", \\\"offline\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"MDN documentation\\\",\\n    \\\"href\\\": \\\"https://developer.mozilla.org/en/docs/HTML/Using_the_application_cache\\\"\\n  }],\\n  \\\"polyfills\\\": [\\\"html5gears\\\"]\\n}\\n!*/\\n/* DOC\\nDetects support for the Application Cache, for storing data to enable web-based applications run offline.\\n\\nThe API has been [heavily criticized](http://alistapart.com/article/application-cache-is-a-douchebag) and discussions are underway to address this.\\n*/\\n\\n  Modernizr.addTest('applicationcache', 'applicationCache' in window);\\n\\n/*!\\n{\\n  \\\"name\\\" : \\\"HTML5 Audio Element\\\",\\n  \\\"property\\\": \\\"audio\\\",\\n  \\\"tags\\\" : [\\\"html5\\\", \\\"audio\\\", \\\"media\\\"]\\n}\\n!*/\\n/* DOC\\nDetects the audio element\\n*/\\n\\n  // This tests evaluates support of the audio element, as well as\\n  // testing what types of content it supports.\\n  //\\n  // We're using the Boolean constructor here, so that we can extend the value\\n  // e.g.  Modernizr.audio     // true\\n  //       Modernizr.audio.ogg // 'probably'\\n  //\\n  // Codec values from : github.com/NielsLeenheer/html5test/blob/9106a8/index.html#L845\\n  //                     thx to NielsLeenheer and zcorpan\\n\\n  // Note: in some older browsers, \\\"no\\\" was a return value instead of empty string.\\n  //   It was live in FF3.5.0 and 3.5.1, but fixed in 3.5.2\\n  //   It was also live in Safari 4.0.0 - 4.0.4, but fixed in 4.0.5\\n  Modernizr.addTest('audio', function() {\\n    /* jshint -W053 */\\n    var elem = createElement('audio');\\n    var bool = false;\\n\\n    try {\\n      if (bool = !!elem.canPlayType) {\\n        bool      = new Boolean(bool);\\n        bool.ogg  = elem.canPlayType('audio/ogg; codecs=\\\"vorbis\\\"').replace(/^no$/, '');\\n        bool.mp3  = elem.canPlayType('audio/mpeg; codecs=\\\"mp3\\\"')  .replace(/^no$/, '');\\n        bool.opus  = elem.canPlayType('audio/ogg; codecs=\\\"opus\\\"') .replace(/^no$/, '');\\n\\n        // Mimetypes accepted:\\n        //   developer.mozilla.org/En/Media_formats_supported_by_the_audio_and_video_elements\\n        //   bit.ly/iphoneoscodecs\\n        bool.wav  = elem.canPlayType('audio/wav; codecs=\\\"1\\\"')     .replace(/^no$/, '');\\n        bool.m4a  = (elem.canPlayType('audio/x-m4a;')            ||\\n                     elem.canPlayType('audio/aac;'))             .replace(/^no$/, '');\\n      }\\n    } catch (e) { }\\n\\n    return bool;\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Audio Loop Attribute\\\",\\n  \\\"property\\\": \\\"audioloop\\\",\\n  \\\"tags\\\": [\\\"audio\\\", \\\"media\\\"]\\n}\\n!*/\\n/* DOC\\nDetects if an audio element can automatically restart, once it has finished\\n*/\\n\\n  Modernizr.addTest('audioloop', 'loop' in createElement('audio'));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Audio Preload\\\",\\n  \\\"property\\\": \\\"audiopreload\\\",\\n  \\\"tags\\\": [\\\"audio\\\", \\\"media\\\"],\\n  \\\"async\\\" : true,\\n  \\\"warnings\\\": [\\\"This test is very large – only include it if you absolutely need it\\\"]\\n}\\n!*/\\n/* DOC\\nDetects if audio can be downloaded in the background before it starts playing in the `<audio>` element\\n*/\\n\\n\\n  Modernizr.addAsyncTest(function() {\\n    var timeout;\\n    var waitTime = 300;\\n    var elem = createElement('audio');\\n    var elemStyle = elem.style;\\n\\n    function testpreload(event) {\\n      clearTimeout(timeout);\\n      var result = event !== undefined && event.type === 'loadeddata' ? true : false; //need to check if event is not undefined here in case function is evoked from timeout (no parameters)\\n      elem.removeEventListener('loadeddata', testpreload, false);\\n      addTest('audiopreload', result);\\n      elem.parentNode.removeChild(elem);\\n    }\\n\\n    //skip the test if audio itself, or the preload\\n    //element on it isn't supported\\n    if (!Modernizr.audio || !('preload' in elem)) {\\n      addTest('audiopreload', false);\\n      return;\\n    }\\n\\n    elemStyle.position = 'absolute';\\n    elemStyle.height = 0;\\n    elemStyle.width = 0;\\n\\n    try {\\n      if (Modernizr.audio.mp3) {\\n        //75ms of silence (minumum Mp3 duration loaded by Safari, not tested other formats thoroughly: may be possible to shrink base64 URI)\\n        elem.src = 'data:audio/mpeg;base64,//MUxAAB6AXgAAAAAPP+c6nf//yi/6f3//MUxAMAAAIAAAjEcH//0fTX6C9Lf//0//MUxA4BeAIAAAAAAKX2/6zv//+IlR4f//MUxBMCMAH8AAAAABYWalVMQU1FMy45//MUxBUB0AH0AAAAADkuM1VVVVVVVVVV//MUxBgBUATowAAAAFVVVVVVVVVVVVVV';\\n      }\\n      else if (Modernizr.audio.m4a) {\\n        elem.src = 'data:audio/x-m4a;base64,AAAAGGZ0eXBNNEEgAAACAGlzb21pc28yAAAACGZyZWUAAAAfbWRhdN4EAABsaWJmYWFjIDEuMjgAAAFoAQBHAAACiG1vb3YAAABsbXZoZAAAAAB8JbCAfCWwgAAAA+gAAAAYAAEAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAG0dHJhawAAAFx0a2hkAAAAD3wlsIB8JbCAAAAAAQAAAAAAAAAYAAAAAAAAAAAAAAAAAQAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAABUG1kaWEAAAAgbWRoZAAAAAB8JbCAfCWwgAAArEQAAAQAVcQAAAAAAC1oZGxyAAAAAAAAAABzb3VuAAAAAAAAAAAAAAAAU291bmRIYW5kbGVyAAAAAPttaW5mAAAAEHNtaGQAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAL9zdGJsAAAAW3N0c2QAAAAAAAAAAQAAAEttcDRhAAAAAAAAAAEAAAAAAAAAAAACABAAAAAArEQAAAAAACdlc2RzAAAAAAMZAAEABBFAFQAAAAABftAAAAAABQISCAYBAgAAABhzdHRzAAAAAAAAAAEAAAABAAAEAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAAUc3RzegAAAAAAAAAXAAAAAQAAABRzdGNvAAAAAAAAAAEAAAAoAAAAYHVkdGEAAABYbWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAraWxzdAAAACOpdG9vAAAAG2RhdGEAAAABAAAAAExhdmY1Mi42NC4y';\\n      }\\n      else if (Modernizr.audio.ogg) {\\n        elem.src = 'data:audio/ogg;base64,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lFJKKaWUUkoppZRSSimllFJKKaWUUkqppJRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoplVJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSCgCQinAAkHowoQwUGrISAEgFAACMUUopxpyDEDHmGGPQSSgpYsw5xhyUklLlHIQQUmktt8o5CCGk1FJtmXNSWosx5hgz56SkFFvNOYdSUoux5ppr7qS0VmuuNedaWqs115xzzbm0FmuuOdecc8sx15xzzjnnGHPOOeecc84FAOA0OACAHtiwOsJJ0VhgoSErAYBUAAACGaUYc8456BBSjDnnHIQQIoUYc845CCFUjDnnHHQQQqgYc8w5CCGEkDnnHIQQQgghcw466CCEEEIHHYQQQgihlM5BCCGEEEooIYQQQgghhBA6CCGEEEIIIYQQQgghhFJKCCGEEEIJoZRQAABggQMAQIANqyOcFI0FFhqyEgAAAgCAHJagUs6EQY5Bjw1BylEzDUJMOdGZYk5qMxVTkDkQnXQSGWpB2V4yCwAAgCAAIMAEEBggKPhCCIgxAABBiMwQCYVVsMCgDBoc5gHAA0SERACQmKBIu7iALgNc0MVdB0IIQhCCWBxAAQk4OOGGJ97whBucoFNU6iAAAAAAAAwA4AEA4KAAIiKaq7C4wMjQ2ODo8AgAAAAAABYA+AAAOD6AiIjmKiwuMDI0Njg6PAIAAAAAAAAAAICAgAAAAAAAQAAAAICAT2dnUwAE7AwAAAAAAAD/QwAAAgAAADuydfsFAQEBAQEACg4ODg==';\\n      }\\n      else if (Modernizr.audio.wav) {\\n        elem.src = 'data:audio/wav;base64,UklGRvwZAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YdgZAAAAAAEA/v8CAP//AAABAP////8DAPz/BAD9/wEAAAAAAAAAAAABAP7/AgD//wAAAQD//wAAAQD//wAAAQD+/wIA//8AAAAAAAD//wIA/v8BAAAA//8BAAAA//8BAP//AQAAAP//AQD//wEAAAD//wEA//8BAP//AQD//wEA//8BAP//AQD+/wMA/f8DAP3/AgD+/wIA/////wMA/f8CAP7/AgD+/wMA/f8CAP7/AgD//wAAAAAAAAAAAQD+/wIA/v8CAP7/AwD9/wIA/v8BAAEA/v8CAP7/AQAAAAAAAAD//wEAAAD//wIA/f8DAP7/AQD//wEAAAD//wEA//8CAP7/AQD//wIA/v8CAP7/AQAAAAAAAAD//wEAAAAAAAAA//8BAP//AgD9/wQA+/8FAPz/AgAAAP//AgD+/wEAAAD//wIA/v8CAP3/BAD8/wQA/P8DAP7/AwD8/wQA/P8DAP7/AQAAAAAA//8BAP//AgD+/wEAAAD//wIA/v8BAP//AQD//wEAAAD//wEA//8BAAAAAAAAAP//AgD+/wEAAAAAAAAAAAD//wEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//AgD+/wIA/v8BAP//AQABAP7/AQD//wIA/v8CAP3/AwD/////AgD9/wMA/v8BAP//AQAAAP//AQD//wEA//8BAP//AAABAP//AAABAP//AQD//wAAAAACAP3/AwD9/wIA//8BAP//AQD//wEA//8BAP//AgD9/wMA/v8AAAIA/f8CAAAA/v8EAPv/BAD9/wIAAAD+/wQA+v8HAPr/BAD+/wEAAAD//wIA/f8EAPz/BAD7/wUA/P8EAPz/AwD+/wEAAAD//wEAAAAAAP//AgD8/wUA+/8FAPz/AwD9/wIA//8AAAEA/v8CAP//AQD//wAAAAABAP//AgD9/wMA/f8EAPz/AwD+/wAAAwD7/wUA/P8DAP7/AQAAAP//AgD+/wEAAQD+/wIA/v8BAAEA/v8CAP7/AQAAAP//AgD9/wMA/f8DAP7/AgD+/wEAAAAAAAEA//8AAAEA/v8DAP3/AgD//wEA//8BAP7/AwD9/wMA/v8BAP//AQAAAP//AgD9/wMA/v8BAP//AQAAAP//AgD+/wEAAQD+/wIA/////wIA//8AAAEA/f8DAP//AAABAP////8DAP3/AwD+/wEA//8BAP//AQAAAAAA//8BAP//AQD//wEA//8BAP//AAAAAAEA//8BAP7/AgD//wEA//8AAAAAAAAAAAAAAAD//wIA/v8BAAAA//8BAAEA/v8BAAAA//8DAPz/AwD+/wIA/v8CAP3/AwD+/wEAAAD//wEA//8BAAAA//8BAAAA/v8EAPv/BAD+/wAAAAABAP7/AgD//wAAAAABAP7/AgD//wAAAAAAAAAAAAABAP3/BAD8/wQA/f8BAAAAAAABAP7/AgD+/wIA/v8CAP7/AgD+/wIA/v8BAAAAAAD//wIA/f8DAP7/AAABAP//AAACAPz/BAD9/wIA//8AAP//AwD9/wMA/P8EAP3/AwD9/wIA//8BAP//AQD+/wMA/f8DAP7/AAABAP//AQAAAP//AQD//wIA/f8DAP7/AQAAAP//AQAAAAAA//8CAP7/AQABAP7/AgD+/wEAAQD+/wIA/v8CAP////8CAP7/AgD//wAAAAABAP7/AwD9/wIAAAD+/wMA/f8CAP//AQD+/wMA/f8CAP//AAACAPz/BQD6/wUA/v///wIA/v8CAP3/BAD7/wYA+v8FAPz/AwD/////AgD+/wEAAAD//wEAAAD//wIA/f8DAP7/AQAAAP//AgD//wAA//8BAAAAAAAAAP//AQD//wEA//8AAAIA/f8DAP3/AgAAAP//AQD//wEA//8AAAEA//8BAP////8CAP//AAABAP3/BAD9/wIA/v8BAAEA//8BAP7/AgD//wEA//8AAAEA//8BAP//AAAAAAEA//8BAP7/AgD//wEA//8AAAAAAQD+/wIA/v8BAAAAAAD//wIA/v8BAAAAAAAAAAAAAQD+/wMA/f8CAP//AQD//wIA/f8DAP7/AQD//wEA//8CAP7/AAABAP7/AwD9/wMA/v8AAAEA//8BAAAAAAD//wIA/v8BAAAA//8CAP7/AgD+/wEA//8CAP7/AgD//wAAAAAAAAAAAQD//wEA/v8DAPz/BQD8/wIA//8AAAEAAAD//wEA//8BAP//AQAAAAAA//8BAP//AgD+/wEAAAAAAP//AQD+/wMA/////wEA/v8CAP//AQD//wEA//8AAAEA//8BAAAA/v8EAPz/AwD+/wEAAAAAAAAA//8CAP7/AQD//wEA//8BAP//AAABAP7/AwD9/wIA//8BAP//AQD//wEA//8AAAEA/v8EAPv/BAD9/wIA//8BAP7/AwD9/wIA//8AAAEA//8BAP//AQD//wAAAQD//wEAAAD+/wMA/v8AAAIA/f8DAP7/AQD//wAAAQD+/wMA/f8CAP//AAABAP7/AgD+/wMA/f8CAP7/AQABAP7/AgD+/wIA/v8CAP7/AwD8/wMA//8AAAEA//8AAAAAAAABAP//AQD//wAAAQD//wIA/f8DAP3/AwD+/wAAAgD9/wIA//8AAAEAAAD+/wMA/P8FAPv/BAD9/wIA//8AAP//AgD+/wIA/v8BAAAAAAD//wEAAAAAAP//AQD//wEA//8BAP//AAABAP7/AwD9/wIA//8BAP//AAABAP//AQD//wAAAQD//wEA//8BAP//AAABAAAA//8BAP7/AwD9/wMA/f8DAP3/AgD//wEA//8BAP7/AgD//wAAAgD8/wQA/f8CAP//AQD+/wMA/f8CAP7/AgD//wAAAAAAAAAAAAABAP7/AwD9/wIA/v8DAP3/AwD9/wIA/v8DAPz/BQD7/wQA/f8CAP7/AwD9/wMA/f8CAP//AQAAAP7/AwD+/wEA//8AAAEAAAAAAP//AAABAP//AQAAAP7/AwD9/wMA/f8CAP//AQD//wEA//8AAAIA/f8CAAAA//8BAAAA//8BAAAA/v8EAPv/BAD9/wIA//8AAAEA/v8CAP//AAABAP//AAABAP//AAABAP7/AwD8/wQA/f8CAAAA/v8DAP3/AwD9/wMA/v8BAAAA//8BAAAA//8CAP7/AQAAAAAAAAAAAAAA//8CAP7/AgD+/wIA/v8CAP7/AgD//wAAAQD//wAAAQD//wAAAQD//wAAAQD+/wIA//8AAAAAAQD+/wMA/f8CAP//AQD//wEA//8AAAEA/v8DAP3/AgD//wAAAAABAP7/AwD9/wIA//8AAAEA/v8DAP3/AgD//wAAAAABAP7/AwD8/wMA/v8CAP//AAD//wIA/v8CAP7/AQABAP7/AQAAAP//AgD/////AQD//wEAAAD//wEA/v8EAPv/BAD9/wMA/v8BAAAA//8BAAEA/P8GAPr/BQD8/wMA/v8BAAAA//8CAP7/AQABAP3/BAD7/wYA+/8EAPz/AwD//wEA//8BAP7/BAD8/wMA/v8AAAIA/v8BAAAA//8BAAAA//8BAAAA//8CAP3/AwD+/wAAAgD8/wUA/P8DAP7/AAABAAAAAAD//wEAAAD//wIA/f8DAP7/AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAEA/f8EAPz/AwD/////AgD+/wIA/f8DAP7/AgD+/wEA//8CAP7/AQD//wEAAAAAAP//AQAAAP//AgD9/wMA/v8BAAAA//8BAP//AQAAAP//AAACAP3/BAD7/wQA/v8BAAAA//8BAP//AQAAAP//AQAAAP7/BAD7/wUA+/8EAP3/AgD//wAAAQD+/wIA//8AAAEA/v8CAP//AQD+/wEAAAAAAAAAAAD//wEA//8CAP3/AwD9/wIA//8AAAAAAAAAAAAA//8BAP//AgD+/wEA//8CAP7/AQAAAP//AgD/////AgD/////AgD+/wIA//8AAP//AQABAP7/AgD9/wMA/v8CAP////8BAAAAAAAAAAAA//8CAP////8DAPz/AwD+/wEAAAAAAP//AQD//wEAAAD//wEAAAD+/wQA+/8FAPz/AgAAAP//AgD9/wMA/v8BAAAAAAD//wEAAAD//wIA/v8BAAAAAAD//wIA/v8BAAAA//8BAAAA//8CAP7/AQD//wEA//8BAAAA//8BAP//AAABAP//AQAAAP7/AgD//wEA//8AAAAAAQD+/wMA/P8EAP7///8DAPz/BQD8/wEAAQD+/wMA/v8AAAEA//8BAP//AQD//wEA/v8CAP//AQD//wAAAAABAAAA//8BAP//AQAAAAAA//8BAP//AgD+/wAAAQD//wIA/f8CAP//AQAAAP7/AwD9/wMA/v8BAP//AAABAP//AgD9/wIA//8BAAAA//8BAAAA//8CAP3/AwD+/wEAAAD+/wQA/P8DAP7/AAACAP7/AQAAAP//AQAAAP//AQAAAP//AgD9/wIAAAD//wIA/f8DAP7/AQD//wEA//8CAP7/AQD//wAAAQD//wEA//8AAAAAAQD//wEAAAD9/wUA+/8FAPz/AgD//wAAAQD//wAAAQD+/wMA/f8BAAEA/v8CAP7/AgD+/wIA/v8BAAAAAAAAAAAAAAD//wIA/v8CAP////8CAP7/AgD+/wIA/v8CAP7/AQAAAP//AQAAAP//AQD//wAAAQD//wAAAQD+/wMA/f8CAAAA/v8DAP3/AgAAAP//AQAAAP7/AwD9/wMA/v8BAP//AQD//wEAAAD+/wMA/f8CAAAA/v8CAP//AAAAAAEA//8AAAEA/v8DAP3/AwD9/wIA//8BAP//AgD8/wQA/v8BAAAA/v8CAP//AQD//wAAAAAAAAEA/f8EAPz/BAD9/wIA//8AAAAAAAABAP//AAAAAAAAAAABAP3/BAD9/wIA/v8BAAEA//8AAAAA//8CAP7/AgD9/wQA+/8FAPv/BQD8/wMA/f8DAP3/AwD+/wAAAgD9/wMA/f8CAAAA/v8EAPv/BQD7/wUA/P8DAP///v8DAP3/BAD8/wMA/f8DAP7/AQD//wEAAAD//wEA/v8CAAAA/v8CAP7/AgD//wAAAAAAAAAAAQD+/wIA//8AAAEA/v8DAPz/BAD9/wIA//8AAP//AgD//wEA/v8BAAAAAQD//wAAAAAAAAEA//8AAAEA//8BAP//AAABAP//AQD+/wIA/v8DAPz/BAD8/wQA/f8BAAAAAQD+/wMA/P8DAP//AAAAAAAAAAD//wMA+/8FAP3/AQABAP3/BAD8/wMA/v8BAAAA//8CAP3/AwD+/wEAAQD9/wMA/f8EAPz/BAD7/wQA/v8BAAEA/f8DAP7/AQAAAP//AgD+/wEAAAD//wIA/v8CAP7/AgD+/wEAAQD//wEA/v8CAP7/BAD7/wQA/f8CAAAA//8AAAAAAAABAP//AQD+/wEAAQD+/wMA/f8BAAEA/v8DAPz/AwD/////AwD8/wQA/P8DAP7/AgD//wAA//8BAAAAAAAAAP//AgD+/wEAAAD//wIA/v8BAAAA//8CAP3/AgD//wAAAQD+/wIA/v8BAAAA//8CAP7/AgD+/wEA//8CAP3/BAD7/wQA/v8BAAAA//8AAAEAAAD//wIA/f8DAP7/AgD+/wIA/v8CAP7/AgD+/wEAAAAAAP//AgD9/wMA/v8BAP//AgD9/wMA/v8AAAEA//8BAP//AQD//wEA//8AAAEA/v8EAPz/AgD//wAAAQAAAP//AAABAP//AQD//wEAAAD//wEA//8BAAEA/f8DAP7/AQABAP3/AwD+/wIA/////wEAAAAAAAAAAAD//wIA/v8CAP////8CAP7/AgD//wAA//8CAP3/BAD9/wAAAgD9/wMA/v8BAP//AQAAAP//AQAAAP//AgD9/wMA/f8EAPz/AwD+/wEAAAAAAAAAAAD//wIA/f8EAP3/AAABAAAA//8CAP7/AQAAAP//AQAAAAAA//8BAP//AQAAAP//AQAAAP//AQAAAP//AgD9/wMA/v8BAP//AQAAAP//AQD//wIA/v8CAP3/BAD9/wEAAAD//wEAAQD9/wMA/f8CAAAA/v8DAP3/AgD//wAAAQD+/wIA/v8CAP7/AQAAAP//AgD+/wEAAAAAAP//AwD7/wUA/f8BAAEA/v8BAAEA/v8DAP3/AgD//wEA//8BAP//AQD//wEA//8CAP3/BAD7/wQA/////wIA/v8AAAIA/v8CAP3/BAD7/wUA/P8DAP3/AwD9/wMA/v8AAAIA/v8CAP7/AgD+/wIA//8AAAEA/v8CAP7/AgD//wAAAAD//wEAAAAAAAAA//8BAP7/BAD7/wUA/P8CAAAA//8BAP//AQAAAP//AgD9/wMA/v8BAAAA//8BAAAA//8CAP3/AwD+/wEA//8CAP3/AwD+/wAAAwD8/wIAAAD//wIA/////wIA/v8CAP7/AgD+/wEAAAAAAAAAAAAAAP//AgD+/wIA//8AAAAA//8CAP7/AgD+/wEA//8CAP3/AwD9/wMA/v8BAP7/AwD9/wMA/f8CAP//AQD+/wIA//8BAP//AQD+/wMA/v8BAAAA//8BAAAA//8CAP7/AQAAAP//AgD+/wIA/v8CAP//AAAAAAEA//8BAP//AAABAAAA//8BAP//AQD//wEA//8BAP//AQAAAP//AQD//wEAAAD//wIA/f8CAAAA//8BAAAA//8BAP//AAABAP//AQD//wAAAAAAAAEA/v8CAP//AQD//wAAAAABAP7/AwD9/wIAAAD+/wIA//8BAP//AgD9/wMA/f8DAP7/AgD+/wEAAAAAAAEA/v8CAP7/AgD//wAAAAAAAAAAAAAAAP//AgD/////AgD9/wQA/f8BAAAAAAAAAAEA/f8DAP////8DAP3/AQABAP7/AgD//wAAAQD+/wMA/f8CAP7/AQABAP7/AwD7/wYA+v8FAP3/AQABAP7/AgD+/wMA/f8CAP7/AwD+/wEA//8BAP//AQAAAP7/BQD5/wcA+v8FAPz/AwD+/wIA/v8BAAAA//8DAPv/BQD8/wMA/////wEAAAAAAAAAAAD//wIA/f8DAP7/AQAAAP//AQAAAP//AgD+/wIA/v8BAAEA/f8EAPz/AwD+/wEA//8CAP7/AQD//wEA//8CAP7/AQAAAP//AgD+/wEAAAAAAAAAAAAAAAAAAAD//wIA/f8EAPz/AwD+/wEA//8CAP7/AgD+/wEAAQD+/wEAAQD+/wIA/////wIA//8AAAAAAAAAAAAAAAD//wEAAAAAAP//AgD9/wMA/v8BAP//AQAAAP//AQD//wEA//8BAP//AQD//wEA//8BAP//AQAAAP7/AwD9/wMA/v8BAP7/AwD9/wMA/v8BAP//AAABAP//AQD//wAAAAABAP//AAAAAAAAAQD//wEA/v8CAAAA/v8EAPv/BAD9/wIAAAD+/wMA/P8DAP//AAAAAP//AQD//wIA/f8DAP3/AwD9/wMA/v8BAAAA//8BAAAA//8CAP3/AwD9/wQA+/8FAPv/BQD8/wMA/v8BAAAA//8BAP//AgD+/wEAAAD//wIA/v8BAAEA/f8DAP3/AgAAAP//AQD//wAAAQD//wEA//8BAP//AQD//wEA/v8DAP3/AgAAAP7/AwD9/wIAAAD//wEAAAD//wIA/f8DAP7/AgD9/wQA+/8FAPz/AgAAAP//AgD9/wIA//8BAP//AQD//wEA//8BAP//AQD//wIA/f8DAP3/AgD//wAAAQD+/wIA/v8BAAEA/v8CAP7/AgD+/wMA/P8DAP//AAABAP7/AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEA/v8CAP3/BAD8/wMA/v8BAAAAAAD//wEAAAAAAAAAAAD//wEAAAAAAAAA//8BAP//AgD+/wEA//8CAP3/AwD9/wMA/f8EAPv/BAD+/wAAAQD//wEA//8BAP//AAABAP//AQD//wEAAAD//wEA//8BAP//AgD9/wMA/v8AAAIA/f8DAP7/AAACAP3/AwD+/wEA//8BAP//AQAAAP//AQAAAP7/AwD9/wMA/v8AAAEA//8BAP//AAAAAAEA//8AAAEA/v8CAP//AAAAAAEA/v8DAPz/BAD9/wEAAQD+/wEAAQD9/wQA/P8DAP7/AQAAAAAAAAAAAAAAAAAAAAAAAQD+/wIA/////wIA/v8BAAAA//8BAP//AQD//wEA//8BAAAA/v8EAPz/AwD///7/BAD8/wMA/////wIA/v8CAP////8CAP7/AgD+/wIA/v8CAP////8CAP7/AwD9/wIA/v8CAP//AAABAP7/AwD9/wEAAQD+/wMA/f8CAP//AAAAAAEA/v8DAPz/BAD9/wIA/v8CAP7/AgD//wAAAAD//wIA/v8CAP7/AQAAAAAA//8CAP7/AgD+/wIA/v8CAP7/AwD8/wUA+v8GAPv/AwD//wAAAAAAAAAA//8DAPv/BQD9/wAAAgD9/wMA/v8BAP//AQAAAP//AgD9/wMA/v8BAAAA//8BAAAAAAAAAP//AQAAAAAAAAD//wEA//8CAP3/AwD+/wAAAgD+/wEAAAD//wIA/v8CAP7/AgD/////AwD8/wUA/P8CAP//AQD//wIA/f8DAP3/AwD+/wAAAQD+/wMA/f8DAP3/AgD//wAAAQD//wEA//8BAP7/AwD+/wEA//8AAAEA//8CAPz/BAD9/wIA//8AAAEA/v8DAPz/BAD9/wIA//8AAAEA/v8CAP7/AgD//wEA/f8EAPz/BAD+////AgD//wAAAQD//wAAAQD//wEA//8BAP7/AwD+/wEA';\\n      }\\n      else {\\n        addTest('audiopreload', false);\\n        return;\\n      }\\n    }\\n\\n    catch (e) {\\n      addTest('audiopreload', false);\\n      return;\\n    }\\n\\n    elem.setAttribute('preload', 'auto');\\n    elem.style.cssText = 'display:none';\\n    docElement.appendChild(elem);\\n    // wait for the next tick to add the listener, otherwise the element may\\n    // not have time to play in high load situations (e.g. the test suite)\\n    setTimeout(function() {\\n      elem.addEventListener('loadeddata', testpreload, false);\\n      timeout = setTimeout(testpreload, waitTime);\\n    }, 0);\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Web Audio API\\\",\\n  \\\"property\\\": \\\"webaudio\\\",\\n  \\\"caniuse\\\": \\\"audio-api\\\",\\n  \\\"polyfills\\\": [\\\"xaudiojs\\\", \\\"dynamicaudiojs\\\", \\\"audiolibjs\\\"],\\n  \\\"tags\\\": [\\\"audio\\\", \\\"media\\\"],\\n  \\\"builderAliases\\\": [\\\"audio_webaudio_api\\\"],\\n  \\\"authors\\\": [\\\"Addy Osmani\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"W3 Specification\\\",\\n    \\\"href\\\": \\\"https://dvcs.w3.org/hg/audio/raw-file/tip/webaudio/specification.html\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nDetects the older non standard webaudio API, (as opposed to the standards based AudioContext API)\\n*/\\n\\n  Modernizr.addTest('webaudio', function() {\\n    var prefixed = 'webkitAudioContext' in window;\\n    var unprefixed = 'AudioContext' in window;\\n\\n    if (Modernizr._config.usePrefixes) {\\n      return prefixed || unprefixed;\\n    }\\n    return unprefixed;\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Battery API\\\",\\n  \\\"property\\\": \\\"batteryapi\\\",\\n  \\\"aliases\\\": [\\\"battery-api\\\"],\\n  \\\"builderAliases\\\": [\\\"battery_api\\\"],\\n  \\\"tags\\\": [\\\"device\\\", \\\"media\\\"],\\n  \\\"authors\\\": [\\\"Paul Sayre\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"MDN documentation\\\",\\n    \\\"href\\\": \\\"https://developer.mozilla.org/en/DOM/window.navigator.mozBattery\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nDetect support for the Battery API, for accessing information about the system's battery charge level.\\n*/\\n\\n  Modernizr.addTest('batteryapi', !!prefixed('battery', navigator), {aliases: ['battery-api']});\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Low Battery Level\\\",\\n  \\\"property\\\": \\\"lowbattery\\\",\\n  \\\"tags\\\": [\\\"hardware\\\", \\\"mobile\\\"],\\n  \\\"builderAliases\\\": [\\\"battery_level\\\"],\\n  \\\"authors\\\": [\\\"Paul Sayre\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"MDN Docs\\\",\\n    \\\"href\\\": \\\"https://developer.mozilla.org/en-US/docs/Web/API/Navigator/battery\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nEnable a developer to remove CPU intensive CSS/JS when battery is low\\n*/\\n\\n  Modernizr.addTest('lowbattery', function() {\\n    var minLevel = 0.20;\\n    var battery = prefixed('battery', navigator);\\n    return !!(battery && !battery.charging && battery.level <= minLevel);\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Blob constructor\\\",\\n  \\\"property\\\": \\\"blobconstructor\\\",\\n  \\\"aliases\\\": [\\\"blob-constructor\\\"],\\n  \\\"builderAliases\\\": [\\\"blob_constructor\\\"],\\n  \\\"caniuse\\\": \\\"blobbuilder\\\",\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"W3C spec\\\",\\n    \\\"href\\\": \\\"https://w3c.github.io/FileAPI/#constructorBlob\\\"\\n  }],\\n  \\\"polyfills\\\": [\\\"blobjs\\\"]\\n}\\n!*/\\n/* DOC\\nDetects support for the Blob constructor, for creating file-like objects of immutable, raw data.\\n*/\\n\\n  Modernizr.addTest('blobconstructor', function() {\\n    try {\\n      return !!new Blob();\\n    } catch (e) {\\n      return false;\\n    }\\n  }, {\\n    aliases: ['blob-constructor']\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Canvas\\\",\\n  \\\"property\\\": \\\"canvas\\\",\\n  \\\"caniuse\\\": \\\"canvas\\\",\\n  \\\"tags\\\": [\\\"canvas\\\", \\\"graphics\\\"],\\n  \\\"polyfills\\\": [\\\"flashcanvas\\\", \\\"excanvas\\\", \\\"slcanvas\\\", \\\"fxcanvas\\\"]\\n}\\n!*/\\n/* DOC\\nDetects support for the `<canvas>` element for 2D drawing.\\n*/\\n\\n  // On the S60 and BB Storm, getContext exists, but always returns undefined\\n  // so we actually have to call getContext() to verify\\n  // github.com/Modernizr/Modernizr/issues/issue/97/\\n  Modernizr.addTest('canvas', function() {\\n    var elem = createElement('canvas');\\n    return !!(elem.getContext && elem.getContext('2d'));\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"canvas blending support\\\",\\n  \\\"property\\\": \\\"canvasblending\\\",\\n  \\\"tags\\\": [\\\"canvas\\\"],\\n  \\\"async\\\" : false,\\n  \\\"notes\\\": [{\\n      \\\"name\\\": \\\"HTML5 Spec\\\",\\n      \\\"href\\\": \\\"https://dvcs.w3.org/hg/FXTF/rawfile/tip/compositing/index.html#blending\\\"\\n    },\\n    {\\n      \\\"name\\\": \\\"Article\\\",\\n      \\\"href\\\": \\\"https://blogs.adobe.com/webplatform/2013/01/28/blending-features-in-canvas\\\"\\n    }]\\n}\\n!*/\\n/* DOC\\nDetects if Photoshop style blending modes are available in canvas.\\n*/\\n\\n\\n  Modernizr.addTest('canvasblending', function() {\\n    if (Modernizr.canvas === false) {\\n      return false;\\n    }\\n    var ctx = createElement('canvas').getContext('2d');\\n    // firefox 3 throws an error when setting an invalid `globalCompositeOperation`\\n    try {\\n      ctx.globalCompositeOperation = 'screen';\\n    } catch (e) {}\\n\\n    return ctx.globalCompositeOperation === 'screen';\\n  });\\n\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"canvas.toDataURL type support\\\",\\n  \\\"property\\\": [\\\"todataurljpeg\\\", \\\"todataurlpng\\\", \\\"todataurlwebp\\\"],\\n  \\\"tags\\\": [\\\"canvas\\\"],\\n  \\\"builderAliases\\\": [\\\"canvas_todataurl_type\\\"],\\n  \\\"async\\\" : false,\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"MDN article\\\",\\n    \\\"href\\\": \\\"https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement.toDataURL\\\"\\n  }]\\n}\\n!*/\\n\\n\\n  var canvas = createElement('canvas');\\n\\n  Modernizr.addTest('todataurljpeg', function() {\\n    return !!Modernizr.canvas && canvas.toDataURL('image/jpeg').indexOf('data:image/jpeg') === 0;\\n  });\\n  Modernizr.addTest('todataurlpng', function() {\\n    return !!Modernizr.canvas && canvas.toDataURL('image/png').indexOf('data:image/png') === 0;\\n  });\\n  Modernizr.addTest('todataurlwebp', function() {\\n    var supports = false;\\n\\n    // firefox 3 throws an error when you use an \\\"invalid\\\" toDataUrl\\n    try {\\n      supports = !!Modernizr.canvas && canvas.toDataURL('image/webp').indexOf('data:image/webp') === 0;\\n    } catch (e) {}\\n\\n    return supports;\\n  });\\n\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"canvas winding support\\\",\\n  \\\"property\\\": [\\\"canvaswinding\\\"],\\n  \\\"tags\\\": [\\\"canvas\\\"],\\n  \\\"async\\\" : false,\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"Article\\\",\\n    \\\"href\\\": \\\"https://blogs.adobe.com/webplatform/2013/01/30/winding-rules-in-canvas/\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nDetermines if winding rules, which controls if a path can go clockwise or counterclockwise\\n*/\\n\\n\\n  Modernizr.addTest('canvaswinding', function() {\\n    if (Modernizr.canvas === false) {\\n      return false;\\n    }\\n    var ctx = createElement('canvas').getContext('2d');\\n\\n    ctx.rect(0, 0, 10, 10);\\n    ctx.rect(2, 2, 6, 6);\\n    return ctx.isPointInPath(5, 5, 'evenodd') === false;\\n  });\\n\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Canvas text\\\",\\n  \\\"property\\\": \\\"canvastext\\\",\\n  \\\"caniuse\\\": \\\"canvas-text\\\",\\n  \\\"tags\\\": [\\\"canvas\\\", \\\"graphics\\\"],\\n  \\\"polyfills\\\": [\\\"canvastext\\\"]\\n}\\n!*/\\n/* DOC\\nDetects support for the text APIs for `<canvas>` elements.\\n*/\\n\\n  Modernizr.addTest('canvastext',  function() {\\n    if (Modernizr.canvas  === false) {\\n      return false;\\n    }\\n    return typeof createElement('canvas').getContext('2d').fillText == 'function';\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Content Editable\\\",\\n  \\\"property\\\": \\\"contenteditable\\\",\\n  \\\"caniuse\\\": \\\"contenteditable\\\",\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"WHATWG spec\\\",\\n    \\\"href\\\": \\\"https://html.spec.whatwg.org/multipage/interaction.html#contenteditable\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nDetects support for the `contenteditable` attribute of elements, allowing their DOM text contents to be edited directly by the user.\\n*/\\n\\n  Modernizr.addTest('contenteditable', function() {\\n    // early bail out\\n    if (!('contentEditable' in docElement)) {\\n      return;\\n    }\\n\\n    // some mobile browsers (android < 3.0, iOS < 5) claim to support\\n    // contentEditable, but but don't really. This test checks to see\\n    // confirms whether or not it actually supports it.\\n\\n    var div = createElement('div');\\n    div.contentEditable = true;\\n    return div.contentEditable === 'true';\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Context menus\\\",\\n  \\\"property\\\": \\\"contextmenu\\\",\\n  \\\"caniuse\\\": \\\"menu\\\",\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"W3C spec\\\",\\n    \\\"href\\\": \\\"http://www.w3.org/TR/html5/interactive-elements.html#context-menus\\\"\\n  },{\\n    \\\"name\\\": \\\"thewebrocks.com Demo\\\",\\n    \\\"href\\\": \\\"http://thewebrocks.com/demos/context-menu/\\\"\\n  }],\\n  \\\"polyfills\\\": [\\\"jquery-contextmenu\\\"]\\n}\\n!*/\\n/* DOC\\nDetects support for custom context menus.\\n*/\\n\\n  Modernizr.addTest(\\n    'contextmenu',\\n    ('contextMenu' in docElement && 'HTMLMenuItemElement' in window)\\n  );\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Cookies\\\",\\n  \\\"property\\\": \\\"cookies\\\",\\n  \\\"tags\\\": [\\\"storage\\\"],\\n  \\\"authors\\\": [\\\"tauren\\\"]\\n}\\n!*/\\n/* DOC\\nDetects whether cookie support is enabled.\\n*/\\n\\n  // https://github.com/Modernizr/Modernizr/issues/191\\n\\n  Modernizr.addTest('cookies', function() {\\n    // navigator.cookieEnabled cannot detect custom or nuanced cookie blocking\\n    // configurations. For example, when blocking cookies via the Advanced\\n    // Privacy Settings in IE9, it always returns true. And there have been\\n    // issues in the past with site-specific exceptions.\\n    // Don't rely on it.\\n\\n    // try..catch because some in situations `document.cookie` is exposed but throws a\\n    // SecurityError if you try to access it; e.g. documents created from data URIs\\n    // or in sandboxed iframes (depending on flags/context)\\n    try {\\n      // Create cookie\\n      document.cookie = 'cookietest=1';\\n      var ret = document.cookie.indexOf('cookietest=') != -1;\\n      // Delete cookie\\n      document.cookie = 'cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT';\\n      return ret;\\n    }\\n    catch (e) {\\n      return false;\\n    }\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Cross-Origin Resource Sharing\\\",\\n  \\\"property\\\": \\\"cors\\\",\\n  \\\"caniuse\\\": \\\"cors\\\",\\n  \\\"authors\\\": [\\\"Theodoor van Donge\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"MDN documentation\\\",\\n    \\\"href\\\": \\\"https://developer.mozilla.org/en-US/docs/HTTP/Access_control_CORS\\\"\\n  }],\\n  \\\"polyfills\\\": [\\\"pmxdr\\\", \\\"ppx\\\", \\\"flxhr\\\"]\\n}\\n!*/\\n/* DOC\\nDetects support for Cross-Origin Resource Sharing: method of performing XMLHttpRequests across domains.\\n*/\\n\\n  Modernizr.addTest('cors', 'XMLHttpRequest' in window && 'withCredentials' in new XMLHttpRequest());\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Web Cryptography\\\",\\n  \\\"property\\\": \\\"cryptography\\\",\\n  \\\"caniuse\\\": \\\"cryptography\\\",\\n  \\\"tags\\\": [\\\"crypto\\\"],\\n  \\\"authors\\\": [\\\"roblarsen\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"W3C Editor's Draft\\\",\\n    \\\"href\\\": \\\"https://www.w3.org/TR/WebCryptoAPI/\\\"\\n  }],\\n  \\\"polyfills\\\": [\\n    \\\"polycrypt\\\"\\n  ]\\n}\\n!*/\\n/* DOC\\nDetects support for the cryptographic functionality available under window.crypto.subtle\\n*/\\n\\n  var crypto = prefixed('crypto', window);\\n  Modernizr.addTest('crypto', !!prefixed('subtle', crypto));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"getRandomValues\\\",\\n  \\\"property\\\": \\\"getrandomvalues\\\",\\n  \\\"caniuse\\\": \\\"window.crypto.getRandomValues\\\",\\n  \\\"tags\\\": [\\\"crypto\\\"],\\n  \\\"authors\\\": [\\\"komachi\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"W3C Editor’s Draft\\\",\\n    \\\"href\\\": \\\"https://dvcs.w3.org/hg/webcrypto-api/raw-file/tip/spec/Overview.html#RandomSource-method-getRandomValues\\\"\\n  }],\\n  \\\"polyfills\\\": [\\n    \\\"polycrypt\\\"\\n  ]\\n}\\n!*/\\n/* DOC\\nDetects support for the window.crypto.getRandomValues for generate cryptographically secure random numbers\\n*/\\n\\n  // In Safari <=5.0 `window.crypto` exists (for some reason) but is `undefined`, so we have to check\\n  // it’s truthy before checking for existence of `getRandomValues`\\n  var crypto = prefixed('crypto', window);\\n  var supportsGetRandomValues;\\n\\n  // Safari 6.0 supports crypto.getRandomValues, but does not return the array,\\n  // which is required by the spec, so we need to actually check.\\n  if (crypto && 'getRandomValues' in crypto && 'Uint32Array' in window) {\\n    var array = new Uint32Array(10);\\n    var values = crypto.getRandomValues(array);\\n    supportsGetRandomValues = values && is(values[0], 'number');\\n  }\\n\\n  Modernizr.addTest('getrandomvalues', !!supportsGetRandomValues);\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"cssall\\\",\\n  \\\"property\\\": \\\"cssall\\\",\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"Spec\\\",\\n    \\\"href\\\": \\\"https://drafts.csswg.org/css-cascade/#all-shorthand\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nDetects support for the `all` css property, which is a shorthand to reset all css properties (except direction and unicode-bidi) to their original value\\n*/\\n\\n\\n  Modernizr.addTest('cssall', 'all' in docElement.style);\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS Animations\\\",\\n  \\\"property\\\": \\\"cssanimations\\\",\\n  \\\"caniuse\\\": \\\"css-animation\\\",\\n  \\\"polyfills\\\": [\\\"transformie\\\", \\\"csssandpaper\\\"],\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"warnings\\\": [\\\"Android < 4 will pass this test, but can only animate a single property at a time\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\" : \\\"Article: 'Dispelling the Android CSS animation myths'\\\",\\n    \\\"href\\\": \\\"https://goo.gl/OGw5Gm\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nDetects whether or not elements can be animated using CSS\\n*/\\n\\n  Modernizr.addTest('cssanimations', testAllProps('animationName', 'a', true));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Appearance\\\",\\n  \\\"property\\\": \\\"appearance\\\",\\n  \\\"caniuse\\\": \\\"css-appearance\\\",\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"MDN documentation\\\",\\n    \\\"href\\\": \\\"https://developer.mozilla.org/en-US/docs/Web/CSS/-moz-appearance\\\"\\n  },{\\n    \\\"name\\\": \\\"CSS-Tricks CSS Almanac: appearance\\\",\\n    \\\"href\\\": \\\"https://css-tricks.com/almanac/properties/a/appearance/\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nDetects support for the `appearance` css property, which is used to make an\\nelement inherit the style of a standard user interface element. It can also be\\nused to remove the default styles of an element, such as input and buttons.\\n*/\\n\\n  Modernizr.addTest('appearance', testAllProps('appearance'));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Backdrop Filter\\\",\\n  \\\"property\\\": \\\"backdropfilter\\\",\\n  \\\"authors\\\": [\\\"Brian Seward\\\"],\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"notes\\\": [\\n    {\\n      \\\"name\\\": \\\"W3C Editor’s Draft specification\\\",\\n      \\\"href\\\": \\\"https://drafts.fxtf.org/filters-2/#BackdropFilterProperty\\\"\\n    },\\n    {\\n      \\\"name\\\": \\\"Caniuse for CSS Backdrop Filter\\\",\\n      \\\"href\\\": \\\"http://caniuse.com/#feat=css-backdrop-filter\\\"\\n    },\\n    {\\n      \\\"name\\\": \\\"WebKit Blog introduction + Demo\\\",\\n      \\\"href\\\": \\\"https://www.webkit.org/blog/3632/introducing-backdrop-filters/\\\"\\n    }\\n  ]\\n}\\n!*/\\n/* DOC\\nDetects support for CSS Backdrop Filters, allowing for background blur effects like those introduced in iOS 7. Support for this was added to iOS Safari/WebKit in iOS 9.\\n*/\\n\\n  Modernizr.addTest('backdropfilter', testAllProps('backdropFilter'));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS Background Blend Mode\\\",\\n  \\\"property\\\": \\\"backgroundblendmode\\\",\\n  \\\"caniuse\\\": \\\"css-backgroundblendmode\\\",\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"notes\\\": [\\n    {\\n      \\\"name\\\": \\\"CSS Blend Modes could be the next big thing in Web Design\\\",\\n      \\\"href\\\": \\\" https://medium.com/@bennettfeely/css-blend-modes-could-be-the-next-big-thing-in-web-design-6b51bf53743a\\\"\\n    }, {\\n      \\\"name\\\": \\\"Demo\\\",\\n      \\\"href\\\": \\\"http://bennettfeely.com/gradients/\\\"\\n    }\\n  ]\\n}\\n!*/\\n/* DOC\\nDetects the ability for the browser to composite backgrounds using blending modes similar to ones found in Photoshop or Illustrator.\\n*/\\n\\n  Modernizr.addTest('backgroundblendmode', prefixed('backgroundBlendMode', 'text'));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS Background Clip Text\\\",\\n  \\\"property\\\": \\\"backgroundcliptext\\\",\\n  \\\"authors\\\": [\\\"ausi\\\"],\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"notes\\\": [\\n    {\\n      \\\"name\\\": \\\"CSS Tricks Article\\\",\\n      \\\"href\\\": \\\"https://css-tricks.com/image-under-text/\\\"\\n    },\\n    {\\n      \\\"name\\\": \\\"MDN Docs\\\",\\n      \\\"href\\\": \\\"https://developer.mozilla.org/en-US/docs/Web/CSS/background-clip\\\"\\n    },\\n    {\\n      \\\"name\\\": \\\"Related Github Issue\\\",\\n      \\\"href\\\": \\\"https://github.com/Modernizr/Modernizr/issues/199\\\"\\n    }\\n  ]\\n}\\n!*/\\n/* DOC\\nDetects the ability to control specifies whether or not an element's background\\nextends beyond its border in CSS\\n*/\\n\\n  Modernizr.addTest('backgroundcliptext', function() {\\n    return testAllProps('backgroundClip', 'text');\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Background Position Shorthand\\\",\\n  \\\"property\\\": \\\"bgpositionshorthand\\\",\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"builderAliases\\\": [\\\"css_backgroundposition_shorthand\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"MDN Docs\\\",\\n    \\\"href\\\": \\\"https://developer.mozilla.org/en/CSS/background-position\\\"\\n  }, {\\n    \\\"name\\\": \\\"W3 Spec\\\",\\n    \\\"href\\\": \\\"https://www.w3.org/TR/css3-background/#background-position\\\"\\n  }, {\\n    \\\"name\\\": \\\"Demo\\\",\\n    \\\"href\\\": \\\"https://jsfiddle.net/Blink/bBXvt/\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nDetects if you can use the shorthand method to define multiple parts of an\\nelement's background-position simultaniously.\\n\\neg `background-position: right 10px bottom 10px`\\n*/\\n\\n  Modernizr.addTest('bgpositionshorthand', function() {\\n    var elem = createElement('a');\\n    var eStyle = elem.style;\\n    var val = 'right 10px bottom 10px';\\n    eStyle.cssText = 'background-position: ' + val + ';';\\n    return (eStyle.backgroundPosition === val);\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Background Position XY\\\",\\n  \\\"property\\\": \\\"bgpositionxy\\\",\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"builderAliases\\\": [\\\"css_backgroundposition_xy\\\"],\\n  \\\"authors\\\": [\\\"Allan Lei\\\", \\\"Brandom Aaron\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"Demo\\\",\\n    \\\"href\\\": \\\"https://jsfiddle.net/allanlei/R8AYS/\\\"\\n  }, {\\n    \\\"name\\\": \\\"Adapted From\\\",\\n    \\\"href\\\": \\\"https://github.com/brandonaaron/jquery-cssHooks/blob/master/bgpos.js\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nDetects the ability to control an element's background position using css\\n*/\\n\\n  Modernizr.addTest('bgpositionxy', function() {\\n    return testAllProps('backgroundPositionX', '3px', true) && testAllProps('backgroundPositionY', '5px', true);\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Background Repeat\\\",\\n  \\\"property\\\": [\\\"bgrepeatspace\\\", \\\"bgrepeatround\\\"],\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"builderAliases\\\": [\\\"css_backgroundrepeat\\\"],\\n  \\\"authors\\\": [\\\"Ryan Seddon\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"MDN Docs\\\",\\n    \\\"href\\\": \\\"https://developer.mozilla.org/en-US/docs/Web/CSS/background-repeat\\\"\\n  }, {\\n    \\\"name\\\": \\\"Test Page\\\",\\n    \\\"href\\\": \\\"https://jsbin.com/uzesun/\\\"\\n  }, {\\n    \\\"name\\\": \\\"Demo\\\",\\n    \\\"href\\\": \\\"https://jsfiddle.net/ryanseddon/yMLTQ/6/\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nDetects the ability to use round and space as properties for background-repeat\\n*/\\n\\n  // Must value-test these\\n  Modernizr.addTest('bgrepeatround', testAllProps('backgroundRepeat', 'round'));\\n  Modernizr.addTest('bgrepeatspace', testAllProps('backgroundRepeat', 'space'));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Background Size\\\",\\n  \\\"property\\\": \\\"backgroundsize\\\",\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"knownBugs\\\": [\\\"This will false positive in Opera Mini - https://github.com/Modernizr/Modernizr/issues/396\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"Related Issue\\\",\\n    \\\"href\\\": \\\"https://github.com/Modernizr/Modernizr/issues/396\\\"\\n  }]\\n}\\n!*/\\n\\n  Modernizr.addTest('backgroundsize', testAllProps('backgroundSize', '100%', true));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Background Size Cover\\\",\\n  \\\"property\\\": \\\"bgsizecover\\\",\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"builderAliases\\\": [\\\"css_backgroundsizecover\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\" : \\\"MDN Docs\\\",\\n    \\\"href\\\": \\\"https://developer.mozilla.org/en/CSS/background-size\\\"\\n  }]\\n}\\n!*/\\n\\n  // Must test value, as this specifically tests the `cover` value\\n  Modernizr.addTest('bgsizecover', testAllProps('backgroundSize', 'cover'));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Border Image\\\",\\n  \\\"property\\\": \\\"borderimage\\\",\\n  \\\"caniuse\\\": \\\"border-image\\\",\\n  \\\"polyfills\\\": [\\\"css3pie\\\"],\\n   \\\"knownBugs\\\": [\\\"Android < 2.0 is true, but has a broken implementation\\\"],\\n  \\\"tags\\\": [\\\"css\\\"]\\n}\\n!*/\\n\\n  Modernizr.addTest('borderimage', testAllProps('borderImage', 'url() 1', true));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Border Radius\\\",\\n  \\\"property\\\": \\\"borderradius\\\",\\n  \\\"caniuse\\\": \\\"border-radius\\\",\\n  \\\"polyfills\\\": [\\\"css3pie\\\"],\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"Comprehensive Compat Chart\\\",\\n    \\\"href\\\": \\\"https://muddledramblings.com/table-of-css3-border-radius-compliance\\\"\\n  }]\\n}\\n!*/\\n\\n  Modernizr.addTest('borderradius', testAllProps('borderRadius', '0px', true));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Box Shadow\\\",\\n  \\\"property\\\": \\\"boxshadow\\\",\\n  \\\"caniuse\\\": \\\"css-boxshadow\\\",\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"knownBugs\\\": [\\n    \\\"WebOS false positives on this test.\\\",\\n    \\\"The Kindle Silk browser false positives\\\"\\n  ]\\n}\\n!*/\\n\\n  Modernizr.addTest('boxshadow', testAllProps('boxShadow', '1px 1px', true));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Box Sizing\\\",\\n  \\\"property\\\": \\\"boxsizing\\\",\\n  \\\"caniuse\\\": \\\"css3-boxsizing\\\",\\n  \\\"polyfills\\\": [\\\"borderboxmodel\\\", \\\"boxsizingpolyfill\\\", \\\"borderbox\\\"],\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"builderAliases\\\": [\\\"css_boxsizing\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"MDN Docs\\\",\\n    \\\"href\\\": \\\"https://developer.mozilla.org/en-US/docs/Web/CSS/box-sizing\\\"\\n  },{\\n    \\\"name\\\": \\\"Related Github Issue\\\",\\n    \\\"href\\\": \\\"https://github.com/Modernizr/Modernizr/issues/248\\\"\\n  }]\\n}\\n!*/\\n\\n  Modernizr.addTest('boxsizing', testAllProps('boxSizing', 'border-box', true) && (document.documentMode === undefined || document.documentMode > 7));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS Calc\\\",\\n  \\\"property\\\": \\\"csscalc\\\",\\n  \\\"caniuse\\\": \\\"calc\\\",\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"builderAliases\\\": [\\\"css_calc\\\"],\\n  \\\"authors\\\": [\\\"@calvein\\\"]\\n}\\n!*/\\n/* DOC\\nMethod of allowing calculated values for length units. For example:\\n\\n```css\\n//lem {\\n  width: calc(100% - 3em);\\n}\\n```\\n*/\\n\\n  Modernizr.addTest('csscalc', function() {\\n    var prop = 'width:';\\n    var value = 'calc(10px);';\\n    var el = createElement('a');\\n\\n    el.style.cssText = prop + prefixes.join(value + prop);\\n\\n    return !!el.style.length;\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS :checked pseudo-selector\\\",\\n  \\\"caniuse\\\": \\\"css-sel3\\\",\\n  \\\"property\\\": \\\"checked\\\",\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"Related Github Issue\\\",\\n    \\\"href\\\": \\\"https://github.com/Modernizr/Modernizr/pull/879\\\"\\n  }]\\n}\\n!*/\\n\\n  Modernizr.addTest('checked', function() {\\n    return testStyles('#modernizr {position:absolute} #modernizr input {margin-left:10px} #modernizr :checked {margin-left:20px;display:block}', function(elem) {\\n      var cb = createElement('input');\\n      cb.setAttribute('type', 'checkbox');\\n      cb.setAttribute('checked', 'checked');\\n      elem.appendChild(cb);\\n      return cb.offsetLeft === 20;\\n    });\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS Font ch Units\\\",\\n  \\\"authors\\\": [\\\"Ron Waldon (@jokeyrhyme)\\\"],\\n  \\\"property\\\": \\\"csschunit\\\",\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"W3C Spec\\\",\\n    \\\"href\\\": \\\"https://www.w3.org/TR/css3-values/#font-relative-lengths\\\"\\n  }]\\n}\\n!*/\\n\\n  Modernizr.addTest('csschunit', function() {\\n    var elemStyle = modElem.elem.style;\\n    var supports;\\n    try {\\n      elemStyle.fontSize = '3ch';\\n      supports = elemStyle.fontSize.indexOf('ch') !== -1;\\n    } catch (e) {\\n      supports = false;\\n    }\\n    return supports;\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS Columns\\\",\\n  \\\"property\\\": \\\"csscolumns\\\",\\n  \\\"caniuse\\\": \\\"multicolumn\\\",\\n  \\\"polyfills\\\": [\\\"css3multicolumnjs\\\"],\\n  \\\"tags\\\": [\\\"css\\\"]\\n}\\n!*/\\n\\n\\n  (function() {\\n\\n    /* jshint -W053 */\\n    Modernizr.addTest('csscolumns', function() {\\n      var bool = false;\\n      var test = testAllProps('columnCount');\\n      try {\\n        if (bool = !!test) {\\n          bool = new Boolean(bool);\\n        }\\n      } catch (e) {}\\n\\n      return bool;\\n    });\\n\\n    var props = ['Width', 'Span', 'Fill', 'Gap', 'Rule', 'RuleColor', 'RuleStyle', 'RuleWidth', 'BreakBefore', 'BreakAfter', 'BreakInside'];\\n    var name, test;\\n\\n    for (var i = 0; i < props.length; i++) {\\n      name = props[i].toLowerCase();\\n      test = testAllProps('column' + props[i]);\\n\\n      // break-before, break-after & break-inside are not \\\"column\\\"-prefixed in spec\\n      if (name === 'breakbefore' || name === 'breakafter' || name == 'breakinside') {\\n        test = test || testAllProps(props[i]);\\n      }\\n\\n      Modernizr.addTest('csscolumns.' + name, test);\\n    }\\n\\n\\n  })();\\n\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS Cubic Bezier Range\\\",\\n  \\\"property\\\": \\\"cubicbezierrange\\\",\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"builderAliases\\\": [\\\"css_cubicbezierrange\\\"],\\n  \\\"doc\\\" : null,\\n  \\\"authors\\\": [\\\"@calvein\\\"],\\n  \\\"warnings\\\": [\\\"cubic-bezier values can't be > 1 for Webkit until [bug #45761](https://bugs.webkit.org/show_bug.cgi?id=45761) is fixed\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"Comprehensive Compat Chart\\\",\\n    \\\"href\\\": \\\"http://muddledramblings.com/table-of-css3-border-radius-compliance\\\"\\n  }]\\n}\\n!*/\\n\\n  Modernizr.addTest('cubicbezierrange', function() {\\n    var el = createElement('a');\\n    el.style.cssText = prefixes.join('transition-timing-function:cubic-bezier(1,0,0,1.1); ');\\n    return !!el.style.length;\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS Display run-in\\\",\\n  \\\"property\\\": \\\"display-runin\\\",\\n  \\\"authors\\\": [\\\"alanhogan\\\"],\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"builderAliases\\\": [\\\"css_displayrunin\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"CSS Tricks Article\\\",\\n    \\\"href\\\": \\\"https://css-tricks.com/596-run-in/\\\"\\n  },{\\n    \\\"name\\\": \\\"Related Github Issue\\\",\\n    \\\"href\\\": \\\"https://github.com/Modernizr/Modernizr/issues/198\\\"\\n  }]\\n}\\n!*/\\n\\n  Modernizr.addTest('displayrunin', testAllProps('display', 'run-in'),\\n    {aliases: ['display-runin']});\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS Display table\\\",\\n  \\\"property\\\": \\\"displaytable\\\",\\n  \\\"caniuse\\\": \\\"css-table\\\",\\n  \\\"authors\\\": [\\\"scottjehl\\\"],\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"builderAliases\\\": [\\\"css_displaytable\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"Detects for all additional table display values\\\",\\n    \\\"href\\\": \\\"http://pastebin.com/Gk9PeVaQ\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\n`display: table` and `table-cell` test. (both are tested under one name `table-cell` )\\n*/\\n\\n  // If a document is in rtl mode this test will fail so we force ltr mode on the injeced\\n  // element https://github.com/Modernizr/Modernizr/issues/716\\n  testStyles('#modernizr{display: table; direction: ltr}#modernizr div{display: table-cell; padding: 10px}', function(elem) {\\n    var ret;\\n    var child = elem.childNodes;\\n    ret = child[0].offsetLeft < child[1].offsetLeft;\\n    Modernizr.addTest('displaytable', ret, {aliases: ['display-table']});\\n  }, 2);\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS text-overflow ellipsis\\\",\\n  \\\"property\\\": \\\"ellipsis\\\",\\n  \\\"caniuse\\\": \\\"text-overflow\\\",\\n  \\\"polyfills\\\": [\\n    \\\"text-overflow\\\"\\n  ],\\n  \\\"tags\\\": [\\\"css\\\"]\\n}\\n!*/\\n\\n  Modernizr.addTest('ellipsis', testAllProps('textOverflow', 'ellipsis'));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS.escape()\\\",\\n  \\\"property\\\": \\\"cssescape\\\",\\n  \\\"polyfills\\\": [\\n    \\\"css-escape\\\"\\n  ],\\n  \\\"tags\\\": [\\n    \\\"css\\\",\\n    \\\"cssom\\\"\\n  ]\\n}\\n!*/\\n/* DOC\\nTests for `CSS.escape()` support.\\n*/\\n\\n  var CSS = window.CSS;\\n  Modernizr.addTest('cssescape', CSS ? typeof CSS.escape == 'function' : false);\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS Font ex Units\\\",\\n  \\\"authors\\\": [\\\"Ron Waldon (@jokeyrhyme)\\\"],\\n  \\\"property\\\": \\\"cssexunit\\\",\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"W3C Spec\\\",\\n    \\\"href\\\": \\\"https://www.w3.org/TR/css3-values/#font-relative-lengths\\\"\\n  }]\\n}\\n!*/\\n\\n  Modernizr.addTest('cssexunit', function() {\\n    var elemStyle = modElem.elem.style;\\n    var supports;\\n    try {\\n      elemStyle.fontSize = '3ex';\\n      supports = elemStyle.fontSize.indexOf('ex') !== -1;\\n    } catch (e) {\\n      supports = false;\\n    }\\n    return supports;\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS Supports\\\",\\n  \\\"property\\\": \\\"supports\\\",\\n  \\\"caniuse\\\": \\\"css-featurequeries\\\",\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"builderAliases\\\": [\\\"css_supports\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"W3 Spec\\\",\\n    \\\"href\\\": \\\"http://dev.w3.org/csswg/css3-conditional/#at-supports\\\"\\n  },{\\n    \\\"name\\\": \\\"Related Github Issue\\\",\\n    \\\"href\\\": \\\"github.com/Modernizr/Modernizr/issues/648\\\"\\n  },{\\n    \\\"name\\\": \\\"W3 Info\\\",\\n    \\\"href\\\": \\\"http://dev.w3.org/csswg/css3-conditional/#the-csssupportsrule-interface\\\"\\n  }]\\n}\\n!*/\\n\\n  var newSyntax = 'CSS' in window && 'supports' in window.CSS;\\n  var oldSyntax = 'supportsCSS' in window;\\n  Modernizr.addTest('supports', newSyntax || oldSyntax);\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS Filters\\\",\\n  \\\"property\\\": \\\"cssfilters\\\",\\n  \\\"caniuse\\\": \\\"css-filters\\\",\\n  \\\"polyfills\\\": [\\\"polyfilter\\\"],\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"builderAliases\\\": [\\\"css_filters\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"MDN article on CSS filters\\\",\\n    \\\"href\\\": \\\"https://developer.mozilla.org/en-US/docs/Web/CSS/filter\\\"\\n  }]\\n}\\n!*/\\n\\n  Modernizr.addTest('cssfilters', function() {\\n    if (Modernizr.supports) {\\n      return testAllProps('filter', 'blur(2px)');\\n    } else {\\n      var el = createElement('a');\\n      el.style.cssText = prefixes.join('filter:blur(2px); ');\\n      // https://github.com/Modernizr/Modernizr/issues/615\\n      // documentMode is needed for false positives in oldIE, please see issue above\\n      return !!el.style.length && ((document.documentMode === undefined || document.documentMode > 9));\\n    }\\n  });\\n\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Flexbox\\\",\\n  \\\"property\\\": \\\"flexbox\\\",\\n  \\\"caniuse\\\": \\\"flexbox\\\",\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"The _new_ flexbox\\\",\\n    \\\"href\\\": \\\"http://dev.w3.org/csswg/css3-flexbox\\\"\\n  }],\\n  \\\"warnings\\\": [\\n    \\\"A `true` result for this detect does not imply that the `flex-wrap` property is supported; see the `flexwrap` detect.\\\"\\n  ]\\n}\\n!*/\\n/* DOC\\nDetects support for the Flexible Box Layout model, a.k.a. Flexbox, which allows easy manipulation of layout order and sizing within a container.\\n*/\\n\\n  Modernizr.addTest('flexbox', testAllProps('flexBasis', '1px', true));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Flexbox (legacy)\\\",\\n  \\\"property\\\": \\\"flexboxlegacy\\\",\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"polyfills\\\": [\\\"flexie\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"The _old_ flexbox\\\",\\n    \\\"href\\\": \\\"https://www.w3.org/TR/2009/WD-css3-flexbox-20090723/\\\"\\n  }]\\n}\\n!*/\\n\\n  Modernizr.addTest('flexboxlegacy', testAllProps('boxDirection', 'reverse', true));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Flexbox (tweener)\\\",\\n  \\\"property\\\": \\\"flexboxtweener\\\",\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"polyfills\\\": [\\\"flexie\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"The _inbetween_ flexbox\\\",\\n    \\\"href\\\": \\\"https://www.w3.org/TR/2011/WD-css3-flexbox-20111129/\\\"\\n  }],\\n  \\\"warnings\\\": [\\\"This represents an old syntax, not the latest standard syntax.\\\"]\\n}\\n!*/\\n\\n  Modernizr.addTest('flexboxtweener', testAllProps('flexAlign', 'end', true));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Flex Line Wrapping\\\",\\n  \\\"property\\\": \\\"flexwrap\\\",\\n  \\\"tags\\\": [\\\"css\\\", \\\"flexbox\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"W3C Flexible Box Layout spec\\\",\\n    \\\"href\\\": \\\"http://dev.w3.org/csswg/css3-flexbox\\\"\\n  }],\\n  \\\"warnings\\\": [\\n    \\\"Does not imply a modern implementation – see documentation.\\\"\\n  ]\\n}\\n!*/\\n/* DOC\\nDetects support for the `flex-wrap` CSS property, part of Flexbox, which isn’t present in all Flexbox implementations (notably Firefox).\\n\\nThis featured in both the 'tweener' syntax (implemented by IE10) and the 'modern' syntax (implemented by others). This detect will return `true` for either of these implementations, as long as the `flex-wrap` property is supported. So to ensure the modern syntax is supported, use together with `Modernizr.flexbox`:\\n\\n```javascript\\nif (Modernizr.flexbox && Modernizr.flexwrap) {\\n  // Modern Flexbox with `flex-wrap` supported\\n}\\nelse {\\n  // Either old Flexbox syntax, or `flex-wrap` not supported\\n}\\n```\\n*/\\n\\n  Modernizr.addTest('flexwrap', testAllProps('flexWrap', 'wrap', true));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"@font-face\\\",\\n  \\\"property\\\": \\\"fontface\\\",\\n  \\\"authors\\\": [\\\"Diego Perini\\\", \\\"Mat Marquis\\\"],\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"knownBugs\\\": [\\n    \\\"False Positive: WebOS https://github.com/Modernizr/Modernizr/issues/342\\\",\\n    \\\"False Postive: WP7 https://github.com/Modernizr/Modernizr/issues/538\\\"\\n  ],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"@font-face detection routine by Diego Perini\\\",\\n    \\\"href\\\": \\\"http://javascript.nwbox.com/CSSSupport/\\\"\\n  },{\\n    \\\"name\\\": \\\"Filament Group @font-face compatibility research\\\",\\n    \\\"href\\\": \\\"https://docs.google.com/presentation/d/1n4NyG4uPRjAA8zn_pSQ_Ket0RhcWC6QlZ6LMjKeECo0/edit#slide=id.p\\\"\\n  },{\\n    \\\"name\\\": \\\"Filament Grunticon/@font-face device testing results\\\",\\n    \\\"href\\\": \\\"https://docs.google.com/spreadsheet/ccc?key=0Ag5_yGvxpINRdHFYeUJPNnZMWUZKR2ItMEpRTXZPdUE#gid=0\\\"\\n  },{\\n    \\\"name\\\": \\\"CSS fonts on Android\\\",\\n    \\\"href\\\": \\\"https://stackoverflow.com/questions/3200069/css-fonts-on-android\\\"\\n  },{\\n    \\\"name\\\": \\\"@font-face and Android\\\",\\n    \\\"href\\\": \\\"http://archivist.incutio.com/viewlist/css-discuss/115960\\\"\\n  }]\\n}\\n!*/\\n\\n  var blacklist = (function() {\\n    var ua = navigator.userAgent;\\n    var wkvers = ua.match(/applewebkit\\\\/([0-9]+)/gi) && parseFloat(RegExp.$1);\\n    var webos = ua.match(/w(eb)?osbrowser/gi);\\n    var wppre8 = ua.match(/windows phone/gi) && ua.match(/iemobile\\\\/([0-9])+/gi) && parseFloat(RegExp.$1) >= 9;\\n    var oldandroid = wkvers < 533 && ua.match(/android/gi);\\n    return webos || oldandroid || wppre8;\\n  }());\\n  if (blacklist) {\\n    Modernizr.addTest('fontface', false);\\n  } else {\\n    testStyles('@font-face {font-family:\\\"font\\\";src:url(\\\"https://\\\")}', function(node, rule) {\\n      var style = document.getElementById('smodernizr');\\n      var sheet = style.sheet || style.styleSheet;\\n      var cssText = sheet ? (sheet.cssRules && sheet.cssRules[0] ? sheet.cssRules[0].cssText : sheet.cssText || '') : '';\\n      var bool = /src/i.test(cssText) && cssText.indexOf(rule.split(' ')[0]) === 0;\\n      Modernizr.addTest('fontface', bool);\\n    });\\n  }\\n;\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS Generated Content\\\",\\n  \\\"property\\\": \\\"generatedcontent\\\",\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"warnings\\\": [\\\"Android won't return correct height for anything below 7px #738\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"W3C CSS Selectors Level 3 spec\\\",\\n    \\\"href\\\": \\\"https://www.w3.org/TR/css3-selectors/#gen-content\\\"\\n  },{\\n    \\\"name\\\": \\\"MDN article on :before\\\",\\n    \\\"href\\\": \\\"https://developer.mozilla.org/en-US/docs/Web/CSS/::before\\\"\\n  },{\\n    \\\"name\\\": \\\"MDN article on :after\\\",\\n    \\\"href\\\": \\\"https://developer.mozilla.org/en-US/docs/Web/CSS/::before\\\"\\n  }]\\n}\\n!*/\\n\\n  testStyles('#modernizr{font:0/0 a}#modernizr:after{content:\\\":)\\\";visibility:hidden;font:7px/1 a}', function(node) {\\n    Modernizr.addTest('generatedcontent', node.offsetHeight >= 7);\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS Gradients\\\",\\n  \\\"caniuse\\\": \\\"css-gradients\\\",\\n  \\\"property\\\": \\\"cssgradients\\\",\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"knownBugs\\\": [\\\"False-positives on webOS (https://github.com/Modernizr/Modernizr/issues/202)\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"Webkit Gradient Syntax\\\",\\n    \\\"href\\\": \\\"https://webkit.org/blog/175/introducing-css-gradients/\\\"\\n  },{\\n    \\\"name\\\": \\\"Linear Gradient Syntax\\\",\\n    \\\"href\\\": \\\"https://developer.mozilla.org/en-US/docs/Web/CSS/linear-gradient\\\"\\n  },{\\n    \\\"name\\\": \\\"W3C Gradient Spec\\\",\\n    \\\"href\\\": \\\"https://drafts.csswg.org/css-images-3/#gradients\\\"\\n  }]\\n}\\n!*/\\n\\n\\n  Modernizr.addTest('cssgradients', function() {\\n\\n    var str1 = 'background-image:';\\n    var str2 = 'gradient(linear,left top,right bottom,from(#9f9),to(white));';\\n    var css = '';\\n    var angle;\\n\\n    for (var i = 0, len = prefixes.length - 1; i < len; i++) {\\n      angle = (i === 0 ? 'to ' : '');\\n      css += str1 + prefixes[i] + 'linear-gradient(' + angle + 'left top, #9f9, white);';\\n    }\\n\\n    if (Modernizr._config.usePrefixes) {\\n    // legacy webkit syntax (FIXME: remove when syntax not in use anymore)\\n      css += str1 + '-webkit-' + str2;\\n    }\\n\\n    var elem = createElement('a');\\n    var style = elem.style;\\n    style.cssText = css;\\n\\n    // IE6 returns undefined so cast to string\\n    return ('' + style.backgroundImage).indexOf('gradient') > -1;\\n  });\\n\\n/*! {\\n  \\\"name\\\": \\\"hairline\\\",\\n  \\\"property\\\": \\\"csshairline\\\",\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"authors\\\": [\\\"strarsis\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"Blog post about CSS retina hairlines\\\",\\n    \\\"href\\\": \\\"http://dieulot.net/css-retina-hairline\\\"\\n  },{\\n    \\\"name\\\": \\\"Derived from\\\",\\n    \\\"href\\\": \\\"https://gist.github.com/dieulot/520a49463f6058fbc8d1\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nDetects support for hidpi/retina hairlines, which are CSS borders with less than 1px in width, for being physically 1px on hidpi screens.\\n*/\\n\\n\\n  Modernizr.addTest('hairline', function() {\\n    return testStyles('#modernizr {border:.5px solid transparent}', function(elem) {\\n      return elem.offsetHeight === 1;\\n    });\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS HSLA Colors\\\",\\n  \\\"caniuse\\\": \\\"css3-colors\\\",\\n  \\\"property\\\": \\\"hsla\\\",\\n  \\\"tags\\\": [\\\"css\\\"]\\n}\\n!*/\\n\\n  Modernizr.addTest('hsla', function() {\\n    var style = createElement('a').style;\\n    style.cssText = 'background-color:hsla(120,40%,100%,.5)';\\n    return contains(style.backgroundColor, 'rgba') || contains(style.backgroundColor, 'hsla');\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS Hyphens\\\",\\n  \\\"caniuse\\\": \\\"css-hyphens\\\",\\n  \\\"property\\\": [\\\"csshyphens\\\", \\\"softhyphens\\\", \\\"softhyphensfind\\\"],\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"builderAliases\\\": [\\\"css_hyphens\\\"],\\n  \\\"async\\\" : true,\\n  \\\"authors\\\": [\\\"David Newton\\\"],\\n  \\\"warnings\\\": [\\n    \\\"These tests currently require document.body to be present\\\",\\n    \\\"If loading Hyphenator.js via yepnope, be cautious of issue 158: http://code.google.com/p/hyphenator/issues/detail?id=158\\\",\\n    \\\"This is very large – only include it if you absolutely need it\\\"\\n    ],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"The Current State of Hyphenation on the Web.\\\",\\n    \\\"href\\\": \\\"http://davidnewton.ca/the-current-state-of-hyphenation-on-the-web\\\"\\n  },{\\n    \\\"name\\\": \\\"Hyphenation Test Page\\\",\\n    \\\"href\\\": \\\"http://davidnewton.ca/demos/hyphenation/test.html\\\"\\n  },{\\n    \\\"name\\\": \\\"Hyphenation is Language Specific\\\",\\n    \\\"href\\\": \\\" http://code.google.com/p/hyphenator/source/diff?spec=svn975&r=975&format=side&path=/trunk/Hyphenator.js#sc_svn975_313\\\"\\n  },{\\n    \\\"name\\\": \\\"Related Modernizr Issue\\\",\\n    \\\"href\\\": \\\"https://github.com/Modernizr/Modernizr/issues/312\\\"\\n  }]\\n}\\n!*/\\n\\n\\n  Modernizr.addAsyncTest(function() {\\n    var waitTime = 300;\\n    setTimeout(runHyphenTest, waitTime);\\n    // Wait 1000ms so we can hope for document.body\\n    function runHyphenTest() {\\n      if (!document.body && !document.getElementsByTagName('body')[0]) {\\n        setTimeout(runHyphenTest, waitTime);\\n        return;\\n      }\\n\\n      // functional test of adding hyphens:auto\\n      function test_hyphens_css() {\\n        try {\\n          /* create a div container and a span within that\\n           * these have to be appended to document.body, otherwise some browsers can give false negative */\\n          var div = createElement('div');\\n          var span = createElement('span');\\n          var divStyle = div.style;\\n          var spanHeight = 0;\\n          var spanWidth = 0;\\n          var result = false;\\n          var firstChild = document.body.firstElementChild || document.body.firstChild;\\n\\n          div.appendChild(span);\\n          span.innerHTML = 'Bacon ipsum dolor sit amet jerky velit in culpa hamburger et. Laborum dolor proident, enim dolore duis commodo et strip steak. Salami anim et, veniam consectetur dolore qui tenderloin jowl velit sirloin. Et ad culpa, fatback cillum jowl ball tip ham hock nulla short ribs pariatur aute. Pig pancetta ham bresaola, ut boudin nostrud commodo flank esse cow tongue culpa. Pork belly bresaola enim pig, ea consectetur nisi. Fugiat officia turkey, ea cow jowl pariatur ullamco proident do laborum velit sausage. Magna biltong sint tri-tip commodo sed bacon, esse proident aliquip. Ullamco ham sint fugiat, velit in enim sed mollit nulla cow ut adipisicing nostrud consectetur. Proident dolore beef ribs, laborum nostrud meatball ea laboris rump cupidatat labore culpa. Shankle minim beef, velit sint cupidatat fugiat tenderloin pig et ball tip. Ut cow fatback salami, bacon ball tip et in shank strip steak bresaola. In ut pork belly sed mollit tri-tip magna culpa veniam, short ribs qui in andouille ham consequat. Dolore bacon t-bone, velit short ribs enim strip steak nulla. Voluptate labore ut, biltong swine irure jerky. Cupidatat excepteur aliquip salami dolore. Ball tip strip steak in pork dolor. Ad in esse biltong. Dolore tenderloin exercitation ad pork loin t-bone, dolore in chicken ball tip qui pig. Ut culpa tongue, sint ribeye dolore ex shank voluptate hamburger. Jowl et tempor, boudin pork chop labore ham hock drumstick consectetur tri-tip elit swine meatball chicken ground round. Proident shankle mollit dolore. Shoulder ut duis t-bone quis reprehenderit. Meatloaf dolore minim strip steak, laboris ea aute bacon beef ribs elit shank in veniam drumstick qui. Ex laboris meatball cow tongue pork belly. Ea ball tip reprehenderit pig, sed fatback boudin dolore flank aliquip laboris eu quis. Beef ribs duis beef, cow corned beef adipisicing commodo nisi deserunt exercitation. Cillum dolor t-bone spare ribs, ham hock est sirloin. Brisket irure meatloaf in, boudin pork belly sirloin ball tip. Sirloin sint irure nisi nostrud aliqua. Nostrud nulla aute, enim officia culpa ham hock. Aliqua reprehenderit dolore sunt nostrud sausage, ea boudin pork loin ut t-bone ham tempor. Tri-tip et pancetta drumstick laborum. Ham hock magna do nostrud in proident. Ex ground round fatback, venison non ribeye in.';\\n\\n          document.body.insertBefore(div, firstChild);\\n\\n          /* get size of unhyphenated text */\\n          divStyle.cssText = 'position:absolute;top:0;left:0;width:5em;text-align:justify;text-justification:newspaper;';\\n          spanHeight = span.offsetHeight;\\n          spanWidth = span.offsetWidth;\\n\\n          /* compare size with hyphenated text */\\n          divStyle.cssText = 'position:absolute;top:0;left:0;width:5em;text-align:justify;' +\\n            'text-justification:newspaper;' +\\n            prefixes.join('hyphens:auto; ');\\n\\n          result = (span.offsetHeight != spanHeight || span.offsetWidth != spanWidth);\\n\\n          /* results and cleanup */\\n          document.body.removeChild(div);\\n          div.removeChild(span);\\n\\n          return result;\\n        } catch (e) {\\n          return false;\\n        }\\n      }\\n\\n      // for the softhyphens test\\n      function test_hyphens(delimiter, testWidth) {\\n        try {\\n          /* create a div container and a span within that\\n           * these have to be appended to document.body, otherwise some browsers can give false negative */\\n          var div = createElement('div');\\n          var span = createElement('span');\\n          var divStyle = div.style;\\n          var spanSize = 0;\\n          var result = false;\\n          var result1 = false;\\n          var result2 = false;\\n          var firstChild = document.body.firstElementChild || document.body.firstChild;\\n\\n          divStyle.cssText = 'position:absolute;top:0;left:0;overflow:visible;width:1.25em;';\\n          div.appendChild(span);\\n          document.body.insertBefore(div, firstChild);\\n\\n\\n          /* get height of unwrapped text */\\n          span.innerHTML = 'mm';\\n          spanSize = span.offsetHeight;\\n\\n          /* compare height w/ delimiter, to see if it wraps to new line */\\n          span.innerHTML = 'm' + delimiter + 'm';\\n          result1 = (span.offsetHeight > spanSize);\\n\\n          /* if we're testing the width too (i.e. for soft-hyphen, not zws),\\n           * this is because tested Blackberry devices will wrap the text but not display the hyphen */\\n          if (testWidth) {\\n            /* get width of wrapped, non-hyphenated text */\\n            span.innerHTML = 'm<br />m';\\n            spanSize = span.offsetWidth;\\n\\n            /* compare width w/ wrapped w/ delimiter to see if hyphen is present */\\n            span.innerHTML = 'm' + delimiter + 'm';\\n            result2 = (span.offsetWidth > spanSize);\\n          } else {\\n            result2 = true;\\n          }\\n\\n          /* results and cleanup */\\n          if (result1 === true && result2 === true) { result = true; }\\n          document.body.removeChild(div);\\n          div.removeChild(span);\\n\\n          return result;\\n        } catch (e) {\\n          return false;\\n        }\\n      }\\n\\n      // testing if in-browser Find functionality will work on hyphenated text\\n      function test_hyphens_find(delimiter) {\\n        try {\\n          /* create a dummy input for resetting selection location, and a div container\\n           * these have to be appended to document.body, otherwise some browsers can give false negative\\n           * div container gets the doubled testword, separated by the delimiter\\n           * Note: giving a width to div gives false positive in iOS Safari */\\n          var dummy = createElement('input');\\n          var div = createElement('div');\\n          var testword = 'lebowski';\\n          var result = false;\\n          var textrange;\\n          var firstChild = document.body.firstElementChild || document.body.firstChild;\\n\\n          div.innerHTML = testword + delimiter + testword;\\n\\n          document.body.insertBefore(div, firstChild);\\n          document.body.insertBefore(dummy, div);\\n\\n\\n          /* reset the selection to the dummy input element, i.e. BEFORE the div container\\n           *   stackoverflow.com/questions/499126/jquery-set-cursor-position-in-text-area */\\n          if (dummy.setSelectionRange) {\\n            dummy.focus();\\n            dummy.setSelectionRange(0, 0);\\n          } else if (dummy.createTextRange) {\\n            textrange = dummy.createTextRange();\\n            textrange.collapse(true);\\n            textrange.moveEnd('character', 0);\\n            textrange.moveStart('character', 0);\\n            textrange.select();\\n          }\\n\\n          /* try to find the doubled testword, without the delimiter */\\n          try {\\n            if (window.find) {\\n              result = window.find(testword + testword);\\n            } else {\\n              textrange = window.self.document.body.createTextRange();\\n              result = textrange.findText(testword + testword);\\n            }\\n          } catch (e) {\\n            result = false;\\n          }\\n\\n          document.body.removeChild(div);\\n          document.body.removeChild(dummy);\\n\\n          return result;\\n        } catch (e) {\\n          return false;\\n        }\\n      }\\n\\n      addTest('csshyphens', function() {\\n\\n        if (!testAllProps('hyphens', 'auto', true)) {\\n          return false;\\n        }\\n\\n        /* Chrome lies about its hyphens support so we need a more robust test\\n           crbug.com/107111\\n           */\\n        try {\\n          return test_hyphens_css();\\n        } catch (e) {\\n          return false;\\n        }\\n      });\\n\\n      addTest('softhyphens', function() {\\n        try {\\n          // use numeric entity instead of &shy; in case it's XHTML\\n          return test_hyphens('&#173;', true) && test_hyphens('&#8203;', false);\\n        } catch (e) {\\n          return false;\\n        }\\n      });\\n\\n      addTest('softhyphensfind', function() {\\n        try {\\n          return test_hyphens_find('&#173;') && test_hyphens_find('&#8203;');\\n        } catch (e) {\\n          return false;\\n        }\\n      });\\n\\n    }\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS :invalid pseudo-class\\\",\\n  \\\"property\\\": \\\"cssinvalid\\\",\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"MDN documentation\\\",\\n    \\\"href\\\": \\\"https://developer.mozilla.org/en-US/docs/Web/CSS/:invalid\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\n  Detects support for the ':invalid' CSS pseudo-class.\\n*/\\n\\n  Modernizr.addTest('cssinvalid', function() {\\n    return testStyles('#modernizr input{height:0;border:0;padding:0;margin:0;width:10px} #modernizr input:invalid{width:50px}', function(elem) {\\n      var input = createElement('input');\\n      input.required = true;\\n      elem.appendChild(input);\\n      return input.clientWidth > 10;\\n    });\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS :last-child pseudo-selector\\\",\\n  \\\"caniuse\\\": \\\"css-sel3\\\",\\n  \\\"property\\\": \\\"lastchild\\\",\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"builderAliases\\\": [\\\"css_lastchild\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"Related Github Issue\\\",\\n    \\\"href\\\": \\\"https://github.com/Modernizr/Modernizr/pull/304\\\"\\n  }]\\n}\\n!*/\\n\\n  testStyles('#modernizr div {width:100px} #modernizr :last-child{width:200px;display:block}', function(elem) {\\n    Modernizr.addTest('lastchild', elem.lastChild.offsetWidth > elem.firstChild.offsetWidth);\\n  }, 2);\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS Mask\\\",\\n  \\\"caniuse\\\": \\\"css-masks\\\",\\n  \\\"property\\\": \\\"cssmask\\\",\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"builderAliases\\\": [\\\"css_mask\\\"],\\n  \\\"notes\\\": [\\n    {\\n      \\\"name\\\": \\\"Webkit blog on CSS Masks\\\",\\n      \\\"href\\\": \\\"https://webkit.org/blog/181/css-masks/\\\"\\n    },\\n    {\\n      \\\"name\\\": \\\"Safari Docs\\\",\\n      \\\"href\\\": \\\"https://developer.apple.com/library/safari/#documentation/InternetWeb/Conceptual/SafariVisualEffectsProgGuide/Masks/Masks.html\\\"\\n    },\\n    {\\n      \\\"name\\\": \\\"CSS SVG mask\\\",\\n      \\\"href\\\": \\\"https://developer.mozilla.org/en-US/docs/Web/CSS/mask\\\"\\n    },\\n    {\\n      \\\"name\\\": \\\"Combine with clippaths for awesomeness\\\",\\n      \\\"href\\\": \\\"https://generic.cx/for/webkit/test.html\\\"\\n    }\\n  ]\\n}\\n!*/\\n\\n  Modernizr.addTest('cssmask', testAllProps('maskRepeat', 'repeat-x', true));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS Media Queries\\\",\\n  \\\"caniuse\\\": \\\"css-mediaqueries\\\",\\n  \\\"property\\\": \\\"mediaqueries\\\",\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"builderAliases\\\": [\\\"css_mediaqueries\\\"]\\n}\\n!*/\\n\\n  Modernizr.addTest('mediaqueries', mq('only all'));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS Multiple Backgrounds\\\",\\n  \\\"caniuse\\\": \\\"multibackgrounds\\\",\\n  \\\"property\\\": \\\"multiplebgs\\\",\\n  \\\"tags\\\": [\\\"css\\\"]\\n}\\n!*/\\n\\n  // Setting multiple images AND a color on the background shorthand property\\n  // and then querying the style.background property value for the number of\\n  // occurrences of \\\"url(\\\" is a reliable method for detecting ACTUAL support for this!\\n\\n  Modernizr.addTest('multiplebgs', function() {\\n    var style = createElement('a').style;\\n    style.cssText = 'background:url(https://),url(https://),red url(https://)';\\n\\n    // If the UA supports multiple backgrounds, there should be three occurrences\\n    // of the string \\\"url(\\\" in the return value for elemStyle.background\\n    return (/(url\\\\s*\\\\(.*?){3}/).test(style.background);\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS :nth-child pseudo-selector\\\",\\n  \\\"caniuse\\\": \\\"css-sel3\\\",\\n  \\\"property\\\": \\\"nthchild\\\",\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"notes\\\": [\\n    {\\n      \\\"name\\\": \\\"Related Github Issue\\\",\\n      \\\"href\\\": \\\"https://github.com/Modernizr/Modernizr/pull/685\\\"\\n    },\\n    {\\n      \\\"name\\\": \\\"Sitepoint :nth-child documentation\\\",\\n      \\\"href\\\": \\\"http://reference.sitepoint.com/css/pseudoclass-nthchild\\\"\\n    }\\n  ],\\n  \\\"authors\\\": [\\\"@emilchristensen\\\"],\\n  \\\"warnings\\\": [\\\"Known false negative in Safari 3.1 and Safari 3.2.2\\\"]\\n}\\n!*/\\n/* DOC\\nDetects support for the ':nth-child()' CSS pseudo-selector.\\n*/\\n\\n  // 5 `<div>` elements with `1px` width are created.\\n  // Then every other element has its `width` set to `2px`.\\n  // A Javascript loop then tests if the `<div>`s have the expected width\\n  // using the modulus operator.\\n  testStyles('#modernizr div {width:1px} #modernizr div:nth-child(2n) {width:2px;}', function(elem) {\\n    var elems = elem.getElementsByTagName('div');\\n    var correctWidths = true;\\n\\n    for (var i = 0; i < 5; i++) {\\n      correctWidths = correctWidths && elems[i].offsetWidth === i % 2 + 1;\\n    }\\n    Modernizr.addTest('nthchild', correctWidths);\\n  }, 5);\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS Object Fit\\\",\\n  \\\"caniuse\\\": \\\"object-fit\\\",\\n  \\\"property\\\": \\\"objectfit\\\",\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"builderAliases\\\": [\\\"css_objectfit\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"Opera Article on Object Fit\\\",\\n    \\\"href\\\": \\\"https://dev.opera.com/articles/css3-object-fit-object-position/\\\"\\n  }]\\n}\\n!*/\\n\\n  Modernizr.addTest('objectfit', !!prefixed('objectFit'), {aliases: ['object-fit']});\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS Opacity\\\",\\n  \\\"caniuse\\\": \\\"css-opacity\\\",\\n  \\\"property\\\": \\\"opacity\\\",\\n  \\\"tags\\\": [\\\"css\\\"]\\n}\\n!*/\\n\\n  // Browsers that actually have CSS Opacity implemented have done so\\n  // according to spec, which means their return values are within the\\n  // range of [0.0,1.0] - including the leading zero.\\n\\n  Modernizr.addTest('opacity', function() {\\n    var style = createElement('a').style;\\n    style.cssText = prefixes.join('opacity:.55;');\\n\\n    // The non-literal . in this regex is intentional:\\n    // German Chrome returns this value as 0,55\\n    // github.com/Modernizr/Modernizr/issues/#issue/59/comment/516632\\n    return (/^0.55$/).test(style.opacity);\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS Overflow Scrolling\\\",\\n  \\\"property\\\": \\\"overflowscrolling\\\",\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"builderAliases\\\": [\\\"css_overflow_scrolling\\\"],\\n  \\\"warnings\\\": [\\\"Introduced in iOS5b2. API is subject to change.\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"Article on iOS overflow scrolling\\\",\\n    \\\"href\\\": \\\"https://css-tricks.com/snippets/css/momentum-scrolling-on-ios-overflow-elements/\\\"\\n  }]\\n}\\n!*/\\n\\n  Modernizr.addTest('overflowscrolling', testAllProps('overflowScrolling', 'touch', true));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS Pointer Events\\\",\\n  \\\"caniuse\\\": \\\"pointer-events\\\",\\n  \\\"property\\\": \\\"csspointerevents\\\",\\n  \\\"authors\\\": [\\\"ausi\\\"],\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"builderAliases\\\": [\\\"css_pointerevents\\\"],\\n  \\\"notes\\\": [\\n    {\\n      \\\"name\\\": \\\"MDN Docs\\\",\\n      \\\"href\\\": \\\"https://developer.mozilla.org/en-US/docs/Web/CSS/pointer-events\\\"\\n    },{\\n      \\\"name\\\": \\\"Test Project Page\\\",\\n      \\\"href\\\": \\\"https://ausi.github.com/Feature-detection-technique-for-pointer-events/\\\"\\n    },{\\n      \\\"name\\\": \\\"Test Project Wiki\\\",\\n      \\\"href\\\": \\\"https://github.com/ausi/Feature-detection-technique-for-pointer-events/wiki\\\"\\n    },\\n    {\\n      \\\"name\\\": \\\"Related Github Issue\\\",\\n      \\\"href\\\": \\\"https://github.com/Modernizr/Modernizr/issues/80\\\"\\n    }\\n  ]\\n}\\n!*/\\n\\n  Modernizr.addTest('csspointerevents', function() {\\n    var style = createElement('a').style;\\n    style.cssText = 'pointer-events:auto';\\n    return style.pointerEvents === 'auto';\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS position: sticky\\\",\\n  \\\"property\\\": \\\"csspositionsticky\\\",\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"builderAliases\\\": [\\\"css_positionsticky\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"Chrome bug report\\\",\\n    \\\"href\\\":\\\"https://code.google.com/p/chromium/issues/detail?id=322972\\\"\\n  }],\\n  \\\"warnings\\\": [ \\\"using position:sticky on anything but top aligned elements is buggy in Chrome < 37 and iOS <=7+\\\" ]\\n}\\n!*/\\n\\n  // Sticky positioning - constrains an element to be positioned inside the\\n  // intersection of its container box, and the viewport.\\n  Modernizr.addTest('csspositionsticky', function() {\\n    var prop = 'position:';\\n    var value = 'sticky';\\n    var el = createElement('a');\\n    var mStyle = el.style;\\n\\n    mStyle.cssText = prop + prefixes.join(value + ';' + prop).slice(0, -prop.length);\\n\\n    return mStyle.position.indexOf(value) !== -1;\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS Generated Content Animations\\\",\\n  \\\"property\\\": \\\"csspseudoanimations\\\",\\n  \\\"tags\\\": [\\\"css\\\"]\\n}\\n!*/\\n\\n  Modernizr.addTest('csspseudoanimations', function() {\\n    var result = false;\\n\\n    if (!Modernizr.cssanimations || !window.getComputedStyle) {\\n      return result;\\n    }\\n\\n    var styles = [\\n      '@', Modernizr._prefixes.join('keyframes csspseudoanimations { from { font-size: 10px; } }@').replace(/\\\\@$/, ''),\\n      '#modernizr:before { content:\\\" \\\"; font-size:5px;',\\n      Modernizr._prefixes.join('animation:csspseudoanimations 1ms infinite;'),\\n      '}'\\n    ].join('');\\n\\n    Modernizr.testStyles(styles, function(elem) {\\n      result = window.getComputedStyle(elem, ':before').getPropertyValue('font-size') === '10px';\\n    });\\n\\n    return result;\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS Transitions\\\",\\n  \\\"property\\\": \\\"csstransitions\\\",\\n  \\\"caniuse\\\": \\\"css-transitions\\\",\\n  \\\"tags\\\": [\\\"css\\\"]\\n}\\n!*/\\n\\n  Modernizr.addTest('csstransitions', testAllProps('transition', 'all', true));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS Generated Content Transitions\\\",\\n  \\\"property\\\": \\\"csspseudotransitions\\\",\\n  \\\"tags\\\": [\\\"css\\\"]\\n}\\n!*/\\n\\n  Modernizr.addTest('csspseudotransitions', function() {\\n    var result = false;\\n\\n    if (!Modernizr.csstransitions || !window.getComputedStyle) {\\n      return result;\\n    }\\n\\n    var styles =\\n      '#modernizr:before { content:\\\" \\\"; font-size:5px;' + Modernizr._prefixes.join('transition:0s 100s;') + '}' +\\n      '#modernizr.trigger:before { font-size:10px; }';\\n\\n    Modernizr.testStyles(styles, function(elem) {\\n      // Force rendering of the element's styles so that the transition will trigger\\n      window.getComputedStyle(elem, ':before').getPropertyValue('font-size');\\n      elem.className += 'trigger';\\n      result = window.getComputedStyle(elem, ':before').getPropertyValue('font-size') === '5px';\\n    });\\n\\n    return result;\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS Reflections\\\",\\n  \\\"caniuse\\\": \\\"css-reflections\\\",\\n  \\\"property\\\": \\\"cssreflections\\\",\\n  \\\"tags\\\": [\\\"css\\\"]\\n}\\n!*/\\n\\n  Modernizr.addTest('cssreflections', testAllProps('boxReflect', 'above', true));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS Regions\\\",\\n  \\\"caniuse\\\": \\\"css-regions\\\",\\n  \\\"authors\\\": [\\\"Mihai Balan\\\"],\\n  \\\"property\\\": \\\"regions\\\",\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"builderAliases\\\": [\\\"css_regions\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"W3C Specification\\\",\\n    \\\"href\\\": \\\"https://www.w3.org/TR/css3-regions/\\\"\\n  }]\\n}\\n!*/\\n\\n  // We start with a CSS parser test then we check page geometry to see if it's affected by regions\\n  // Later we might be able to retire the second part, as WebKit builds with the false positives die out\\n\\n  Modernizr.addTest('regions', function() {\\n\\n    if (isSVG) {\\n      // css regions don't work inside of SVG elements. Rather than update the\\n      // below test to work in an SVG context, just exit early to save bytes\\n      return false;\\n    }\\n\\n    /* Get the 'flowFrom' property name available in the browser. Either default or vendor prefixed.\\n       If the property name can't be found we'll get Boolean 'false' and fail quickly */\\n    var flowFromProperty = Modernizr.prefixed('flowFrom');\\n    var flowIntoProperty = Modernizr.prefixed('flowInto');\\n    var result = false;\\n\\n    if (!flowFromProperty || !flowIntoProperty) {\\n      return result;\\n    }\\n\\n    /* If CSS parsing is there, try to determine if regions actually work. */\\n    var iframeContainer = createElement('iframe');\\n    var container = createElement('div');\\n    var content = createElement('div');\\n    var region = createElement('div');\\n\\n    /* we create a random, unlikely to be generated flow number to make sure we don't\\n       clash with anything more vanilla, like 'flow', or 'article', or 'f1' */\\n    var flowName = 'modernizr_flow_for_regions_check';\\n\\n    /* First create a div with two adjacent divs inside it. The first will be the\\n       content, the second will be the region. To be able to distinguish between the two,\\n       we'll give the region a particular padding */\\n    content.innerText = 'M';\\n    container.style.cssText = 'top: 150px; left: 150px; padding: 0px;';\\n    region.style.cssText = 'width: 50px; height: 50px; padding: 42px;';\\n\\n    region.style[flowFromProperty] = flowName;\\n    container.appendChild(content);\\n    container.appendChild(region);\\n    docElement.appendChild(container);\\n\\n    /* Now compute the bounding client rect, before and after attempting to flow the\\n       content div in the region div. If regions are enabled, the after bounding rect\\n       should reflect the padding of the region div.*/\\n    var flowedRect, delta;\\n    var plainRect = content.getBoundingClientRect();\\n\\n\\n    content.style[flowIntoProperty] = flowName;\\n    flowedRect = content.getBoundingClientRect();\\n\\n    delta = parseInt(flowedRect.left - plainRect.left, 10);\\n    docElement.removeChild(container);\\n\\n    if (delta == 42) {\\n      result = true;\\n    } else {\\n      /* IE only allows for the content to come from iframes. This has the\\n       * side effect of automatic collapsing of iframes once they get the flow-into\\n       * property set. checking for a change on the height allows us to detect this\\n       * in a sync way, without having to wait for a frame to load */\\n\\n      docElement.appendChild(iframeContainer);\\n      plainRect = iframeContainer.getBoundingClientRect();\\n      iframeContainer.style[flowIntoProperty] = flowName;\\n      flowedRect = iframeContainer.getBoundingClientRect();\\n\\n      if (plainRect.height > 0 && plainRect.height !== flowedRect.height && flowedRect.height === 0) {\\n        result = true;\\n      }\\n    }\\n\\n    content = region = container = iframeContainer = undefined;\\n\\n    return result;\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS Font rem Units\\\",\\n  \\\"caniuse\\\": \\\"rem\\\",\\n  \\\"authors\\\": [\\\"nsfmc\\\"],\\n  \\\"property\\\": \\\"cssremunit\\\",\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"builderAliases\\\": [\\\"css_remunit\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"W3C Spec\\\",\\n    \\\"href\\\": \\\"https://www.w3.org/TR/css3-values/#relative0\\\"\\n  },{\\n    \\\"name\\\": \\\"Font Size with rem by Jonathan Snook\\\",\\n    \\\"href\\\": \\\"http://snook.ca/archives/html_and_css/font-size-with-rem\\\"\\n  }]\\n}\\n!*/\\n\\n  // \\\"The 'rem' unit ('root em') is relative to the computed\\n  // value of the 'font-size' value of the root element.\\\"\\n  // you can test by checking if the prop was ditched\\n\\n  Modernizr.addTest('cssremunit', function() {\\n    var style = createElement('a').style;\\n    try {\\n      style.fontSize = '3rem';\\n    }\\n    catch (e) {}\\n    return (/rem/).test(style.fontSize);\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS UI Resize\\\",\\n  \\\"property\\\": \\\"cssresize\\\",\\n  \\\"caniuse\\\": \\\"css-resize\\\",\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"builderAliases\\\": [\\\"css_resize\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"W3C Specification\\\",\\n    \\\"href\\\": \\\"https://www.w3.org/TR/css3-ui/#resize\\\"\\n  },{\\n    \\\"name\\\": \\\"MDN Docs\\\",\\n    \\\"href\\\": \\\"https://developer.mozilla.org/en/CSS/resize\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nTest for CSS 3 UI \\\"resize\\\" property\\n*/\\n\\n  Modernizr.addTest('cssresize', testAllProps('resize', 'both', true));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS rgba\\\",\\n  \\\"caniuse\\\": \\\"css3-colors\\\",\\n  \\\"property\\\": \\\"rgba\\\",\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"CSSTricks Tutorial\\\",\\n    \\\"href\\\": \\\"https://css-tricks.com/rgba-browser-support/\\\"\\n  }]\\n}\\n!*/\\n\\n  Modernizr.addTest('rgba', function() {\\n    var style = createElement('a').style;\\n    style.cssText = 'background-color:rgba(150,255,150,.5)';\\n\\n    return ('' + style.backgroundColor).indexOf('rgba') > -1;\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS Stylable Scrollbars\\\",\\n  \\\"property\\\": \\\"cssscrollbar\\\",\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"builderAliases\\\": [\\\"css_scrollbars\\\"]\\n}\\n!*/\\n\\n  testStyles('#modernizr{overflow: scroll; width: 40px; height: 40px; }#' + prefixes\\n    .join('scrollbar{width:0px}' + ' #modernizr::')\\n    .split('#')\\n    .slice(1)\\n    .join('#') + 'scrollbar{width:0px}',\\n  function(node) {\\n    Modernizr.addTest('cssscrollbar', node.scrollWidth == 40);\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS Shapes\\\",\\n  \\\"property\\\": \\\"shapes\\\",\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"CSS Shapes W3C specification\\\",\\n    \\\"href\\\": \\\"https://www.w3.org/TR/css-shapes\\\"\\n  },{\\n    \\\"name\\\": \\\"Examples from Adobe\\\",\\n    \\\"href\\\": \\\"http://webplatform.adobe.com/shapes/\\\"\\n  }, {\\n    \\\"name\\\": \\\"Samples showcasing uses of Shapes\\\",\\n    \\\"href\\\": \\\"http://codepen.io/collection/qFesk\\\"\\n  }]\\n}\\n!*/\\n\\n  Modernizr.addTest('shapes', testAllProps('shapeOutside', 'content-box', true));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS general sibling selector\\\",\\n  \\\"caniuse\\\": \\\"css-sel3\\\",\\n  \\\"property\\\": \\\"siblinggeneral\\\",\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"Related Github Issue\\\",\\n    \\\"href\\\": \\\"https://github.com/Modernizr/Modernizr/pull/889\\\"\\n  }]\\n}\\n!*/\\n\\n  Modernizr.addTest('siblinggeneral', function() {\\n    return testStyles('#modernizr div {width:100px} #modernizr div ~ div {width:200px;display:block}', function(elem) {\\n      return elem.lastChild.offsetWidth == 200;\\n    }, 2);\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS Subpixel Fonts\\\",\\n  \\\"property\\\": \\\"subpixelfont\\\",\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"builderAliases\\\": [\\\"css_subpixelfont\\\"],\\n  \\\"authors\\\": [\\n    \\\"@derSchepp\\\",\\n    \\\"@gerritvanaaken\\\",\\n    \\\"@rodneyrehm\\\",\\n    \\\"@yatil\\\",\\n    \\\"@ryanseddon\\\"\\n  ],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"Origin Test\\\",\\n    \\\"href\\\": \\\"https://github.com/gerritvanaaken/subpixeldetect\\\"\\n  }]\\n}\\n!*/\\n\\n  /*\\n   * (to infer if GDI or DirectWrite is used on Windows)\\n   */\\n  testStyles(\\n    '#modernizr{position: absolute; top: -10em; visibility:hidden; font: normal 10px arial;}#subpixel{float: left; font-size: 33.3333%;}',\\n  function(elem) {\\n    var subpixel = elem.firstChild;\\n    subpixel.innerHTML = 'This is a text written in Arial';\\n    Modernizr.addTest('subpixelfont', window.getComputedStyle ?\\n      window.getComputedStyle(subpixel, null).getPropertyValue('width') !== '44px'\\n    : false);\\n  }, 1, ['subpixel']);\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS :target pseudo-class\\\",\\n  \\\"caniuse\\\": \\\"css-sel3\\\",\\n  \\\"property\\\": \\\"target\\\",\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"MDN documentation\\\",\\n    \\\"href\\\": \\\"https://developer.mozilla.org/en-US/docs/Web/CSS/:target\\\"\\n  }],\\n  \\\"authors\\\": [\\\"@zachleat\\\"],\\n  \\\"warnings\\\": [\\\"Opera Mini supports :target but doesn't update the hash for anchor links.\\\"]\\n}\\n!*/\\n/* DOC\\nDetects support for the ':target' CSS pseudo-class.\\n*/\\n\\n  // querySelector\\n  Modernizr.addTest('target', function() {\\n    var doc = window.document;\\n    if (!('querySelectorAll' in doc)) {\\n      return false;\\n    }\\n\\n    try {\\n      doc.querySelectorAll(':target');\\n      return true;\\n    } catch (e) {\\n      return false;\\n    }\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS text-align-last\\\",\\n  \\\"property\\\": \\\"textalignlast\\\",\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"knownBugs\\\": [\\\"IE does not support the 'start' or 'end' values.\\\"],\\n  \\\"notes\\\": [{\\n      \\\"name\\\": \\\"Quicksmode\\\",\\n      \\\"href\\\": \\\"http://www.quirksmode.org/css/text/textalignlast.html\\\"\\n    },{\\n      \\\"name\\\": \\\"MDN\\\",\\n      \\\"href\\\": \\\"https://developer.mozilla.org/en-US/docs/Web/CSS/text-align-last\\\"\\n    }]\\n}\\n!*/\\n\\n  Modernizr.addTest('textalignlast', testAllProps('textAlignLast'));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS textshadow\\\",\\n  \\\"property\\\": \\\"textshadow\\\",\\n  \\\"caniuse\\\": \\\"css-textshadow\\\",\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"knownBugs\\\": [\\\"FF3.0 will false positive on this test\\\"]\\n}\\n!*/\\n\\n  Modernizr.addTest('textshadow', testProp('textShadow', '1px 1px'));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS Transforms\\\",\\n  \\\"property\\\": \\\"csstransforms\\\",\\n  \\\"caniuse\\\": \\\"transforms2d\\\",\\n  \\\"tags\\\": [\\\"css\\\"]\\n}\\n!*/\\n\\n  Modernizr.addTest('csstransforms', function() {\\n    // Android < 3.0 is buggy, so we sniff and blacklist\\n    // http://git.io/hHzL7w\\n    return navigator.userAgent.indexOf('Android 2.') === -1 &&\\n           testAllProps('transform', 'scale(1)', true);\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS Transforms 3D\\\",\\n  \\\"property\\\": \\\"csstransforms3d\\\",\\n  \\\"caniuse\\\": \\\"transforms3d\\\",\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"warnings\\\": [\\n    \\\"Chrome may occassionally fail this test on some systems; more info: https://code.google.com/p/chromium/issues/detail?id=129004\\\"\\n  ]\\n}\\n!*/\\n\\n  Modernizr.addTest('csstransforms3d', function() {\\n    var ret = !!testAllProps('perspective', '1px', true);\\n    var usePrefix = Modernizr._config.usePrefixes;\\n\\n    // Webkit's 3D transforms are passed off to the browser's own graphics renderer.\\n    //   It works fine in Safari on Leopard and Snow Leopard, but not in Chrome in\\n    //   some conditions. As a result, Webkit typically recognizes the syntax but\\n    //   will sometimes throw a false positive, thus we must do a more thorough check:\\n    if (ret && (!usePrefix || 'webkitPerspective' in docElement.style)) {\\n      var mq;\\n      var defaultStyle = '#modernizr{width:0;height:0}';\\n      // Use CSS Conditional Rules if available\\n      if (Modernizr.supports) {\\n        mq = '@supports (perspective: 1px)';\\n      } else {\\n        // Otherwise, Webkit allows this media query to succeed only if the feature is enabled.\\n        // `@media (transform-3d),(-webkit-transform-3d){ ... }`\\n        mq = '@media (transform-3d)';\\n        if (usePrefix) {\\n          mq += ',(-webkit-transform-3d)';\\n        }\\n      }\\n\\n      mq += '{#modernizr{width:7px;height:18px;margin:0;padding:0;border:0}}';\\n\\n      testStyles(defaultStyle + mq, function(elem) {\\n        ret = elem.offsetWidth === 7 && elem.offsetHeight === 18;\\n      });\\n    }\\n\\n    return ret;\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS Transform Style preserve-3d\\\",\\n  \\\"property\\\": \\\"preserve3d\\\",\\n  \\\"authors\\\": [\\\"edmellum\\\"],\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"MDN Docs\\\",\\n    \\\"href\\\": \\\"https://developer.mozilla.org/en-US/docs/Web/CSS/transform-style\\\"\\n  },{\\n    \\\"name\\\": \\\"Related Github Issue\\\",\\n    \\\"href\\\": \\\"https://github.com/Modernizr/Modernizr/issues/762\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nDetects support for `transform-style: preserve-3d`, for getting a proper 3D perspective on elements.\\n*/\\n\\n  Modernizr.addTest('preserve3d', testAllProps('transformStyle', 'preserve-3d'));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS user-select\\\",\\n  \\\"property\\\": \\\"userselect\\\",\\n  \\\"caniuse\\\": \\\"user-select-none\\\",\\n  \\\"authors\\\": [\\\"ryan seddon\\\"],\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"builderAliases\\\": [\\\"css_userselect\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"Related Modernizr Issue\\\",\\n    \\\"href\\\": \\\"https://github.com/Modernizr/Modernizr/issues/250\\\"\\n  }]\\n}\\n!*/\\n\\n  //https://github.com/Modernizr/Modernizr/issues/250\\n  Modernizr.addTest('userselect', testAllProps('userSelect', 'none', true));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS :valid pseudo-class\\\",\\n  \\\"property\\\": \\\"cssvalid\\\",\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"MDN documentation\\\",\\n    \\\"href\\\": \\\"https://developer.mozilla.org/en-US/docs/Web/CSS/:valid\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\n  Detects support for the ':valid' CSS pseudo-class.\\n*/\\n\\n  Modernizr.addTest('cssvalid', function() {\\n    return testStyles('#modernizr input{height:0;border:0;padding:0;margin:0;width:10px} #modernizr input:valid{width:50px}', function(elem) {\\n      var input = createElement('input');\\n      elem.appendChild(input);\\n      return input.clientWidth > 10;\\n    });\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS vh unit\\\",\\n  \\\"property\\\": \\\"cssvhunit\\\",\\n  \\\"caniuse\\\": \\\"viewport-units\\\",\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"builderAliases\\\": [\\\"css_vhunit\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"Related Modernizr Issue\\\",\\n    \\\"href\\\": \\\"https://github.com/Modernizr/Modernizr/issues/572\\\"\\n  },{\\n    \\\"name\\\": \\\"Similar JSFiddle\\\",\\n    \\\"href\\\": \\\"https://jsfiddle.net/FWeinb/etnYC/\\\"\\n  }]\\n}\\n!*/\\n\\n  testStyles('#modernizr { height: 50vh; }', function(elem) {\\n    var height = parseInt(window.innerHeight / 2, 10);\\n    var compStyle = parseInt((window.getComputedStyle ?\\n                              getComputedStyle(elem, null) :\\n                              elem.currentStyle).height, 10);\\n    Modernizr.addTest('cssvhunit', compStyle == height);\\n  });\\n\\n\\n  /**\\n   * roundedEquals takes two integers and checks if the first is within 1 of the second\\n   *\\n   * @access private\\n   * @function roundedEquals\\n   * @param {number} a\\n   * @param {number} b\\n   * @returns {boolean}\\n   */\\n\\n  function roundedEquals(a, b) {\\n    return a - 1 === b || a === b || a + 1 === b;\\n  }\\n\\n  ;\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS vmax unit\\\",\\n  \\\"property\\\": \\\"cssvmaxunit\\\",\\n  \\\"caniuse\\\": \\\"viewport-units\\\",\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"builderAliases\\\": [\\\"css_vmaxunit\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"Related Modernizr Issue\\\",\\n    \\\"href\\\": \\\"https://github.com/Modernizr/Modernizr/issues/572\\\"\\n  },{\\n    \\\"name\\\": \\\"JSFiddle Example\\\",\\n    \\\"href\\\": \\\"https://jsfiddle.net/glsee/JDsWQ/4/\\\"\\n  }]\\n}\\n!*/\\n\\n  testStyles('#modernizr1{width: 50vmax}#modernizr2{width:50px;height:50px;overflow:scroll}#modernizr3{position:fixed;top:0;left:0;bottom:0;right:0}', function(node) {\\n    var elem = node.childNodes[2];\\n    var scroller = node.childNodes[1];\\n    var fullSizeElem = node.childNodes[0];\\n    var scrollbarWidth = parseInt((scroller.offsetWidth - scroller.clientWidth) / 2, 10);\\n\\n    var one_vw = fullSizeElem.clientWidth / 100;\\n    var one_vh = fullSizeElem.clientHeight / 100;\\n    var expectedWidth = parseInt(Math.max(one_vw, one_vh) * 50, 10);\\n    var compWidth = parseInt((window.getComputedStyle ?\\n                          getComputedStyle(elem, null) :\\n                          elem.currentStyle).width, 10);\\n\\n    Modernizr.addTest('cssvmaxunit', roundedEquals(expectedWidth, compWidth) || roundedEquals(expectedWidth, compWidth - scrollbarWidth));\\n  }, 3);\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS vmin unit\\\",\\n  \\\"property\\\": \\\"cssvminunit\\\",\\n  \\\"caniuse\\\": \\\"viewport-units\\\",\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"builderAliases\\\": [\\\"css_vminunit\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"Related Modernizr Issue\\\",\\n    \\\"href\\\": \\\"https://github.com/Modernizr/Modernizr/issues/572\\\"\\n  },{\\n    \\\"name\\\": \\\"JSFiddle Example\\\",\\n    \\\"href\\\": \\\"https://jsfiddle.net/glsee/JRmdq/8/\\\"\\n  }]\\n}\\n!*/\\n\\n  testStyles('#modernizr1{width: 50vm;width:50vmin}#modernizr2{width:50px;height:50px;overflow:scroll}#modernizr3{position:fixed;top:0;left:0;bottom:0;right:0}', function(node) {\\n    var elem = node.childNodes[2];\\n    var scroller = node.childNodes[1];\\n    var fullSizeElem = node.childNodes[0];\\n    var scrollbarWidth = parseInt((scroller.offsetWidth - scroller.clientWidth) / 2, 10);\\n\\n    var one_vw = fullSizeElem.clientWidth / 100;\\n    var one_vh = fullSizeElem.clientHeight / 100;\\n    var expectedWidth = parseInt(Math.min(one_vw, one_vh) * 50, 10);\\n    var compWidth = parseInt((window.getComputedStyle ?\\n                          getComputedStyle(elem, null) :\\n                          elem.currentStyle).width, 10);\\n\\n    Modernizr.addTest('cssvminunit', roundedEquals(expectedWidth, compWidth) || roundedEquals(expectedWidth, compWidth - scrollbarWidth));\\n  }, 3);\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS vw unit\\\",\\n  \\\"property\\\": \\\"cssvwunit\\\",\\n  \\\"caniuse\\\": \\\"viewport-units\\\",\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"builderAliases\\\": [\\\"css_vwunit\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"Related Modernizr Issue\\\",\\n    \\\"href\\\": \\\"https://github.com/Modernizr/Modernizr/issues/572\\\"\\n  },{\\n    \\\"name\\\": \\\"JSFiddle Example\\\",\\n    \\\"href\\\": \\\"https://jsfiddle.net/FWeinb/etnYC/\\\"\\n  }]\\n}\\n!*/\\n\\n  testStyles('#modernizr { width: 50vw; }', function(elem) {\\n    var width = parseInt(window.innerWidth / 2, 10);\\n    var compStyle = parseInt((window.getComputedStyle ?\\n                              getComputedStyle(elem, null) :\\n                              elem.currentStyle).width, 10);\\n\\n    Modernizr.addTest('cssvwunit', compStyle == width);\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"will-change\\\",\\n  \\\"property\\\": \\\"willchange\\\",\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"Spec\\\",\\n    \\\"href\\\": \\\"https://drafts.csswg.org/css-will-change/\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nDetects support for the `will-change` css property, which formally signals to the\\nbrowser that an element will be animating.\\n*/\\n\\n  Modernizr.addTest('willchange', 'willChange' in docElement.style);\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CSS wrap-flow\\\",\\n  \\\"property\\\": \\\"wrapflow\\\",\\n  \\\"tags\\\": [\\\"css\\\"],\\n  \\\"notes\\\": [\\n    {\\n      \\\"name\\\": \\\"W3C Exclusions spec\\\",\\n      \\\"href\\\": \\\"https://www.w3.org/TR/css3-exclusions\\\"\\n    },\\n    {\\n      \\\"name\\\": \\\"Example by Adobe\\\",\\n      \\\"href\\\": \\\"http://html.adobe.com/webstandards/cssexclusions\\\"\\n    }\\n  ]\\n}\\n!*/\\n\\n  Modernizr.addTest('wrapflow', function() {\\n    var prefixedProperty = prefixed('wrapFlow');\\n    if (!prefixedProperty || isSVG) {\\n      return false;\\n    }\\n\\n    var wrapFlowProperty = prefixedProperty.replace(/([A-Z])/g, function(str, m1) { return '-' + m1.toLowerCase(); }).replace(/^ms-/, '-ms-');\\n\\n    /* If the CSS parsing is there we need to determine if wrap-flow actually works to avoid false positive cases, e.g. the browser parses\\n       the property, but it hasn't got the implementation for the functionality yet. */\\n    var container = createElement('div');\\n    var exclusion = createElement('div');\\n    var content = createElement('span');\\n\\n    /* First we create a div with two adjacent divs inside it. The first div will be the content, the second div will be the exclusion area.\\n       We use the \\\"wrap-flow: end\\\" property to test the actual behavior. (http://dev.w3.org/csswg/css3-exclusions/#wrap-flow-property)\\n       The wrap-flow property is applied to the exclusion area what has a 50px left offset and a 100px width.\\n       If the wrap-flow property is working correctly then the content should start after the exclusion area, so the content's left offset should be 150px. */\\n    exclusion.style.cssText = 'position: absolute; left: 50px; width: 100px; height: 20px;' + wrapFlowProperty + ':end;';\\n    content.innerText = 'X';\\n\\n    container.appendChild(exclusion);\\n    container.appendChild(content);\\n    docElement.appendChild(container);\\n\\n    var leftOffset = content.offsetLeft;\\n\\n    docElement.removeChild(container);\\n    exclusion = content = container = undefined;\\n\\n    return (leftOffset == 150);\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Custom protocol handler\\\",\\n  \\\"property\\\": \\\"customprotocolhandler\\\",\\n  \\\"authors\\\": [\\\"Ben Schwarz\\\"],\\n  \\\"builderAliases\\\": [\\\"custom_protocol_handler\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"WHATWG overview\\\",\\n    \\\"href\\\": \\\"https://developers.whatwg.org/timers.html#custom-handlers\\\"\\n  },{\\n    \\\"name\\\": \\\"MDN documentation\\\",\\n    \\\"href\\\": \\\"https://developer.mozilla.org/en-US/docs/Web/API/navigator.registerProtocolHandler\\\"\\n  }],\\n  \\\"warnings\\\": [],\\n  \\\"polyfills\\\": []\\n}\\n!*/\\n/* DOC\\nDetects support for the `window.registerProtocolHandler()` API to allow websites to register themselves as possible handlers for particular protocols.\\n*/\\n\\n  Modernizr.addTest('customprotocolhandler', function() {\\n    // early bailout where it doesn't exist at all\\n    if (!navigator.registerProtocolHandler) {\\n      return false;\\n    }\\n\\n    // registerProtocolHandler was stubbed in webkit for a while, and didn't\\n    // actually do anything. We intentionally set it improperly to test for\\n    // the proper sort of failure\\n    try {\\n      navigator.registerProtocolHandler('thisShouldFail');\\n    }\\n    catch (e) {\\n      return e instanceof TypeError;\\n    }\\n\\n    return false;\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"CustomEvent\\\",\\n  \\\"property\\\": \\\"customevent\\\",\\n  \\\"tags\\\": [\\\"customevent\\\"],\\n  \\\"authors\\\": [\\\"Alberto Elias\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"W3C DOM reference\\\",\\n    \\\"href\\\": \\\"https://www.w3.org/TR/DOM-Level-3-Events/#interface-CustomEvent\\\"\\n  }, {\\n    \\\"name\\\": \\\"MDN documentation\\\",\\n    \\\"href\\\": \\\"https://developer.mozilla.org/en/docs/Web/API/CustomEvent\\\"\\n  }],\\n  \\\"polyfills\\\": [\\\"eventlistener\\\"]\\n}\\n!*/\\n/* DOC\\n\\nDetects support for CustomEvent.\\n\\n*/\\n\\n  Modernizr.addTest('customevent', 'CustomEvent' in window && typeof window.CustomEvent === 'function');\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Dart\\\",\\n  \\\"property\\\": \\\"dart\\\",\\n  \\\"authors\\\": [\\\"Theodoor van Donge\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"Language website\\\",\\n    \\\"href\\\": \\\"https://www.dartlang.org/\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nDetects native support for the Dart programming language.\\n*/\\n\\n  Modernizr.addTest('dart', !!prefixed('startDart', navigator));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"DataView\\\",\\n  \\\"property\\\": \\\"dataview\\\",\\n  \\\"authors\\\": [\\\"Addy Osmani\\\"],\\n  \\\"builderAliases\\\": [\\\"dataview_api\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"MDN documentation\\\",\\n    \\\"href\\\": \\\"https://developer.mozilla.org/en/JavaScript_typed_arrays/DataView\\\"\\n  }],\\n  \\\"polyfills\\\": [\\\"jdataview\\\"]\\n}\\n!*/\\n/* DOC\\nDetects support for the DataView interface for reading data from an ArrayBuffer as part of the Typed Array spec.\\n*/\\n\\n  Modernizr.addTest('dataview', (typeof DataView !== 'undefined' && 'getFloat64' in DataView.prototype));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"classList\\\",\\n  \\\"caniuse\\\": \\\"classlist\\\",\\n  \\\"property\\\": \\\"classlist\\\",\\n  \\\"tags\\\": [\\\"dom\\\"],\\n  \\\"builderAliases\\\": [\\\"dataview_api\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"MDN Docs\\\",\\n    \\\"href\\\": \\\"https://developer.mozilla.org/en/DOM/element.classList\\\"\\n  }]\\n}\\n!*/\\n\\n  Modernizr.addTest('classlist', 'classList' in docElement);\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"createElement with Attributes\\\",\\n  \\\"property\\\": [\\\"createelementattrs\\\", \\\"createelement-attrs\\\"],\\n  \\\"tags\\\": [\\\"dom\\\"],\\n  \\\"builderAliases\\\": [\\\"dom_createElement_attrs\\\"],\\n  \\\"authors\\\": [\\\"James A. Rosen\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"Related Github Issue\\\",\\n    \\\"href\\\": \\\"https://github.com/Modernizr/Modernizr/issues/258\\\"\\n  }]\\n}\\n!*/\\n\\n  Modernizr.addTest('createelementattrs', function() {\\n    try {\\n      return createElement('<input name=\\\"test\\\" />').getAttribute('name') == 'test';\\n    } catch (e) {\\n      return false;\\n    }\\n  }, {\\n    aliases: ['createelement-attrs']\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"dataset API\\\",\\n  \\\"caniuse\\\": \\\"dataset\\\",\\n  \\\"property\\\": \\\"dataset\\\",\\n  \\\"tags\\\": [\\\"dom\\\"],\\n  \\\"builderAliases\\\": [\\\"dom_dataset\\\"],\\n  \\\"authors\\\": [\\\"@phiggins42\\\"]\\n}\\n!*/\\n\\n  // dataset API for data-* attributes\\n  Modernizr.addTest('dataset', function() {\\n    var n = createElement('div');\\n    n.setAttribute('data-a-b', 'c');\\n    return !!(n.dataset && n.dataset.aB === 'c');\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Document Fragment\\\",\\n  \\\"property\\\": \\\"documentfragment\\\",\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"W3C DOM Level 1 Reference\\\",\\n    \\\"href\\\": \\\"https://www.w3.org/TR/REC-DOM-Level-1/level-one-core.html#ID-B63ED1A3\\\"\\n  }, {\\n    \\\"name\\\": \\\"SitePoint Reference\\\",\\n    \\\"href\\\": \\\"http://reference.sitepoint.com/javascript/DocumentFragment\\\"\\n  }, {\\n    \\\"name\\\": \\\"QuirksMode Compatibility Tables\\\",\\n    \\\"href\\\": \\\"http://www.quirksmode.org/m/w3c_core.html#t112\\\"\\n  }],\\n  \\\"authors\\\": [\\\"Ron Waldon (@jokeyrhyme)\\\"],\\n  \\\"knownBugs\\\": [\\\"false-positive on Blackberry 9500, see QuirksMode note\\\"],\\n  \\\"tags\\\": []\\n}\\n!*/\\n/* DOC\\nAppend multiple elements to the DOM within a single insertion.\\n*/\\n\\n  Modernizr.addTest('documentfragment', function() {\\n    return 'createDocumentFragment' in document &&\\n      'appendChild' in docElement;\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"[hidden] Attribute\\\",\\n  \\\"property\\\": \\\"hidden\\\",\\n  \\\"tags\\\": [\\\"dom\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"WHATWG: The hidden attribute\\\",\\n    \\\"href\\\": \\\"https://developers.whatwg.org/editing.html#the-hidden-attribute\\\"\\n  }, {\\n    \\\"name\\\": \\\"original implementation of detect code\\\",\\n    \\\"href\\\": \\\"https://github.com/aFarkas/html5shiv/blob/bf4fcc4/src/html5shiv.js#L38\\\"\\n  }],\\n  \\\"polyfills\\\": [\\\"html5shiv\\\"],\\n  \\\"authors\\\": [\\\"Ron Waldon (@jokeyrhyme)\\\"]\\n}\\n!*/\\n/* DOC\\nDoes the browser support the HTML5 [hidden] attribute?\\n*/\\n\\n  Modernizr.addTest('hidden', 'hidden' in createElement('a'));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"microdata\\\",\\n  \\\"property\\\": \\\"microdata\\\",\\n  \\\"tags\\\": [\\\"dom\\\"],\\n  \\\"builderAliases\\\": [\\\"dom_microdata\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"W3 Spec\\\",\\n    \\\"href\\\": \\\"https://www.w3.org/TR/microdata/\\\"\\n  }]\\n}\\n!*/\\n\\n  Modernizr.addTest('microdata', 'getItems' in document);\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"DOM4 MutationObserver\\\",\\n  \\\"property\\\": \\\"mutationobserver\\\",\\n  \\\"caniuse\\\": \\\"mutationobserver\\\",\\n  \\\"tags\\\": [\\\"dom\\\"],\\n  \\\"authors\\\": [\\\"Karel Sedláček (@ksdlck)\\\"],\\n  \\\"polyfills\\\": [\\\"mutationobservers\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"MDN documentation\\\",\\n    \\\"href\\\": \\\"https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\n\\nDetermines if DOM4 MutationObserver support is available.\\n\\n*/\\n\\n  Modernizr.addTest('mutationobserver',\\n    !!window.MutationObserver || !!window.WebKitMutationObserver);\\n\\n\\n  /**\\n   * since we have a fairly large number of input tests that don't mutate the input\\n   * we create a single element that can be shared with all of those tests for a\\n   * minor perf boost\\n   *\\n   * @access private\\n   * @returns {HTMLInputElement}\\n   */\\n  var inputElem = createElement('input');\\n  \\n/*!\\n{\\n  \\\"name\\\": \\\"Input attributes\\\",\\n  \\\"property\\\": \\\"input\\\",\\n  \\\"tags\\\": [\\\"forms\\\"],\\n  \\\"authors\\\": [\\\"Mike Taylor\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"WHATWG spec\\\",\\n    \\\"href\\\": \\\"https://html.spec.whatwg.org/multipage/forms.html#input-type-attr-summary\\\"\\n  }],\\n  \\\"knownBugs\\\": [\\\"Some blackberry devices report false positive for input.multiple\\\"]\\n}\\n!*/\\n/* DOC\\nDetects support for HTML5 `<input>` element attributes and exposes Boolean subproperties with the results:\\n\\n```javascript\\nModernizr.input.autocomplete\\nModernizr.input.autofocus\\nModernizr.input.list\\nModernizr.input.max\\nModernizr.input.min\\nModernizr.input.multiple\\nModernizr.input.pattern\\nModernizr.input.placeholder\\nModernizr.input.required\\nModernizr.input.step\\n```\\n*/\\n\\n  // Run through HTML5's new input attributes to see if the UA understands any.\\n  // Mike Taylr has created a comprehensive resource for testing these attributes\\n  //   when applied to all input types:\\n  //   miketaylr.com/code/input-type-attr.html\\n\\n  // Only input placeholder is tested while textarea's placeholder is not.\\n  // Currently Safari 4 and Opera 11 have support only for the input placeholder\\n  // Both tests are available in feature-detects/forms-placeholder.js\\n\\n  var inputattrs = 'autocomplete autofocus list placeholder max min multiple pattern required step'.split(' ');\\n  var attrs = {};\\n\\n  Modernizr.input = (function(props) {\\n    for (var i = 0, len = props.length; i < len; i++) {\\n      attrs[ props[i] ] = !!(props[i] in inputElem);\\n    }\\n    if (attrs.list) {\\n      // safari false positive's on datalist: webk.it/74252\\n      // see also github.com/Modernizr/Modernizr/issues/146\\n      attrs.list = !!(createElement('datalist') && window.HTMLDataListElement);\\n    }\\n    return attrs;\\n  })(inputattrs);\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"datalist Element\\\",\\n  \\\"caniuse\\\": \\\"datalist\\\",\\n  \\\"property\\\": \\\"datalistelem\\\",\\n  \\\"tags\\\": [\\\"elem\\\"],\\n  \\\"builderAliases\\\": [\\\"elem_datalist\\\"],\\n  \\\"warnings\\\": [\\\"This test is a dupe of Modernizr.input.list. Only around for legacy reasons.\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"CSS Tricks Article\\\",\\n    \\\"href\\\": \\\"https://css-tricks.com/15346-relevant-dropdowns-polyfill-for-datalist/\\\"\\n  },{\\n    \\\"name\\\": \\\"Mike Taylor Code\\\",\\n    \\\"href\\\": \\\"https://miketaylr.com/code/datalist.html\\\"\\n  }]\\n}\\n!*/\\n\\n  // lol. we already have a test for datalist built in! silly you.\\n  // Leaving it around in case anyone's using it\\n\\n  Modernizr.addTest('datalistelem', Modernizr.input.list);\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"details Element\\\",\\n  \\\"caniuse\\\": \\\"details\\\",\\n  \\\"property\\\": \\\"details\\\",\\n  \\\"tags\\\": [\\\"elem\\\"],\\n  \\\"builderAliases\\\": [\\\"elem_details\\\"],\\n  \\\"authors\\\": [\\\"@mathias\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"Mathias' Original\\\",\\n    \\\"href\\\": \\\"https://mathiasbynens.be/notes/html5-details-jquery#comment-35\\\"\\n  }]\\n}\\n!*/\\n\\n  Modernizr.addTest('details', function() {\\n    var el = createElement('details');\\n    var diff;\\n\\n    // return early if possible; thanks @aFarkas!\\n    if (!('open' in el)) {\\n      return false;\\n    }\\n\\n    testStyles('#modernizr details{display:block}', function(node) {\\n      node.appendChild(el);\\n      el.innerHTML = '<summary>a</summary>b';\\n      diff = el.offsetHeight;\\n      el.open = true;\\n      diff = diff != el.offsetHeight;\\n    });\\n\\n\\n    return diff;\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"output Element\\\",\\n  \\\"property\\\": \\\"outputelem\\\",\\n  \\\"tags\\\": [\\\"elem\\\"],\\n  \\\"builderAliases\\\": [\\\"elem_output\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"WhatWG Spec\\\",\\n    \\\"href\\\": \\\"https://html.spec.whatwg.org/multipage/forms.html#the-output-element\\\"\\n  }]\\n}\\n!*/\\n\\n  Modernizr.addTest('outputelem', 'value' in createElement('output'));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"picture Element\\\",\\n  \\\"property\\\": \\\"picture\\\",\\n  \\\"tags\\\": [\\\"elem\\\"],\\n  \\\"authors\\\": [\\\"Scott Jehl\\\", \\\"Mat Marquis\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"Specification\\\",\\n    \\\"href\\\": \\\"http://picture.responsiveimages.org\\\"\\n  },{\\n    \\\"name\\\": \\\"Relevant spec issue\\\",\\n    \\\"href\\\": \\\"https://github.com/ResponsiveImagesCG/picture-element/issues/87\\\"\\n  }]\\n}\\n!*/\\n\\n  Modernizr.addTest('picture', 'HTMLPictureElement' in window);\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"progress Element\\\",\\n  \\\"caniuse\\\": \\\"progress\\\",\\n  \\\"property\\\": [\\\"progressbar\\\", \\\"meter\\\"],\\n  \\\"tags\\\": [\\\"elem\\\"],\\n  \\\"builderAliases\\\": [\\\"elem_progress_meter\\\"],\\n  \\\"authors\\\": [\\\"Stefan Wallin\\\"]\\n}\\n!*/\\n\\n  // Tests for progressbar-support. All browsers that don't support progressbar returns undefined =)\\n  Modernizr.addTest('progressbar', createElement('progress').max !== undefined);\\n\\n  // Tests for meter-support. All browsers that don't support meters returns undefined =)\\n  Modernizr.addTest('meter', createElement('meter').max !== undefined);\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"ruby, rp, rt Elements\\\",\\n  \\\"caniuse\\\": \\\"ruby\\\",\\n  \\\"property\\\": \\\"ruby\\\",\\n  \\\"tags\\\": [\\\"elem\\\"],\\n  \\\"builderAliases\\\": [\\\"elem_ruby\\\"],\\n  \\\"authors\\\": [\\\"Cătălin Mariș\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"WHATWG Specification\\\",\\n    \\\"href\\\": \\\"https://html.spec.whatwg.org/multipage/semantics.html#the-ruby-element\\\"\\n  }]\\n}\\n!*/\\n\\n  Modernizr.addTest('ruby', function() {\\n\\n    var ruby = createElement('ruby');\\n    var rt = createElement('rt');\\n    var rp = createElement('rp');\\n    var displayStyleProperty = 'display';\\n    // 'fontSize' - because it`s only used for IE6 and IE7\\n    var fontSizeStyleProperty = 'fontSize';\\n\\n    ruby.appendChild(rp);\\n    ruby.appendChild(rt);\\n    docElement.appendChild(ruby);\\n\\n    // browsers that support <ruby> hide the <rp> via \\\"display:none\\\"\\n    if (getStyle(rp, displayStyleProperty) == 'none' ||                                                        // for non-IE browsers\\n         // but in IE browsers <rp> has \\\"display:inline\\\" so, the test needs other conditions:\\n         getStyle(ruby, displayStyleProperty) == 'ruby' && getStyle(rt, displayStyleProperty) == 'ruby-text' || // for IE8+\\n         getStyle(rp, fontSizeStyleProperty) == '6pt' && getStyle(rt, fontSizeStyleProperty) == '6pt') {       // for IE6 & IE7\\n\\n      cleanUp();\\n      return true;\\n\\n    } else {\\n      cleanUp();\\n      return false;\\n    }\\n\\n    function getStyle(element, styleProperty) {\\n      var result;\\n\\n      if (window.getComputedStyle) {     // for non-IE browsers\\n        result = document.defaultView.getComputedStyle(element, null).getPropertyValue(styleProperty);\\n      } else if (element.currentStyle) { // for IE\\n        result = element.currentStyle[styleProperty];\\n      }\\n\\n      return result;\\n    }\\n\\n    function cleanUp() {\\n      docElement.removeChild(ruby);\\n      // the removed child node still exists in memory, so ...\\n      ruby = null;\\n      rt = null;\\n      rp = null;\\n    }\\n\\n  });\\n\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Template Tag\\\",\\n  \\\"property\\\": \\\"template\\\",\\n  \\\"tags\\\": [\\\"elem\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"HTML5Rocks Article\\\",\\n    \\\"href\\\": \\\"http://www.html5rocks.com/en/tutorials/webcomponents/template/\\\"\\n  },{\\n    \\\"name\\\": \\\"W3 Spec\\\",\\n    \\\"href\\\": \\\"https://dvcs.w3.org/hg/webcomponents/raw-file/tip/spec/templates/index.html\\\"\\n  }]\\n}\\n!*/\\n\\n  Modernizr.addTest('template', 'content' in createElement('template'));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"time Element\\\",\\n  \\\"property\\\": \\\"time\\\",\\n  \\\"tags\\\": [\\\"elem\\\"],\\n  \\\"builderAliases\\\": [\\\"elem_time\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"WhatWG Spec\\\",\\n    \\\"href\\\": \\\"https://html.spec.whatwg.org/multipage/semantics.html#the-time-element\\\"\\n  }]\\n}\\n!*/\\n\\n  Modernizr.addTest('time', 'valueAsDate' in createElement('time'));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Track element and Timed Text Track\\\",\\n  \\\"property\\\": [\\\"texttrackapi\\\", \\\"track\\\"],\\n  \\\"tags\\\": [\\\"elem\\\"],\\n  \\\"builderAliases\\\": [\\\"elem_track\\\"],\\n  \\\"authors\\\": [\\\"Addy Osmani\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"W3 track Element Spec\\\",\\n    \\\"href\\\": \\\"http://www.w3.org/TR/html5/video.html#the-track-element\\\"\\n  },{\\n    \\\"name\\\": \\\"W3 track API Spec\\\",\\n    \\\"href\\\": \\\"http://www.w3.org/TR/html5/media-elements.html#text-track-api\\\"\\n  }],\\n  \\\"warnings\\\": [\\\"While IE10 has implemented the track element, IE10 does not expose the underlying APIs to create timed text tracks by JS (really sad)\\\"]\\n}\\n!*/\\n\\n  Modernizr.addTest('texttrackapi', typeof (createElement('video').addTextTrack) === 'function');\\n\\n  // a more strict test for track including UI support: document.createElement('track').kind === 'subtitles'\\n  Modernizr.addTest('track', 'kind' in createElement('track'));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Unknown Elements\\\",\\n  \\\"property\\\": \\\"unknownelements\\\",\\n  \\\"tags\\\": [\\\"elem\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"The Story of the HTML5 Shiv\\\",\\n    \\\"href\\\": \\\"https://www.paulirish.com/2011/the-history-of-the-html5-shiv/\\\"\\n  }, {\\n    \\\"name\\\": \\\"original implementation of detect code\\\",\\n    \\\"href\\\": \\\"https://github.com/aFarkas/html5shiv/blob/bf4fcc4/src/html5shiv.js#L36\\\"\\n  }],\\n  \\\"polyfills\\\": [\\\"html5shiv\\\"],\\n  \\\"authors\\\": [\\\"Ron Waldon (@jokeyrhyme)\\\"]\\n}\\n!*/\\n/* DOC\\nDoes the browser support HTML with non-standard / new elements?\\n*/\\n\\n  Modernizr.addTest('unknownelements', function() {\\n    var a = createElement('a');\\n    a.innerHTML = '<xyz></xyz>';\\n    return a.childNodes.length === 1;\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Emoji\\\",\\n  \\\"property\\\": \\\"emoji\\\"\\n}\\n!*/\\n/* DOC\\nDetects support for emoji character sets.\\n*/\\n\\n  Modernizr.addTest('emoji', function() {\\n    if (!Modernizr.canvastext) {\\n      return false;\\n    }\\n    var pixelRatio = window.devicePixelRatio || 1;\\n    var offset = 12 * pixelRatio;\\n    var node = createElement('canvas');\\n    var ctx = node.getContext('2d');\\n    ctx.fillStyle = '#f00';\\n    ctx.textBaseline = 'top';\\n    ctx.font = '32px Arial';\\n    ctx.fillText('\\\\ud83d\\\\udc28', 0, 0); // U+1F428 KOALA\\n    return ctx.getImageData(offset, offset, 1, 1).data[0] !== 0;\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"ES5 Array\\\",\\n  \\\"property\\\": \\\"es5array\\\",\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"ECMAScript 5.1 Language Specification\\\",\\n    \\\"href\\\": \\\"http://www.ecma-international.org/ecma-262/5.1/\\\"\\n  }],\\n  \\\"polyfills\\\": [\\\"es5shim\\\"],\\n  \\\"authors\\\": [\\\"Ron Waldon (@jokeyrhyme)\\\"],\\n  \\\"tags\\\": [\\\"es5\\\"]\\n}\\n!*/\\n/* DOC\\nCheck if browser implements ECMAScript 5 Array per specification.\\n*/\\n\\n  Modernizr.addTest('es5array', function() {\\n    return !!(Array.prototype &&\\n      Array.prototype.every &&\\n      Array.prototype.filter &&\\n      Array.prototype.forEach &&\\n      Array.prototype.indexOf &&\\n      Array.prototype.lastIndexOf &&\\n      Array.prototype.map &&\\n      Array.prototype.some &&\\n      Array.prototype.reduce &&\\n      Array.prototype.reduceRight &&\\n      Array.isArray);\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"ES5 Date\\\",\\n  \\\"property\\\": \\\"es5date\\\",\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"ECMAScript 5.1 Language Specification\\\",\\n    \\\"href\\\": \\\"http://www.ecma-international.org/ecma-262/5.1/\\\"\\n  }],\\n  \\\"polyfills\\\": [\\\"es5shim\\\"],\\n  \\\"authors\\\": [\\\"Ron Waldon (@jokeyrhyme)\\\"],\\n  \\\"tags\\\": [\\\"es5\\\"]\\n}\\n!*/\\n/* DOC\\nCheck if browser implements ECMAScript 5 Date per specification.\\n*/\\n\\n  Modernizr.addTest('es5date', function() {\\n    var isoDate = '2013-04-12T06:06:37.307Z',\\n      canParseISODate = false;\\n    try {\\n      canParseISODate = !!Date.parse(isoDate);\\n    } catch (e) {\\n      // no ISO date parsing yet\\n    }\\n    return !!(Date.now &&\\n      Date.prototype &&\\n      Date.prototype.toISOString &&\\n      Date.prototype.toJSON &&\\n      canParseISODate);\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"ES5 Function\\\",\\n  \\\"property\\\": \\\"es5function\\\",\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"ECMAScript 5.1 Language Specification\\\",\\n    \\\"href\\\": \\\"http://www.ecma-international.org/ecma-262/5.1/\\\"\\n  }],\\n  \\\"polyfills\\\": [\\\"es5shim\\\"],\\n  \\\"authors\\\": [\\\"Ron Waldon (@jokeyrhyme)\\\"],\\n  \\\"tags\\\": [\\\"es5\\\"]\\n}\\n!*/\\n/* DOC\\nCheck if browser implements ECMAScript 5 Function per specification.\\n*/\\n\\n  Modernizr.addTest('es5function', function() {\\n    return !!(Function.prototype && Function.prototype.bind);\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"ES5 Object\\\",\\n  \\\"property\\\": \\\"es5object\\\",\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"ECMAScript 5.1 Language Specification\\\",\\n    \\\"href\\\": \\\"http://www.ecma-international.org/ecma-262/5.1/\\\"\\n  }],\\n  \\\"polyfills\\\": [\\\"es5shim\\\", \\\"es5sham\\\"],\\n  \\\"authors\\\": [\\\"Ron Waldon (@jokeyrhyme)\\\"],\\n  \\\"tags\\\": [\\\"es5\\\"]\\n}\\n!*/\\n/* DOC\\nCheck if browser implements ECMAScript 5 Object per specification.\\n*/\\n\\n  Modernizr.addTest('es5object', function() {\\n    return !!(Object.keys &&\\n      Object.create &&\\n      Object.getPrototypeOf &&\\n      Object.getOwnPropertyNames &&\\n      Object.isSealed &&\\n      Object.isFrozen &&\\n      Object.isExtensible &&\\n      Object.getOwnPropertyDescriptor &&\\n      Object.defineProperty &&\\n      Object.defineProperties &&\\n      Object.seal &&\\n      Object.freeze &&\\n      Object.preventExtensions);\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"ES5 Strict Mode\\\",\\n  \\\"property\\\": \\\"strictmode\\\",\\n  \\\"caniuse\\\": \\\"sctrict-mode\\\",\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"ECMAScript 5.1 Language Specification\\\",\\n    \\\"href\\\": \\\"http://www.ecma-international.org/ecma-262/5.1/\\\"\\n  }],\\n  \\\"authors\\\": [\\\"@kangax\\\"],\\n  \\\"tags\\\": [\\\"es5\\\"],\\n  \\\"builderAliases\\\": [\\\"es5_strictmode\\\"]\\n}\\n!*/\\n/* DOC\\nCheck if browser implements ECMAScript 5 Object strict mode.\\n*/\\n\\n  Modernizr.addTest('strictmode', (function() {'use strict'; return !this; })());\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"ES5 String\\\",\\n  \\\"property\\\": \\\"es5string\\\",\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"ECMAScript 5.1 Language Specification\\\",\\n    \\\"href\\\": \\\"http://www.ecma-international.org/ecma-262/5.1/\\\"\\n  }],\\n  \\\"polyfills\\\": [\\\"es5shim\\\"],\\n  \\\"authors\\\": [\\\"Ron Waldon (@jokeyrhyme)\\\"],\\n  \\\"tags\\\": [\\\"es5\\\"]\\n}\\n!*/\\n/* DOC\\nCheck if browser implements ECMAScript 5 String per specification.\\n*/\\n\\n  Modernizr.addTest('es5string', function() {\\n    return !!(String.prototype && String.prototype.trim);\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"JSON\\\",\\n  \\\"property\\\": \\\"json\\\",\\n  \\\"caniuse\\\": \\\"json\\\",\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"MDN documentation\\\",\\n    \\\"href\\\": \\\"https://developer.mozilla.org/en-US/docs/Glossary/JSON\\\"\\n  }],\\n  \\\"polyfills\\\": [\\\"json2\\\"]\\n}\\n!*/\\n/* DOC\\nDetects native support for JSON handling functions.\\n*/\\n\\n  // this will also succeed if you've loaded the JSON2.js polyfill ahead of time\\n  //   ... but that should be obvious. :)\\n\\n  Modernizr.addTest('json', 'JSON' in window && 'parse' in JSON && 'stringify' in JSON);\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"ES5 Syntax\\\",\\n  \\\"property\\\": \\\"es5syntax\\\",\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"ECMAScript 5.1 Language Specification\\\",\\n    \\\"href\\\": \\\"http://www.ecma-international.org/ecma-262/5.1/\\\"\\n  }, {\\n    \\\"name\\\": \\\"original implementation of detect code\\\",\\n    \\\"href\\\": \\\"http://kangax.github.io/es5-compat-table/\\\"\\n  }],\\n  \\\"authors\\\": [\\\"Ron Waldon (@jokeyrhyme)\\\"],\\n  \\\"warnings\\\": [\\\"This detect uses `eval()`, so CSP may be a problem.\\\"],\\n  \\\"tags\\\": [\\\"es5\\\"]\\n}\\n!*/\\n/* DOC\\nCheck if browser accepts ECMAScript 5 syntax.\\n*/\\n\\n  Modernizr.addTest('es5syntax', function() {\\n    var value, obj, stringAccess, getter, setter, reservedWords, zeroWidthChars;\\n    try {\\n      // Property access on strings\\n      stringAccess = eval('\\\"foobar\\\"[3] === \\\"b\\\"');\\n      // Getter in property initializer\\n      getter = eval('({ get x(){ return 1 } }).x === 1');\\n      eval('({ set x(v){ value = v; } }).x = 1');\\n      // Setter in property initializer\\n      setter = value === 1;\\n      // Reserved words as property names\\n      eval('obj = ({ if: 1 })');\\n      reservedWords = obj['if'] === 1;\\n      // Zero-width characters in identifiers\\n      zeroWidthChars = eval('_\\\\u200c\\\\u200d = true');\\n\\n      return stringAccess && getter && setter && reservedWords && zeroWidthChars;\\n    } catch (ignore) {\\n      return false;\\n    }\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"ES5 Immutable Undefined\\\",\\n  \\\"property\\\": \\\"es5undefined\\\",\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"ECMAScript 5.1 Language Specification\\\",\\n    \\\"href\\\": \\\"http://www.ecma-international.org/ecma-262/5.1/\\\"\\n  }, {\\n    \\\"name\\\": \\\"original implementation of detect code\\\",\\n    \\\"href\\\": \\\"http://kangax.github.io/es5-compat-table/\\\"\\n  }],\\n  \\\"authors\\\": [\\\"Ron Waldon (@jokeyrhyme)\\\"],\\n  \\\"tags\\\": [\\\"es5\\\"]\\n}\\n!*/\\n/* DOC\\nCheck if browser prevents assignment to global `undefined` per ECMAScript 5.\\n*/\\n\\n  Modernizr.addTest('es5undefined', function() {\\n    var result, originalUndefined;\\n    try {\\n      originalUndefined = window.undefined;\\n      window.undefined = 12345;\\n      result = typeof window.undefined === 'undefined';\\n      window.undefined = originalUndefined;\\n    } catch (e) {\\n      return false;\\n    }\\n    return result;\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"ES5\\\",\\n  \\\"property\\\": \\\"es5\\\",\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"ECMAScript 5.1 Language Specification\\\",\\n    \\\"href\\\": \\\"http://www.ecma-international.org/ecma-262/5.1/\\\"\\n  }],\\n  \\\"polyfills\\\": [\\\"es5shim\\\", \\\"es5sham\\\"],\\n  \\\"authors\\\": [\\\"Ron Waldon (@jokeyrhyme)\\\"],\\n  \\\"tags\\\": [\\\"es5\\\"]\\n}\\n!*/\\n/* DOC\\nCheck if browser implements everything as specified in ECMAScript 5.\\n*/\\n\\n  Modernizr.addTest('es5', function() {\\n    return !!(\\n      Modernizr.es5array &&\\n      Modernizr.es5date &&\\n      Modernizr.es5function &&\\n      Modernizr.es5object &&\\n      Modernizr.strictmode &&\\n      Modernizr.es5string &&\\n      Modernizr.json &&\\n      Modernizr.es5syntax &&\\n      Modernizr.es5undefined\\n    );\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"ES6 Array\\\",\\n  \\\"property\\\": \\\"es6array\\\",\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"unofficial ECMAScript 6 draft specification\\\",\\n    \\\"href\\\": \\\"https://people.mozilla.org/~jorendorff/es6-draft.html\\\"\\n  }],\\n  \\\"polyfills\\\": [\\\"es6shim\\\"],\\n  \\\"authors\\\": [\\\"Ron Waldon (@jokeyrhyme)\\\"],\\n  \\\"warnings\\\": [\\\"ECMAScript 6 is still a only a draft, so this detect may not match the final specification or implementations.\\\"],\\n  \\\"tags\\\": [\\\"es6\\\"]\\n}\\n!*/\\n/* DOC\\nCheck if browser implements ECMAScript 6 Array per specification.\\n*/\\n\\n  Modernizr.addTest('es6array', !!(Array.prototype &&\\n    Array.prototype.copyWithin &&\\n    Array.prototype.fill &&\\n    Array.prototype.find &&\\n    Array.prototype.findIndex &&\\n    Array.prototype.keys &&\\n    Array.prototype.entries &&\\n    Array.prototype.values &&\\n    Array.from &&\\n    Array.of));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"ES6 Collections\\\",\\n  \\\"property\\\": \\\"es6collections\\\",\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"unofficial ECMAScript 6 draft specification\\\",\\n    \\\"href\\\": \\\"https://people.mozilla.org/~jorendorff/es6-draft.html\\\"\\n  }],\\n  \\\"polyfills\\\": [\\\"es6shim\\\", \\\"weakmap\\\"],\\n  \\\"authors\\\": [\\\"Ron Waldon (@jokeyrhyme)\\\"],\\n  \\\"warnings\\\": [\\\"ECMAScript 6 is still a only a draft, so this detect may not match the final specification or implementations.\\\"],\\n  \\\"tags\\\": [\\\"es6\\\"]\\n}\\n!*/\\n/* DOC\\nCheck if browser implements ECMAScript 6 Map, Set, WeakMap and WeakSet\\n*/\\n\\n  Modernizr.addTest('es6collections', !!(\\n    window.Map && window.Set && window.WeakMap && window.WeakSet\\n  ));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"ES5 String.prototype.contains\\\",\\n  \\\"property\\\": \\\"contains\\\",\\n  \\\"authors\\\": [\\\"Robert Kowalski\\\"],\\n  \\\"tags\\\": [\\\"es6\\\"]\\n}\\n!*/\\n/* DOC\\nCheck if browser implements ECMAScript 6 `String.prototype.contains` per specification.\\n*/\\n\\n  Modernizr.addTest('contains', is(String.prototype.contains, 'function'));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"ES6 Generators\\\",\\n  \\\"property\\\": \\\"generators\\\",\\n  \\\"authors\\\": [\\\"Michael Kachanovskyi\\\"],\\n  \\\"tags\\\": [\\\"es6\\\"]\\n}\\n!*/\\n/* DOC\\nCheck if browser implements ECMAScript 6 Generators per specification.\\n*/\\n\\n  Modernizr.addTest('generators', function() {\\n    try {\\n      /* jshint evil: true */\\n      new Function('function* test() {}')();\\n    } catch (e) {\\n      return false;\\n    }\\n    return true;\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"ES6 Math\\\",\\n  \\\"property\\\": \\\"es6math\\\",\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"unofficial ECMAScript 6 draft specification\\\",\\n    \\\"href\\\": \\\"https://people.mozilla.org/~jorendorff/es6-draft.html\\\"\\n  }],\\n  \\\"polyfills\\\": [\\\"es6shim\\\"],\\n  \\\"authors\\\": [\\\"Ron Waldon (@jokeyrhyme)\\\"],\\n  \\\"warnings\\\": [\\\"ECMAScript 6 is still a only a draft, so this detect may not match the final specification or implementations.\\\"],\\n  \\\"tags\\\": [\\\"es6\\\"]\\n}\\n!*/\\n/* DOC\\nCheck if browser implements ECMAScript 6 Math per specification.\\n*/\\n\\n  Modernizr.addTest('es6math', !!(Math &&\\n    Math.clz32 &&\\n    Math.cbrt &&\\n    Math.imul &&\\n    Math.sign &&\\n    Math.log10 &&\\n    Math.log2 &&\\n    Math.log1p &&\\n    Math.expm1 &&\\n    Math.cosh &&\\n    Math.sinh &&\\n    Math.tanh &&\\n    Math.acosh &&\\n    Math.asinh &&\\n    Math.atanh &&\\n    Math.hypot &&\\n    Math.trunc &&\\n    Math.fround));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"ES6 Number\\\",\\n  \\\"property\\\": \\\"es6number\\\",\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"unofficial ECMAScript 6 draft specification\\\",\\n    \\\"href\\\": \\\"https://people.mozilla.org/~jorendorff/es6-draft.html\\\"\\n  }],\\n  \\\"polyfills\\\": [\\\"es6shim\\\"],\\n  \\\"authors\\\": [\\\"Ron Waldon (@jokeyrhyme)\\\"],\\n  \\\"warnings\\\": [\\\"ECMAScript 6 is still a only a draft, so this detect may not match the final specification or implementations.\\\"],\\n  \\\"tags\\\": [\\\"es6\\\"]\\n}\\n!*/\\n/* DOC\\nCheck if browser implements ECMAScript 6 Number per specification.\\n*/\\n\\n  Modernizr.addTest('es6number', !!(Number.isFinite &&\\n    Number.isInteger &&\\n    Number.isSafeInteger &&\\n    Number.isNaN &&\\n    Number.parseInt &&\\n    Number.parseFloat &&\\n    Number.isInteger(Number.MAX_SAFE_INTEGER) &&\\n    Number.isInteger(Number.MIN_SAFE_INTEGER) &&\\n    Number.isFinite(Number.EPSILON)));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"ES6 Object\\\",\\n  \\\"property\\\": \\\"es6object\\\",\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"unofficial ECMAScript 6 draft specification\\\",\\n    \\\"href\\\": \\\"https://people.mozilla.org/~jorendorff/es6-draft.html\\\"\\n  }],\\n  \\\"polyfills\\\": [\\\"es6shim\\\"],\\n  \\\"authors\\\": [\\\"Ron Waldon (@jokeyrhyme)\\\"],\\n  \\\"warnings\\\": [\\\"ECMAScript 6 is still a only a draft, so this detect may not match the final specification or implementations.\\\"],\\n  \\\"tags\\\": [\\\"es6\\\"]\\n}\\n!*/\\n/* DOC\\nCheck if browser implements ECMAScript 6 Object per specification.\\n*/\\n\\n  Modernizr.addTest('es6object', !!(Object.assign &&\\n    Object.is &&\\n    Object.setPrototypeOf));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"ES6 Promises\\\",\\n  \\\"property\\\": \\\"promises\\\",\\n  \\\"caniuse\\\": \\\"promises\\\",\\n  \\\"polyfills\\\": [\\\"es6promises\\\"],\\n  \\\"authors\\\": [\\\"Krister Kari\\\", \\\"Jake Archibald\\\"],\\n  \\\"tags\\\": [\\\"es6\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"The ES6 promises spec\\\",\\n    \\\"href\\\": \\\"https://github.com/domenic/promises-unwrapping\\\"\\n  },{\\n    \\\"name\\\": \\\"Chromium dashboard - ES6 Promises\\\",\\n    \\\"href\\\": \\\"https://www.chromestatus.com/features/5681726336532480\\\"\\n  },{\\n    \\\"name\\\": \\\"JavaScript Promises: There and back again - HTML5 Rocks\\\",\\n    \\\"href\\\": \\\"http://www.html5rocks.com/en/tutorials/es6/promises/\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nCheck if browser implements ECMAScript 6 Promises per specification.\\n*/\\n\\n  Modernizr.addTest('promises', function() {\\n    return 'Promise' in window &&\\n    // Some of these methods are missing from\\n    // Firefox/Chrome experimental implementations\\n    'resolve' in window.Promise &&\\n    'reject' in window.Promise &&\\n    'all' in window.Promise &&\\n    'race' in window.Promise &&\\n    // Older version of the spec had a resolver object\\n    // as the arg rather than a function\\n    (function() {\\n      var resolve;\\n      new window.Promise(function(r) { resolve = r; });\\n      return typeof resolve === 'function';\\n    }());\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"ES6 String\\\",\\n  \\\"property\\\": \\\"es6string\\\",\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"unofficial ECMAScript 6 draft specification\\\",\\n    \\\"href\\\": \\\"https://people.mozilla.org/~jorendorff/es6-draft.html\\\"\\n  }],\\n  \\\"polyfills\\\": [\\\"es6shim\\\"],\\n  \\\"authors\\\": [\\\"Ron Waldon (@jokeyrhyme)\\\"],\\n  \\\"warnings\\\": [\\\"ECMAScript 6 is still a only a draft, so this detect may not match the final specification or implementations.\\\"],\\n  \\\"tags\\\": [\\\"es6\\\"]\\n}\\n!*/\\n/* DOC\\nCheck if browser implements ECMAScript 6 String per specification.\\n*/\\n\\n  Modernizr.addTest('es6string', !!(String.fromCodePoint &&\\n    String.raw &&\\n    String.prototype.codePointAt &&\\n    String.prototype.repeat &&\\n    String.prototype.startsWith &&\\n    String.prototype.endsWith &&\\n    String.prototype.contains));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Orientation and Motion Events\\\",\\n  \\\"property\\\": [\\\"devicemotion\\\", \\\"deviceorientation\\\"],\\n  \\\"caniuse\\\": \\\"deviceorientation\\\",\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"W3C Editor's Draft\\\",\\n    \\\"href\\\": \\\"http://w3c.github.io/deviceorientation/spec-source-orientation.html\\\"\\n  },{\\n    \\\"name\\\": \\\"Implementation by iOS Safari (Orientation)\\\",\\n    \\\"href\\\": \\\"http://goo.gl/fhce3\\\"\\n  },{\\n    \\\"name\\\": \\\"Implementation by iOS Safari (Motion)\\\",\\n    \\\"href\\\": \\\"http://goo.gl/rLKz8\\\"\\n  }],\\n  \\\"authors\\\": [\\\"Shi Chuan\\\"],\\n  \\\"tags\\\": [\\\"event\\\"],\\n  \\\"builderAliases\\\": [\\\"event_deviceorientation_motion\\\"]\\n}\\n!*/\\n/* DOC\\nPart of Device Access aspect of HTML5, same category as geolocation.\\n\\n`devicemotion` tests for Device Motion Event support, returns boolean value true/false.\\n\\n`deviceorientation` tests for Device Orientation Event support, returns boolean value true/false\\n*/\\n\\n  Modernizr.addTest('devicemotion', 'DeviceMotionEvent' in window);\\n  Modernizr.addTest('deviceorientation', 'DeviceOrientationEvent' in window);\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"onInput Event\\\",\\n  \\\"property\\\": \\\"oninput\\\",\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"MDN article\\\",\\n    \\\"href\\\": \\\"https://developer.mozilla.org/en-US/docs/Web/API/GlobalEventHandlers.oninput\\\"\\n  },{\\n    \\\"name\\\": \\\"WHATWG spec\\\",\\n    \\\"href\\\": \\\"https://html.spec.whatwg.org/multipage/forms.html#common-input-element-attributes\\\"\\n  },{\\n    \\\"name\\\": \\\"Detecting onInput support\\\",\\n    \\\"href\\\": \\\"http://danielfriesen.name/blog/2010/02/16/html5-browser-maze-oninput-support\\\"\\n  }],\\n  \\\"authors\\\": [\\\"Patrick Kettner\\\"],\\n  \\\"tags\\\": [\\\"event\\\"]\\n}\\n!*/\\n/* DOC\\n`oninput` tests if the browser is able to detect the input event\\n*/\\n\\n\\n  Modernizr.addTest('oninput', function() {\\n    var input = createElement('input');\\n    var supportsOnInput;\\n    input.setAttribute('oninput', 'return');\\n\\n    if (hasEvent('oninput', docElement) || typeof input.oninput == 'function') {\\n      return true;\\n    }\\n\\n    // IE doesn't support onInput, so we wrap up the non IE APIs\\n    // (createEvent, addEventListener) in a try catch, rather than test for\\n    // their trident equivalent.\\n    try {\\n      // Older Firefox didn't map oninput attribute to oninput property\\n      var testEvent  = document.createEvent('KeyboardEvent');\\n      supportsOnInput = false;\\n      var handler = function(e) {\\n        supportsOnInput = true;\\n        e.preventDefault();\\n        e.stopPropagation();\\n      };\\n\\n      testEvent.initKeyEvent('keypress', true, true, window, false, false, false, false, 0, 'e'.charCodeAt(0));\\n      docElement.appendChild(input);\\n      input.addEventListener('input', handler, false);\\n      input.focus();\\n      input.dispatchEvent(testEvent);\\n      input.removeEventListener('input', handler, false);\\n      docElement.removeChild(input);\\n    } catch (e) {\\n      supportsOnInput = false;\\n    }\\n      return supportsOnInput;\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Event Listener\\\",\\n  \\\"property\\\": \\\"eventlistener\\\",\\n  \\\"authors\\\": [\\\"Andrew Betts (@triblondon)\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"W3C Spec\\\",\\n    \\\"href\\\": \\\"https://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-Registration-interfaces\\\"\\n  }],\\n  \\\"polyfills\\\": [\\\"eventlistener\\\"]\\n}\\n!*/\\n/* DOC\\nDetects native support for addEventListener\\n*/\\n\\n  Modernizr.addTest('eventlistener', 'addEventListener' in window);\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"EXIF Orientation\\\",\\n  \\\"property\\\": \\\"exiforientation\\\",\\n  \\\"tags\\\": [\\\"image\\\"],\\n  \\\"builderAliases\\\": [\\\"exif_orientation\\\"],\\n  \\\"async\\\": true,\\n  \\\"authors\\\": [\\\"Paul Sayre\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"Article by Dave Perrett\\\",\\n    \\\"href\\\": \\\"http://recursive-design.com/blog/2012/07/28/exif-orientation-handling-is-a-ghetto/\\\"\\n  },{\\n    \\\"name\\\": \\\"Article by Calvin Hass\\\",\\n    \\\"href\\\": \\\"http://www.impulseadventure.com/photo/exif-orientation.html\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nDetects support for EXIF Orientation in JPEG images.\\n\\niOS looks at the EXIF Orientation flag in JPEGs and rotates the image accordingly. Most desktop browsers just ignore this data.\\n*/\\n\\n  // Bug trackers:\\n  //    bugzil.la/298619 (unimplemented)\\n  //    crbug.com/56845 (looks incomplete)\\n  //    webk.it/19688 (available upstream but its up all ports to turn on individually)\\n  Modernizr.addAsyncTest(function() {\\n    var img = new Image();\\n\\n    img.onerror = function() {\\n      addTest('exiforientation', false, {aliases: ['exif-orientation']});\\n    };\\n\\n    img.onload = function() {\\n      addTest('exiforientation', img.width !== 2, {aliases: ['exif-orientation']});\\n    };\\n\\n    // There may be a way to shrink this more, it's a 1x2 white jpg with the orientation flag set to 6\\n    img.src = 'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QAiRXhpZgAASUkqAAgAAAABABIBAwABAAAABgASAAAAAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCAABAAIDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD+/iiiigD/2Q==';\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"File API\\\",\\n  \\\"property\\\": \\\"filereader\\\",\\n  \\\"caniuse\\\": \\\"fileapi\\\",\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"W3C Working Draft\\\",\\n    \\\"href\\\": \\\"https://www.w3.org/TR/FileAPI/\\\"\\n  }],\\n  \\\"tags\\\": [\\\"file\\\"],\\n  \\\"builderAliases\\\": [\\\"file_api\\\"],\\n  \\\"knownBugs\\\": [\\\"Will fail in Safari 5 due to its lack of support for the standards defined FileReader object\\\"]\\n}\\n!*/\\n/* DOC\\n`filereader` tests for the File API specification\\n\\nTests for objects specific to the File API W3C specification without\\nbeing redundant (don't bother testing for Blob since it is assumed\\nto be the File object's prototype.)\\n*/\\n\\n  Modernizr.addTest('filereader', !!(window.File && window.FileList && window.FileReader));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Filesystem API\\\",\\n  \\\"property\\\": \\\"filesystem\\\",\\n  \\\"caniuse\\\": \\\"filesystem\\\",\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"W3 Draft\\\",\\n    \\\"href\\\": \\\"http://dev.w3.org/2009/dap/file-system/file-dir-sys.html\\\"\\n  }],\\n  \\\"authors\\\": [\\\"Eric Bidelman (@ebidel)\\\"],\\n  \\\"tags\\\": [\\\"file\\\"],\\n  \\\"builderAliases\\\": [\\\"file_filesystem\\\"],\\n  \\\"knownBugs\\\": [\\\"The API will be present in Chrome incognito, but will throw an exception. See crbug.com/93417\\\"]\\n}\\n!*/\\n\\n  Modernizr.addTest('filesystem', !!prefixed('requestFileSystem', window));\\n\\n/*!\\n  {\\n  \\\"name\\\": \\\"Flash\\\",\\n  \\\"property\\\": \\\"flash\\\",\\n  \\\"tags\\\": [\\\"flash\\\"],\\n  \\\"polyfills\\\": [\\\"shumway\\\"]\\n  }\\n  !*/\\n/* DOC\\nDetects Flash support as well as Flash-blocking plugins\\n*/\\n\\n  Modernizr.addAsyncTest(function() {\\n    /* jshint -W053 */\\n\\n    var attachBody = function(body) {\\n      if (!docElement.contains(body)) {\\n        docElement.appendChild(body);\\n      }\\n    };\\n    var removeFakeBody = function(body) {\\n      // If we’re rockin’ an attached fake body, clean it up\\n      if (body.fake && body.parentNode) {\\n        body.parentNode.removeChild(body);\\n      }\\n    };\\n    var runTest = function(result, embed) {\\n      var bool = !!result;\\n      if (bool) {\\n        bool = new Boolean(bool);\\n        bool.blocked = (result === 'blocked');\\n      }\\n      addTest('flash', function() { return bool; });\\n\\n      if (embed && body.contains(embed)) {\\n\\n        // in case embed has been wrapped, as with ClickToPlugin\\n        while (embed.parentNode !== body) {\\n          embed = embed.parentNode;\\n        }\\n\\n        body.removeChild(embed);\\n      }\\n\\n    };\\n    var easy_detect;\\n    var activex;\\n    // we wrap activex in a try/catch because when Flash is disabled through\\n    // ActiveX controls, it throws an error.\\n    try {\\n      // Pan is an API that exists for Flash objects.\\n      activex = 'ActiveXObject' in window && 'Pan' in new window.ActiveXObject('ShockwaveFlash.ShockwaveFlash');\\n    } catch (e) {}\\n\\n    easy_detect = !(('plugins' in navigator && 'Shockwave Flash' in navigator.plugins) || activex);\\n\\n    if (easy_detect || isSVG) {\\n      runTest(false);\\n    }\\n    else {\\n      // Flash seems to be installed, but it might be blocked. We have to\\n      // actually create an element to see what happens to it.\\n      var embed = createElement('embed');\\n      var body = getBody();\\n      var blockedDetect;\\n      var inline_style;\\n\\n      embed.type = 'application/x-shockwave-flash';\\n\\n      // Need to do this in the body (fake or otherwise) otherwise IE8 complains\\n      body.appendChild(embed);\\n\\n      // Pan doesn't exist in the embed if its IE (its on the ActiveXObjeect)\\n      // so this check is for all other browsers.\\n      if (!('Pan' in embed) && !activex) {\\n        attachBody(body);\\n        runTest('blocked', embed);\\n        removeFakeBody(body);\\n        return;\\n      }\\n\\n      blockedDetect = function() {\\n        // if we used a fake body originally, we need to restart this test, since\\n        // we haven't been attached to the DOM, and therefore none of the blockers\\n        // have had time to work.\\n        attachBody(body);\\n        if (!docElement.contains(body)) {\\n          body = document.body || body;\\n          embed = createElement('embed');\\n          embed.type = 'application/x-shockwave-flash';\\n          body.appendChild(embed);\\n          return setTimeout(blockedDetect, 1000);\\n        }\\n        if (!docElement.contains(embed)) {\\n          runTest('blocked');\\n        }\\n        else {\\n          inline_style = embed.style.cssText;\\n          if (inline_style !== '') {\\n            // the style of the element has changed automatically. This is a\\n            // really poor heuristic, but for lower end Flash blocks, it the\\n            // only change they can make.\\n            runTest('blocked', embed);\\n          }\\n          else {\\n            runTest(true, embed);\\n          }\\n        }\\n        removeFakeBody(body);\\n      };\\n\\n      // If we have got this far, there is still a chance a userland plugin\\n      // is blocking us (either changing the styles, or automatically removing\\n      // the element). Both of these require us to take a step back for a moment\\n      // to allow for them to get time of the thread, hence a setTimeout.\\n      //\\n      setTimeout(blockedDetect, 10);\\n    }\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"input[capture] Attribute\\\",\\n  \\\"property\\\": \\\"capture\\\",\\n  \\\"tags\\\": [\\\"video\\\", \\\"image\\\", \\\"audio\\\", \\\"media\\\", \\\"attribute\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"W3C draft: HTML Media Capture\\\",\\n    \\\"href\\\": \\\"https://www.w3.org/TR/html-media-capture/\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nWhen used on an `<input>`, this attribute signifies that the resource it takes should be generated via device's camera, camcorder, sound recorder.\\n*/\\n\\n  // testing for capture attribute in inputs\\n  Modernizr.addTest('capture', ('capture' in createElement('input')));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"input[file] Attribute\\\",\\n  \\\"property\\\": \\\"fileinput\\\",\\n  \\\"caniuse\\\" : \\\"forms\\\",\\n  \\\"tags\\\": [\\\"file\\\", \\\"forms\\\", \\\"input\\\"],\\n  \\\"builderAliases\\\": [\\\"forms_fileinput\\\"]\\n}\\n!*/\\n/* DOC\\nDetects whether input type=\\\"file\\\" is available on the platform\\n\\nE.g. iOS < 6 and some android version don't support this\\n*/\\n\\n  Modernizr.addTest('fileinput', function() {\\n    if (navigator.userAgent.match(/(Android (1.0|1.1|1.5|1.6|2.0|2.1))|(Windows Phone (OS 7|8.0))|(XBLWP)|(ZuneWP)|(w(eb)?OSBrowser)|(webOS)|(Kindle\\\\/(1.0|2.0|2.5|3.0))/)) {\\n      return false;\\n    }\\n    var elem = createElement('input');\\n    elem.type = 'file';\\n    return !elem.disabled;\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"input[directory] Attribute\\\",\\n  \\\"property\\\": \\\"directory\\\",\\n  \\\"authors\\\": [\\\"silverwind\\\"],\\n  \\\"tags\\\": [\\\"file\\\", \\\"input\\\", \\\"attribute\\\"]\\n}\\n!*/\\n/* DOC\\nWhen used on an `<input type=\\\"file\\\">`, the `directory` attribute instructs\\nthe user agent to present a directory selection dialog instead of the usual\\nfile selection dialog.\\n*/\\n\\n  Modernizr.addTest('fileinputdirectory', function() {\\n    var elem = createElement('input'), dir = 'directory';\\n    elem.type = 'file';\\n    if (dir in elem) {\\n      return true;\\n    } else {\\n      for (var i = 0, len = domPrefixes.length; i < len; i++) {\\n        if (domPrefixes[i] + dir in elem) {\\n          return true;\\n        }\\n      }\\n    }\\n    return false;\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"input[form] Attribute\\\",\\n  \\\"property\\\": \\\"formattribute\\\",\\n  \\\"tags\\\": [\\\"attribute\\\", \\\"forms\\\", \\\"input\\\"],\\n  \\\"builderAliases\\\": [\\\"forms_formattribute\\\"]\\n}\\n!*/\\n/* DOC\\nDetects whether input form=\\\"form_id\\\" is available on the platform\\nE.g. IE 10 (and below), don't support this\\n*/\\n\\n\\n  Modernizr.addTest('formattribute', function() {\\n    var form = createElement('form');\\n    var input = createElement('input');\\n    var div = createElement('div');\\n    var id = 'formtest' + (new Date()).getTime();\\n    var attr;\\n    var bool = false;\\n\\n    form.id = id;\\n\\n    //IE6/7 confuses the form idl attribute and the form content attribute, so we use document.createAttribute\\n    try {\\n      input.setAttribute('form', id);\\n    }\\n    catch (e) {\\n      if (document.createAttribute) {\\n        attr = document.createAttribute('form');\\n        attr.nodeValue = id;\\n        input.setAttributeNode(attr);\\n      }\\n    }\\n\\n    div.appendChild(form);\\n    div.appendChild(input);\\n\\n    docElement.appendChild(div);\\n\\n    bool = form.elements && form.elements.length === 1 && input.form == form;\\n\\n    div.parentNode.removeChild(div);\\n    return bool;\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Form input types\\\",\\n  \\\"property\\\": \\\"inputtypes\\\",\\n  \\\"caniuse\\\": \\\"forms\\\",\\n  \\\"tags\\\": [\\\"forms\\\"],\\n  \\\"authors\\\": [\\\"Mike Taylor\\\"],\\n  \\\"polyfills\\\": [\\n    \\\"jquerytools\\\",\\n    \\\"webshims\\\",\\n    \\\"h5f\\\",\\n    \\\"webforms2\\\",\\n    \\\"nwxforms\\\",\\n    \\\"fdslider\\\",\\n    \\\"html5slider\\\",\\n    \\\"galleryhtml5forms\\\",\\n    \\\"jscolor\\\",\\n    \\\"html5formshim\\\",\\n    \\\"selectedoptionsjs\\\",\\n    \\\"formvalidationjs\\\"\\n  ]\\n}\\n!*/\\n/* DOC\\nDetects support for HTML5 form input types and exposes Boolean subproperties with the results:\\n\\n```javascript\\nModernizr.inputtypes.color\\nModernizr.inputtypes.date\\nModernizr.inputtypes.datetime\\nModernizr.inputtypes['datetime-local']\\nModernizr.inputtypes.email\\nModernizr.inputtypes.month\\nModernizr.inputtypes.number\\nModernizr.inputtypes.range\\nModernizr.inputtypes.search\\nModernizr.inputtypes.tel\\nModernizr.inputtypes.time\\nModernizr.inputtypes.url\\nModernizr.inputtypes.week\\n```\\n*/\\n\\n  // Run through HTML5's new input types to see if the UA understands any.\\n  //   This is put behind the tests runloop because it doesn't return a\\n  //   true/false like all the other tests; instead, it returns an object\\n  //   containing each input type with its corresponding true/false value\\n\\n  // Big thanks to @miketaylr for the html5 forms expertise. miketaylr.com/\\n  var inputtypes = 'search tel url email datetime date month week time datetime-local number range color'.split(' ');\\n  var inputs = {};\\n\\n  Modernizr.inputtypes = (function(props) {\\n    var len = props.length;\\n    var smile = '1)';\\n    var inputElemType;\\n    var defaultView;\\n    var bool;\\n\\n    for (var i = 0; i < len; i++) {\\n\\n      inputElem.setAttribute('type', inputElemType = props[i]);\\n      bool = inputElem.type !== 'text' && 'style' in inputElem;\\n\\n      // We first check to see if the type we give it sticks..\\n      // If the type does, we feed it a textual value, which shouldn't be valid.\\n      // If the value doesn't stick, we know there's input sanitization which infers a custom UI\\n      if (bool) {\\n\\n        inputElem.value         = smile;\\n        inputElem.style.cssText = 'position:absolute;visibility:hidden;';\\n\\n        if (/^range$/.test(inputElemType) && inputElem.style.WebkitAppearance !== undefined) {\\n\\n          docElement.appendChild(inputElem);\\n          defaultView = document.defaultView;\\n\\n          // Safari 2-4 allows the smiley as a value, despite making a slider\\n          bool =  defaultView.getComputedStyle &&\\n            defaultView.getComputedStyle(inputElem, null).WebkitAppearance !== 'textfield' &&\\n            // Mobile android web browser has false positive, so must\\n            // check the height to see if the widget is actually there.\\n            (inputElem.offsetHeight !== 0);\\n\\n          docElement.removeChild(inputElem);\\n\\n        } else if (/^(search|tel)$/.test(inputElemType)) {\\n          // Spec doesn't define any special parsing or detectable UI\\n          //   behaviors so we pass these through as true\\n\\n          // Interestingly, opera fails the earlier test, so it doesn't\\n          //  even make it here.\\n\\n        } else if (/^(url|email)$/.test(inputElemType)) {\\n          // Real url and email support comes with prebaked validation.\\n          bool = inputElem.checkValidity && inputElem.checkValidity() === false;\\n\\n        } else {\\n          // If the upgraded input compontent rejects the :) text, we got a winner\\n          bool = inputElem.value != smile;\\n        }\\n      }\\n\\n      inputs[ props[i] ] = !!bool;\\n    }\\n    return inputs;\\n  })(inputtypes);\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Form Validation\\\",\\n  \\\"property\\\": \\\"formvalidation\\\",\\n  \\\"tags\\\": [\\\"forms\\\", \\\"validation\\\", \\\"attribute\\\"],\\n  \\\"builderAliases\\\": [\\\"forms_validation\\\"]\\n}\\n!*/\\n/* DOC\\nThis implementation only tests support for interactive form validation.\\nTo check validation for a specific type or a specific other constraint,\\nthe test can be combined:\\n\\n- `Modernizr.inputtypes.number && Modernizr.formvalidation` (browser supports rangeOverflow, typeMismatch etc. for type=number)\\n- `Modernizr.input.required && Modernizr.formvalidation` (browser supports valueMissing)\\n*/\\n\\n  Modernizr.addTest('formvalidation', function() {\\n    var form = createElement('form');\\n    if (!('checkValidity' in form) || !('addEventListener' in form)) {\\n      return false;\\n    }\\n    if ('reportValidity' in form) {\\n      return true;\\n    }\\n    var invalidFired = false;\\n    var input;\\n\\n    Modernizr.formvalidationapi =  true;\\n\\n    // Prevent form from being submitted\\n    form.addEventListener('submit', function(e) {\\n      // Old Presto based Opera does not validate form, if submit is prevented\\n      // although Opera Mini servers use newer Presto.\\n      if (!window.opera || window.operamini) {\\n        e.preventDefault();\\n      }\\n      e.stopPropagation();\\n    }, false);\\n\\n    // Calling form.submit() doesn't trigger interactive validation,\\n    // use a submit button instead\\n    //older opera browsers need a name attribute\\n    form.innerHTML = '<input name=\\\"modTest\\\" required=\\\"required\\\" /><button></button>';\\n\\n    testStyles('#modernizr form{position:absolute;top:-99999em}', function(node) {\\n      node.appendChild(form);\\n\\n      input = form.getElementsByTagName('input')[0];\\n\\n      // Record whether \\\"invalid\\\" event is fired\\n      input.addEventListener('invalid', function(e) {\\n        invalidFired = true;\\n        e.preventDefault();\\n        e.stopPropagation();\\n      }, false);\\n\\n      //Opera does not fully support the validationMessage property\\n      Modernizr.formvalidationmessage = !!input.validationMessage;\\n\\n      // Submit form by clicking submit button\\n      form.getElementsByTagName('button')[0].click();\\n    });\\n\\n    return invalidFired;\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"input[type=\\\\\\\"number\\\\\\\"] Localization\\\",\\n  \\\"property\\\": \\\"localizednumber\\\",\\n  \\\"tags\\\": [\\\"forms\\\", \\\"localization\\\", \\\"attribute\\\"],\\n  \\\"authors\\\": [\\\"Peter Janes\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"Webkit Bug Tracker Listing\\\",\\n    \\\"href\\\": \\\"https://bugs.webkit.org/show_bug.cgi?id=42484\\\"\\n  },{\\n    \\\"name\\\": \\\"Based on This\\\",\\n    \\\"href\\\": \\\"https://trac.webkit.org/browser/trunk/LayoutTests/fast/forms/script-tests/input-number-keyoperation.js?rev=80096#L9\\\"\\n  }],\\n  \\\"knownBugs\\\": [\\\"Only ever returns true if the browser/OS is configured to use comma as a decimal separator. This is probably fine for most use cases.\\\"]\\n}\\n!*/\\n/* DOC\\nDetects whether input type=\\\"number\\\" is capable of receiving and displaying localized numbers, e.g. with comma separator.\\n*/\\n\\n  Modernizr.addTest('localizednumber', function() {\\n    // this extends our testing of input[type=number], so bomb out if that's missing\\n    if (!Modernizr.inputtypes.number) { return false; }\\n    // we rely on checkValidity later, so bomb out early if we don't have it\\n    if (!Modernizr.formvalidation) { return false; }\\n\\n    var el = createElement('div');\\n    var diff;\\n    var body = getBody();\\n\\n    var root = (function() {\\n      return docElement.insertBefore(body, docElement.firstElementChild || docElement.firstChild);\\n    }());\\n    el.innerHTML = '<input type=\\\"number\\\" value=\\\"1.0\\\" step=\\\"0.1\\\"/>';\\n    var input = el.childNodes[0];\\n    root.appendChild(el);\\n    input.focus();\\n    try {\\n      document.execCommand('InsertText', false, '1,1');\\n    } catch (e) { // prevent warnings in IE\\n    }\\n    diff = input.type === 'number' && input.valueAsNumber === 1.1 && input.checkValidity();\\n    root.removeChild(el);\\n    body.fake && root.parentNode.removeChild(root);\\n    return diff;\\n  });\\n\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"placeholder attribute\\\",\\n  \\\"property\\\": \\\"placeholder\\\",\\n  \\\"tags\\\": [\\\"forms\\\", \\\"attribute\\\"],\\n  \\\"builderAliases\\\": [\\\"forms_placeholder\\\"]\\n}\\n!*/\\n/* DOC\\nTests for placeholder attribute in inputs and textareas\\n*/\\n\\n  Modernizr.addTest('placeholder', ('placeholder' in createElement('input') && 'placeholder' in createElement('textarea')));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"form#requestAutocomplete()\\\",\\n  \\\"property\\\": \\\"requestautocomplete\\\",\\n  \\\"tags\\\": [\\\"form\\\", \\\"forms\\\", \\\"requestAutocomplete\\\", \\\"payments\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"WHATWG proposed spec\\\",\\n    \\\"href\\\": \\\"https://wiki.whatwg.org/wiki/RequestAutocomplete\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nWhen used with input[autocomplete] to annotate a form, form.requestAutocomplete() shows a dialog in Chrome that speeds up\\ncheckout flows (payments specific for now).\\n*/\\n\\n  Modernizr.addTest('requestautocomplete', !!prefixed('requestAutocomplete', createElement('form')));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Fullscreen API\\\",\\n  \\\"property\\\": \\\"fullscreen\\\",\\n  \\\"caniuse\\\": \\\"fullscreen\\\",\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"MDN documentation\\\",\\n    \\\"href\\\": \\\"https://developer.mozilla.org/en/API/Fullscreen\\\"\\n  }],\\n  \\\"polyfills\\\": [\\\"screenfulljs\\\"],\\n  \\\"builderAliases\\\": [\\\"fullscreen_api\\\"]\\n}\\n!*/\\n/* DOC\\nDetects support for the ability to make the current website take over the user's entire screen\\n*/\\n\\n  // github.com/Modernizr/Modernizr/issues/739\\n  Modernizr.addTest('fullscreen', !!(prefixed('exitFullscreen', document, false) || prefixed('cancelFullScreen', document, false)));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"GamePad API\\\",\\n  \\\"property\\\": \\\"gamepads\\\",\\n  \\\"authors\\\": [\\\"Eric Bidelman\\\"],\\n  \\\"tags\\\": [\\\"media\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"W3C spec\\\",\\n    \\\"href\\\": \\\"https://www.w3.org/TR/gamepad/\\\"\\n  },{\\n    \\\"name\\\": \\\"HTML5 Rocks tutorial\\\",\\n    \\\"href\\\": \\\"http://www.html5rocks.com/en/tutorials/doodles/gamepad/#toc-featuredetect\\\"\\n  }],\\n  \\\"warnings\\\": [],\\n  \\\"polyfills\\\": []\\n}\\n!*/\\n/* DOC\\nDetects support for the Gamepad API, for access to gamepads and controllers.\\n*/\\n\\n\\n  Modernizr.addTest('gamepads', !!prefixed('getGamepads', navigator));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Geolocation API\\\",\\n  \\\"property\\\": \\\"geolocation\\\",\\n  \\\"caniuse\\\": \\\"geolocation\\\",\\n  \\\"tags\\\": [\\\"media\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"MDN documentation\\\",\\n    \\\"href\\\": \\\"https://developer.mozilla.org/en-US/docs/WebAPI/Using_geolocation\\\"\\n  }],\\n  \\\"polyfills\\\": [\\n    \\\"joshuabell-polyfill\\\",\\n    \\\"webshims\\\",\\n    \\\"geo-location-javascript\\\",\\n    \\\"geolocation-api-polyfill\\\"\\n  ]\\n}\\n!*/\\n/* DOC\\nDetects support for the Geolocation API for users to provide their location to web applications.\\n*/\\n\\n  // geolocation is often considered a trivial feature detect...\\n  // Turns out, it's quite tricky to get right:\\n  //\\n  // Using !!navigator.geolocation does two things we don't want. It:\\n  //   1. Leaks memory in IE9: github.com/Modernizr/Modernizr/issues/513\\n  //   2. Disables page caching in WebKit: webk.it/43956\\n  //\\n  // Meanwhile, in Firefox < 8, an about:config setting could expose\\n  // a false positive that would throw an exception: bugzil.la/688158\\n\\n  Modernizr.addTest('geolocation', 'geolocation' in navigator);\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Hashchange event\\\",\\n  \\\"property\\\": \\\"hashchange\\\",\\n  \\\"caniuse\\\": \\\"hashchange\\\",\\n  \\\"tags\\\": [\\\"history\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"MDN documentation\\\",\\n    \\\"href\\\": \\\"https://developer.mozilla.org/en-US/docs/Web/API/window.onhashchange\\\"\\n  }],\\n  \\\"polyfills\\\": [\\n    \\\"jquery-hashchange\\\",\\n    \\\"moo-historymanager\\\",\\n    \\\"jquery-ajaxy\\\",\\n    \\\"hasher\\\",\\n    \\\"shistory\\\"\\n  ]\\n}\\n!*/\\n/* DOC\\nDetects support for the `hashchange` event, fired when the current location fragment changes.\\n*/\\n\\n  Modernizr.addTest('hashchange', function() {\\n    if (hasEvent('hashchange', window) === false) {\\n      return false;\\n    }\\n\\n    // documentMode logic from YUI to filter out IE8 Compat Mode\\n    //   which false positives.\\n    return (document.documentMode === undefined || document.documentMode > 7);\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Hidden Scrollbar\\\",\\n  \\\"property\\\": \\\"hiddenscroll\\\",\\n  \\\"authors\\\": [\\\"Oleg Korsunsky\\\"],\\n  \\\"tags\\\": [\\\"overlay\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"Overlay Scrollbar description\\\",\\n    \\\"href\\\": \\\"https://developer.apple.com/library/mac/releasenotes/MacOSX/WhatsNewInOSX/Articles/MacOSX10_7.html#//apple_ref/doc/uid/TP40010355-SW39\\\"\\n  },{\\n    \\\"name\\\": \\\"Video example of overlay scrollbars\\\",\\n    \\\"href\\\": \\\"https://gfycat.com/FoolishMeaslyAtlanticsharpnosepuffer\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nDetects overlay scrollbars (when scrollbars on overflowed blocks are visible). This is found most commonly on mobile and OS X.\\n*/\\n\\n  Modernizr.addTest('hiddenscroll', function() {\\n    return testStyles('#modernizr {width:100px;height:100px;overflow:scroll}', function(elem) {\\n      return elem.offsetWidth === elem.clientWidth;\\n    });\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"History API\\\",\\n  \\\"property\\\": \\\"history\\\",\\n  \\\"caniuse\\\": \\\"history\\\",\\n  \\\"tags\\\": [\\\"history\\\"],\\n  \\\"authors\\\": [\\\"Hay Kranen\\\", \\\"Alexander Farkas\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"W3C Spec\\\",\\n    \\\"href\\\": \\\"https://www.w3.org/TR/html51/browsers.html#the-history-interface\\\"\\n  }, {\\n    \\\"name\\\": \\\"MDN documentation\\\",\\n    \\\"href\\\": \\\"https://developer.mozilla.org/en-US/docs/Web/API/window.history\\\"\\n  }],\\n  \\\"polyfills\\\": [\\\"historyjs\\\", \\\"html5historyapi\\\"]\\n}\\n!*/\\n/* DOC\\nDetects support for the History API for manipulating the browser session history.\\n*/\\n\\n  Modernizr.addTest('history', function() {\\n    // Issue #733\\n    // The stock browser on Android 2.2 & 2.3, and 4.0.x returns positive on history support\\n    // Unfortunately support is really buggy and there is no clean way to detect\\n    // these bugs, so we fall back to a user agent sniff :(\\n    var ua = navigator.userAgent;\\n\\n    // We only want Android 2 and 4.0, stock browser, and not Chrome which identifies\\n    // itself as 'Mobile Safari' as well, nor Windows Phone (issue #1471).\\n    if ((ua.indexOf('Android 2.') !== -1 ||\\n        (ua.indexOf('Android 4.0') !== -1)) &&\\n        ua.indexOf('Mobile Safari') !== -1 &&\\n        ua.indexOf('Chrome') === -1 &&\\n        ua.indexOf('Windows Phone') === -1) {\\n      return false;\\n    }\\n\\n    // Return the regular check\\n    return (window.history && 'pushState' in window.history);\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"HTML Imports\\\",\\n  \\\"notes\\\": [\\n    {\\n      \\\"name\\\": \\\"W3C HTML Imports Specification\\\",\\n      \\\"href\\\": \\\"https://w3c.github.io/webcomponents/spec/imports/\\\"\\n    },\\n    {\\n      \\\"name\\\": \\\"HTML Imports - #include for the web\\\",\\n      \\\"href\\\": \\\"http://www.html5rocks.com/en/tutorials/webcomponents/imports/\\\"\\n    }\\n  ],\\n  \\\"polyfills\\\": [\\\"polymer-htmlimports\\\"],\\n  \\\"property\\\": \\\"htmlimports\\\",\\n  \\\"tags\\\": [\\\"html\\\", \\\"import\\\"]\\n}\\n!*/\\n/* DOC\\nDetects support for HTML import, a feature that is used for loading in Web Components.\\n */\\n\\n\\n  addTest('htmlimports', 'import' in createElement('link'));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"IE8 compat mode\\\",\\n  \\\"property\\\": \\\"ie8compat\\\",\\n  \\\"authors\\\": [\\\"Erich Ocean\\\"]\\n}\\n!*/\\n/* DOC\\nDetects whether or not the current browser is IE8 in compatibility mode (i.e. acting as IE7).\\n*/\\n\\n  // In this case, IE8 will be acting as IE7. You may choose to remove features in this case.\\n\\n  // related:\\n  // james.padolsey.com/javascript/detect-ie-in-js-using-conditional-comments/\\n\\n  Modernizr.addTest('ie8compat', (!window.addEventListener && !!document.documentMode && document.documentMode === 7));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"iframe[sandbox] Attribute\\\",\\n  \\\"property\\\": \\\"sandbox\\\",\\n  \\\"tags\\\": [\\\"iframe\\\"],\\n  \\\"builderAliases\\\": [\\\"iframe_sandbox\\\"],\\n  \\\"notes\\\": [\\n  {\\n    \\\"name\\\": \\\"WhatWG Spec\\\",\\n    \\\"href\\\": \\\"https://html.spec.whatwg.org/multipage/embedded-content.html#attr-iframe-sandbox\\\"\\n  }],\\n  \\\"knownBugs\\\": [ \\\"False-positive on Firefox < 29\\\" ]\\n}\\n!*/\\n/* DOC\\nTest for `sandbox` attribute in iframes.\\n*/\\n\\n  Modernizr.addTest('sandbox', 'sandbox' in createElement('iframe'));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"iframe[seamless] Attribute\\\",\\n  \\\"property\\\": \\\"seamless\\\",\\n  \\\"tags\\\": [\\\"iframe\\\"],\\n  \\\"builderAliases\\\": [\\\"iframe_seamless\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"WhatWG Spec\\\",\\n    \\\"href\\\": \\\"https://html.spec.whatwg.org/multipage/embedded-content.html#attr-iframe-seamless\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nTest for `seamless` attribute in iframes.\\n*/\\n\\n  Modernizr.addTest('seamless', 'seamless' in createElement('iframe'));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"iframe[srcdoc] Attribute\\\",\\n  \\\"property\\\": \\\"srcdoc\\\",\\n  \\\"tags\\\": [\\\"iframe\\\"],\\n  \\\"builderAliases\\\": [\\\"iframe_srcdoc\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"WhatWG Spec\\\",\\n    \\\"href\\\": \\\"https://html.spec.whatwg.org/multipage/embedded-content.html#attr-iframe-srcdoc\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nTest for `srcdoc` attribute in iframes.\\n*/\\n\\n  Modernizr.addTest('srcdoc', 'srcdoc' in createElement('iframe'));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Animated PNG\\\",\\n  \\\"async\\\": true,\\n  \\\"property\\\": \\\"apng\\\",\\n  \\\"tags\\\": [\\\"image\\\"],\\n  \\\"builderAliases\\\": [\\\"img_apng\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"Wikipedia Article\\\",\\n    \\\"href\\\": \\\"https://en.wikipedia.org/wiki/APNG\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nTest for animated png support.\\n*/\\n\\n  Modernizr.addAsyncTest(function() {\\n    if (!Modernizr.canvas) {\\n      return false;\\n    }\\n\\n    var image = new Image();\\n    var canvas = createElement('canvas');\\n    var ctx = canvas.getContext('2d');\\n\\n    image.onload = function() {\\n      addTest('apng', function() {\\n        if (typeof canvas.getContext == 'undefined') {\\n          return false;\\n        }\\n        else {\\n          ctx.drawImage(image, 0, 0);\\n          return ctx.getImageData(0, 0, 1, 1).data[3] === 0;\\n        }\\n      });\\n    };\\n\\n    image.src = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACGFjVEwAAAABAAAAAcMq2TYAAAANSURBVAiZY2BgYPgPAAEEAQB9ssjfAAAAGmZjVEwAAAAAAAAAAQAAAAEAAAAAAAAAAAD6A+gBAbNU+2sAAAARZmRBVAAAAAEImWNgYGBgAAAABQAB6MzFdgAAAABJRU5ErkJggg==';\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"JPEG 2000\\\",\\n  \\\"async\\\": true,\\n  \\\"aliases\\\": [\\\"jpeg-2000\\\", \\\"jpg2\\\"],\\n  \\\"property\\\": \\\"jpeg2000\\\",\\n  \\\"tags\\\": [\\\"image\\\"],\\n  \\\"authors\\\": [\\\"@eric_wvgg\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"Wikipedia Article\\\",\\n    \\\"href\\\": \\\"https://en.wikipedia.org/wiki/JPEG_2000\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nTest for JPEG 2000 support\\n*/\\n\\n\\n  Modernizr.addAsyncTest(function() {\\n    var image = new Image();\\n\\n    image.onload = image.onerror = function() {\\n      addTest('jpeg2000', image.width == 1);\\n    };\\n\\n    image.src = 'data:image/jp2;base64,/0//UQAyAAAAAAABAAAAAgAAAAAAAAAAAAAABAAAAAQAAAAAAAAAAAAEBwEBBwEBBwEBBwEB/1IADAAAAAEAAAQEAAH/XAAEQED/ZAAlAAFDcmVhdGVkIGJ5IE9wZW5KUEVHIHZlcnNpb24gMi4wLjD/kAAKAAAAAABYAAH/UwAJAQAABAQAAf9dAAUBQED/UwAJAgAABAQAAf9dAAUCQED/UwAJAwAABAQAAf9dAAUDQED/k8+kEAGvz6QQAa/PpBABr994EAk//9k=';\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"JPEG XR (extended range)\\\",\\n  \\\"async\\\": true,\\n  \\\"aliases\\\": [\\\"jpeg-xr\\\"],\\n  \\\"property\\\": \\\"jpegxr\\\",\\n  \\\"tags\\\": [\\\"image\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"Wikipedia Article\\\",\\n    \\\"href\\\": \\\"https://en.wikipedia.org/wiki/JPEG_XR\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nTest for JPEG XR support\\n*/\\n\\n\\n  Modernizr.addAsyncTest(function() {\\n    var image = new Image();\\n\\n    image.onload = image.onerror = function() {\\n      addTest('jpegxr', image.width == 1, {aliases: ['jpeg-xr']});\\n    };\\n\\n    image.src = 'data:image/vnd.ms-photo;base64,SUm8AQgAAAAFAAG8AQAQAAAASgAAAIC8BAABAAAAAQAAAIG8BAABAAAAAQAAAMC8BAABAAAAWgAAAMG8BAABAAAAHwAAAAAAAAAkw91vA07+S7GFPXd2jckNV01QSE9UTwAZAYBxAAAAABP/gAAEb/8AAQAAAQAAAA==';\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"sizes attribute\\\",\\n  \\\"async\\\": true,\\n  \\\"property\\\": \\\"sizes\\\",\\n  \\\"tags\\\": [\\\"image\\\"],\\n  \\\"authors\\\": [\\\"Mat Marquis\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"Spec\\\",\\n    \\\"href\\\": \\\"http://picture.responsiveimages.org/#parse-sizes-attr\\\"\\n    },{\\n    \\\"name\\\": \\\"Usage Details\\\",\\n    \\\"href\\\": \\\"http://ericportis.com/posts/2014/srcset-sizes/\\\"\\n    }]\\n}\\n!*/\\n/* DOC\\nTest for the `sizes` attribute on images\\n*/\\n\\n  Modernizr.addAsyncTest(function() {\\n    var width1, width2, test;\\n    var image = createElement('img');\\n    // in a perfect world this would be the test...\\n    var isSizes = 'sizes' in image;\\n\\n    // ... but we need to deal with Safari 9...\\n    if (!isSizes && ('srcset' in  image)) {\\n      width2 = 'data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw==';\\n      width1 = 'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';\\n\\n      test = function() {\\n        addTest('sizes', image.width == 2);\\n      };\\n\\n      image.onload = test;\\n      image.onerror = test;\\n      image.setAttribute('sizes', '9px');\\n\\n      image.srcset = width1 + ' 1w,' + width2 + ' 8w';\\n      image.src = width1;\\n    } else {\\n      addTest('sizes', isSizes);\\n    }\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"srcset attribute\\\",\\n  \\\"property\\\": \\\"srcset\\\",\\n  \\\"tags\\\": [\\\"image\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"Smashing Magazine Article\\\",\\n    \\\"href\\\": \\\"https://en.wikipedia.org/wiki/APNG\\\"\\n    },{\\n    \\\"name\\\": \\\"Generate multi-resolution images for srcset with Grunt\\\",\\n    \\\"href\\\": \\\"https://addyosmani.com/blog/generate-multi-resolution-images-for-srcset-with-grunt/\\\"\\n    }]\\n}\\n!*/\\n/* DOC\\nTest for the srcset attribute of images\\n*/\\n\\n  Modernizr.addTest('srcset', 'srcset' in createElement('img'));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Webp\\\",\\n  \\\"async\\\": true,\\n  \\\"property\\\": \\\"webp\\\",\\n  \\\"tags\\\": [\\\"image\\\"],\\n  \\\"builderAliases\\\": [\\\"img_webp\\\"],\\n  \\\"authors\\\": [\\\"Krister Kari\\\", \\\"@amandeep\\\", \\\"Rich Bradshaw\\\", \\\"Ryan Seddon\\\", \\\"Paul Irish\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"Webp Info\\\",\\n    \\\"href\\\": \\\"https://developers.google.com/speed/webp/\\\"\\n  }, {\\n    \\\"name\\\": \\\"Chormium blog - Chrome 32 Beta: Animated WebP images and faster Chrome for Android touch input\\\",\\n    \\\"href\\\": \\\"https://blog.chromium.org/2013/11/chrome-32-beta-animated-webp-images-and.html\\\"\\n  }, {\\n    \\\"name\\\": \\\"Webp Lossless Spec\\\",\\n    \\\"href\\\": \\\"https://developers.google.com/speed/webp/docs/webp_lossless_bitstream_specification\\\"\\n  }, {\\n    \\\"name\\\": \\\"Article about WebP support on Android browsers\\\",\\n    \\\"href\\\": \\\"http://www.wope-framework.com/en/2013/06/24/webp-support-on-android-browsers/\\\"\\n  }, {\\n    \\\"name\\\": \\\"Chormium WebP announcement\\\",\\n    \\\"href\\\": \\\"https://blog.chromium.org/2011/11/lossless-and-transparency-encoding-in.html?m=1\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nTests for lossy, non-alpha webp support.\\n\\nTests for all forms of webp support (lossless, lossy, alpha, and animated)..\\n\\n  Modernizr.webp              // Basic support (lossy)\\n  Modernizr.webp.lossless     // Lossless\\n  Modernizr.webp.alpha        // Alpha (both lossy and lossless)\\n  Modernizr.webp.animation    // Animated WebP\\n\\n*/\\n\\n\\n  Modernizr.addAsyncTest(function() {\\n\\n    var webpTests = [{\\n      'uri': 'data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA=',\\n      'name': 'webp'\\n    }, {\\n      'uri': 'data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==',\\n      'name': 'webp.alpha'\\n    }, {\\n      'uri': 'data:image/webp;base64,UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA',\\n      'name': 'webp.animation'\\n    }, {\\n      'uri': 'data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=',\\n      'name': 'webp.lossless'\\n    }];\\n\\n    var webp = webpTests.shift();\\n    function test(name, uri, cb) {\\n\\n      var image = new Image();\\n\\n      function addResult(event) {\\n        // if the event is from 'onload', check the see if the image's width is\\n        // 1 pixel (which indiciates support). otherwise, it fails\\n\\n        var result = event && event.type === 'load' ? image.width == 1 : false;\\n        var baseTest = name === 'webp';\\n\\n        /* jshint -W053 */\\n        addTest(name, baseTest ? new Boolean(result) : result);\\n\\n        if (cb) {\\n          cb(event);\\n        }\\n      }\\n\\n      image.onerror = addResult;\\n      image.onload = addResult;\\n\\n      image.src = uri;\\n    }\\n\\n    // test for webp support in general\\n    test(webp.name, webp.uri, function(e) {\\n      // if the webp test loaded, test everything else.\\n      if (e && e.type === 'load') {\\n        for (var i = 0; i < webpTests.length; i++) {\\n          test(webpTests[i].name, webpTests[i].uri);\\n        }\\n      }\\n    });\\n\\n  });\\n\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Webp Alpha\\\",\\n  \\\"async\\\": true,\\n  \\\"property\\\": \\\"webpalpha\\\",\\n  \\\"aliases\\\": [\\\"webp-alpha\\\"],\\n  \\\"tags\\\": [\\\"image\\\"],\\n  \\\"authors\\\": [\\\"Krister Kari\\\", \\\"Rich Bradshaw\\\", \\\"Ryan Seddon\\\", \\\"Paul Irish\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"WebP Info\\\",\\n    \\\"href\\\": \\\"https://developers.google.com/speed/webp/\\\"\\n  },{\\n    \\\"name\\\": \\\"Article about WebP support on Android browsers\\\",\\n    \\\"href\\\": \\\"http://www.wope-framework.com/en/2013/06/24/webp-support-on-android-browsers/\\\"\\n  },{\\n    \\\"name\\\": \\\"Chromium WebP announcement\\\",\\n    \\\"href\\\": \\\"https://blog.chromium.org/2011/11/lossless-and-transparency-encoding-in.html?m=1\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nTests for transparent webp support.\\n*/\\n\\n  Modernizr.addAsyncTest(function() {\\n    var image = new Image();\\n\\n    image.onerror = function() {\\n      addTest('webpalpha', false, {aliases: ['webp-alpha']});\\n    };\\n\\n    image.onload = function() {\\n      addTest('webpalpha', image.width == 1, {aliases: ['webp-alpha']});\\n    };\\n\\n    image.src = 'data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==';\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Webp Animation\\\",\\n  \\\"async\\\": true,\\n  \\\"property\\\": \\\"webpanimation\\\",\\n  \\\"aliases\\\": [\\\"webp-animation\\\"],\\n  \\\"tags\\\": [\\\"image\\\"],\\n  \\\"authors\\\": [\\\"Krister Kari\\\", \\\"Rich Bradshaw\\\", \\\"Ryan Seddon\\\", \\\"Paul Irish\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"WebP Info\\\",\\n    \\\"href\\\": \\\"https://developers.google.com/speed/webp/\\\"\\n  },{\\n    \\\"name\\\": \\\"Chromium blog - Chrome 32 Beta: Animated WebP images and faster Chrome for Android touch input\\\",\\n    \\\"href\\\": \\\"https://blog.chromium.org/2013/11/chrome-32-beta-animated-webp-images-and.html\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nTests for animated webp support.\\n*/\\n\\n  Modernizr.addAsyncTest(function() {\\n    var image = new Image();\\n\\n    image.onerror = function() {\\n      addTest('webpanimation', false, {aliases: ['webp-animation']});\\n    };\\n\\n    image.onload = function() {\\n      addTest('webpanimation', image.width == 1, {aliases: ['webp-animation']});\\n    };\\n\\n    image.src = 'data:image/webp;base64,UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA';\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Webp Lossless\\\",\\n  \\\"async\\\": true,\\n  \\\"property\\\": [\\\"webplossless\\\", \\\"webp-lossless\\\"],\\n  \\\"tags\\\": [\\\"image\\\"],\\n  \\\"authors\\\": [\\\"@amandeep\\\", \\\"Rich Bradshaw\\\", \\\"Ryan Seddon\\\", \\\"Paul Irish\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"Webp Info\\\",\\n    \\\"href\\\": \\\"https://developers.google.com/speed/webp/\\\"\\n  },{\\n    \\\"name\\\": \\\"Webp Lossless Spec\\\",\\n    \\\"href\\\": \\\"https://developers.google.com/speed/webp/docs/webp_lossless_bitstream_specification\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nTests for non-alpha lossless webp support.\\n*/\\n\\n  Modernizr.addAsyncTest(function() {\\n    var image = new Image();\\n\\n    image.onerror = function() {\\n      addTest('webplossless', false, {aliases: ['webp-lossless']});\\n    };\\n\\n    image.onload = function() {\\n      addTest('webplossless', image.width == 1, {aliases: ['webp-lossless']});\\n    };\\n\\n    image.src = 'data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=';\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"IndexedDB\\\",\\n  \\\"property\\\": \\\"indexeddb\\\",\\n  \\\"caniuse\\\": \\\"indexeddb\\\",\\n  \\\"tags\\\": [\\\"storage\\\"],\\n  \\\"polyfills\\\": [\\\"indexeddb\\\"]\\n}\\n!*/\\n/* DOC\\nDetects support for the IndexedDB client-side storage API (final spec).\\n*/\\n\\n  // Vendors had inconsistent prefixing with the experimental Indexed DB:\\n  // - Webkit's implementation is accessible through webkitIndexedDB\\n  // - Firefox shipped moz_indexedDB before FF4b9, but since then has been mozIndexedDB\\n  // For speed, we don't test the legacy (and beta-only) indexedDB\\n\\n  var indexeddb;\\n  try {\\n    indexeddb = prefixed('indexedDB', window);\\n  } catch (e) {\\n  }\\n\\n  Modernizr.addTest('indexeddb', !!indexeddb);\\n\\n  if (!!indexeddb) {\\n    Modernizr.addTest('indexeddb.deletedatabase', 'deleteDatabase' in indexeddb);\\n  }\\n;\\n/*!\\n{\\n  \\\"name\\\": \\\"IndexedDB Blob\\\",\\n  \\\"property\\\": \\\"indexeddbblob\\\"\\n}\\n!*/\\n/* DOC\\nDetects if the browser can save File/Blob objects to IndexedDB\\n*/\\n\\n  // Vendors had inconsistent prefixing with the experimental Indexed DB:\\n  // - Webkit's implementation is accessible through webkitIndexedDB\\n  // - Firefox shipped moz_indexedDB before FF4b9, but since then has been mozIndexedDB\\n  // For speed, we don't test the legacy (and beta-only) indexedDB\\n\\n  Modernizr.addAsyncTest(function() {\\n    /* jshint -W053 */\\n    var indexeddb;\\n    var dbname = 'detect-blob-support';\\n    var supportsBlob = false;\\n    var request;\\n    var db;\\n\\n    try {\\n      indexeddb = prefixed('indexedDB', window);\\n    } catch (e) {\\n    }\\n\\n    if (!(Modernizr.indexeddb && Modernizr.indexeddb.deletedatabase)) {\\n      return false;\\n    }\\n\\n    // Calling `deleteDatabase` in a try…catch because some contexts (e.g. data URIs)\\n    // will throw a `SecurityError`\\n    try {\\n      indexeddb.deleteDatabase(dbname).onsuccess = function() {\\n        request = indexeddb.open(dbname, 1);\\n        request.onupgradeneeded = function() {\\n          request.result.createObjectStore('store');\\n        };\\n        request.onsuccess = function() {\\n          db = request.result;\\n          try {\\n            db.transaction('store', 'readwrite').objectStore('store').put(new Blob(), 'key');\\n            supportsBlob = true;\\n          }\\n          catch (e) {\\n            supportsBlob = false;\\n          }\\n          finally {\\n            addTest('indexeddbblob', supportsBlob);\\n            db.close();\\n            indexeddb.deleteDatabase(dbname);\\n          }\\n        };\\n      };\\n    }\\n    catch (e) {\\n      addTest('indexeddbblob', false);\\n    }\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"input formaction\\\",\\n  \\\"property\\\": \\\"inputformaction\\\",\\n  \\\"aliases\\\": [\\\"input-formaction\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"WHATWG Spec\\\",\\n    \\\"href\\\": \\\"https://html.spec.whatwg.org/multipage/forms.html#attr-fs-formaction\\\"\\n  }, {\\n    \\\"name\\\": \\\"Wufoo demo\\\",\\n    \\\"href\\\": \\\"https://www.wufoo.com/html5/attributes/13-formaction.html\\\"\\n  }],\\n  \\\"polyfills\\\": [\\n    \\\"webshims\\\"\\n  ]\\n}\\n!*/\\n/* DOC\\nDetect support for the formaction attribute on form inputs\\n*/\\n\\n  Modernizr.addTest('inputformaction', !!('formAction' in createElement('input')), {aliases: ['input-formaction']});\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"input formenctype\\\",\\n  \\\"property\\\": \\\"inputformenctype\\\",\\n  \\\"aliases\\\": [\\\"input-formenctype\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"WHATWG Spec\\\",\\n    \\\"href\\\": \\\"https://html.spec.whatwg.org/multipage/forms.html#attr-fs-formenctype\\\"\\n  }, {\\n    \\\"name\\\": \\\"Wufoo demo\\\",\\n    \\\"href\\\": \\\"https://www.wufoo.com/html5/attributes/16-formenctype.html\\\"\\n  }],\\n  \\\"polyfills\\\": [\\n    \\\"html5formshim\\\"\\n  ]\\n}\\n!*/\\n/* DOC\\nDetect support for the formenctype attribute on form inputs, which overrides the form enctype attribute\\n*/\\n\\n  Modernizr.addTest('inputformenctype', !!('formEnctype' in createElement('input')), {aliases: ['input-formenctype']});\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"input formmethod\\\",\\n  \\\"property\\\": \\\"inputformmethod\\\",\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"WHATWG Spec\\\",\\n    \\\"href\\\": \\\"https://html.spec.whatwg.org/multipage/forms.html#attr-fs-formmethod\\\"\\n  }, {\\n    \\\"name\\\": \\\"Wufoo demo\\\",\\n    \\\"href\\\": \\\"https://www.wufoo.com/html5/attributes/14-formmethod.html\\\"\\n  }],\\n  \\\"polyfills\\\": [\\n    \\\"webshims\\\"\\n  ]\\n}\\n!*/\\n/* DOC\\nDetect support for the formmethod attribute on form inputs\\n*/\\n\\n  Modernizr.addTest('inputformmethod', !!('formMethod' in createElement('input')));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"input formtarget\\\",\\n  \\\"property\\\": \\\"inputformtarget\\\",\\n  \\\"aliases\\\": [\\\"input-formtarget\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"WHATWG Spec\\\",\\n    \\\"href\\\": \\\"https://html.spec.whatwg.org/multipage/forms.html#attr-fs-formtarget\\\"\\n  }, {\\n    \\\"name\\\": \\\"Wufoo demo\\\",\\n    \\\"href\\\": \\\"https://www.wufoo.com/html5/attributes/15-formtarget.html\\\"\\n  }],\\n  \\\"polyfills\\\": [\\n    \\\"html5formshim\\\"\\n  ]\\n}\\n!*/\\n/* DOC\\nDetect support for the formtarget attribute on form inputs, which overrides the form target attribute\\n*/\\n\\n  Modernizr.addTest('inputformtarget', !!('formtarget' in createElement('input')), {aliases: ['input-formtarget']});\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"input[search] search event\\\",\\n  \\\"property\\\": \\\"search\\\",\\n  \\\"tags\\\": [\\\"input\\\",\\\"search\\\"],\\n  \\\"authors\\\": [\\\"Calvin Webster\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"Wufoo demo\\\",\\n    \\\"href\\\": \\\"https://www.wufoo.com/html5/types/5-search.html?\\\"\\n  }, {\\n    \\\"name\\\": \\\"CSS Tricks\\\",\\n    \\\"href\\\": \\\"https://css-tricks.com/webkit-html5-search-inputs/\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nThere is a custom `search` event implemented in webkit browsers when using an `input[search]` element.\\n*/\\n\\n  Modernizr.addTest('inputsearchevent',  hasEvent('search'));\\n\\n/*!\\n {\\n \\\"name\\\": \\\"Internationalization API\\\",\\n \\\"property\\\": \\\"intl\\\",\\n \\\"notes\\\": [{\\n \\\"name\\\": \\\"MDN documentation\\\",\\n \\\"href\\\": \\\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl\\\"\\n },{\\n \\\"name\\\": \\\"ECMAScript spec\\\",\\n \\\"href\\\": \\\"http://www.ecma-international.org/ecma-402/1.0/\\\"\\n }]\\n }\\n !*/\\n/* DOC\\nDetects support for the Internationalization API which allow easy formatting of number and dates and sorting string\\nbased on a locale\\n*/\\n\\n  Modernizr.addTest('intl', !!prefixed('Intl', window));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Reverse Ordered Lists\\\",\\n  \\\"property\\\": \\\"olreversed\\\",\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"Impressive Webs article\\\",\\n    \\\"href\\\": \\\"http://impressivewebs.com/reverse-ordered-lists-html5\\\"\\n  }],\\n  \\\"builderAliases\\\": [\\\"lists_reversed\\\"]\\n}\\n!*/\\n/* DOC\\nDetects support for the `reversed` attribute on the `<ol>` element.\\n*/\\n\\n  Modernizr.addTest('olreversed', 'reversed' in createElement('ol'));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"MathML\\\",\\n  \\\"property\\\": \\\"mathml\\\",\\n  \\\"caniuse\\\": \\\"mathml\\\",\\n  \\\"authors\\\": [\\\"Addy Osmani\\\", \\\"Davide P. Cervone\\\", \\\"David Carlisle\\\"],\\n  \\\"knownBugs\\\": [\\\"Firefox < 4 will likely return a false, however it does support MathML inside XHTML documents\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"W3C spec\\\",\\n    \\\"href\\\": \\\"https://www.w3.org/Math/\\\"\\n  }],\\n  \\\"polyfills\\\": [\\\"mathjax\\\"]\\n}\\n!*/\\n/* DOC\\nDetects support for MathML, for mathematic equations in web pages.\\n*/\\n\\n  // Based on work by Davide (@dpvc) and David (@davidcarlisle)\\n  // in https://github.com/mathjax/MathJax/issues/182\\n\\n  Modernizr.addTest('mathml', function() {\\n    var ret;\\n\\n    testStyles('#modernizr{position:absolute;display:inline-block}', function(node) {\\n      node.innerHTML += '<math><mfrac><mi>xx</mi><mi>yy</mi></mfrac></math>';\\n\\n      ret = node.offsetHeight > node.offsetWidth;\\n    });\\n\\n    return ret;\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Beacon API\\\",\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"MDN documentation\\\",\\n    \\\"href\\\": \\\"https://developer.mozilla.org/en-US/docs/Web/API/navigator.sendBeacon\\\"\\n  },{\\n    \\\"name\\\": \\\"W3C specification\\\",\\n    \\\"href\\\": \\\"https://dvcs.w3.org/hg/webperf/raw-file/tip/specs/Beacon/Overview.html\\\"\\n  }],\\n  \\\"property\\\": \\\"beacon\\\",\\n  \\\"tags\\\": [\\\"beacon\\\", \\\"network\\\"],\\n  \\\"authors\\\": [\\\"Cătălin Mariș\\\"]\\n}\\n!*/\\n/* DOC\\nDetects support for an API that allows for asynchronous transfer of small HTTP data from the client to a server.\\n*/\\n\\n  Modernizr.addTest('beacon', 'sendBeacon' in navigator);\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Low Bandwidth Connection\\\",\\n  \\\"property\\\": \\\"lowbandwidth\\\",\\n  \\\"tags\\\": [\\\"network\\\"],\\n  \\\"builderAliases\\\": [\\\"network_connection\\\"]\\n}\\n!*/\\n/* DOC\\nTests for determining low-bandwidth via `navigator.connection`\\n\\nThere are two iterations of the `navigator.connection` interface.\\n\\nThe first is present in Android 2.2+ and only in the Browser (not WebView)\\n\\n- http://docs.phonegap.com/en/1.2.0/phonegap_connection_connection.md.html#connection.type\\n- http://davidbcalhoun.com/2010/using-navigator-connection-android\\n\\nThe second is specced at http://dev.w3.org/2009/dap/netinfo/ and perhaps landing in WebKit\\n\\n- https://bugs.webkit.org/show_bug.cgi?id=73528\\n\\nUnknown devices are assumed as fast\\n\\nFor more rigorous network testing, consider boomerang.js: https://github.com/bluesmoon/boomerang/\\n*/\\n\\n  Modernizr.addTest('lowbandwidth', function() {\\n    // polyfill\\n    var connection = navigator.connection || {type: 0};\\n\\n    return connection.type == 3 || // connection.CELL_2G\\n      connection.type == 4 || // connection.CELL_3G\\n      /^[23]g$/.test(connection.type); // string value in new spec\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Server Sent Events\\\",\\n  \\\"property\\\": \\\"eventsource\\\",\\n  \\\"tags\\\": [\\\"network\\\"],\\n  \\\"builderAliases\\\": [\\\"network_eventsource\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"WHATWG Spec\\\",\\n    \\\"href\\\": \\\"https://html.spec.whatwg.org/multipage/comms.html#server-sent-events\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nTests for server sent events aka eventsource.\\n*/\\n\\n  Modernizr.addTest('eventsource', 'EventSource' in window);\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Fetch API\\\",\\n  \\\"property\\\": \\\"fetch\\\",\\n  \\\"tags\\\": [\\\"network\\\"],\\n  \\\"caniuse\\\": \\\"fetch\\\",\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"Fetch Living Standard\\\",\\n    \\\"href\\\": \\\"https://fetch.spec.whatwg.org/\\\"\\n  }],\\n  \\\"polyfills\\\": [\\\"fetch\\\"]\\n}\\n!*/\\n/* DOC\\nDetects support for the fetch API, a modern replacement for XMLHttpRequest.\\n*/\\n\\n  Modernizr.addTest('fetch', 'fetch' in window);\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"XHR responseType\\\",\\n  \\\"property\\\": \\\"xhrresponsetype\\\",\\n  \\\"tags\\\": [\\\"network\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"XMLHttpRequest Living Standard\\\",\\n    \\\"href\\\": \\\"https://xhr.spec.whatwg.org/#the-responsetype-attribute\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nTests for XMLHttpRequest xhr.responseType.\\n*/\\n\\n  Modernizr.addTest('xhrresponsetype', (function() {\\n    if (typeof XMLHttpRequest == 'undefined') {\\n      return false;\\n    }\\n    var xhr = new XMLHttpRequest();\\n    xhr.open('get', '/', true);\\n    return 'response' in xhr;\\n  }()));\\n\\n\\n  /**\\n   * http://mathiasbynens.be/notes/xhr-responsetype-json#comment-4\\n   *\\n   * @access private\\n   * @function testXhrType\\n   * @param {string} type - String name of the XHR type you want to detect\\n   * @returns {boolean}\\n   * @author Mathias Bynens\\n   */\\n\\n  /* istanbul ignore next */\\n  var testXhrType = function(type) {\\n    if (typeof XMLHttpRequest == 'undefined') {\\n      return false;\\n    }\\n    var xhr = new XMLHttpRequest();\\n    xhr.open('get', '/', true);\\n    try {\\n      xhr.responseType = type;\\n    } catch (error) {\\n      return false;\\n    }\\n    return 'response' in xhr && xhr.responseType == type;\\n  };\\n\\n  \\n/*!\\n{\\n  \\\"name\\\": \\\"XHR responseType='arraybuffer'\\\",\\n  \\\"property\\\": \\\"xhrresponsetypearraybuffer\\\",\\n  \\\"tags\\\": [\\\"network\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"XMLHttpRequest Living Standard\\\",\\n    \\\"href\\\": \\\"https://xhr.spec.whatwg.org/#the-responsetype-attribute\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nTests for XMLHttpRequest xhr.responseType='arraybuffer'.\\n*/\\n\\n  Modernizr.addTest('xhrresponsetypearraybuffer', testXhrType('arraybuffer'));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"XHR responseType='blob'\\\",\\n  \\\"property\\\": \\\"xhrresponsetypeblob\\\",\\n  \\\"tags\\\": [\\\"network\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"XMLHttpRequest Living Standard\\\",\\n    \\\"href\\\": \\\"https://xhr.spec.whatwg.org/#the-responsetype-attribute\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nTests for XMLHttpRequest xhr.responseType='blob'.\\n*/\\n\\n  Modernizr.addTest('xhrresponsetypeblob', testXhrType('blob'));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"XHR responseType='document'\\\",\\n  \\\"property\\\": \\\"xhrresponsetypedocument\\\",\\n  \\\"tags\\\": [\\\"network\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"XMLHttpRequest Living Standard\\\",\\n    \\\"href\\\": \\\"https://xhr.spec.whatwg.org/#the-responsetype-attribute\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nTests for XMLHttpRequest xhr.responseType='document'.\\n*/\\n\\n  Modernizr.addTest('xhrresponsetypedocument', testXhrType('document'));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"XHR responseType='json'\\\",\\n  \\\"property\\\": \\\"xhrresponsetypejson\\\",\\n  \\\"tags\\\": [\\\"network\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"XMLHttpRequest Living Standard\\\",\\n    \\\"href\\\": \\\"https://xhr.spec.whatwg.org/#the-responsetype-attribute\\\"\\n  },{\\n    \\\"name\\\": \\\"Explanation of xhr.responseType='json'\\\",\\n    \\\"href\\\": \\\"https://mathiasbynens.be/notes/xhr-responsetype-json\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nTests for XMLHttpRequest xhr.responseType='json'.\\n*/\\n\\n  Modernizr.addTest('xhrresponsetypejson', testXhrType('json'));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"XHR responseType='text'\\\",\\n  \\\"property\\\": \\\"xhrresponsetypetext\\\",\\n  \\\"tags\\\": [\\\"network\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"XMLHttpRequest Living Standard\\\",\\n    \\\"href\\\": \\\"https://xhr.spec.whatwg.org/#the-responsetype-attribute\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nTests for XMLHttpRequest xhr.responseType='text'.\\n*/\\n\\n  Modernizr.addTest('xhrresponsetypetext', testXhrType('text'));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"XML HTTP Request Level 2 XHR2\\\",\\n  \\\"property\\\": \\\"xhr2\\\",\\n  \\\"tags\\\": [\\\"network\\\"],\\n  \\\"builderAliases\\\": [\\\"network_xhr2\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"W3 Spec\\\",\\n    \\\"href\\\": \\\"https://www.w3.org/TR/XMLHttpRequest2/\\\"\\n  },{\\n    \\\"name\\\": \\\"Details on Related Github Issue\\\",\\n    \\\"href\\\": \\\"https://github.com/Modernizr/Modernizr/issues/385\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nTests for XHR2.\\n*/\\n\\n  // all three of these details report consistently across all target browsers:\\n  //   !!(window.ProgressEvent);\\n  //   'XMLHttpRequest' in window && 'withCredentials' in new XMLHttpRequest\\n  Modernizr.addTest('xhr2', 'XMLHttpRequest' in window && 'withCredentials' in new XMLHttpRequest());\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Notification\\\",\\n  \\\"property\\\": \\\"notification\\\",\\n  \\\"caniuse\\\": \\\"notifications\\\",\\n  \\\"authors\\\": [\\\"Theodoor van Donge\\\", \\\"Hendrik Beskow\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"HTML5 Rocks tutorial\\\",\\n    \\\"href\\\": \\\"http://www.html5rocks.com/en/tutorials/notifications/quick/\\\"\\n  },{\\n    \\\"name\\\": \\\"W3C spec\\\",\\n    \\\"href\\\": \\\"https://www.w3.org/TR/notifications/\\\"\\n  }, {\\n    \\\"name\\\": \\\"Changes in Chrome to Notifications API due to Service Worker Push Notifications\\\",\\n    \\\"href\\\": \\\"https://developers.google.com/web/updates/2015/05/Notifying-you-of-notificiation-changes\\\"\\n  }],\\n  \\\"knownBugs\\\": [\\n    \\\"Possibility of false-positive on Chrome for Android if permissions we're granted for a website prior to Chrome 44.\\\"\\n  ],\\n  \\\"polyfills\\\": [\\\"desktop-notify\\\", \\\"html5-notifications\\\"]\\n}\\n!*/\\n/* DOC\\nDetects support for the Notifications API\\n*/\\n\\n  Modernizr.addTest('notification', function() {\\n    if (!window.Notification || !window.Notification.requestPermission) {\\n      return false;\\n    }\\n    // if permission is already granted, assume support\\n    if (window.Notification.permission === 'granted') {\\n      return true;\\n    }\\n\\n    try {\\n      new window.Notification('');\\n    } catch (e) {\\n      if (e.name === 'TypeError') {\\n        return false;\\n      }\\n    }\\n\\n    return true;\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Page Visibility API\\\",\\n  \\\"property\\\": \\\"pagevisibility\\\",\\n  \\\"caniuse\\\": \\\"pagevisibility\\\",\\n  \\\"tags\\\": [\\\"performance\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"MDN documentation\\\",\\n    \\\"href\\\": \\\"https://developer.mozilla.org/en-US/docs/DOM/Using_the_Page_Visibility_API\\\"\\n  },{\\n    \\\"name\\\": \\\"W3C spec\\\",\\n    \\\"href\\\": \\\"https://www.w3.org/TR/2011/WD-page-visibility-20110602/\\\"\\n  },{\\n    \\\"name\\\": \\\"HTML5 Rocks tutorial\\\",\\n    \\\"href\\\": \\\"http://www.html5rocks.com/en/tutorials/pagevisibility/intro/\\\"\\n  }],\\n  \\\"polyfills\\\": [\\\"visibilityjs\\\", \\\"visiblyjs\\\", \\\"jquery-visibility\\\"]\\n}\\n!*/\\n/* DOC\\nDetects support for the Page Visibility API, which can be used to disable unnecessary actions and otherwise improve user experience.\\n*/\\n\\n  Modernizr.addTest('pagevisibility', !!prefixed('hidden', document, false));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Navigation Timing API\\\",\\n  \\\"property\\\": \\\"performance\\\",\\n  \\\"caniuse\\\": \\\"nav-timing\\\",\\n  \\\"tags\\\": [\\\"performance\\\"],\\n  \\\"authors\\\": [\\\"Scott Murphy (@uxder)\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"W3C Spec\\\",\\n    \\\"href\\\": \\\"https://www.w3.org/TR/navigation-timing/\\\"\\n  },{\\n    \\\"name\\\": \\\"HTML5 Rocks article\\\",\\n    \\\"href\\\": \\\"http://www.html5rocks.com/en/tutorials/webperformance/basics/\\\"\\n  }],\\n  \\\"polyfills\\\": [\\\"perfnow\\\"]\\n}\\n!*/\\n/* DOC\\nDetects support for the Navigation Timing API, for measuring browser and connection performance.\\n*/\\n\\n  Modernizr.addTest('performance', !!prefixed('performance', window));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"DOM Pointer Events API\\\",\\n  \\\"property\\\": \\\"pointerevents\\\",\\n  \\\"tags\\\": [\\\"input\\\"],\\n  \\\"authors\\\": [\\\"Stu Cox\\\"],\\n  \\\"notes\\\": [\\n    {\\n      \\\"name\\\": \\\"W3C spec\\\",\\n      \\\"href\\\": \\\"https://www.w3.org/TR/pointerevents/\\\"\\n    }\\n  ],\\n  \\\"warnings\\\": [\\\"This property name now refers to W3C DOM PointerEvents: https://github.com/Modernizr/Modernizr/issues/548#issuecomment-12812099\\\"],\\n  \\\"polyfills\\\": [\\\"handjs\\\"]\\n}\\n!*/\\n/* DOC\\nDetects support for the DOM Pointer Events API, which provides a unified event interface for pointing input devices, as implemented in IE10+.\\n*/\\n\\n  // **Test name hijacked!**\\n  // Now refers to W3C DOM PointerEvents spec rather than the CSS pointer-events property.\\n  Modernizr.addTest('pointerevents', function() {\\n    // Cannot use `.prefixed()` for events, so test each prefix\\n    var bool = false,\\n    i = domPrefixes.length;\\n\\n    // Don't forget un-prefixed...\\n    bool = Modernizr.hasEvent('pointerdown');\\n\\n    while (i-- && !bool) {\\n      if (hasEvent(domPrefixes[i] + 'pointerdown')) {\\n        bool = true;\\n      }\\n    }\\n    return bool;\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Pointer Lock API\\\",\\n  \\\"property\\\": \\\"pointerlock\\\",\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"MDN documentation\\\",\\n    \\\"href\\\": \\\"https://developer.mozilla.org/en-US/docs/API/Pointer_Lock_API\\\"\\n  }],\\n  \\\"builderAliases\\\": [\\\"pointerlock_api\\\"]\\n}\\n!*/\\n/* DOC\\nDetects support the pointer lock API which allows you to lock the mouse cursor to the browser window.\\n*/\\n\\n  // https://developer.mozilla.org/en-US/docs/API/Pointer_Lock_API\\n  Modernizr.addTest('pointerlock', !!prefixed('exitPointerLock', document));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"postMessage\\\",\\n  \\\"property\\\": \\\"postmessage\\\",\\n  \\\"caniuse\\\": \\\"x-doc-messaging\\\",\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"W3C Spec\\\",\\n    \\\"href\\\": \\\"http://www.w3.org/TR/html5/comms.html#posting-messages\\\"\\n  }],\\n  \\\"polyfills\\\": [\\\"easyxdm\\\", \\\"postmessage-jquery\\\"]\\n}\\n!*/\\n/* DOC\\nDetects support for the `window.postMessage` protocol for cross-document messaging.\\n*/\\n\\n  Modernizr.addTest('postmessage', 'postMessage' in window);\\n\\n/*!\\n{\\n  \\\"authors\\\": [\\\"Cătălin Mariș\\\"],\\n  \\\"caniuse\\\": \\\"proximity\\\",\\n  \\\"name\\\": \\\"Proximity API\\\",\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"MDN documentation\\\",\\n    \\\"href\\\": \\\"https://developer.mozilla.org/en-US/docs/Web/API/Proximity_Events\\\"\\n  },{\\n    \\\"name\\\": \\\"W3C specification\\\",\\n    \\\"href\\\": \\\"https://www.w3.org/TR/proximity/\\\"\\n  }],\\n  \\\"property\\\": \\\"proximity\\\",\\n  \\\"tags\\\": [\\\"events\\\", \\\"proximity\\\"]\\n}\\n!*/\\n/* DOC\\nDetects support for an API that allows users to get proximity related information from the device's proximity sensor.\\n*/\\n\\n\\n  Modernizr.addAsyncTest(function() {\\n\\n    var timeout;\\n    var timeoutTime = 300;\\n\\n    function advertiseSupport() {\\n\\n      // Clean up after ourselves\\n      clearTimeout(timeout);\\n      window.removeEventListener('deviceproximity', advertiseSupport);\\n\\n      // Advertise support as the browser supports\\n      // the API and the device has a proximity sensor\\n      addTest('proximity', true);\\n\\n    }\\n\\n    // Check if the browser has support for the API\\n    if ('ondeviceproximity' in window && 'onuserproximity' in window) {\\n\\n      // Check if the device has a proximity sensor\\n      // ( devices without such a sensor support the events but\\n      //   will never fire them resulting in a false positive )\\n      window.addEventListener('deviceproximity', advertiseSupport);\\n\\n      // If the event doesn't fire in a reasonable amount of time,\\n      // it means that the device doesn't have a proximity sensor,\\n      // thus, we can advertise the \\\"lack\\\" of support\\n      timeout = setTimeout(function() {\\n        window.removeEventListener('deviceproximity', advertiseSupport);\\n        addTest('proximity', false);\\n      }, timeoutTime);\\n\\n    } else {\\n      addTest('proximity', false);\\n    }\\n\\n  });\\n\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"QuerySelector\\\",\\n  \\\"property\\\": \\\"queryselector\\\",\\n  \\\"caniuse\\\": \\\"queryselector\\\",\\n  \\\"tags\\\": [\\\"queryselector\\\"],\\n  \\\"authors\\\": [\\\"Andrew Betts (@triblondon)\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\" : \\\"W3C Selectors reference\\\",\\n    \\\"href\\\": \\\"https://www.w3.org/TR/selectors-api/#queryselectorall\\\"\\n  }],\\n  \\\"polyfills\\\": [\\\"css-selector-engine\\\"]\\n}\\n!*/\\n/* DOC\\nDetects support for querySelector.\\n*/\\n\\n  Modernizr.addTest('queryselector', 'querySelector' in document && 'querySelectorAll' in document);\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Quota Storage Management API\\\",\\n  \\\"property\\\": \\\"quotamanagement\\\",\\n  \\\"tags\\\": [\\\"storage\\\"],\\n  \\\"builderAliases\\\": [\\\"quota_management_api\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"W3C Spec\\\",\\n    \\\"href\\\": \\\"https://www.w3.org/TR/quota-api/\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nDetects the ability to request a specific amount of space for filesystem access\\n*/\\n\\n  Modernizr.addTest('quotamanagement', function() {\\n    var tempStorage = prefixed('temporaryStorage', navigator);\\n    var persStorage = prefixed('persistentStorage', navigator);\\n\\n    return !!(tempStorage && persStorage);\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"requestAnimationFrame\\\",\\n  \\\"property\\\": \\\"requestanimationframe\\\",\\n  \\\"aliases\\\": [\\\"raf\\\"],\\n  \\\"caniuse\\\": \\\"requestanimationframe\\\",\\n  \\\"tags\\\": [\\\"animation\\\"],\\n  \\\"authors\\\": [\\\"Addy Osmani\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"W3C spec\\\",\\n    \\\"href\\\": \\\"https://www.w3.org/TR/animation-timing/\\\"\\n  }],\\n  \\\"polyfills\\\": [\\\"raf\\\"]\\n}\\n!*/\\n/* DOC\\nDetects support for the `window.requestAnimationFrame` API, for offloading animation repainting to the browser for optimized performance.\\n*/\\n\\n  Modernizr.addTest('requestanimationframe', !!prefixed('requestAnimationFrame', window), {aliases: ['raf']});\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"script[async]\\\",\\n  \\\"property\\\": \\\"scriptasync\\\",\\n  \\\"caniuse\\\": \\\"script-async\\\",\\n  \\\"tags\\\": [\\\"script\\\"],\\n  \\\"builderAliases\\\": [\\\"script_async\\\"],\\n  \\\"authors\\\": [\\\"Theodoor van Donge\\\"]\\n}\\n!*/\\n/* DOC\\nDetects support for the `async` attribute on the `<script>` element.\\n*/\\n\\n  Modernizr.addTest('scriptasync', 'async' in createElement('script'));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"script[defer]\\\",\\n  \\\"property\\\": \\\"scriptdefer\\\",\\n  \\\"caniuse\\\": \\\"script-defer\\\",\\n  \\\"tags\\\": [\\\"script\\\"],\\n  \\\"builderAliases\\\": [\\\"script_defer\\\"],\\n  \\\"authors\\\": [\\\"Theodoor van Donge\\\"],\\n  \\\"warnings\\\": [\\\"Browser implementation of the `defer` attribute vary: https://stackoverflow.com/questions/3952009/defer-attribute-chrome#answer-3982619\\\"],\\n  \\\"knownBugs\\\": [\\\"False positive in Opera 12\\\"]\\n}\\n!*/\\n/* DOC\\nDetects support for the `defer` attribute on the `<script>` element.\\n*/\\n\\n  Modernizr.addTest('scriptdefer', 'defer' in createElement('script'));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"ServiceWorker API\\\",\\n  \\\"property\\\": \\\"serviceworker\\\",\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"ServiceWorkers Explained\\\",\\n    \\\"href\\\": \\\"https://github.com/slightlyoff/ServiceWorker/blob/master/explainer.md\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nServiceWorkers (formerly Navigation Controllers) are a way to persistently cache resources to built apps that work better offline.\\n*/\\n\\n  Modernizr.addTest('serviceworker', 'serviceWorker' in navigator);\\n\\n/*!\\n{\\n  \\\"authors\\\": [\\\"Cătălin Mariș\\\"],\\n  \\\"name\\\": \\\"Speech Recognition API\\\",\\n  \\\"notes\\\": [\\n    {\\n      \\\"name\\\": \\\"W3C Web Speech API Specification - The SpeechRecognition Interface\\\",\\n      \\\"href\\\": \\\"https://dvcs.w3.org/hg/speech-api/raw-file/tip/speechapi.html#speechreco-section\\\"\\n    },\\n    {\\n      \\\"name\\\": \\\"Introduction to the Web Speech API\\\",\\n      \\\"href\\\": \\\"http://updates.html5rocks.com/2013/01/Voice-Driven-Web-Apps-Introduction-to-the-Web-Speech-API\\\"\\n    }\\n  ],\\n  \\\"property\\\": \\\"speechrecognition\\\",\\n  \\\"tags\\\": [\\\"input\\\", \\\"speech\\\"]\\n}\\n!*/\\n\\n\\n  Modernizr.addTest('speechrecognition', !!prefixed('SpeechRecognition', window));\\n\\n/*!\\n{\\n  \\\"authors\\\": [\\\"Cătălin Mariș\\\"],\\n  \\\"name\\\": \\\"Speech Synthesis API\\\",\\n  \\\"notes\\\": [\\n    {\\n      \\\"name\\\": \\\"W3C Web Speech API Specification - The SpeechSynthesis Interface\\\",\\n      \\\"href\\\": \\\"https://dvcs.w3.org/hg/speech-api/raw-file/tip/speechapi.html#tts-section\\\"\\n    }\\n  ],\\n  \\\"property\\\": \\\"speechsynthesis\\\",\\n  \\\"tags\\\": [\\\"input\\\", \\\"speech\\\"]\\n}\\n!*/\\n\\n\\n  Modernizr.addTest('speechsynthesis', 'SpeechSynthesisUtterance' in window);\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Local Storage\\\",\\n  \\\"property\\\": \\\"localstorage\\\",\\n  \\\"caniuse\\\": \\\"namevalue-storage\\\",\\n  \\\"tags\\\": [\\\"storage\\\"],\\n  \\\"knownBugs\\\": [],\\n  \\\"notes\\\": [],\\n  \\\"warnings\\\": [],\\n  \\\"polyfills\\\": [\\n    \\\"joshuabell-polyfill\\\",\\n    \\\"cupcake\\\",\\n    \\\"storagepolyfill\\\",\\n    \\\"amplifyjs\\\",\\n    \\\"yui-cacheoffline\\\"\\n  ]\\n}\\n!*/\\n\\n  // In FF4, if disabled, window.localStorage should === null.\\n\\n  // Normally, we could not test that directly and need to do a\\n  //   `('localStorage' in window) && ` test first because otherwise Firefox will\\n  //   throw bugzil.la/365772 if cookies are disabled\\n\\n  // Also in iOS5 Private Browsing mode, attempting to use localStorage.setItem\\n  // will throw the exception:\\n  //   QUOTA_EXCEEDED_ERROR DOM Exception 22.\\n  // Peculiarly, getItem and removeItem calls do not throw.\\n\\n  // Because we are forced to try/catch this, we'll go aggressive.\\n\\n  // Just FWIW: IE8 Compat mode supports these features completely:\\n  //   www.quirksmode.org/dom/html5.html\\n  // But IE8 doesn't support either with local files\\n\\n  Modernizr.addTest('localstorage', function() {\\n    var mod = 'modernizr';\\n    try {\\n      localStorage.setItem(mod, mod);\\n      localStorage.removeItem(mod);\\n      return true;\\n    } catch (e) {\\n      return false;\\n    }\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Session Storage\\\",\\n  \\\"property\\\": \\\"sessionstorage\\\",\\n  \\\"tags\\\": [\\\"storage\\\"],\\n  \\\"polyfills\\\": [\\\"joshuabell-polyfill\\\", \\\"cupcake\\\", \\\"sessionstorage\\\"]\\n}\\n!*/\\n\\n  // Because we are forced to try/catch this, we'll go aggressive.\\n\\n  // Just FWIW: IE8 Compat mode supports these features completely:\\n  //   www.quirksmode.org/dom/html5.html\\n  // But IE8 doesn't support either with local files\\n  Modernizr.addTest('sessionstorage', function() {\\n    var mod = 'modernizr';\\n    try {\\n      sessionStorage.setItem(mod, mod);\\n      sessionStorage.removeItem(mod);\\n      return true;\\n    } catch (e) {\\n      return false;\\n    }\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Web SQL Database\\\",\\n  \\\"property\\\": \\\"websqldatabase\\\",\\n  \\\"caniuse\\\": \\\"sql-storage\\\",\\n  \\\"tags\\\": [\\\"storage\\\"]\\n}\\n!*/\\n\\n  // Chrome incognito mode used to throw an exception when using openDatabase\\n  // It doesn't anymore.\\n  Modernizr.addTest('websqldatabase', 'openDatabase' in window);\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"style[scoped]\\\",\\n  \\\"property\\\": \\\"stylescoped\\\",\\n  \\\"caniuse\\\": \\\"style-scoped\\\",\\n  \\\"tags\\\": [\\\"dom\\\"],\\n  \\\"builderAliases\\\": [\\\"style_scoped\\\"],\\n  \\\"authors\\\": [\\\"Cătălin Mariș\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"WHATWG Specification\\\",\\n    \\\"href\\\": \\\"https://html.spec.whatwg.org/multipage/semantics.html#attr-style-scoped\\\"\\n  }],\\n  \\\"polyfills\\\": [\\\"scoped-styles\\\"]\\n}\\n!*/\\n/* DOC\\nSupport for the `scoped` attribute of the `<style>` element.\\n*/\\n\\n  Modernizr.addTest('stylescoped', 'scoped' in createElement('style'));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"SVG\\\",\\n  \\\"property\\\": \\\"svg\\\",\\n  \\\"caniuse\\\": \\\"svg\\\",\\n  \\\"tags\\\": [\\\"svg\\\"],\\n  \\\"authors\\\": [\\\"Erik Dahlstrom\\\"],\\n  \\\"polyfills\\\": [\\n    \\\"svgweb\\\",\\n    \\\"raphael\\\",\\n    \\\"amplesdk\\\",\\n    \\\"canvg\\\",\\n    \\\"svg-boilerplate\\\",\\n    \\\"sie\\\",\\n    \\\"dojogfx\\\",\\n    \\\"fabricjs\\\"\\n  ]\\n}\\n!*/\\n/* DOC\\nDetects support for SVG in `<embed>` or `<object>` elements.\\n*/\\n\\n  Modernizr.addTest('svg', !!document.createElementNS && !!document.createElementNS('http://www.w3.org/2000/svg', 'svg').createSVGRect);\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"SVG as an <img> tag source\\\",\\n  \\\"property\\\": \\\"svgasimg\\\",\\n  \\\"caniuse\\\" : \\\"svg-img\\\",\\n  \\\"tags\\\": [\\\"svg\\\"],\\n  \\\"authors\\\": [\\\"Chris Coyier\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"HTML5 Spec\\\",\\n    \\\"href\\\": \\\"http://www.w3.org/TR/html5/embedded-content-0.html#the-img-element\\\"\\n  }]\\n}\\n!*/\\n\\n\\n  // Original Async test by Stu Cox\\n  // https://gist.github.com/chriscoyier/8774501\\n\\n  // Now a Sync test based on good results here\\n  // http://codepen.io/chriscoyier/pen/bADFx\\n\\n  // Note http://www.w3.org/TR/SVG11/feature#Image is *supposed* to represent\\n  // support for the `<image>` tag in SVG, not an SVG file linked from an `<img>`\\n  // tag in HTML – but it’s a heuristic which works\\n  Modernizr.addTest('svgasimg', document.implementation.hasFeature('http://www.w3.org/TR/SVG11/feature#Image', '1.1'));\\n\\n\\n  /**\\n   * Object.prototype.toString can be used with every object and allows you to\\n   * get its class easily. Abstracting it off of an object prevents situations\\n   * where the toString property has been overridden\\n   *\\n   * @access private\\n   * @function toStringFn\\n   * @returns {function} An abstracted toString function\\n   */\\n\\n  var toStringFn = ({}).toString;\\n  \\n/*!\\n{\\n  \\\"name\\\": \\\"SVG clip paths\\\",\\n  \\\"property\\\": \\\"svgclippaths\\\",\\n  \\\"tags\\\": [\\\"svg\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"Demo\\\",\\n    \\\"href\\\": \\\"http://srufaculty.sru.edu/david.dailey/svg/newstuff/clipPath4.svg\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nDetects support for clip paths in SVG (only, not on HTML content).\\n\\nSee [this discussion](https://github.com/Modernizr/Modernizr/issues/213) regarding applying SVG clip paths to HTML content.\\n*/\\n\\n  Modernizr.addTest('svgclippaths', function() {\\n    return !!document.createElementNS &&\\n      /SVGClipPath/.test(toStringFn.call(document.createElementNS('http://www.w3.org/2000/svg', 'clipPath')));\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"SVG filters\\\",\\n  \\\"property\\\": \\\"svgfilters\\\",\\n  \\\"caniuse\\\": \\\"svg-filters\\\",\\n  \\\"tags\\\": [\\\"svg\\\"],\\n  \\\"builderAliases\\\": [\\\"svg_filters\\\"],\\n  \\\"authors\\\": [\\\"Erik Dahlstrom\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"W3C Spec\\\",\\n    \\\"href\\\": \\\"https://www.w3.org/TR/SVG11/filters.html\\\"\\n  }]\\n}\\n!*/\\n\\n  // Should fail in Safari: https://stackoverflow.com/questions/9739955/feature-detecting-support-for-svg-filters.\\n  Modernizr.addTest('svgfilters', function() {\\n    var result = false;\\n    try {\\n      result = 'SVGFEColorMatrixElement' in window &&\\n        SVGFEColorMatrixElement.SVG_FECOLORMATRIX_TYPE_SATURATE == 2;\\n    }\\n    catch (e) {}\\n    return result;\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"SVG foreignObject\\\",\\n  \\\"property\\\": \\\"svgforeignobject\\\",\\n  \\\"tags\\\": [\\\"svg\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"W3C Spec\\\",\\n    \\\"href\\\": \\\"https://www.w3.org/TR/SVG11/extend.html\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nDetects support for foreignObject tag in SVG.\\n*/\\n\\n  Modernizr.addTest('svgforeignobject', function() {\\n    return !!document.createElementNS &&\\n      /SVGForeignObject/.test(toStringFn.call(document.createElementNS('http://www.w3.org/2000/svg', 'foreignObject')));\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Inline SVG\\\",\\n  \\\"property\\\": \\\"inlinesvg\\\",\\n  \\\"caniuse\\\": \\\"svg-html5\\\",\\n  \\\"tags\\\": [\\\"svg\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"Test page\\\",\\n    \\\"href\\\": \\\"https://paulirish.com/demo/inline-svg\\\"\\n  }, {\\n    \\\"name\\\": \\\"Test page and results\\\",\\n    \\\"href\\\": \\\"https://codepen.io/eltonmesquita/full/GgXbvo/\\\"\\n  }],\\n  \\\"polyfills\\\": [\\\"inline-svg-polyfill\\\"],\\n  \\\"knownBugs\\\": [\\\"False negative on some Chromia browsers.\\\"]\\n}\\n!*/\\n/* DOC\\nDetects support for inline SVG in HTML (not within XHTML).\\n*/\\n\\n  Modernizr.addTest('inlinesvg', function() {\\n    var div = createElement('div');\\n    div.innerHTML = '<svg/>';\\n    return (typeof SVGRect != 'undefined' && div.firstChild && div.firstChild.namespaceURI) == 'http://www.w3.org/2000/svg';\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"SVG SMIL animation\\\",\\n  \\\"property\\\": \\\"smil\\\",\\n  \\\"caniuse\\\": \\\"svg-smil\\\",\\n  \\\"tags\\\": [\\\"svg\\\"],\\n  \\\"notes\\\": [{\\n  \\\"name\\\": \\\"W3C Synchronised Multimedia spec\\\",\\n  \\\"href\\\": \\\"https://www.w3.org/AudioVideo/\\\"\\n  }]\\n}\\n!*/\\n\\n  // SVG SMIL animation\\n  Modernizr.addTest('smil', function() {\\n    return !!document.createElementNS &&\\n      /SVGAnimate/.test(toStringFn.call(document.createElementNS('http://www.w3.org/2000/svg', 'animate')));\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Template strings\\\",\\n  \\\"property\\\": \\\"templatestrings\\\",\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"MDN Reference\\\",\\n    \\\"href\\\": \\\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/template_strings#Browser_compatibility\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nTemplate strings are string literals allowing embedded expressions.\\n*/\\n\\n  Modernizr.addTest('templatestrings', function() {\\n    var supports;\\n    try {\\n      // A number of tools, including uglifyjs and require, break on a raw \\\"`\\\", so\\n      // use an eval to get around that.\\n      eval('``');\\n      supports = true;\\n    } catch (e) {}\\n    return !!supports;\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Scroll Snap Points\\\",\\n  \\\"property\\\": \\\"scrollsnappoints\\\",\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"Setting native-like scrolling offsets in CSS with Scrolling Snap Points\\\",\\n    \\\"href\\\": \\\"http://generatedcontent.org/post/66817675443/setting-native-like-scrolling-offsets-in-css-with\\\"\\n  },{\\n    \\\"name\\\": \\\"MDN Article\\\",\\n    \\\"href\\\": \\\"https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Scroll_Snap_Points\\\"\\n  }],\\n  \\\"polyfills\\\": [\\\"scrollsnap\\\"]\\n}\\n!*/\\n/* DOC\\nDetects support for CSS Snap Points\\n*/\\n\\n    Modernizr.addTest('scrollsnappoints', testAllProps('scrollSnapType'));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"bdi Element\\\",\\n  \\\"property\\\": \\\"bdi\\\",\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"MDN Overview\\\",\\n    \\\"href\\\": \\\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/bdi\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nDetect support for the bdi element, a way to have text that is isolated from its possibly bidirectional surroundings\\n*/\\n\\n  Modernizr.addTest('bdi', function() {\\n    var div = createElement('div');\\n    var bdi = createElement('bdi');\\n\\n    bdi.innerHTML = '&#1573;';\\n    div.appendChild(bdi);\\n\\n    docElement.appendChild(div);\\n\\n    var supports = ((window.getComputedStyle ?\\n          getComputedStyle(bdi, null) :\\n          bdi.currentStyle).direction === 'rtl');\\n\\n    docElement.removeChild(div);\\n\\n    return supports;\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Image crossOrigin\\\",\\n  \\\"property\\\": \\\"imgcrossorigin\\\",\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"Cross Domain Images and the Tainted Canvas\\\",\\n    \\\"href\\\": \\\"https://blog.codepen.io/2013/10/08/cross-domain-images-tainted-canvas/\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nDetects support for the crossOrigin attribute on images, which allow for cross domain images inside of a canvas without tainting it\\n*/\\n\\n    Modernizr.addTest('imgcrossorigin', 'crossOrigin' in createElement('img'));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Font Ligatures\\\",\\n  \\\"property\\\": \\\"ligatures\\\",\\n  \\\"caniuse\\\": \\\"font-feature\\\",\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"Cross-browser Web Fonts\\\",\\n    \\\"href\\\": \\\"http://www.sitepoint.com/cross-browser-web-fonts-part-3/\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nDetects support for OpenType ligatures\\n*/\\n\\n  Modernizr.addTest('ligatures', testAllProps('fontFeatureSettings', '\\\"liga\\\" 1'));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"textarea maxlength\\\",\\n  \\\"property\\\": \\\"textareamaxlength\\\",\\n  \\\"aliases\\\": [\\\"textarea-maxlength\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"MDN documentation\\\",\\n    \\\"href\\\": \\\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/textarea\\\"\\n  }],\\n  \\\"polyfills\\\": [\\n    \\\"maxlength\\\"\\n  ]\\n}\\n!*/\\n/* DOC\\nDetect support for the maxlength attribute of a textarea element\\n*/\\n\\n  Modernizr.addTest('textareamaxlength', !!('maxLength' in createElement('textarea')));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Touch Events\\\",\\n  \\\"property\\\": \\\"touchevents\\\",\\n  \\\"caniuse\\\" : \\\"touch\\\",\\n  \\\"tags\\\": [\\\"media\\\", \\\"attribute\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"Touch Events spec\\\",\\n    \\\"href\\\": \\\"https://www.w3.org/TR/2013/WD-touch-events-20130124/\\\"\\n  }],\\n  \\\"warnings\\\": [\\n    \\\"Indicates if the browser supports the Touch Events spec, and does not necessarily reflect a touchscreen device\\\"\\n  ],\\n  \\\"knownBugs\\\": [\\n    \\\"False-positive on some configurations of Nokia N900\\\",\\n    \\\"False-positive on some BlackBerry 6.0 builds – https://github.com/Modernizr/Modernizr/issues/372#issuecomment-3112695\\\"\\n  ]\\n}\\n!*/\\n/* DOC\\nIndicates if the browser supports the W3C Touch Events API.\\n\\nThis *does not* necessarily reflect a touchscreen device:\\n\\n* Older touchscreen devices only emulate mouse events\\n* Modern IE touch devices implement the Pointer Events API instead: use `Modernizr.pointerevents` to detect support for that\\n* Some browsers & OS setups may enable touch APIs when no touchscreen is connected\\n* Future browsers may implement other event models for touch interactions\\n\\nSee this article: [You Can't Detect A Touchscreen](http://www.stucox.com/blog/you-cant-detect-a-touchscreen/).\\n\\nIt's recommended to bind both mouse and touch/pointer events simultaneously – see [this HTML5 Rocks tutorial](http://www.html5rocks.com/en/mobile/touchandmouse/).\\n\\nThis test will also return `true` for Firefox 4 Multitouch support.\\n*/\\n\\n  // Chrome (desktop) used to lie about its support on this, but that has since been rectified: http://crbug.com/36415\\n  Modernizr.addTest('touchevents', function() {\\n    var bool;\\n    if (('ontouchstart' in window) || window.DocumentTouch && document instanceof DocumentTouch) {\\n      bool = true;\\n    } else {\\n      // include the 'heartz' as a way to have a non matching MQ to help terminate the join\\n      // https://git.io/vznFH\\n      var query = ['@media (', prefixes.join('touch-enabled),('), 'heartz', ')', '{#modernizr{top:9px;position:absolute}}'].join('');\\n      testStyles(query, function(node) {\\n        bool = node.offsetTop === 9;\\n      });\\n    }\\n    return bool;\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Typed arrays\\\",\\n  \\\"property\\\": \\\"typedarrays\\\",\\n  \\\"caniuse\\\": \\\"typedarrays\\\",\\n  \\\"tags\\\": [\\\"js\\\"],\\n  \\\"authors\\\": [\\\"Stanley Stuart (@fivetanley)\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"MDN documentation\\\",\\n    \\\"href\\\": \\\"https://developer.mozilla.org/en-US/docs/JavaScript_typed_arrays\\\"\\n  },{\\n    \\\"name\\\": \\\"Kronos spec\\\",\\n    \\\"href\\\": \\\"https://www.khronos.org/registry/typedarray/specs/latest/\\\"\\n  }],\\n  \\\"polyfills\\\": [\\\"joshuabell-polyfill\\\"]\\n}\\n!*/\\n/* DOC\\nDetects support for native binary data manipulation via Typed Arrays in JavaScript.\\n\\nDoes not check for DataView support; use `Modernizr.dataview` for that.\\n*/\\n\\n  // Should fail in:\\n  // Internet Explorer <= 9\\n  // Firefox <= 3.6\\n  // Chrome <= 6.0\\n  // iOS Safari < 4.2\\n  // Safari < 5.1\\n  // Opera < 11.6\\n  // Opera Mini, <= 7.0\\n  // Android Browser < 4.0\\n  // Blackberry Browser < 10.0\\n\\n  Modernizr.addTest('typedarrays', 'ArrayBuffer' in window);\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Unicode characters\\\",\\n  \\\"property\\\": \\\"unicode\\\",\\n  \\\"tags\\\": [\\\"encoding\\\"],\\n  \\\"warnings\\\": [\\n    \\\"positive Unicode support doesn't mean you can use it inside <title>, this seems more related to OS & Language packs\\\"\\n  ]\\n}\\n!*/\\n/* DOC\\nDetects if unicode characters are supported in the current document.\\n*/\\n\\n  /**\\n   * Unicode special character support\\n   *\\n   * Detection is made by testing missing glyph box rendering against star character\\n   * If widths are the same, this \\\"probably\\\" means the browser didn't support the star character and rendered a glyph box instead\\n   * Just need to ensure the font characters have different widths\\n   */\\n  Modernizr.addTest('unicode', function() {\\n    var bool;\\n    var missingGlyph = createElement('span');\\n    var star = createElement('span');\\n\\n    testStyles('#modernizr{font-family:Arial,sans;font-size:300em;}', function(node) {\\n\\n      missingGlyph.innerHTML = isSVG ? '\\\\u5987' : '&#5987';\\n      star.innerHTML = isSVG ? '\\\\u2606' : '&#9734';\\n\\n      node.appendChild(missingGlyph);\\n      node.appendChild(star);\\n\\n      bool = 'offsetWidth' in missingGlyph && missingGlyph.offsetWidth !== star.offsetWidth;\\n    });\\n\\n    return bool;\\n\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Unicode Range\\\",\\n  \\\"property\\\": \\\"unicoderange\\\",\\n  \\\"notes\\\": [{\\n    \\\"name\\\" : \\\"W3C reference\\\",\\n    \\\"href\\\": \\\"https://www.w3.org/TR/2013/CR-css-fonts-3-20131003/#descdef-unicode-range\\\"\\n  }, {\\n    \\\"name\\\" : \\\"24 Way article\\\",\\n    \\\"href\\\": \\\"https://24ways.org/2011/creating-custom-font-stacks-with-unicode-range\\\"\\n  }]\\n}\\n!*/\\n\\n  Modernizr.addTest('unicoderange', function() {\\n\\n    return Modernizr.testStyles('@font-face{font-family:\\\"unicodeRange\\\";src:local(\\\"Arial\\\");unicode-range:U+0020,U+002E}#modernizr span{font-size:20px;display:inline-block;font-family:\\\"unicodeRange\\\",monospace}#modernizr .mono{font-family:monospace}', function(elem) {\\n\\n      // we use specify a unicode-range of 002E (the `.` glyph,\\n      // and a monospace font as the fallback. If the first of\\n      // these test glyphs is a different width than the other\\n      // the other three (which are all monospace), then we\\n      // have a winner.\\n      var testGlyphs = ['.', '.', 'm', 'm'];\\n\\n      for (var i = 0; i < testGlyphs.length; i++) {\\n        var elm = createElement('span');\\n        elm.innerHTML = testGlyphs[i];\\n        elm.className = i % 2 ? 'mono' : '';\\n        elem.appendChild(elm);\\n        testGlyphs[i] = elm.clientWidth;\\n      }\\n\\n      return (testGlyphs[0] !== testGlyphs[1] && testGlyphs[2] === testGlyphs[3]);\\n    });\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Blob URLs\\\",\\n  \\\"property\\\": \\\"bloburls\\\",\\n  \\\"caniuse\\\": \\\"bloburls\\\",\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"W3C Working Draft\\\",\\n    \\\"href\\\": \\\"https://www.w3.org/TR/FileAPI/#creating-revoking\\\"\\n  }],\\n  \\\"tags\\\": [\\\"file\\\", \\\"url\\\"],\\n  \\\"authors\\\": [\\\"Ron Waldon (@jokeyrhyme)\\\"]\\n}\\n!*/\\n/* DOC\\nDetects support for creating Blob URLs\\n*/\\n\\n  var url = prefixed('URL', window, false);\\n  url = url && window[url];\\n  Modernizr.addTest('bloburls', url && 'revokeObjectURL' in url && 'createObjectURL' in url);\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Data URI\\\",\\n  \\\"property\\\": \\\"datauri\\\",\\n  \\\"caniuse\\\": \\\"datauri\\\",\\n  \\\"tags\\\": [\\\"url\\\"],\\n  \\\"builderAliases\\\": [\\\"url_data_uri\\\"],\\n  \\\"async\\\": true,\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"Wikipedia article\\\",\\n    \\\"href\\\": \\\"https://en.wikipedia.org/wiki/Data_URI_scheme\\\"\\n  }],\\n  \\\"warnings\\\": [\\\"Support in Internet Explorer 8 is limited to images and linked resources like CSS files, not HTML files\\\"]\\n}\\n!*/\\n/* DOC\\nDetects support for data URIs. Provides a subproperty to report support for data URIs over 32kb in size:\\n\\n```javascript\\nModernizr.datauri           // true\\nModernizr.datauri.over32kb  // false in IE8\\n```\\n*/\\n\\n  // https://github.com/Modernizr/Modernizr/issues/14\\n  Modernizr.addAsyncTest(function() {\\n    /* jshint -W053 */\\n\\n    // IE7 throw a mixed content warning on HTTPS for this test, so we'll\\n    // just blacklist it (we know it doesn't support data URIs anyway)\\n    // https://github.com/Modernizr/Modernizr/issues/362\\n    if (navigator.userAgent.indexOf('MSIE 7.') !== -1) {\\n      // Keep the test async\\n      setTimeout(function() {\\n        addTest('datauri', false);\\n      }, 10);\\n    }\\n\\n    var datauri = new Image();\\n\\n    datauri.onerror = function() {\\n      addTest('datauri', false);\\n    };\\n    datauri.onload = function() {\\n      if (datauri.width == 1 && datauri.height == 1) {\\n        testOver32kb();\\n      }\\n      else {\\n        addTest('datauri', false);\\n      }\\n    };\\n\\n    datauri.src = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==';\\n\\n    // Once we have datauri, let's check to see if we can use data URIs over\\n    // 32kb (IE8 can't). https://github.com/Modernizr/Modernizr/issues/321\\n    function testOver32kb() {\\n\\n      var datauriBig = new Image();\\n\\n      datauriBig.onerror = function() {\\n        addTest('datauri', true);\\n        Modernizr.datauri = new Boolean(true);\\n        Modernizr.datauri.over32kb = false;\\n      };\\n      datauriBig.onload = function() {\\n        addTest('datauri', true);\\n        Modernizr.datauri = new Boolean(true);\\n        Modernizr.datauri.over32kb = (datauriBig.width == 1 && datauriBig.height == 1);\\n      };\\n\\n      var base64str = 'R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==';\\n      while (base64str.length < 33000) {\\n        base64str = '\\\\r\\\\n' + base64str;\\n      }\\n      datauriBig.src = 'data:image/gif;base64,' + base64str;\\n    }\\n\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"URL parser\\\",\\n  \\\"property\\\": \\\"urlparser\\\",\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"URL\\\",\\n    \\\"href\\\": \\\"https://dvcs.w3.org/hg/url/raw-file/tip/Overview.html\\\"\\n  }],\\n  \\\"polyfills\\\": [\\\"urlparser\\\"],\\n  \\\"authors\\\": [\\\"Ron Waldon (@jokeyrhyme)\\\"],\\n  \\\"tags\\\": [\\\"url\\\"]\\n}\\n!*/\\n/* DOC\\nCheck if browser implements the URL constructor for parsing URLs.\\n*/\\n\\n  Modernizr.addTest('urlparser', function() {\\n    var url;\\n    try {\\n      // have to actually try use it, because Safari defines a dud constructor\\n      url = new URL('http://modernizr.com/');\\n      return url.href === 'http://modernizr.com/';\\n    } catch (e) {\\n      return false;\\n    }\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"IE User Data API\\\",\\n  \\\"property\\\": \\\"userdata\\\",\\n  \\\"tags\\\": [\\\"storage\\\"],\\n  \\\"authors\\\": [\\\"@stereobooster\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"MSDN Documentation\\\",\\n    \\\"href\\\": \\\"https://msdn.microsoft.com/en-us/library/ms531424.aspx\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nDetects support for IE userData for persisting data, an API similar to localStorage but supported since IE5.\\n*/\\n\\n  Modernizr.addTest('userdata', !!createElement('div').addBehavior);\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Vibration API\\\",\\n  \\\"property\\\": \\\"vibrate\\\",\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"MDN documentation\\\",\\n    \\\"href\\\": \\\"https://developer.mozilla.org/en/DOM/window.navigator.mozVibrate\\\"\\n  },{\\n    \\\"name\\\": \\\"W3C spec\\\",\\n    \\\"href\\\": \\\"https://www.w3.org/TR/vibration/\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nDetects support for the API that provides access to the vibration mechanism of the hosting device, to provide tactile feedback.\\n*/\\n\\n  Modernizr.addTest('vibrate', !!prefixed('vibrate', navigator));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"HTML5 Video\\\",\\n  \\\"property\\\": \\\"video\\\",\\n  \\\"caniuse\\\": \\\"video\\\",\\n  \\\"tags\\\": [\\\"html5\\\"],\\n  \\\"knownBugs\\\": [\\n    \\\"Without QuickTime, `Modernizr.video.h264` will be `undefined`; https://github.com/Modernizr/Modernizr/issues/546\\\"\\n  ],\\n  \\\"polyfills\\\": [\\n    \\\"html5media\\\",\\n    \\\"mediaelementjs\\\",\\n    \\\"sublimevideo\\\",\\n    \\\"videojs\\\",\\n    \\\"leanbackplayer\\\",\\n    \\\"videoforeverybody\\\"\\n  ]\\n}\\n!*/\\n/* DOC\\nDetects support for the video element, as well as testing what types of content it supports.\\n\\nSubproperties are provided to describe support for `ogg`, `h264` and `webm` formats, e.g.:\\n\\n```javascript\\nModernizr.video         // true\\nModernizr.video.ogg     // 'probably'\\n```\\n*/\\n\\n  // Codec values from : github.com/NielsLeenheer/html5test/blob/9106a8/index.html#L845\\n  //                     thx to NielsLeenheer and zcorpan\\n\\n  // Note: in some older browsers, \\\"no\\\" was a return value instead of empty string.\\n  //   It was live in FF3.5.0 and 3.5.1, but fixed in 3.5.2\\n  //   It was also live in Safari 4.0.0 - 4.0.4, but fixed in 4.0.5\\n\\n  Modernizr.addTest('video', function() {\\n    /* jshint -W053 */\\n    var elem = createElement('video');\\n    var bool = false;\\n\\n    // IE9 Running on Windows Server SKU can cause an exception to be thrown, bug #224\\n    try {\\n      if (bool = !!elem.canPlayType) {\\n        bool = new Boolean(bool);\\n        bool.ogg = elem.canPlayType('video/ogg; codecs=\\\"theora\\\"').replace(/^no$/, '');\\n\\n        // Without QuickTime, this value will be `undefined`. github.com/Modernizr/Modernizr/issues/546\\n        bool.h264 = elem.canPlayType('video/mp4; codecs=\\\"avc1.42E01E\\\"').replace(/^no$/, '');\\n\\n        bool.webm = elem.canPlayType('video/webm; codecs=\\\"vp8, vorbis\\\"').replace(/^no$/, '');\\n\\n        bool.vp9 = elem.canPlayType('video/webm; codecs=\\\"vp9\\\"').replace(/^no$/, '');\\n\\n        bool.hls = elem.canPlayType('application/x-mpegURL; codecs=\\\"avc1.42E01E\\\"').replace(/^no$/, '');\\n      }\\n    } catch (e) {}\\n\\n    return bool;\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Video Autoplay\\\",\\n  \\\"property\\\": \\\"videoautoplay\\\",\\n  \\\"tags\\\": [\\\"video\\\"],\\n  \\\"async\\\" : true,\\n  \\\"warnings\\\": [\\\"This test is very large – only include it if you absolutely need it\\\"],\\n  \\\"knownBugs\\\": [\\\"crashes with an alert on iOS7 when added to homescreen\\\"]\\n}\\n!*/\\n/* DOC\\nChecks for support of the autoplay attribute of the video element.\\n*/\\n\\n\\n  Modernizr.addAsyncTest(function() {\\n    var timeout;\\n    var waitTime = 300;\\n    var elem = createElement('video');\\n    var elemStyle = elem.style;\\n\\n    function testAutoplay(arg) {\\n      clearTimeout(timeout);\\n      elem.removeEventListener('playing', testAutoplay, false);\\n      addTest('videoautoplay', arg && arg.type === 'playing' || elem.currentTime !== 0);\\n      elem.parentNode.removeChild(elem);\\n    }\\n\\n    //skip the test if video itself, or the autoplay\\n    //element on it isn't supported\\n    if (!Modernizr.video || !('autoplay' in elem)) {\\n      addTest('videoautoplay', false);\\n      return;\\n    }\\n\\n    elemStyle.position = 'absolute';\\n    elemStyle.height = 0;\\n    elemStyle.width = 0;\\n\\n    try {\\n      if (Modernizr.video.ogg) {\\n        elem.src = 'data:video/ogg;base64,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';\\n      }\\n      else if (Modernizr.video.h264) {\\n        elem.src = 'data:video/mp4;base64,AAAAIGZ0eXBpc29tAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAAAs1tZGF0AAACrgYF//+q3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0OCByMjYwMSBhMGNkN2QzIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNSAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTMgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MzoweDExMyBtZT1oZXggc3VibWU9NyBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0xIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MSA4eDhkY3Q9MSBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0tMiB0aHJlYWRzPTEgbG9va2FoZWFkX3RocmVhZHM9MSBzbGljZWRfdGhyZWFkcz0wIG5yPTAgZGVjaW1hdGU9MSBpbnRlcmxhY2VkPTAgYmx1cmF5X2NvbXBhdD0wIGNvbnN0cmFpbmVkX2ludHJhPTAgYmZyYW1lcz0zIGJfcHlyYW1pZD0yIGJfYWRhcHQ9MSBiX2JpYXM9MCBkaXJlY3Q9MSB3ZWlnaHRiPTEgb3Blbl9nb3A9MCB3ZWlnaHRwPTIga2V5aW50PTI1MCBrZXlpbnRfbWluPTEwIHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAD2WIhAA3//728P4FNjuZQQAAAu5tb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAAZAABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAACGHRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAZAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAgAAAAIAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAAGQAAAAAAAEAAAAAAZBtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAACgAAAAEAFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAE7bWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAA+3N0YmwAAACXc3RzZAAAAAAAAAABAAAAh2F2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAgACAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAxYXZjQwFkAAr/4QAYZ2QACqzZX4iIhAAAAwAEAAADAFA8SJZYAQAGaOvjyyLAAAAAGHN0dHMAAAAAAAAAAQAAAAEAAAQAAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAABRzdHN6AAAAAAAAAsUAAAABAAAAFHN0Y28AAAAAAAAAAQAAADAAAABidWR0YQAAAFptZXRhAAAAAAAAACFoZGxyAAAAAAAAAABtZGlyYXBwbAAAAAAAAAAAAAAAAC1pbHN0AAAAJal0b28AAAAdZGF0YQAAAAEAAAAATGF2ZjU2LjQwLjEwMQ==';\\n      }\\n      else {\\n        addTest('videoautoplay', false);\\n        return;\\n      }\\n    }\\n\\n    catch (e) {\\n      addTest('videoautoplay', false);\\n      return;\\n    }\\n\\n    elem.setAttribute('autoplay', '');\\n    elem.style.cssText = 'display:none';\\n    docElement.appendChild(elem);\\n    // wait for the next tick to add the listener, otherwise the element may\\n    // not have time to play in high load situations (e.g. the test suite)\\n    setTimeout(function() {\\n      elem.addEventListener('playing', testAutoplay, false);\\n      timeout = setTimeout(testAutoplay, waitTime);\\n    }, 0);\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Video Loop Attribute\\\",\\n  \\\"property\\\": \\\"videoloop\\\",\\n  \\\"tags\\\": [\\\"video\\\", \\\"media\\\"]\\n}\\n!*/\\n\\n  Modernizr.addTest('videoloop', 'loop' in createElement('video'));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Video Preload Attribute\\\",\\n  \\\"property\\\": \\\"videopreload\\\",\\n  \\\"tags\\\": [\\\"video\\\", \\\"media\\\"]\\n}\\n!*/\\n\\n  Modernizr.addTest('videopreload', 'preload' in createElement('video'));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"VML\\\",\\n  \\\"property\\\": \\\"vml\\\",\\n  \\\"caniuse\\\": \\\"vml\\\",\\n  \\\"tags\\\": [\\\"vml\\\"],\\n  \\\"authors\\\": [\\\"Craig Andrews (@candrews)\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\" : \\\"W3C VML reference\\\",\\n    \\\"href\\\": \\\"https://www.w3.org/TR/NOTE-VML\\\"\\n  },{\\n    \\\"name\\\" : \\\"Microsoft VML reference\\\",\\n    \\\"href\\\": \\\"https://msdn.microsoft.com/en-us/library/bb263898.aspx\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nDetects support for VML.\\n*/\\n\\n  Modernizr.addTest('vml', function() {\\n    var containerDiv = createElement('div');\\n    var supports = false;\\n    var shape;\\n\\n    if (!isSVG) {\\n      containerDiv.innerHTML = '<v:shape id=\\\"vml_flag1\\\" adj=\\\"1\\\" />';\\n      shape = containerDiv.firstChild;\\n      shape.style.behavior = 'url(#default#VML)';\\n      supports = shape ? typeof shape.adj == 'object' : true;\\n    }\\n\\n    return supports;\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Web Intents\\\",\\n  \\\"property\\\": \\\"webintents\\\",\\n  \\\"authors\\\": [\\\"Eric Bidelman\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"Web Intents project site\\\",\\n    \\\"href\\\": \\\"http://webintents.org/\\\"\\n  }],\\n  \\\"polyfills\\\": [\\\"webintents\\\"],\\n  \\\"builderAliases\\\": [\\\"web_intents\\\"]\\n}\\n!*/\\n/* DOC\\nDetects native support for the Web Intents APIs for service discovery and inter-application communication.\\n\\nChrome added support for this in v19, but [removed it again in v24](https://lists.w3.org/Archives/Public/public-web-intents/2012Nov/0000.html) because of \\\"a number of areas for\\ndevelopment in both the API and specific user experience in Chrome\\\". No other browsers currently support it, however a [JavaScript shim](http://webintents.org/#javascriptshim) is available.\\n*/\\n\\n  Modernizr.addTest('webintents', !!prefixed('startActivity', navigator));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Web Animation API\\\",\\n  \\\"property\\\": \\\"animation\\\",\\n  \\\"tags\\\": [\\\"webanimations\\\"],\\n  \\\"polyfills\\\": [\\\"webanimationsjs\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"Introducing Web Animations\\\",\\n    \\\"href\\\": \\\"http://brian.sol1.net/svg/2013/06/26/introducing-web-animations/\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nDetects support for the Web Animation API, a way to create css animations in js\\n*/\\n\\n  Modernizr.addTest('webanimations', 'animate' in createElement('div'));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"WebGL\\\",\\n  \\\"property\\\": \\\"webgl\\\",\\n  \\\"caniuse\\\": \\\"webgl\\\",\\n  \\\"tags\\\": [\\\"webgl\\\", \\\"graphics\\\"],\\n  \\\"polyfills\\\": [\\\"jebgl\\\", \\\"cwebgl\\\", \\\"iewebgl\\\"]\\n}\\n!*/\\n\\n  Modernizr.addTest('webgl', function() {\\n    var canvas = createElement('canvas');\\n    var supports = 'probablySupportsContext' in canvas ? 'probablySupportsContext' :  'supportsContext';\\n    if (supports in canvas) {\\n      return canvas[supports]('webgl') || canvas[supports]('experimental-webgl');\\n    }\\n    return 'WebGLRenderingContext' in window;\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"WebGL Extensions\\\",\\n  \\\"property\\\": \\\"webglextensions\\\",\\n  \\\"tags\\\": [\\\"webgl\\\", \\\"graphics\\\"],\\n  \\\"builderAliases\\\": [\\\"webgl_extensions\\\"],\\n  \\\"async\\\" : true,\\n  \\\"authors\\\": [\\\"Ilmari Heikkinen\\\"],\\n  \\\"knownBugs\\\": [],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"Kronos extensions registry\\\",\\n    \\\"href\\\": \\\"http://www.khronos.org/registry/webgl/extensions/\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nDetects support for OpenGL extensions in WebGL. It's `true` if the [WebGL extensions API](https://developer.mozilla.org/en-US/docs/Web/WebGL/Using_Extensions) is supported, then exposes the supported extensions as subproperties, e.g.:\\n\\n```javascript\\nif (Modernizr.webglextensions) {\\n  // WebGL extensions API supported\\n}\\nif ('OES_vertex_array_object' in Modernizr.webglextensions) {\\n  // Vertex Array Objects extension supported\\n}\\n```\\n*/\\n\\n  // based on code from ilmari heikkinen\\n  // code.google.com/p/graphics-detect/source/browse/js/detect.js\\n\\n  // Not Async but handles it's own self\\n  Modernizr.addAsyncTest(function() {\\n    /* jshint -W053 */\\n\\n    // Not a good candidate for css classes, so we avoid addTest stuff\\n    Modernizr.webglextensions = new Boolean(false);\\n\\n    if (!Modernizr.webgl) {\\n      return;\\n    }\\n\\n    var canvas;\\n    var ctx;\\n    var exts;\\n\\n    try {\\n      canvas = createElement('canvas');\\n      ctx = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');\\n      exts = ctx.getSupportedExtensions();\\n    }\\n    catch (e) {\\n      return;\\n    }\\n\\n    if (ctx !== undefined) {\\n      Modernizr.webglextensions = new Boolean(true);\\n    }\\n\\n    for (var i = -1, len = exts.length; ++i < len;) {\\n      Modernizr.webglextensions[exts[i]] = true;\\n    }\\n\\n    canvas = undefined;\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"RTC Peer Connection\\\",\\n  \\\"property\\\": \\\"peerconnection\\\",\\n  \\\"tags\\\": [\\\"webrtc\\\"],\\n  \\\"authors\\\": [\\\"Ankur Oberoi\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"W3C Web RTC spec\\\",\\n    \\\"href\\\": \\\"https://www.w3.org/TR/webrtc/\\\"\\n  }]\\n}\\n!*/\\n\\n  Modernizr.addTest('peerconnection', !!prefixed('RTCPeerConnection', window));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"RTC Data Channel\\\",\\n  \\\"property\\\": \\\"datachannel\\\",\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"HTML5 Rocks! Article\\\",\\n    \\\"href\\\": \\\"http://www.html5rocks.com/en/tutorials/webrtc/datachannels/\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nDetect for the RTCDataChannel API that allows for transfer data directly from one peer to another\\n*/\\n\\n\\n  Modernizr.addTest('datachannel', function() {\\n    if (!Modernizr.peerconnection) {\\n      return false;\\n    }\\n    for (var i = 0, l = domPrefixes.length; i < l; i++) {\\n      var PeerConnectionConstructor = window[domPrefixes[i] + 'RTCPeerConnection'];\\n\\n      if (PeerConnectionConstructor) {\\n        var peerConnection = new PeerConnectionConstructor({\\n          'iceServers': [{'url': 'stun:0'}]\\n        });\\n\\n        return 'createDataChannel' in peerConnection;\\n      }\\n\\n    }\\n    return false;\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"getUserMedia\\\",\\n  \\\"property\\\": \\\"getusermedia\\\",\\n  \\\"caniuse\\\": \\\"stream\\\",\\n  \\\"tags\\\": [\\\"webrtc\\\"],\\n  \\\"authors\\\": [\\\"Eric Bidelman\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"W3C Media Capture and Streams spec\\\",\\n    \\\"href\\\": \\\"https://www.w3.org/TR/mediacapture-streams/\\\"\\n  }],\\n  \\\"polyfills\\\": [\\\"getusermedia\\\"]\\n}\\n!*/\\n\\n  Modernizr.addTest('getusermedia', !!prefixed('getUserMedia', navigator));\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"WebSockets Support\\\",\\n  \\\"property\\\": \\\"websockets\\\",\\n  \\\"authors\\\": [\\\"Phread [fearphage]\\\", \\\"Mike Sherov [mikesherov]\\\", \\\"Burak Yigit Kaya [BYK]\\\"],\\n  \\\"caniuse\\\": \\\"websockets\\\",\\n  \\\"tags\\\": [\\\"html5\\\"],\\n  \\\"warnings\\\": [\\n    \\\"This test will reject any old version of WebSockets even if it is not prefixed such as in Safari 5.1\\\"\\n  ],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"CLOSING State and Spec\\\",\\n    \\\"href\\\": \\\"https://www.w3.org/TR/websockets/#the-websocket-interface\\\"\\n  }],\\n  \\\"polyfills\\\": [\\n    \\\"sockjs\\\",\\n    \\\"socketio\\\",\\n    \\\"kaazing-websocket-gateway\\\",\\n    \\\"websocketjs\\\",\\n    \\\"atmosphere\\\",\\n    \\\"graceful-websocket\\\",\\n    \\\"portal\\\",\\n    \\\"datachannel\\\"\\n  ]\\n}\\n!*/\\n\\n  Modernizr.addTest('websockets', 'WebSocket' in window && window.WebSocket.CLOSING === 2);\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Binary WebSockets\\\",\\n  \\\"property\\\": \\\"websocketsbinary\\\",\\n  \\\"tags\\\": [\\\"websockets\\\"],\\n  \\\"builderAliases\\\": [\\\"websockets_binary\\\"]\\n}\\n!*/\\n\\n  // binaryType is truthy if there is support.. returns \\\"blob\\\" in new-ish chrome.\\n  // plus.google.com/115535723976198353696/posts/ERN6zYozENV\\n  // github.com/Modernizr/Modernizr/issues/370\\n\\n  Modernizr.addTest('websocketsbinary', function() {\\n    var protocol = 'https:' == location.protocol ? 'wss' : 'ws',\\n    protoBin;\\n\\n    if ('WebSocket' in window) {\\n      if (protoBin = 'binaryType' in WebSocket.prototype) {\\n        return protoBin;\\n      }\\n      try {\\n        return !!(new WebSocket(protocol + '://.').binaryType);\\n      } catch (e) {}\\n    }\\n\\n    return false;\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Framed window\\\",\\n  \\\"property\\\": \\\"framed\\\",\\n  \\\"tags\\\": [\\\"window\\\"],\\n  \\\"builderAliases\\\": [\\\"window_framed\\\"]\\n}\\n!*/\\n/* DOC\\nTests if page is iframed.\\n*/\\n\\n  // github.com/Modernizr/Modernizr/issues/242\\n\\n  Modernizr.addTest('framed', window.location != top.location);\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Workers from Blob URIs\\\",\\n  \\\"property\\\": \\\"blobworkers\\\",\\n  \\\"tags\\\": [\\\"performance\\\", \\\"workers\\\"],\\n  \\\"builderAliases\\\": [\\\"workers_blobworkers\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"W3C Reference\\\",\\n    \\\"href\\\": \\\"https://www.w3.org/TR/workers/\\\"\\n  }],\\n  \\\"knownBugs\\\": [\\\"This test may output garbage to console.\\\"],\\n  \\\"authors\\\": [\\\"Jussi Kalliokoski\\\"],\\n  \\\"async\\\": true\\n}\\n!*/\\n/* DOC\\nDetects support for creating Web Workers from Blob URIs.\\n*/\\n\\n  Modernizr.addAsyncTest(function() {\\n    try {\\n      // we're avoiding using Modernizr._domPrefixes as the prefix capitalization on\\n      // these guys are notoriously peculiar.\\n      var BlobBuilder = window.BlobBuilder;\\n      var URL         = window.URL;\\n      if (Modernizr._config.usePrefix) {\\n        BlobBuilder = BlobBuilder || window.MozBlobBuilder || window.WebKitBlobBuilder || window.MSBlobBuilder || window.OBlobBuilder;\\n        URL         = URL || window.MozURL || window.webkitURL || window.MSURL || window.OURL;\\n      }\\n      var data    = 'Modernizr',\\n          blob,\\n          bb,\\n          worker,\\n          url,\\n          timeout,\\n          scriptText = 'this.onmessage=function(e){postMessage(e.data)}';\\n\\n      try {\\n        blob = new Blob([scriptText], {type: 'text/javascript'});\\n      } catch (e) {\\n        // we'll fall back to the deprecated BlobBuilder\\n      }\\n      if (!blob) {\\n        bb = new BlobBuilder();\\n        bb.append(scriptText);\\n        blob = bb.getBlob();\\n      }\\n\\n      url = URL.createObjectURL(blob);\\n      worker = new Worker(url);\\n\\n      worker.onmessage = function(e) {\\n        addTest('blobworkers', data === e.data);\\n        cleanup();\\n      };\\n\\n      // Just in case...\\n      worker.onerror = fail;\\n      timeout = setTimeout(fail, 200);\\n\\n      worker.postMessage(data);\\n    } catch (e) {\\n      fail();\\n    }\\n\\n    function fail() {\\n      addTest('blobworkers', false);\\n      cleanup();\\n    }\\n\\n    function cleanup() {\\n      if (url) {\\n        URL.revokeObjectURL(url);\\n      }\\n      if (worker) {\\n        worker.terminate();\\n      }\\n      if (timeout) {\\n        clearTimeout(timeout);\\n      }\\n    }\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Workers from Data URIs\\\",\\n  \\\"property\\\": \\\"dataworkers\\\",\\n  \\\"tags\\\": [\\\"performance\\\", \\\"workers\\\"],\\n  \\\"builderAliases\\\": [\\\"workers_dataworkers\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"W3C Reference\\\",\\n    \\\"href\\\": \\\"https://www.w3.org/TR/workers/\\\"\\n  }],\\n  \\\"knownBugs\\\": [\\\"This test may output garbage to console.\\\"],\\n  \\\"authors\\\": [\\\"Jussi Kalliokoski\\\"],\\n  \\\"async\\\": true\\n}\\n!*/\\n/* DOC\\nDetects support for creating Web Workers from Data URIs.\\n*/\\n\\n  Modernizr.addAsyncTest(function() {\\n    try {\\n      var data    = 'Modernizr',\\n      worker  = new Worker('data:text/javascript;base64,dGhpcy5vbm1lc3NhZ2U9ZnVuY3Rpb24oZSl7cG9zdE1lc3NhZ2UoZS5kYXRhKX0=');\\n\\n      worker.onmessage = function(e) {\\n        worker.terminate();\\n        addTest('dataworkers', data === e.data);\\n        worker = null;\\n      };\\n\\n      // Just in case...\\n      worker.onerror = function() {\\n        addTest('dataworkers', false);\\n        worker = null;\\n      };\\n\\n      setTimeout(function() {\\n        addTest('dataworkers', false);\\n      }, 200);\\n\\n      worker.postMessage(data);\\n    } catch (e) {\\n      setTimeout(function() {\\n        addTest('dataworkers', false);\\n      }, 0);\\n    }\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Shared Workers\\\",\\n  \\\"property\\\": \\\"sharedworkers\\\",\\n  \\\"caniuse\\\" : \\\"sharedworkers\\\",\\n  \\\"tags\\\": [\\\"performance\\\", \\\"workers\\\"],\\n  \\\"builderAliases\\\": [\\\"workers_sharedworkers\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"W3C Reference\\\",\\n    \\\"href\\\": \\\"https://www.w3.org/TR/workers/\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nDetects support for the `SharedWorker` API from the Web Workers spec.\\n*/\\n\\n  Modernizr.addTest('sharedworkers', 'SharedWorker' in window);\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Web Workers\\\",\\n  \\\"property\\\": \\\"webworkers\\\",\\n  \\\"caniuse\\\" : \\\"webworkers\\\",\\n  \\\"tags\\\": [\\\"performance\\\", \\\"workers\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"W3C Reference\\\",\\n    \\\"href\\\": \\\"https://www.w3.org/TR/workers/\\\"\\n  }, {\\n    \\\"name\\\": \\\"HTML5 Rocks article\\\",\\n    \\\"href\\\": \\\"http://www.html5rocks.com/en/tutorials/workers/basics/\\\"\\n  }, {\\n    \\\"name\\\": \\\"MDN documentation\\\",\\n    \\\"href\\\": \\\"https://developer.mozilla.org/en-US/docs/Web/Guide/Performance/Using_web_workers\\\"\\n  }],\\n  \\\"polyfills\\\": [\\\"fakeworker\\\", \\\"html5shims\\\"]\\n}\\n!*/\\n/* DOC\\nDetects support for the basic `Worker` API from the Web Workers spec. Web Workers provide a simple means for web content to run scripts in background threads.\\n*/\\n\\n  Modernizr.addTest('webworkers', 'Worker' in window);\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"Transferables Objects\\\",\\n  \\\"property\\\": \\\"transferables\\\",\\n  \\\"tags\\\": [\\\"performance\\\", \\\"workers\\\"],\\n  \\\"builderAliases\\\": [\\\"transferables\\\"],\\n  \\\"notes\\\": [{\\n    \\\"name\\\": \\\"HTML5 Rocks article\\\",\\n    \\\"href\\\": \\\"http://updates.html5rocks.com/2011/12/Transferable-Objects-Lightning-Fast\\\"\\n  }],\\n  \\\"async\\\": true\\n}\\n!*/\\n/* DOC\\nDetects whether web workers can use `transferables` objects.\\n*/\\n\\n  Modernizr.addAsyncTest(function() {\\n    var prerequisites = !!(Modernizr.blobconstructor &&\\n                           Modernizr.bloburls &&\\n                           Modernizr.webworkers &&\\n                           Modernizr.typedarrays);\\n\\n    // Early exit\\n    if (!prerequisites) {\\n      return addTest('transferables', false);\\n    }\\n\\n    // Proper test if prerequisites are met\\n    try {\\n      var buffer,\\n          scriptText = 'var hello = \\\"world\\\"',\\n          blob = new Blob([scriptText], {type: 'text/javascript'}),\\n          url = URL.createObjectURL(blob),\\n          worker = new Worker(url),\\n          timeout;\\n\\n      // Just in case...\\n      worker.onerror = fail;\\n      timeout = setTimeout(fail, 200);\\n\\n      // Building an minimal array buffer to send to the worker\\n      buffer = new ArrayBuffer(1);\\n\\n      // Sending the buffer to the worker\\n      worker.postMessage(buffer, [buffer]);\\n\\n      // If length of buffer is now 0, transferables are working\\n      addTest('transferables', buffer.byteLength === 0);\\n      cleanup();\\n    } catch (e) {\\n      fail();\\n    }\\n\\n    function fail() {\\n      addTest('transferables', false);\\n      cleanup();\\n    }\\n\\n    function cleanup() {\\n      if (url) {\\n        URL.revokeObjectURL(url);\\n      }\\n      if (worker) {\\n        worker.terminate();\\n      }\\n      if (timeout) {\\n        clearTimeout(timeout);\\n      }\\n    }\\n  });\\n\\n/*!\\n{\\n  \\\"name\\\": \\\"XDomainRequest\\\",\\n  \\\"property\\\": \\\"xdomainrequest\\\",\\n  \\\"tags\\\": [\\\"cors\\\", \\\"xdomainrequest\\\", \\\"ie9\\\", \\\"ie8\\\"],\\n  \\\"authors\\\": [\\\"Ivan Pan (@hypotenuse)\\\"],\\n  \\\"notes\\\": [\\n  {\\n    \\\"name\\\": \\\"MDN documentation\\\",\\n    \\\"href\\\": \\\"https://developer.mozilla.org/en-US/docs/Web/API/XDomainRequest\\\"\\n  },\\n  {\\n    \\\"name\\\": \\\"MSDN documentation\\\",\\n    \\\"href\\\": \\\"https://msdn.microsoft.com/library/ie/cc288060.aspx/\\\"\\n  }]\\n}\\n!*/\\n/* DOC\\nDetects support for XDomainRequest in IE9 & IE8\\n*/\\n\\n  Modernizr.addTest('xdomainrequest', 'XDomainRequest' in window);\\n\\n\\n  // Run each test\\n  testRunner();\\n\\n  // Remove the \\\"no-js\\\" class if it exists\\n  setClasses(classes);\\n\\n  delete ModernizrProto.addTest;\\n  delete ModernizrProto.addAsyncTest;\\n\\n  // Run the things that are supposed to run after the tests\\n  for (var i = 0; i < Modernizr._q.length; i++) {\\n    Modernizr._q[i]();\\n  }\\n\\n  // Leak Modernizr namespace\\n  window.Modernizr = Modernizr;\\n\\n\\n;\\n\\n})(window, document);\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/raw-loader!./~/modernizr/modernizr.js\n// module id = 566\n// module chunks = 1","module.exports = \"/**\\n * cbpGridGallery.js v1.0.0\\n * http://www.codrops.com\\n *\\n * Licensed under the MIT license.\\n * http://www.opensource.org/licenses/mit-license.php\\n * \\n * Copyright 2014, Codrops\\n * http://www.codrops.com\\n */\\n;( function( window ) {\\n\\t\\n\\t'use strict';\\n\\n\\tvar docElem = window.document.documentElement,\\n\\t\\ttransEndEventNames = {\\n\\t\\t\\t'WebkitTransition': 'webkitTransitionEnd',\\n\\t\\t\\t'MozTransition': 'transitionend',\\n\\t\\t\\t'OTransition': 'oTransitionEnd',\\n\\t\\t\\t'msTransition': 'MSTransitionEnd',\\n\\t\\t\\t'transition': 'transitionend'\\n\\t\\t},\\n\\t\\ttransEndEventName = transEndEventNames[ Modernizr.prefixed( 'transition' ) ],\\n\\t\\tsupport = {\\n\\t\\t\\ttransitions : Modernizr.csstransitions,\\n\\t\\t\\tsupport3d : Modernizr.csstransforms3d\\n\\t\\t};\\n\\n\\tfunction setTransform( el, transformStr ) {\\n\\t\\tel.style.WebkitTransform = transformStr;\\n\\t\\tel.style.msTransform = transformStr;\\n\\t\\tel.style.transform = transformStr;\\n\\t}\\n\\n\\t// from http://responsejs.com/labs/dimensions/\\n\\tfunction getViewportW() {\\n\\t\\tvar client = docElem['clientWidth'],\\n\\t\\t\\tinner = window['innerWidth'];\\n\\t\\t\\n\\t\\tif( client < inner )\\n\\t\\t\\treturn inner;\\n\\t\\telse\\n\\t\\t\\treturn client;\\n\\t}\\n\\n\\tfunction extend( a, b ) {\\n\\t\\tfor( var key in b ) { \\n\\t\\t\\tif( b.hasOwnProperty( key ) ) {\\n\\t\\t\\t\\ta[key] = b[key];\\n\\t\\t\\t}\\n\\t\\t}\\n\\t\\treturn a;\\n\\t}\\n\\n\\tfunction CBPGridGallery( el, options ) {\\n\\t\\tthis.el = el;\\n\\t\\tthis.options = extend( {}, this.options );\\n  \\t\\textend( this.options, options );\\n  \\t\\tthis._init();\\n\\t}\\n\\n\\tCBPGridGallery.prototype.options = {\\n\\t};\\n\\n\\tCBPGridGallery.prototype._init = function() {\\n\\t\\t// main grid\\n\\t\\tthis.grid = this.el.querySelector( 'section.grid-wrap > ul.grid' );\\n\\t\\t// main grid items\\n\\t\\tthis.gridItems = [].slice.call( this.grid.querySelectorAll( 'li:not(.grid-sizer)' ) );\\n\\t\\t// items total\\n\\t\\tthis.itemsCount = this.gridItems.length;\\n\\t\\t// slideshow grid\\n\\t\\tthis.slideshow = this.el.querySelector( 'section.slideshow > ul' );\\n\\t\\t// slideshow grid items\\n\\t\\tthis.slideshowItems = [].slice.call( this.slideshow.children );\\n\\t\\t// index of current slideshow item\\n\\t\\tthis.current = -1;\\n\\t\\t// slideshow control buttons\\n\\t\\tthis.ctrlPrev = this.el.querySelector( 'section.slideshow > nav > span.nav-prev' );\\n\\t\\tthis.ctrlNext = this.el.querySelector( 'section.slideshow > nav > span.nav-next' );\\n\\t\\tthis.ctrlClose = this.el.querySelector( 'section.slideshow > nav > span.nav-close' );\\n\\t\\t// init masonry grid\\n\\t\\tthis._initMasonry();\\n\\t\\t// init events\\n\\t\\tthis._initEvents();\\n\\t};\\n\\n\\tCBPGridGallery.prototype._initMasonry = function() {\\n\\t\\tvar grid = this.grid;\\n\\t\\tvar loader = this.el.querySelector( '.loading-container' );\\n\\n\\t\\ttry {\\n\\t\\t\\tclassie.removeClass(loader, 'hide-loader');\\n\\t\\t\\twindow.imagesLoaded( grid, function() {\\n\\t\\t\\t\\tnew window.Masonry( grid, {\\n\\t\\t\\t\\t\\titemSelector: 'li',\\n\\t\\t\\t\\t\\tcolumnWidth: grid.querySelector( '.grid-sizer' )\\n\\t\\t\\t\\t});\\n\\t\\t\\t\\tclassie.addClass(loader, 'hide-loader')\\n\\t\\t\\t});\\n\\t\\t} catch(e) {\\n\\t\\t\\tconsole.log(\\\"[CBPGridGallery.prototype._initMasonry ]: An exception was generated ...\\\");\\n\\t\\t\\tconsole.log(e);\\n\\t\\t}\\n\\t};\\n\\n\\tCBPGridGallery.prototype._initEvents = function() {\\n\\t\\t// open the slideshow when clicking on the main grid items\\n\\t\\tthis.gridItems.forEach( function( item, idx ) {\\n\\t\\t\\titem.addEventListener( 'click', this._handleOpenSlideshow.bind(this, idx) );\\n\\t\\t}.bind(this));\\n\\n\\t\\t// slideshow controls\\n\\t\\tthis.ctrlPrev.addEventListener( 'click', this._handleNavigate.bind(this, 'prev') );\\n\\t\\tthis.ctrlNext.addEventListener( 'click', this._handleNavigate.bind(this, 'next') );\\n\\t\\tthis.ctrlClose.addEventListener( 'click', this._handleClose.bind(this) );\\n\\n\\t\\t// window resize\\n\\t\\twindow.addEventListener( 'resize', this._handleResize.bind(this)) ;\\n\\n\\t\\t// keyboard navigation events\\n\\t\\tdocument.addEventListener( 'keydown', function( ev ) {\\n\\t\\t\\tif ( this.isSlideshowVisible ) {\\n\\t\\t\\t\\tvar keyCode = ev.keyCode || ev.which;\\n\\n\\t\\t\\t\\tswitch (keyCode) {\\n\\t\\t\\t\\t\\tcase 37:\\n\\t\\t\\t\\t\\t\\tthis._navigate( 'prev' );\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\tcase 39:\\n\\t\\t\\t\\t\\t\\tthis._navigate( 'next' );\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\tcase 27:\\n\\t\\t\\t\\t\\t\\tthis._closeSlideshow();\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}.bind(this) );\\n\\n\\t\\t// trick to prevent scrolling when slideshow is visible\\n\\t\\twindow.addEventListener( 'scroll', function() {\\n\\t\\t\\tif ( this.isSlideshowVisible ) {\\n\\t\\t\\t\\twindow.scrollTo( this.scrollPosition ? this.scrollPosition.x : 0, this.scrollPosition ? this.scrollPosition.y : 0 );\\n\\t\\t\\t}\\n\\t\\t\\telse {\\n\\t\\t\\t\\tthis.scrollPosition = { x : window.pageXOffset || docElem.scrollLeft, y : window.pageYOffset || docElem.scrollTop };\\n\\t\\t\\t}\\n\\t\\t}.bind(this));\\n\\t};\\n\\t\\n\\tCBPGridGallery.prototype._handleResize = function( ) {\\n\\t\\tthis._resizeHandler();\\n\\t}\\n\\t\\n\\tCBPGridGallery.prototype._handleOpenSlideshow = function( idx, e ) {\\n\\t\\tthis._openSlideshow( idx );\\t\\n\\t}\\n\\t\\n\\tCBPGridGallery.prototype._handleNavigate = function( navId, e ) {\\n\\t\\tthis._navigate( navId );\\n\\t}\\n\\t\\n\\tCBPGridGallery.prototype._handleClose = function( ) {\\n\\t\\tthis._closeSlideshow();\\n\\t}\\n\\n\\tCBPGridGallery.prototype._openSlideshow = function( pos ) {\\n\\t\\tthis.isSlideshowVisible = true;\\n\\t\\tthis.current = pos;\\n\\n\\t\\tclassie.addClass( this.el, 'slideshow-open' );\\n\\n\\t\\t/* position slideshow items */\\n\\n\\t\\t// set viewport items (current, next and previous)\\n\\t\\tthis._setViewportItems();\\n\\t\\t\\n\\t\\t// add class \\\"current\\\" and \\\"show\\\" to currentItem\\n\\t\\tclassie.addClass( this.currentItem, 'current' );\\n\\t\\tclassie.addClass( this.currentItem, 'show' );\\n\\n\\t\\t// add class show to next and previous items\\n\\t\\t// position previous item on the left side and the next item on the right side\\n\\t\\tif( this.prevItem ) {\\n\\t\\t\\tclassie.addClass( this.prevItem, 'show' );\\n\\t\\t\\tvar translateVal = Number( -1 * ( getViewportW() / 2 + this.prevItem.offsetWidth / 2 ) );\\n\\t\\t\\tsetTransform( this.prevItem, support.support3d ? 'translate3d(' + translateVal + this._translateZ() : 'translate(' + translateVal + 'px)' );\\n\\t\\t}\\n\\t\\tif( this.nextItem ) {\\n\\t\\t\\tclassie.addClass( this.nextItem, 'show' );\\n\\t\\t\\tvar translateVal = Number( getViewportW() / 2 + this.nextItem.offsetWidth / 2 );\\n\\t\\t\\tsetTransform( this.nextItem, support.support3d ? 'translate3d(' + translateVal + this._translateZ() : 'translate(' + translateVal + 'px)' );\\n\\t\\t}\\n\\t};\\n\\t\\n\\tCBPGridGallery.prototype._translateZ = function() { \\n\\t\\tvar windowSize = window.outerWidth;\\n\\t\\t\\n\\t\\tif (windowSize > 768) {\\n\\t\\t\\treturn 'px, 0, -150px)';\\n\\t\\t} else {\\n\\t\\t\\treturn 'px, 0, 0)';\\n\\t\\t}\\n\\t}\\n\\n\\tCBPGridGallery.prototype._navigate = function( dir ) {\\n\\t\\tif( this.isAnimating ) return;\\n\\t\\tif( dir === 'next' && this.current === this.itemsCount - 1 ||  dir === 'prev' && this.current === 0  ) {\\n\\t\\t\\tthis._closeSlideshow();\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tthis.isAnimating = true;\\n\\t\\t\\n\\t\\t// reset viewport items\\n\\t\\tthis._setViewportItems();\\n\\n\\t\\tif (this.currentItem == null) {\\n\\t\\t\\talert('[CBPGridGallery._navigate]: this.currentItem is null!');\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\t\\t\\n\\t\\tvar self = this,\\n\\t\\titemWidth = this.currentItem.offsetWidth,\\n\\t\\t// positions for the centered/current item, both the side items and the incoming ones\\n\\t\\ttransformLeftStr = support.support3d ? 'translate3d(-' + Number( getViewportW() / 2 + itemWidth / 2 ) + this._translateZ() : 'translate(-' + Number( getViewportW() / 2 + itemWidth / 2 ) + 'px)',\\n\\t\\ttransformRightStr = support.support3d ? 'translate3d(' + Number( getViewportW() / 2 + itemWidth / 2 ) + this._translateZ() : 'translate(' + Number( getViewportW() / 2 + itemWidth / 2 ) + 'px)',\\n\\t\\ttransformCenterStr = '', transformOutStr, transformIncomingStr,\\n\\t\\t// incoming item\\n\\t\\tincomingItem;\\n\\n\\t\\tif( dir === 'next' ) {\\n\\t\\t\\ttransformOutStr = support.support3d ? 'translate3d( -' + Number( (getViewportW() * 2) / 2 + itemWidth / 2 ) + 'px, 0, 0 )' : 'translate(-' + Number( (getViewportW() * 2) / 2 + itemWidth / 2 ) + 'px)';\\n\\t\\t\\ttransformIncomingStr = support.support3d ? 'translate3d( ' + Number( (getViewportW() * 2) / 2 + itemWidth / 2 ) + this._translateZ() : 'translate(' + Number( (getViewportW() * 2) / 2 + itemWidth / 2 ) + 'px)';\\n\\t\\t}\\n\\t\\telse {\\n\\t\\t\\ttransformOutStr = support.support3d ? 'translate3d( ' + Number( (getViewportW() * 2) / 2 + itemWidth / 2 ) + 'px, 0, 0 )' : 'translate(' + Number( (getViewportW() * 2) / 2 + itemWidth / 2 ) + 'px)';\\n\\t\\t\\ttransformIncomingStr = support.support3d ? 'translate3d( -' + Number( (getViewportW() * 2) / 2 + itemWidth / 2 ) + this._translateZ() : 'translate(-' + Number( (getViewportW() * 2) / 2 + itemWidth / 2 ) + 'px)';\\n\\t\\t}\\n\\n\\t\\t// remove class animatable from the slideshow grid (if it has already)\\n\\t\\tclassie.removeClass( self.slideshow, 'animatable' );\\n\\n\\t\\tif( dir === 'next' && this.current < this.itemsCount - 2 || dir === 'prev' && this.current > 1 ) {\\n\\t\\t\\t// we have an incoming item!\\n\\t\\t\\tincomingItem = this.slideshowItems[ dir === 'next' ? this.current + 2 : this.current - 2 ];\\n\\t\\t\\tsetTransform( incomingItem, transformIncomingStr );\\n\\t\\t\\tclassie.addClass( incomingItem, 'show' );\\n\\t\\t}\\n\\n\\t\\tvar slide = function() {\\n\\t\\t\\t// add class animatable to the slideshow grid\\n\\t\\t\\tclassie.addClass( self.slideshow, 'animatable' );\\n\\n\\t\\t\\t// overlays:\\n\\t\\t\\tclassie.removeClass( self.currentItem, 'current' );\\n\\t\\t\\tvar nextCurrent = dir === 'next' ? self.nextItem : self.prevItem;\\n\\t\\t\\tclassie.addClass( nextCurrent, 'current' );\\n\\n\\t\\t\\tsetTransform( self.currentItem, dir === 'next' ? transformLeftStr : transformRightStr );\\n\\n\\t\\t\\tif( self.nextItem ) {\\n\\t\\t\\t\\tsetTransform( self.nextItem, dir === 'next' ? transformCenterStr : transformOutStr );\\n\\t\\t\\t}\\n\\n\\t\\t\\tif( self.prevItem ) {\\n\\t\\t\\t\\tsetTransform( self.prevItem, dir === 'next' ? transformOutStr : transformCenterStr );\\n\\t\\t\\t}\\n\\n\\t\\t\\tif( incomingItem ) {\\n\\t\\t\\t\\tsetTransform( incomingItem, dir === 'next' ? transformRightStr : transformLeftStr );\\n\\t\\t\\t}\\n\\n\\t\\t\\tvar onEndTransitionFn = function( ev ) {\\n\\t\\t\\t\\tif( support.transitions ) {\\n\\t\\t\\t\\t\\tif( ev.propertyName.indexOf( 'transform' ) === -1 ) return false;\\n\\t\\t\\t\\t\\tthis.removeEventListener( transEndEventName, onEndTransitionFn );\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif( self.prevItem && dir === 'next' ) {\\n\\t\\t\\t\\t\\tclassie.removeClass( self.prevItem, 'show' );\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\telse if( self.nextItem && dir === 'prev' ) {\\n\\t\\t\\t\\t\\tclassie.removeClass( self.nextItem, 'show' );\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif( dir === 'next' ) {\\n\\t\\t\\t\\t\\tself.prevItem = self.currentItem;\\n\\t\\t\\t\\t\\tself.currentItem = self.nextItem;\\n\\t\\t\\t\\t\\tif( incomingItem ) {\\n\\t\\t\\t\\t\\t\\tself.nextItem = incomingItem;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\telse {\\n\\t\\t\\t\\t\\tself.nextItem = self.currentItem;\\n\\t\\t\\t\\t\\tself.currentItem = self.prevItem;\\n\\t\\t\\t\\t\\tif( incomingItem ) {\\n\\t\\t\\t\\t\\t\\tself.prevItem = incomingItem;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tself.current = dir === 'next' ? self.current + 1 : self.current - 1;\\n\\t\\t\\t\\tself.isAnimating = false;\\n\\t\\t\\t};\\n\\n\\t\\t\\tif( support.transitions ) {\\n\\t\\t\\t\\tself.currentItem.addEventListener( transEndEventName, onEndTransitionFn );\\n\\t\\t\\t}\\n\\t\\t\\telse {\\n\\t\\t\\t\\tonEndTransitionFn();\\n\\t\\t\\t}\\n\\t\\t};\\n\\n\\t\\tsetTimeout( slide, 25 );\\n\\t}\\n\\n\\tCBPGridGallery.prototype._closeSlideshow = function( pos ) {\\n\\t\\t// remove class slideshow-open from the grid gallery elem\\n\\t\\tclassie.removeClass( this.el, 'slideshow-open' );\\n\\t\\t// remove class animatable from the slideshow grid\\n\\t\\tclassie.removeClass( this.slideshow, 'animatable' );\\n\\n\\t\\tvar self = this,\\n\\t\\t\\tonEndTransitionFn = function( ev ) {\\n\\t\\t\\t\\tif( support.transitions ) {\\n\\t\\t\\t\\t\\tif( ev.target.tagName.toLowerCase() !== 'ul' ) return;\\n\\t\\t\\t\\t\\tthis.removeEventListener( transEndEventName, onEndTransitionFn );\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\t// remove classes show and current from the slideshow items\\n\\t\\t\\t\\tclassie.removeClass( self.currentItem, 'current' );\\n\\t\\t\\t\\tclassie.removeClass( self.currentItem, 'show' );\\n\\t\\t\\t\\t\\n\\t\\t\\t\\tif( self.prevItem ) {\\n\\t\\t\\t\\t\\tclassie.removeClass( self.prevItem, 'show' );\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tif( self.nextItem ) {\\n\\t\\t\\t\\t\\tclassie.removeClass( self.nextItem, 'show' );\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// also reset any transforms for all the items\\n\\t\\t\\t\\tself.slideshowItems.forEach( function( item ) { setTransform( item, '' ); } );\\n\\n\\t\\t\\t\\tself.isSlideshowVisible = false;\\n\\t\\t\\t};\\n\\n\\t\\tif( support.transitions ) {\\n\\t\\t\\tthis.el.addEventListener( transEndEventName, onEndTransitionFn );\\n\\t\\t}\\n\\t\\telse {\\n\\t\\t\\tonEndTransitionFn();\\n\\t\\t}\\n\\t};\\n\\n\\tCBPGridGallery.prototype._setViewportItems = function() {\\n\\t\\tthis.currentItem = null;\\n\\t\\tthis.prevItem = null;\\n\\t\\tthis.nextItem = null;\\n\\n\\t\\tif( this.current > 0 ) {\\n\\t\\t\\tthis.prevItem = this.slideshowItems[ this.current - 1 ];\\n\\t\\t}\\n\\t\\t\\n\\t\\tif( this.current < this.itemsCount - 1 ) {\\n\\t\\t\\tthis.nextItem = this.slideshowItems[ this.current + 1 ];\\n\\t\\t}\\n\\t\\t\\n\\t\\tthis.currentItem = this.slideshowItems[ this.current ];\\n\\t\\tconsole.log(\\\"[CBPGridGallery.prototype._setViewportItems]: this.currentItem is ...\\\");\\n\\t\\tconsole.log(this.currentItem);\\n\\t}\\n\\n\\t// taken from https://github.com/desandro/vanilla-masonry/blob/master/masonry.js by David DeSandro\\n\\t// original debounce by John Hann\\n\\t// http://unscriptable.com/index.php/2009/03/20/debouncing-javascript-methods/\\n\\tCBPGridGallery.prototype._resizeHandler = function() {\\n\\t\\tvar self = this;\\n\\t\\t\\n\\t\\tfunction delayed() {\\t\\t\\n\\t\\t\\tself._resize();\\n\\t\\t\\tself._resizeTimeout = null;\\n\\t\\t}\\n\\t\\t\\n\\t\\tif ( this._resizeTimeout ) {\\n\\t\\t\\tclearTimeout( this._resizeTimeout );\\n\\t\\t}\\n\\t\\t\\n\\t\\tthis._resizeTimeout = setTimeout( delayed, 50 );\\n\\t}\\n\\n\\tCBPGridGallery.prototype._resize = function() {\\n\\t\\tif ( this.isSlideshowVisible ) {\\n\\t\\t\\t// update width value\\n\\t\\t\\tif( this.prevItem ) {\\n\\t\\t\\t\\tvar translateVal = Number( -1 * ( getViewportW() / 2 + this.prevItem.offsetWidth / 2 ) );\\n\\t\\t\\t\\tsetTransform( this.prevItem, support.support3d ? 'translate3d(' + translateVal + this._translateZ() : 'translate(' + translateVal + 'px)' );\\n\\t\\t\\t}\\n\\t\\t\\tif( this.nextItem ) {\\n\\t\\t\\t\\tvar translateVal = Number( getViewportW() / 2 + this.nextItem.offsetWidth / 2 );\\n\\t\\t\\t\\tsetTransform( this.nextItem, support.support3d ? 'translate3d(' + translateVal + this._translateZ() : 'translate(' + translateVal + 'px)' );\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\t\\n\\tCBPGridGallery.prototype.destroy = function() { \\n\\t\\tthis.gridItems.forEach( function( item, idx ) {\\n\\t\\t\\titem.removeEventListener('click', this._handleOpenSlideshow);\\n\\t\\t}.bind(this));\\n\\t\\tthis.ctrlPrev.removeEventListener( 'click', this._handleNavigate );\\n\\t\\tthis.ctrlNext.removeEventListener( 'click', this._handleNavigate );\\n\\t\\tthis.ctrlClose.removeEventListener( 'click', this._handleClose );\\n\\t}\\n\\n\\t// add to global namespace\\n\\twindow.CBPGridGallery = CBPGridGallery;\\n\\n})( window );\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/raw-loader!./~/source-map-loader!./src/js/cbpGridGallery.js\n// module id = 567\n// module chunks = 1","module.exports = \"/**\\n * plugin.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/*global tinymce:true */\\n\\ntinymce.PluginManager.add('link', function(editor) {\\n\\tvar attachState = {};\\n\\n\\tfunction isLink(elm) {\\n\\t\\treturn elm && elm.nodeName === 'A' && elm.href;\\n\\t}\\n\\n\\tfunction hasLinks(elements) {\\n\\t\\treturn tinymce.util.Tools.grep(elements, isLink).length > 0;\\n\\t}\\n\\n\\tfunction getLink(elm) {\\n\\t\\treturn editor.dom.getParent(elm, 'a[href]');\\n\\t}\\n\\n\\tfunction getSelectedLink() {\\n\\t\\treturn getLink(editor.selection.getStart());\\n\\t}\\n\\n\\tfunction getHref(elm) {\\n\\t\\t// Returns the real href value not the resolved a.href value\\n\\t\\tvar href = elm.getAttribute('data-mce-href');\\n\\t\\treturn href ? href : elm.getAttribute('href');\\n\\t}\\n\\n\\tfunction isContextMenuVisible() {\\n\\t\\tvar contextmenu = editor.plugins.contextmenu;\\n\\t\\treturn contextmenu ? contextmenu.isContextMenuVisible() : false;\\n\\t}\\n\\n\\tvar hasOnlyAltModifier = function (e) {\\n\\t\\treturn e.altKey === true && e.shiftKey === false && e.ctrlKey === false && e.metaKey === false;\\n\\t};\\n\\n\\tfunction leftClickedOnAHref(elm) {\\n\\t\\tvar sel, rng, node;\\n\\t\\tif (editor.settings.link_context_toolbar && !isContextMenuVisible() && isLink(elm)) {\\n\\t\\t\\tsel = editor.selection;\\n\\t\\t\\trng = sel.getRng();\\n\\t\\t\\tnode = rng.startContainer;\\n\\t\\t\\t// ignore cursor positions at the beginning/end (to make context toolbar less noisy)\\n\\t\\t\\tif (node.nodeType == 3 && sel.isCollapsed() && rng.startOffset > 0 && rng.startOffset < node.data.length) {\\n\\t\\t\\t\\treturn true;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t\\treturn false;\\n\\t}\\n\\n\\tfunction appendClickRemove(link, evt) {\\n\\t\\tdocument.body.appendChild(link);\\n\\t\\tlink.dispatchEvent(evt);\\n\\t\\tdocument.body.removeChild(link);\\n\\t}\\n\\n\\tfunction openDetachedWindow(url) {\\n\\t\\t// Chrome and Webkit has implemented noopener and works correctly with/without popup blocker\\n\\t\\t// Firefox has it implemented noopener but when the popup blocker is activated it doesn't work\\n\\t\\t// Edge has only implemented noreferrer and it seems to remove opener as well\\n\\t\\t// Older IE versions pre IE 11 falls back to a window.open approach\\n\\t\\tif (!tinymce.Env.ie || tinymce.Env.ie > 10) {\\n\\t\\t\\tvar link = document.createElement('a');\\n\\t\\t\\tlink.target = '_blank';\\n\\t\\t\\tlink.href = url;\\n\\t\\t\\tlink.rel = 'noreferrer noopener';\\n\\n\\t\\t\\tvar evt = document.createEvent('MouseEvents');\\n\\t\\t\\tevt.initMouseEvent('click', true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\\n\\n\\t\\t\\tappendClickRemove(link, evt);\\n\\t\\t} else {\\n\\t\\t\\tvar win = window.open('', '_blank');\\n\\t\\t\\tif (win) {\\n\\t\\t\\t\\twin.opener = null;\\n\\t\\t\\t\\tvar doc = win.document;\\n\\t\\t\\t\\tdoc.open();\\n\\t\\t\\t\\tdoc.write('<meta http-equiv=\\\"refresh\\\" content=\\\"0; url=' + tinymce.DOM.encode(url) + '\\\">');\\n\\t\\t\\t\\tdoc.close();\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\tfunction gotoLink(a) {\\n\\t\\tif (a) {\\n\\t\\t\\tvar href = getHref(a);\\n\\t\\t\\tif (/^#/.test(href)) {\\n\\t\\t\\t\\tvar targetEl = editor.$(href);\\n\\t\\t\\t\\tif (targetEl.length) {\\n\\t\\t\\t\\t\\teditor.selection.scrollIntoView(targetEl[0], true);\\n\\t\\t\\t\\t}\\n\\t\\t\\t} else {\\n\\t\\t\\t\\topenDetachedWindow(a.href);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\tfunction gotoSelectedLink() {\\n\\t\\tgotoLink(getSelectedLink());\\n\\t}\\n\\n\\tfunction toggleViewLinkState() {\\n        var self = this;\\n\\n\\t\\tvar toggleVisibility = function (e) {\\n\\t\\t\\tif (hasLinks(e.parents)) {\\n\\t\\t\\t\\tself.show();\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tself.hide();\\n\\t\\t\\t}\\n\\t\\t};\\n\\n\\t\\tif (!hasLinks(editor.dom.getParents(editor.selection.getStart()))) {\\n\\t\\t\\tself.hide();\\n\\t\\t}\\n\\n        editor.on('nodechange', toggleVisibility);\\n\\n\\t\\tself.on('remove', function () {\\n\\t\\t\\teditor.off('nodechange', toggleVisibility);\\n\\t\\t});\\n\\t}\\n\\n\\tfunction createLinkList(callback) {\\n\\t\\treturn function() {\\n\\t\\t\\tvar linkList = editor.settings.link_list;\\n\\n\\t\\t\\tif (typeof linkList == \\\"string\\\") {\\n\\t\\t\\t\\ttinymce.util.XHR.send({\\n\\t\\t\\t\\t\\turl: linkList,\\n\\t\\t\\t\\t\\tsuccess: function(text) {\\n\\t\\t\\t\\t\\t\\tcallback(tinymce.util.JSON.parse(text));\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\t\\t\\t} else if (typeof linkList == \\\"function\\\") {\\n\\t\\t\\t\\tlinkList(callback);\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tcallback(linkList);\\n\\t\\t\\t}\\n\\t\\t};\\n\\t}\\n\\n\\tfunction buildListItems(inputList, itemCallback, startItems) {\\n\\t\\tfunction appendItems(values, output) {\\n\\t\\t\\toutput = output || [];\\n\\n\\t\\t\\ttinymce.each(values, function(item) {\\n\\t\\t\\t\\tvar menuItem = {text: item.text || item.title};\\n\\n\\t\\t\\t\\tif (item.menu) {\\n\\t\\t\\t\\t\\tmenuItem.menu = appendItems(item.menu);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tmenuItem.value = item.value;\\n\\n\\t\\t\\t\\t\\tif (itemCallback) {\\n\\t\\t\\t\\t\\t\\titemCallback(menuItem);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\toutput.push(menuItem);\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn output;\\n\\t\\t}\\n\\n\\t\\treturn appendItems(inputList, startItems || []);\\n\\t}\\n\\n\\tfunction showDialog(linkList) {\\n\\t\\tvar data = {}, selection = editor.selection, dom = editor.dom, selectedElm, anchorElm, initialText;\\n\\t\\tvar win, onlyText, textListCtrl, linkListCtrl, relListCtrl, targetListCtrl, classListCtrl, linkTitleCtrl, value;\\n\\n\\t\\tfunction linkListChangeHandler(e) {\\n\\t\\t\\tvar textCtrl = win.find('#text');\\n\\n\\t\\t\\tif (!textCtrl.value() || (e.lastControl && textCtrl.value() == e.lastControl.text())) {\\n\\t\\t\\t\\ttextCtrl.value(e.control.text());\\n\\t\\t\\t}\\n\\n\\t\\t\\twin.find('#href').value(e.control.value());\\n\\t\\t}\\n\\n\\t\\tfunction buildAnchorListControl(url) {\\n\\t\\t\\tvar anchorList = [];\\n\\n\\t\\t\\ttinymce.each(editor.dom.select('a:not([href])'), function(anchor) {\\n\\t\\t\\t\\tvar id = anchor.name || anchor.id;\\n\\n\\t\\t\\t\\tif (id) {\\n\\t\\t\\t\\t\\tanchorList.push({\\n\\t\\t\\t\\t\\t\\ttext: id,\\n\\t\\t\\t\\t\\t\\tvalue: '#' + id,\\n\\t\\t\\t\\t\\t\\tselected: url.indexOf('#' + id) != -1\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\tif (anchorList.length) {\\n\\t\\t\\t\\tanchorList.unshift({text: 'None', value: ''});\\n\\n\\t\\t\\t\\treturn {\\n\\t\\t\\t\\t\\tname: 'anchor',\\n\\t\\t\\t\\t\\ttype: 'listbox',\\n\\t\\t\\t\\t\\tlabel: 'Anchors',\\n\\t\\t\\t\\t\\tvalues: anchorList,\\n\\t\\t\\t\\t\\tonselect: linkListChangeHandler\\n\\t\\t\\t\\t};\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction updateText() {\\n\\t\\t\\tif (!initialText && data.text.length === 0 && onlyText) {\\n\\t\\t\\t\\tthis.parent().parent().find('#text')[0].value(this.value());\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction urlChange(e) {\\n\\t\\t\\tvar meta = e.meta || {};\\n\\n\\t\\t\\tif (linkListCtrl) {\\n\\t\\t\\t\\tlinkListCtrl.value(editor.convertURL(this.value(), 'href'));\\n\\t\\t\\t}\\n\\n\\t\\t\\ttinymce.each(e.meta, function(value, key) {\\n\\t\\t\\t\\tvar inp = win.find('#' + key);\\n\\n\\t\\t\\t\\tif (key === 'text') {\\n\\t\\t\\t\\t\\tif (initialText.length === 0) {\\n\\t\\t\\t\\t\\t\\tinp.value(value);\\n\\t\\t\\t\\t\\t\\tdata.text = value;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tinp.value(value);\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\tif (meta.attach) {\\n\\t\\t\\t\\tattachState = {\\n\\t\\t\\t\\t\\thref: this.value(),\\n\\t\\t\\t\\t\\tattach: meta.attach\\n\\t\\t\\t\\t};\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!meta.text) {\\n\\t\\t\\t\\tupdateText.call(this);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction isOnlyTextSelected(anchorElm) {\\n\\t\\t\\tvar html = selection.getContent();\\n\\n\\t\\t\\t// Partial html and not a fully selected anchor element\\n\\t\\t\\tif (/</.test(html) && (!/^<a [^>]+>[^<]+<\\\\/a>$/.test(html) || html.indexOf('href=') == -1)) {\\n\\t\\t\\t\\treturn false;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (anchorElm) {\\n\\t\\t\\t\\tvar nodes = anchorElm.childNodes, i;\\n\\n\\t\\t\\t\\tif (nodes.length === 0) {\\n\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfor (i = nodes.length - 1; i >= 0; i--) {\\n\\t\\t\\t\\t\\tif (nodes[i].nodeType != 3) {\\n\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn true;\\n\\t\\t}\\n\\n\\t\\tfunction onBeforeCall(e) {\\n\\t\\t\\te.meta = win.toJSON();\\n\\t\\t}\\n\\n\\t\\tselectedElm = selection.getNode();\\n\\t\\tanchorElm = dom.getParent(selectedElm, 'a[href]');\\n\\t\\tonlyText = isOnlyTextSelected();\\n\\n\\t\\tdata.text = initialText = anchorElm ? (anchorElm.innerText || anchorElm.textContent) : selection.getContent({format: 'text'});\\n\\t\\tdata.href = anchorElm ? dom.getAttrib(anchorElm, 'href') : '';\\n\\n\\t\\tif (anchorElm) {\\n\\t\\t\\tdata.target = dom.getAttrib(anchorElm, 'target');\\n\\t\\t} else if (editor.settings.default_link_target) {\\n\\t\\t\\tdata.target = editor.settings.default_link_target;\\n\\t\\t}\\n\\n\\t\\tif ((value = dom.getAttrib(anchorElm, 'rel'))) {\\n\\t\\t\\tdata.rel = value;\\n\\t\\t}\\n\\n\\t\\tif ((value = dom.getAttrib(anchorElm, 'class'))) {\\n\\t\\t\\tdata['class'] = value;\\n\\t\\t}\\n\\n\\t\\tif ((value = dom.getAttrib(anchorElm, 'title'))) {\\n\\t\\t\\tdata.title = value;\\n\\t\\t}\\n\\n\\t\\tif (onlyText) {\\n\\t\\t\\ttextListCtrl = {\\n\\t\\t\\t\\tname: 'text',\\n\\t\\t\\t\\ttype: 'textbox',\\n\\t\\t\\t\\tsize: 40,\\n\\t\\t\\t\\tlabel: 'Text to display',\\n\\t\\t\\t\\tonchange: function() {\\n\\t\\t\\t\\t\\tdata.text = this.value();\\n\\t\\t\\t\\t}\\n\\t\\t\\t};\\n\\t\\t}\\n\\n\\t\\tif (linkList) {\\n\\t\\t\\tlinkListCtrl = {\\n\\t\\t\\t\\ttype: 'listbox',\\n\\t\\t\\t\\tlabel: 'Link list',\\n\\t\\t\\t\\tvalues: buildListItems(\\n\\t\\t\\t\\t\\tlinkList,\\n\\t\\t\\t\\t\\tfunction(item) {\\n\\t\\t\\t\\t\\t\\titem.value = editor.convertURL(item.value || item.url, 'href');\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t[{text: 'None', value: ''}]\\n\\t\\t\\t\\t),\\n\\t\\t\\t\\tonselect: linkListChangeHandler,\\n\\t\\t\\t\\tvalue: editor.convertURL(data.href, 'href'),\\n\\t\\t\\t\\tonPostRender: function() {\\n\\t\\t\\t\\t\\t/*eslint consistent-this:0*/\\n\\t\\t\\t\\t\\tlinkListCtrl = this;\\n\\t\\t\\t\\t}\\n\\t\\t\\t};\\n\\t\\t}\\n\\n\\t\\tif (editor.settings.target_list !== false) {\\n\\t\\t\\tif (!editor.settings.target_list) {\\n\\t\\t\\t\\teditor.settings.target_list = [\\n\\t\\t\\t\\t\\t{text: 'None', value: ''},\\n\\t\\t\\t\\t\\t{text: 'New window', value: '_blank'}\\n\\t\\t\\t\\t];\\n\\t\\t\\t}\\n\\n\\t\\t\\ttargetListCtrl = {\\n\\t\\t\\t\\tname: 'target',\\n\\t\\t\\t\\ttype: 'listbox',\\n\\t\\t\\t\\tlabel: 'Target',\\n\\t\\t\\t\\tvalues: buildListItems(editor.settings.target_list)\\n\\t\\t\\t};\\n\\t\\t}\\n\\n\\t\\tif (editor.settings.rel_list) {\\n\\t\\t\\trelListCtrl = {\\n\\t\\t\\t\\tname: 'rel',\\n\\t\\t\\t\\ttype: 'listbox',\\n\\t\\t\\t\\tlabel: 'Rel',\\n\\t\\t\\t\\tvalues: buildListItems(editor.settings.rel_list)\\n\\t\\t\\t};\\n\\t\\t}\\n\\n\\t\\tif (editor.settings.link_class_list) {\\n\\t\\t\\tclassListCtrl = {\\n\\t\\t\\t\\tname: 'class',\\n\\t\\t\\t\\ttype: 'listbox',\\n\\t\\t\\t\\tlabel: 'Class',\\n\\t\\t\\t\\tvalues: buildListItems(\\n\\t\\t\\t\\t\\teditor.settings.link_class_list,\\n\\t\\t\\t\\t\\tfunction(item) {\\n\\t\\t\\t\\t\\t\\tif (item.value) {\\n\\t\\t\\t\\t\\t\\t\\titem.textStyle = function() {\\n\\t\\t\\t\\t\\t\\t\\t\\treturn editor.formatter.getCssText({inline: 'a', classes: [item.value]});\\n\\t\\t\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t)\\n\\t\\t\\t};\\n\\t\\t}\\n\\n\\t\\tif (editor.settings.link_title !== false) {\\n\\t\\t\\tlinkTitleCtrl = {\\n\\t\\t\\t\\tname: 'title',\\n\\t\\t\\t\\ttype: 'textbox',\\n\\t\\t\\t\\tlabel: 'Title',\\n\\t\\t\\t\\tvalue: data.title\\n\\t\\t\\t};\\n\\t\\t}\\n\\n\\t\\twin = editor.windowManager.open({\\n\\t\\t\\ttitle: 'Insert link',\\n\\t\\t\\tdata: data,\\n\\t\\t\\tbody: [\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tname: 'href',\\n\\t\\t\\t\\t\\ttype: 'filepicker',\\n\\t\\t\\t\\t\\tfiletype: 'file',\\n\\t\\t\\t\\t\\tsize: 40,\\n\\t\\t\\t\\t\\tautofocus: true,\\n\\t\\t\\t\\t\\tlabel: 'Url',\\n\\t\\t\\t\\t\\tonchange: urlChange,\\n\\t\\t\\t\\t\\tonkeyup: updateText,\\n\\t\\t\\t\\t\\tonbeforecall: onBeforeCall\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\ttextListCtrl,\\n\\t\\t\\t\\tlinkTitleCtrl,\\n\\t\\t\\t\\tbuildAnchorListControl(data.href),\\n\\t\\t\\t\\tlinkListCtrl,\\n\\t\\t\\t\\trelListCtrl,\\n\\t\\t\\t\\ttargetListCtrl,\\n\\t\\t\\t\\tclassListCtrl\\n\\t\\t\\t],\\n\\t\\t\\tonSubmit: function(e) {\\n\\t\\t\\t\\t/*eslint dot-notation: 0*/\\n\\t\\t\\t\\tvar href;\\n\\n\\t\\t\\t\\tdata = tinymce.extend(data, e.data);\\n\\t\\t\\t\\thref = data.href;\\n\\n\\t\\t\\t\\t// Delay confirm since onSubmit will move focus\\n\\t\\t\\t\\tfunction delayedConfirm(message, callback) {\\n\\t\\t\\t\\t\\tvar rng = editor.selection.getRng();\\n\\n\\t\\t\\t\\t\\ttinymce.util.Delay.setEditorTimeout(editor, function() {\\n\\t\\t\\t\\t\\t\\teditor.windowManager.confirm(message, function(state) {\\n\\t\\t\\t\\t\\t\\t\\teditor.selection.setRng(rng);\\n\\t\\t\\t\\t\\t\\t\\tcallback(state);\\n\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfunction toggleTargetRules(rel, isUnsafe) {\\n\\t\\t\\t\\t\\tvar rules = 'noopener noreferrer';\\n\\n\\t\\t\\t\\t\\tfunction addTargetRules(rel) {\\n\\t\\t\\t\\t\\t\\trel = removeTargetRules(rel);\\n\\t\\t\\t\\t\\t\\treturn rel ? [rel, rules].join(' ') : rules;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tfunction removeTargetRules(rel) {\\n\\t\\t\\t\\t\\t\\tvar regExp = new RegExp('(' + rules.replace(' ', '|') + ')', 'g');\\n\\t\\t\\t\\t\\t\\tif (rel) {\\n\\t\\t\\t\\t\\t\\t\\trel = tinymce.trim(rel.replace(regExp, ''));\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\treturn rel ? rel : null;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\treturn isUnsafe ? addTargetRules(rel) : removeTargetRules(rel);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfunction createLink() {\\n\\t\\t\\t\\t\\tvar linkAttrs = {\\n\\t\\t\\t\\t\\t\\thref: href,\\n\\t\\t\\t\\t\\t\\ttarget: data.target ? data.target : null,\\n\\t\\t\\t\\t\\t\\trel: data.rel ? data.rel : null,\\n\\t\\t\\t\\t\\t\\t\\\"class\\\": data[\\\"class\\\"] ? data[\\\"class\\\"] : null,\\n\\t\\t\\t\\t\\t\\ttitle: data.title ? data.title : null\\n\\t\\t\\t\\t\\t};\\n\\n\\t\\t\\t\\t\\tif (!editor.settings.allow_unsafe_link_target) {\\n\\t\\t\\t\\t\\t\\tlinkAttrs.rel = toggleTargetRules(linkAttrs.rel, linkAttrs.target == '_blank');\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (href === attachState.href) {\\n\\t\\t\\t\\t\\t\\tattachState.attach();\\n\\t\\t\\t\\t\\t\\tattachState = {};\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (anchorElm) {\\n\\t\\t\\t\\t\\t\\teditor.focus();\\n\\n\\t\\t\\t\\t\\t\\tif (onlyText && data.text != initialText) {\\n\\t\\t\\t\\t\\t\\t\\tif (\\\"innerText\\\" in anchorElm) {\\n\\t\\t\\t\\t\\t\\t\\t\\tanchorElm.innerText = data.text;\\n\\t\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\t\\tanchorElm.textContent = data.text;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tdom.setAttribs(anchorElm, linkAttrs);\\n\\n\\t\\t\\t\\t\\t\\tselection.select(anchorElm);\\n\\t\\t\\t\\t\\t\\teditor.undoManager.add();\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tif (onlyText) {\\n\\t\\t\\t\\t\\t\\t\\teditor.insertContent(dom.createHTML('a', linkAttrs, dom.encode(data.text)));\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\teditor.execCommand('mceInsertLink', false, linkAttrs);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfunction insertLink() {\\n\\t\\t\\t\\t\\teditor.undoManager.transact(createLink);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (!href) {\\n\\t\\t\\t\\t\\teditor.execCommand('unlink');\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Is email and not //user@domain.com\\n\\t\\t\\t\\tif (href.indexOf('@') > 0 && href.indexOf('//') == -1 && href.indexOf('mailto:') == -1) {\\n\\t\\t\\t\\t\\tdelayedConfirm(\\n\\t\\t\\t\\t\\t\\t'The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?',\\n\\t\\t\\t\\t\\t\\tfunction(state) {\\n\\t\\t\\t\\t\\t\\t\\tif (state) {\\n\\t\\t\\t\\t\\t\\t\\t\\thref = 'mailto:' + href;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tinsertLink();\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t);\\n\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Is not protocol prefixed\\n\\t\\t\\t\\tif ((editor.settings.link_assume_external_targets && !/^\\\\w+:/i.test(href)) ||\\n\\t\\t\\t\\t\\t(!editor.settings.link_assume_external_targets && /^\\\\s*www[\\\\.|\\\\d\\\\.]/i.test(href))) {\\n\\t\\t\\t\\t\\tdelayedConfirm(\\n\\t\\t\\t\\t\\t\\t'The URL you entered seems to be an external link. Do you want to add the required http:// prefix?',\\n\\t\\t\\t\\t\\t\\tfunction(state) {\\n\\t\\t\\t\\t\\t\\t\\tif (state) {\\n\\t\\t\\t\\t\\t\\t\\t\\thref = 'http://' + href;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tinsertLink();\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t);\\n\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tinsertLink();\\n\\t\\t\\t}\\n\\t\\t});\\n\\t}\\n\\n\\teditor.addButton('link', {\\n\\t\\ticon: 'link',\\n\\t\\ttooltip: 'Insert/edit link',\\n\\t\\tshortcut: 'Meta+K',\\n\\t\\tonclick: createLinkList(showDialog),\\n\\t\\tstateSelector: 'a[href]'\\n\\t});\\n\\n\\teditor.addButton('unlink', {\\n\\t\\ticon: 'unlink',\\n\\t\\ttooltip: 'Remove link',\\n\\t\\tcmd: 'unlink',\\n\\t\\tstateSelector: 'a[href]'\\n\\t});\\n\\n\\n\\tif (editor.addContextToolbar) {\\n\\t\\teditor.addButton('openlink', {\\n\\t\\t\\ticon: 'newtab',\\n\\t\\t\\ttooltip: 'Open link',\\n\\t\\t\\tonclick: gotoSelectedLink\\n\\t\\t});\\n\\n\\t\\teditor.addContextToolbar(\\n\\t\\t\\tleftClickedOnAHref,\\n\\t\\t\\t'openlink | link unlink'\\n\\t\\t);\\n\\t}\\n\\n\\n\\teditor.addShortcut('Meta+K', '', createLinkList(showDialog));\\n\\teditor.addCommand('mceLink', createLinkList(showDialog));\\n\\n\\teditor.on('click', function (e) {\\n\\t\\tvar link = getLink(e.target);\\n\\t\\tif (link && tinymce.util.VK.metaKeyPressed(e)) {\\n\\t\\t\\te.preventDefault();\\n\\t\\t\\tgotoLink(link);\\n\\t\\t}\\n\\t});\\n\\n\\teditor.on('keydown', function (e) {\\n\\t\\tvar link = getSelectedLink();\\n\\t\\tif (link && e.keyCode === 13 && hasOnlyAltModifier(e)) {\\n\\t\\t\\te.preventDefault();\\n\\t\\t\\tgotoLink(link);\\n\\t\\t}\\n\\t});\\n\\n\\tthis.showDialog = showDialog;\\n\\n\\teditor.addMenuItem('openlink', {\\n\\t\\ttext: 'Open link',\\n\\t\\ticon: 'newtab',\\n\\t\\tonclick: gotoSelectedLink,\\n\\t\\tonPostRender: toggleViewLinkState,\\n\\t\\tprependToContext: true\\n\\t});\\n\\n\\teditor.addMenuItem('link', {\\n\\t\\ticon: 'link',\\n\\t\\ttext: 'Link',\\n\\t\\tshortcut: 'Meta+K',\\n\\t\\tonclick: createLinkList(showDialog),\\n\\t\\tstateSelector: 'a[href]',\\n\\t\\tcontext: 'insert',\\n\\t\\tprependToContext: true\\n\\t});\\n});\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/raw-loader!./~/tinymce/plugins/link/plugin.js\n// module id = 568\n// module chunks = 1","module.exports = \"/**\\n * Compiled inline version. (Library mode)\\n */\\n\\n/*jshint smarttabs:true, undef:true, latedef:true, curly:true, bitwise:true, camelcase:true */\\n/*globals $code */\\n\\n(function(exports, undefined) {\\n\\t\\\"use strict\\\";\\n\\n\\tvar modules = {};\\n\\n\\tfunction require(ids, callback) {\\n\\t\\tvar module, defs = [];\\n\\n\\t\\tfor (var i = 0; i < ids.length; ++i) {\\n\\t\\t\\tmodule = modules[ids[i]] || resolve(ids[i]);\\n\\t\\t\\tif (!module) {\\n\\t\\t\\t\\tthrow 'module definition dependecy not found: ' + ids[i];\\n\\t\\t\\t}\\n\\n\\t\\t\\tdefs.push(module);\\n\\t\\t}\\n\\n\\t\\tcallback.apply(null, defs);\\n\\t}\\n\\n\\tfunction define(id, dependencies, definition) {\\n\\t\\tif (typeof id !== 'string') {\\n\\t\\t\\tthrow 'invalid module definition, module id must be defined and be a string';\\n\\t\\t}\\n\\n\\t\\tif (dependencies === undefined) {\\n\\t\\t\\tthrow 'invalid module definition, dependencies must be specified';\\n\\t\\t}\\n\\n\\t\\tif (definition === undefined) {\\n\\t\\t\\tthrow 'invalid module definition, definition function must be specified';\\n\\t\\t}\\n\\n\\t\\trequire(dependencies, function() {\\n\\t\\t\\tmodules[id] = definition.apply(null, arguments);\\n\\t\\t});\\n\\t}\\n\\n\\tfunction defined(id) {\\n\\t\\treturn !!modules[id];\\n\\t}\\n\\n\\tfunction resolve(id) {\\n\\t\\tvar target = exports;\\n\\t\\tvar fragments = id.split(/[.\\\\/]/);\\n\\n\\t\\tfor (var fi = 0; fi < fragments.length; ++fi) {\\n\\t\\t\\tif (!target[fragments[fi]]) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\ttarget = target[fragments[fi]];\\n\\t\\t}\\n\\n\\t\\treturn target;\\n\\t}\\n\\n\\tfunction expose(ids) {\\n\\t\\tvar i, target, id, fragments, privateModules;\\n\\n\\t\\tfor (i = 0; i < ids.length; i++) {\\n\\t\\t\\ttarget = exports;\\n\\t\\t\\tid = ids[i];\\n\\t\\t\\tfragments = id.split(/[.\\\\/]/);\\n\\n\\t\\t\\tfor (var fi = 0; fi < fragments.length - 1; ++fi) {\\n\\t\\t\\t\\tif (target[fragments[fi]] === undefined) {\\n\\t\\t\\t\\t\\ttarget[fragments[fi]] = {};\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\ttarget = target[fragments[fi]];\\n\\t\\t\\t}\\n\\n\\t\\t\\ttarget[fragments[fragments.length - 1]] = modules[id];\\n\\t\\t}\\n\\n\\t\\t// Expose private modules for unit tests\\n\\t\\tif (exports.AMDLC_TESTS) {\\n\\t\\t\\tprivateModules = exports.privateModules || {};\\n\\n\\t\\t\\tfor (id in modules) {\\n\\t\\t\\t\\tprivateModules[id] = modules[id];\\n\\t\\t\\t}\\n\\n\\t\\t\\tfor (i = 0; i < ids.length; i++) {\\n\\t\\t\\t\\tdelete privateModules[ids[i]];\\n\\t\\t\\t}\\n\\n\\t\\t\\texports.privateModules = privateModules;\\n\\t\\t}\\n\\t}\\n\\n// Included from: js/tinymce/plugins/paste/classes/Utils.js\\n\\n/**\\n * Utils.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class contails various utility functions for the paste plugin.\\n *\\n * @class tinymce.pasteplugin.Utils\\n */\\ndefine(\\\"tinymce/pasteplugin/Utils\\\", [\\n\\t\\\"tinymce/util/Tools\\\",\\n\\t\\\"tinymce/html/DomParser\\\",\\n\\t\\\"tinymce/html/Schema\\\"\\n], function(Tools, DomParser, Schema) {\\n\\tfunction filter(content, items) {\\n\\t\\tTools.each(items, function(v) {\\n\\t\\t\\tif (v.constructor == RegExp) {\\n\\t\\t\\t\\tcontent = content.replace(v, '');\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tcontent = content.replace(v[0], v[1]);\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\treturn content;\\n\\t}\\n\\n\\t/**\\n\\t * Gets the innerText of the specified element. It will handle edge cases\\n\\t * and works better than textContent on Gecko.\\n\\t *\\n\\t * @param {String} html HTML string to get text from.\\n\\t * @return {String} String of text with line feeds.\\n\\t */\\n\\tfunction innerText(html) {\\n\\t\\tvar schema = new Schema(), domParser = new DomParser({}, schema), text = '';\\n\\t\\tvar shortEndedElements = schema.getShortEndedElements();\\n\\t\\tvar ignoreElements = Tools.makeMap('script noscript style textarea video audio iframe object', ' ');\\n\\t\\tvar blockElements = schema.getBlockElements();\\n\\n\\t\\tfunction walk(node) {\\n\\t\\t\\tvar name = node.name, currentNode = node;\\n\\n\\t\\t\\tif (name === 'br') {\\n\\t\\t\\t\\ttext += '\\\\n';\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// img/input/hr\\n\\t\\t\\tif (shortEndedElements[name]) {\\n\\t\\t\\t\\ttext += ' ';\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Ingore script, video contents\\n\\t\\t\\tif (ignoreElements[name]) {\\n\\t\\t\\t\\ttext += ' ';\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (node.type == 3) {\\n\\t\\t\\t\\ttext += node.value;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Walk all children\\n\\t\\t\\tif (!node.shortEnded) {\\n\\t\\t\\t\\tif ((node = node.firstChild)) {\\n\\t\\t\\t\\t\\tdo {\\n\\t\\t\\t\\t\\t\\twalk(node);\\n\\t\\t\\t\\t\\t} while ((node = node.next));\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Add \\\\n or \\\\n\\\\n for blocks or P\\n\\t\\t\\tif (blockElements[name] && currentNode.next) {\\n\\t\\t\\t\\ttext += '\\\\n';\\n\\n\\t\\t\\t\\tif (name == 'p') {\\n\\t\\t\\t\\t\\ttext += '\\\\n';\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\thtml = filter(html, [\\n\\t\\t\\t/<!\\\\[[^\\\\]]+\\\\]>/g // Conditional comments\\n\\t\\t]);\\n\\n\\t\\twalk(domParser.parse(html));\\n\\n\\t\\treturn text;\\n\\t}\\n\\n\\t/**\\n\\t * Trims the specified HTML by removing all WebKit fragments, all elements wrapping the body trailing BR elements etc.\\n\\t *\\n\\t * @param {String} html Html string to trim contents on.\\n\\t * @return {String} Html contents that got trimmed.\\n\\t */\\n\\tfunction trimHtml(html) {\\n\\t\\tfunction trimSpaces(all, s1, s2) {\\n\\t\\t\\t// WebKit &nbsp; meant to preserve multiple spaces but instead inserted around all inline tags,\\n\\t\\t\\t// including the spans with inline styles created on paste\\n\\t\\t\\tif (!s1 && !s2) {\\n\\t\\t\\t\\treturn ' ';\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn '\\\\u00a0';\\n\\t\\t}\\n\\n\\t\\thtml = filter(html, [\\n\\t\\t\\t/^[\\\\s\\\\S]*<body[^>]*>\\\\s*|\\\\s*<\\\\/body[^>]*>[\\\\s\\\\S]*$/g, // Remove anything but the contents within the BODY element\\n\\t\\t\\t/<!--StartFragment-->|<!--EndFragment-->/g, // Inner fragments (tables from excel on mac)\\n\\t\\t\\t[/( ?)<span class=\\\"Apple-converted-space\\\">\\\\u00a0<\\\\/span>( ?)/g, trimSpaces],\\n\\t\\t\\t/<br class=\\\"Apple-interchange-newline\\\">/g,\\n\\t\\t\\t/<br>$/i // Trailing BR elements\\n\\t\\t]);\\n\\n\\t\\treturn html;\\n\\t}\\n\\n\\t// TODO: Should be in some global class\\n\\tfunction createIdGenerator(prefix) {\\n\\t\\tvar count = 0;\\n\\n\\t\\treturn function() {\\n\\t\\t\\treturn prefix + (count++);\\n\\t\\t};\\n\\t}\\n\\n\\treturn {\\n\\t\\tfilter: filter,\\n\\t\\tinnerText: innerText,\\n\\t\\ttrimHtml: trimHtml,\\n\\t\\tcreateIdGenerator: createIdGenerator\\n\\t};\\n});\\n\\n// Included from: js/tinymce/plugins/paste/classes/SmartPaste.js\\n\\n/**\\n * SmartPaste.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2016 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Tries to be smart depending on what the user pastes if it looks like an url\\n * it will make a link out of the current selection. If it's an image url that looks\\n * like an image it will check if it's an image and insert it as an image.\\n *\\n * @class tinymce.pasteplugin.SmartPaste\\n * @private\\n */\\ndefine(\\\"tinymce/pasteplugin/SmartPaste\\\", [\\n\\t\\\"tinymce/util/Tools\\\"\\n], function (Tools) {\\n\\tvar isAbsoluteUrl = function (url) {\\n\\t\\treturn /^https?:\\\\/\\\\/[\\\\w\\\\?\\\\-\\\\/+=.&%@~#]+$/i.test(url);\\n\\t};\\n\\n\\tvar isImageUrl = function (url) {\\n\\t\\treturn isAbsoluteUrl(url) && /.(gif|jpe?g|png)$/.test(url);\\n\\t};\\n\\n\\tvar createImage = function (editor, url, pasteHtml) {\\n\\t\\teditor.undoManager.extra(function () {\\n\\t\\t\\tpasteHtml(editor, url);\\n\\t\\t}, function () {\\n\\t\\t\\teditor.insertContent('<img src=\\\"' + url + '\\\">');\\n\\t\\t});\\n\\n\\t\\treturn true;\\n\\t};\\n\\n\\tvar createLink = function (editor, url, pasteHtml) {\\n\\t\\teditor.undoManager.extra(function () {\\n\\t\\t\\tpasteHtml(editor, url);\\n\\t\\t}, function () {\\n\\t\\t\\teditor.execCommand('mceInsertLink', false, url);\\n\\t\\t});\\n\\n\\t\\treturn true;\\n\\t};\\n\\n\\tvar linkSelection = function (editor, html, pasteHtml) {\\n\\t\\treturn editor.selection.isCollapsed() === false && isAbsoluteUrl(html) ? createLink(editor, html, pasteHtml) : false;\\n\\t};\\n\\n\\tvar insertImage = function (editor, html, pasteHtml) {\\n\\t\\treturn isImageUrl(html) ? createImage(editor, html, pasteHtml) : false;\\n\\t};\\n\\n\\tvar pasteHtml = function (editor, html) {\\n\\t\\teditor.insertContent(html, {\\n\\t\\t\\tmerge: editor.settings.paste_merge_formats !== false,\\n\\t\\t\\tpaste: true\\n\\t\\t});\\n\\n\\t\\treturn true;\\n\\t};\\n\\n\\tvar smartInsertContent = function (editor, html) {\\n\\t\\tTools.each([\\n\\t\\t\\tlinkSelection,\\n\\t\\t\\tinsertImage,\\n\\t\\t\\tpasteHtml\\n\\t\\t], function (action) {\\n\\t\\t\\treturn action(editor, html, pasteHtml) !== true;\\n\\t\\t});\\n\\t};\\n\\n\\tvar insertContent = function (editor, html) {\\n\\t\\tif (editor.settings.smart_paste === false) {\\n\\t\\t\\tpasteHtml(editor, html);\\n\\t\\t} else {\\n\\t\\t\\tsmartInsertContent(editor, html);\\n\\t\\t}\\n\\t};\\n\\n\\treturn {\\n\\t\\tisImageUrl: isImageUrl,\\n\\t\\tisAbsoluteUrl: isAbsoluteUrl,\\n\\t\\tinsertContent: insertContent\\n\\t};\\n});\\n\\n// Included from: js/tinymce/plugins/paste/classes/Clipboard.js\\n\\n/**\\n * Clipboard.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class contains logic for getting HTML contents out of the clipboard.\\n *\\n * We need to make a lot of ugly hacks to get the contents out of the clipboard since\\n * the W3C Clipboard API is broken in all browsers that have it: Gecko/WebKit/Blink.\\n * We might rewrite this the way those API:s stabilize. Browsers doesn't handle pasting\\n * from applications like Word the same way as it does when pasting into a contentEditable area\\n * so we need to do lots of extra work to try to get to this clipboard data.\\n *\\n * Current implementation steps:\\n *  1. On keydown with paste keys Ctrl+V or Shift+Insert create\\n *     a paste bin element and move focus to that element.\\n *  2. Wait for the browser to fire a \\\"paste\\\" event and get the contents out of the paste bin.\\n *  3. Check if the paste was successful if true, process the HTML.\\n *  (4). If the paste was unsuccessful use IE execCommand, Clipboard API, document.dataTransfer old WebKit API etc.\\n *\\n * @class tinymce.pasteplugin.Clipboard\\n * @private\\n */\\ndefine(\\\"tinymce/pasteplugin/Clipboard\\\", [\\n\\t\\\"tinymce/Env\\\",\\n\\t\\\"tinymce/dom/RangeUtils\\\",\\n\\t\\\"tinymce/util/VK\\\",\\n\\t\\\"tinymce/pasteplugin/Utils\\\",\\n\\t\\\"tinymce/pasteplugin/SmartPaste\\\",\\n\\t\\\"tinymce/util/Delay\\\"\\n], function(Env, RangeUtils, VK, Utils, SmartPaste, Delay) {\\n\\treturn function(editor) {\\n\\t\\tvar self = this, pasteBinElm, lastRng, keyboardPasteTimeStamp = 0, draggingInternally = false;\\n\\t\\tvar pasteBinDefaultContent = '%MCEPASTEBIN%', keyboardPastePlainTextState;\\n\\t\\tvar mceInternalUrlPrefix = 'data:text/mce-internal,';\\n\\t\\tvar uniqueId = Utils.createIdGenerator(\\\"mceclip\\\");\\n\\n\\t\\t/**\\n\\t\\t * Pastes the specified HTML. This means that the HTML is filtered and then\\n\\t\\t * inserted at the current selection in the editor. It will also fire paste events\\n\\t\\t * for custom user filtering.\\n\\t\\t *\\n\\t\\t * @param {String} html HTML code to paste into the current selection.\\n\\t\\t */\\n\\t\\tfunction pasteHtml(html) {\\n\\t\\t\\tvar args, dom = editor.dom;\\n\\n\\t\\t\\targs = editor.fire('BeforePastePreProcess', {content: html}); // Internal event used by Quirks\\n\\t\\t\\targs = editor.fire('PastePreProcess', args);\\n\\t\\t\\thtml = args.content;\\n\\n\\t\\t\\tif (!args.isDefaultPrevented()) {\\n\\t\\t\\t\\t// User has bound PastePostProcess events then we need to pass it through a DOM node\\n\\t\\t\\t\\t// This is not ideal but we don't want to let the browser mess up the HTML for example\\n\\t\\t\\t\\t// some browsers add &nbsp; to P tags etc\\n\\t\\t\\t\\tif (editor.hasEventListeners('PastePostProcess') && !args.isDefaultPrevented()) {\\n\\t\\t\\t\\t\\t// We need to attach the element to the DOM so Sizzle selectors work on the contents\\n\\t\\t\\t\\t\\tvar tempBody = dom.add(editor.getBody(), 'div', {style: 'display:none'}, html);\\n\\t\\t\\t\\t\\targs = editor.fire('PastePostProcess', {node: tempBody});\\n\\t\\t\\t\\t\\tdom.remove(tempBody);\\n\\t\\t\\t\\t\\thtml = args.node.innerHTML;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (!args.isDefaultPrevented()) {\\n\\t\\t\\t\\t\\tSmartPaste.insertContent(editor, html);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Pastes the specified text. This means that the plain text is processed\\n\\t\\t * and converted into BR and P elements. It will fire paste events for custom filtering.\\n\\t\\t *\\n\\t\\t * @param {String} text Text to paste as the current selection location.\\n\\t\\t */\\n\\t\\tfunction pasteText(text) {\\n\\t\\t\\ttext = editor.dom.encode(text).replace(/\\\\r\\\\n/g, '\\\\n');\\n\\n\\t\\t\\tvar startBlock = editor.dom.getParent(editor.selection.getStart(), editor.dom.isBlock);\\n\\n\\t\\t\\t// Create start block html for example <p attr=\\\"value\\\">\\n\\t\\t\\tvar forcedRootBlockName = editor.settings.forced_root_block;\\n\\t\\t\\tvar forcedRootBlockStartHtml;\\n\\t\\t\\tif (forcedRootBlockName) {\\n\\t\\t\\t\\tforcedRootBlockStartHtml = editor.dom.createHTML(forcedRootBlockName, editor.settings.forced_root_block_attrs);\\n\\t\\t\\t\\tforcedRootBlockStartHtml = forcedRootBlockStartHtml.substr(0, forcedRootBlockStartHtml.length - 3) + '>';\\n\\t\\t\\t}\\n\\n\\t\\t\\tif ((startBlock && /^(PRE|DIV)$/.test(startBlock.nodeName)) || !forcedRootBlockName) {\\n\\t\\t\\t\\ttext = Utils.filter(text, [\\n\\t\\t\\t\\t\\t[/\\\\n/g, \\\"<br>\\\"]\\n\\t\\t\\t\\t]);\\n\\t\\t\\t} else {\\n\\t\\t\\t\\ttext = Utils.filter(text, [\\n\\t\\t\\t\\t\\t[/\\\\n\\\\n/g, \\\"</p>\\\" + forcedRootBlockStartHtml],\\n\\t\\t\\t\\t\\t[/^(.*<\\\\/p>)(<p>)$/, forcedRootBlockStartHtml + '$1'],\\n\\t\\t\\t\\t\\t[/\\\\n/g, \\\"<br />\\\"]\\n\\t\\t\\t\\t]);\\n\\n\\t\\t\\t\\tif (text.indexOf('<p>') != -1) {\\n\\t\\t\\t\\t\\ttext = forcedRootBlockStartHtml + text;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tpasteHtml(text);\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Creates a paste bin element as close as possible to the current caret location and places the focus inside that element\\n\\t\\t * so that when the real paste event occurs the contents gets inserted into this element\\n\\t\\t * instead of the current editor selection element.\\n\\t\\t */\\n\\t\\tfunction createPasteBin() {\\n\\t\\t\\tvar dom = editor.dom, body = editor.getBody();\\n\\t\\t\\tvar viewport = editor.dom.getViewPort(editor.getWin()), scrollTop = viewport.y, top = 20;\\n\\t\\t\\tvar scrollContainer;\\n\\n\\t\\t\\tlastRng = editor.selection.getRng();\\n\\n\\t\\t\\tif (editor.inline) {\\n\\t\\t\\t\\tscrollContainer = editor.selection.getScrollContainer();\\n\\n\\t\\t\\t\\t// Can't always rely on scrollTop returning a useful value.\\n\\t\\t\\t\\t// It returns 0 if the browser doesn't support scrollTop for the element or is non-scrollable\\n\\t\\t\\t\\tif (scrollContainer && scrollContainer.scrollTop > 0) {\\n\\t\\t\\t\\t\\tscrollTop = scrollContainer.scrollTop;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Returns the rect of the current caret if the caret is in an empty block before a\\n\\t\\t\\t * BR we insert a temporary invisible character that we get the rect this way we always get a proper rect.\\n\\t\\t\\t *\\n\\t\\t\\t * TODO: This might be useful in core.\\n\\t\\t\\t */\\n\\t\\t\\tfunction getCaretRect(rng) {\\n\\t\\t\\t\\tvar rects, textNode, node, container = rng.startContainer;\\n\\n\\t\\t\\t\\trects = rng.getClientRects();\\n\\t\\t\\t\\tif (rects.length) {\\n\\t\\t\\t\\t\\treturn rects[0];\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (!rng.collapsed || container.nodeType != 1) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tnode = container.childNodes[lastRng.startOffset];\\n\\n\\t\\t\\t\\t// Skip empty whitespace nodes\\n\\t\\t\\t\\twhile (node && node.nodeType == 3 && !node.data.length) {\\n\\t\\t\\t\\t\\tnode = node.nextSibling;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (!node) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Check if the location is |<br>\\n\\t\\t\\t\\t// TODO: Might need to expand this to say |<table>\\n\\t\\t\\t\\tif (node.tagName == 'BR') {\\n\\t\\t\\t\\t\\ttextNode = dom.doc.createTextNode('\\\\uFEFF');\\n\\t\\t\\t\\t\\tnode.parentNode.insertBefore(textNode, node);\\n\\n\\t\\t\\t\\t\\trng = dom.createRng();\\n\\t\\t\\t\\t\\trng.setStartBefore(textNode);\\n\\t\\t\\t\\t\\trng.setEndAfter(textNode);\\n\\n\\t\\t\\t\\t\\trects = rng.getClientRects();\\n\\t\\t\\t\\t\\tdom.remove(textNode);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (rects.length) {\\n\\t\\t\\t\\t\\treturn rects[0];\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Calculate top cordinate this is needed to avoid scrolling to top of document\\n\\t\\t\\t// We want the paste bin to be as close to the caret as possible to avoid scrolling\\n\\t\\t\\tif (lastRng.getClientRects) {\\n\\t\\t\\t\\tvar rect = getCaretRect(lastRng);\\n\\n\\t\\t\\t\\tif (rect) {\\n\\t\\t\\t\\t\\t// Client rects gets us closes to the actual\\n\\t\\t\\t\\t\\t// caret location in for example a wrapped paragraph block\\n\\t\\t\\t\\t\\ttop = scrollTop + (rect.top - dom.getPos(body).y);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\ttop = scrollTop;\\n\\n\\t\\t\\t\\t\\t// Check if we can find a closer location by checking the range element\\n\\t\\t\\t\\t\\tvar container = lastRng.startContainer;\\n\\t\\t\\t\\t\\tif (container) {\\n\\t\\t\\t\\t\\t\\tif (container.nodeType == 3 && container.parentNode != body) {\\n\\t\\t\\t\\t\\t\\t\\tcontainer = container.parentNode;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tif (container.nodeType == 1) {\\n\\t\\t\\t\\t\\t\\t\\ttop = dom.getPos(container, scrollContainer || body).y;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Create a pastebin\\n\\t\\t\\tpasteBinElm = dom.add(editor.getBody(), 'div', {\\n\\t\\t\\t\\tid: \\\"mcepastebin\\\",\\n\\t\\t\\t\\tcontentEditable: true,\\n\\t\\t\\t\\t\\\"data-mce-bogus\\\": \\\"all\\\",\\n\\t\\t\\t\\tstyle: 'position: absolute; top: ' + top + 'px;' +\\n\\t\\t\\t\\t\\t'width: 10px; height: 10px; overflow: hidden; opacity: 0'\\n\\t\\t\\t}, pasteBinDefaultContent);\\n\\n\\t\\t\\t// Move paste bin out of sight since the controlSelection rect gets displayed otherwise on IE and Gecko\\n\\t\\t\\tif (Env.ie || Env.gecko) {\\n\\t\\t\\t\\tdom.setStyle(pasteBinElm, 'left', dom.getStyle(body, 'direction', true) == 'rtl' ? 0xFFFF : -0xFFFF);\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Prevent focus events from bubbeling fixed FocusManager issues\\n\\t\\t\\tdom.bind(pasteBinElm, 'beforedeactivate focusin focusout', function(e) {\\n\\t\\t\\t\\te.stopPropagation();\\n\\t\\t\\t});\\n\\n\\t\\t\\tpasteBinElm.focus();\\n\\t\\t\\teditor.selection.select(pasteBinElm, true);\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Removes the paste bin if it exists.\\n\\t\\t */\\n\\t\\tfunction removePasteBin() {\\n\\t\\t\\tif (pasteBinElm) {\\n\\t\\t\\t\\tvar pasteBinClone;\\n\\n\\t\\t\\t\\t// WebKit/Blink might clone the div so\\n\\t\\t\\t\\t// lets make sure we remove all clones\\n\\t\\t\\t\\t// TODO: Man o man is this ugly. WebKit is the new IE! Remove this if they ever fix it!\\n\\t\\t\\t\\twhile ((pasteBinClone = editor.dom.get('mcepastebin'))) {\\n\\t\\t\\t\\t\\teditor.dom.remove(pasteBinClone);\\n\\t\\t\\t\\t\\teditor.dom.unbind(pasteBinClone);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (lastRng) {\\n\\t\\t\\t\\t\\teditor.selection.setRng(lastRng);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tpasteBinElm = lastRng = null;\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Returns the contents of the paste bin as a HTML string.\\n\\t\\t *\\n\\t\\t * @return {String} Get the contents of the paste bin.\\n\\t\\t */\\n\\t\\tfunction getPasteBinHtml() {\\n\\t\\t\\tvar html = '', pasteBinClones, i, clone, cloneHtml;\\n\\n\\t\\t\\t// Since WebKit/Chrome might clone the paste bin when pasting\\n\\t\\t\\t// for example: <img style=\\\"float: right\\\"> we need to check if any of them contains some useful html.\\n\\t\\t\\t// TODO: Man o man is this ugly. WebKit is the new IE! Remove this if they ever fix it!\\n\\t\\t\\tpasteBinClones = editor.dom.select('div[id=mcepastebin]');\\n\\t\\t\\tfor (i = 0; i < pasteBinClones.length; i++) {\\n\\t\\t\\t\\tclone = pasteBinClones[i];\\n\\n\\t\\t\\t\\t// Pasting plain text produces pastebins in pastebinds makes sence right!?\\n\\t\\t\\t\\tif (clone.firstChild && clone.firstChild.id == 'mcepastebin') {\\n\\t\\t\\t\\t\\tclone = clone.firstChild;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tcloneHtml = clone.innerHTML;\\n\\t\\t\\t\\tif (html != pasteBinDefaultContent) {\\n\\t\\t\\t\\t\\thtml += cloneHtml;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn html;\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Gets various content types out of a datatransfer object.\\n\\t\\t *\\n\\t\\t * @param {DataTransfer} dataTransfer Event fired on paste.\\n\\t\\t * @return {Object} Object with mime types and data for those mime types.\\n\\t\\t */\\n\\t\\tfunction getDataTransferItems(dataTransfer) {\\n\\t\\t\\tvar items = {};\\n\\n\\t\\t\\tif (dataTransfer) {\\n\\t\\t\\t\\t// Use old WebKit/IE API\\n\\t\\t\\t\\tif (dataTransfer.getData) {\\n\\t\\t\\t\\t\\tvar legacyText = dataTransfer.getData('Text');\\n\\t\\t\\t\\t\\tif (legacyText && legacyText.length > 0) {\\n\\t\\t\\t\\t\\t\\tif (legacyText.indexOf(mceInternalUrlPrefix) == -1) {\\n\\t\\t\\t\\t\\t\\t\\titems['text/plain'] = legacyText;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (dataTransfer.types) {\\n\\t\\t\\t\\t\\tfor (var i = 0; i < dataTransfer.types.length; i++) {\\n\\t\\t\\t\\t\\t\\tvar contentType = dataTransfer.types[i];\\n\\t\\t\\t\\t\\t\\titems[contentType] = dataTransfer.getData(contentType);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn items;\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Gets various content types out of the Clipboard API. It will also get the\\n\\t\\t * plain text using older IE and WebKit API:s.\\n\\t\\t *\\n\\t\\t * @param {ClipboardEvent} clipboardEvent Event fired on paste.\\n\\t\\t * @return {Object} Object with mime types and data for those mime types.\\n\\t\\t */\\n\\t\\tfunction getClipboardContent(clipboardEvent) {\\n\\t\\t\\treturn getDataTransferItems(clipboardEvent.clipboardData || editor.getDoc().dataTransfer);\\n\\t\\t}\\n\\n\\t\\tfunction hasHtmlOrText(content) {\\n\\t\\t\\treturn hasContentType(content, 'text/html') || hasContentType(content, 'text/plain');\\n\\t\\t}\\n\\n\\t\\tfunction getBase64FromUri(uri) {\\n\\t\\t\\tvar idx;\\n\\n\\t\\t\\tidx = uri.indexOf(',');\\n\\t\\t\\tif (idx !== -1) {\\n\\t\\t\\t\\treturn uri.substr(idx + 1);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn null;\\n\\t\\t}\\n\\n\\t\\tfunction isValidDataUriImage(settings, imgElm) {\\n\\t\\t\\treturn settings.images_dataimg_filter ? settings.images_dataimg_filter(imgElm) : true;\\n\\t\\t}\\n\\n\\t\\tfunction pasteImage(rng, reader, blob) {\\n\\t\\t\\tif (rng) {\\n\\t\\t\\t\\teditor.selection.setRng(rng);\\n\\t\\t\\t\\trng = null;\\n\\t\\t\\t}\\n\\n\\t\\t\\tvar dataUri = reader.result;\\n\\t\\t\\tvar base64 = getBase64FromUri(dataUri);\\n\\n\\t\\t\\tvar img = new Image();\\n\\t\\t\\timg.src = dataUri;\\n\\n\\t\\t\\t// TODO: Move the bulk of the cache logic to EditorUpload\\n\\t\\t\\tif (isValidDataUriImage(editor.settings, img)) {\\n\\t\\t\\t\\tvar blobCache = editor.editorUpload.blobCache;\\n\\t\\t\\t\\tvar blobInfo, existingBlobInfo;\\n\\n\\t\\t\\t\\texistingBlobInfo = blobCache.findFirst(function(cachedBlobInfo) {\\n\\t\\t\\t\\t\\treturn cachedBlobInfo.base64() === base64;\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\tif (!existingBlobInfo) {\\n\\t\\t\\t\\t\\tblobInfo = blobCache.create(uniqueId(), blob, base64);\\n\\t\\t\\t\\t\\tblobCache.add(blobInfo);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tblobInfo = existingBlobInfo;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tpasteHtml('<img src=\\\"' + blobInfo.blobUri() + '\\\">');\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tpasteHtml('<img src=\\\"' + dataUri + '\\\">');\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Checks if the clipboard contains image data if it does it will take that data\\n\\t\\t * and convert it into a data url image and paste that image at the caret location.\\n\\t\\t *\\n\\t\\t * @param  {ClipboardEvent} e Paste/drop event object.\\n\\t\\t * @param  {DOMRange} rng Rng object to move selection to.\\n\\t\\t * @return {Boolean} true/false if the image data was found or not.\\n\\t\\t */\\n\\t\\tfunction pasteImageData(e, rng) {\\n\\t\\t\\tvar dataTransfer = e.clipboardData || e.dataTransfer;\\n\\n\\t\\t\\tfunction processItems(items) {\\n\\t\\t\\t\\tvar i, item, reader, hadImage = false;\\n\\n\\t\\t\\t\\tif (items) {\\n\\t\\t\\t\\t\\tfor (i = 0; i < items.length; i++) {\\n\\t\\t\\t\\t\\t\\titem = items[i];\\n\\n\\t\\t\\t\\t\\t\\tif (/^image\\\\/(jpeg|png|gif|bmp)$/.test(item.type)) {\\n\\t\\t\\t\\t\\t\\t\\tvar blob = item.getAsFile ? item.getAsFile() : item;\\n\\n\\t\\t\\t\\t\\t\\t\\treader = new FileReader();\\n\\t\\t\\t\\t\\t\\t\\treader.onload = pasteImage.bind(null, rng, reader, blob);\\n\\t\\t\\t\\t\\t\\t\\treader.readAsDataURL(blob);\\n\\n\\t\\t\\t\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t\\t\\t\\t\\thadImage = true;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn hadImage;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (editor.settings.paste_data_images && dataTransfer) {\\n\\t\\t\\t\\treturn processItems(dataTransfer.items) || processItems(dataTransfer.files);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Chrome on Android doesn't support proper clipboard access so we have no choice but to allow the browser default behavior.\\n\\t\\t *\\n\\t\\t * @param {Event} e Paste event object to check if it contains any data.\\n\\t\\t * @return {Boolean} true/false if the clipboard is empty or not.\\n\\t\\t */\\n\\t\\tfunction isBrokenAndroidClipboardEvent(e) {\\n\\t\\t\\tvar clipboardData = e.clipboardData;\\n\\n\\t\\t\\treturn navigator.userAgent.indexOf('Android') != -1 && clipboardData && clipboardData.items && clipboardData.items.length === 0;\\n\\t\\t}\\n\\n\\t\\tfunction getCaretRangeFromEvent(e) {\\n\\t\\t\\treturn RangeUtils.getCaretRangeFromPoint(e.clientX, e.clientY, editor.getDoc());\\n\\t\\t}\\n\\n\\t\\tfunction hasContentType(clipboardContent, mimeType) {\\n\\t\\t\\treturn mimeType in clipboardContent && clipboardContent[mimeType].length > 0;\\n\\t\\t}\\n\\n\\t\\tfunction isKeyboardPasteEvent(e) {\\n\\t\\t\\treturn (VK.metaKeyPressed(e) && e.keyCode == 86) || (e.shiftKey && e.keyCode == 45);\\n\\t\\t}\\n\\n\\t\\tfunction registerEventHandlers() {\\n\\t\\t\\teditor.on('keydown', function(e) {\\n\\t\\t\\t\\tfunction removePasteBinOnKeyUp(e) {\\n\\t\\t\\t\\t\\t// Ctrl+V or Shift+Insert\\n\\t\\t\\t\\t\\tif (isKeyboardPasteEvent(e) && !e.isDefaultPrevented()) {\\n\\t\\t\\t\\t\\t\\tremovePasteBin();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Ctrl+V or Shift+Insert\\n\\t\\t\\t\\tif (isKeyboardPasteEvent(e) && !e.isDefaultPrevented()) {\\n\\t\\t\\t\\t\\tkeyboardPastePlainTextState = e.shiftKey && e.keyCode == 86;\\n\\n\\t\\t\\t\\t\\t// Edge case on Safari on Mac where it doesn't handle Cmd+Shift+V correctly\\n\\t\\t\\t\\t\\t// it fires the keydown but no paste or keyup so we are left with a paste bin\\n\\t\\t\\t\\t\\tif (keyboardPastePlainTextState && Env.webkit && navigator.userAgent.indexOf('Version/') != -1) {\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Prevent undoManager keydown handler from making an undo level with the pastebin in it\\n\\t\\t\\t\\t\\te.stopImmediatePropagation();\\n\\n\\t\\t\\t\\t\\tkeyboardPasteTimeStamp = new Date().getTime();\\n\\n\\t\\t\\t\\t\\t// IE doesn't support Ctrl+Shift+V and it doesn't even produce a paste event\\n\\t\\t\\t\\t\\t// so lets fake a paste event and let IE use the execCommand/dataTransfer methods\\n\\t\\t\\t\\t\\tif (Env.ie && keyboardPastePlainTextState) {\\n\\t\\t\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t\\t\\t\\teditor.fire('paste', {ieFake: true});\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tremovePasteBin();\\n\\t\\t\\t\\t\\tcreatePasteBin();\\n\\n\\t\\t\\t\\t\\t// Remove pastebin if we get a keyup and no paste event\\n\\t\\t\\t\\t\\t// For example pasting a file in IE 11 will not produce a paste event\\n\\t\\t\\t\\t\\teditor.once('keyup', removePasteBinOnKeyUp);\\n\\t\\t\\t\\t\\teditor.once('paste', function() {\\n\\t\\t\\t\\t\\t\\teditor.off('keyup', removePasteBinOnKeyUp);\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\tfunction insertClipboardContent(clipboardContent, isKeyBoardPaste, plainTextMode) {\\n\\t\\t\\t\\tvar content;\\n\\n\\t\\t\\t\\t// Grab HTML from Clipboard API or paste bin as a fallback\\n\\t\\t\\t\\tif (hasContentType(clipboardContent, 'text/html')) {\\n\\t\\t\\t\\t\\tcontent = clipboardContent['text/html'];\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tcontent = getPasteBinHtml();\\n\\n\\t\\t\\t\\t\\t// If paste bin is empty try using plain text mode\\n\\t\\t\\t\\t\\t// since that is better than nothing right\\n\\t\\t\\t\\t\\tif (content == pasteBinDefaultContent) {\\n\\t\\t\\t\\t\\t\\tplainTextMode = true;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tcontent = Utils.trimHtml(content);\\n\\n\\t\\t\\t\\t// WebKit has a nice bug where it clones the paste bin if you paste from for example notepad\\n\\t\\t\\t\\t// so we need to force plain text mode in this case\\n\\t\\t\\t\\tif (pasteBinElm && pasteBinElm.firstChild && pasteBinElm.firstChild.id === 'mcepastebin') {\\n\\t\\t\\t\\t\\tplainTextMode = true;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tremovePasteBin();\\n\\n\\t\\t\\t\\t// If we got nothing from clipboard API and pastebin then we could try the last resort: plain/text\\n\\t\\t\\t\\tif (!content.length) {\\n\\t\\t\\t\\t\\tplainTextMode = true;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Grab plain text from Clipboard API or convert existing HTML to plain text\\n\\t\\t\\t\\tif (plainTextMode) {\\n\\t\\t\\t\\t\\t// Use plain text contents from Clipboard API unless the HTML contains paragraphs then\\n\\t\\t\\t\\t\\t// we should convert the HTML to plain text since works better when pasting HTML/Word contents as plain text\\n\\t\\t\\t\\t\\tif (hasContentType(clipboardContent, 'text/plain') && content.indexOf('</p>') == -1) {\\n\\t\\t\\t\\t\\t\\tcontent = clipboardContent['text/plain'];\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tcontent = Utils.innerText(content);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// If the content is the paste bin default HTML then it was\\n\\t\\t\\t\\t// impossible to get the cliboard data out.\\n\\t\\t\\t\\tif (content == pasteBinDefaultContent) {\\n\\t\\t\\t\\t\\tif (!isKeyBoardPaste) {\\n\\t\\t\\t\\t\\t\\teditor.windowManager.alert('Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.');\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (plainTextMode) {\\n\\t\\t\\t\\t\\tpasteText(content);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tpasteHtml(content);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tvar getLastRng = function() {\\n\\t\\t\\t\\treturn lastRng || editor.selection.getRng();\\n\\t\\t\\t};\\n\\n\\t\\t\\teditor.on('paste', function(e) {\\n\\t\\t\\t\\t// Getting content from the Clipboard can take some time\\n\\t\\t\\t\\tvar clipboardTimer = new Date().getTime();\\n\\t\\t\\t\\tvar clipboardContent = getClipboardContent(e);\\n\\t\\t\\t\\tvar clipboardDelay = new Date().getTime() - clipboardTimer;\\n\\n\\t\\t\\t\\tvar isKeyBoardPaste = (new Date().getTime() - keyboardPasteTimeStamp - clipboardDelay) < 1000;\\n\\t\\t\\t\\tvar plainTextMode = self.pasteFormat == \\\"text\\\" || keyboardPastePlainTextState;\\n\\n\\t\\t\\t\\tkeyboardPastePlainTextState = false;\\n\\n\\t\\t\\t\\tif (e.isDefaultPrevented() || isBrokenAndroidClipboardEvent(e)) {\\n\\t\\t\\t\\t\\tremovePasteBin();\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (!hasHtmlOrText(clipboardContent) && pasteImageData(e, getLastRng())) {\\n\\t\\t\\t\\t\\tremovePasteBin();\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Not a keyboard paste prevent default paste and try to grab the clipboard contents using different APIs\\n\\t\\t\\t\\tif (!isKeyBoardPaste) {\\n\\t\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Try IE only method if paste isn't a keyboard paste\\n\\t\\t\\t\\tif (Env.ie && (!isKeyBoardPaste || e.ieFake)) {\\n\\t\\t\\t\\t\\tcreatePasteBin();\\n\\n\\t\\t\\t\\t\\teditor.dom.bind(pasteBinElm, 'paste', function(e) {\\n\\t\\t\\t\\t\\t\\te.stopPropagation();\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\teditor.getDoc().execCommand('Paste', false, null);\\n\\t\\t\\t\\t\\tclipboardContent[\\\"text/html\\\"] = getPasteBinHtml();\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// If clipboard API has HTML then use that directly\\n\\t\\t\\t\\tif (hasContentType(clipboardContent, 'text/html')) {\\n\\t\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t\\t\\tinsertClipboardContent(clipboardContent, isKeyBoardPaste, plainTextMode);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tDelay.setEditorTimeout(editor, function() {\\n\\t\\t\\t\\t\\t\\tinsertClipboardContent(clipboardContent, isKeyBoardPaste, plainTextMode);\\n\\t\\t\\t\\t\\t}, 0);\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\teditor.on('dragstart dragend', function(e) {\\n\\t\\t\\t\\tdraggingInternally = e.type == 'dragstart';\\n\\t\\t\\t});\\n\\n\\t\\t\\tfunction isPlainTextFileUrl(content) {\\n\\t\\t\\t\\tvar plainTextContent = content['text/plain'];\\n\\t\\t\\t\\treturn plainTextContent ? plainTextContent.indexOf('file://') === 0 : false;\\n\\t\\t\\t}\\n\\n\\t\\t\\teditor.on('drop', function(e) {\\n\\t\\t\\t\\tvar dropContent, rng;\\n\\n\\t\\t\\t\\trng = getCaretRangeFromEvent(e);\\n\\n\\t\\t\\t\\tif (e.isDefaultPrevented() || draggingInternally) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tdropContent = getDataTransferItems(e.dataTransfer);\\n\\n\\t\\t\\t\\tif ((!hasHtmlOrText(dropContent) || isPlainTextFileUrl(dropContent)) && pasteImageData(e, rng)) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (rng && editor.settings.paste_filter_drop !== false) {\\n\\t\\t\\t\\t\\tvar content = dropContent['mce-internal'] || dropContent['text/html'] || dropContent['text/plain'];\\n\\n\\t\\t\\t\\t\\tif (content) {\\n\\t\\t\\t\\t\\t\\te.preventDefault();\\n\\n\\t\\t\\t\\t\\t\\t// FF 45 doesn't paint a caret when dragging in text in due to focus call by execCommand\\n\\t\\t\\t\\t\\t\\tDelay.setEditorTimeout(editor, function() {\\n\\t\\t\\t\\t\\t\\t\\teditor.undoManager.transact(function() {\\n\\t\\t\\t\\t\\t\\t\\t\\tif (dropContent['mce-internal']) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\teditor.execCommand('Delete');\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t\\teditor.selection.setRng(rng);\\n\\n\\t\\t\\t\\t\\t\\t\\t\\tcontent = Utils.trimHtml(content);\\n\\n\\t\\t\\t\\t\\t\\t\\t\\tif (!dropContent['text/html']) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tpasteText(content);\\n\\t\\t\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tpasteHtml(content);\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\teditor.on('dragover dragend', function(e) {\\n\\t\\t\\t\\tif (editor.settings.paste_data_images) {\\n\\t\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\tself.pasteHtml = pasteHtml;\\n\\t\\tself.pasteText = pasteText;\\n\\t\\tself.pasteImageData = pasteImageData;\\n\\n\\t\\teditor.on('preInit', function() {\\n\\t\\t\\tregisterEventHandlers();\\n\\n\\t\\t\\t// Remove all data images from paste for example from Gecko\\n\\t\\t\\t// except internal images like video elements\\n\\t\\t\\teditor.parser.addNodeFilter('img', function(nodes, name, args) {\\n\\t\\t\\t\\tfunction isPasteInsert(args) {\\n\\t\\t\\t\\t\\treturn args.data && args.data.paste === true;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfunction remove(node) {\\n\\t\\t\\t\\t\\tif (!node.attr('data-mce-object') && src !== Env.transparentSrc) {\\n\\t\\t\\t\\t\\t\\tnode.remove();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfunction isWebKitFakeUrl(src) {\\n\\t\\t\\t\\t\\treturn src.indexOf(\\\"webkit-fake-url\\\") === 0;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfunction isDataUri(src) {\\n\\t\\t\\t\\t\\treturn src.indexOf(\\\"data:\\\") === 0;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (!editor.settings.paste_data_images && isPasteInsert(args)) {\\n\\t\\t\\t\\t\\tvar i = nodes.length;\\n\\n\\t\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\t\\tvar src = nodes[i].attributes.map.src;\\n\\n\\t\\t\\t\\t\\t\\tif (!src) {\\n\\t\\t\\t\\t\\t\\t\\tcontinue;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Safari on Mac produces webkit-fake-url see: https://bugs.webkit.org/show_bug.cgi?id=49141\\n\\t\\t\\t\\t\\t\\tif (isWebKitFakeUrl(src)) {\\n\\t\\t\\t\\t\\t\\t\\tremove(nodes[i]);\\n\\t\\t\\t\\t\\t\\t} else if (!editor.settings.allow_html_data_urls && isDataUri(src)) {\\n\\t\\t\\t\\t\\t\\t\\tremove(nodes[i]);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t});\\n\\t};\\n});\\n\\n// Included from: js/tinymce/plugins/paste/classes/WordFilter.js\\n\\n/**\\n * WordFilter.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class parses word HTML into proper TinyMCE markup.\\n *\\n * @class tinymce.pasteplugin.WordFilter\\n * @private\\n */\\ndefine(\\\"tinymce/pasteplugin/WordFilter\\\", [\\n\\t\\\"tinymce/util/Tools\\\",\\n\\t\\\"tinymce/html/DomParser\\\",\\n\\t\\\"tinymce/html/Schema\\\",\\n\\t\\\"tinymce/html/Serializer\\\",\\n\\t\\\"tinymce/html/Node\\\",\\n\\t\\\"tinymce/pasteplugin/Utils\\\"\\n], function(Tools, DomParser, Schema, Serializer, Node, Utils) {\\n\\t/**\\n\\t * Checks if the specified content is from any of the following sources: MS Word/Office 365/Google docs.\\n\\t */\\n\\tfunction isWordContent(content) {\\n\\t\\treturn (\\n\\t\\t\\t(/<font face=\\\"Times New Roman\\\"|class=\\\"?Mso|style=\\\"[^\\\"]*\\\\bmso-|style='[^'']*\\\\bmso-|w:WordDocument/i).test(content) ||\\n\\t\\t\\t(/class=\\\"OutlineElement/).test(content) ||\\n\\t\\t\\t(/id=\\\"?docs\\\\-internal\\\\-guid\\\\-/.test(content))\\n\\t\\t);\\n\\t}\\n\\n\\t/**\\n\\t * Checks if the specified text starts with \\\"1. \\\" or \\\"a. \\\" etc.\\n\\t */\\n\\tfunction isNumericList(text) {\\n\\t\\tvar found, patterns;\\n\\n\\t\\tpatterns = [\\n\\t\\t\\t/^[IVXLMCD]{1,2}\\\\.[ \\\\u00a0]/,  // Roman upper case\\n\\t\\t\\t/^[ivxlmcd]{1,2}\\\\.[ \\\\u00a0]/,  // Roman lower case\\n\\t\\t\\t/^[a-z]{1,2}[\\\\.\\\\)][ \\\\u00a0]/,  // Alphabetical a-z\\n\\t\\t\\t/^[A-Z]{1,2}[\\\\.\\\\)][ \\\\u00a0]/,  // Alphabetical A-Z\\n\\t\\t\\t/^[0-9]+\\\\.[ \\\\u00a0]/,          // Numeric lists\\n\\t\\t\\t/^[\\\\u3007\\\\u4e00\\\\u4e8c\\\\u4e09\\\\u56db\\\\u4e94\\\\u516d\\\\u4e03\\\\u516b\\\\u4e5d]+\\\\.[ \\\\u00a0]/, // Japanese\\n\\t\\t\\t/^[\\\\u58f1\\\\u5f10\\\\u53c2\\\\u56db\\\\u4f0d\\\\u516d\\\\u4e03\\\\u516b\\\\u4e5d\\\\u62fe]+\\\\.[ \\\\u00a0]/  // Chinese\\n\\t\\t];\\n\\n\\t\\ttext = text.replace(/^[\\\\u00a0 ]+/, '');\\n\\n\\t\\tTools.each(patterns, function(pattern) {\\n\\t\\t\\tif (pattern.test(text)) {\\n\\t\\t\\t\\tfound = true;\\n\\t\\t\\t\\treturn false;\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\treturn found;\\n\\t}\\n\\n\\tfunction isBulletList(text) {\\n\\t\\treturn /^[\\\\s\\\\u00a0]*[\\\\u2022\\\\u00b7\\\\u00a7\\\\u25CF]\\\\s*/.test(text);\\n\\t}\\n\\n\\tfunction WordFilter(editor) {\\n\\t\\tvar settings = editor.settings;\\n\\n\\t\\teditor.on('BeforePastePreProcess', function(e) {\\n\\t\\t\\tvar content = e.content, retainStyleProperties, validStyles;\\n\\n\\t\\t\\t// Remove google docs internal guid markers\\n\\t\\t\\tcontent = content.replace(/<b[^>]+id=\\\"?docs-internal-[^>]*>/gi, '');\\n\\t\\t\\tcontent = content.replace(/<br class=\\\"?Apple-interchange-newline\\\"?>/gi, '');\\n\\n\\t\\t\\tretainStyleProperties = settings.paste_retain_style_properties;\\n\\t\\t\\tif (retainStyleProperties) {\\n\\t\\t\\t\\tvalidStyles = Tools.makeMap(retainStyleProperties.split(/[, ]/));\\n\\t\\t\\t}\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Converts fake bullet and numbered lists to real semantic OL/UL.\\n\\t\\t\\t *\\n\\t\\t\\t * @param {tinymce.html.Node} node Root node to convert children of.\\n\\t\\t\\t */\\n\\t\\t\\tfunction convertFakeListsToProperLists(node) {\\n\\t\\t\\t\\tvar currentListNode, prevListNode, lastLevel = 1;\\n\\n\\t\\t\\t\\tfunction getText(node) {\\n\\t\\t\\t\\t\\tvar txt = '';\\n\\n\\t\\t\\t\\t\\tif (node.type === 3) {\\n\\t\\t\\t\\t\\t\\treturn node.value;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif ((node = node.firstChild)) {\\n\\t\\t\\t\\t\\t\\tdo {\\n\\t\\t\\t\\t\\t\\t\\ttxt += getText(node);\\n\\t\\t\\t\\t\\t\\t} while ((node = node.next));\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\treturn txt;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfunction trimListStart(node, regExp) {\\n\\t\\t\\t\\t\\tif (node.type === 3) {\\n\\t\\t\\t\\t\\t\\tif (regExp.test(node.value)) {\\n\\t\\t\\t\\t\\t\\t\\tnode.value = node.value.replace(regExp, '');\\n\\t\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif ((node = node.firstChild)) {\\n\\t\\t\\t\\t\\t\\tdo {\\n\\t\\t\\t\\t\\t\\t\\tif (!trimListStart(node, regExp)) {\\n\\t\\t\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t} while ((node = node.next));\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfunction removeIgnoredNodes(node) {\\n\\t\\t\\t\\t\\tif (node._listIgnore) {\\n\\t\\t\\t\\t\\t\\tnode.remove();\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif ((node = node.firstChild)) {\\n\\t\\t\\t\\t\\t\\tdo {\\n\\t\\t\\t\\t\\t\\t\\tremoveIgnoredNodes(node);\\n\\t\\t\\t\\t\\t\\t} while ((node = node.next));\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfunction convertParagraphToLi(paragraphNode, listName, start) {\\n\\t\\t\\t\\t\\tvar level = paragraphNode._listLevel || lastLevel;\\n\\n\\t\\t\\t\\t\\t// Handle list nesting\\n\\t\\t\\t\\t\\tif (level != lastLevel) {\\n\\t\\t\\t\\t\\t\\tif (level < lastLevel) {\\n\\t\\t\\t\\t\\t\\t\\t// Move to parent list\\n\\t\\t\\t\\t\\t\\t\\tif (currentListNode) {\\n\\t\\t\\t\\t\\t\\t\\t\\tcurrentListNode = currentListNode.parent.parent;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\t// Create new list\\n\\t\\t\\t\\t\\t\\t\\tprevListNode = currentListNode;\\n\\t\\t\\t\\t\\t\\t\\tcurrentListNode = null;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (!currentListNode || currentListNode.name != listName) {\\n\\t\\t\\t\\t\\t\\tprevListNode = prevListNode || currentListNode;\\n\\t\\t\\t\\t\\t\\tcurrentListNode = new Node(listName, 1);\\n\\n\\t\\t\\t\\t\\t\\tif (start > 1) {\\n\\t\\t\\t\\t\\t\\t\\tcurrentListNode.attr('start', '' + start);\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tparagraphNode.wrap(currentListNode);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tcurrentListNode.append(paragraphNode);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tparagraphNode.name = 'li';\\n\\n\\t\\t\\t\\t\\t// Append list to previous list if it exists\\n\\t\\t\\t\\t\\tif (level > lastLevel && prevListNode) {\\n\\t\\t\\t\\t\\t\\tprevListNode.lastChild.append(currentListNode);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tlastLevel = level;\\n\\n\\t\\t\\t\\t\\t// Remove start of list item \\\"1. \\\" or \\\"&middot; \\\" etc\\n\\t\\t\\t\\t\\tremoveIgnoredNodes(paragraphNode);\\n\\t\\t\\t\\t\\ttrimListStart(paragraphNode, /^\\\\u00a0+/);\\n\\t\\t\\t\\t\\ttrimListStart(paragraphNode, /^\\\\s*([\\\\u2022\\\\u00b7\\\\u00a7\\\\u25CF]|\\\\w+\\\\.)/);\\n\\t\\t\\t\\t\\ttrimListStart(paragraphNode, /^\\\\u00a0+/);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Build a list of all root level elements before we start\\n\\t\\t\\t\\t// altering them in the loop below.\\n\\t\\t\\t\\tvar elements = [], child = node.firstChild;\\n\\t\\t\\t\\twhile (typeof child !== 'undefined' && child !== null) {\\n\\t\\t\\t\\t\\telements.push(child);\\n\\n\\t\\t\\t\\t\\tchild = child.walk();\\n\\t\\t\\t\\t\\tif (child !== null) {\\n\\t\\t\\t\\t\\t\\twhile (typeof child !== 'undefined' && child.parent !== node) {\\n\\t\\t\\t\\t\\t\\t\\tchild = child.walk();\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfor (var i = 0; i < elements.length; i++) {\\n\\t\\t\\t\\t\\tnode = elements[i];\\n\\n\\t\\t\\t\\t\\tif (node.name == 'p' && node.firstChild) {\\n\\t\\t\\t\\t\\t\\t// Find first text node in paragraph\\n\\t\\t\\t\\t\\t\\tvar nodeText = getText(node);\\n\\n\\t\\t\\t\\t\\t\\t// Detect unordered lists look for bullets\\n\\t\\t\\t\\t\\t\\tif (isBulletList(nodeText)) {\\n\\t\\t\\t\\t\\t\\t\\tconvertParagraphToLi(node, 'ul');\\n\\t\\t\\t\\t\\t\\t\\tcontinue;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Detect ordered lists 1., a. or ixv.\\n\\t\\t\\t\\t\\t\\tif (isNumericList(nodeText)) {\\n\\t\\t\\t\\t\\t\\t\\t// Parse OL start number\\n\\t\\t\\t\\t\\t\\t\\tvar matches = /([0-9]+)\\\\./.exec(nodeText);\\n\\t\\t\\t\\t\\t\\t\\tvar start = 1;\\n\\t\\t\\t\\t\\t\\t\\tif (matches) {\\n\\t\\t\\t\\t\\t\\t\\t\\tstart = parseInt(matches[1], 10);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tconvertParagraphToLi(node, 'ol', start);\\n\\t\\t\\t\\t\\t\\t\\tcontinue;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Convert paragraphs marked as lists but doesn't look like anything\\n\\t\\t\\t\\t\\t\\tif (node._listLevel) {\\n\\t\\t\\t\\t\\t\\t\\tconvertParagraphToLi(node, 'ul', 1);\\n\\t\\t\\t\\t\\t\\t\\tcontinue;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tcurrentListNode = null;\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t// If the root level element isn't a p tag which can be\\n\\t\\t\\t\\t\\t\\t// processed by convertParagraphToLi, it interrupts the\\n\\t\\t\\t\\t\\t\\t// lists, causing a new list to start instead of having\\n\\t\\t\\t\\t\\t\\t// elements from the next list inserted above this tag.\\n\\t\\t\\t\\t\\t\\tprevListNode = currentListNode;\\n\\t\\t\\t\\t\\t\\tcurrentListNode = null;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction filterStyles(node, styleValue) {\\n\\t\\t\\t\\tvar outputStyles = {}, matches, styles = editor.dom.parseStyle(styleValue);\\n\\n\\t\\t\\t\\tTools.each(styles, function(value, name) {\\n\\t\\t\\t\\t\\t// Convert various MS styles to W3C styles\\n\\t\\t\\t\\t\\tswitch (name) {\\n\\t\\t\\t\\t\\t\\tcase 'mso-list':\\n\\t\\t\\t\\t\\t\\t\\t// Parse out list indent level for lists\\n\\t\\t\\t\\t\\t\\t\\tmatches = /\\\\w+ \\\\w+([0-9]+)/i.exec(styleValue);\\n\\t\\t\\t\\t\\t\\t\\tif (matches) {\\n\\t\\t\\t\\t\\t\\t\\t\\tnode._listLevel = parseInt(matches[1], 10);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t// Remove these nodes <span style=\\\"mso-list:Ignore\\\">o</span>\\n\\t\\t\\t\\t\\t\\t\\t// Since the span gets removed we mark the text node and the span\\n\\t\\t\\t\\t\\t\\t\\tif (/Ignore/i.test(value) && node.firstChild) {\\n\\t\\t\\t\\t\\t\\t\\t\\tnode._listIgnore = true;\\n\\t\\t\\t\\t\\t\\t\\t\\tnode.firstChild._listIgnore = true;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\t\\t\\tcase \\\"horiz-align\\\":\\n\\t\\t\\t\\t\\t\\t\\tname = \\\"text-align\\\";\\n\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\t\\t\\tcase \\\"vert-align\\\":\\n\\t\\t\\t\\t\\t\\t\\tname = \\\"vertical-align\\\";\\n\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\t\\t\\tcase \\\"font-color\\\":\\n\\t\\t\\t\\t\\t\\tcase \\\"mso-foreground\\\":\\n\\t\\t\\t\\t\\t\\t\\tname = \\\"color\\\";\\n\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\t\\t\\tcase \\\"mso-background\\\":\\n\\t\\t\\t\\t\\t\\tcase \\\"mso-highlight\\\":\\n\\t\\t\\t\\t\\t\\t\\tname = \\\"background\\\";\\n\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\t\\t\\tcase \\\"font-weight\\\":\\n\\t\\t\\t\\t\\t\\tcase \\\"font-style\\\":\\n\\t\\t\\t\\t\\t\\t\\tif (value != \\\"normal\\\") {\\n\\t\\t\\t\\t\\t\\t\\t\\toutputStyles[name] = value;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\treturn;\\n\\n\\t\\t\\t\\t\\t\\tcase \\\"mso-element\\\":\\n\\t\\t\\t\\t\\t\\t\\t// Remove track changes code\\n\\t\\t\\t\\t\\t\\t\\tif (/^(comment|comment-list)$/i.test(value)) {\\n\\t\\t\\t\\t\\t\\t\\t\\tnode.remove();\\n\\t\\t\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (name.indexOf('mso-comment') === 0) {\\n\\t\\t\\t\\t\\t\\tnode.remove();\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Never allow mso- prefixed names\\n\\t\\t\\t\\t\\tif (name.indexOf('mso-') === 0) {\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Output only valid styles\\n\\t\\t\\t\\t\\tif (retainStyleProperties == \\\"all\\\" || (validStyles && validStyles[name])) {\\n\\t\\t\\t\\t\\t\\toutputStyles[name] = value;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t// Convert bold style to \\\"b\\\" element\\n\\t\\t\\t\\tif (/(bold)/i.test(outputStyles[\\\"font-weight\\\"])) {\\n\\t\\t\\t\\t\\tdelete outputStyles[\\\"font-weight\\\"];\\n\\t\\t\\t\\t\\tnode.wrap(new Node(\\\"b\\\", 1));\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Convert italic style to \\\"i\\\" element\\n\\t\\t\\t\\tif (/(italic)/i.test(outputStyles[\\\"font-style\\\"])) {\\n\\t\\t\\t\\t\\tdelete outputStyles[\\\"font-style\\\"];\\n\\t\\t\\t\\t\\tnode.wrap(new Node(\\\"i\\\", 1));\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Serialize the styles and see if there is something left to keep\\n\\t\\t\\t\\toutputStyles = editor.dom.serializeStyle(outputStyles, node.name);\\n\\t\\t\\t\\tif (outputStyles) {\\n\\t\\t\\t\\t\\treturn outputStyles;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn null;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (settings.paste_enable_default_filters === false) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Detect is the contents is Word junk HTML\\n\\t\\t\\tif (isWordContent(e.content)) {\\n\\t\\t\\t\\te.wordContent = true; // Mark it for other processors\\n\\n\\t\\t\\t\\t// Remove basic Word junk\\n\\t\\t\\t\\tcontent = Utils.filter(content, [\\n\\t\\t\\t\\t\\t// Word comments like conditional comments etc\\n\\t\\t\\t\\t\\t/<!--[\\\\s\\\\S]+?-->/gi,\\n\\n\\t\\t\\t\\t\\t// Remove comments, scripts (e.g., msoShowComment), XML tag, VML content,\\n\\t\\t\\t\\t\\t// MS Office namespaced tags, and a few other tags\\n\\t\\t\\t\\t\\t/<(!|script[^>]*>.*?<\\\\/script(?=[>\\\\s])|\\\\/?(\\\\?xml(:\\\\w+)?|img|meta|link|style|\\\\w:\\\\w+)(?=[\\\\s\\\\/>]))[^>]*>/gi,\\n\\n\\t\\t\\t\\t\\t// Convert <s> into <strike> for line-though\\n\\t\\t\\t\\t\\t[/<(\\\\/?)s>/gi, \\\"<$1strike>\\\"],\\n\\n\\t\\t\\t\\t\\t// Replace nsbp entites to char since it's easier to handle\\n\\t\\t\\t\\t\\t[/&nbsp;/gi, \\\"\\\\u00a0\\\"],\\n\\n\\t\\t\\t\\t\\t// Convert <span style=\\\"mso-spacerun:yes\\\">___</span> to string of alternating\\n\\t\\t\\t\\t\\t// breaking/non-breaking spaces of same length\\n\\t\\t\\t\\t\\t[/<span\\\\s+style\\\\s*=\\\\s*\\\"\\\\s*mso-spacerun\\\\s*:\\\\s*yes\\\\s*;?\\\\s*\\\"\\\\s*>([\\\\s\\\\u00a0]*)<\\\\/span>/gi,\\n\\t\\t\\t\\t\\t\\tfunction(str, spaces) {\\n\\t\\t\\t\\t\\t\\t\\treturn (spaces.length > 0) ?\\n\\t\\t\\t\\t\\t\\t\\t\\tspaces.replace(/./, \\\" \\\").slice(Math.floor(spaces.length / 2)).split(\\\"\\\").join(\\\"\\\\u00a0\\\") : \\\"\\\";\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t]\\n\\t\\t\\t\\t]);\\n\\n\\t\\t\\t\\tvar validElements = settings.paste_word_valid_elements;\\n\\t\\t\\t\\tif (!validElements) {\\n\\t\\t\\t\\t\\tvalidElements = (\\n\\t\\t\\t\\t\\t\\t'-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,' +\\n\\t\\t\\t\\t\\t\\t'-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,' +\\n\\t\\t\\t\\t\\t\\t'td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody'\\n\\t\\t\\t\\t\\t);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Setup strict schema\\n\\t\\t\\t\\tvar schema = new Schema({\\n\\t\\t\\t\\t\\tvalid_elements: validElements,\\n\\t\\t\\t\\t\\tvalid_children: '-li[p]'\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t// Add style/class attribute to all element rules since the user might have removed them from\\n\\t\\t\\t\\t// paste_word_valid_elements config option and we need to check them for properties\\n\\t\\t\\t\\tTools.each(schema.elements, function(rule) {\\n\\t\\t\\t\\t\\t/*eslint dot-notation:0*/\\n\\t\\t\\t\\t\\tif (!rule.attributes[\\\"class\\\"]) {\\n\\t\\t\\t\\t\\t\\trule.attributes[\\\"class\\\"] = {};\\n\\t\\t\\t\\t\\t\\trule.attributesOrder.push(\\\"class\\\");\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (!rule.attributes.style) {\\n\\t\\t\\t\\t\\t\\trule.attributes.style = {};\\n\\t\\t\\t\\t\\t\\trule.attributesOrder.push(\\\"style\\\");\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t// Parse HTML into DOM structure\\n\\t\\t\\t\\tvar domParser = new DomParser({}, schema);\\n\\n\\t\\t\\t\\t// Filter styles to remove \\\"mso\\\" specific styles and convert some of them\\n\\t\\t\\t\\tdomParser.addAttributeFilter('style', function(nodes) {\\n\\t\\t\\t\\t\\tvar i = nodes.length, node;\\n\\n\\t\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\t\\tnode = nodes[i];\\n\\t\\t\\t\\t\\t\\tnode.attr('style', filterStyles(node, node.attr('style')));\\n\\n\\t\\t\\t\\t\\t\\t// Remove pointess spans\\n\\t\\t\\t\\t\\t\\tif (node.name == 'span' && node.parent && !node.attributes.length) {\\n\\t\\t\\t\\t\\t\\t\\tnode.unwrap();\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t// Check the class attribute for comments or del items and remove those\\n\\t\\t\\t\\tdomParser.addAttributeFilter('class', function(nodes) {\\n\\t\\t\\t\\t\\tvar i = nodes.length, node, className;\\n\\n\\t\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\t\\tnode = nodes[i];\\n\\n\\t\\t\\t\\t\\t\\tclassName = node.attr('class');\\n\\t\\t\\t\\t\\t\\tif (/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(className)) {\\n\\t\\t\\t\\t\\t\\t\\tnode.remove();\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tnode.attr('class', null);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t// Remove all del elements since we don't want the track changes code in the editor\\n\\t\\t\\t\\tdomParser.addNodeFilter('del', function(nodes) {\\n\\t\\t\\t\\t\\tvar i = nodes.length;\\n\\n\\t\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\t\\tnodes[i].remove();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t// Keep some of the links and anchors\\n\\t\\t\\t\\tdomParser.addNodeFilter('a', function(nodes) {\\n\\t\\t\\t\\t\\tvar i = nodes.length, node, href, name;\\n\\n\\t\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\t\\tnode = nodes[i];\\n\\t\\t\\t\\t\\t\\thref = node.attr('href');\\n\\t\\t\\t\\t\\t\\tname = node.attr('name');\\n\\n\\t\\t\\t\\t\\t\\tif (href && href.indexOf('#_msocom_') != -1) {\\n\\t\\t\\t\\t\\t\\t\\tnode.remove();\\n\\t\\t\\t\\t\\t\\t\\tcontinue;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tif (href && href.indexOf('file://') === 0) {\\n\\t\\t\\t\\t\\t\\t\\thref = href.split('#')[1];\\n\\t\\t\\t\\t\\t\\t\\tif (href) {\\n\\t\\t\\t\\t\\t\\t\\t\\thref = '#' + href;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tif (!href && !name) {\\n\\t\\t\\t\\t\\t\\t\\tnode.unwrap();\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\t// Remove all named anchors that aren't specific to TOC, Footnotes or Endnotes\\n\\t\\t\\t\\t\\t\\t\\tif (name && !/^_?(?:toc|edn|ftn)/i.test(name)) {\\n\\t\\t\\t\\t\\t\\t\\t\\tnode.unwrap();\\n\\t\\t\\t\\t\\t\\t\\t\\tcontinue;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tnode.attr({\\n\\t\\t\\t\\t\\t\\t\\t\\thref: href,\\n\\t\\t\\t\\t\\t\\t\\t\\tname: name\\n\\t\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t// Parse into DOM structure\\n\\t\\t\\t\\tvar rootNode = domParser.parse(content);\\n\\n\\t\\t\\t\\t// Process DOM\\n\\t\\t\\t\\tif (settings.paste_convert_word_fake_lists !== false) {\\n\\t\\t\\t\\t\\tconvertFakeListsToProperLists(rootNode);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Serialize DOM back to HTML\\n\\t\\t\\t\\te.content = new Serializer({\\n\\t\\t\\t\\t\\tvalidate: settings.validate\\n\\t\\t\\t\\t}, schema).serialize(rootNode);\\n\\t\\t\\t}\\n\\t\\t});\\n\\t}\\n\\n\\tWordFilter.isWordContent = isWordContent;\\n\\n\\treturn WordFilter;\\n});\\n\\n// Included from: js/tinymce/plugins/paste/classes/Quirks.js\\n\\n/**\\n * Quirks.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2017 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class contains various fixes for browsers. These issues can not be feature\\n * detected since we have no direct control over the clipboard. However we might be able\\n * to remove some of these fixes once the browsers gets updated/fixed.\\n *\\n * @class tinymce.pasteplugin.Quirks\\n * @private\\n */\\ndefine(\\\"tinymce/pasteplugin/Quirks\\\", [\\n\\t\\\"tinymce/Env\\\",\\n\\t\\\"tinymce/util/Tools\\\",\\n\\t\\\"tinymce/pasteplugin/WordFilter\\\",\\n\\t\\\"tinymce/pasteplugin/Utils\\\"\\n], function(Env, Tools, WordFilter, Utils) {\\n\\t\\\"use strict\\\";\\n\\n\\treturn function(editor) {\\n\\t\\tfunction addPreProcessFilter(filterFunc) {\\n\\t\\t\\teditor.on('BeforePastePreProcess', function(e) {\\n\\t\\t\\t\\te.content = filterFunc(e.content);\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\tfunction addPostProcessFilter(filterFunc) {\\n\\t\\t\\teditor.on('PastePostProcess', function(e) {\\n\\t\\t\\t\\tfilterFunc(e.node);\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Removes BR elements after block elements. IE9 has a nasty bug where it puts a BR element after each\\n\\t\\t * block element when pasting from word. This removes those elements.\\n\\t\\t *\\n\\t\\t * This:\\n\\t\\t *  <p>a</p><br><p>b</p>\\n\\t\\t *\\n\\t\\t * Becomes:\\n\\t\\t *  <p>a</p><p>b</p>\\n\\t\\t */\\n\\t\\tfunction removeExplorerBrElementsAfterBlocks(html) {\\n\\t\\t\\t// Only filter word specific content\\n\\t\\t\\tif (!WordFilter.isWordContent(html)) {\\n\\t\\t\\t\\treturn html;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Produce block regexp based on the block elements in schema\\n\\t\\t\\tvar blockElements = [];\\n\\n\\t\\t\\tTools.each(editor.schema.getBlockElements(), function(block, blockName) {\\n\\t\\t\\t\\tblockElements.push(blockName);\\n\\t\\t\\t});\\n\\n\\t\\t\\tvar explorerBlocksRegExp = new RegExp(\\n\\t\\t\\t\\t'(?:<br>&nbsp;[\\\\\\\\s\\\\\\\\r\\\\\\\\n]+|<br>)*(<\\\\\\\\/?(' + blockElements.join('|') + ')[^>]*>)(?:<br>&nbsp;[\\\\\\\\s\\\\\\\\r\\\\\\\\n]+|<br>)*',\\n\\t\\t\\t\\t'g'\\n\\t\\t\\t);\\n\\n\\t\\t\\t// Remove BR:s from: <BLOCK>X</BLOCK><BR>\\n\\t\\t\\thtml = Utils.filter(html, [\\n\\t\\t\\t\\t[explorerBlocksRegExp, '$1']\\n\\t\\t\\t]);\\n\\n\\t\\t\\t// IE9 also adds an extra BR element for each soft-linefeed and it also adds a BR for each word wrap break\\n\\t\\t\\thtml = Utils.filter(html, [\\n\\t\\t\\t\\t[/<br><br>/g, '<BR><BR>'], // Replace multiple BR elements with uppercase BR to keep them intact\\n\\t\\t\\t\\t[/<br>/g, ' '],            // Replace single br elements with space since they are word wrap BR:s\\n\\t\\t\\t\\t[/<BR><BR>/g, '<br>']      // Replace back the double brs but into a single BR\\n\\t\\t\\t]);\\n\\n\\t\\t\\treturn html;\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * WebKit has a nasty bug where the all computed styles gets added to style attributes when copy/pasting contents.\\n\\t\\t * This fix solves that by simply removing the whole style attribute.\\n\\t\\t *\\n\\t\\t * The paste_webkit_styles option can be set to specify what to keep:\\n\\t\\t *  paste_webkit_styles: \\\"none\\\" // Keep no styles\\n\\t\\t *  paste_webkit_styles: \\\"all\\\", // Keep all of them\\n\\t\\t *  paste_webkit_styles: \\\"font-weight color\\\" // Keep specific ones\\n\\t\\t *\\n\\t\\t * @param {String} content Content that needs to be processed.\\n\\t\\t * @return {String} Processed contents.\\n\\t\\t */\\n\\t\\tfunction removeWebKitStyles(content) {\\n\\t\\t\\t// Passthrough all styles from Word and let the WordFilter handle that junk\\n\\t\\t\\tif (WordFilter.isWordContent(content)) {\\n\\t\\t\\t\\treturn content;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Filter away styles that isn't matching the target node\\n\\t\\t\\tvar webKitStyles = editor.settings.paste_webkit_styles;\\n\\n\\t\\t\\tif (editor.settings.paste_remove_styles_if_webkit === false || webKitStyles == \\\"all\\\") {\\n\\t\\t\\t\\treturn content;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (webKitStyles) {\\n\\t\\t\\t\\twebKitStyles = webKitStyles.split(/[, ]/);\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Keep specific styles that doesn't match the current node computed style\\n\\t\\t\\tif (webKitStyles) {\\n\\t\\t\\t\\tvar dom = editor.dom, node = editor.selection.getNode();\\n\\n\\t\\t\\t\\tcontent = content.replace(/(<[^>]+) style=\\\"([^\\\"]*)\\\"([^>]*>)/gi, function(all, before, value, after) {\\n\\t\\t\\t\\t\\tvar inputStyles = dom.parseStyle(value, 'span'), outputStyles = {};\\n\\n\\t\\t\\t\\t\\tif (webKitStyles === \\\"none\\\") {\\n\\t\\t\\t\\t\\t\\treturn before + after;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tfor (var i = 0; i < webKitStyles.length; i++) {\\n\\t\\t\\t\\t\\t\\tvar inputValue = inputStyles[webKitStyles[i]], currentValue = dom.getStyle(node, webKitStyles[i], true);\\n\\n\\t\\t\\t\\t\\t\\tif (/color/.test(webKitStyles[i])) {\\n\\t\\t\\t\\t\\t\\t\\tinputValue = dom.toHex(inputValue);\\n\\t\\t\\t\\t\\t\\t\\tcurrentValue = dom.toHex(currentValue);\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tif (currentValue != inputValue) {\\n\\t\\t\\t\\t\\t\\t\\toutputStyles[webKitStyles[i]] = inputValue;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\toutputStyles = dom.serializeStyle(outputStyles, 'span');\\n\\t\\t\\t\\t\\tif (outputStyles) {\\n\\t\\t\\t\\t\\t\\treturn before + ' style=\\\"' + outputStyles + '\\\"' + after;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\treturn before + after;\\n\\t\\t\\t\\t});\\n\\t\\t\\t} else {\\n\\t\\t\\t\\t// Remove all external styles\\n\\t\\t\\t\\tcontent = content.replace(/(<[^>]+) style=\\\"([^\\\"]*)\\\"([^>]*>)/gi, '$1$3');\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Keep internal styles\\n\\t\\t\\tcontent = content.replace(/(<[^>]+) data-mce-style=\\\"([^\\\"]+)\\\"([^>]*>)/gi, function(all, before, value, after) {\\n\\t\\t\\t\\treturn before + ' style=\\\"' + value + '\\\"' + after;\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn content;\\n\\t\\t}\\n\\n\\t\\tfunction removeUnderlineAndFontInAnchor(root) {\\n\\t\\t\\teditor.$('a', root).find('font,u').each(function(i, node) {\\n\\t\\t\\t\\teditor.dom.remove(node, true);\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\t// Sniff browsers and apply fixes since we can't feature detect\\n\\t\\tif (Env.webkit) {\\n\\t\\t\\taddPreProcessFilter(removeWebKitStyles);\\n\\t\\t}\\n\\n\\t\\tif (Env.ie) {\\n\\t\\t\\taddPreProcessFilter(removeExplorerBrElementsAfterBlocks);\\n\\t\\t\\taddPostProcessFilter(removeUnderlineAndFontInAnchor);\\n\\t\\t}\\n\\t};\\n});\\n\\n// Included from: js/tinymce/plugins/paste/classes/Plugin.js\\n\\n/**\\n * Plugin.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class contains the tinymce plugin logic for the paste plugin.\\n *\\n * @class tinymce.pasteplugin.Plugin\\n * @private\\n */\\ndefine(\\\"tinymce/pasteplugin/Plugin\\\", [\\n\\t\\\"tinymce/PluginManager\\\",\\n\\t\\\"tinymce/pasteplugin/Clipboard\\\",\\n\\t\\\"tinymce/pasteplugin/WordFilter\\\",\\n\\t\\\"tinymce/pasteplugin/Quirks\\\"\\n], function(PluginManager, Clipboard, WordFilter, Quirks) {\\n\\tvar userIsInformed;\\n\\n\\tPluginManager.add('paste', function(editor) {\\n\\t\\tvar self = this, clipboard, settings = editor.settings;\\n\\n\\t\\tfunction isUserInformedAboutPlainText() {\\n\\t\\t\\treturn userIsInformed || editor.settings.paste_plaintext_inform === false;\\n\\t\\t}\\n\\n\\t\\tfunction togglePlainTextPaste() {\\n\\t\\t\\tif (clipboard.pasteFormat == \\\"text\\\") {\\n\\t\\t\\t\\tclipboard.pasteFormat = \\\"html\\\";\\n\\t\\t\\t\\teditor.fire('PastePlainTextToggle', {state: false});\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tclipboard.pasteFormat = \\\"text\\\";\\n\\t\\t\\t\\teditor.fire('PastePlainTextToggle', {state: true});\\n\\n\\t\\t\\t\\tif (!isUserInformedAboutPlainText()) {\\n\\t\\t\\t\\t\\tvar message = editor.translate('Paste is now in plain text mode. Contents will now ' +\\n\\t\\t\\t\\t\\t'be pasted as plain text until you toggle this option off.');\\n\\n\\t\\t\\t\\t\\teditor.notificationManager.open({\\n\\t\\t\\t\\t\\t\\ttext: message,\\n\\t\\t\\t\\t\\t\\ttype: 'info'\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\tuserIsInformed = true;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\teditor.focus();\\n\\t\\t}\\n\\n\\t\\tfunction stateChange() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tself.active(clipboard.pasteFormat === 'text');\\n\\n\\t\\t\\teditor.on('PastePlainTextToggle', function (e) {\\n\\t\\t\\t\\tself.active(e.state);\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\t// draw back if power version is requested and registered\\n\\t\\tif (/(^|[ ,])powerpaste([, ]|$)/.test(settings.plugins) && PluginManager.get('powerpaste')) {\\n\\t\\t\\t/*eslint no-console:0 */\\n\\t\\t\\tif (typeof console !== \\\"undefined\\\" && console.log) {\\n\\t\\t\\t\\tconsole.log(\\\"PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option.\\\");\\n\\t\\t\\t}\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tself.clipboard = clipboard = new Clipboard(editor);\\n\\t\\tself.quirks = new Quirks(editor);\\n\\t\\tself.wordFilter = new WordFilter(editor);\\n\\n\\t\\tif (editor.settings.paste_as_text) {\\n\\t\\t\\tself.clipboard.pasteFormat = \\\"text\\\";\\n\\t\\t}\\n\\n\\t\\tif (settings.paste_preprocess) {\\n\\t\\t\\teditor.on('PastePreProcess', function(e) {\\n\\t\\t\\t\\tsettings.paste_preprocess.call(self, self, e);\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\tif (settings.paste_postprocess) {\\n\\t\\t\\teditor.on('PastePostProcess', function(e) {\\n\\t\\t\\t\\tsettings.paste_postprocess.call(self, self, e);\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\teditor.addCommand('mceInsertClipboardContent', function(ui, value) {\\n\\t\\t\\tif (value.content) {\\n\\t\\t\\t\\tself.clipboard.pasteHtml(value.content);\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (value.text) {\\n\\t\\t\\t\\tself.clipboard.pasteText(value.text);\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\t// Block all drag/drop events\\n\\t\\tif (editor.settings.paste_block_drop) {\\n\\t\\t\\teditor.on('dragend dragover draggesture dragdrop drop drag', function(e) {\\n\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t\\te.stopPropagation();\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\t// Prevent users from dropping data images on Gecko\\n\\t\\tif (!editor.settings.paste_data_images) {\\n\\t\\t\\teditor.on('drop', function(e) {\\n\\t\\t\\t\\tvar dataTransfer = e.dataTransfer;\\n\\n\\t\\t\\t\\tif (dataTransfer && dataTransfer.files && dataTransfer.files.length > 0) {\\n\\t\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\teditor.addCommand('mceTogglePlainTextPaste', togglePlainTextPaste);\\n\\n\\t\\teditor.addButton('pastetext', {\\n\\t\\t\\ticon: 'pastetext',\\n\\t\\t\\ttooltip: 'Paste as text',\\n\\t\\t\\tonclick: togglePlainTextPaste,\\n\\t\\t\\tonPostRender: stateChange\\n\\t\\t});\\n\\n\\t\\teditor.addMenuItem('pastetext', {\\n\\t\\t\\ttext: 'Paste as text',\\n\\t\\t\\tselectable: true,\\n\\t\\t\\tactive: clipboard.pasteFormat,\\n\\t\\t\\tonclick: togglePlainTextPaste,\\n\\t\\t\\tonPostRender: stateChange\\n\\t\\t});\\n\\t});\\n});\\n\\nexpose([\\\"tinymce/pasteplugin/Utils\\\"]);\\n})(window);\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/raw-loader!./~/tinymce/plugins/paste/plugin.js\n// module id = 569\n// module chunks = 1","module.exports = \"/**\\n * Compiled inline version. (Library mode)\\n */\\n\\n/*jshint smarttabs:true, undef:true, latedef:true, curly:true, bitwise:true, camelcase:true */\\n/*globals $code */\\n\\n(function(exports, undefined) {\\n\\t\\\"use strict\\\";\\n\\n\\tvar modules = {};\\n\\n\\tfunction require(ids, callback) {\\n\\t\\tvar module, defs = [];\\n\\n\\t\\tfor (var i = 0; i < ids.length; ++i) {\\n\\t\\t\\tmodule = modules[ids[i]] || resolve(ids[i]);\\n\\t\\t\\tif (!module) {\\n\\t\\t\\t\\tthrow 'module definition dependecy not found: ' + ids[i];\\n\\t\\t\\t}\\n\\n\\t\\t\\tdefs.push(module);\\n\\t\\t}\\n\\n\\t\\tcallback.apply(null, defs);\\n\\t}\\n\\n\\tfunction define(id, dependencies, definition) {\\n\\t\\tif (typeof id !== 'string') {\\n\\t\\t\\tthrow 'invalid module definition, module id must be defined and be a string';\\n\\t\\t}\\n\\n\\t\\tif (dependencies === undefined) {\\n\\t\\t\\tthrow 'invalid module definition, dependencies must be specified';\\n\\t\\t}\\n\\n\\t\\tif (definition === undefined) {\\n\\t\\t\\tthrow 'invalid module definition, definition function must be specified';\\n\\t\\t}\\n\\n\\t\\trequire(dependencies, function() {\\n\\t\\t\\tmodules[id] = definition.apply(null, arguments);\\n\\t\\t});\\n\\t}\\n\\n\\tfunction defined(id) {\\n\\t\\treturn !!modules[id];\\n\\t}\\n\\n\\tfunction resolve(id) {\\n\\t\\tvar target = exports;\\n\\t\\tvar fragments = id.split(/[.\\\\/]/);\\n\\n\\t\\tfor (var fi = 0; fi < fragments.length; ++fi) {\\n\\t\\t\\tif (!target[fragments[fi]]) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\ttarget = target[fragments[fi]];\\n\\t\\t}\\n\\n\\t\\treturn target;\\n\\t}\\n\\n\\tfunction expose(ids) {\\n\\t\\tvar i, target, id, fragments, privateModules;\\n\\n\\t\\tfor (i = 0; i < ids.length; i++) {\\n\\t\\t\\ttarget = exports;\\n\\t\\t\\tid = ids[i];\\n\\t\\t\\tfragments = id.split(/[.\\\\/]/);\\n\\n\\t\\t\\tfor (var fi = 0; fi < fragments.length - 1; ++fi) {\\n\\t\\t\\t\\tif (target[fragments[fi]] === undefined) {\\n\\t\\t\\t\\t\\ttarget[fragments[fi]] = {};\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\ttarget = target[fragments[fi]];\\n\\t\\t\\t}\\n\\n\\t\\t\\ttarget[fragments[fragments.length - 1]] = modules[id];\\n\\t\\t}\\n\\n\\t\\t// Expose private modules for unit tests\\n\\t\\tif (exports.AMDLC_TESTS) {\\n\\t\\t\\tprivateModules = exports.privateModules || {};\\n\\n\\t\\t\\tfor (id in modules) {\\n\\t\\t\\t\\tprivateModules[id] = modules[id];\\n\\t\\t\\t}\\n\\n\\t\\t\\tfor (i = 0; i < ids.length; i++) {\\n\\t\\t\\t\\tdelete privateModules[ids[i]];\\n\\t\\t\\t}\\n\\n\\t\\t\\texports.privateModules = privateModules;\\n\\t\\t}\\n\\t}\\n\\n// Included from: js/tinymce/plugins/table/classes/Utils.js\\n\\n/**\\n * Utils.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Various utility functions.\\n *\\n * @class tinymce.tableplugin.Utils\\n * @private\\n */\\ndefine(\\\"tinymce/tableplugin/Utils\\\", [\\n\\t\\\"tinymce/Env\\\"\\n], function(Env) {\\n\\tvar setSpanVal = function (name) {\\n\\t\\treturn function (td, val) {\\n\\t\\t\\tif (td) {\\n\\t\\t\\t\\tval = parseInt(val, 10);\\n\\n\\t\\t\\t\\tif (val === 1 || val === 0) {\\n\\t\\t\\t\\t\\ttd.removeAttribute(name, 1);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\ttd.setAttribute(name, val, 1);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t};\\n\\t};\\n\\n\\tvar getSpanVal = function (name) {\\n\\t\\treturn function (td) {\\n\\t\\t\\treturn parseInt(td.getAttribute(name) || 1, 10);\\n\\t\\t};\\n\\t};\\n\\n\\tfunction paddCell(cell) {\\n\\t\\tif (!Env.ie || Env.ie > 9) {\\n\\t\\t\\tif (!cell.hasChildNodes()) {\\n\\t\\t\\t\\tcell.innerHTML = '<br data-mce-bogus=\\\"1\\\" />';\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\treturn {\\n\\t\\tsetColSpan: setSpanVal('colSpan'),\\n\\t\\tsetRowSpan: setSpanVal('rowspan'),\\n\\t\\tgetColSpan: getSpanVal('colSpan'),\\n\\t\\tgetRowSpan: getSpanVal('rowSpan'),\\n\\t\\tsetSpanVal: function (td, name, value) {\\n\\t\\t\\tsetSpanVal(name)(td, value);\\n\\t\\t},\\n\\t\\tgetSpanVal: function (td, name) {\\n\\t\\t\\treturn getSpanVal(name)(td);\\n\\t\\t},\\n\\t\\tpaddCell: paddCell\\n\\t};\\n});\\n\\n// Included from: js/tinymce/plugins/table/classes/SplitCols.js\\n\\n/**\\n * SplitCols.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2016 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Contains logic for handling splitting of merged rows.\\n *\\n * @class tinymce.tableplugin.SplitCols\\n * @private\\n */\\ndefine(\\\"tinymce/tableplugin/SplitCols\\\", [\\n\\t\\\"tinymce/util/Tools\\\",\\n\\t\\\"tinymce/tableplugin/Utils\\\"\\n], function(Tools, Utils) {\\n\\tvar getCellAt = function (grid, x, y) {\\n\\t\\treturn grid[y] ? grid[y][x] : null;\\n\\t};\\n\\n\\tvar getCellElmAt = function (grid, x, y) {\\n\\t\\tvar cell = getCellAt(grid, x, y);\\n\\t\\treturn cell ? cell.elm : null;\\n\\t};\\n\\n\\tvar countHoles = function (grid, x, y, delta) {\\n\\t\\tvar y2, cell, count = 0, elm = getCellElmAt(grid, x, y);\\n\\n\\t\\tfor (y2 = y; delta > 0 ? y2 < grid.length : y2 >= 0; y2 += delta) {\\n\\t\\t\\tcell = getCellAt(grid, x, y2);\\n\\t\\t\\tif (elm !== cell.elm) {\\n\\t\\t\\t\\tbreak;\\n\\t\\t\\t}\\n\\n\\t\\t\\tcount++;\\n\\t\\t}\\n\\n\\t\\treturn count;\\n\\t};\\n\\n\\tvar findRealElm = function (grid, x, y) {\\n\\t\\tvar cell, row = grid[y];\\n\\n\\t\\tfor (var x2 = x; x2 < row.length; x2++) {\\n\\t\\t\\tcell = row[x2];\\n\\t\\t\\tif (cell.real) {\\n\\t\\t\\t\\treturn cell.elm;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\treturn null;\\n\\t};\\n\\n\\tvar getRowSplitInfo = function (grid, y) {\\n\\t\\tvar cell, result = [], row = grid[y];\\n\\n\\t\\tfor (var x = 0; x < row.length; x++) {\\n\\t\\t\\tcell = row[x];\\n\\t\\t\\tresult.push({\\n\\t\\t\\t\\telm: cell.elm,\\n\\t\\t\\t\\tabove: countHoles(grid, x, y, -1) - 1,\\n\\t\\t\\t\\tbelow: countHoles(grid, x, y, 1) - 1\\n\\t\\t\\t});\\n\\n\\t\\t\\tx += Utils.getColSpan(cell.elm) - 1;\\n\\t\\t}\\n\\n\\t\\treturn result;\\n\\t};\\n\\n\\tvar createCell = function (info, rowSpan) {\\n\\t\\tvar doc = info.elm.ownerDocument;\\n\\t\\tvar newCell = doc.createElement('td');\\n\\n\\t\\tUtils.setColSpan(newCell, Utils.getColSpan(info.elm));\\n\\t\\tUtils.setRowSpan(newCell, rowSpan);\\n\\t\\tUtils.paddCell(newCell);\\n\\n\\t\\treturn newCell;\\n\\t};\\n\\n\\tvar insertOrAppendCell = function (grid, newCell, x, y) {\\n\\t\\tvar realCellElm = findRealElm(grid, x + 1, y);\\n\\n\\t\\tif (!realCellElm) {\\n\\t\\t\\trealCellElm = findRealElm(grid, 0, y);\\n\\t\\t\\trealCellElm.parentNode.appendChild(newCell);\\n\\t\\t} else {\\n\\t\\t\\trealCellElm.parentNode.insertBefore(newCell, realCellElm);\\n\\t\\t}\\n\\t};\\n\\n\\tvar splitAbove = function (grid, info, x, y) {\\n\\t\\tif (info.above !== 0) {\\n\\t\\t\\tUtils.setRowSpan(info.elm, info.above);\\n\\t\\t\\tvar cell = createCell(info, info.below + 1);\\n\\t\\t\\tinsertOrAppendCell(grid, cell, x, y);\\n\\t\\t\\treturn cell;\\n\\t\\t}\\n\\n\\t\\treturn null;\\n\\t};\\n\\n\\tvar splitBelow = function (grid, info, x, y) {\\n\\t\\tif (info.below !== 0) {\\n\\t\\t\\tUtils.setRowSpan(info.elm, info.above + 1);\\n\\t\\t\\tvar cell = createCell(info, info.below);\\n\\t\\t\\tinsertOrAppendCell(grid, cell, x, y + 1);\\n\\t\\t\\treturn cell;\\n\\t\\t}\\n\\n\\t\\treturn null;\\n\\t};\\n\\n\\tvar splitAt = function (grid, x, y, before) {\\n\\t\\tvar rowInfos = getRowSplitInfo(grid, y);\\n\\t\\tvar rowElm = getCellElmAt(grid, x, y).parentNode;\\n\\t\\tvar cells = [];\\n\\n\\t\\tTools.each(rowInfos, function (info, x) {\\n\\t\\t\\tvar cell = before ? splitAbove(grid, info, x, y) : splitBelow(grid, info, x, y);\\n\\t\\t\\tif (cell !== null) {\\n\\t\\t\\t\\tcells.push(cells);\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\treturn {\\n\\t\\t\\tcells: cells,\\n\\t\\t\\trow: rowElm\\n\\t\\t};\\n\\t};\\n\\n\\treturn {\\n\\t\\tsplitAt: splitAt\\n\\t};\\n});\\n\\n// Included from: js/tinymce/plugins/table/classes/TableGrid.js\\n\\n/**\\n * TableGrid.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class creates a grid out of a table element. This\\n * makes it a whole lot easier to handle complex tables with\\n * col/row spans.\\n *\\n * @class tinymce.tableplugin.TableGrid\\n * @private\\n */\\ndefine(\\\"tinymce/tableplugin/TableGrid\\\", [\\n\\t\\\"tinymce/util/Tools\\\",\\n\\t\\\"tinymce/Env\\\",\\n\\t\\\"tinymce/tableplugin/Utils\\\",\\n\\t\\\"tinymce/tableplugin/SplitCols\\\"\\n], function(Tools, Env, Utils, SplitCols) {\\n\\tvar each = Tools.each, getSpanVal = Utils.getSpanVal, setSpanVal = Utils.setSpanVal;\\n\\n\\treturn function(editor, table, selectedCell) {\\n\\t\\tvar grid, gridWidth, startPos, endPos, selection = editor.selection, dom = selection.dom;\\n\\n\\t\\tfunction removeCellSelection() {\\n\\t\\t\\teditor.$('td[data-mce-selected],th[data-mce-selected]').removeAttr('data-mce-selected');\\n\\t\\t}\\n\\n\\t\\tfunction isEditorBody(node) {\\n\\t\\t\\treturn node === editor.getBody();\\n\\t\\t}\\n\\n\\t\\tfunction getChildrenByName(node, names) {\\n\\t\\t\\tif (!node) {\\n\\t\\t\\t\\treturn [];\\n\\t\\t\\t}\\n\\n\\t\\t\\tnames = Tools.map(names.split(','), function(name) {\\n\\t\\t\\t\\treturn name.toLowerCase();\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn Tools.grep(node.childNodes, function(node) {\\n\\t\\t\\t\\treturn Tools.inArray(names, node.nodeName.toLowerCase()) !== -1;\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\tfunction buildGrid() {\\n\\t\\t\\tvar startY = 0;\\n\\n\\t\\t\\tgrid = [];\\n\\t\\t\\tgridWidth = 0;\\n\\n\\t\\t\\teach(['thead', 'tbody', 'tfoot'], function(part) {\\n\\t\\t\\t\\tvar partElm = getChildrenByName(table, part)[0];\\n\\t\\t\\t\\tvar rows = getChildrenByName(partElm, 'tr');\\n\\n\\t\\t\\t\\teach(rows, function(tr, y) {\\n\\t\\t\\t\\t\\ty += startY;\\n\\n\\t\\t\\t\\t\\teach(getChildrenByName(tr, 'td,th'), function(td, x) {\\n\\t\\t\\t\\t\\t\\tvar x2, y2, rowspan, colspan;\\n\\n\\t\\t\\t\\t\\t\\t// Skip over existing cells produced by rowspan\\n\\t\\t\\t\\t\\t\\tif (grid[y]) {\\n\\t\\t\\t\\t\\t\\t\\twhile (grid[y][x]) {\\n\\t\\t\\t\\t\\t\\t\\t\\tx++;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Get col/rowspan from cell\\n\\t\\t\\t\\t\\t\\trowspan = getSpanVal(td, 'rowspan');\\n\\t\\t\\t\\t\\t\\tcolspan = getSpanVal(td, 'colspan');\\n\\n\\t\\t\\t\\t\\t\\t// Fill out rowspan/colspan right and down\\n\\t\\t\\t\\t\\t\\tfor (y2 = y; y2 < y + rowspan; y2++) {\\n\\t\\t\\t\\t\\t\\t\\tif (!grid[y2]) {\\n\\t\\t\\t\\t\\t\\t\\t\\tgrid[y2] = [];\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tfor (x2 = x; x2 < x + colspan; x2++) {\\n\\t\\t\\t\\t\\t\\t\\t\\tgrid[y2][x2] = {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tpart: part,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\treal: y2 == y && x2 == x,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\telm: td,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\trowspan: rowspan,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tcolspan: colspan\\n\\t\\t\\t\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tgridWidth = Math.max(gridWidth, x + 1);\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\tstartY += rows.length;\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\tfunction fireNewRow(node) {\\n\\t\\t\\teditor.fire('newrow', {\\n\\t\\t\\t\\tnode: node\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn node;\\n\\t\\t}\\n\\n\\t\\tfunction fireNewCell(node) {\\n\\t\\t\\teditor.fire('newcell', {\\n\\t\\t\\t\\tnode: node\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn node;\\n\\t\\t}\\n\\n\\t\\tfunction cloneNode(node, children) {\\n\\t\\t\\tnode = node.cloneNode(children);\\n\\t\\t\\tnode.removeAttribute('id');\\n\\n\\t\\t\\treturn node;\\n\\t\\t}\\n\\n\\t\\tfunction getCell(x, y) {\\n\\t\\t\\tvar row;\\n\\n\\t\\t\\trow = grid[y];\\n\\t\\t\\tif (row) {\\n\\t\\t\\t\\treturn row[x];\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction getRow(grid, y) {\\n\\t\\t\\treturn grid[y] ? grid[y] : null;\\n\\t\\t}\\n\\n\\t\\tfunction getColumn(grid, x) {\\n\\t\\t\\tvar out = [];\\n\\n\\t\\t\\tfor (var y = 0; y < grid.length; y++) {\\n\\t\\t\\t\\tout.push(getCell(x, y));\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn out;\\n\\t\\t}\\n\\n\\t\\tfunction isCellSelected(cell) {\\n\\t\\t\\treturn cell && (!!dom.getAttrib(cell.elm, 'data-mce-selected') || cell == selectedCell);\\n\\t\\t}\\n\\n\\t\\tfunction getSelectedRows() {\\n\\t\\t\\tvar rows = [];\\n\\n\\t\\t\\teach(table.rows, function(row) {\\n\\t\\t\\t\\teach(row.cells, function(cell) {\\n\\t\\t\\t\\t\\tif (dom.getAttrib(cell, 'data-mce-selected') || (selectedCell && cell == selectedCell.elm)) {\\n\\t\\t\\t\\t\\t\\trows.push(row);\\n\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn rows;\\n\\t\\t}\\n\\n\\t\\tfunction countSelectedCols() {\\n\\t\\t\\tvar cols = 0;\\n\\n\\t\\t\\teach(grid, function(row) {\\n\\t\\t\\t\\teach(row, function(cell) {\\n\\t\\t\\t\\t\\tif (isCellSelected(cell)) {\\n\\t\\t\\t\\t\\t\\tcols++;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\t\\t\\t\\tif (cols) {\\n\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn cols;\\n\\t\\t}\\n\\n\\t\\tfunction deleteTable() {\\n\\t\\t\\tvar rng = dom.createRng();\\n\\n\\t\\t\\tif (isEditorBody(table)) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\trng.setStartAfter(table);\\n\\t\\t\\trng.setEndAfter(table);\\n\\n\\t\\t\\tselection.setRng(rng);\\n\\n\\t\\t\\tdom.remove(table);\\n\\t\\t}\\n\\n\\t\\tfunction cloneCell(cell) {\\n\\t\\t\\tvar formatNode, cloneFormats = {};\\n\\n\\t\\t\\tif (editor.settings.table_clone_elements !== false) {\\n\\t\\t\\t\\tcloneFormats = Tools.makeMap(\\n\\t\\t\\t\\t\\t(editor.settings.table_clone_elements || 'strong em b i span font h1 h2 h3 h4 h5 h6 p div').toUpperCase(),\\n\\t\\t\\t\\t\\t/[ ,]/\\n\\t\\t\\t\\t);\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Clone formats\\n\\t\\t\\tTools.walk(cell, function(node) {\\n\\t\\t\\t\\tvar curNode;\\n\\n\\t\\t\\t\\tif (node.nodeType == 3) {\\n\\t\\t\\t\\t\\teach(dom.getParents(node.parentNode, null, cell).reverse(), function(node) {\\n\\t\\t\\t\\t\\t\\tif (!cloneFormats[node.nodeName]) {\\n\\t\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tnode = cloneNode(node, false);\\n\\n\\t\\t\\t\\t\\t\\tif (!formatNode) {\\n\\t\\t\\t\\t\\t\\t\\tformatNode = curNode = node;\\n\\t\\t\\t\\t\\t\\t} else if (curNode) {\\n\\t\\t\\t\\t\\t\\t\\tcurNode.appendChild(node);\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tcurNode = node;\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\t// Add something to the inner node\\n\\t\\t\\t\\t\\tif (curNode) {\\n\\t\\t\\t\\t\\t\\tcurNode.innerHTML = Env.ie && Env.ie < 10 ? '&nbsp;' : '<br data-mce-bogus=\\\"1\\\" />';\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}, 'childNodes');\\n\\n\\t\\t\\tcell = cloneNode(cell, false);\\n\\t\\t\\tfireNewCell(cell);\\n\\n\\t\\t\\tsetSpanVal(cell, 'rowSpan', 1);\\n\\t\\t\\tsetSpanVal(cell, 'colSpan', 1);\\n\\n\\t\\t\\tif (formatNode) {\\n\\t\\t\\t\\tcell.appendChild(formatNode);\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tUtils.paddCell(cell);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn cell;\\n\\t\\t}\\n\\n\\t\\tfunction cleanup() {\\n\\t\\t\\tvar rng = dom.createRng(), row;\\n\\n\\t\\t\\t// Empty rows\\n\\t\\t\\teach(dom.select('tr', table), function(tr) {\\n\\t\\t\\t\\tif (tr.cells.length === 0) {\\n\\t\\t\\t\\t\\tdom.remove(tr);\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\t// Empty table\\n\\t\\t\\tif (dom.select('tr', table).length === 0) {\\n\\t\\t\\t\\trng.setStartBefore(table);\\n\\t\\t\\t\\trng.setEndBefore(table);\\n\\t\\t\\t\\tselection.setRng(rng);\\n\\t\\t\\t\\tdom.remove(table);\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Empty header/body/footer\\n\\t\\t\\teach(dom.select('thead,tbody,tfoot', table), function(part) {\\n\\t\\t\\t\\tif (part.rows.length === 0) {\\n\\t\\t\\t\\t\\tdom.remove(part);\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\t// Restore selection to start position if it still exists\\n\\t\\t\\tbuildGrid();\\n\\n\\t\\t\\t// If we have a valid startPos object\\n\\t\\t\\tif (startPos) {\\n\\t\\t\\t\\t// Restore the selection to the closest table position\\n\\t\\t\\t\\trow = grid[Math.min(grid.length - 1, startPos.y)];\\n\\t\\t\\t\\tif (row) {\\n\\t\\t\\t\\t\\tselection.select(row[Math.min(row.length - 1, startPos.x)].elm, true);\\n\\t\\t\\t\\t\\tselection.collapse(true);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction fillLeftDown(x, y, rows, cols) {\\n\\t\\t\\tvar tr, x2, r, c, cell;\\n\\n\\t\\t\\ttr = grid[y][x].elm.parentNode;\\n\\t\\t\\tfor (r = 1; r <= rows; r++) {\\n\\t\\t\\t\\ttr = dom.getNext(tr, 'tr');\\n\\n\\t\\t\\t\\tif (tr) {\\n\\t\\t\\t\\t\\t// Loop left to find real cell\\n\\t\\t\\t\\t\\tfor (x2 = x; x2 >= 0; x2--) {\\n\\t\\t\\t\\t\\t\\tcell = grid[y + r][x2].elm;\\n\\n\\t\\t\\t\\t\\t\\tif (cell.parentNode == tr) {\\n\\t\\t\\t\\t\\t\\t\\t// Append clones after\\n\\t\\t\\t\\t\\t\\t\\tfor (c = 1; c <= cols; c++) {\\n\\t\\t\\t\\t\\t\\t\\t\\tdom.insertAfter(cloneCell(cell), cell);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (x2 == -1) {\\n\\t\\t\\t\\t\\t\\t// Insert nodes before first cell\\n\\t\\t\\t\\t\\t\\tfor (c = 1; c <= cols; c++) {\\n\\t\\t\\t\\t\\t\\t\\ttr.insertBefore(cloneCell(tr.cells[0]), tr.cells[0]);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction split() {\\n\\t\\t\\teach(grid, function(row, y) {\\n\\t\\t\\t\\teach(row, function(cell, x) {\\n\\t\\t\\t\\t\\tvar colSpan, rowSpan, i;\\n\\n\\t\\t\\t\\t\\tif (isCellSelected(cell)) {\\n\\t\\t\\t\\t\\t\\tcell = cell.elm;\\n\\t\\t\\t\\t\\t\\tcolSpan = getSpanVal(cell, 'colspan');\\n\\t\\t\\t\\t\\t\\trowSpan = getSpanVal(cell, 'rowspan');\\n\\n\\t\\t\\t\\t\\t\\tif (colSpan > 1 || rowSpan > 1) {\\n\\t\\t\\t\\t\\t\\t\\tsetSpanVal(cell, 'rowSpan', 1);\\n\\t\\t\\t\\t\\t\\t\\tsetSpanVal(cell, 'colSpan', 1);\\n\\n\\t\\t\\t\\t\\t\\t\\t// Insert cells right\\n\\t\\t\\t\\t\\t\\t\\tfor (i = 0; i < colSpan - 1; i++) {\\n\\t\\t\\t\\t\\t\\t\\t\\tdom.insertAfter(cloneCell(cell), cell);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tfillLeftDown(x, y, rowSpan - 1, colSpan);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\tfunction findItemsOutsideOfRange(items, start, end) {\\n\\t\\t\\tvar out = [];\\n\\n\\t\\t\\tfor (var i = 0; i < items.length; i++) {\\n\\t\\t\\t\\tif (i < start || i > end) {\\n\\t\\t\\t\\t\\tout.push(items[i]);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn out;\\n\\t\\t}\\n\\n\\t\\tfunction getFakeCells(cells) {\\n\\t\\t\\treturn Tools.grep(cells, function (cell) {\\n\\t\\t\\t\\treturn cell.real === false;\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\tfunction getUniqueElms(cells) {\\n\\t\\t\\tvar elms = [];\\n\\n\\t\\t\\tfor (var i = 0; i < cells.length; i++) {\\n\\t\\t\\t\\tvar elm = cells[i].elm;\\n\\t\\t\\t\\tif (elms[elms.length - 1] !== elm) {\\n\\t\\t\\t\\t\\telms.push(elm);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn elms;\\n\\t\\t}\\n\\n\\t\\tfunction reduceRowSpans(grid, startX, startY, endX, endY) {\\n\\t\\t\\tvar count = 0;\\n\\n\\t\\t\\tif (endY - startY < 1) {\\n\\t\\t\\t\\treturn 0;\\n\\t\\t\\t}\\n\\n\\t\\t\\tfor (var y = startY + 1; y <= endY; y++) {\\n\\t\\t\\t\\tvar allCells = findItemsOutsideOfRange(getRow(grid, y), startX, endX);\\n\\t\\t\\t\\tvar fakeCells = getFakeCells(allCells);\\n\\n\\t\\t\\t\\tif (allCells.length === fakeCells.length) {\\n\\t\\t\\t\\t\\tTools.each(getUniqueElms(fakeCells), function (elm) {\\n\\t\\t\\t\\t\\t\\tUtils.setRowSpan(elm, Utils.getRowSpan(elm) - 1);\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\tcount++;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn count;\\n\\t\\t}\\n\\n\\t\\tfunction reduceColSpans(grid, startX, startY, endX, endY) {\\n\\t\\t\\tvar count = 0;\\n\\n\\t\\t\\tif (endX - startX < 1) {\\n\\t\\t\\t\\treturn 0;\\n\\t\\t\\t}\\n\\n\\t\\t\\tfor (var x = startX + 1; x <= endX; x++) {\\n\\t\\t\\t\\tvar allCells = findItemsOutsideOfRange(getColumn(grid, x), startY, endY);\\n\\t\\t\\t\\tvar fakeCells = getFakeCells(allCells);\\n\\n\\t\\t\\t\\tif (allCells.length === fakeCells.length) {\\n\\t\\t\\t\\t\\tTools.each(getUniqueElms(fakeCells), function (elm) {\\n\\t\\t\\t\\t\\t\\tUtils.setColSpan(elm, Utils.getColSpan(elm) - 1);\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\tcount++;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn count;\\n\\t\\t}\\n\\n\\t\\tfunction merge(cell, cols, rows) {\\n\\t\\t\\tvar pos, startX, startY, endX, endY, x, y, startCell, endCell, children, count, reducedRows, reducedCols;\\n\\n\\t\\t\\t// Use specified cell and cols/rows\\n\\t\\t\\tif (cell) {\\n\\t\\t\\t\\tpos = getPos(cell);\\n\\t\\t\\t\\tstartX = pos.x;\\n\\t\\t\\t\\tstartY = pos.y;\\n\\t\\t\\t\\tendX = startX + (cols - 1);\\n\\t\\t\\t\\tendY = startY + (rows - 1);\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tstartPos = endPos = null;\\n\\n\\t\\t\\t\\t// Calculate start/end pos by checking for selected cells in grid works better with context menu\\n\\t\\t\\t\\teach(grid, function(row, y) {\\n\\t\\t\\t\\t\\teach(row, function(cell, x) {\\n\\t\\t\\t\\t\\t\\tif (isCellSelected(cell)) {\\n\\t\\t\\t\\t\\t\\t\\tif (!startPos) {\\n\\t\\t\\t\\t\\t\\t\\t\\tstartPos = {x: x, y: y};\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tendPos = {x: x, y: y};\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t// Use selection, but make sure startPos is valid before accessing\\n\\t\\t\\t\\tif (startPos) {\\n\\t\\t\\t\\t\\tstartX = startPos.x;\\n\\t\\t\\t\\t\\tstartY = startPos.y;\\n\\t\\t\\t\\t\\tendX = endPos.x;\\n\\t\\t\\t\\t\\tendY = endPos.y;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Find start/end cells\\n\\t\\t\\tstartCell = getCell(startX, startY);\\n\\t\\t\\tendCell = getCell(endX, endY);\\n\\n\\t\\t\\t// Check if the cells exists and if they are of the same part for example tbody = tbody\\n\\t\\t\\tif (startCell && endCell && startCell.part == endCell.part) {\\n\\t\\t\\t\\t// Split and rebuild grid\\n\\t\\t\\t\\tsplit();\\n\\t\\t\\t\\tbuildGrid();\\n\\n\\t\\t\\t\\treducedRows = reduceRowSpans(grid, startX, startY, endX, endY);\\n\\t\\t\\t\\treducedCols = reduceColSpans(grid, startX, startY, endX, endY);\\n\\n\\t\\t\\t\\t// Set row/col span to start cell\\n\\t\\t\\t\\tstartCell = getCell(startX, startY).elm;\\n\\t\\t\\t\\tvar colSpan = (endX - startX - reducedCols) + 1;\\n\\t\\t\\t\\tvar rowSpan = (endY - startY - reducedRows) + 1;\\n\\n\\t\\t\\t\\t// All cells in table selected then just make it a table with one cell\\n\\t\\t\\t\\tif (colSpan === gridWidth && rowSpan === grid.length) {\\n\\t\\t\\t\\t\\tcolSpan = 1;\\n\\t\\t\\t\\t\\trowSpan = 1;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Multiple whole rows selected then just make it one rowSpan\\n\\t\\t\\t\\tif (colSpan === gridWidth && rowSpan > 1) {\\n\\t\\t\\t\\t\\trowSpan = 1;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tsetSpanVal(startCell, 'colSpan', colSpan);\\n\\t\\t\\t\\tsetSpanVal(startCell, 'rowSpan', rowSpan);\\n\\n\\t\\t\\t\\t// Remove other cells and add it's contents to the start cell\\n\\t\\t\\t\\tfor (y = startY; y <= endY; y++) {\\n\\t\\t\\t\\t\\tfor (x = startX; x <= endX; x++) {\\n\\t\\t\\t\\t\\t\\tif (!grid[y] || !grid[y][x]) {\\n\\t\\t\\t\\t\\t\\t\\tcontinue;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tcell = grid[y][x].elm;\\n\\n\\t\\t\\t\\t\\t\\t/*jshint loopfunc:true */\\n\\t\\t\\t\\t\\t\\t/*eslint no-loop-func:0 */\\n\\t\\t\\t\\t\\t\\tif (cell != startCell) {\\n\\t\\t\\t\\t\\t\\t\\t// Move children to startCell\\n\\t\\t\\t\\t\\t\\t\\tchildren = Tools.grep(cell.childNodes);\\n\\t\\t\\t\\t\\t\\t\\teach(children, function(node) {\\n\\t\\t\\t\\t\\t\\t\\t\\tstartCell.appendChild(node);\\n\\t\\t\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\t\\t\\t// Remove bogus nodes if there is children in the target cell\\n\\t\\t\\t\\t\\t\\t\\tif (children.length) {\\n\\t\\t\\t\\t\\t\\t\\t\\tchildren = Tools.grep(startCell.childNodes);\\n\\t\\t\\t\\t\\t\\t\\t\\tcount = 0;\\n\\t\\t\\t\\t\\t\\t\\t\\teach(children, function(node) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tif (node.nodeName == 'BR' && count++ < children.length - 1) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tstartCell.removeChild(node);\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tdom.remove(cell);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Remove empty rows etc and restore caret location\\n\\t\\t\\t\\tcleanup();\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction insertRow(before) {\\n\\t\\t\\tvar posY, cell, lastCell, x, rowElm, newRow, newCell, otherCell, rowSpan, spanValue;\\n\\n\\t\\t\\t// Find first/last row\\n\\t\\t\\teach(grid, function(row, y) {\\n\\t\\t\\t\\teach(row, function(cell) {\\n\\t\\t\\t\\t\\tif (isCellSelected(cell)) {\\n\\t\\t\\t\\t\\t\\tcell = cell.elm;\\n\\t\\t\\t\\t\\t\\trowElm = cell.parentNode;\\n\\t\\t\\t\\t\\t\\tnewRow = fireNewRow(cloneNode(rowElm, false));\\n\\t\\t\\t\\t\\t\\tposY = y;\\n\\n\\t\\t\\t\\t\\t\\tif (before) {\\n\\t\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\tif (before) {\\n\\t\\t\\t\\t\\treturn posY === undefined;\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\t// If posY is undefined there is nothing for us to do here...just return to avoid crashing below\\n\\t\\t\\tif (posY === undefined) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tfor (x = 0, spanValue = 0; x < grid[0].length; x += spanValue) {\\n\\t\\t\\t\\t// Cell not found could be because of an invalid table structure\\n\\t\\t\\t\\tif (!grid[posY][x]) {\\n\\t\\t\\t\\t\\tcontinue;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tcell = grid[posY][x].elm;\\n\\t\\t\\t\\tspanValue = getSpanVal(cell, 'colspan');\\n\\n\\t\\t\\t\\tif (cell != lastCell) {\\n\\t\\t\\t\\t\\tif (!before) {\\n\\t\\t\\t\\t\\t\\trowSpan = getSpanVal(cell, 'rowspan');\\n\\t\\t\\t\\t\\t\\tif (rowSpan > 1) {\\n\\t\\t\\t\\t\\t\\t\\tsetSpanVal(cell, 'rowSpan', rowSpan + 1);\\n\\t\\t\\t\\t\\t\\t\\tcontinue;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t// Check if cell above can be expanded\\n\\t\\t\\t\\t\\t\\tif (posY > 0 && grid[posY - 1][x]) {\\n\\t\\t\\t\\t\\t\\t\\totherCell = grid[posY - 1][x].elm;\\n\\t\\t\\t\\t\\t\\t\\trowSpan = getSpanVal(otherCell, 'rowSpan');\\n\\t\\t\\t\\t\\t\\t\\tif (rowSpan > 1) {\\n\\t\\t\\t\\t\\t\\t\\t\\tsetSpanVal(otherCell, 'rowSpan', rowSpan + 1);\\n\\t\\t\\t\\t\\t\\t\\t\\tcontinue;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Insert new cell into new row\\n\\t\\t\\t\\t\\tnewCell = cloneCell(cell);\\n\\t\\t\\t\\t\\tsetSpanVal(newCell, 'colSpan', cell.colSpan);\\n\\n\\t\\t\\t\\t\\tnewRow.appendChild(newCell);\\n\\n\\t\\t\\t\\t\\tlastCell = cell;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (newRow.hasChildNodes()) {\\n\\t\\t\\t\\tif (!before) {\\n\\t\\t\\t\\t\\tdom.insertAfter(newRow, rowElm);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\trowElm.parentNode.insertBefore(newRow, rowElm);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction insertRows(before, num) {\\n\\t\\t\\tnum = num || getSelectedRows().length || 1;\\n\\t\\t\\tfor (var i = 0; i < num; i++) {\\n\\t\\t\\t\\tinsertRow(before);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction insertCol(before) {\\n\\t\\t\\tvar posX, lastCell;\\n\\n\\t\\t\\t// Find first/last column\\n\\t\\t\\teach(grid, function(row) {\\n\\t\\t\\t\\teach(row, function(cell, x) {\\n\\t\\t\\t\\t\\tif (isCellSelected(cell)) {\\n\\t\\t\\t\\t\\t\\tposX = x;\\n\\n\\t\\t\\t\\t\\t\\tif (before) {\\n\\t\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\tif (before) {\\n\\t\\t\\t\\t\\treturn posX === undefined;\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\teach(grid, function(row, y) {\\n\\t\\t\\t\\tvar cell, rowSpan, colSpan;\\n\\n\\t\\t\\t\\tif (!row[posX]) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tcell = row[posX].elm;\\n\\t\\t\\t\\tif (cell != lastCell) {\\n\\t\\t\\t\\t\\tcolSpan = getSpanVal(cell, 'colspan');\\n\\t\\t\\t\\t\\trowSpan = getSpanVal(cell, 'rowspan');\\n\\n\\t\\t\\t\\t\\tif (colSpan == 1) {\\n\\t\\t\\t\\t\\t\\tif (!before) {\\n\\t\\t\\t\\t\\t\\t\\tdom.insertAfter(cloneCell(cell), cell);\\n\\t\\t\\t\\t\\t\\t\\tfillLeftDown(posX, y, rowSpan - 1, colSpan);\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\tcell.parentNode.insertBefore(cloneCell(cell), cell);\\n\\t\\t\\t\\t\\t\\t\\tfillLeftDown(posX, y, rowSpan - 1, colSpan);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tsetSpanVal(cell, 'colSpan', cell.colSpan + 1);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tlastCell = cell;\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\tfunction insertCols(before, num) {\\n\\t\\t\\tnum = num || countSelectedCols() || 1;\\n\\t\\t\\tfor (var i = 0; i < num; i++) {\\n\\t\\t\\t\\tinsertCol(before);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction getSelectedCells(grid) {\\n\\t\\t\\treturn Tools.grep(getAllCells(grid), isCellSelected);\\n\\t\\t}\\n\\n\\t\\tfunction getAllCells(grid) {\\n\\t\\t\\tvar cells = [];\\n\\n\\t\\t\\teach(grid, function(row) {\\n\\t\\t\\t\\teach(row, function(cell) {\\n\\t\\t\\t\\t\\tcells.push(cell);\\n\\t\\t\\t\\t});\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn cells;\\n\\t\\t}\\n\\n\\t\\tfunction deleteCols() {\\n\\t\\t\\tvar cols = [];\\n\\n\\t\\t\\tif (isEditorBody(table)) {\\n\\t\\t\\t\\tif (grid[0].length == 1) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (getSelectedCells(grid).length == getAllCells(grid).length) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Get selected column indexes\\n\\t\\t\\teach(grid, function(row) {\\n\\t\\t\\t\\teach(row, function(cell, x) {\\n\\t\\t\\t\\t\\tif (isCellSelected(cell) && Tools.inArray(cols, x) === -1) {\\n\\t\\t\\t\\t\\t\\teach(grid, function(row) {\\n\\t\\t\\t\\t\\t\\t\\tvar cell = row[x].elm, colSpan;\\n\\n\\t\\t\\t\\t\\t\\t\\tcolSpan = getSpanVal(cell, 'colSpan');\\n\\n\\t\\t\\t\\t\\t\\t\\tif (colSpan > 1) {\\n\\t\\t\\t\\t\\t\\t\\t\\tsetSpanVal(cell, 'colSpan', colSpan - 1);\\n\\t\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\t\\tdom.remove(cell);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\t\\tcols.push(x);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\t\\t\\t});\\n\\n\\t\\t\\tcleanup();\\n\\t\\t}\\n\\n\\t\\tfunction deleteRows() {\\n\\t\\t\\tvar rows;\\n\\n\\t\\t\\tfunction deleteRow(tr) {\\n\\t\\t\\t\\tvar pos, lastCell;\\n\\n\\t\\t\\t\\t// Move down row spanned cells\\n\\t\\t\\t\\teach(tr.cells, function(cell) {\\n\\t\\t\\t\\t\\tvar rowSpan = getSpanVal(cell, 'rowSpan');\\n\\n\\t\\t\\t\\t\\tif (rowSpan > 1) {\\n\\t\\t\\t\\t\\t\\tsetSpanVal(cell, 'rowSpan', rowSpan - 1);\\n\\t\\t\\t\\t\\t\\tpos = getPos(cell);\\n\\t\\t\\t\\t\\t\\tfillLeftDown(pos.x, pos.y, 1, 1);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t// Delete cells\\n\\t\\t\\t\\tpos = getPos(tr.cells[0]);\\n\\t\\t\\t\\teach(grid[pos.y], function(cell) {\\n\\t\\t\\t\\t\\tvar rowSpan;\\n\\n\\t\\t\\t\\t\\tcell = cell.elm;\\n\\n\\t\\t\\t\\t\\tif (cell != lastCell) {\\n\\t\\t\\t\\t\\t\\trowSpan = getSpanVal(cell, 'rowSpan');\\n\\n\\t\\t\\t\\t\\t\\tif (rowSpan <= 1) {\\n\\t\\t\\t\\t\\t\\t\\tdom.remove(cell);\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\tsetSpanVal(cell, 'rowSpan', rowSpan - 1);\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tlastCell = cell;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Get selected rows and move selection out of scope\\n\\t\\t\\trows = getSelectedRows();\\n\\n\\t\\t\\tif (isEditorBody(table) && rows.length == table.rows.length) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Delete all selected rows\\n\\t\\t\\teach(rows.reverse(), function(tr) {\\n\\t\\t\\t\\tdeleteRow(tr);\\n\\t\\t\\t});\\n\\n\\t\\t\\tcleanup();\\n\\t\\t}\\n\\n\\t\\tfunction cutRows() {\\n\\t\\t\\tvar rows = getSelectedRows();\\n\\n\\t\\t\\tif (isEditorBody(table) && rows.length == table.rows.length) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tdom.remove(rows);\\n\\t\\t\\tcleanup();\\n\\n\\t\\t\\treturn rows;\\n\\t\\t}\\n\\n\\t\\tfunction copyRows() {\\n\\t\\t\\tvar rows = getSelectedRows();\\n\\n\\t\\t\\teach(rows, function(row, i) {\\n\\t\\t\\t\\trows[i] = cloneNode(row, true);\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn rows;\\n\\t\\t}\\n\\n\\t\\tfunction pasteRows(rows, before) {\\n\\t\\t\\tvar splitResult, targetRow, newRows;\\n\\n\\t\\t\\t// Nothing to paste\\n\\t\\t\\tif (!rows) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tsplitResult = SplitCols.splitAt(grid, startPos.x, startPos.y, before);\\n\\t\\t\\ttargetRow = splitResult.row;\\n\\t\\t\\tTools.each(splitResult.cells, fireNewCell);\\n\\n\\t\\t\\tnewRows = Tools.map(rows, function (row) {\\n\\t\\t\\t\\treturn row.cloneNode(true);\\n\\t\\t\\t});\\n\\n\\t\\t\\tif (!before) {\\n\\t\\t\\t\\tnewRows.reverse();\\n\\t\\t\\t}\\n\\n\\t\\t\\teach(newRows, function(row) {\\n\\t\\t\\t\\tvar i, cellCount = row.cells.length, cell;\\n\\n\\t\\t\\t\\tfireNewRow(row);\\n\\n\\t\\t\\t\\t// Remove col/rowspans\\n\\t\\t\\t\\tfor (i = 0; i < cellCount; i++) {\\n\\t\\t\\t\\t\\tcell = row.cells[i];\\n\\n\\t\\t\\t\\t\\tfireNewCell(cell);\\n\\t\\t\\t\\t\\tsetSpanVal(cell, 'colSpan', 1);\\n\\t\\t\\t\\t\\tsetSpanVal(cell, 'rowSpan', 1);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Needs more cells\\n\\t\\t\\t\\tfor (i = cellCount; i < gridWidth; i++) {\\n\\t\\t\\t\\t\\trow.appendChild(fireNewCell(cloneCell(row.cells[cellCount - 1])));\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Needs less cells\\n\\t\\t\\t\\tfor (i = gridWidth; i < cellCount; i++) {\\n\\t\\t\\t\\t\\tdom.remove(row.cells[i]);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Add before/after\\n\\t\\t\\t\\tif (before) {\\n\\t\\t\\t\\t\\ttargetRow.parentNode.insertBefore(row, targetRow);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tdom.insertAfter(row, targetRow);\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\tremoveCellSelection();\\n\\t\\t}\\n\\n\\t\\tfunction getPos(target) {\\n\\t\\t\\tvar pos;\\n\\n\\t\\t\\teach(grid, function(row, y) {\\n\\t\\t\\t\\teach(row, function(cell, x) {\\n\\t\\t\\t\\t\\tif (cell.elm == target) {\\n\\t\\t\\t\\t\\t\\tpos = {x: x, y: y};\\n\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\treturn !pos;\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn pos;\\n\\t\\t}\\n\\n\\t\\tfunction setStartCell(cell) {\\n\\t\\t\\tstartPos = getPos(cell);\\n\\t\\t}\\n\\n\\t\\tfunction findEndPos() {\\n\\t\\t\\tvar maxX, maxY;\\n\\n\\t\\t\\tmaxX = maxY = 0;\\n\\n\\t\\t\\teach(grid, function(row, y) {\\n\\t\\t\\t\\teach(row, function(cell, x) {\\n\\t\\t\\t\\t\\tvar colSpan, rowSpan;\\n\\n\\t\\t\\t\\t\\tif (isCellSelected(cell)) {\\n\\t\\t\\t\\t\\t\\tcell = grid[y][x];\\n\\n\\t\\t\\t\\t\\t\\tif (x > maxX) {\\n\\t\\t\\t\\t\\t\\t\\tmaxX = x;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tif (y > maxY) {\\n\\t\\t\\t\\t\\t\\t\\tmaxY = y;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tif (cell.real) {\\n\\t\\t\\t\\t\\t\\t\\tcolSpan = cell.colspan - 1;\\n\\t\\t\\t\\t\\t\\t\\trowSpan = cell.rowspan - 1;\\n\\n\\t\\t\\t\\t\\t\\t\\tif (colSpan) {\\n\\t\\t\\t\\t\\t\\t\\t\\tif (x + colSpan > maxX) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tmaxX = x + colSpan;\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tif (rowSpan) {\\n\\t\\t\\t\\t\\t\\t\\t\\tif (y + rowSpan > maxY) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tmaxY = y + rowSpan;\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn {x: maxX, y: maxY};\\n\\t\\t}\\n\\n\\t\\tfunction setEndCell(cell) {\\n\\t\\t\\tvar startX, startY, endX, endY, maxX, maxY, colSpan, rowSpan, x, y;\\n\\n\\t\\t\\tendPos = getPos(cell);\\n\\n\\t\\t\\tif (startPos && endPos) {\\n\\t\\t\\t\\t// Get start/end positions\\n\\t\\t\\t\\tstartX = Math.min(startPos.x, endPos.x);\\n\\t\\t\\t\\tstartY = Math.min(startPos.y, endPos.y);\\n\\t\\t\\t\\tendX = Math.max(startPos.x, endPos.x);\\n\\t\\t\\t\\tendY = Math.max(startPos.y, endPos.y);\\n\\n\\t\\t\\t\\t// Expand end position to include spans\\n\\t\\t\\t\\tmaxX = endX;\\n\\t\\t\\t\\tmaxY = endY;\\n\\n\\t\\t\\t\\t// This logic tried to expand the selection to always be a rectangle\\n\\t\\t\\t\\t// Expand startX\\n\\t\\t\\t\\t/*for (y = startY; y <= maxY; y++) {\\n\\t\\t\\t\\t\\tcell = grid[y][startX];\\n\\n\\t\\t\\t\\t\\tif (!cell.real) {\\n\\t\\t\\t\\t\\t\\tnewX = startX - (cell.colspan - 1);\\n\\t\\t\\t\\t\\t\\tif (newX < startX && newX >= 0) {\\n\\t\\t\\t\\t\\t\\t\\tstartX = newX;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Expand startY\\n\\t\\t\\t\\tfor (x = startX; x <= maxX; x++) {\\n\\t\\t\\t\\t\\tcell = grid[startY][x];\\n\\n\\t\\t\\t\\t\\tif (!cell.real) {\\n\\t\\t\\t\\t\\t\\tnewY = startY - (cell.rowspan - 1);\\n\\t\\t\\t\\t\\t\\tif (newY < startY && newY >= 0) {\\n\\t\\t\\t\\t\\t\\t\\tstartY = newY;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}*/\\n\\n\\t\\t\\t\\t// Find max X, Y\\n\\t\\t\\t\\tfor (y = startY; y <= endY; y++) {\\n\\t\\t\\t\\t\\tfor (x = startX; x <= endX; x++) {\\n\\t\\t\\t\\t\\t\\tcell = grid[y][x];\\n\\n\\t\\t\\t\\t\\t\\tif (cell.real) {\\n\\t\\t\\t\\t\\t\\t\\tcolSpan = cell.colspan - 1;\\n\\t\\t\\t\\t\\t\\t\\trowSpan = cell.rowspan - 1;\\n\\n\\t\\t\\t\\t\\t\\t\\tif (colSpan) {\\n\\t\\t\\t\\t\\t\\t\\t\\tif (x + colSpan > maxX) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tmaxX = x + colSpan;\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tif (rowSpan) {\\n\\t\\t\\t\\t\\t\\t\\t\\tif (y + rowSpan > maxY) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tmaxY = y + rowSpan;\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tremoveCellSelection();\\n\\n\\t\\t\\t\\t// Add new selection\\n\\t\\t\\t\\tfor (y = startY; y <= maxY; y++) {\\n\\t\\t\\t\\t\\tfor (x = startX; x <= maxX; x++) {\\n\\t\\t\\t\\t\\t\\tif (grid[y][x]) {\\n\\t\\t\\t\\t\\t\\t\\tdom.setAttrib(grid[y][x].elm, 'data-mce-selected', '1');\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction moveRelIdx(cellElm, delta) {\\n\\t\\t\\tvar pos, index, cell;\\n\\n\\t\\t\\tpos = getPos(cellElm);\\n\\t\\t\\tindex = pos.y * gridWidth + pos.x;\\n\\n\\t\\t\\tdo {\\n\\t\\t\\t\\tindex += delta;\\n\\t\\t\\t\\tcell = getCell(index % gridWidth, Math.floor(index / gridWidth));\\n\\n\\t\\t\\t\\tif (!cell) {\\n\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (cell.elm != cellElm) {\\n\\t\\t\\t\\t\\tselection.select(cell.elm, true);\\n\\n\\t\\t\\t\\t\\tif (dom.isEmpty(cell.elm)) {\\n\\t\\t\\t\\t\\t\\tselection.collapse(true);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t}\\n\\t\\t\\t} while (cell.elm == cellElm);\\n\\n\\t\\t\\treturn false;\\n\\t\\t}\\n\\n\\t\\tfunction splitCols(before) {\\n\\t\\t\\tif (startPos) {\\n\\t\\t\\t\\tvar splitResult = SplitCols.splitAt(grid, startPos.x, startPos.y, before);\\n\\t\\t\\t\\tTools.each(splitResult.cells, fireNewCell);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\ttable = table || dom.getParent(selection.getStart(true), 'table');\\n\\n\\t\\tbuildGrid();\\n\\n\\t\\tselectedCell = selectedCell || dom.getParent(selection.getStart(true), 'th,td');\\n\\n\\t\\tif (selectedCell) {\\n\\t\\t\\tstartPos = getPos(selectedCell);\\n\\t\\t\\tendPos = findEndPos();\\n\\t\\t\\tselectedCell = getCell(startPos.x, startPos.y);\\n\\t\\t}\\n\\n\\t\\tTools.extend(this, {\\n\\t\\t\\tdeleteTable: deleteTable,\\n\\t\\t\\tsplit: split,\\n\\t\\t\\tmerge: merge,\\n\\t\\t\\tinsertRow: insertRow,\\n\\t\\t\\tinsertRows: insertRows,\\n\\t\\t\\tinsertCol: insertCol,\\n\\t\\t\\tinsertCols: insertCols,\\n\\t\\t\\tsplitCols: splitCols,\\n\\t\\t\\tdeleteCols: deleteCols,\\n\\t\\t\\tdeleteRows: deleteRows,\\n\\t\\t\\tcutRows: cutRows,\\n\\t\\t\\tcopyRows: copyRows,\\n\\t\\t\\tpasteRows: pasteRows,\\n\\t\\t\\tgetPos: getPos,\\n\\t\\t\\tsetStartCell: setStartCell,\\n\\t\\t\\tsetEndCell: setEndCell,\\n\\t\\t\\tmoveRelIdx: moveRelIdx,\\n\\t\\t\\trefresh: buildGrid\\n\\t\\t});\\n\\t};\\n});\\n\\n// Included from: js/tinymce/plugins/table/classes/Quirks.js\\n\\n/**\\n * Quirks.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class includes fixes for various browser quirks.\\n *\\n * @class tinymce.tableplugin.Quirks\\n * @private\\n */\\ndefine(\\\"tinymce/tableplugin/Quirks\\\", [\\n\\t\\\"tinymce/util/VK\\\",\\n\\t\\\"tinymce/util/Delay\\\",\\n\\t\\\"tinymce/Env\\\",\\n\\t\\\"tinymce/util/Tools\\\",\\n\\t\\\"tinymce/tableplugin/Utils\\\"\\n], function(VK, Delay, Env, Tools, Utils) {\\n\\tvar each = Tools.each, getSpanVal = Utils.getSpanVal;\\n\\n\\treturn function(editor) {\\n\\t\\t/**\\n\\t\\t * Fixed caret movement around tables on WebKit.\\n\\t\\t */\\n\\t\\tfunction moveWebKitSelection() {\\n\\t\\t\\tfunction eventHandler(e) {\\n\\t\\t\\t\\tvar key = e.keyCode;\\n\\n\\t\\t\\t\\tfunction handle(upBool, sourceNode) {\\n\\t\\t\\t\\t\\tvar siblingDirection = upBool ? 'previousSibling' : 'nextSibling';\\n\\t\\t\\t\\t\\tvar currentRow = editor.dom.getParent(sourceNode, 'tr');\\n\\t\\t\\t\\t\\tvar siblingRow = currentRow[siblingDirection];\\n\\n\\t\\t\\t\\t\\tif (siblingRow) {\\n\\t\\t\\t\\t\\t\\tmoveCursorToRow(editor, sourceNode, siblingRow, upBool);\\n\\t\\t\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tvar tableNode = editor.dom.getParent(currentRow, 'table');\\n\\t\\t\\t\\t\\tvar middleNode = currentRow.parentNode;\\n\\t\\t\\t\\t\\tvar parentNodeName = middleNode.nodeName.toLowerCase();\\n\\t\\t\\t\\t\\tif (parentNodeName === 'tbody' || parentNodeName === (upBool ? 'tfoot' : 'thead')) {\\n\\t\\t\\t\\t\\t\\tvar targetParent = getTargetParent(upBool, tableNode, middleNode, 'tbody');\\n\\t\\t\\t\\t\\t\\tif (targetParent !== null) {\\n\\t\\t\\t\\t\\t\\t\\treturn moveToRowInTarget(upBool, targetParent, sourceNode);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\treturn escapeTable(upBool, currentRow, siblingDirection, tableNode);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfunction getTargetParent(upBool, topNode, secondNode, nodeName) {\\n\\t\\t\\t\\t\\tvar tbodies = editor.dom.select('>' + nodeName, topNode);\\n\\t\\t\\t\\t\\tvar position = tbodies.indexOf(secondNode);\\n\\t\\t\\t\\t\\tif (upBool && position === 0 || !upBool && position === tbodies.length - 1) {\\n\\t\\t\\t\\t\\t\\treturn getFirstHeadOrFoot(upBool, topNode);\\n\\t\\t\\t\\t\\t} else if (position === -1) {\\n\\t\\t\\t\\t\\t\\tvar topOrBottom = secondNode.tagName.toLowerCase() === 'thead' ? 0 : tbodies.length - 1;\\n\\t\\t\\t\\t\\t\\treturn tbodies[topOrBottom];\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\treturn tbodies[position + (upBool ? -1 : 1)];\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfunction getFirstHeadOrFoot(upBool, parent) {\\n\\t\\t\\t\\t\\tvar tagName = upBool ? 'thead' : 'tfoot';\\n\\t\\t\\t\\t\\tvar headOrFoot = editor.dom.select('>' + tagName, parent);\\n\\t\\t\\t\\t\\treturn headOrFoot.length !== 0 ? headOrFoot[0] : null;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfunction moveToRowInTarget(upBool, targetParent, sourceNode) {\\n\\t\\t\\t\\t\\tvar targetRow = getChildForDirection(targetParent, upBool);\\n\\n\\t\\t\\t\\t\\tif (targetRow) {\\n\\t\\t\\t\\t\\t\\tmoveCursorToRow(editor, sourceNode, targetRow, upBool);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfunction escapeTable(upBool, currentRow, siblingDirection, table) {\\n\\t\\t\\t\\t\\tvar tableSibling = table[siblingDirection];\\n\\n\\t\\t\\t\\t\\tif (tableSibling) {\\n\\t\\t\\t\\t\\t\\tmoveCursorToStartOfElement(tableSibling);\\n\\t\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tvar parentCell = editor.dom.getParent(table, 'td,th');\\n\\t\\t\\t\\t\\tif (parentCell) {\\n\\t\\t\\t\\t\\t\\treturn handle(upBool, parentCell, e);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tvar backUpSibling = getChildForDirection(currentRow, !upBool);\\n\\t\\t\\t\\t\\tmoveCursorToStartOfElement(backUpSibling);\\n\\t\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfunction getChildForDirection(parent, up) {\\n\\t\\t\\t\\t\\tvar child = parent && parent[up ? 'lastChild' : 'firstChild'];\\n\\t\\t\\t\\t\\t// BR is not a valid table child to return in this case we return the table cell\\n\\t\\t\\t\\t\\treturn child && child.nodeName === 'BR' ? editor.dom.getParent(child, 'td,th') : child;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfunction moveCursorToStartOfElement(n) {\\n\\t\\t\\t\\t\\teditor.selection.setCursorLocation(n, 0);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfunction isVerticalMovement() {\\n\\t\\t\\t\\t\\treturn key == VK.UP || key == VK.DOWN;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfunction isInTable(editor) {\\n\\t\\t\\t\\t\\tvar node = editor.selection.getNode();\\n\\t\\t\\t\\t\\tvar currentRow = editor.dom.getParent(node, 'tr');\\n\\t\\t\\t\\t\\treturn currentRow !== null;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfunction columnIndex(column) {\\n\\t\\t\\t\\t\\tvar colIndex = 0;\\n\\t\\t\\t\\t\\tvar c = column;\\n\\t\\t\\t\\t\\twhile (c.previousSibling) {\\n\\t\\t\\t\\t\\t\\tc = c.previousSibling;\\n\\t\\t\\t\\t\\t\\tcolIndex = colIndex + getSpanVal(c, \\\"colspan\\\");\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\treturn colIndex;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfunction findColumn(rowElement, columnIndex) {\\n\\t\\t\\t\\t\\tvar c = 0, r = 0;\\n\\n\\t\\t\\t\\t\\teach(rowElement.children, function(cell, i) {\\n\\t\\t\\t\\t\\t\\tc = c + getSpanVal(cell, \\\"colspan\\\");\\n\\t\\t\\t\\t\\t\\tr = i;\\n\\t\\t\\t\\t\\t\\tif (c > columnIndex) {\\n\\t\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\treturn r;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfunction moveCursorToRow(ed, node, row, upBool) {\\n\\t\\t\\t\\t\\tvar srcColumnIndex = columnIndex(editor.dom.getParent(node, 'td,th'));\\n\\t\\t\\t\\t\\tvar tgtColumnIndex = findColumn(row, srcColumnIndex);\\n\\t\\t\\t\\t\\tvar tgtNode = row.childNodes[tgtColumnIndex];\\n\\t\\t\\t\\t\\tvar rowCellTarget = getChildForDirection(tgtNode, upBool);\\n\\t\\t\\t\\t\\tmoveCursorToStartOfElement(rowCellTarget || tgtNode);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfunction shouldFixCaret(preBrowserNode) {\\n\\t\\t\\t\\t\\tvar newNode = editor.selection.getNode();\\n\\t\\t\\t\\t\\tvar newParent = editor.dom.getParent(newNode, 'td,th');\\n\\t\\t\\t\\t\\tvar oldParent = editor.dom.getParent(preBrowserNode, 'td,th');\\n\\n\\t\\t\\t\\t\\treturn newParent && newParent !== oldParent && checkSameParentTable(newParent, oldParent);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfunction checkSameParentTable(nodeOne, NodeTwo) {\\n\\t\\t\\t\\t\\treturn editor.dom.getParent(nodeOne, 'TABLE') === editor.dom.getParent(NodeTwo, 'TABLE');\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (isVerticalMovement() && isInTable(editor)) {\\n\\t\\t\\t\\t\\tvar preBrowserNode = editor.selection.getNode();\\n\\t\\t\\t\\t\\tDelay.setEditorTimeout(editor, function() {\\n\\t\\t\\t\\t\\t\\tif (shouldFixCaret(preBrowserNode)) {\\n\\t\\t\\t\\t\\t\\t\\thandle(!e.shiftKey && key === VK.UP, preBrowserNode, e);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}, 0);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\teditor.on('KeyDown', function(e) {\\n\\t\\t\\t\\teventHandler(e);\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\tfunction fixBeforeTableCaretBug() {\\n\\t\\t\\t// Checks if the selection/caret is at the start of the specified block element\\n\\t\\t\\tfunction isAtStart(rng, par) {\\n\\t\\t\\t\\tvar doc = par.ownerDocument, rng2 = doc.createRange(), elm;\\n\\n\\t\\t\\t\\trng2.setStartBefore(par);\\n\\t\\t\\t\\trng2.setEnd(rng.endContainer, rng.endOffset);\\n\\n\\t\\t\\t\\telm = doc.createElement('body');\\n\\t\\t\\t\\telm.appendChild(rng2.cloneContents());\\n\\n\\t\\t\\t\\t// Check for text characters of other elements that should be treated as content\\n\\t\\t\\t\\treturn elm.innerHTML.replace(/<(br|img|object|embed|input|textarea)[^>]*>/gi, '-').replace(/<[^>]+>/g, '').length === 0;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Fixes an bug where it's impossible to place the caret before a table in Gecko\\n\\t\\t\\t// this fix solves it by detecting when the caret is at the beginning of such a table\\n\\t\\t\\t// and then manually moves the caret infront of the table\\n\\t\\t\\teditor.on('KeyDown', function(e) {\\n\\t\\t\\t\\tvar rng, table, dom = editor.dom;\\n\\n\\t\\t\\t\\t// On gecko it's not possible to place the caret before a table\\n\\t\\t\\t\\tif (e.keyCode == 37 || e.keyCode == 38) {\\n\\t\\t\\t\\t\\trng = editor.selection.getRng();\\n\\t\\t\\t\\t\\ttable = dom.getParent(rng.startContainer, 'table');\\n\\n\\t\\t\\t\\t\\tif (table && editor.getBody().firstChild == table) {\\n\\t\\t\\t\\t\\t\\tif (isAtStart(rng, table)) {\\n\\t\\t\\t\\t\\t\\t\\trng = dom.createRng();\\n\\n\\t\\t\\t\\t\\t\\t\\trng.setStartBefore(table);\\n\\t\\t\\t\\t\\t\\t\\trng.setEndBefore(table);\\n\\n\\t\\t\\t\\t\\t\\t\\teditor.selection.setRng(rng);\\n\\n\\t\\t\\t\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\t// Fixes an issue on Gecko where it's impossible to place the caret behind a table\\n\\t\\t// This fix will force a paragraph element after the table but only when the forced_root_block setting is enabled\\n\\t\\tfunction fixTableCaretPos() {\\n\\t\\t\\teditor.on('KeyDown SetContent VisualAid', function() {\\n\\t\\t\\t\\tvar last;\\n\\n\\t\\t\\t\\t// Skip empty text nodes from the end\\n\\t\\t\\t\\tfor (last = editor.getBody().lastChild; last; last = last.previousSibling) {\\n\\t\\t\\t\\t\\tif (last.nodeType == 3) {\\n\\t\\t\\t\\t\\t\\tif (last.nodeValue.length > 0) {\\n\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t} else if (last.nodeType == 1 && (last.tagName == 'BR' || !last.getAttribute('data-mce-bogus'))) {\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (last && last.nodeName == 'TABLE') {\\n\\t\\t\\t\\t\\tif (editor.settings.forced_root_block) {\\n\\t\\t\\t\\t\\t\\teditor.dom.add(\\n\\t\\t\\t\\t\\t\\t\\teditor.getBody(),\\n\\t\\t\\t\\t\\t\\t\\teditor.settings.forced_root_block,\\n\\t\\t\\t\\t\\t\\t\\teditor.settings.forced_root_block_attrs,\\n\\t\\t\\t\\t\\t\\t\\tEnv.ie && Env.ie < 10 ? '&nbsp;' : '<br data-mce-bogus=\\\"1\\\" />'\\n\\t\\t\\t\\t\\t\\t);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\teditor.dom.add(editor.getBody(), 'br', {'data-mce-bogus': '1'});\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\teditor.on('PreProcess', function(o) {\\n\\t\\t\\t\\tvar last = o.node.lastChild;\\n\\n\\t\\t\\t\\tif (last && (last.nodeName == \\\"BR\\\" || (last.childNodes.length == 1 &&\\n\\t\\t\\t\\t\\t(last.firstChild.nodeName == 'BR' || last.firstChild.nodeValue == '\\\\u00a0'))) &&\\n\\t\\t\\t\\t\\tlast.previousSibling && last.previousSibling.nodeName == \\\"TABLE\\\") {\\n\\t\\t\\t\\t\\teditor.dom.remove(last);\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\t// this nasty hack is here to work around some WebKit selection bugs.\\n\\t\\tfunction fixTableCellSelection() {\\n\\t\\t\\tfunction tableCellSelected(ed, rng, n, currentCell) {\\n\\t\\t\\t\\t// The decision of when a table cell is selected is somewhat involved.  The fact that this code is\\n\\t\\t\\t\\t// required is actually a pointer to the root cause of this bug. A cell is selected when the start\\n\\t\\t\\t\\t// and end offsets are 0, the start container is a text, and the selection node is either a TR (most cases)\\n\\t\\t\\t\\t// or the parent of the table (in the case of the selection containing the last cell of a table).\\n\\t\\t\\t\\tvar TEXT_NODE = 3, table = ed.dom.getParent(rng.startContainer, 'TABLE');\\n\\t\\t\\t\\tvar tableParent, allOfCellSelected, tableCellSelection;\\n\\n\\t\\t\\t\\tif (table) {\\n\\t\\t\\t\\t\\ttableParent = table.parentNode;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tallOfCellSelected = rng.startContainer.nodeType == TEXT_NODE &&\\n\\t\\t\\t\\t\\trng.startOffset === 0 &&\\n\\t\\t\\t\\t\\trng.endOffset === 0 &&\\n\\t\\t\\t\\t\\tcurrentCell &&\\n\\t\\t\\t\\t\\t(n.nodeName == \\\"TR\\\" || n == tableParent);\\n\\n\\t\\t\\t\\ttableCellSelection = (n.nodeName == \\\"TD\\\" || n.nodeName == \\\"TH\\\") && !currentCell;\\n\\n\\t\\t\\t\\treturn allOfCellSelected || tableCellSelection;\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction fixSelection() {\\n\\t\\t\\t\\tvar rng = editor.selection.getRng();\\n\\t\\t\\t\\tvar n = editor.selection.getNode();\\n\\t\\t\\t\\tvar currentCell = editor.dom.getParent(rng.startContainer, 'TD,TH');\\n\\n\\t\\t\\t\\tif (!tableCellSelected(editor, rng, n, currentCell)) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (!currentCell) {\\n\\t\\t\\t\\t\\tcurrentCell = n;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Get the very last node inside the table cell\\n\\t\\t\\t\\tvar end = currentCell.lastChild;\\n\\t\\t\\t\\twhile (end.lastChild) {\\n\\t\\t\\t\\t\\tend = end.lastChild;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Select the entire table cell. Nothing outside of the table cell should be selected.\\n\\t\\t\\t\\tif (end.nodeType == 3) {\\n\\t\\t\\t\\t\\trng.setEnd(end, end.data.length);\\n\\t\\t\\t\\t\\teditor.selection.setRng(rng);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\teditor.on('KeyDown', function() {\\n\\t\\t\\t\\tfixSelection();\\n\\t\\t\\t});\\n\\n\\t\\t\\teditor.on('MouseDown', function(e) {\\n\\t\\t\\t\\tif (e.button != 2) {\\n\\t\\t\\t\\t\\tfixSelection();\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Delete table if all cells are selected.\\n\\t\\t */\\n\\t\\tfunction deleteTable() {\\n\\t\\t\\tfunction placeCaretInCell(cell) {\\n\\t\\t\\t\\teditor.selection.select(cell, true);\\n\\t\\t\\t\\teditor.selection.collapse(true);\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction clearCell(cell) {\\n\\t\\t\\t\\teditor.$(cell).empty();\\n\\t\\t\\t\\tUtils.paddCell(cell);\\n\\t\\t\\t}\\n\\n\\t\\t\\teditor.on('keydown', function(e) {\\n\\t\\t\\t\\tif ((e.keyCode == VK.DELETE || e.keyCode == VK.BACKSPACE) && !e.isDefaultPrevented()) {\\n\\t\\t\\t\\t\\tvar table, tableCells, selectedTableCells, cell;\\n\\n\\t\\t\\t\\t\\ttable = editor.dom.getParent(editor.selection.getStart(), 'table');\\n\\t\\t\\t\\t\\tif (table) {\\n\\t\\t\\t\\t\\t\\ttableCells = editor.dom.select('td,th', table);\\n\\t\\t\\t\\t\\t\\tselectedTableCells = Tools.grep(tableCells, function(cell) {\\n\\t\\t\\t\\t\\t\\t\\treturn !!editor.dom.getAttrib(cell, 'data-mce-selected');\\n\\t\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\t\\tif (selectedTableCells.length === 0) {\\n\\t\\t\\t\\t\\t\\t\\t// If caret is within an empty table cell then empty it for real\\n\\t\\t\\t\\t\\t\\t\\tcell = editor.dom.getParent(editor.selection.getStart(), 'td,th');\\n\\t\\t\\t\\t\\t\\t\\tif (editor.selection.isCollapsed() && cell && editor.dom.isEmpty(cell)) {\\n\\t\\t\\t\\t\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t\\t\\t\\t\\t\\tclearCell(cell);\\n\\t\\t\\t\\t\\t\\t\\t\\tplaceCaretInCell(cell);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\te.preventDefault();\\n\\n\\t\\t\\t\\t\\t\\teditor.undoManager.transact(function() {\\n\\t\\t\\t\\t\\t\\t\\tif (tableCells.length == selectedTableCells.length) {\\n\\t\\t\\t\\t\\t\\t\\t\\teditor.execCommand('mceTableDelete');\\n\\t\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\t\\tTools.each(selectedTableCells, clearCell);\\n\\t\\t\\t\\t\\t\\t\\t\\tplaceCaretInCell(selectedTableCells[0]);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * When caption is empty and we continue to delete, caption gets deleted along with the contents.\\n\\t\\t * So, we take over delete operation (both forward and backward) and once caption is empty, we do\\n\\t\\t * prevent it from disappearing.\\n\\t\\t */\\n\\t\\tfunction handleDeleteInCaption() {\\n\\t\\t\\tvar isTableCaptionNode = function(node) {\\n\\t\\t\\t\\treturn node && node.nodeName == 'CAPTION' && node.parentNode.nodeName == 'TABLE';\\n\\t\\t\\t};\\n\\n\\t\\t\\tvar restoreCaretPlaceholder = function(node, insertCaret) {\\n\\t\\t\\t\\tvar rng = editor.selection.getRng();\\n\\t\\t\\t\\tvar caretNode = node.ownerDocument.createTextNode('\\\\u00a0');\\n\\n\\t\\t\\t\\t// we could always append it, but caretNode somehow gets appended before caret,\\n\\t\\t\\t\\t// rather then after it, effectively preventing backspace deletion\\n\\t\\t\\t\\tif (rng.startOffset) {\\n\\t\\t\\t\\t\\tnode.insertBefore(caretNode, node.firstChild);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tnode.appendChild(caretNode);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (insertCaret) {\\n\\t\\t\\t\\t\\t// put the caret into the placeholder\\n\\t\\t\\t\\t\\teditor.selection.select(caretNode, true);\\n\\t\\t\\t\\t\\teditor.selection.collapse(true);\\n\\t\\t\\t\\t}\\n\\t\\t\\t};\\n\\n\\t\\t\\tvar deleteBtnPressed = function(e) {\\n\\t\\t\\t\\treturn (e.keyCode == VK.DELETE || e.keyCode == VK.BACKSPACE) && !e.isDefaultPrevented();\\n\\t\\t\\t};\\n\\n\\t\\t\\tvar getSingleChildNode = function(node) {\\n\\t\\t\\t\\treturn node.firstChild === node.lastChild && node.firstChild;\\n\\t\\t\\t};\\n\\n\\t\\t\\tvar isTextNode = function(node) {\\n\\t\\t\\t\\treturn node && node.nodeType === 3;\\n\\t\\t\\t};\\n\\n\\t\\t\\tvar getSingleChr = function(node) {\\n\\t\\t\\t\\tvar childNode = getSingleChildNode(node);\\n\\t\\t\\t\\treturn isTextNode(childNode) && childNode.data.length === 1 ? childNode.data : null;\\n\\t\\t\\t};\\n\\n\\t\\t\\tvar hasNoCaretPlaceholder = function(node) {\\n\\t\\t\\t\\tvar childNode = getSingleChildNode(node);\\n\\t\\t\\t\\tvar chr = getSingleChr(node);\\n\\t\\t\\t\\treturn childNode && !isTextNode(childNode) || chr && !isNBSP(chr);\\n\\t\\t\\t};\\n\\n\\t\\t\\tvar isEmptyNode = function(node) {\\n\\t\\t\\t\\treturn editor.dom.isEmpty(node) || isNBSP(getSingleChr(node));\\n\\t\\t\\t};\\n\\n\\t\\t\\tvar isNBSP = function(chr) {\\n\\t\\t\\t\\treturn chr === '\\\\u00a0';\\n\\t\\t\\t};\\n\\n\\t\\t\\teditor.on('keydown', function(e) {\\n\\t\\t\\t\\tif (!deleteBtnPressed(e)) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tvar container = editor.dom.getParent(editor.selection.getStart(), 'caption');\\n\\t\\t\\t\\tif (!isTableCaptionNode(container)) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// in IE caption collapses if caret placeholder is deleted (and it is very much possible)\\n\\t\\t\\t\\tif (Env.ie) {\\n\\t\\t\\t\\t\\tif (!editor.selection.isCollapsed()) {\\n\\t\\t\\t\\t\\t\\t// if the whole contents are selected, caret placeholder will be deleted too\\n\\t\\t\\t\\t\\t\\t// and we take over delete operation here to restore it if this happens\\n\\t\\t\\t\\t\\t\\teditor.undoManager.transact(function () {\\n\\t\\t\\t\\t\\t\\t\\teditor.execCommand('Delete');\\n\\n\\t\\t\\t\\t\\t\\t\\tif (isEmptyNode(container)) {\\n\\t\\t\\t\\t\\t\\t\\t\\t// caret springs off from the caption (to the first td), we need to bring it back as well\\n\\t\\t\\t\\t\\t\\t\\t\\trestoreCaretPlaceholder(container, true);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t\\t\\t} else if (hasNoCaretPlaceholder(container)) {\\n\\t\\t\\t\\t\\t\\t// if caret placeholder got accidentally deleted and caption will collapse\\n\\t\\t\\t\\t\\t\\t// after this operation, we need to put placeholder back\\n\\t\\t\\t\\t\\t\\trestoreCaretPlaceholder(container);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// TODO:\\n\\t\\t\\t\\t// 1. in Chrome it is easily possible to select beyond the boundaries of the caption,\\n\\t\\t\\t\\t// currently this results in removal of the contents with the whole caption as well;\\n\\t\\t\\t\\t// 2. we could take over delete operation to address this, but then we will need to adjust\\n\\t\\t\\t\\t// the selection, otherwise delete operation will remove first row of the table too;\\n\\t\\t\\t\\t// 3. current behaviour is logical, so it has sense to leave it like that, until a better\\n\\t\\t\\t\\t// solution\\n\\n\\t\\t\\t\\tif (isEmptyNode(container)) {\\n\\t\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\n\\t\\tdeleteTable();\\n\\t\\thandleDeleteInCaption();\\n\\n\\t\\tif (Env.webkit) {\\n\\t\\t\\tmoveWebKitSelection();\\n\\t\\t\\tfixTableCellSelection();\\n\\t\\t}\\n\\n\\t\\tif (Env.gecko) {\\n\\t\\t\\tfixBeforeTableCaretBug();\\n\\t\\t\\tfixTableCaretPos();\\n\\t\\t}\\n\\n\\t\\tif (Env.ie > 9) {\\n\\t\\t\\tfixBeforeTableCaretBug();\\n\\t\\t\\tfixTableCaretPos();\\n\\t\\t}\\n\\t};\\n});\\n\\n// Included from: js/tinymce/plugins/table/classes/CellSelection.js\\n\\n/**\\n * CellSelection.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class handles table cell selection by faking it using a css class that gets applied\\n * to cells when dragging the mouse from one cell to another.\\n *\\n * @class tinymce.tableplugin.CellSelection\\n * @private\\n */\\ndefine(\\\"tinymce/tableplugin/CellSelection\\\", [\\n\\t\\\"tinymce/tableplugin/TableGrid\\\",\\n\\t\\\"tinymce/dom/TreeWalker\\\",\\n\\t\\\"tinymce/util/Tools\\\"\\n], function(TableGrid, TreeWalker, Tools) {\\n\\treturn function(editor, selectionChange) {\\n\\t\\tvar dom = editor.dom, tableGrid, startCell, startTable, lastMouseOverTarget, hasCellSelection = true, resizing, dragging;\\n\\n\\t\\tfunction clear(force) {\\n\\t\\t\\t// Restore selection possibilities\\n\\t\\t\\teditor.getBody().style.webkitUserSelect = '';\\n\\n\\t\\t\\tif (force || hasCellSelection) {\\n\\t\\t\\t\\teditor.$('td[data-mce-selected],th[data-mce-selected]').removeAttr('data-mce-selected');\\n\\t\\t\\t\\thasCellSelection = false;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tvar endSelection = function () {\\n\\t\\t\\tstartCell = tableGrid = startTable = lastMouseOverTarget = null;\\n\\t\\t\\tselectionChange(false);\\n\\t\\t};\\n\\n\\t\\tfunction isCellInTable(table, cell) {\\n\\t\\t\\tif (!table || !cell) {\\n\\t\\t\\t\\treturn false;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn table === dom.getParent(cell, 'table');\\n\\t\\t}\\n\\n\\t\\tfunction cellSelectionHandler(e) {\\n\\t\\t\\tvar sel, target = e.target, currentCell;\\n\\n\\t\\t\\tif (resizing || dragging) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Fake mouse enter by keeping track of last mouse over\\n\\t\\t\\tif (target === lastMouseOverTarget) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tlastMouseOverTarget = target;\\n\\n\\t\\t\\tif (startTable && startCell) {\\n\\t\\t\\t\\tcurrentCell = dom.getParent(target, 'td,th');\\n\\n\\t\\t\\t\\tif (!isCellInTable(startTable, currentCell)) {\\n\\t\\t\\t\\t\\tcurrentCell = dom.getParent(startTable, 'td,th');\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Selection inside first cell is normal until we have expanted\\n\\t\\t\\t\\tif (startCell === currentCell && !hasCellSelection) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tselectionChange(true);\\n\\n\\t\\t\\t\\tif (isCellInTable(startTable, currentCell)) {\\n\\t\\t\\t\\t\\te.preventDefault();\\n\\n\\t\\t\\t\\t\\tif (!tableGrid) {\\n\\t\\t\\t\\t\\t\\ttableGrid = new TableGrid(editor, startTable, startCell);\\n\\t\\t\\t\\t\\t\\teditor.getBody().style.webkitUserSelect = 'none';\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\ttableGrid.setEndCell(currentCell);\\n\\t\\t\\t\\t\\thasCellSelection = true;\\n\\n\\t\\t\\t\\t\\t// Remove current selection\\n\\t\\t\\t\\t\\tsel = editor.selection.getSel();\\n\\n\\t\\t\\t\\t\\ttry {\\n\\t\\t\\t\\t\\t\\tif (sel.removeAllRanges) {\\n\\t\\t\\t\\t\\t\\t\\tsel.removeAllRanges();\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\tsel.empty();\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t} catch (ex) {\\n\\t\\t\\t\\t\\t\\t// IE9 might throw errors here\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\teditor.on('SelectionChange', function(e) {\\n\\t\\t\\tif (hasCellSelection) {\\n\\t\\t\\t\\te.stopImmediatePropagation();\\n\\t\\t\\t}\\n\\t\\t}, true);\\n\\n\\t\\t// Add cell selection logic\\n\\t\\teditor.on('MouseDown', function(e) {\\n\\t\\t\\tif (e.button != 2 && !resizing && !dragging) {\\n\\t\\t\\t\\tclear();\\n\\n\\t\\t\\t\\tstartCell = dom.getParent(e.target, 'td,th');\\n\\t\\t\\t\\tstartTable = dom.getParent(startCell, 'table');\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\teditor.on('mouseover', cellSelectionHandler);\\n\\n\\t\\teditor.on('remove', function() {\\n\\t\\t\\tdom.unbind(editor.getDoc(), 'mouseover', cellSelectionHandler);\\n\\t\\t\\tclear();\\n\\t\\t});\\n\\n\\t\\teditor.on('MouseUp', function() {\\n\\t\\t\\tvar rng, sel = editor.selection, selectedCells, walker, node, lastNode;\\n\\n\\t\\t\\tfunction setPoint(node, start) {\\n\\t\\t\\t\\tvar walker = new TreeWalker(node, node);\\n\\n\\t\\t\\t\\tdo {\\n\\t\\t\\t\\t\\t// Text node\\n\\t\\t\\t\\t\\tif (node.nodeType == 3 && Tools.trim(node.nodeValue).length !== 0) {\\n\\t\\t\\t\\t\\t\\tif (start) {\\n\\t\\t\\t\\t\\t\\t\\trng.setStart(node, 0);\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\trng.setEnd(node, node.nodeValue.length);\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// BR element\\n\\t\\t\\t\\t\\tif (node.nodeName == 'BR') {\\n\\t\\t\\t\\t\\t\\tif (start) {\\n\\t\\t\\t\\t\\t\\t\\trng.setStartBefore(node);\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\trng.setEndBefore(node);\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} while ((node = (start ? walker.next() : walker.prev())));\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Move selection to startCell\\n\\t\\t\\tif (startCell) {\\n\\t\\t\\t\\tif (tableGrid) {\\n\\t\\t\\t\\t\\teditor.getBody().style.webkitUserSelect = '';\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Try to expand text selection as much as we can only Gecko supports cell selection\\n\\t\\t\\t\\tselectedCells = dom.select('td[data-mce-selected],th[data-mce-selected]');\\n\\t\\t\\t\\tif (selectedCells.length > 0) {\\n\\t\\t\\t\\t\\trng = dom.createRng();\\n\\t\\t\\t\\t\\tnode = selectedCells[0];\\n\\t\\t\\t\\t\\trng.setStartBefore(node);\\n\\t\\t\\t\\t\\trng.setEndAfter(node);\\n\\n\\t\\t\\t\\t\\tsetPoint(node, 1);\\n\\t\\t\\t\\t\\twalker = new TreeWalker(node, dom.getParent(selectedCells[0], 'table'));\\n\\n\\t\\t\\t\\t\\tdo {\\n\\t\\t\\t\\t\\t\\tif (node.nodeName == 'TD' || node.nodeName == 'TH') {\\n\\t\\t\\t\\t\\t\\t\\tif (!dom.getAttrib(node, 'data-mce-selected')) {\\n\\t\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tlastNode = node;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t} while ((node = walker.next()));\\n\\n\\t\\t\\t\\t\\tsetPoint(lastNode);\\n\\n\\t\\t\\t\\t\\tsel.setRng(rng);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\teditor.nodeChanged();\\n\\t\\t\\t\\tendSelection();\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\teditor.on('KeyUp Drop SetContent', function(e) {\\n\\t\\t\\tclear(e.type == 'setcontent');\\n\\t\\t\\tendSelection();\\n\\t\\t\\tresizing = false;\\n\\t\\t});\\n\\n\\t\\teditor.on('ObjectResizeStart ObjectResized', function(e) {\\n\\t\\t\\tresizing = e.type != 'objectresized';\\n\\t\\t});\\n\\n\\t\\teditor.on('dragstart', function () {\\n\\t\\t\\tdragging = true;\\n\\t\\t});\\n\\n\\t\\teditor.on('drop dragend', function () {\\n\\t\\t\\tdragging = false;\\n\\t\\t});\\n\\n\\t\\treturn {\\n\\t\\t\\tclear: clear\\n\\t\\t};\\n\\t};\\n});\\n\\n// Included from: js/tinymce/plugins/table/classes/Dialogs.js\\n\\n/**\\n * Dialogs.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/*eslint dot-notation:0*/\\n\\n/**\\n * ...\\n *\\n * @class tinymce.tableplugin.Dialogs\\n * @private\\n */\\ndefine(\\\"tinymce/tableplugin/Dialogs\\\", [\\n\\t\\\"tinymce/util/Tools\\\",\\n\\t\\\"tinymce/Env\\\"\\n], function(Tools, Env) {\\n\\tvar each = Tools.each;\\n\\n\\treturn function(editor) {\\n\\t\\tvar self = this;\\n\\n\\t\\tfunction createColorPickAction() {\\n\\t\\t\\tvar colorPickerCallback = editor.settings.color_picker_callback;\\n\\n\\t\\t\\tif (colorPickerCallback) {\\n\\t\\t\\t\\treturn function() {\\n\\t\\t\\t\\t\\tvar self = this;\\n\\n\\t\\t\\t\\t\\tcolorPickerCallback.call(\\n\\t\\t\\t\\t\\t\\teditor,\\n\\t\\t\\t\\t\\t\\tfunction(value) {\\n\\t\\t\\t\\t\\t\\t\\tself.value(value).fire('change');\\n\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\tself.value()\\n\\t\\t\\t\\t\\t);\\n\\t\\t\\t\\t};\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction createStyleForm(dom) {\\n\\t\\t\\treturn {\\n\\t\\t\\t\\ttitle: 'Advanced',\\n\\t\\t\\t\\ttype: 'form',\\n\\t\\t\\t\\tdefaults: {\\n\\t\\t\\t\\t\\tonchange: function() {\\n\\t\\t\\t\\t\\t\\tupdateStyle(dom, this.parents().reverse()[0], this.name() == \\\"style\\\");\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\titems: [\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\tlabel: 'Style',\\n\\t\\t\\t\\t\\t\\tname: 'style',\\n\\t\\t\\t\\t\\t\\ttype: 'textbox'\\n\\t\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\ttype: 'form',\\n\\t\\t\\t\\t\\t\\tpadding: 0,\\n\\t\\t\\t\\t\\t\\tformItemDefaults: {\\n\\t\\t\\t\\t\\t\\t\\tlayout: 'grid',\\n\\t\\t\\t\\t\\t\\t\\talignH: ['start', 'right']\\n\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\tdefaults: {\\n\\t\\t\\t\\t\\t\\t\\tsize: 7\\n\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\titems: [\\n\\t\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\t\\tlabel: 'Border color',\\n\\t\\t\\t\\t\\t\\t\\t\\ttype: 'colorbox',\\n\\t\\t\\t\\t\\t\\t\\t\\tname: 'borderColor',\\n\\t\\t\\t\\t\\t\\t\\t\\tonaction: createColorPickAction()\\n\\t\\t\\t\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\t\\tlabel: 'Background color',\\n\\t\\t\\t\\t\\t\\t\\t\\ttype: 'colorbox',\\n\\t\\t\\t\\t\\t\\t\\t\\tname: 'backgroundColor',\\n\\t\\t\\t\\t\\t\\t\\t\\tonaction: createColorPickAction()\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t]\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t]\\n\\t\\t\\t};\\n\\t\\t}\\n\\n\\t\\tfunction removePxSuffix(size) {\\n\\t\\t\\treturn size ? size.replace(/px$/, '') : \\\"\\\";\\n\\t\\t}\\n\\n\\t\\tfunction addSizeSuffix(size) {\\n\\t\\t\\tif (/^[0-9]+$/.test(size)) {\\n\\t\\t\\t\\tsize += \\\"px\\\";\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn size;\\n\\t\\t}\\n\\n\\t\\tfunction unApplyAlign(elm) {\\n\\t\\t\\teach('left center right'.split(' '), function(name) {\\n\\t\\t\\t\\teditor.formatter.remove('align' + name, {}, elm);\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\tfunction unApplyVAlign(elm) {\\n\\t\\t\\teach('top middle bottom'.split(' '), function(name) {\\n\\t\\t\\t\\teditor.formatter.remove('valign' + name, {}, elm);\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\tfunction buildListItems(inputList, itemCallback, startItems) {\\n\\t\\t\\tfunction appendItems(values, output) {\\n\\t\\t\\t\\toutput = output || [];\\n\\n\\t\\t\\t\\tTools.each(values, function(item) {\\n\\t\\t\\t\\t\\tvar menuItem = {text: item.text || item.title};\\n\\n\\t\\t\\t\\t\\tif (item.menu) {\\n\\t\\t\\t\\t\\t\\tmenuItem.menu = appendItems(item.menu);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tmenuItem.value = item.value;\\n\\n\\t\\t\\t\\t\\t\\tif (itemCallback) {\\n\\t\\t\\t\\t\\t\\t\\titemCallback(menuItem);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\toutput.push(menuItem);\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\treturn output;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn appendItems(inputList, startItems || []);\\n\\t\\t}\\n\\n\\t\\tfunction updateStyle(dom, win, isStyleCtrl) {\\n\\t\\t\\tvar data = win.toJSON();\\n\\t\\t\\tvar css = dom.parseStyle(data.style);\\n\\n\\t\\t\\tif (isStyleCtrl) {\\n\\t\\t\\t\\twin.find('#borderColor').value(css[\\\"border-color\\\"] || '')[0].fire('change');\\n\\t\\t\\t\\twin.find('#backgroundColor').value(css[\\\"background-color\\\"] || '')[0].fire('change');\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tcss[\\\"border-color\\\"] = data.borderColor;\\n\\t\\t\\t\\tcss[\\\"background-color\\\"] = data.backgroundColor;\\n\\t\\t\\t}\\n\\n\\t\\t\\twin.find('#style').value(dom.serializeStyle(dom.parseStyle(dom.serializeStyle(css))));\\n\\t\\t}\\n\\n\\t\\tfunction appendStylesToData(dom, data, elm) {\\n\\t\\t\\tvar css = dom.parseStyle(dom.getAttrib(elm, 'style'));\\n\\n\\t\\t\\tif (css[\\\"border-color\\\"]) {\\n\\t\\t\\t\\tdata.borderColor = css[\\\"border-color\\\"];\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (css[\\\"background-color\\\"]) {\\n\\t\\t\\t\\tdata.backgroundColor = css[\\\"background-color\\\"];\\n\\t\\t\\t}\\n\\n\\t\\t\\tdata.style = dom.serializeStyle(css);\\n\\t\\t}\\n\\n\\t\\tfunction mergeStyles(dom, elm, styles) {\\n\\t\\t\\tvar css = dom.parseStyle(dom.getAttrib(elm, 'style'));\\n\\n\\t\\t\\teach(styles, function(style) {\\n\\t\\t\\t\\tcss[style.name] = style.value;\\n\\t\\t\\t});\\n\\n\\t\\t\\tdom.setAttrib(elm, 'style', dom.serializeStyle(dom.parseStyle(dom.serializeStyle(css))));\\n\\t\\t}\\n\\n\\t\\tself.tableProps = function() {\\n\\t\\t\\tself.table(true);\\n\\t\\t};\\n\\n\\t\\tself.table = function(isProps) {\\n\\t\\t\\tvar dom = editor.dom, tableElm, colsCtrl, rowsCtrl, classListCtrl, data = {}, generalTableForm, stylesToMerge;\\n\\n\\t\\t\\tfunction onSubmitTableForm() {\\n\\n\\t\\t\\t\\t//Explore the layers of the table till we find the first layer of tds or ths\\n\\t\\t\\t\\tfunction styleTDTH(elm, name, value) {\\n\\t\\t\\t\\t\\tif (elm.tagName === \\\"TD\\\" || elm.tagName === \\\"TH\\\") {\\n\\t\\t\\t\\t\\t\\tdom.setStyle(elm, name, value);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tif (elm.children) {\\n\\t\\t\\t\\t\\t\\t\\tfor (var i = 0; i < elm.children.length; i++) {\\n\\t\\t\\t\\t\\t\\t\\t\\tstyleTDTH(elm.children[i], name, value);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tvar captionElm;\\n\\n\\t\\t\\t\\tupdateStyle(dom, this);\\n\\t\\t\\t\\tdata = Tools.extend(data, this.toJSON());\\n\\n\\t\\t\\t\\tif (data[\\\"class\\\"] === false) {\\n\\t\\t\\t\\t\\tdelete data[\\\"class\\\"];\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\teditor.undoManager.transact(function() {\\n\\t\\t\\t\\t\\tif (!tableElm) {\\n\\t\\t\\t\\t\\t\\ttableElm = editor.plugins.table.insertTable(data.cols || 1, data.rows || 1);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\teditor.dom.setAttribs(tableElm, {\\n\\t\\t\\t\\t\\t\\tstyle: data.style,\\n\\t\\t\\t\\t\\t\\t'class': data['class']\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\tif (editor.settings.table_style_by_css) {\\n\\t\\t\\t\\t\\t\\tstylesToMerge = [];\\n\\t\\t\\t\\t\\t\\tstylesToMerge.push({name: 'border', value: data.border});\\n\\t\\t\\t\\t\\t\\tstylesToMerge.push({name: 'border-spacing', value: addSizeSuffix(data.cellspacing)});\\n\\t\\t\\t\\t\\t\\tmergeStyles(dom, tableElm, stylesToMerge);\\n\\t\\t\\t\\t\\t\\tdom.setAttribs(tableElm, {\\n\\t\\t\\t\\t\\t\\t\\t'data-mce-border-color': data.borderColor,\\n\\t\\t\\t\\t\\t\\t\\t'data-mce-cell-padding': data.cellpadding,\\n\\t\\t\\t\\t\\t\\t\\t'data-mce-border': data.border\\n\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t\\tif (tableElm.children) {\\n\\t\\t\\t\\t\\t\\t\\tfor (var i = 0; i < tableElm.children.length; i++) {\\n\\t\\t\\t\\t\\t\\t\\t\\tstyleTDTH(tableElm.children[i], 'border', data.border);\\n\\t\\t\\t\\t\\t\\t\\t\\tstyleTDTH(tableElm.children[i], 'padding', addSizeSuffix(data.cellpadding));\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\teditor.dom.setAttribs(tableElm, {\\n\\t\\t\\t\\t\\t\\t\\tborder: data.border,\\n\\t\\t\\t\\t\\t\\t\\tcellpadding: data.cellpadding,\\n\\t\\t\\t\\t\\t\\t\\tcellspacing: data.cellspacing\\n\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (dom.getAttrib(tableElm, 'width') && !editor.settings.table_style_by_css) {\\n\\t\\t\\t\\t\\t\\tdom.setAttrib(tableElm, 'width', removePxSuffix(data.width));\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tdom.setStyle(tableElm, 'width', addSizeSuffix(data.width));\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tdom.setStyle(tableElm, 'height', addSizeSuffix(data.height));\\n\\n\\t\\t\\t\\t\\t// Toggle caption on/off\\n\\t\\t\\t\\t\\tcaptionElm = dom.select('caption', tableElm)[0];\\n\\n\\t\\t\\t\\t\\tif (captionElm && !data.caption) {\\n\\t\\t\\t\\t\\t\\tdom.remove(captionElm);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (!captionElm && data.caption) {\\n\\t\\t\\t\\t\\t\\tcaptionElm = dom.create('caption');\\n\\t\\t\\t\\t\\t\\tcaptionElm.innerHTML = !Env.ie ? '<br data-mce-bogus=\\\"1\\\"/>' : '\\\\u00a0';\\n\\t\\t\\t\\t\\t\\ttableElm.insertBefore(captionElm, tableElm.firstChild);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\tunApplyAlign(tableElm);\\n\\t\\t\\t\\t\\tif (data.align) {\\n\\t\\t\\t\\t\\t\\teditor.formatter.apply('align' + data.align, {}, tableElm);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\teditor.focus();\\n\\t\\t\\t\\t\\teditor.addVisual();\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction getTDTHOverallStyle(elm, name) {\\n\\t\\t\\t\\tvar cells = editor.dom.select(\\\"td,th\\\", elm), firstChildStyle;\\n\\n\\t\\t\\t\\tfunction checkChildren(firstChildStyle, elms) {\\n\\n\\t\\t\\t\\t\\tfor (var i = 0; i < elms.length; i++) {\\n\\t\\t\\t\\t\\t\\tvar currentStyle = dom.getStyle(elms[i], name);\\n\\t\\t\\t\\t\\t\\tif (typeof firstChildStyle === \\\"undefined\\\") {\\n\\t\\t\\t\\t\\t\\t\\tfirstChildStyle = currentStyle;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\tif (firstChildStyle != currentStyle) {\\n\\t\\t\\t\\t\\t\\t\\treturn \\\"\\\";\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\treturn firstChildStyle;\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfirstChildStyle = checkChildren(firstChildStyle, cells);\\n\\n\\t\\t\\t\\treturn firstChildStyle;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (isProps === true) {\\n\\t\\t\\t\\ttableElm = dom.getParent(editor.selection.getStart(), 'table');\\n\\n\\t\\t\\t\\tif (tableElm) {\\n\\t\\t\\t\\t\\tdata = {\\n\\t\\t\\t\\t\\t\\twidth: removePxSuffix(dom.getStyle(tableElm, 'width') || dom.getAttrib(tableElm, 'width')),\\n\\t\\t\\t\\t\\t\\theight: removePxSuffix(dom.getStyle(tableElm, 'height') || dom.getAttrib(tableElm, 'height')),\\n\\t\\t\\t\\t\\t\\tcellspacing: removePxSuffix(dom.getStyle(tableElm, 'border-spacing') ||\\n\\t\\t\\t\\t\\t\\t\\tdom.getAttrib(tableElm, 'cellspacing')),\\n\\t\\t\\t\\t\\t\\tcellpadding: dom.getAttrib(tableElm, 'data-mce-cell-padding') || dom.getAttrib(tableElm, 'cellpadding') ||\\n\\t\\t\\t\\t\\t\\t\\tgetTDTHOverallStyle(tableElm, 'padding'),\\n\\t\\t\\t\\t\\t\\tborder: dom.getAttrib(tableElm, 'data-mce-border') || dom.getAttrib(tableElm, 'border') ||\\n\\t\\t\\t\\t\\t\\t\\tgetTDTHOverallStyle(tableElm, 'border'),\\n\\t\\t\\t\\t\\t\\tborderColor: dom.getAttrib(tableElm, 'data-mce-border-color'),\\n\\t\\t\\t\\t\\t\\tcaption: !!dom.select('caption', tableElm)[0],\\n\\t\\t\\t\\t\\t\\t'class': dom.getAttrib(tableElm, 'class')\\n\\t\\t\\t\\t\\t};\\n\\n\\t\\t\\t\\t\\teach('left center right'.split(' '), function(name) {\\n\\t\\t\\t\\t\\t\\tif (editor.formatter.matchNode(tableElm, 'align' + name)) {\\n\\t\\t\\t\\t\\t\\t\\tdata.align = name;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t}\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tcolsCtrl = {label: 'Cols', name: 'cols'};\\n\\t\\t\\t\\trowsCtrl = {label: 'Rows', name: 'rows'};\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (editor.settings.table_class_list) {\\n\\t\\t\\t\\tif (data[\\\"class\\\"]) {\\n\\t\\t\\t\\t\\tdata[\\\"class\\\"] = data[\\\"class\\\"].replace(/\\\\s*mce\\\\-item\\\\-table\\\\s*/g, '');\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tclassListCtrl = {\\n\\t\\t\\t\\t\\tname: 'class',\\n\\t\\t\\t\\t\\ttype: 'listbox',\\n\\t\\t\\t\\t\\tlabel: 'Class',\\n\\t\\t\\t\\t\\tvalues: buildListItems(\\n\\t\\t\\t\\t\\t\\teditor.settings.table_class_list,\\n\\t\\t\\t\\t\\t\\tfunction(item) {\\n\\t\\t\\t\\t\\t\\t\\tif (item.value) {\\n\\t\\t\\t\\t\\t\\t\\t\\titem.textStyle = function() {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\treturn editor.formatter.getCssText({block: 'table', classes: [item.value]});\\n\\t\\t\\t\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t)\\n\\t\\t\\t\\t};\\n\\t\\t\\t}\\n\\n\\t\\t\\tgeneralTableForm = {\\n\\t\\t\\t\\ttype: 'form',\\n\\t\\t\\t\\tlayout: 'flex',\\n\\t\\t\\t\\tdirection: 'column',\\n\\t\\t\\t\\tlabelGapCalc: 'children',\\n\\t\\t\\t\\tpadding: 0,\\n\\t\\t\\t\\titems: [\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\ttype: 'form',\\n\\t\\t\\t\\t\\t\\tlabelGapCalc: false,\\n\\t\\t\\t\\t\\t\\tpadding: 0,\\n\\t\\t\\t\\t\\t\\tlayout: 'grid',\\n\\t\\t\\t\\t\\t\\tcolumns: 2,\\n\\t\\t\\t\\t\\t\\tdefaults: {\\n\\t\\t\\t\\t\\t\\t\\ttype: 'textbox',\\n\\t\\t\\t\\t\\t\\t\\tmaxWidth: 50\\n\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\titems: (editor.settings.table_appearance_options !== false) ? [\\n\\t\\t\\t\\t\\t\\t\\tcolsCtrl,\\n\\t\\t\\t\\t\\t\\t\\trowsCtrl,\\n\\t\\t\\t\\t\\t\\t\\t{label: 'Width', name: 'width'},\\n\\t\\t\\t\\t\\t\\t\\t{label: 'Height', name: 'height'},\\n\\t\\t\\t\\t\\t\\t\\t{label: 'Cell spacing', name: 'cellspacing'},\\n\\t\\t\\t\\t\\t\\t\\t{label: 'Cell padding', name: 'cellpadding'},\\n\\t\\t\\t\\t\\t\\t\\t{label: 'Border', name: 'border'},\\n\\t\\t\\t\\t\\t\\t\\t{label: 'Caption', name: 'caption', type: 'checkbox'}\\n\\t\\t\\t\\t\\t\\t] : [\\n\\t\\t\\t\\t\\t\\t\\tcolsCtrl,\\n\\t\\t\\t\\t\\t\\t\\trowsCtrl,\\n\\t\\t\\t\\t\\t\\t\\t{label: 'Width', name: 'width'},\\n\\t\\t\\t\\t\\t\\t\\t{label: 'Height', name: 'height'}\\n\\t\\t\\t\\t\\t\\t]\\n\\t\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\tlabel: 'Alignment',\\n\\t\\t\\t\\t\\t\\tname: 'align',\\n\\t\\t\\t\\t\\t\\ttype: 'listbox',\\n\\t\\t\\t\\t\\t\\ttext: 'None',\\n\\t\\t\\t\\t\\t\\tvalues: [\\n\\t\\t\\t\\t\\t\\t\\t{text: 'None', value: ''},\\n\\t\\t\\t\\t\\t\\t\\t{text: 'Left', value: 'left'},\\n\\t\\t\\t\\t\\t\\t\\t{text: 'Center', value: 'center'},\\n\\t\\t\\t\\t\\t\\t\\t{text: 'Right', value: 'right'}\\n\\t\\t\\t\\t\\t\\t]\\n\\t\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\t\\tclassListCtrl\\n\\t\\t\\t\\t]\\n\\t\\t\\t};\\n\\n\\t\\t\\tif (editor.settings.table_advtab !== false) {\\n\\t\\t\\t\\tappendStylesToData(dom, data, tableElm);\\n\\n\\t\\t\\t\\teditor.windowManager.open({\\n\\t\\t\\t\\t\\ttitle: \\\"Table properties\\\",\\n\\t\\t\\t\\t\\tdata: data,\\n\\t\\t\\t\\t\\tbodyType: 'tabpanel',\\n\\t\\t\\t\\t\\tbody: [\\n\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\ttitle: 'General',\\n\\t\\t\\t\\t\\t\\t\\ttype: 'form',\\n\\t\\t\\t\\t\\t\\t\\titems: generalTableForm\\n\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\tcreateStyleForm(dom)\\n\\t\\t\\t\\t\\t],\\n\\n\\t\\t\\t\\t\\tonsubmit: onSubmitTableForm\\n\\t\\t\\t\\t});\\n\\t\\t\\t} else {\\n\\t\\t\\t\\teditor.windowManager.open({\\n\\t\\t\\t\\t\\ttitle: \\\"Table properties\\\",\\n\\t\\t\\t\\t\\tdata: data,\\n\\t\\t\\t\\t\\tbody: generalTableForm,\\n\\t\\t\\t\\t\\tonsubmit: onSubmitTableForm\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\t\\t};\\n\\n\\t\\tself.merge = function(grid, cell) {\\n\\t\\t\\teditor.windowManager.open({\\n\\t\\t\\t\\ttitle: \\\"Merge cells\\\",\\n\\t\\t\\t\\tbody: [\\n\\t\\t\\t\\t\\t{label: 'Cols', name: 'cols', type: 'textbox', value: '1', size: 10},\\n\\t\\t\\t\\t\\t{label: 'Rows', name: 'rows', type: 'textbox', value: '1', size: 10}\\n\\t\\t\\t\\t],\\n\\t\\t\\t\\tonsubmit: function() {\\n\\t\\t\\t\\t\\tvar data = this.toJSON();\\n\\n\\t\\t\\t\\t\\teditor.undoManager.transact(function() {\\n\\t\\t\\t\\t\\t\\tgrid.merge(cell, data.cols, data.rows);\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t};\\n\\n\\t\\tself.cell = function() {\\n\\t\\t\\tvar dom = editor.dom, cellElm, data, classListCtrl, cells = [];\\n\\n\\t\\t\\tfunction setAttrib(elm, name, value) {\\n\\t\\t\\t\\tif (cells.length === 1 || value) {\\n\\t\\t\\t\\t\\tdom.setAttrib(elm, name, value);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction setStyle(elm, name, value) {\\n\\t\\t\\t\\tif (cells.length === 1 || value) {\\n\\t\\t\\t\\t\\tdom.setStyle(elm, name, value);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction onSubmitCellForm() {\\n\\t\\t\\t\\tupdateStyle(dom, this);\\n\\t\\t\\t\\tdata = Tools.extend(data, this.toJSON());\\n\\n\\t\\t\\t\\teditor.undoManager.transact(function() {\\n\\t\\t\\t\\t\\teach(cells, function(cellElm) {\\n\\t\\t\\t\\t\\t\\tsetAttrib(cellElm, 'scope', data.scope);\\n\\t\\t\\t\\t\\t\\tsetAttrib(cellElm, 'style', data.style);\\n\\t\\t\\t\\t\\t\\tsetAttrib(cellElm, 'class', data['class']);\\n\\t\\t\\t\\t\\t\\tsetStyle(cellElm, 'width', addSizeSuffix(data.width));\\n\\t\\t\\t\\t\\t\\tsetStyle(cellElm, 'height', addSizeSuffix(data.height));\\n\\n\\t\\t\\t\\t\\t\\t// Switch cell type\\n\\t\\t\\t\\t\\t\\tif (data.type && cellElm.nodeName.toLowerCase() !== data.type) {\\n\\t\\t\\t\\t\\t\\t\\tcellElm = dom.rename(cellElm, data.type);\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Remove alignment\\n\\t\\t\\t\\t\\t\\tif (cells.length === 1) {\\n\\t\\t\\t\\t\\t\\t\\tunApplyAlign(cellElm);\\n\\t\\t\\t\\t\\t\\t\\tunApplyVAlign(cellElm);\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Apply alignment\\n\\t\\t\\t\\t\\t\\tif (data.align) {\\n\\t\\t\\t\\t\\t\\t\\teditor.formatter.apply('align' + data.align, {}, cellElm);\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Apply vertical alignment\\n\\t\\t\\t\\t\\t\\tif (data.valign) {\\n\\t\\t\\t\\t\\t\\t\\teditor.formatter.apply('valign' + data.valign, {}, cellElm);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\teditor.focus();\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Get selected cells or the current cell\\n\\t\\t\\tcells = editor.dom.select('td[data-mce-selected],th[data-mce-selected]');\\n\\t\\t\\tcellElm = editor.dom.getParent(editor.selection.getStart(), 'td,th');\\n\\t\\t\\tif (!cells.length && cellElm) {\\n\\t\\t\\t\\tcells.push(cellElm);\\n\\t\\t\\t}\\n\\n\\t\\t\\tcellElm = cellElm || cells[0];\\n\\n\\t\\t\\tif (!cellElm) {\\n\\t\\t\\t\\t// If this element is null, return now to avoid crashing.\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (cells.length > 1) {\\n\\t\\t\\t\\tdata = {\\n\\t\\t\\t\\t\\twidth: '',\\n\\t\\t\\t\\t\\theight: '',\\n\\t\\t\\t\\t\\tscope: '',\\n\\t\\t\\t\\t\\t'class': '',\\n\\t\\t\\t\\t\\talign: '',\\n\\t\\t\\t\\t\\tstyle: '',\\n\\t\\t\\t\\t\\ttype: cellElm.nodeName.toLowerCase()\\n\\t\\t\\t\\t};\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tdata = {\\n\\t\\t\\t\\t\\twidth: removePxSuffix(dom.getStyle(cellElm, 'width') || dom.getAttrib(cellElm, 'width')),\\n\\t\\t\\t\\t\\theight: removePxSuffix(dom.getStyle(cellElm, 'height') || dom.getAttrib(cellElm, 'height')),\\n\\t\\t\\t\\t\\tscope: dom.getAttrib(cellElm, 'scope'),\\n\\t\\t\\t\\t\\t'class': dom.getAttrib(cellElm, 'class')\\n\\t\\t\\t\\t};\\n\\n\\t\\t\\t\\tdata.type = cellElm.nodeName.toLowerCase();\\n\\n\\t\\t\\t\\teach('left center right'.split(' '), function(name) {\\n\\t\\t\\t\\t\\tif (editor.formatter.matchNode(cellElm, 'align' + name)) {\\n\\t\\t\\t\\t\\t\\tdata.align = name;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\teach('top middle bottom'.split(' '), function(name) {\\n\\t\\t\\t\\t\\tif (editor.formatter.matchNode(cellElm, 'valign' + name)) {\\n\\t\\t\\t\\t\\t\\tdata.valign = name;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\tappendStylesToData(dom, data, cellElm);\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (editor.settings.table_cell_class_list) {\\n\\t\\t\\t\\tclassListCtrl = {\\n\\t\\t\\t\\t\\tname: 'class',\\n\\t\\t\\t\\t\\ttype: 'listbox',\\n\\t\\t\\t\\t\\tlabel: 'Class',\\n\\t\\t\\t\\t\\tvalues: buildListItems(\\n\\t\\t\\t\\t\\t\\teditor.settings.table_cell_class_list,\\n\\t\\t\\t\\t\\t\\tfunction(item) {\\n\\t\\t\\t\\t\\t\\t\\tif (item.value) {\\n\\t\\t\\t\\t\\t\\t\\t\\titem.textStyle = function() {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\treturn editor.formatter.getCssText({block: 'td', classes: [item.value]});\\n\\t\\t\\t\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t)\\n\\t\\t\\t\\t};\\n\\t\\t\\t}\\n\\n\\t\\t\\tvar generalCellForm = {\\n\\t\\t\\t\\ttype: 'form',\\n\\t\\t\\t\\tlayout: 'flex',\\n\\t\\t\\t\\tdirection: 'column',\\n\\t\\t\\t\\tlabelGapCalc: 'children',\\n\\t\\t\\t\\tpadding: 0,\\n\\t\\t\\t\\titems: [\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\ttype: 'form',\\n\\t\\t\\t\\t\\t\\tlayout: 'grid',\\n\\t\\t\\t\\t\\t\\tcolumns: 2,\\n\\t\\t\\t\\t\\t\\tlabelGapCalc: false,\\n\\t\\t\\t\\t\\t\\tpadding: 0,\\n\\t\\t\\t\\t\\t\\tdefaults: {\\n\\t\\t\\t\\t\\t\\t\\ttype: 'textbox',\\n\\t\\t\\t\\t\\t\\t\\tmaxWidth: 50\\n\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\titems: [\\n\\t\\t\\t\\t\\t\\t\\t{label: 'Width', name: 'width'},\\n\\t\\t\\t\\t\\t\\t\\t{label: 'Height', name: 'height'},\\n\\t\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\t\\tlabel: 'Cell type',\\n\\t\\t\\t\\t\\t\\t\\t\\tname: 'type',\\n\\t\\t\\t\\t\\t\\t\\t\\ttype: 'listbox',\\n\\t\\t\\t\\t\\t\\t\\t\\ttext: 'None',\\n\\t\\t\\t\\t\\t\\t\\t\\tminWidth: 90,\\n\\t\\t\\t\\t\\t\\t\\t\\tmaxWidth: null,\\n\\t\\t\\t\\t\\t\\t\\t\\tvalues: [\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{text: 'Cell', value: 'td'},\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{text: 'Header cell', value: 'th'}\\n\\t\\t\\t\\t\\t\\t\\t\\t]\\n\\t\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\t\\tlabel: 'Scope',\\n\\t\\t\\t\\t\\t\\t\\t\\tname: 'scope',\\n\\t\\t\\t\\t\\t\\t\\t\\ttype: 'listbox',\\n\\t\\t\\t\\t\\t\\t\\t\\ttext: 'None',\\n\\t\\t\\t\\t\\t\\t\\t\\tminWidth: 90,\\n\\t\\t\\t\\t\\t\\t\\t\\tmaxWidth: null,\\n\\t\\t\\t\\t\\t\\t\\t\\tvalues: [\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{text: 'None', value: ''},\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{text: 'Row', value: 'row'},\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{text: 'Column', value: 'col'},\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{text: 'Row group', value: 'rowgroup'},\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{text: 'Column group', value: 'colgroup'}\\n\\t\\t\\t\\t\\t\\t\\t\\t]\\n\\t\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\t\\tlabel: 'H Align',\\n\\t\\t\\t\\t\\t\\t\\t\\tname: 'align',\\n\\t\\t\\t\\t\\t\\t\\t\\ttype: 'listbox',\\n\\t\\t\\t\\t\\t\\t\\t\\ttext: 'None',\\n\\t\\t\\t\\t\\t\\t\\t\\tminWidth: 90,\\n\\t\\t\\t\\t\\t\\t\\t\\tmaxWidth: null,\\n\\t\\t\\t\\t\\t\\t\\t\\tvalues: [\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{text: 'None', value: ''},\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{text: 'Left', value: 'left'},\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{text: 'Center', value: 'center'},\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{text: 'Right', value: 'right'}\\n\\t\\t\\t\\t\\t\\t\\t\\t]\\n\\t\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\t\\tlabel: 'V Align',\\n\\t\\t\\t\\t\\t\\t\\t\\tname: 'valign',\\n\\t\\t\\t\\t\\t\\t\\t\\ttype: 'listbox',\\n\\t\\t\\t\\t\\t\\t\\t\\ttext: 'None',\\n\\t\\t\\t\\t\\t\\t\\t\\tminWidth: 90,\\n\\t\\t\\t\\t\\t\\t\\t\\tmaxWidth: null,\\n\\t\\t\\t\\t\\t\\t\\t\\tvalues: [\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{text: 'None', value: ''},\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{text: 'Top', value: 'top'},\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{text: 'Middle', value: 'middle'},\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{text: 'Bottom', value: 'bottom'}\\n\\t\\t\\t\\t\\t\\t\\t\\t]\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t]\\n\\t\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\t\\tclassListCtrl\\n\\t\\t\\t\\t]\\n\\t\\t\\t};\\n\\n\\t\\t\\tif (editor.settings.table_cell_advtab !== false) {\\n\\t\\t\\t\\teditor.windowManager.open({\\n\\t\\t\\t\\t\\ttitle: \\\"Cell properties\\\",\\n\\t\\t\\t\\t\\tbodyType: 'tabpanel',\\n\\t\\t\\t\\t\\tdata: data,\\n\\t\\t\\t\\t\\tbody: [\\n\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\ttitle: 'General',\\n\\t\\t\\t\\t\\t\\t\\ttype: 'form',\\n\\t\\t\\t\\t\\t\\t\\titems: generalCellForm\\n\\t\\t\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\t\\t\\tcreateStyleForm(dom)\\n\\t\\t\\t\\t\\t],\\n\\n\\t\\t\\t\\t\\tonsubmit: onSubmitCellForm\\n\\t\\t\\t\\t});\\n\\t\\t\\t} else {\\n\\t\\t\\t\\teditor.windowManager.open({\\n\\t\\t\\t\\t\\ttitle: \\\"Cell properties\\\",\\n\\t\\t\\t\\t\\tdata: data,\\n\\t\\t\\t\\t\\tbody: generalCellForm,\\n\\t\\t\\t\\t\\tonsubmit: onSubmitCellForm\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\t\\t};\\n\\n\\t\\tself.row = function() {\\n\\t\\t\\tvar dom = editor.dom, tableElm, cellElm, rowElm, classListCtrl, data, rows = [], generalRowForm;\\n\\n\\t\\t\\tfunction setAttrib(elm, name, value) {\\n\\t\\t\\t\\tif (rows.length === 1 || value) {\\n\\t\\t\\t\\t\\tdom.setAttrib(elm, name, value);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction setStyle(elm, name, value) {\\n\\t\\t\\t\\tif (rows.length === 1 || value) {\\n\\t\\t\\t\\t\\tdom.setStyle(elm, name, value);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction onSubmitRowForm() {\\n\\t\\t\\t\\tvar tableElm, oldParentElm, parentElm;\\n\\n\\t\\t\\t\\tupdateStyle(dom, this);\\n\\t\\t\\t\\tdata = Tools.extend(data, this.toJSON());\\n\\n\\t\\t\\t\\teditor.undoManager.transact(function() {\\n\\t\\t\\t\\t\\tvar toType = data.type;\\n\\n\\t\\t\\t\\t\\teach(rows, function(rowElm) {\\n\\t\\t\\t\\t\\t\\tsetAttrib(rowElm, 'scope', data.scope);\\n\\t\\t\\t\\t\\t\\tsetAttrib(rowElm, 'style', data.style);\\n\\t\\t\\t\\t\\t\\tsetAttrib(rowElm, 'class', data['class']);\\n\\t\\t\\t\\t\\t\\tsetStyle(rowElm, 'height', addSizeSuffix(data.height));\\n\\n\\t\\t\\t\\t\\t\\tif (toType !== rowElm.parentNode.nodeName.toLowerCase()) {\\n\\t\\t\\t\\t\\t\\t\\ttableElm = dom.getParent(rowElm, 'table');\\n\\n\\t\\t\\t\\t\\t\\t\\toldParentElm = rowElm.parentNode;\\n\\t\\t\\t\\t\\t\\t\\tparentElm = dom.select(toType, tableElm)[0];\\n\\t\\t\\t\\t\\t\\t\\tif (!parentElm) {\\n\\t\\t\\t\\t\\t\\t\\t\\tparentElm = dom.create(toType);\\n\\t\\t\\t\\t\\t\\t\\t\\tif (tableElm.firstChild) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\ttableElm.insertBefore(parentElm, tableElm.firstChild);\\n\\t\\t\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\ttableElm.appendChild(parentElm);\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tparentElm.appendChild(rowElm);\\n\\n\\t\\t\\t\\t\\t\\t\\tif (!oldParentElm.hasChildNodes()) {\\n\\t\\t\\t\\t\\t\\t\\t\\tdom.remove(oldParentElm);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Apply/remove alignment\\n\\t\\t\\t\\t\\t\\tif (rows.length === 1) {\\n\\t\\t\\t\\t\\t\\t\\tunApplyAlign(rowElm);\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tif (data.align) {\\n\\t\\t\\t\\t\\t\\t\\teditor.formatter.apply('align' + data.align, {}, rowElm);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\teditor.focus();\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\ttableElm = editor.dom.getParent(editor.selection.getStart(), 'table');\\n\\t\\t\\tcellElm = editor.dom.getParent(editor.selection.getStart(), 'td,th');\\n\\n\\t\\t\\teach(tableElm.rows, function(row) {\\n\\t\\t\\t\\teach(row.cells, function(cell) {\\n\\t\\t\\t\\t\\tif (dom.getAttrib(cell, 'data-mce-selected') || cell == cellElm) {\\n\\t\\t\\t\\t\\t\\trows.push(row);\\n\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\t\\t\\t});\\n\\n\\t\\t\\trowElm = rows[0];\\n\\t\\t\\tif (!rowElm) {\\n\\t\\t\\t\\t// If this element is null, return now to avoid crashing.\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (rows.length > 1) {\\n\\t\\t\\t\\tdata = {\\n\\t\\t\\t\\t\\theight: '',\\n\\t\\t\\t\\t\\tscope: '',\\n\\t\\t\\t\\t\\t'class': '',\\n\\t\\t\\t\\t\\talign: '',\\n\\t\\t\\t\\t\\ttype: rowElm.parentNode.nodeName.toLowerCase()\\n\\t\\t\\t\\t};\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tdata = {\\n\\t\\t\\t\\t\\theight: removePxSuffix(dom.getStyle(rowElm, 'height') || dom.getAttrib(rowElm, 'height')),\\n\\t\\t\\t\\t\\tscope: dom.getAttrib(rowElm, 'scope'),\\n\\t\\t\\t\\t\\t'class': dom.getAttrib(rowElm, 'class')\\n\\t\\t\\t\\t};\\n\\n\\t\\t\\t\\tdata.type = rowElm.parentNode.nodeName.toLowerCase();\\n\\n\\t\\t\\t\\teach('left center right'.split(' '), function(name) {\\n\\t\\t\\t\\t\\tif (editor.formatter.matchNode(rowElm, 'align' + name)) {\\n\\t\\t\\t\\t\\t\\tdata.align = name;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\tappendStylesToData(dom, data, rowElm);\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (editor.settings.table_row_class_list) {\\n\\t\\t\\t\\tclassListCtrl = {\\n\\t\\t\\t\\t\\tname: 'class',\\n\\t\\t\\t\\t\\ttype: 'listbox',\\n\\t\\t\\t\\t\\tlabel: 'Class',\\n\\t\\t\\t\\t\\tvalues: buildListItems(\\n\\t\\t\\t\\t\\t\\teditor.settings.table_row_class_list,\\n\\t\\t\\t\\t\\t\\tfunction(item) {\\n\\t\\t\\t\\t\\t\\t\\tif (item.value) {\\n\\t\\t\\t\\t\\t\\t\\t\\titem.textStyle = function() {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\treturn editor.formatter.getCssText({block: 'tr', classes: [item.value]});\\n\\t\\t\\t\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t)\\n\\t\\t\\t\\t};\\n\\t\\t\\t}\\n\\n\\t\\t\\tgeneralRowForm = {\\n\\t\\t\\t\\ttype: 'form',\\n\\t\\t\\t\\tcolumns: 2,\\n\\t\\t\\t\\tpadding: 0,\\n\\t\\t\\t\\tdefaults: {\\n\\t\\t\\t\\t\\ttype: 'textbox'\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\titems: [\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\ttype: 'listbox',\\n\\t\\t\\t\\t\\t\\tname: 'type',\\n\\t\\t\\t\\t\\t\\tlabel: 'Row type',\\n\\t\\t\\t\\t\\t\\ttext: 'Header',\\n\\t\\t\\t\\t\\t\\tmaxWidth: null,\\n\\t\\t\\t\\t\\t\\tvalues: [\\n\\t\\t\\t\\t\\t\\t\\t{text: 'Header', value: 'thead'},\\n\\t\\t\\t\\t\\t\\t\\t{text: 'Body', value: 'tbody'},\\n\\t\\t\\t\\t\\t\\t\\t{text: 'Footer', value: 'tfoot'}\\n\\t\\t\\t\\t\\t\\t]\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\ttype: 'listbox',\\n\\t\\t\\t\\t\\t\\tname: 'align',\\n\\t\\t\\t\\t\\t\\tlabel: 'Alignment',\\n\\t\\t\\t\\t\\t\\ttext: 'None',\\n\\t\\t\\t\\t\\t\\tmaxWidth: null,\\n\\t\\t\\t\\t\\t\\tvalues: [\\n\\t\\t\\t\\t\\t\\t\\t{text: 'None', value: ''},\\n\\t\\t\\t\\t\\t\\t\\t{text: 'Left', value: 'left'},\\n\\t\\t\\t\\t\\t\\t\\t{text: 'Center', value: 'center'},\\n\\t\\t\\t\\t\\t\\t\\t{text: 'Right', value: 'right'}\\n\\t\\t\\t\\t\\t\\t]\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t{label: 'Height', name: 'height'},\\n\\t\\t\\t\\t\\tclassListCtrl\\n\\t\\t\\t\\t]\\n\\t\\t\\t};\\n\\n\\t\\t\\tif (editor.settings.table_row_advtab !== false) {\\n\\t\\t\\t\\teditor.windowManager.open({\\n\\t\\t\\t\\t\\ttitle: \\\"Row properties\\\",\\n\\t\\t\\t\\t\\tdata: data,\\n\\t\\t\\t\\t\\tbodyType: 'tabpanel',\\n\\t\\t\\t\\t\\tbody: [\\n\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\ttitle: 'General',\\n\\t\\t\\t\\t\\t\\t\\ttype: 'form',\\n\\t\\t\\t\\t\\t\\t\\titems: generalRowForm\\n\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\tcreateStyleForm(dom)\\n\\t\\t\\t\\t\\t],\\n\\n\\t\\t\\t\\t\\tonsubmit: onSubmitRowForm\\n\\t\\t\\t\\t});\\n\\t\\t\\t} else {\\n\\t\\t\\t\\teditor.windowManager.open({\\n\\t\\t\\t\\t\\ttitle: \\\"Row properties\\\",\\n\\t\\t\\t\\t\\tdata: data,\\n\\t\\t\\t\\t\\tbody: generalRowForm,\\n\\t\\t\\t\\t\\tonsubmit: onSubmitRowForm\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\t\\t};\\n\\t};\\n});\\n\\n// Included from: js/tinymce/plugins/table/classes/ResizeBars.js\\n\\n/**\\n * ResizeBars.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class handles table column and row resizing by adding divs over the columns and rows of the table.\\n * These divs are then manipulated using mouse events to resize the underlying table.\\n *\\n * @class tinymce.tableplugin.ResizeBars\\n * @private\\n */\\ndefine(\\\"tinymce/tableplugin/ResizeBars\\\", [\\n\\t\\\"tinymce/util/Tools\\\",\\n\\t\\\"tinymce/util/VK\\\"\\n], function(Tools, VK) {\\n\\tvar hoverTable;\\n\\n\\treturn function(editor) {\\n\\t\\tvar RESIZE_BAR_CLASS = 'mce-resize-bar',\\n\\t\\t\\tRESIZE_BAR_ROW_CLASS = 'mce-resize-bar-row',\\n\\t\\t\\tRESIZE_BAR_ROW_CURSOR_STYLE = 'row-resize',\\n\\t\\t\\tRESIZE_BAR_ROW_DATA_ATTRIBUTE = 'data-row',\\n\\t\\t\\tRESIZE_BAR_ROW_DATA_INITIAL_TOP_ATTRIBUTE = 'data-initial-top',\\n\\t\\t\\tRESIZE_BAR_COL_CLASS = 'mce-resize-bar-col',\\n\\t\\t\\tRESIZE_BAR_COL_CURSOR_STYLE = 'col-resize',\\n\\t\\t\\tRESIZE_BAR_COL_DATA_ATTRIBUTE = 'data-col',\\n\\t\\t\\tRESIZE_BAR_COL_DATA_INITIAL_LEFT_ATTRIBUTE = 'data-initial-left',\\n\\t\\t\\tRESIZE_BAR_THICKNESS = 4,\\n\\t\\t\\tRESIZE_MINIMUM_WIDTH = 10,\\n\\t\\t\\tRESIZE_MINIMUM_HEIGHT = 10,\\n\\t\\t\\tRESIZE_BAR_DRAGGING_CLASS = 'mce-resize-bar-dragging';\\n\\n\\t\\tvar percentageBasedSizeRegex = new RegExp(/(\\\\d+(\\\\.\\\\d+)?%)/),\\n\\t\\t\\tpixelBasedSizeRegex = new RegExp(/px|em/);\\n\\n\\t\\tvar delayDrop, dragging, blockerElement, dragBar, lastX, lastY;\\n\\n\\t\\t// Get the absolute position's top edge.\\n\\t\\tfunction getTopEdge(index, row) {\\n\\t\\t\\treturn {\\n\\t\\t\\t\\tindex: index,\\n\\t\\t\\t\\ty: editor.dom.getPos(row).y\\n\\t\\t\\t};\\n\\t\\t}\\n\\n\\t\\t// Get the absolute position's bottom edge.\\n\\t\\tfunction getBottomEdge(index, row) {\\n\\t\\t\\treturn {\\n\\t\\t\\t\\tindex: index,\\n\\t\\t\\t\\ty: editor.dom.getPos(row).y + row.offsetHeight\\n\\t\\t\\t};\\n\\t\\t}\\n\\n\\t\\t// Get the absolute position's left edge.\\n\\t\\tfunction getLeftEdge(index, cell) {\\n\\t\\t\\treturn {\\n\\t\\t\\t\\tindex: index,\\n\\t\\t\\t\\tx: editor.dom.getPos(cell).x\\n\\t\\t\\t};\\n\\t\\t}\\n\\n\\t\\t// Get the absolute position's right edge.\\n\\t\\tfunction getRightEdge(index, cell) {\\n\\t\\t\\treturn {\\n\\t\\t\\t\\tindex: index,\\n\\t\\t\\t\\tx: editor.dom.getPos(cell).x + cell.offsetWidth\\n\\t\\t\\t};\\n\\t\\t}\\n\\n\\t\\tfunction isRtl() {\\n\\t\\t\\tvar dir = editor.getBody().dir;\\n\\t\\t\\treturn dir === 'rtl';\\n\\t\\t}\\n\\n\\t\\tfunction isInline() {\\n\\t\\t\\treturn editor.inline;\\n\\t\\t}\\n\\n\\t\\tfunction getBody() {\\n\\t\\t\\treturn isInline ? editor.getBody().ownerDocument.body : editor.getBody();\\n\\t\\t}\\n\\n\\t\\tfunction getInnerEdge(index, cell) {\\n\\t\\t\\treturn isRtl() ? getRightEdge(index, cell) : getLeftEdge(index, cell);\\n\\t\\t}\\n\\n\\t\\tfunction getOuterEdge(index, cell) {\\n\\t\\t\\treturn isRtl() ? getLeftEdge(index, cell) : getRightEdge(index, cell);\\n\\t\\t}\\n\\n\\t\\tfunction getPercentageWidthFallback(element, table) {\\n\\t\\t\\treturn getComputedStyleSize(element, 'width') / getComputedStyleSize(table, 'width') * 100;\\n\\t\\t}\\n\\n\\t\\tfunction getComputedStyleSize(element, property) {\\n\\t\\t\\tvar widthString = editor.dom.getStyle(element, property, true);\\n\\t\\t\\tvar width = parseInt(widthString, 10);\\n\\t\\t\\treturn width;\\n\\t\\t}\\n\\n\\t\\tfunction getCurrentTablePercentWidth(table) {\\n\\t\\t\\tvar tableWidth = getComputedStyleSize(table, 'width');\\n\\t\\t\\tvar tableParentWidth = getComputedStyleSize(table.parentElement, 'width');\\n\\t\\t\\treturn tableWidth / tableParentWidth * 100;\\n\\t\\t}\\n\\n\\t\\tfunction getCellPercentDelta(table, delta) {\\n\\t\\t\\tvar tableWidth = getComputedStyleSize(table, 'width');\\n\\t\\t\\treturn delta / tableWidth * 100;\\n\\t\\t}\\n\\n\\t\\tfunction getTablePercentDelta(table, delta) {\\n\\t\\t\\tvar tableParentWidth = getComputedStyleSize(table.parentElement, 'width');\\n\\t\\t\\treturn delta / tableParentWidth * 100;\\n\\t\\t}\\n\\n\\t\\t// Find the left/right (ltr/rtl) or top side locations of the cells to measure.\\n\\t\\t// This is the location of the borders we need to draw over.\\n\\t\\tfunction findPositions(getInner, getOuter, thingsToMeasure) {\\n\\t\\t\\tvar tablePositions = [];\\n\\n\\t\\t\\t// Skip the first item in the array = no left (LTR), right (RTL) or top bars\\n\\t\\t\\tfor (var i = 1; i < thingsToMeasure.length; i++) {\\n\\t\\t\\t\\t// Get the element from the details\\n\\t\\t\\t\\tvar item = thingsToMeasure[i].element;\\n\\n\\t\\t\\t\\t// We need to zero index this again\\n\\t\\t\\t\\ttablePositions.push(getInner(i - 1, item));\\n\\t\\t\\t}\\n\\n\\t\\t\\tvar lastTableLineToMake = thingsToMeasure[thingsToMeasure.length - 1];\\n\\t\\t\\ttablePositions.push(getOuter(thingsToMeasure.length - 1, lastTableLineToMake.element));\\n\\n\\t\\t\\treturn tablePositions;\\n\\t\\t}\\n\\n\\t\\t// Clear the bars.\\n\\t\\tfunction clearBars() {\\n\\t\\t\\tvar bars = editor.dom.select('.' + RESIZE_BAR_CLASS, getBody());\\n\\t\\t\\tTools.each(bars, function(bar) {\\n\\t\\t\\t\\teditor.dom.remove(bar);\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\t// Refresh the bars.\\n\\t\\tfunction refreshBars(tableElement) {\\n\\t\\t\\tclearBars();\\n\\t\\t\\tdrawBars(tableElement);\\n\\t\\t}\\n\\n\\t\\t// Generates a resize bar object for the editor to add.\\n\\t\\tfunction generateBar(classToAdd, cursor, left, top, height, width, indexAttr, index) {\\n\\t\\t\\tvar bar = {\\n\\t\\t\\t\\t'data-mce-bogus': 'all',\\n\\t\\t\\t\\t'class': RESIZE_BAR_CLASS + ' ' + classToAdd,\\n\\t\\t\\t\\t'unselectable': 'on',\\n\\t\\t\\t\\t'data-mce-resize': false,\\n\\t\\t\\t\\tstyle: 'cursor: ' + cursor + '; ' +\\n\\t\\t\\t\\t\\t'margin: 0; ' +\\n\\t\\t\\t\\t\\t'padding: 0; ' +\\n\\t\\t\\t\\t\\t'position: absolute; ' +\\n\\t\\t\\t\\t\\t'left: ' + left + 'px; ' +\\n\\t\\t\\t\\t\\t'top: ' + top + 'px; ' +\\n\\t\\t\\t\\t\\t'height: ' + height + 'px; ' +\\n\\t\\t\\t\\t\\t'width: ' + width + 'px; '\\n\\t\\t\\t};\\n\\n\\t\\t\\tbar[indexAttr] = index;\\n\\n\\t\\t\\treturn bar;\\n\\t\\t}\\n\\n\\t\\t// Draw the row bars over the row borders.\\n\\t\\tfunction drawRows(rowPositions, tableWidth, tablePosition) {\\n\\t\\t\\tTools.each(rowPositions, function(rowPosition) {\\n\\t\\t\\t\\tvar left = tablePosition.x,\\n\\t\\t\\t\\t\\ttop = rowPosition.y - RESIZE_BAR_THICKNESS / 2,\\n\\t\\t\\t\\t\\theight = RESIZE_BAR_THICKNESS,\\n\\t\\t\\t\\t\\twidth = tableWidth;\\n\\n\\t\\t\\t\\teditor.dom.add(getBody(), 'div',\\n\\t\\t\\t\\t\\tgenerateBar(RESIZE_BAR_ROW_CLASS, RESIZE_BAR_ROW_CURSOR_STYLE,\\n\\t\\t\\t\\t\\t\\tleft, top, height, width, RESIZE_BAR_ROW_DATA_ATTRIBUTE, rowPosition.index));\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\t// Draw the column bars over the column borders.\\n\\t\\tfunction drawCols(cellPositions, tableHeight, tablePosition) {\\n\\t\\t\\tTools.each(cellPositions, function(cellPosition) {\\n\\t\\t\\t\\tvar left = cellPosition.x - RESIZE_BAR_THICKNESS / 2,\\n\\t\\t\\t\\t\\ttop = tablePosition.y,\\n\\t\\t\\t\\t\\theight = tableHeight,\\n\\t\\t\\t\\t\\twidth = RESIZE_BAR_THICKNESS;\\n\\n\\t\\t\\t\\teditor.dom.add(getBody(), 'div',\\n\\t\\t\\t\\t\\tgenerateBar(RESIZE_BAR_COL_CLASS, RESIZE_BAR_COL_CURSOR_STYLE,\\n\\t\\t\\t\\t\\t\\tleft, top, height, width, RESIZE_BAR_COL_DATA_ATTRIBUTE, cellPosition.index));\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\t// Get a matrix of the cells in each row and the rows in the table.\\n\\t\\tfunction getTableDetails(table) {\\n\\t\\t\\treturn Tools.map(table.rows, function(row) {\\n\\n\\t\\t\\t\\tvar cells = Tools.map(row.cells, function(cell) {\\n\\n\\t\\t\\t\\t\\tvar rowspan = cell.hasAttribute('rowspan') ? parseInt(cell.getAttribute('rowspan'), 10) : 1;\\n\\t\\t\\t\\t\\tvar colspan = cell.hasAttribute('colspan') ? parseInt(cell.getAttribute('colspan'), 10) : 1;\\n\\n\\t\\t\\t\\t\\treturn {\\n\\t\\t\\t\\t\\t\\telement: cell,\\n\\t\\t\\t\\t\\t\\trowspan: rowspan,\\n\\t\\t\\t\\t\\t\\tcolspan: colspan\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\treturn {\\n\\t\\t\\t\\t\\telement: row,\\n\\t\\t\\t\\t\\tcells: cells\\n\\t\\t\\t\\t};\\n\\n\\t\\t\\t});\\n\\n\\t\\t}\\n\\n\\t\\t// Get a grid model of the table.\\n\\t\\tfunction getTableGrid(tableDetails) {\\n\\t\\t\\tfunction key(rowIndex, colIndex) {\\n\\t\\t\\t\\treturn rowIndex + ',' + colIndex;\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction getAt(rowIndex, colIndex) {\\n\\t\\t\\t\\treturn access[key(rowIndex, colIndex)];\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction getAllCells() {\\n\\t\\t\\t\\tvar allCells = [];\\n\\t\\t\\t\\tTools.each(rows, function(row) {\\n\\t\\t\\t\\t\\tallCells = allCells.concat(row.cells);\\n\\t\\t\\t\\t});\\n\\t\\t\\t\\treturn allCells;\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction getAllRows() {\\n\\t\\t\\t\\treturn rows;\\n\\t\\t\\t}\\n\\n\\t\\t\\tvar access = {};\\n\\t\\t\\tvar rows = [];\\n\\n\\t\\t\\tvar maxRows = 0;\\n\\t\\t\\tvar maxCols = 0;\\n\\n\\t\\t\\tTools.each(tableDetails, function(row, rowIndex) {\\n\\t\\t\\t\\tvar currentRow = [];\\n\\n\\t\\t\\t\\tTools.each(row.cells, function(cell) {\\n\\n\\t\\t\\t\\t\\tvar start = 0;\\n\\n\\t\\t\\t\\t\\twhile (access[key(rowIndex, start)] !== undefined) {\\n\\t\\t\\t\\t\\t\\tstart++;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tvar current = {\\n\\t\\t\\t\\t\\t\\telement: cell.element,\\n\\t\\t\\t\\t\\t\\tcolspan: cell.colspan,\\n\\t\\t\\t\\t\\t\\trowspan: cell.rowspan,\\n\\t\\t\\t\\t\\t\\trowIndex: rowIndex,\\n\\t\\t\\t\\t\\t\\tcolIndex: start\\n\\t\\t\\t\\t\\t};\\n\\n\\t\\t\\t\\t\\tfor (var i = 0; i < cell.colspan; i++) {\\n\\t\\t\\t\\t\\t\\tfor (var j = 0; j < cell.rowspan; j++) {\\n\\t\\t\\t\\t\\t\\t\\tvar cr = rowIndex + j;\\n\\t\\t\\t\\t\\t\\t\\tvar cc = start + i;\\n\\t\\t\\t\\t\\t\\t\\taccess[key(cr, cc)] = current;\\n\\t\\t\\t\\t\\t\\t\\tmaxRows = Math.max(maxRows, cr + 1);\\n\\t\\t\\t\\t\\t\\t\\tmaxCols = Math.max(maxCols, cc + 1);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tcurrentRow.push(current);\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\trows.push({\\n\\t\\t\\t\\t\\telement: row.element,\\n\\t\\t\\t\\t\\tcells: currentRow\\n\\t\\t\\t\\t});\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn {\\n\\t\\t\\t\\tgrid: {\\n\\t\\t\\t\\t\\tmaxRows: maxRows,\\n\\t\\t\\t\\t\\tmaxCols: maxCols\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\tgetAt: getAt,\\n\\t\\t\\t\\tgetAllCells: getAllCells,\\n\\t\\t\\t\\tgetAllRows: getAllRows\\n\\t\\t\\t};\\n\\t\\t}\\n\\n\\t\\tfunction range(start, end) {\\n\\t\\t\\tvar r = [];\\n\\n\\t\\t\\tfor (var i = start; i < end; i++) {\\n\\t\\t\\t\\tr.push(i);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn r;\\n\\t\\t}\\n\\n\\t\\t// Attempt to get a representative single block for this column.\\n\\t\\t// If we can't find a single block, all blocks in this row/column are spanned\\n\\t\\t// and we'll need to fallback to getting the first cell in the row/column.\\n\\t\\tfunction decide(getBlock, isSingle, getFallback) {\\n\\t\\t\\tvar inBlock = getBlock();\\n\\t\\t\\tvar singleInBlock;\\n\\n\\t\\t\\tfor (var i = 0; i < inBlock.length; i++) {\\n\\t\\t\\t\\tif (isSingle(inBlock[i])) {\\n\\t\\t\\t\\t\\tsingleInBlock = inBlock[i];\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t\\treturn singleInBlock ? singleInBlock : getFallback();\\n\\t\\t}\\n\\n\\t\\t// Attempt to get representative blocks for the width of each column.\\n\\t\\tfunction getColumnBlocks(tableGrid) {\\n\\t\\t\\tvar cols = range(0, tableGrid.grid.maxCols);\\n\\t\\t\\tvar rows = range(0, tableGrid.grid.maxRows);\\n\\n\\t\\t\\treturn Tools.map(cols, function(col) {\\n\\t\\t\\t\\tfunction getBlock() {\\n\\t\\t\\t\\t\\tvar details = [];\\n\\t\\t\\t\\t\\tfor (var i = 0; i < rows.length; i++) {\\n\\t\\t\\t\\t\\t\\tvar detail = tableGrid.getAt(i, col);\\n\\t\\t\\t\\t\\t\\tif (detail && detail.colIndex === col) {\\n\\t\\t\\t\\t\\t\\t\\tdetails.push(detail);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\treturn details;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfunction isSingle(detail) {\\n\\t\\t\\t\\t\\treturn detail.colspan === 1;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfunction getFallback() {\\n\\t\\t\\t\\t\\tvar item;\\n\\n\\t\\t\\t\\t\\tfor (var i = 0; i < rows.length; i++) {\\n\\t\\t\\t\\t\\t\\titem = tableGrid.getAt(i, col);\\n\\t\\t\\t\\t\\t\\tif (item) {\\n\\t\\t\\t\\t\\t\\t\\treturn item;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\treturn null;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn decide(getBlock, isSingle, getFallback);\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\t// Attempt to get representative blocks for the height of each row.\\n\\t\\tfunction getRowBlocks(tableGrid) {\\n\\t\\t\\tvar cols = range(0, tableGrid.grid.maxCols);\\n\\t\\t\\tvar rows = range(0, tableGrid.grid.maxRows);\\n\\n\\t\\t\\treturn Tools.map(rows, function(row) {\\n\\t\\t\\t\\tfunction getBlock() {\\n\\t\\t\\t\\t\\tvar details = [];\\n\\t\\t\\t\\t\\tfor (var i = 0; i < cols.length; i++) {\\n\\t\\t\\t\\t\\t\\tvar detail = tableGrid.getAt(row, i);\\n\\t\\t\\t\\t\\t\\tif (detail && detail.rowIndex === row) {\\n\\t\\t\\t\\t\\t\\t\\tdetails.push(detail);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\treturn details;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfunction isSingle(detail) {\\n\\t\\t\\t\\t\\treturn detail.rowspan === 1;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfunction getFallback() {\\n\\t\\t\\t\\t\\treturn tableGrid.getAt(row, 0);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn decide(getBlock, isSingle, getFallback);\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\t// Draw resize bars over the left/right (ltr/rtl) or top side locations of the cells to measure.\\n\\t\\t// This is the location of the borders we need to draw over.\\n\\t\\tfunction drawBars(table) {\\n\\t\\t\\tvar tableDetails = getTableDetails(table);\\n\\t\\t\\tvar tableGrid = getTableGrid(tableDetails);\\n\\t\\t\\tvar rows = getRowBlocks(tableGrid);\\n\\t\\t\\tvar cols = getColumnBlocks(tableGrid);\\n\\n\\t\\t\\tvar tablePosition = editor.dom.getPos(table);\\n\\t\\t\\tvar rowPositions = rows.length > 0 ? findPositions(getTopEdge, getBottomEdge, rows) : [];\\n\\t\\t\\tvar colPositions = cols.length > 0 ? findPositions(getInnerEdge, getOuterEdge, cols) : [];\\n\\n\\t\\t\\tdrawRows(rowPositions, table.offsetWidth, tablePosition);\\n\\t\\t\\tdrawCols(colPositions, table.offsetHeight, tablePosition);\\n\\t\\t}\\n\\n\\t\\t// Attempt to deduce the width/height of a column/row that has more than one cell spanned.\\n\\t\\tfunction deduceSize(deducables, index, isPercentageBased, table) {\\n\\t\\t\\tif (index < 0 || index >= deducables.length - 1) {\\n\\t\\t\\t\\treturn \\\"\\\";\\n\\t\\t\\t}\\n\\n\\t\\t\\tvar current = deducables[index];\\n\\n\\t\\t\\tif (current) {\\n\\t\\t\\t\\tcurrent = {\\n\\t\\t\\t\\t\\tvalue: current,\\n\\t\\t\\t\\t\\tdelta: 0\\n\\t\\t\\t\\t};\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tvar reversedUpToIndex = deducables.slice(0, index).reverse();\\n\\t\\t\\t\\tfor (var i = 0; i < reversedUpToIndex.length; i++) {\\n\\t\\t\\t\\t\\tif (reversedUpToIndex[i]) {\\n\\t\\t\\t\\t\\t\\tcurrent = {\\n\\t\\t\\t\\t\\t\\t\\tvalue: reversedUpToIndex[i],\\n\\t\\t\\t\\t\\t\\t\\tdelta: i + 1\\n\\t\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tvar next = deducables[index + 1];\\n\\n\\t\\t\\tif (next) {\\n\\t\\t\\t\\tnext = {\\n\\t\\t\\t\\t\\tvalue: next,\\n\\t\\t\\t\\t\\tdelta: 1\\n\\t\\t\\t\\t};\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tvar rest = deducables.slice(index + 1);\\n\\t\\t\\t\\tfor (var j = 0; j < rest.length; j++) {\\n\\t\\t\\t\\t\\tif (rest[j]) {\\n\\t\\t\\t\\t\\t\\tnext = {\\n\\t\\t\\t\\t\\t\\t\\tvalue: rest[j],\\n\\t\\t\\t\\t\\t\\t\\tdelta: j + 1\\n\\t\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tvar extras = next.delta - current.delta;\\n\\t\\t\\tvar pixelWidth = Math.abs(next.value - current.value) / extras;\\n\\t\\t\\treturn isPercentageBased ? pixelWidth / getComputedStyleSize(table, 'width') * 100 : pixelWidth;\\n\\t\\t}\\n\\n\\t\\tfunction getStyleOrAttrib(element, property) {\\n\\t\\t\\tvar sizeString = editor.dom.getStyle(element, property);\\n\\t\\t\\tif (!sizeString) {\\n\\t\\t\\t\\tsizeString = editor.dom.getAttrib(element, property);\\n\\t\\t\\t}\\n\\t\\t\\tif (!sizeString) {\\n\\t\\t\\t\\tsizeString = editor.dom.getStyle(element, property, true);\\n\\t\\t\\t}\\n\\t\\t\\treturn sizeString;\\n\\t\\t}\\n\\n\\t\\tfunction getWidth(element, isPercentageBased, table) {\\n\\t\\t\\tvar widthString = getStyleOrAttrib(element, 'width');\\n\\n\\t\\t\\tvar widthNumber = parseInt(widthString, 10);\\n\\n\\t\\t\\tvar getWidthFallback = isPercentageBased ? getPercentageWidthFallback(element, table) : getComputedStyleSize(element, 'width');\\n\\n\\t\\t\\t// If this is percentage based table, but this cell isn't percentage based.\\n\\t\\t\\t// Or if this is a pixel based table, but this cell isn't pixel based.\\n\\t\\t\\tif (isPercentageBased && !isPercentageBasedSize(widthString) ||\\n\\t\\t\\t!isPercentageBased && !isPixelBasedSize(widthString)) {\\n\\t\\t\\t\\t// set the widthnumber to 0\\n\\t\\t\\t\\twidthNumber = 0;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn !isNaN(widthNumber) && widthNumber > 0 ?\\n\\t\\t\\t\\twidthNumber : getWidthFallback;\\n\\t\\t}\\n\\n\\t\\t// Attempt to get the css width from column representative cells.\\n\\t\\tfunction getWidths(tableGrid, isPercentageBased, table) {\\n\\n\\t\\t\\tvar cols = getColumnBlocks(tableGrid);\\n\\n\\t\\t\\tvar backups = Tools.map(cols, function(col) {\\n\\t\\t\\t\\treturn getInnerEdge(col.colIndex, col.element).x;\\n\\t\\t\\t});\\n\\n\\t\\t\\tvar widths = [];\\n\\n\\t\\t\\tfor (var i = 0; i < cols.length; i++) {\\n\\t\\t\\t\\tvar span = cols[i].element.hasAttribute('colspan') ? parseInt(cols[i].element.getAttribute('colspan'), 10) : 1;\\n\\t\\t\\t\\t// Deduce if the column has colspan of more than 1\\n\\t\\t\\t\\tvar width = span > 1 ? deduceSize(backups, i) : getWidth(cols[i].element, isPercentageBased, table);\\n\\t\\t\\t\\t// If everything's failed and we still don't have a width\\n\\t\\t\\t\\twidth = width ? width : RESIZE_MINIMUM_WIDTH;\\n\\t\\t\\t\\twidths.push(width);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn widths;\\n\\t\\t}\\n\\n\\t\\t// Attempt to get the pixel height from a cell.\\n\\t\\tfunction getPixelHeight(element) {\\n\\n\\t\\t\\tvar heightString = getStyleOrAttrib(element, 'height');\\n\\n\\t\\t\\tvar heightNumber = parseInt(heightString, 10);\\n\\n\\t\\t\\tif (isPercentageBasedSize(heightString)) {\\n\\t\\t\\t\\theightNumber = 0;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn !isNaN(heightNumber) && heightNumber > 0 ?\\n\\t\\t\\t\\t\\t\\t\\theightNumber : getComputedStyleSize(element, 'height');\\n\\t\\t}\\n\\n\\t\\t// Attempt to get the css height from row representative cells.\\n\\t\\tfunction getPixelHeights(tableGrid) {\\n\\n\\t\\t\\tvar rows = getRowBlocks(tableGrid);\\n\\n\\t\\t\\tvar backups = Tools.map(rows, function(row) {\\n\\t\\t\\t\\treturn getTopEdge(row.rowIndex, row.element).y;\\n\\t\\t\\t});\\n\\n\\t\\t\\tvar heights = [];\\n\\n\\t\\t\\tfor (var i = 0; i < rows.length; i++) {\\n\\t\\t\\t\\tvar span = rows[i].element.hasAttribute('rowspan') ? parseInt(rows[i].element.getAttribute('rowspan'), 10) : 1;\\n\\n\\t\\t\\t\\tvar height = span > 1 ? deduceSize(backups, i) : getPixelHeight(rows[i].element);\\n\\n\\t\\t\\t\\theight = height ? height : RESIZE_MINIMUM_HEIGHT;\\n\\t\\t\\t\\theights.push(height);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn heights;\\n\\t\\t}\\n\\n\\t\\t// Determine how much each column's css width will need to change.\\n\\t\\t// Sizes = result = pixels widths OR percentage based widths\\n\\t\\tfunction determineDeltas(sizes, column, step, min, isPercentageBased) {\\n\\n\\t\\t\\tvar result = sizes.slice(0);\\n\\n\\t\\t\\tfunction generateZeros(array) {\\n\\t\\t\\t\\treturn Tools.map(array, function() {\\n\\t\\t\\t\\t\\treturn 0;\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction onOneColumn() {\\n\\t\\t\\t\\tvar deltas;\\n\\t\\t\\t\\tif (isPercentageBased) {\\n\\t\\t\\t\\t\\t// If we have one column in a percent based table, that column should be 100% of the width of the table.\\n\\t\\t\\t\\t\\tdeltas = [100 - result[0]];\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tvar newNext = Math.max(min, result[0] + step);\\n\\t\\t\\t\\t\\tdeltas = [newNext - result[0]];\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\treturn deltas;\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction onLeftOrMiddle(index, next) {\\n\\n\\t\\t\\t\\tvar startZeros = generateZeros(result.slice(0, index));\\n\\t\\t\\t\\tvar endZeros = generateZeros(result.slice(next + 1));\\n\\t\\t\\t\\tvar deltas;\\n\\n\\t\\t\\t\\tif (step >= 0) {\\n\\t\\t\\t\\t\\tvar newNext = Math.max(min, result[next] - step);\\n\\t\\t\\t\\t\\tdeltas = startZeros.concat([step, newNext - result[next]]).concat(endZeros);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tvar newThis = Math.max(min, result[index] + step);\\n\\t\\t\\t\\t\\tvar diffx = result[index] - newThis;\\n\\t\\t\\t\\t\\tdeltas = startZeros.concat([newThis - result[index], diffx]).concat(endZeros);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn deltas;\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction onRight(previous, index) {\\n\\t\\t\\t\\tvar startZeros = generateZeros(result.slice(0, index));\\n\\t\\t\\t\\tvar deltas;\\n\\n\\t\\t\\t\\tif (step >= 0) {\\n\\t\\t\\t\\t\\tdeltas = startZeros.concat([step]);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tvar size = Math.max(min, result[index] + step);\\n\\t\\t\\t\\t\\tdeltas = startZeros.concat([size - result[index]]);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn deltas;\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\tvar deltas;\\n\\n\\t\\t\\tif (sizes.length === 0) { // No Columns\\n\\t\\t\\t\\tdeltas = [];\\n\\t\\t\\t} else if (sizes.length === 1) { // One Column\\n\\t\\t\\t\\tdeltas = onOneColumn();\\n\\t\\t\\t} else if (column === 0) { // Left Column\\n\\t\\t\\t\\tdeltas = onLeftOrMiddle(0, 1);\\n\\t\\t\\t} else if (column > 0 && column < sizes.length - 1) { // Middle Column\\n\\t\\t\\t\\tdeltas = onLeftOrMiddle(column, column + 1);\\n\\t\\t\\t} else if (column === sizes.length - 1) { // Right Column\\n\\t\\t\\t\\tdeltas = onRight(column - 1, column);\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tdeltas = [];\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn deltas;\\n\\t\\t}\\n\\n\\t\\tfunction total(start, end, measures) {\\n\\t\\t\\tvar r = 0;\\n\\t\\t\\tfor (var i = start; i < end; i++) {\\n\\t\\t\\t\\tr += measures[i];\\n\\t\\t\\t}\\n\\t\\t\\treturn r;\\n\\t\\t}\\n\\n\\t\\t// Combine cell's css widths to determine widths of colspan'd cells.\\n\\t\\tfunction recalculateWidths(tableGrid, widths) {\\n\\t\\t\\tvar allCells = tableGrid.getAllCells();\\n\\t\\t\\treturn Tools.map(allCells, function(cell) {\\n\\t\\t\\t\\tvar width = total(cell.colIndex, cell.colIndex + cell.colspan, widths);\\n\\t\\t\\t\\treturn {\\n\\t\\t\\t\\t\\telement: cell.element,\\n\\t\\t\\t\\t\\twidth: width,\\n\\t\\t\\t\\t\\tcolspan: cell.colspan\\n\\t\\t\\t\\t};\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\t// Combine cell's css heights to determine heights of rowspan'd cells.\\n\\t\\tfunction recalculateCellHeights(tableGrid, heights) {\\n\\t\\t\\tvar allCells = tableGrid.getAllCells();\\n\\t\\t\\treturn Tools.map(allCells, function(cell) {\\n\\t\\t\\t\\tvar height = total(cell.rowIndex, cell.rowIndex + cell.rowspan, heights);\\n\\t\\t\\t\\treturn {\\n\\t\\t\\t\\t\\telement: cell.element,\\n\\t\\t\\t\\t\\theight: height,\\n\\t\\t\\t\\t\\trowspan: cell.rowspan\\n\\t\\t\\t\\t};\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\t// Calculate row heights.\\n\\t\\tfunction recalculateRowHeights(tableGrid, heights) {\\n\\t\\t\\tvar allRows = tableGrid.getAllRows();\\n\\t\\t\\treturn Tools.map(allRows, function(row, i) {\\n\\t\\t\\t\\treturn {\\n\\t\\t\\t\\t\\telement: row.element,\\n\\t\\t\\t\\t\\theight: heights[i]\\n\\t\\t\\t\\t};\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\tfunction isPercentageBasedSize(size) {\\n\\t\\t\\treturn percentageBasedSizeRegex.test(size);\\n\\t\\t}\\n\\n\\t\\tfunction isPixelBasedSize(size) {\\n\\t\\t\\treturn pixelBasedSizeRegex.test(size);\\n\\t\\t}\\n\\n\\t\\t// Adjust the width of the column of table at index, with delta.\\n\\t\\tfunction adjustWidth(table, delta, index) {\\n\\t\\t\\tvar tableDetails = getTableDetails(table);\\n\\t\\t\\tvar tableGrid = getTableGrid(tableDetails);\\n\\n\\t\\t\\tfunction setSizes(newSizes, styleExtension) {\\n\\t\\t\\t\\tTools.each(newSizes, function(cell) {\\n\\t\\t\\t\\t\\teditor.dom.setStyle(cell.element, 'width', cell.width + styleExtension);\\n\\t\\t\\t\\t\\teditor.dom.setAttrib(cell.element, 'width', null);\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction getNewTablePercentWidth() {\\n\\t\\t\\t\\treturn index < tableGrid.grid.maxCols - 1 ? getCurrentTablePercentWidth(table) :\\n\\t\\t\\t\\t\\tgetCurrentTablePercentWidth(table) + getTablePercentDelta(table, delta);\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction getNewTablePixelWidth() {\\n\\t\\t\\t\\treturn index < tableGrid.grid.maxCols - 1 ? getComputedStyleSize(table, 'width') :\\n\\t\\t\\t\\t\\tgetComputedStyleSize(table, 'width') + delta;\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction setTableSize(newTableWidth, styleExtension, isPercentBased) {\\n\\t\\t\\t\\tif (index == tableGrid.grid.maxCols - 1 || !isPercentBased) {\\n\\t\\t\\t\\t\\teditor.dom.setStyle(table, 'width', newTableWidth + styleExtension);\\n\\t\\t\\t\\t\\teditor.dom.setAttrib(table, 'width', null);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tvar percentageBased = isPercentageBasedSize(table.width) ||\\n\\t\\t\\t\\tisPercentageBasedSize(table.style.width);\\n\\n\\t\\t\\tvar widths = getWidths(tableGrid, percentageBased, table);\\n\\n\\t\\t\\tvar step = percentageBased ? getCellPercentDelta(table, delta) : delta;\\n\\t\\t\\t// TODO: change the min for percentage maybe?\\n\\t\\t\\tvar deltas = determineDeltas(widths, index, step, RESIZE_MINIMUM_WIDTH, percentageBased, table);\\n\\t\\t\\tvar newWidths = [];\\n\\n\\t\\t\\tfor (var i = 0; i < deltas.length; i++) {\\n\\t\\t\\t\\tnewWidths.push(deltas[i] + widths[i]);\\n\\t\\t\\t}\\n\\n\\t\\t\\tvar newSizes = recalculateWidths(tableGrid, newWidths);\\n\\t\\t\\tvar styleExtension = percentageBased ? '%' : 'px';\\n\\t\\t\\tvar newTableWidth = percentageBased ? getNewTablePercentWidth() :\\n\\t\\t\\t\\tgetNewTablePixelWidth();\\n\\n\\t\\t\\teditor.undoManager.transact(function() {\\n\\t\\t\\t\\tsetSizes(newSizes, styleExtension);\\n\\t\\t\\t\\tsetTableSize(newTableWidth, styleExtension, percentageBased);\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\t// Adjust the height of the row of table at index, with delta.\\n\\t\\tfunction adjustHeight(table, delta, index) {\\n\\t\\t\\tvar tableDetails = getTableDetails(table);\\n\\t\\t\\tvar tableGrid = getTableGrid(tableDetails);\\n\\n\\t\\t\\tvar heights = getPixelHeights(tableGrid);\\n\\n\\t\\t\\tvar newHeights = [], newTotalHeight = 0;\\n\\n\\t\\t\\tfor (var i = 0; i < heights.length; i++) {\\n\\t\\t\\t\\tnewHeights.push(i === index ? delta + heights[i] : heights[i]);\\n\\t\\t\\t\\tnewTotalHeight += newTotalHeight[i];\\n\\t\\t\\t}\\n\\n\\t\\t\\tvar newCellSizes = recalculateCellHeights(tableGrid, newHeights);\\n\\t\\t\\tvar newRowSizes = recalculateRowHeights(tableGrid, newHeights);\\n\\n\\t\\t\\teditor.undoManager.transact(function() {\\n\\n\\t\\t\\t\\tTools.each(newRowSizes, function(row) {\\n\\t\\t\\t\\t\\teditor.dom.setStyle(row.element, 'height', row.height + 'px');\\n\\t\\t\\t\\t\\teditor.dom.setAttrib(row.element, 'height', null);\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\tTools.each(newCellSizes, function(cell) {\\n\\t\\t\\t\\t\\teditor.dom.setStyle(cell.element, 'height', cell.height + 'px');\\n\\t\\t\\t\\t\\teditor.dom.setAttrib(cell.element, 'height', null);\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\teditor.dom.setStyle(table, 'height', newTotalHeight + 'px');\\n\\t\\t\\t\\teditor.dom.setAttrib(table, 'height', null);\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\tfunction scheduleDelayedDropEvent() {\\n\\t\\t\\tdelayDrop = setTimeout(function() {\\n\\t\\t\\t\\tdrop();\\n\\t\\t\\t}, 200);\\n\\t\\t}\\n\\n\\t\\tfunction cancelDelayedDropEvent() {\\n\\t\\t\\tclearTimeout(delayDrop);\\n\\t\\t}\\n\\n\\t\\tfunction getBlockerElement() {\\n\\t\\t\\tvar blocker = document.createElement('div');\\n\\n\\t\\t\\tblocker.setAttribute('style', 'margin: 0; ' +\\n\\t\\t\\t\\t\\t\\t'padding: 0; ' +\\n\\t\\t\\t\\t\\t\\t'position: fixed; ' +\\n\\t\\t\\t\\t\\t\\t'left: 0px; ' +\\n\\t\\t\\t\\t\\t\\t'top: 0px; ' +\\n\\t\\t\\t\\t\\t\\t'height: 100%; ' +\\n\\t\\t\\t\\t\\t\\t'width: 100%;');\\n\\t\\t\\tblocker.setAttribute('data-mce-bogus', 'all');\\n\\n\\t\\t\\treturn blocker;\\n\\t\\t}\\n\\n\\t\\tfunction bindBlockerEvents(blocker, dragHandler) {\\n\\t\\t\\teditor.dom.bind(blocker, 'mouseup', function() {\\n\\t\\t\\t\\tdrop();\\n\\t\\t\\t});\\n\\n\\t\\t\\teditor.dom.bind(blocker, 'mousemove', function(e) {\\n\\t\\t\\t\\tcancelDelayedDropEvent();\\n\\n\\t\\t\\t\\tif (dragging) {\\n\\t\\t\\t\\t\\tdragHandler(e);\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\teditor.dom.bind(blocker, 'mouseout', function() {\\n\\t\\t\\t\\tscheduleDelayedDropEvent();\\n\\t\\t\\t});\\n\\n\\t\\t}\\n\\n\\t\\tfunction drop() {\\n\\t\\t\\teditor.dom.remove(blockerElement);\\n\\n\\t\\t\\tif (dragging) {\\n\\t\\t\\t\\teditor.dom.removeClass(dragBar, RESIZE_BAR_DRAGGING_CLASS);\\n\\t\\t\\t\\tdragging = false;\\n\\n\\t\\t\\t\\tvar index, delta;\\n\\n\\t\\t\\t\\tif (isCol(dragBar)) {\\n\\t\\t\\t\\t\\tvar initialLeft = parseInt(editor.dom.getAttrib(dragBar, RESIZE_BAR_COL_DATA_INITIAL_LEFT_ATTRIBUTE), 10);\\n\\t\\t\\t\\t\\tvar newLeft = editor.dom.getPos(dragBar).x;\\n\\t\\t\\t\\t\\tindex = parseInt(editor.dom.getAttrib(dragBar, RESIZE_BAR_COL_DATA_ATTRIBUTE), 10);\\n\\t\\t\\t\\t\\tdelta = isRtl() ? initialLeft - newLeft : newLeft - initialLeft;\\n\\t\\t\\t\\t\\tif (Math.abs(delta) >= 1) {\\t\\t\\t// simple click with no real resize (<1px) must not add CSS properties\\n\\t\\t\\t\\t\\t\\tadjustWidth(hoverTable, delta, index);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} else if (isRow(dragBar)) {\\n\\t\\t\\t\\t\\tvar initialTop = parseInt(editor.dom.getAttrib(dragBar, RESIZE_BAR_ROW_DATA_INITIAL_TOP_ATTRIBUTE), 10);\\n\\t\\t\\t\\t\\tvar newTop = editor.dom.getPos(dragBar).y;\\n\\t\\t\\t\\t\\tindex = parseInt(editor.dom.getAttrib(dragBar, RESIZE_BAR_ROW_DATA_ATTRIBUTE), 10);\\n\\t\\t\\t\\t\\tdelta = newTop - initialTop;\\n\\t\\t\\t\\t\\tif (Math.abs(delta) >= 1) {\\t\\t\\t// simple click with no real resize (<1px) must not add CSS properties\\n\\t\\t\\t\\t\\t\\tadjustHeight(hoverTable, delta, index);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\trefreshBars(hoverTable);\\n\\t\\t\\t\\teditor.nodeChanged();\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction setupBaseDrag(bar, dragHandler) {\\n\\t\\t\\tblockerElement = blockerElement ? blockerElement : getBlockerElement();\\n\\t\\t\\tdragging = true;\\n\\t\\t\\teditor.dom.addClass(bar, RESIZE_BAR_DRAGGING_CLASS);\\n\\t\\t\\tdragBar = bar;\\n\\t\\t\\tbindBlockerEvents(blockerElement, dragHandler);\\n\\t\\t\\teditor.dom.add(getBody(), blockerElement);\\n\\t\\t}\\n\\n\\t\\tfunction isCol(target) {\\n\\t\\t\\treturn editor.dom.hasClass(target, RESIZE_BAR_COL_CLASS);\\n\\t\\t}\\n\\n\\t\\tfunction isRow(target) {\\n\\t\\t\\treturn editor.dom.hasClass(target, RESIZE_BAR_ROW_CLASS);\\n\\t\\t}\\n\\n\\t\\tfunction colDragHandler(event) {\\n\\t\\t\\tlastX = lastX !== undefined ? lastX : event.clientX; // we need a firstX\\n\\t\\t\\tvar deltaX = event.clientX - lastX;\\n\\t\\t\\tlastX = event.clientX;\\n\\t\\t\\tvar oldLeft = editor.dom.getPos(dragBar).x;\\n\\t\\t\\teditor.dom.setStyle(dragBar, 'left', oldLeft + deltaX + 'px');\\n\\t\\t}\\n\\n\\t\\tfunction rowDragHandler(event) {\\n\\t\\t\\tlastY = lastY !== undefined ? lastY : event.clientY;\\n\\t\\t\\tvar deltaY = event.clientY - lastY;\\n\\t\\t\\tlastY = event.clientY;\\n\\t\\t\\tvar oldTop = editor.dom.getPos(dragBar).y;\\n\\t\\t\\teditor.dom.setStyle(dragBar, 'top', oldTop + deltaY + 'px');\\n\\t\\t}\\n\\n\\t\\tfunction setupColDrag(bar) {\\n\\t\\t\\tlastX = undefined;\\n\\t\\t\\tsetupBaseDrag(bar, colDragHandler);\\n\\t\\t}\\n\\n\\t\\tfunction setupRowDrag(bar) {\\n\\t\\t\\tlastY = undefined;\\n\\t\\t\\tsetupBaseDrag(bar, rowDragHandler);\\n\\t\\t}\\n\\n\\t\\tfunction mouseDownHandler(e) {\\n\\t\\t\\tvar target = e.target, body = editor.getBody();\\n\\n\\t\\t\\t// Since this code is working on global events we need to work on a global hoverTable state\\n\\t\\t\\t// and make sure that the state is correct according to the events fired\\n\\t\\t\\tif (!editor.$.contains(body, hoverTable) && hoverTable !== body) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (isCol(target)) {\\n\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t\\tvar initialLeft = editor.dom.getPos(target).x;\\n\\t\\t\\t\\teditor.dom.setAttrib(target, RESIZE_BAR_COL_DATA_INITIAL_LEFT_ATTRIBUTE, initialLeft);\\n\\t\\t\\t\\tsetupColDrag(target);\\n\\t\\t\\t} else if (isRow(target)) {\\n\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t\\tvar initialTop = editor.dom.getPos(target).y;\\n\\t\\t\\t\\teditor.dom.setAttrib(target, RESIZE_BAR_ROW_DATA_INITIAL_TOP_ATTRIBUTE, initialTop);\\n\\t\\t\\t\\tsetupRowDrag(target);\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tclearBars();\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\teditor.on('init', function() {\\n\\t\\t\\t// Needs to be like this for inline mode, editor.on does not bind to elements in the document body otherwise\\n\\t\\t\\teditor.dom.bind(getBody(), 'mousedown', mouseDownHandler);\\n\\t\\t});\\n\\n\\t\\t// If we're updating the table width via the old mechanic, we need to update the constituent cells' widths/heights too.\\n\\t\\teditor.on('ObjectResized', function(e) {\\n\\t\\t\\tvar table = e.target;\\n\\t\\t\\tif (table.nodeName === 'TABLE') {\\n\\t\\t\\t\\tvar newCellSizes = [];\\n\\t\\t\\t\\tTools.each(table.rows, function(row) {\\n\\t\\t\\t\\t\\tTools.each(row.cells, function(cell) {\\n\\t\\t\\t\\t\\t\\tvar width = editor.dom.getStyle(cell, 'width', true);\\n\\t\\t\\t\\t\\t\\tnewCellSizes.push({\\n\\t\\t\\t\\t\\t\\t\\tcell: cell,\\n\\t\\t\\t\\t\\t\\t\\twidth: width\\n\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t});\\n\\t\\t\\t\\tTools.each(newCellSizes, function(newCellSize) {\\n\\t\\t\\t\\t\\teditor.dom.setStyle(newCellSize.cell, 'width', newCellSize.width);\\n\\t\\t\\t\\t\\teditor.dom.setAttrib(newCellSize.cell, 'width', null);\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\teditor.on('mouseover', function(e) {\\n\\t\\t\\tif (!dragging) {\\n\\t\\t\\t\\tvar tableElement = editor.dom.getParent(e.target, 'table');\\n\\n\\t\\t\\t\\tif (e.target.nodeName === 'TABLE' || tableElement) {\\n\\t\\t\\t\\t\\thoverTable = tableElement;\\n\\t\\t\\t\\t\\trefreshBars(tableElement);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\t// Prevents the user from moving the caret inside the resize bars on Chrome\\n\\t\\t// Only does it on arrow keys since clearBars might be an epxensive operation\\n\\t\\t// since it's querying the DOM\\n\\t\\teditor.on('keydown', function(e) {\\n\\t\\t\\tswitch (e.keyCode) {\\n\\t\\t\\t\\tcase VK.LEFT:\\n\\t\\t\\t\\tcase VK.RIGHT:\\n\\t\\t\\t\\tcase VK.UP:\\n\\t\\t\\t\\tcase VK.DOWN:\\n\\t\\t\\t\\t\\tclearBars();\\n\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\teditor.on('remove', function() {\\n\\t\\t\\tclearBars();\\n\\t\\t\\teditor.dom.unbind(getBody(), 'mousedown', mouseDownHandler);\\n\\t\\t});\\n\\n\\t\\treturn {\\n\\t\\t\\tadjustWidth: adjustWidth,\\n\\t\\t\\tadjustHeight: adjustHeight,\\n\\t\\t\\tclearBars: clearBars,\\n\\t\\t\\tdrawBars: drawBars,\\n\\t\\t\\tdetermineDeltas: determineDeltas,\\n\\t\\t\\tgetTableGrid: getTableGrid,\\n\\t\\t\\tgetTableDetails: getTableDetails,\\n\\t\\t\\tgetWidths: getWidths,\\n\\t\\t\\tgetPixelHeights: getPixelHeights,\\n\\t\\t\\tisPercentageBasedSize: isPercentageBasedSize,\\n\\t\\t\\tisPixelBasedSize: isPixelBasedSize,\\n\\t\\t\\trecalculateWidths: recalculateWidths,\\n\\t\\t\\trecalculateCellHeights: recalculateCellHeights,\\n\\t\\t\\trecalculateRowHeights: recalculateRowHeights\\n\\t\\t};\\n\\t};\\n});\\n\\n// Included from: js/tinymce/plugins/table/classes/Plugin.js\\n\\n/**\\n * Plugin.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class contains all core logic for the table plugin.\\n *\\n * @class tinymce.tableplugin.Plugin\\n * @private\\n */\\ndefine(\\\"tinymce/tableplugin/Plugin\\\", [\\n\\t\\\"tinymce/tableplugin/TableGrid\\\",\\n\\t\\\"tinymce/tableplugin/Quirks\\\",\\n\\t\\\"tinymce/tableplugin/CellSelection\\\",\\n\\t\\\"tinymce/tableplugin/Dialogs\\\",\\n\\t\\\"tinymce/tableplugin/ResizeBars\\\",\\n\\t\\\"tinymce/util/Tools\\\",\\n\\t\\\"tinymce/dom/TreeWalker\\\",\\n\\t\\\"tinymce/Env\\\",\\n\\t\\\"tinymce/PluginManager\\\"\\n], function(TableGrid, Quirks, CellSelection, Dialogs, ResizeBars, Tools, TreeWalker, Env, PluginManager) {\\n\\tvar each = Tools.each;\\n\\n\\tfunction Plugin(editor) {\\n\\t\\tvar clipboardRows, self = this, dialogs = new Dialogs(editor), resizeBars;\\n\\n\\t\\tif (editor.settings.object_resizing && editor.settings.table_resize_bars !== false &&\\n\\t\\t\\t(editor.settings.object_resizing === true || editor.settings.object_resizing === 'table')) {\\n\\t\\t\\tresizeBars = ResizeBars(editor);\\n\\t\\t}\\n\\n\\t\\tfunction cmd(command) {\\n\\t\\t\\treturn function() {\\n\\t\\t\\t\\teditor.execCommand(command);\\n\\t\\t\\t};\\n\\t\\t}\\n\\n\\t\\tfunction insertTable(cols, rows) {\\n\\t\\t\\tvar y, x, html, tableElm;\\n\\n\\t\\t\\thtml = '<table id=\\\"__mce\\\"><tbody>';\\n\\n\\t\\t\\tfor (y = 0; y < rows; y++) {\\n\\t\\t\\t\\thtml += '<tr>';\\n\\n\\t\\t\\t\\tfor (x = 0; x < cols; x++) {\\n\\t\\t\\t\\t\\thtml += '<td>' + (Env.ie && Env.ie < 10 ? '&nbsp;' : '<br>') + '</td>';\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\thtml += '</tr>';\\n\\t\\t\\t}\\n\\n\\t\\t\\thtml += '</tbody></table>';\\n\\n\\t\\t\\teditor.undoManager.transact(function() {\\n\\t\\t\\t\\teditor.insertContent(html);\\n\\n\\t\\t\\t\\ttableElm = editor.dom.get('__mce');\\n\\t\\t\\t\\teditor.dom.setAttrib(tableElm, 'id', null);\\n\\n\\t\\t\\t\\teditor.$('tr', tableElm).each(function(index, row) {\\n\\t\\t\\t\\t\\teditor.fire('newrow', {\\n\\t\\t\\t\\t\\t\\tnode: row\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\teditor.$('th,td', row).each(function(index, cell) {\\n\\t\\t\\t\\t\\t\\teditor.fire('newcell', {\\n\\t\\t\\t\\t\\t\\t\\tnode: cell\\n\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\teditor.dom.setAttribs(tableElm, editor.settings.table_default_attributes || {});\\n\\t\\t\\t\\teditor.dom.setStyles(tableElm, editor.settings.table_default_styles || {});\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn tableElm;\\n\\t\\t}\\n\\n\\t\\tfunction handleDisabledState(ctrl, selector, sameParts) {\\n\\t\\t\\tfunction bindStateListener() {\\n\\t\\t\\t\\tvar selectedElm, selectedCells, parts = {}, sum = 0, state;\\n\\n\\t\\t\\t\\tselectedCells = editor.dom.select('td[data-mce-selected],th[data-mce-selected]');\\n\\t\\t\\t\\tselectedElm = selectedCells[0];\\n\\t\\t\\t\\tif (!selectedElm) {\\n\\t\\t\\t\\t\\tselectedElm = editor.selection.getStart();\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Make sure that we don't have a selection inside thead and tbody at the same time\\n\\t\\t\\t\\tif (sameParts && selectedCells.length > 0) {\\n\\t\\t\\t\\t\\teach(selectedCells, function(cell) {\\n\\t\\t\\t\\t\\t\\treturn parts[cell.parentNode.parentNode.nodeName] = 1;\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\teach(parts, function(value) {\\n\\t\\t\\t\\t\\t\\tsum += value;\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\tstate = sum !== 1;\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tstate = !editor.dom.getParent(selectedElm, selector);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tctrl.disabled(state);\\n\\n\\t\\t\\t\\teditor.selection.selectorChanged(selector, function(state) {\\n\\t\\t\\t\\t\\tctrl.disabled(!state);\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (editor.initialized) {\\n\\t\\t\\t\\tbindStateListener();\\n\\t\\t\\t} else {\\n\\t\\t\\t\\teditor.on('init', bindStateListener);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction postRender() {\\n\\t\\t\\t/*jshint validthis:true*/\\n\\t\\t\\thandleDisabledState(this, 'table');\\n\\t\\t}\\n\\n\\t\\tfunction postRenderCell() {\\n\\t\\t\\t/*jshint validthis:true*/\\n\\t\\t\\thandleDisabledState(this, 'td,th');\\n\\t\\t}\\n\\n\\t\\tfunction postRenderMergeCell() {\\n\\t\\t\\t/*jshint validthis:true*/\\n\\t\\t\\thandleDisabledState(this, 'td,th', true);\\n\\t\\t}\\n\\n\\t\\tfunction generateTableGrid() {\\n\\t\\t\\tvar html = '';\\n\\n\\t\\t\\thtml = '<table role=\\\"grid\\\" class=\\\"mce-grid mce-grid-border\\\" aria-readonly=\\\"true\\\">';\\n\\n\\t\\t\\tfor (var y = 0; y < 10; y++) {\\n\\t\\t\\t\\thtml += '<tr>';\\n\\n\\t\\t\\t\\tfor (var x = 0; x < 10; x++) {\\n\\t\\t\\t\\t\\thtml += '<td role=\\\"gridcell\\\" tabindex=\\\"-1\\\"><a id=\\\"mcegrid' + (y * 10 + x) + '\\\" href=\\\"#\\\" ' +\\n\\t\\t\\t\\t\\t\\t'data-mce-x=\\\"' + x + '\\\" data-mce-y=\\\"' + y + '\\\"></a></td>';\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\thtml += '</tr>';\\n\\t\\t\\t}\\n\\n\\t\\t\\thtml += '</table>';\\n\\n\\t\\t\\thtml += '<div class=\\\"mce-text-center\\\" role=\\\"presentation\\\">1 x 1</div>';\\n\\n\\t\\t\\treturn html;\\n\\t\\t}\\n\\n\\t\\tfunction selectGrid(tx, ty, control) {\\n\\t\\t\\tvar table = control.getEl().getElementsByTagName('table')[0];\\n\\t\\t\\tvar x, y, focusCell, cell, active;\\n\\t\\t\\tvar rtl = control.isRtl() || control.parent().rel == 'tl-tr';\\n\\n\\t\\t\\ttable.nextSibling.innerHTML = (tx + 1) + ' x ' + (ty + 1);\\n\\n\\t\\t\\tif (rtl) {\\n\\t\\t\\t\\ttx = 9 - tx;\\n\\t\\t\\t}\\n\\n\\t\\t\\tfor (y = 0; y < 10; y++) {\\n\\t\\t\\t\\tfor (x = 0; x < 10; x++) {\\n\\t\\t\\t\\t\\tcell = table.rows[y].childNodes[x].firstChild;\\n\\t\\t\\t\\t\\tactive = (rtl ? x >= tx : x <= tx) && y <= ty;\\n\\n\\t\\t\\t\\t\\teditor.dom.toggleClass(cell, 'mce-active', active);\\n\\n\\t\\t\\t\\t\\tif (active) {\\n\\t\\t\\t\\t\\t\\tfocusCell = cell;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn focusCell.parentNode;\\n\\t\\t}\\n\\n\\t\\tif (editor.settings.table_grid === false) {\\n\\t\\t\\teditor.addMenuItem('inserttable', {\\n\\t\\t\\t\\ttext: 'Table',\\n\\t\\t\\t\\ticon: 'table',\\n\\t\\t\\t\\tcontext: 'table',\\n\\t\\t\\t\\tonclick: dialogs.table\\n\\t\\t\\t});\\n\\t\\t} else {\\n\\t\\t\\teditor.addMenuItem('inserttable', {\\n\\t\\t\\t\\ttext: 'Table',\\n\\t\\t\\t\\ticon: 'table',\\n\\t\\t\\t\\tcontext: 'table',\\n\\t\\t\\t\\tariaHideMenu: true,\\n\\t\\t\\t\\tonclick: function(e) {\\n\\t\\t\\t\\t\\tif (e.aria) {\\n\\t\\t\\t\\t\\t\\tthis.parent().hideAll();\\n\\t\\t\\t\\t\\t\\te.stopImmediatePropagation();\\n\\t\\t\\t\\t\\t\\tdialogs.table();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\tonshow: function() {\\n\\t\\t\\t\\t\\tselectGrid(0, 0, this.menu.items()[0]);\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\tonhide: function() {\\n\\t\\t\\t\\t\\tvar elements = this.menu.items()[0].getEl().getElementsByTagName('a');\\n\\t\\t\\t\\t\\teditor.dom.removeClass(elements, 'mce-active');\\n\\t\\t\\t\\t\\teditor.dom.addClass(elements[0], 'mce-active');\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\tmenu: [\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\ttype: 'container',\\n\\t\\t\\t\\t\\t\\thtml: generateTableGrid(),\\n\\n\\t\\t\\t\\t\\t\\tonPostRender: function() {\\n\\t\\t\\t\\t\\t\\t\\tthis.lastX = this.lastY = 0;\\n\\t\\t\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\t\\t\\tonmousemove: function(e) {\\n\\t\\t\\t\\t\\t\\t\\tvar target = e.target, x, y;\\n\\n\\t\\t\\t\\t\\t\\t\\tif (target.tagName.toUpperCase() == 'A') {\\n\\t\\t\\t\\t\\t\\t\\t\\tx = parseInt(target.getAttribute('data-mce-x'), 10);\\n\\t\\t\\t\\t\\t\\t\\t\\ty = parseInt(target.getAttribute('data-mce-y'), 10);\\n\\n\\t\\t\\t\\t\\t\\t\\t\\tif (this.isRtl() || this.parent().rel == 'tl-tr') {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tx = 9 - x;\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t\\tif (x !== this.lastX || y !== this.lastY) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tselectGrid(x, y, e.control);\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tthis.lastX = x;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tthis.lastY = y;\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\t\\t\\tonclick: function(e) {\\n\\t\\t\\t\\t\\t\\t\\tvar self = this;\\n\\n\\t\\t\\t\\t\\t\\t\\tif (e.target.tagName.toUpperCase() == 'A') {\\n\\t\\t\\t\\t\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t\\t\\t\\t\\t\\te.stopPropagation();\\n\\t\\t\\t\\t\\t\\t\\t\\tself.parent().cancel();\\n\\n\\t\\t\\t\\t\\t\\t\\t\\teditor.undoManager.transact(function() {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tinsertTable(self.lastX + 1, self.lastY + 1);\\n\\t\\t\\t\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\t\\t\\t\\teditor.addVisual();\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t]\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\teditor.addMenuItem('tableprops', {\\n\\t\\t\\ttext: 'Table properties',\\n\\t\\t\\tcontext: 'table',\\n\\t\\t\\tonPostRender: postRender,\\n\\t\\t\\tonclick: dialogs.tableProps\\n\\t\\t});\\n\\n\\t\\teditor.addMenuItem('deletetable', {\\n\\t\\t\\ttext: 'Delete table',\\n\\t\\t\\tcontext: 'table',\\n\\t\\t\\tonPostRender: postRender,\\n\\t\\t\\tcmd: 'mceTableDelete'\\n\\t\\t});\\n\\n\\t\\teditor.addMenuItem('cell', {\\n\\t\\t\\tseparator: 'before',\\n\\t\\t\\ttext: 'Cell',\\n\\t\\t\\tcontext: 'table',\\n\\t\\t\\tmenu: [\\n\\t\\t\\t\\t{text: 'Cell properties', onclick: cmd('mceTableCellProps'), onPostRender: postRenderCell},\\n\\t\\t\\t\\t{text: 'Merge cells', onclick: cmd('mceTableMergeCells'), onPostRender: postRenderMergeCell},\\n\\t\\t\\t\\t{text: 'Split cell', onclick: cmd('mceTableSplitCells'), onPostRender: postRenderCell}\\n\\t\\t\\t]\\n\\t\\t});\\n\\n\\t\\teditor.addMenuItem('row', {\\n\\t\\t\\ttext: 'Row',\\n\\t\\t\\tcontext: 'table',\\n\\t\\t\\tmenu: [\\n\\t\\t\\t\\t{text: 'Insert row before', onclick: cmd('mceTableInsertRowBefore'), onPostRender: postRenderCell},\\n\\t\\t\\t\\t{text: 'Insert row after', onclick: cmd('mceTableInsertRowAfter'), onPostRender: postRenderCell},\\n\\t\\t\\t\\t{text: 'Delete row', onclick: cmd('mceTableDeleteRow'), onPostRender: postRenderCell},\\n\\t\\t\\t\\t{text: 'Row properties', onclick: cmd('mceTableRowProps'), onPostRender: postRenderCell},\\n\\t\\t\\t\\t{text: '-'},\\n\\t\\t\\t\\t{text: 'Cut row', onclick: cmd('mceTableCutRow'), onPostRender: postRenderCell},\\n\\t\\t\\t\\t{text: 'Copy row', onclick: cmd('mceTableCopyRow'), onPostRender: postRenderCell},\\n\\t\\t\\t\\t{text: 'Paste row before', onclick: cmd('mceTablePasteRowBefore'), onPostRender: postRenderCell},\\n\\t\\t\\t\\t{text: 'Paste row after', onclick: cmd('mceTablePasteRowAfter'), onPostRender: postRenderCell}\\n\\t\\t\\t]\\n\\t\\t});\\n\\n\\t\\teditor.addMenuItem('column', {\\n\\t\\t\\ttext: 'Column',\\n\\t\\t\\tcontext: 'table',\\n\\t\\t\\tmenu: [\\n\\t\\t\\t\\t{text: 'Insert column before', onclick: cmd('mceTableInsertColBefore'), onPostRender: postRenderCell},\\n\\t\\t\\t\\t{text: 'Insert column after', onclick: cmd('mceTableInsertColAfter'), onPostRender: postRenderCell},\\n\\t\\t\\t\\t{text: 'Delete column', onclick: cmd('mceTableDeleteCol'), onPostRender: postRenderCell}\\n\\t\\t\\t]\\n\\t\\t});\\n\\n\\t\\tvar menuItems = [];\\n\\t\\teach(\\\"inserttable tableprops deletetable | cell row column\\\".split(' '), function(name) {\\n\\t\\t\\tif (name == '|') {\\n\\t\\t\\t\\tmenuItems.push({text: '-'});\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tmenuItems.push(editor.menuItems[name]);\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\teditor.addButton(\\\"table\\\", {\\n\\t\\t\\ttype: \\\"menubutton\\\",\\n\\t\\t\\ttitle: \\\"Table\\\",\\n\\t\\t\\tmenu: menuItems\\n\\t\\t});\\n\\n\\t\\t// Select whole table is a table border is clicked\\n\\t\\tif (!Env.isIE) {\\n\\t\\t\\teditor.on('click', function(e) {\\n\\t\\t\\t\\te = e.target;\\n\\n\\t\\t\\t\\tif (e.nodeName === 'TABLE') {\\n\\t\\t\\t\\t\\teditor.selection.select(e);\\n\\t\\t\\t\\t\\teditor.nodeChanged();\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\tself.quirks = new Quirks(editor);\\n\\n\\t\\teditor.on('Init', function() {\\n\\t\\t\\tself.cellSelection = new CellSelection(editor, function (selecting) {\\n\\t\\t\\t\\tif (selecting && resizeBars) {\\n\\t\\t\\t\\t\\tresizeBars.clearBars();\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t\\tself.resizeBars = resizeBars;\\n\\t\\t});\\n\\n\\t\\teditor.on('PreInit', function() {\\n\\t\\t\\t// Remove internal data attributes\\n\\t\\t\\teditor.serializer.addAttributeFilter(\\n\\t\\t\\t\\t'data-mce-cell-padding,data-mce-border,data-mce-border-color',\\n\\t\\t\\t\\tfunction(nodes, name) {\\n\\n\\t\\t\\t\\t\\tvar i = nodes.length;\\n\\n\\t\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\t\\tnodes[i].attr(name, null);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\t\\t});\\n\\n\\t\\t// Register action commands\\n\\t\\teach({\\n\\t\\t\\tmceTableSplitCells: function(grid) {\\n\\t\\t\\t\\tgrid.split();\\n\\t\\t\\t},\\n\\n\\t\\t\\tmceTableMergeCells: function(grid) {\\n\\t\\t\\t\\tvar cell;\\n\\n\\t\\t\\t\\tcell = editor.dom.getParent(editor.selection.getStart(), 'th,td');\\n\\n\\t\\t\\t\\tif (!editor.dom.select('td[data-mce-selected],th[data-mce-selected]').length) {\\n\\t\\t\\t\\t\\tdialogs.merge(grid, cell);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tgrid.merge();\\n\\t\\t\\t\\t}\\n\\t\\t\\t},\\n\\n\\t\\t\\tmceTableInsertRowBefore: function(grid) {\\n\\t\\t\\t\\tgrid.insertRows(true);\\n\\t\\t\\t},\\n\\n\\t\\t\\tmceTableInsertRowAfter: function(grid) {\\n\\t\\t\\t\\tgrid.insertRows();\\n\\t\\t\\t},\\n\\n\\t\\t\\tmceTableInsertColBefore: function(grid) {\\n\\t\\t\\t\\tgrid.insertCols(true);\\n\\t\\t\\t},\\n\\n\\t\\t\\tmceTableInsertColAfter: function(grid) {\\n\\t\\t\\t\\tgrid.insertCols();\\n\\t\\t\\t},\\n\\n\\t\\t\\tmceTableDeleteCol: function(grid) {\\n\\t\\t\\t\\tgrid.deleteCols();\\n\\t\\t\\t},\\n\\n\\t\\t\\tmceTableDeleteRow: function(grid) {\\n\\t\\t\\t\\tgrid.deleteRows();\\n\\t\\t\\t},\\n\\n\\t\\t\\tmceTableCutRow: function(grid) {\\n\\t\\t\\t\\tclipboardRows = grid.cutRows();\\n\\t\\t\\t},\\n\\n\\t\\t\\tmceTableCopyRow: function(grid) {\\n\\t\\t\\t\\tclipboardRows = grid.copyRows();\\n\\t\\t\\t},\\n\\n\\t\\t\\tmceTablePasteRowBefore: function(grid) {\\n\\t\\t\\t\\tgrid.pasteRows(clipboardRows, true);\\n\\t\\t\\t},\\n\\n\\t\\t\\tmceTablePasteRowAfter: function(grid) {\\n\\t\\t\\t\\tgrid.pasteRows(clipboardRows);\\n\\t\\t\\t},\\n\\n\\t\\t\\tmceSplitColsBefore: function(grid) {\\n\\t\\t\\t\\tgrid.splitCols(true);\\n\\t\\t\\t},\\n\\n\\t\\t\\tmceSplitColsAfter: function(grid) {\\n\\t\\t\\t\\tgrid.splitCols(false);\\n\\t\\t\\t},\\n\\n\\t\\t\\tmceTableDelete: function(grid) {\\n\\t\\t\\t\\tif (resizeBars) {\\n\\t\\t\\t\\t\\tresizeBars.clearBars();\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tgrid.deleteTable();\\n\\t\\t\\t}\\n\\t\\t}, function(func, name) {\\n\\t\\t\\teditor.addCommand(name, function() {\\n\\t\\t\\t\\tvar grid = new TableGrid(editor);\\n\\n\\t\\t\\t\\tif (grid) {\\n\\t\\t\\t\\t\\tfunc(grid);\\n\\t\\t\\t\\t\\teditor.execCommand('mceRepaint');\\n\\t\\t\\t\\t\\tself.cellSelection.clear();\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t});\\n\\n\\t\\t// Register dialog commands\\n\\t\\teach({\\n\\t\\t\\tmceInsertTable: dialogs.table,\\n\\t\\t\\tmceTableProps: function() {\\n\\t\\t\\t\\tdialogs.table(true);\\n\\t\\t\\t},\\n\\t\\t\\tmceTableRowProps: dialogs.row,\\n\\t\\t\\tmceTableCellProps: dialogs.cell\\n\\t\\t}, function(func, name) {\\n\\t\\t\\teditor.addCommand(name, function(ui, val) {\\n\\t\\t\\t\\tfunc(val);\\n\\t\\t\\t});\\n\\t\\t});\\n\\n\\t\\tfunction addButtons() {\\n\\t\\t\\teditor.addButton('tableprops', {\\n\\t\\t\\t\\ttitle: 'Table properties',\\n\\t\\t\\t\\tonclick: dialogs.tableProps,\\n\\t\\t\\t\\ticon: 'table'\\n\\t\\t\\t});\\n\\n\\t\\t\\teditor.addButton('tabledelete', {\\n\\t\\t\\t\\ttitle: 'Delete table',\\n\\t\\t\\t\\tonclick: cmd('mceTableDelete')\\n\\t\\t\\t});\\n\\n\\t\\t\\teditor.addButton('tablecellprops', {\\n\\t\\t\\t\\ttitle: 'Cell properties',\\n\\t\\t\\t\\tonclick: cmd('mceTableCellProps')\\n\\t\\t\\t});\\n\\n\\t\\t\\teditor.addButton('tablemergecells', {\\n\\t\\t\\t\\ttitle: 'Merge cells',\\n\\t\\t\\t\\tonclick: cmd('mceTableMergeCells')\\n\\t\\t\\t});\\n\\n\\t\\t\\teditor.addButton('tablesplitcells', {\\n\\t\\t\\t\\ttitle: 'Split cell',\\n\\t\\t\\t\\tonclick: cmd('mceTableSplitCells')\\n\\t\\t\\t});\\n\\n\\t\\t\\teditor.addButton('tableinsertrowbefore', {\\n\\t\\t\\t\\ttitle: 'Insert row before',\\n\\t\\t\\t\\tonclick: cmd('mceTableInsertRowBefore')\\n\\t\\t\\t});\\n\\n\\t\\t\\teditor.addButton('tableinsertrowafter', {\\n\\t\\t\\t\\ttitle: 'Insert row after',\\n\\t\\t\\t\\tonclick: cmd('mceTableInsertRowAfter')\\n\\t\\t\\t});\\n\\n\\t\\t\\teditor.addButton('tabledeleterow', {\\n\\t\\t\\t\\ttitle: 'Delete row',\\n\\t\\t\\t\\tonclick: cmd('mceTableDeleteRow')\\n\\t\\t\\t});\\n\\n\\t\\t\\teditor.addButton('tablerowprops', {\\n\\t\\t\\t\\ttitle: 'Row properties',\\n\\t\\t\\t\\tonclick: cmd('mceTableRowProps')\\n\\t\\t\\t});\\n\\n\\t\\t\\teditor.addButton('tablecutrow', {\\n\\t\\t\\t\\ttitle: 'Cut row',\\n\\t\\t\\t\\tonclick: cmd('mceTableCutRow')\\n\\t\\t\\t});\\n\\n\\t\\t\\teditor.addButton('tablecopyrow', {\\n\\t\\t\\t\\ttitle: 'Copy row',\\n\\t\\t\\t\\tonclick: cmd('mceTableCopyRow')\\n\\t\\t\\t});\\n\\n\\t\\t\\teditor.addButton('tablepasterowbefore', {\\n\\t\\t\\t\\ttitle: 'Paste row before',\\n\\t\\t\\t\\tonclick: cmd('mceTablePasteRowBefore')\\n\\t\\t\\t});\\n\\n\\t\\t\\teditor.addButton('tablepasterowafter', {\\n\\t\\t\\t\\ttitle: 'Paste row after',\\n\\t\\t\\t\\tonclick: cmd('mceTablePasteRowAfter')\\n\\t\\t\\t});\\n\\n\\t\\t\\teditor.addButton('tableinsertcolbefore', {\\n\\t\\t\\t\\ttitle: 'Insert column before',\\n\\t\\t\\t\\tonclick: cmd('mceTableInsertColBefore')\\n\\t\\t\\t});\\n\\n\\t\\t\\teditor.addButton('tableinsertcolafter', {\\n\\t\\t\\t\\ttitle: 'Insert column after',\\n\\t\\t\\t\\tonclick: cmd('mceTableInsertColAfter')\\n\\t\\t\\t});\\n\\n\\t\\t\\teditor.addButton('tabledeletecol', {\\n\\t\\t\\t\\ttitle: 'Delete column',\\n\\t\\t\\t\\tonclick: cmd('mceTableDeleteCol')\\n\\t\\t\\t});\\n\\n\\t\\t}\\n\\n\\t\\tfunction isTable(table) {\\n\\n\\t\\t\\tvar selectorMatched = editor.dom.is(table, 'table') && editor.getBody().contains(table);\\n\\n\\t\\t\\treturn selectorMatched;\\n\\t\\t}\\n\\n\\t\\tfunction addToolbars() {\\n\\t\\t\\tvar toolbarItems = editor.settings.table_toolbar;\\n\\n\\t\\t\\tif (toolbarItems === '' || toolbarItems === false) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!toolbarItems) {\\n\\t\\t\\t\\ttoolbarItems = 'tableprops tabledelete | ' +\\n\\t\\t\\t\\t\\t'tableinsertrowbefore tableinsertrowafter tabledeleterow | ' +\\n\\t\\t\\t\\t\\t'tableinsertcolbefore tableinsertcolafter tabledeletecol';\\n\\t\\t\\t}\\n\\n\\t\\t\\teditor.addContextToolbar(\\n\\t\\t\\t\\tisTable,\\n\\t\\t\\t\\ttoolbarItems\\n\\t\\t\\t);\\n\\t\\t}\\n\\n\\t\\tfunction getClipboardRows() {\\n\\t\\t\\treturn clipboardRows;\\n\\t\\t}\\n\\n\\t\\tfunction setClipboardRows(rows) {\\n\\t\\t\\tclipboardRows = rows;\\n\\t\\t}\\n\\n\\t\\taddButtons();\\n\\t\\taddToolbars();\\n\\n\\t\\t// Enable tab key cell navigation\\n\\t\\tif (editor.settings.table_tab_navigation !== false) {\\n\\t\\t\\teditor.on('keydown', function(e) {\\n\\t\\t\\t\\tvar cellElm, grid, delta;\\n\\n\\t\\t\\t\\tif (e.keyCode == 9) {\\n\\t\\t\\t\\t\\tcellElm = editor.dom.getParent(editor.selection.getStart(), 'th,td');\\n\\n\\t\\t\\t\\t\\tif (cellElm) {\\n\\t\\t\\t\\t\\t\\te.preventDefault();\\n\\n\\t\\t\\t\\t\\t\\tgrid = new TableGrid(editor);\\n\\t\\t\\t\\t\\t\\tdelta = e.shiftKey ? -1 : 1;\\n\\n\\t\\t\\t\\t\\t\\teditor.undoManager.transact(function() {\\n\\t\\t\\t\\t\\t\\t\\tif (!grid.moveRelIdx(cellElm, delta) && delta > 0) {\\n\\t\\t\\t\\t\\t\\t\\t\\tgrid.insertRow();\\n\\t\\t\\t\\t\\t\\t\\t\\tgrid.refresh();\\n\\t\\t\\t\\t\\t\\t\\t\\tgrid.moveRelIdx(cellElm, delta);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\tself.insertTable = insertTable;\\n\\t\\tself.setClipboardRows = setClipboardRows;\\n\\t\\tself.getClipboardRows = getClipboardRows;\\n\\t}\\n\\n\\tPluginManager.add('table', Plugin);\\n});\\n})(window);\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/raw-loader!./~/tinymce/plugins/table/plugin.js\n// module id = 570\n// module chunks = 1","module.exports = \"/**\\n * plugin.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/*global tinymce:true */\\n/*eslint consistent-this:0 */\\n\\ntinymce.PluginManager.add('textcolor', function(editor) {\\n\\tvar cols, rows;\\n\\n\\trows = {\\n\\t\\tforecolor: editor.settings.forecolor_rows || editor.settings.textcolor_rows || 5,\\n\\t\\tbackcolor: editor.settings.backcolor_rows || editor.settings.textcolor_rows || 5\\n\\t};\\n\\tcols = {\\n\\t\\tforecolor: editor.settings.forecolor_cols || editor.settings.textcolor_cols || 8,\\n\\t\\tbackcolor: editor.settings.backcolor_cols || editor.settings.textcolor_cols || 8\\n\\t};\\n\\n\\tfunction getCurrentColor(format) {\\n\\t\\tvar color;\\n\\n\\t\\teditor.dom.getParents(editor.selection.getStart(), function(elm) {\\n\\t\\t\\tvar value;\\n\\n\\t\\t\\tif ((value = elm.style[format == 'forecolor' ? 'color' : 'background-color'])) {\\n\\t\\t\\t\\tcolor = value;\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\treturn color;\\n\\t}\\n\\n\\tfunction mapColors(type) {\\n\\t\\tvar i, colors = [], colorMap;\\n\\n\\t\\tcolorMap = [\\n\\t\\t\\t\\\"000000\\\", \\\"Black\\\",\\n\\t\\t\\t\\\"993300\\\", \\\"Burnt orange\\\",\\n\\t\\t\\t\\\"333300\\\", \\\"Dark olive\\\",\\n\\t\\t\\t\\\"003300\\\", \\\"Dark green\\\",\\n\\t\\t\\t\\\"003366\\\", \\\"Dark azure\\\",\\n\\t\\t\\t\\\"000080\\\", \\\"Navy Blue\\\",\\n\\t\\t\\t\\\"333399\\\", \\\"Indigo\\\",\\n\\t\\t\\t\\\"333333\\\", \\\"Very dark gray\\\",\\n\\t\\t\\t\\\"800000\\\", \\\"Maroon\\\",\\n\\t\\t\\t\\\"FF6600\\\", \\\"Orange\\\",\\n\\t\\t\\t\\\"808000\\\", \\\"Olive\\\",\\n\\t\\t\\t\\\"008000\\\", \\\"Green\\\",\\n\\t\\t\\t\\\"008080\\\", \\\"Teal\\\",\\n\\t\\t\\t\\\"0000FF\\\", \\\"Blue\\\",\\n\\t\\t\\t\\\"666699\\\", \\\"Grayish blue\\\",\\n\\t\\t\\t\\\"808080\\\", \\\"Gray\\\",\\n\\t\\t\\t\\\"FF0000\\\", \\\"Red\\\",\\n\\t\\t\\t\\\"FF9900\\\", \\\"Amber\\\",\\n\\t\\t\\t\\\"99CC00\\\", \\\"Yellow green\\\",\\n\\t\\t\\t\\\"339966\\\", \\\"Sea green\\\",\\n\\t\\t\\t\\\"33CCCC\\\", \\\"Turquoise\\\",\\n\\t\\t\\t\\\"3366FF\\\", \\\"Royal blue\\\",\\n\\t\\t\\t\\\"800080\\\", \\\"Purple\\\",\\n\\t\\t\\t\\\"999999\\\", \\\"Medium gray\\\",\\n\\t\\t\\t\\\"FF00FF\\\", \\\"Magenta\\\",\\n\\t\\t\\t\\\"FFCC00\\\", \\\"Gold\\\",\\n\\t\\t\\t\\\"FFFF00\\\", \\\"Yellow\\\",\\n\\t\\t\\t\\\"00FF00\\\", \\\"Lime\\\",\\n\\t\\t\\t\\\"00FFFF\\\", \\\"Aqua\\\",\\n\\t\\t\\t\\\"00CCFF\\\", \\\"Sky blue\\\",\\n\\t\\t\\t\\\"993366\\\", \\\"Red violet\\\",\\n\\t\\t\\t\\\"FFFFFF\\\", \\\"White\\\",\\n\\t\\t\\t\\\"FF99CC\\\", \\\"Pink\\\",\\n\\t\\t\\t\\\"FFCC99\\\", \\\"Peach\\\",\\n\\t\\t\\t\\\"FFFF99\\\", \\\"Light yellow\\\",\\n\\t\\t\\t\\\"CCFFCC\\\", \\\"Pale green\\\",\\n\\t\\t\\t\\\"CCFFFF\\\", \\\"Pale cyan\\\",\\n\\t\\t\\t\\\"99CCFF\\\", \\\"Light sky blue\\\",\\n\\t\\t\\t\\\"CC99FF\\\", \\\"Plum\\\"\\n\\t\\t];\\n\\n\\t\\tcolorMap = editor.settings.textcolor_map || colorMap;\\n\\t\\tcolorMap = editor.settings[type + '_map'] || colorMap;\\n\\n\\t\\tfor (i = 0; i < colorMap.length; i += 2) {\\n\\t\\t\\tcolors.push({\\n\\t\\t\\t\\ttext: colorMap[i + 1],\\n\\t\\t\\t\\tcolor: '#' + colorMap[i]\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\treturn colors;\\n\\t}\\n\\n\\tfunction renderColorPicker() {\\n\\t\\tvar ctrl = this, colors, color, html, last, x, y, i, id = ctrl._id, count = 0, type;\\n\\n\\t\\ttype = ctrl.settings.origin;\\n\\n\\t\\tfunction getColorCellHtml(color, title) {\\n\\t\\t\\tvar isNoColor = color == 'transparent';\\n\\n\\t\\t\\treturn (\\n\\t\\t\\t\\t'<td class=\\\"mce-grid-cell' + (isNoColor ? ' mce-colorbtn-trans' : '') + '\\\">' +\\n\\t\\t\\t\\t\\t'<div id=\\\"' + id + '-' + (count++) + '\\\"' +\\n\\t\\t\\t\\t\\t\\t' data-mce-color=\\\"' + (color ? color : '') + '\\\"' +\\n\\t\\t\\t\\t\\t\\t' role=\\\"option\\\"' +\\n\\t\\t\\t\\t\\t\\t' tabIndex=\\\"-1\\\"' +\\n\\t\\t\\t\\t\\t\\t' style=\\\"' + (color ? 'background-color: ' + color : '') + '\\\"' +\\n\\t\\t\\t\\t\\t\\t' title=\\\"' + tinymce.translate(title) + '\\\">' +\\n\\t\\t\\t\\t\\t\\t(isNoColor ? '&#215;' : '') +\\n\\t\\t\\t\\t\\t'</div>' +\\n\\t\\t\\t\\t'</td>'\\n\\t\\t\\t);\\n\\t\\t}\\n\\n\\t\\tcolors = mapColors(type);\\n\\t\\tcolors.push({\\n\\t\\t\\ttext: tinymce.translate(\\\"No color\\\"),\\n\\t\\t\\tcolor: \\\"transparent\\\"\\n\\t\\t});\\n\\n\\t\\thtml = '<table class=\\\"mce-grid mce-grid-border mce-colorbutton-grid\\\" role=\\\"list\\\" cellspacing=\\\"0\\\"><tbody>';\\n\\t\\tlast = colors.length - 1;\\n\\n\\t\\tfor (y = 0; y < rows[type]; y++) {\\n\\t\\t\\thtml += '<tr>';\\n\\n\\t\\t\\tfor (x = 0; x < cols[type]; x++) {\\n\\t\\t\\t\\ti = y * cols[type] + x;\\n\\n\\t\\t\\t\\tif (i > last) {\\n\\t\\t\\t\\t\\thtml += '<td></td>';\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tcolor = colors[i];\\n\\t\\t\\t\\t\\thtml += getColorCellHtml(color.color, color.text);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\thtml += '</tr>';\\n\\t\\t}\\n\\n\\t\\tif (editor.settings.color_picker_callback) {\\n\\t\\t\\thtml += (\\n\\t\\t\\t\\t'<tr>' +\\n\\t\\t\\t\\t\\t'<td colspan=\\\"' + cols[type] + '\\\" class=\\\"mce-custom-color-btn\\\">' +\\n\\t\\t\\t\\t\\t\\t'<div id=\\\"' + id + '-c\\\" class=\\\"mce-widget mce-btn mce-btn-small mce-btn-flat\\\" ' +\\n\\t\\t\\t\\t\\t\\t\\t'role=\\\"button\\\" tabindex=\\\"-1\\\" aria-labelledby=\\\"' + id + '-c\\\" style=\\\"width: 100%\\\">' +\\n\\t\\t\\t\\t\\t\\t\\t'<button type=\\\"button\\\" role=\\\"presentation\\\" tabindex=\\\"-1\\\">' + tinymce.translate('Custom...') + '</button>' +\\n\\t\\t\\t\\t\\t\\t'</div>' +\\n\\t\\t\\t\\t\\t'</td>' +\\n\\t\\t\\t\\t'</tr>'\\n\\t\\t\\t);\\n\\n\\t\\t\\thtml += '<tr>';\\n\\n\\t\\t\\tfor (x = 0; x < cols[type]; x++) {\\n\\t\\t\\t\\thtml += getColorCellHtml('', 'Custom color');\\n\\t\\t\\t}\\n\\n\\t\\t\\thtml += '</tr>';\\n\\t\\t}\\n\\n\\t\\thtml += '</tbody></table>';\\n\\n\\t\\treturn html;\\n\\t}\\n\\n\\tfunction applyFormat(format, value) {\\n\\t\\teditor.undoManager.transact(function() {\\n\\t\\t\\teditor.focus();\\n\\t\\t\\teditor.formatter.apply(format, {value: value});\\n\\t\\t\\teditor.nodeChanged();\\n\\t\\t});\\n\\t}\\n\\n\\tfunction removeFormat(format) {\\n\\t\\teditor.undoManager.transact(function() {\\n\\t\\t\\teditor.focus();\\n\\t\\t\\teditor.formatter.remove(format, {value: null}, null, true);\\n\\t\\t\\teditor.nodeChanged();\\n\\t\\t});\\n\\t}\\n\\n\\tfunction onPanelClick(e) {\\n\\t\\tvar buttonCtrl = this.parent(), value, type;\\n\\n\\t\\ttype = buttonCtrl.settings.origin;\\n\\n\\t\\tfunction selectColor(value) {\\n\\t\\t\\tbuttonCtrl.hidePanel();\\n\\t\\t\\tbuttonCtrl.color(value);\\n\\t\\t\\tapplyFormat(buttonCtrl.settings.format, value);\\n\\t\\t}\\n\\n\\t\\tfunction resetColor() {\\n\\t\\t\\tbuttonCtrl.hidePanel();\\n\\t\\t\\tbuttonCtrl.resetColor();\\n\\t\\t\\tremoveFormat(buttonCtrl.settings.format);\\n\\t\\t}\\n\\n\\t\\tfunction setDivColor(div, value) {\\n\\t\\t\\tdiv.style.background = value;\\n\\t\\t\\tdiv.setAttribute('data-mce-color', value);\\n\\t\\t}\\n\\n\\t\\tif (tinymce.DOM.getParent(e.target, '.mce-custom-color-btn')) {\\n\\t\\t\\tbuttonCtrl.hidePanel();\\n\\n\\t\\t\\teditor.settings.color_picker_callback.call(editor, function(value) {\\n\\t\\t\\t\\tvar tableElm = buttonCtrl.panel.getEl().getElementsByTagName('table')[0];\\n\\t\\t\\t\\tvar customColorCells, div, i;\\n\\n\\t\\t\\t\\tcustomColorCells = tinymce.map(tableElm.rows[tableElm.rows.length - 1].childNodes, function(elm) {\\n\\t\\t\\t\\t\\treturn elm.firstChild;\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\tfor (i = 0; i < customColorCells.length; i++) {\\n\\t\\t\\t\\t\\tdiv = customColorCells[i];\\n\\t\\t\\t\\t\\tif (!div.getAttribute('data-mce-color')) {\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Shift colors to the right\\n\\t\\t\\t\\t// TODO: Might need to be the left on RTL\\n\\t\\t\\t\\tif (i == cols[type]) {\\n\\t\\t\\t\\t\\tfor (i = 0; i < cols[type] - 1; i++) {\\n\\t\\t\\t\\t\\t\\tsetDivColor(customColorCells[i], customColorCells[i + 1].getAttribute('data-mce-color'));\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tsetDivColor(div, value);\\n\\t\\t\\t\\tselectColor(value);\\n\\t\\t\\t}, getCurrentColor(buttonCtrl.settings.format));\\n\\t\\t}\\n\\n\\t\\tvalue = e.target.getAttribute('data-mce-color');\\n\\t\\tif (value) {\\n\\t\\t\\tif (this.lastId) {\\n\\t\\t\\t\\tdocument.getElementById(this.lastId).setAttribute('aria-selected', false);\\n\\t\\t\\t}\\n\\n\\t\\t\\te.target.setAttribute('aria-selected', true);\\n\\t\\t\\tthis.lastId = e.target.id;\\n\\n\\t\\t\\tif (value == 'transparent') {\\n\\t\\t\\t\\tresetColor();\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tselectColor(value);\\n\\t\\t\\t}\\n\\t\\t} else if (value !== null) {\\n\\t\\t\\tbuttonCtrl.hidePanel();\\n\\t\\t}\\n\\t}\\n\\n\\tfunction onButtonClick() {\\n\\t\\tvar self = this;\\n\\n\\t\\tif (self._color) {\\n\\t\\t\\tapplyFormat(self.settings.format, self._color);\\n\\t\\t} else {\\n\\t\\t\\tremoveFormat(self.settings.format);\\n\\t\\t}\\n\\t}\\n\\n\\teditor.addButton('forecolor', {\\n\\t\\ttype: 'colorbutton',\\n\\t\\ttooltip: 'Text color',\\n\\t\\tformat: 'forecolor',\\n\\t\\tpanel: {\\n\\t\\t\\torigin: 'forecolor',\\n\\t\\t\\trole: 'application',\\n\\t\\t\\tariaRemember: true,\\n\\t\\t\\thtml: renderColorPicker,\\n\\t\\t\\tonclick: onPanelClick\\n\\t\\t},\\n\\t\\tonclick: onButtonClick\\n\\t});\\n\\n\\teditor.addButton('backcolor', {\\n\\t\\ttype: 'colorbutton',\\n\\t\\ttooltip: 'Background color',\\n\\t\\tformat: 'hilitecolor',\\n\\t\\tpanel: {\\n\\t\\t\\torigin: 'backcolor',\\n\\t\\t\\trole: 'application',\\n\\t\\t\\tariaRemember: true,\\n\\t\\t\\thtml: renderColorPicker,\\n\\t\\t\\tonclick: onPanelClick\\n\\t\\t},\\n\\t\\tonclick: onButtonClick\\n\\t});\\n});\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/raw-loader!./~/tinymce/plugins/textcolor/plugin.js\n// module id = 571\n// module chunks = 1","module.exports = \"(function () {\\n\\nvar defs = {}; // id -> {dependencies, definition, instance (possibly undefined)}\\n\\n// Used when there is no 'main' module.\\n// The name is probably (hopefully) unique so minification removes for releases.\\nvar register_3795 = function (id) {\\n  var module = dem(id);\\n  var fragments = id.split('.');\\n  var target = Function('return this;')();\\n  for (var i = 0; i < fragments.length - 1; ++i) {\\n    if (target[fragments[i]] === undefined)\\n      target[fragments[i]] = {};\\n    target = target[fragments[i]];\\n  }\\n  target[fragments[fragments.length - 1]] = module;\\n};\\n\\nvar instantiate = function (id) {\\n  var actual = defs[id];\\n  var dependencies = actual.deps;\\n  var definition = actual.defn;\\n  var len = dependencies.length;\\n  var instances = new Array(len);\\n  for (var i = 0; i < len; ++i)\\n    instances[i] = dem(dependencies[i]);\\n  var defResult = definition.apply(null, instances);\\n  if (defResult === undefined)\\n     throw 'module [' + id + '] returned undefined';\\n  actual.instance = defResult;\\n};\\n\\nvar def = function (id, dependencies, definition) {\\n  if (typeof id !== 'string')\\n    throw 'module id must be a string';\\n  else if (dependencies === undefined)\\n    throw 'no dependencies for ' + id;\\n  else if (definition === undefined)\\n    throw 'no definition function for ' + id;\\n  defs[id] = {\\n    deps: dependencies,\\n    defn: definition,\\n    instance: undefined\\n  };\\n};\\n\\nvar dem = function (id) {\\n  var actual = defs[id];\\n  if (actual === undefined)\\n    throw 'module [' + id + '] was undefined';\\n  else if (actual.instance === undefined)\\n    instantiate(id);\\n  return actual.instance;\\n};\\n\\nvar req = function (ids, callback) {\\n  var len = ids.length;\\n  var instances = new Array(len);\\n  for (var i = 0; i < len; ++i)\\n    instances.push(dem(ids[i]));\\n  callback.apply(null, callback);\\n};\\n\\nvar ephox = {};\\n\\nephox.bolt = {\\n  module: {\\n    api: {\\n      define: def,\\n      require: req,\\n      demand: dem\\n    }\\n  }\\n};\\n\\nvar define = def;\\nvar require = req;\\nvar demand = dem;\\n// this helps with minificiation when using a lot of global references\\nvar defineGlobal = function (id, ref) {\\n  define(id, [], function () { return ref; });\\n};\\n/*jsc\\n[\\\"tinymce.modern.Theme\\\",\\\"global!tinymce.Env\\\",\\\"global!tinymce.EditorManager\\\",\\\"global!tinymce.ThemeManager\\\",\\\"tinymce.modern.modes.Iframe\\\",\\\"tinymce.modern.modes.Inline\\\",\\\"tinymce.modern.ui.Resize\\\",\\\"tinymce.modern.ui.ProgressState\\\",\\\"global!tinymce.util.Tools\\\",\\\"global!tinymce.ui.Factory\\\",\\\"global!tinymce.DOM\\\",\\\"tinymce.modern.ui.Toolbar\\\",\\\"tinymce.modern.ui.Menubar\\\",\\\"tinymce.modern.ui.ContextToolbars\\\",\\\"tinymce.modern.ui.A11y\\\",\\\"tinymce.modern.ui.Sidebar\\\",\\\"tinymce.modern.ui.SkinLoaded\\\",\\\"global!tinymce.ui.FloatPanel\\\",\\\"global!tinymce.ui.Throbber\\\",\\\"global!tinymce.util.Delay\\\",\\\"global!tinymce.geom.Rect\\\"]\\njsc*/\\ndefineGlobal(\\\"global!tinymce.Env\\\", tinymce.Env);\\ndefineGlobal(\\\"global!tinymce.EditorManager\\\", tinymce.EditorManager);\\ndefineGlobal(\\\"global!tinymce.ThemeManager\\\", tinymce.ThemeManager);\\ndefineGlobal(\\\"global!tinymce.util.Tools\\\", tinymce.util.Tools);\\ndefineGlobal(\\\"global!tinymce.ui.Factory\\\", tinymce.ui.Factory);\\ndefineGlobal(\\\"global!tinymce.DOM\\\", tinymce.DOM);\\n/**\\n * Toolbar.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2016 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\ndefine('tinymce.modern.ui.Toolbar', [\\n\\t'global!tinymce.util.Tools',\\n\\t'global!tinymce.ui.Factory'\\n], function (Tools, Factory) {\\n\\tvar defaultToolbar = \\\"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | \\\" +\\n\\t\\t\\\"bullist numlist outdent indent | link image\\\";\\n\\n\\tvar createToolbar = function (editor, items, size) {\\n\\t\\tvar toolbarItems = [], buttonGroup;\\n\\n\\t\\tif (!items) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tTools.each(items.split(/[ ,]/), function(item) {\\n\\t\\t\\tvar itemName;\\n\\n\\t\\t\\tvar bindSelectorChanged = function () {\\n\\t\\t\\t\\tvar selection = editor.selection;\\n\\n\\t\\t\\t\\tif (item.settings.stateSelector) {\\n\\t\\t\\t\\t\\tselection.selectorChanged(item.settings.stateSelector, function(state) {\\n\\t\\t\\t\\t\\t\\titem.active(state);\\n\\t\\t\\t\\t\\t}, true);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (item.settings.disabledStateSelector) {\\n\\t\\t\\t\\t\\tselection.selectorChanged(item.settings.disabledStateSelector, function(state) {\\n\\t\\t\\t\\t\\t\\titem.disabled(state);\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t}\\n\\t\\t\\t};\\n\\n\\t\\t\\tif (item == \\\"|\\\") {\\n\\t\\t\\t\\tbuttonGroup = null;\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tif (Factory.has(item)) {\\n\\t\\t\\t\\t\\titem = {type: item, size: size};\\n\\t\\t\\t\\t\\ttoolbarItems.push(item);\\n\\t\\t\\t\\t\\tbuttonGroup = null;\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tif (!buttonGroup) {\\n\\t\\t\\t\\t\\t\\tbuttonGroup = {type: 'buttongroup', items: []};\\n\\t\\t\\t\\t\\t\\ttoolbarItems.push(buttonGroup);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (editor.buttons[item]) {\\n\\t\\t\\t\\t\\t\\t// TODO: Move control creation to some UI class\\n\\t\\t\\t\\t\\t\\titemName = item;\\n\\t\\t\\t\\t\\t\\titem = editor.buttons[itemName];\\n\\n\\t\\t\\t\\t\\t\\tif (typeof item == \\\"function\\\") {\\n\\t\\t\\t\\t\\t\\t\\titem = item();\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\titem.type = item.type || 'button';\\n\\t\\t\\t\\t\\t\\titem.size = size;\\n\\n\\t\\t\\t\\t\\t\\titem = Factory.create(item);\\n\\t\\t\\t\\t\\t\\tbuttonGroup.items.push(item);\\n\\n\\t\\t\\t\\t\\t\\tif (editor.initialized) {\\n\\t\\t\\t\\t\\t\\t\\tbindSelectorChanged();\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\teditor.on('init', bindSelectorChanged);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\treturn {\\n\\t\\t\\ttype: 'toolbar',\\n\\t\\t\\tlayout: 'flow',\\n\\t\\t\\titems: toolbarItems\\n\\t\\t};\\n\\t};\\n\\n\\t/**\\n\\t * Creates the toolbars from config and returns a toolbar array.\\n\\t *\\n\\t * @param {String} size Optional toolbar item size.\\n\\t * @return {Array} Array with toolbars.\\n\\t */\\n\\tvar createToolbars = function (editor, size) {\\n\\t\\tvar toolbars = [], settings = editor.settings;\\n\\n\\t\\tvar addToolbar = function (items) {\\n\\t\\t\\tif (items) {\\n\\t\\t\\t\\ttoolbars.push(createToolbar(editor, items, size));\\n\\t\\t\\t\\treturn true;\\n\\t\\t\\t}\\n\\t\\t};\\n\\n\\t\\t// Convert toolbar array to multiple options\\n\\t\\tif (Tools.isArray(settings.toolbar)) {\\n\\t\\t\\t// Empty toolbar array is the same as a disabled toolbar\\n\\t\\t\\tif (settings.toolbar.length === 0) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tTools.each(settings.toolbar, function(toolbar, i) {\\n\\t\\t\\t\\tsettings[\\\"toolbar\\\" + (i + 1)] = toolbar;\\n\\t\\t\\t});\\n\\n\\t\\t\\tdelete settings.toolbar;\\n\\t\\t}\\n\\n\\t\\t// Generate toolbar<n>\\n\\t\\tfor (var i = 1; i < 10; i++) {\\n\\t\\t\\tif (!addToolbar(settings[\\\"toolbar\\\" + i])) {\\n\\t\\t\\t\\tbreak;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t// Generate toolbar or default toolbar unless it's disabled\\n\\t\\tif (!toolbars.length && settings.toolbar !== false) {\\n\\t\\t\\taddToolbar(settings.toolbar || defaultToolbar);\\n\\t\\t}\\n\\n\\t\\tif (toolbars.length) {\\n\\t\\t\\treturn {\\n\\t\\t\\t\\ttype: 'panel',\\n\\t\\t\\t\\tlayout: 'stack',\\n\\t\\t\\t\\tclasses: \\\"toolbar-grp\\\",\\n\\t\\t\\t\\tariaRoot: true,\\n\\t\\t\\t\\tariaRemember: true,\\n\\t\\t\\t\\titems: toolbars\\n\\t\\t\\t};\\n\\t\\t}\\n\\t};\\n\\n\\treturn {\\n\\t\\tcreateToolbar: createToolbar,\\n\\t\\tcreateToolbars: createToolbars\\n\\t};\\n});\\n\\n/**\\n * Menubar.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2016 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\ndefine('tinymce.modern.ui.Menubar', [\\n\\t'global!tinymce.util.Tools'\\n], function (Tools) {\\n\\tvar defaultMenus = {\\n\\t\\tfile: {title: 'File', items: 'newdocument'},\\n\\t\\tedit: {title: 'Edit', items: 'undo redo | cut copy paste pastetext | selectall'},\\n\\t\\tinsert: {title: 'Insert', items: '|'},\\n\\t\\tview: {title: 'View', items: 'visualaid |'},\\n\\t\\tformat: {title: 'Format', items: 'bold italic underline strikethrough superscript subscript | formats | removeformat'},\\n\\t\\ttable: {title: 'Table'},\\n\\t\\ttools: {title: 'Tools'}\\n\\t};\\n\\n\\tvar createMenuItem = function (menuItems, name) {\\n\\t\\tvar menuItem;\\n\\n\\t\\tif (name == '|') {\\n\\t\\t\\treturn {text: '|'};\\n\\t\\t}\\n\\n\\t\\tmenuItem = menuItems[name];\\n\\n\\t\\treturn menuItem;\\n\\t};\\n\\n\\tvar createMenu = function (editorMenuItems, settings, context) {\\n\\t\\tvar menuButton, menu, menuItems, isUserDefined, removedMenuItems;\\n\\n\\t\\tremovedMenuItems = Tools.makeMap((settings.removed_menuitems || '').split(/[ ,]/));\\n\\n\\t\\t// User defined menu\\n\\t\\tif (settings.menu) {\\n\\t\\t\\tmenu = settings.menu[context];\\n\\t\\t\\tisUserDefined = true;\\n\\t\\t} else {\\n\\t\\t\\tmenu = defaultMenus[context];\\n\\t\\t}\\n\\n\\t\\tif (menu) {\\n\\t\\t\\tmenuButton = {text: menu.title};\\n\\t\\t\\tmenuItems = [];\\n\\n\\t\\t\\t// Default/user defined items\\n\\t\\t\\tTools.each((menu.items || '').split(/[ ,]/), function(item) {\\n\\t\\t\\t\\tvar menuItem = createMenuItem(editorMenuItems, item);\\n\\n\\t\\t\\t\\tif (menuItem && !removedMenuItems[item]) {\\n\\t\\t\\t\\t\\tmenuItems.push(createMenuItem(editorMenuItems, item));\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\t// Added though context\\n\\t\\t\\tif (!isUserDefined) {\\n\\t\\t\\t\\tTools.each(editorMenuItems, function(menuItem) {\\n\\t\\t\\t\\t\\tif (menuItem.context == context) {\\n\\t\\t\\t\\t\\t\\tif (menuItem.separator == 'before') {\\n\\t\\t\\t\\t\\t\\t\\tmenuItems.push({text: '|'});\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tif (menuItem.prependToContext) {\\n\\t\\t\\t\\t\\t\\t\\tmenuItems.unshift(menuItem);\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\tmenuItems.push(menuItem);\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tif (menuItem.separator == 'after') {\\n\\t\\t\\t\\t\\t\\t\\tmenuItems.push({text: '|'});\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\tfor (var i = 0; i < menuItems.length; i++) {\\n\\t\\t\\t\\tif (menuItems[i].text == '|') {\\n\\t\\t\\t\\t\\tif (i === 0 || i == menuItems.length - 1) {\\n\\t\\t\\t\\t\\t\\tmenuItems.splice(i, 1);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tmenuButton.menu = menuItems;\\n\\n\\t\\t\\tif (!menuButton.menu.length) {\\n\\t\\t\\t\\treturn null;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\treturn menuButton;\\n\\t};\\n\\n\\tvar createMenuButtons = function (editor) {\\n\\t\\tvar name, menuButtons = [], settings = editor.settings;\\n\\n\\t\\tvar defaultMenuBar = [];\\n\\t\\tif (settings.menu) {\\n\\t\\t\\tfor (name in settings.menu) {\\n\\t\\t\\t\\tdefaultMenuBar.push(name);\\n\\t\\t\\t}\\n\\t\\t} else {\\n\\t\\t\\tfor (name in defaultMenus) {\\n\\t\\t\\t\\tdefaultMenuBar.push(name);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tvar enabledMenuNames = typeof settings.menubar == \\\"string\\\" ? settings.menubar.split(/[ ,]/) : defaultMenuBar;\\n\\t\\tfor (var i = 0; i < enabledMenuNames.length; i++) {\\n\\t\\t\\tvar menu = enabledMenuNames[i];\\n\\t\\t\\tmenu = createMenu(editor.menuItems, editor.settings, menu);\\n\\n\\t\\t\\tif (menu) {\\n\\t\\t\\t\\tmenuButtons.push(menu);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\treturn menuButtons;\\n\\t};\\n\\n\\treturn {\\n\\t\\tcreateMenuButtons: createMenuButtons\\n\\t};\\n});\\n\\ndefineGlobal(\\\"global!tinymce.util.Delay\\\", tinymce.util.Delay);\\ndefineGlobal(\\\"global!tinymce.geom.Rect\\\", tinymce.geom.Rect);\\n/**\\n * ContextToolbars.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2016 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\ndefine('tinymce.modern.ui.ContextToolbars', [\\n\\t'global!tinymce.DOM',\\n\\t'global!tinymce.util.Tools',\\n\\t'global!tinymce.util.Delay',\\n\\t'tinymce.modern.ui.Toolbar',\\n\\t'global!tinymce.ui.Factory',\\n\\t'global!tinymce.geom.Rect'\\n], function (DOM, Tools, Delay, Toolbar, Factory, Rect) {\\n\\tvar toClientRect = function (geomRect) {\\n\\t\\treturn {\\n\\t\\t\\tleft: geomRect.x,\\n\\t\\t\\ttop: geomRect.y,\\n\\t\\t\\twidth: geomRect.w,\\n\\t\\t\\theight: geomRect.h,\\n\\t\\t\\tright: geomRect.x + geomRect.w,\\n\\t\\t\\tbottom: geomRect.y + geomRect.h\\n\\t\\t};\\n\\t};\\n\\n\\tvar hideAllFloatingPanels = function (editor) {\\n\\t\\tTools.each(editor.contextToolbars, function(toolbar) {\\n\\t\\t\\tif (toolbar.panel) {\\n\\t\\t\\t\\ttoolbar.panel.hide();\\n\\t\\t\\t}\\n\\t\\t});\\n\\t};\\n\\n\\tvar movePanelTo = function (panel, pos) {\\n\\t\\tpanel.moveTo(pos.left, pos.top);\\n\\t};\\n\\n\\tvar togglePositionClass = function (panel, relPos, predicate) {\\n\\t\\trelPos = relPos ? relPos.substr(0, 2) : '';\\n\\n\\t\\tTools.each({\\n\\t\\t\\tt: 'down',\\n\\t\\t\\tb: 'up'\\n\\t\\t}, function(cls, pos) {\\n\\t\\t\\tpanel.classes.toggle('arrow-' + cls, predicate(pos, relPos.substr(0, 1)));\\n\\t\\t});\\n\\n\\t\\tTools.each({\\n\\t\\t\\tl: 'left',\\n\\t\\t\\tr: 'right'\\n\\t\\t}, function(cls, pos) {\\n\\t\\t\\tpanel.classes.toggle('arrow-' + cls, predicate(pos, relPos.substr(1, 1)));\\n\\t\\t});\\n\\t};\\n\\n\\tvar userConstrain = function (handler, x, y, elementRect, contentAreaRect, panelRect) {\\n\\t\\tpanelRect = toClientRect({x: x, y: y, w: panelRect.w, h: panelRect.h});\\n\\n\\t\\tif (handler) {\\n\\t\\t\\tpanelRect = handler({\\n\\t\\t\\t\\telementRect: toClientRect(elementRect),\\n\\t\\t\\t\\tcontentAreaRect: toClientRect(contentAreaRect),\\n\\t\\t\\t\\tpanelRect: panelRect\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\treturn panelRect;\\n\\t};\\n\\n\\tvar addContextualToolbars = function (editor) {\\n\\t\\tvar scrollContainer, settings = editor.settings;\\n\\n\\t\\tvar getContextToolbars = function () {\\n\\t\\t\\treturn editor.contextToolbars || [];\\n\\t\\t};\\n\\n\\t\\tvar getElementRect = function (elm) {\\n\\t\\t\\tvar pos, targetRect, root;\\n\\n\\t\\t\\tpos = DOM.getPos(editor.getContentAreaContainer());\\n\\t\\t\\ttargetRect = editor.dom.getRect(elm);\\n\\t\\t\\troot = editor.dom.getRoot();\\n\\n\\t\\t\\t// Adjust targetPos for scrolling in the editor\\n\\t\\t\\tif (root.nodeName === 'BODY') {\\n\\t\\t\\t\\ttargetRect.x -= root.ownerDocument.documentElement.scrollLeft || root.scrollLeft;\\n\\t\\t\\t\\ttargetRect.y -= root.ownerDocument.documentElement.scrollTop || root.scrollTop;\\n\\t\\t\\t}\\n\\n\\t\\t\\ttargetRect.x += pos.x;\\n\\t\\t\\ttargetRect.y += pos.y;\\n\\n\\t\\t\\treturn targetRect;\\n\\t\\t};\\n\\n\\t\\tvar reposition = function (match, shouldShow) {\\n\\t\\t\\tvar relPos, panelRect, elementRect, contentAreaRect, panel, relRect, testPositions, smallElementWidthThreshold;\\n\\t\\t\\tvar handler = settings.inline_toolbar_position_handler;\\n\\n\\t\\t\\tif (editor.removed) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!match || !match.toolbar.panel) {\\n\\t\\t\\t\\thideAllFloatingPanels(editor);\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\ttestPositions = [\\n\\t\\t\\t\\t'bc-tc', 'tc-bc',\\n\\t\\t\\t\\t'tl-bl', 'bl-tl',\\n\\t\\t\\t\\t'tr-br', 'br-tr'\\n\\t\\t\\t];\\n\\n\\t\\t\\tpanel = match.toolbar.panel;\\n\\n\\t\\t\\t// Only show the panel on some events not for example nodeChange since that fires when context menu is opened\\n\\t\\t\\tif (shouldShow) {\\n\\t\\t\\t\\tpanel.show();\\n\\t\\t\\t}\\n\\n\\t\\t\\telementRect = getElementRect(match.element);\\n\\t\\t\\tpanelRect = DOM.getRect(panel.getEl());\\n\\t\\t\\tcontentAreaRect = DOM.getRect(editor.getContentAreaContainer() || editor.getBody());\\n\\t\\t\\tsmallElementWidthThreshold = 25;\\n\\n\\t\\t\\tif (DOM.getStyle(match.element, 'display', true) !== 'inline') {\\n\\t\\t\\t\\t// We need to use these instead of the rect values since the style\\n\\t\\t\\t\\t// size properites might not be the same as the real size for a table\\n\\t\\t\\t\\telementRect.w = match.element.clientWidth;\\n\\t\\t\\t\\telementRect.h = match.element.clientHeight;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!editor.inline) {\\n\\t\\t\\t\\tcontentAreaRect.w = editor.getDoc().documentElement.offsetWidth;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Inflate the elementRect so it doesn't get placed above resize handles\\n\\t\\t\\tif (editor.selection.controlSelection.isResizable(match.element) && elementRect.w < smallElementWidthThreshold) {\\n\\t\\t\\t\\telementRect = Rect.inflate(elementRect, 0, 8);\\n\\t\\t\\t}\\n\\n\\t\\t\\trelPos = Rect.findBestRelativePosition(panelRect, elementRect, contentAreaRect, testPositions);\\n\\t\\t\\telementRect = Rect.clamp(elementRect, contentAreaRect);\\n\\n\\t\\t\\tif (relPos) {\\n\\t\\t\\t\\trelRect = Rect.relativePosition(panelRect, elementRect, relPos);\\n\\t\\t\\t\\tmovePanelTo(panel, userConstrain(handler, relRect.x, relRect.y, elementRect, contentAreaRect, panelRect));\\n\\t\\t\\t} else {\\n\\t\\t\\t\\t// Allow overflow below the editor to avoid placing toolbars ontop of tables\\n\\t\\t\\t\\tcontentAreaRect.h += panelRect.h;\\n\\n\\t\\t\\t\\telementRect = Rect.intersect(contentAreaRect, elementRect);\\n\\t\\t\\t\\tif (elementRect) {\\n\\t\\t\\t\\t\\trelPos = Rect.findBestRelativePosition(panelRect, elementRect, contentAreaRect, [\\n\\t\\t\\t\\t\\t\\t'bc-tc', 'bl-tl', 'br-tr'\\n\\t\\t\\t\\t\\t]);\\n\\n\\t\\t\\t\\t\\tif (relPos) {\\n\\t\\t\\t\\t\\t\\trelRect = Rect.relativePosition(panelRect, elementRect, relPos);\\n\\t\\t\\t\\t\\t\\tmovePanelTo(panel, userConstrain(handler, relRect.x, relRect.y, elementRect, contentAreaRect, panelRect));\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tmovePanelTo(panel, userConstrain(handler, elementRect.x, elementRect.y, elementRect, contentAreaRect, panelRect));\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tpanel.hide();\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\ttogglePositionClass(panel, relPos, function(pos1, pos2) {\\n\\t\\t\\t\\treturn pos1 === pos2;\\n\\t\\t\\t});\\n\\n\\t\\t\\t//drawRect(contentAreaRect, 'blue');\\n\\t\\t\\t//drawRect(elementRect, 'red');\\n\\t\\t\\t//drawRect(panelRect, 'green');\\n\\t\\t};\\n\\n\\t\\tvar repositionHandler = function (show) {\\n\\t\\t\\treturn function () {\\n\\t\\t\\t\\tvar execute = function () {\\n\\t\\t\\t\\t\\tif (editor.selection) {\\n\\t\\t\\t\\t\\t\\treposition(findFrontMostMatch(editor.selection.getNode()), show);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t};\\n\\n\\t\\t\\t\\tDelay.requestAnimationFrame(execute);\\n\\t\\t\\t};\\n\\t\\t};\\n\\n\\t\\tvar bindScrollEvent = function () {\\n\\t\\t\\tif (!scrollContainer) {\\n\\t\\t\\t\\tscrollContainer = editor.selection.getScrollContainer() || editor.getWin();\\n\\t\\t\\t\\tDOM.bind(scrollContainer, 'scroll', repositionHandler(true));\\n\\n\\t\\t\\t\\teditor.on('remove', function() {\\n\\t\\t\\t\\t\\tDOM.unbind(scrollContainer, 'scroll');\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\t\\t};\\n\\n\\t\\tvar showContextToolbar = function (match) {\\n\\t\\t\\tvar panel;\\n\\n\\t\\t\\tif (match.toolbar.panel) {\\n\\t\\t\\t\\tmatch.toolbar.panel.show();\\n\\t\\t\\t\\treposition(match);\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tbindScrollEvent();\\n\\n\\t\\t\\tpanel = Factory.create({\\n\\t\\t\\t\\ttype: 'floatpanel',\\n\\t\\t\\t\\trole: 'dialog',\\n\\t\\t\\t\\tclasses: 'tinymce tinymce-inline arrow',\\n\\t\\t\\t\\tariaLabel: 'Inline toolbar',\\n\\t\\t\\t\\tlayout: 'flex',\\n\\t\\t\\t\\tdirection: 'column',\\n\\t\\t\\t\\talign: 'stretch',\\n\\t\\t\\t\\tautohide: false,\\n\\t\\t\\t\\tautofix: true,\\n\\t\\t\\t\\tfixed: true,\\n\\t\\t\\t\\tborder: 1,\\n\\t\\t\\t\\titems: Toolbar.createToolbar(editor, match.toolbar.items),\\n\\t\\t\\t\\toncancel: function() {\\n\\t\\t\\t\\t\\teditor.focus();\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\tmatch.toolbar.panel = panel;\\n\\t\\t\\tpanel.renderTo(document.body).reflow();\\n\\t\\t\\treposition(match);\\n\\t\\t};\\n\\n\\t\\tvar hideAllContextToolbars = function () {\\n\\t\\t\\tTools.each(getContextToolbars(), function(toolbar) {\\n\\t\\t\\t\\tif (toolbar.panel) {\\n\\t\\t\\t\\t\\ttoolbar.panel.hide();\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t};\\n\\n\\t\\tvar findFrontMostMatch = function (targetElm) {\\n\\t\\t\\tvar i, y, parentsAndSelf, toolbars = getContextToolbars();\\n\\n\\t\\t\\tparentsAndSelf = editor.$(targetElm).parents().add(targetElm);\\n\\t\\t\\tfor (i = parentsAndSelf.length - 1; i >= 0; i--) {\\n\\t\\t\\t\\tfor (y = toolbars.length - 1; y >= 0; y--) {\\n\\t\\t\\t\\t\\tif (toolbars[y].predicate(parentsAndSelf[i])) {\\n\\t\\t\\t\\t\\t\\treturn {\\n\\t\\t\\t\\t\\t\\t\\ttoolbar: toolbars[y],\\n\\t\\t\\t\\t\\t\\t\\telement: parentsAndSelf[i]\\n\\t\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn null;\\n\\t\\t};\\n\\n\\t\\teditor.on('click keyup setContent ObjectResized', function(e) {\\n\\t\\t\\t// Only act on partial inserts\\n\\t\\t\\tif (e.type === 'setcontent' && !e.selection) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Needs to be delayed to avoid Chrome img focus out bug\\n\\t\\t\\tDelay.setEditorTimeout(editor, function() {\\n\\t\\t\\t\\tvar match;\\n\\n\\t\\t\\t\\tmatch = findFrontMostMatch(editor.selection.getNode());\\n\\t\\t\\t\\tif (match) {\\n\\t\\t\\t\\t\\thideAllContextToolbars();\\n\\t\\t\\t\\t\\tshowContextToolbar(match);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\thideAllContextToolbars();\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t});\\n\\n\\t\\teditor.on('blur hide contextmenu', hideAllContextToolbars);\\n\\n\\t\\teditor.on('ObjectResizeStart', function() {\\n\\t\\t\\tvar match = findFrontMostMatch(editor.selection.getNode());\\n\\n\\t\\t\\tif (match && match.toolbar.panel) {\\n\\t\\t\\t\\tmatch.toolbar.panel.hide();\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\teditor.on('ResizeEditor ResizeWindow', repositionHandler(true));\\n\\t\\teditor.on('nodeChange', repositionHandler(false));\\n\\n\\t\\teditor.on('remove', function() {\\n\\t\\t\\tTools.each(getContextToolbars(), function(toolbar) {\\n\\t\\t\\t\\tif (toolbar.panel) {\\n\\t\\t\\t\\t\\ttoolbar.panel.remove();\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\teditor.contextToolbars = {};\\n\\t\\t});\\n\\n\\t\\teditor.shortcuts.add('ctrl+shift+e > ctrl+shift+p', '', function() {\\n\\t\\t\\tvar match = findFrontMostMatch(editor.selection.getNode());\\n\\t\\t\\tif (match && match.toolbar.panel) {\\n\\t\\t\\t\\tmatch.toolbar.panel.items()[0].focus();\\n\\t\\t\\t}\\n\\t\\t});\\n\\t};\\n\\n\\treturn {\\n\\t\\taddContextualToolbars: addContextualToolbars\\n\\t};\\n});\\n\\n/**\\n * A11y.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2016 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\ndefine('tinymce.modern.ui.A11y', [\\n], function () {\\n\\tvar focus = function (panel, type) {\\n\\t\\treturn function () {\\n\\t\\t\\tvar item = panel.find(type)[0];\\n\\n\\t\\t\\tif (item) {\\n\\t\\t\\t\\titem.focus(true);\\n\\t\\t\\t}\\n\\t\\t};\\n\\t};\\n\\n\\tvar addKeys = function (editor, panel) {\\n\\t\\teditor.shortcuts.add('Alt+F9', '', focus(panel, 'menubar'));\\n\\t\\teditor.shortcuts.add('Alt+F10,F10', '', focus(panel, 'toolbar'));\\n\\t\\teditor.shortcuts.add('Alt+F11', '', focus(panel, 'elementpath'));\\n\\t\\tpanel.on('cancel', function() {\\n\\t\\t\\teditor.focus();\\n\\t\\t});\\n\\t};\\n\\n\\treturn {\\n\\t\\taddKeys: addKeys\\n\\t};\\n});\\n\\n/**\\n * Sidebar.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2016 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\ndefine('tinymce.modern.ui.Sidebar', [\\n\\t'global!tinymce.util.Tools',\\n\\t'global!tinymce.ui.Factory',\\n\\t'global!tinymce.Env'\\n], function (Tools, Factory, Env) {\\n\\tvar api = function (elm) {\\n\\t\\treturn {\\n\\t\\t\\telement: function () {\\n\\t\\t\\t\\treturn elm;\\n\\t\\t\\t}\\n\\t\\t};\\n\\t};\\n\\n\\tvar trigger = function (sidebar, panel, callbackName) {\\n\\t\\tvar callback = sidebar.settings[callbackName];\\n\\t\\tif (callback) {\\n\\t\\t\\tcallback(api(panel.getEl('body')));\\n\\t\\t}\\n\\t};\\n\\n\\tvar hidePanels = function (name, container, sidebars) {\\n\\t\\tTools.each(sidebars, function (sidebar) {\\n\\t\\t\\tvar panel = container.items().filter('#' + sidebar.name)[0];\\n\\n\\t\\t\\tif (panel && panel.visible() && sidebar.name !== name) {\\n\\t\\t\\t\\ttrigger(sidebar, panel, 'onhide');\\n\\t\\t\\t\\tpanel.visible(false);\\n\\t\\t\\t}\\n\\t\\t});\\n\\t};\\n\\n\\tvar deactivateButtons = function (toolbar) {\\n\\t\\ttoolbar.items().each(function (ctrl) {\\n\\t\\t\\tctrl.active(false);\\n\\t\\t});\\n\\t};\\n\\n\\tvar findSidebar = function (sidebars, name) {\\n\\t\\treturn Tools.grep(sidebars, function (sidebar) {\\n\\t\\t\\treturn sidebar.name === name;\\n\\t\\t})[0];\\n\\t};\\n\\n\\tvar showPanel = function (editor, name, sidebars) {\\n\\t\\treturn function (e) {\\n\\t\\t\\tvar btnCtrl = e.control;\\n\\t\\t\\tvar container = btnCtrl.parents().filter('panel')[0];\\n\\t\\t\\tvar panel = container.find('#' + name)[0];\\n\\t\\t\\tvar sidebar = findSidebar(sidebars, name);\\n\\n\\t\\t\\thidePanels(name, container, sidebars);\\n\\t\\t\\tdeactivateButtons(btnCtrl.parent());\\n\\n\\t\\t\\tif (panel && panel.visible()) {\\n\\t\\t\\t\\ttrigger(sidebar, panel, 'onhide');\\n\\t\\t\\t\\tpanel.hide();\\n\\t\\t\\t\\tbtnCtrl.active(false);\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tif (panel) {\\n\\t\\t\\t\\t\\tpanel.show();\\n\\t\\t\\t\\t\\ttrigger(sidebar, panel, 'onshow');\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tpanel = Factory.create({\\n\\t\\t\\t\\t\\t\\ttype: 'container',\\n\\t\\t\\t\\t\\t\\tname: name,\\n\\t\\t\\t\\t\\t\\tlayout: 'stack',\\n\\t\\t\\t\\t\\t\\tclasses: 'sidebar-panel',\\n\\t\\t\\t\\t\\t\\thtml: ''\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\tcontainer.prepend(panel);\\n\\t\\t\\t\\t\\ttrigger(sidebar, panel, 'onrender');\\n\\t\\t\\t\\t\\ttrigger(sidebar, panel, 'onshow');\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tbtnCtrl.active(true);\\n\\t\\t\\t}\\n\\n\\t\\t\\teditor.fire('ResizeEditor');\\n\\t\\t};\\n\\t};\\n\\n\\tvar isModernBrowser = function () {\\n\\t\\treturn !Env.ie || Env.ie >= 11;\\n\\t};\\n\\n\\tvar hasSidebar = function (editor) {\\n\\t\\treturn isModernBrowser() && editor.sidebars ? editor.sidebars.length > 0 : false;\\n\\t};\\n\\n\\tvar createSidebar = function (editor) {\\n\\t\\tvar buttons = Tools.map(editor.sidebars, function (sidebar) {\\n\\t\\t\\tvar settings = sidebar.settings;\\n\\n\\t\\t\\treturn {\\n\\t\\t\\t\\ttype: 'button',\\n\\t\\t\\t\\ticon: settings.icon,\\n\\t\\t\\t\\timage: settings.image,\\n\\t\\t\\t\\ttooltip: settings.tooltip,\\n\\t\\t\\t\\tonclick: showPanel(editor, sidebar.name, editor.sidebars)\\n\\t\\t\\t};\\n\\t\\t});\\n\\n\\t\\treturn {\\n\\t\\t\\ttype: 'panel',\\n\\t\\t\\tname: 'sidebar',\\n\\t\\t\\tlayout: 'stack',\\n\\t\\t\\tclasses: 'sidebar',\\n\\t\\t\\titems: [\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\ttype: 'toolbar',\\n\\t\\t\\t\\t\\tlayout: 'stack',\\n\\t\\t\\t\\t\\tclasses: 'sidebar-toolbar',\\n\\t\\t\\t\\t\\titems: buttons\\n\\t\\t\\t\\t}\\n\\t\\t\\t]\\n\\t\\t};\\n\\t};\\n\\n\\treturn {\\n\\t\\thasSidebar: hasSidebar,\\n\\t\\tcreateSidebar: createSidebar\\n\\t};\\n});\\n/**\\n * SkinLoaded.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2016 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\ndefine('tinymce.modern.ui.SkinLoaded', [\\n], function () {\\n\\tvar fireSkinLoaded = function (editor) {\\n\\t\\tvar done = function () {\\n\\t\\t\\teditor._skinLoaded = true;\\n\\t\\t\\teditor.fire('SkinLoaded');\\n\\t\\t};\\n\\n\\t\\treturn function() {\\n\\t\\t\\tif (editor.initialized) {\\n\\t\\t\\t\\tdone();\\n\\t\\t\\t} else {\\n\\t\\t\\t\\teditor.on('init', done);\\n\\t\\t\\t}\\n\\t\\t};\\n\\t};\\n\\n\\treturn {\\n\\t\\tfireSkinLoaded: fireSkinLoaded\\n\\t};\\n});\\n\\n/**\\n * Resize.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2016 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\ndefine('tinymce.modern.ui.Resize', [\\n\\t'global!tinymce.DOM'\\n], function (DOM) {\\n\\tvar getSize = function (elm) {\\n\\t\\treturn {\\n\\t\\t\\twidth: elm.clientWidth,\\n\\t\\t\\theight: elm.clientHeight\\n\\t\\t};\\n\\t};\\n\\n\\tvar resizeTo = function (editor, width, height) {\\n\\t\\tvar containerElm, iframeElm, containerSize, iframeSize, settings = editor.settings;\\n\\n\\t\\tcontainerElm = editor.getContainer();\\n\\t\\tiframeElm = editor.getContentAreaContainer().firstChild;\\n\\t\\tcontainerSize = getSize(containerElm);\\n\\t\\tiframeSize = getSize(iframeElm);\\n\\n\\t\\tif (width !== null) {\\n\\t\\t\\twidth = Math.max(settings.min_width || 100, width);\\n\\t\\t\\twidth = Math.min(settings.max_width || 0xFFFF, width);\\n\\n\\t\\t\\tDOM.setStyle(containerElm, 'width', width + (containerSize.width - iframeSize.width));\\n\\t\\t\\tDOM.setStyle(iframeElm, 'width', width);\\n\\t\\t}\\n\\n\\t\\theight = Math.max(settings.min_height || 100, height);\\n\\t\\theight = Math.min(settings.max_height || 0xFFFF, height);\\n\\t\\tDOM.setStyle(iframeElm, 'height', height);\\n\\n\\t\\teditor.fire('ResizeEditor');\\n\\t};\\n\\n\\tvar resizeBy = function (editor, dw, dh) {\\n\\t\\tvar elm = editor.getContentAreaContainer();\\n\\t\\tresizeTo(editor, elm.clientWidth + dw, elm.clientHeight + dh);\\n\\t};\\n\\n\\treturn {\\n\\t\\tresizeTo: resizeTo,\\n\\t\\tresizeBy: resizeBy\\n\\t};\\n});\\n\\n/**\\n * Iframe.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2016 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\ndefine('tinymce.modern.modes.Iframe', [\\n\\t'global!tinymce.util.Tools',\\n\\t'global!tinymce.ui.Factory',\\n\\t'global!tinymce.DOM',\\n\\t'tinymce.modern.ui.Toolbar',\\n\\t'tinymce.modern.ui.Menubar',\\n\\t'tinymce.modern.ui.ContextToolbars',\\n\\t'tinymce.modern.ui.A11y',\\n\\t'tinymce.modern.ui.Sidebar',\\n\\t'tinymce.modern.ui.SkinLoaded',\\n\\t'tinymce.modern.ui.Resize'\\n], function (Tools, Factory, DOM, Toolbar, Menubar, ContextToolbars, A11y, Sidebar, SkinLoaded, Resize) {\\n\\tvar switchMode = function (panel) {\\n\\t\\treturn function(e) {\\n\\t\\t\\tpanel.find('*').disabled(e.mode === 'readonly');\\n\\t\\t};\\n\\t};\\n\\n\\tvar editArea = function (border) {\\n\\t\\treturn {\\n\\t\\t\\ttype: 'panel',\\n\\t\\t\\tname: 'iframe',\\n\\t\\t\\tlayout: 'stack',\\n\\t\\t\\tclasses: 'edit-area',\\n\\t\\t\\tborder: border,\\n\\t\\t\\thtml: ''\\n\\t\\t};\\n\\t};\\n\\n\\tvar editAreaContainer = function (editor) {\\n\\t\\treturn {\\n\\t\\t\\ttype: 'panel',\\n\\t\\t\\tlayout: 'stack',\\n\\t\\t\\tclasses: 'edit-aria-container',\\n\\t\\t\\tborder: '1 0 0 0',\\n\\t\\t\\titems: [\\n\\t\\t\\t\\teditArea('0'),\\n\\t\\t\\t\\tSidebar.createSidebar(editor)\\n\\t\\t\\t]\\n\\t\\t};\\n\\t};\\n\\n\\tvar render = function (editor, theme, args) {\\n\\t\\tvar panel, resizeHandleCtrl, startSize, settings = editor.settings;\\n\\n\\t\\tif (args.skinUiCss) {\\n\\t\\t\\tDOM.styleSheetLoader.load(args.skinUiCss, SkinLoaded.fireSkinLoaded(editor));\\n\\t\\t}\\n\\n\\t\\tpanel = theme.panel = Factory.create({\\n\\t\\t\\ttype: 'panel',\\n\\t\\t\\trole: 'application',\\n\\t\\t\\tclasses: 'tinymce',\\n\\t\\t\\tstyle: 'visibility: hidden',\\n\\t\\t\\tlayout: 'stack',\\n\\t\\t\\tborder: 1,\\n\\t\\t\\titems: [\\n\\t\\t\\t\\tsettings.menubar === false ? null : {type: 'menubar', border: '0 0 1 0', items: Menubar.createMenuButtons(editor)},\\n\\t\\t\\t\\tToolbar.createToolbars(editor, settings.toolbar_items_size),\\n\\t\\t\\t\\tSidebar.hasSidebar(editor) ? editAreaContainer(editor) : editArea('1 0 0 0')\\n\\t\\t\\t]\\n\\t\\t});\\n\\n\\t\\tif (settings.resize !== false) {\\n\\t\\t\\tresizeHandleCtrl = {\\n\\t\\t\\t\\ttype: 'resizehandle',\\n\\t\\t\\t\\tdirection: settings.resize,\\n\\n\\t\\t\\t\\tonResizeStart: function() {\\n\\t\\t\\t\\t\\tvar elm = editor.getContentAreaContainer().firstChild;\\n\\n\\t\\t\\t\\t\\tstartSize = {\\n\\t\\t\\t\\t\\t\\twidth: elm.clientWidth,\\n\\t\\t\\t\\t\\t\\theight: elm.clientHeight\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\tonResize: function(e) {\\n\\t\\t\\t\\t\\tif (settings.resize === 'both') {\\n\\t\\t\\t\\t\\t\\tResize.resizeTo(editor, startSize.width + e.deltaX, startSize.height + e.deltaY);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tResize.resizeTo(editor, null, startSize.height + e.deltaY);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t};\\n\\t\\t}\\n\\n\\t\\t// Add statusbar if needed\\n\\t\\tif (settings.statusbar !== false) {\\n\\t\\t\\tpanel.add({type: 'panel', name: 'statusbar', classes: 'statusbar', layout: 'flow', border: '1 0 0 0', ariaRoot: true, items: [\\n\\t\\t\\t\\t{type: 'elementpath', editor: editor},\\n\\t\\t\\t\\tresizeHandleCtrl\\n\\t\\t\\t]});\\n\\t\\t}\\n\\n\\t\\teditor.fire('BeforeRenderUI');\\n\\t\\teditor.on('SwitchMode', switchMode(panel));\\n\\t\\tpanel.renderBefore(args.targetNode).reflow();\\n\\n\\t\\tif (settings.readonly) {\\n\\t\\t\\teditor.setMode('readonly');\\n\\t\\t}\\n\\n\\t\\tif (settings.width) {\\n\\t\\t\\tDOM.setStyle(panel.getEl(), 'width', settings.width);\\n\\t\\t}\\n\\n\\t\\t// Remove the panel when the editor is removed\\n\\t\\teditor.on('remove', function() {\\n\\t\\t\\tpanel.remove();\\n\\t\\t\\tpanel = null;\\n\\t\\t});\\n\\n\\t\\t// Add accesibility shortcuts\\n\\t\\tA11y.addKeys(editor, panel);\\n\\t\\tContextToolbars.addContextualToolbars(editor);\\n\\n\\t\\treturn {\\n\\t\\t\\tiframeContainer: panel.find('#iframe')[0].getEl(),\\n\\t\\t\\teditorContainer: panel.getEl()\\n\\t\\t};\\n\\t};\\n\\n\\treturn {\\n\\t\\trender: render\\n\\t};\\n});\\n\\ndefineGlobal(\\\"global!tinymce.ui.FloatPanel\\\", tinymce.ui.FloatPanel);\\n/**\\n * Inline.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2016 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\ndefine('tinymce.modern.modes.Inline', [\\n\\t'global!tinymce.util.Tools',\\n\\t'global!tinymce.ui.Factory',\\n\\t'global!tinymce.DOM',\\n\\t'global!tinymce.ui.FloatPanel',\\n\\t'tinymce.modern.ui.Toolbar',\\n\\t'tinymce.modern.ui.Menubar',\\n\\t'tinymce.modern.ui.ContextToolbars',\\n\\t'tinymce.modern.ui.A11y',\\n\\t'tinymce.modern.ui.SkinLoaded'\\n], function (Tools, Factory, DOM, FloatPanel, Toolbar, Menubar, ContextToolbars, A11y, SkinLoaded) {\\n\\tvar render = function (editor, theme, args) {\\n\\t\\tvar panel, inlineToolbarContainer, settings = editor.settings;\\n\\n\\t\\tif (settings.fixed_toolbar_container) {\\n\\t\\t\\tinlineToolbarContainer = DOM.select(settings.fixed_toolbar_container)[0];\\n\\t\\t}\\n\\n\\t\\tvar reposition = function () {\\n\\t\\t\\tif (panel && panel.moveRel && panel.visible() && !panel._fixed) {\\n\\t\\t\\t\\t// TODO: This is kind of ugly and doesn't handle multiple scrollable elements\\n\\t\\t\\t\\tvar scrollContainer = editor.selection.getScrollContainer(), body = editor.getBody();\\n\\t\\t\\t\\tvar deltaX = 0, deltaY = 0;\\n\\n\\t\\t\\t\\tif (scrollContainer) {\\n\\t\\t\\t\\t\\tvar bodyPos = DOM.getPos(body), scrollContainerPos = DOM.getPos(scrollContainer);\\n\\n\\t\\t\\t\\t\\tdeltaX = Math.max(0, scrollContainerPos.x - bodyPos.x);\\n\\t\\t\\t\\t\\tdeltaY = Math.max(0, scrollContainerPos.y - bodyPos.y);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tpanel.fixed(false).moveRel(body, editor.rtl ? ['tr-br', 'br-tr'] : ['tl-bl', 'bl-tl', 'tr-br']).moveBy(deltaX, deltaY);\\n\\t\\t\\t}\\n\\t\\t};\\n\\n\\t\\tvar show = function () {\\n\\t\\t\\tif (panel) {\\n\\t\\t\\t\\tpanel.show();\\n\\t\\t\\t\\treposition();\\n\\t\\t\\t\\tDOM.addClass(editor.getBody(), 'mce-edit-focus');\\n\\t\\t\\t}\\n\\t\\t};\\n\\n\\t\\tvar hide = function () {\\n\\t\\t\\tif (panel) {\\n\\t\\t\\t\\t// We require two events as the inline float panel based toolbar does not have autohide=true\\n\\t\\t\\t\\tpanel.hide();\\n\\n\\t\\t\\t\\t// All other autohidden float panels will be closed below.\\n\\t\\t\\t\\tFloatPanel.hideAll();\\n\\n\\t\\t\\t\\tDOM.removeClass(editor.getBody(), 'mce-edit-focus');\\n\\t\\t\\t}\\n\\t\\t};\\n\\n\\t\\tvar render = function () {\\n\\t\\t\\tif (panel) {\\n\\t\\t\\t\\tif (!panel.visible()) {\\n\\t\\t\\t\\t\\tshow();\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Render a plain panel inside the inlineToolbarContainer if it's defined\\n\\t\\t\\tpanel = theme.panel = Factory.create({\\n\\t\\t\\t\\ttype: inlineToolbarContainer ? 'panel' : 'floatpanel',\\n\\t\\t\\t\\trole: 'application',\\n\\t\\t\\t\\tclasses: 'tinymce tinymce-inline',\\n\\t\\t\\t\\tlayout: 'flex',\\n\\t\\t\\t\\tdirection: 'column',\\n\\t\\t\\t\\talign: 'stretch',\\n\\t\\t\\t\\tautohide: false,\\n\\t\\t\\t\\tautofix: true,\\n\\t\\t\\t\\tfixed: !!inlineToolbarContainer,\\n\\t\\t\\t\\tborder: 1,\\n\\t\\t\\t\\titems: [\\n\\t\\t\\t\\t\\tsettings.menubar === false ? null : {type: 'menubar', border: '0 0 1 0', items: Menubar.createMenuButtons(editor)},\\n\\t\\t\\t\\t\\tToolbar.createToolbars(editor, settings.toolbar_items_size)\\n\\t\\t\\t\\t]\\n\\t\\t\\t});\\n\\n\\t\\t\\t// Add statusbar\\n\\t\\t\\t/*if (settings.statusbar !== false) {\\n\\t\\t\\t\\tpanel.add({type: 'panel', classes: 'statusbar', layout: 'flow', border: '1 0 0 0', items: [\\n\\t\\t\\t\\t\\t{type: 'elementpath'}\\n\\t\\t\\t\\t]});\\n\\t\\t\\t}*/\\n\\n\\t\\t\\teditor.fire('BeforeRenderUI');\\n\\t\\t\\tpanel.renderTo(inlineToolbarContainer || document.body).reflow();\\n\\n\\t\\t\\tA11y.addKeys(editor, panel);\\n\\t\\t\\tshow();\\n\\t\\t\\tContextToolbars.addContextualToolbars(editor);\\n\\n\\t\\t\\teditor.on('nodeChange', reposition);\\n\\t\\t\\teditor.on('activate', show);\\n\\t\\t\\teditor.on('deactivate', hide);\\n\\n\\t\\t\\teditor.nodeChanged();\\n\\t\\t};\\n\\n\\t\\tsettings.content_editable = true;\\n\\n\\t\\teditor.on('focus', function() {\\n\\t\\t\\t// Render only when the CSS file has been loaded\\n\\t\\t\\tif (args.skinUiCss) {\\n\\t\\t\\t\\tDOM.styleSheetLoader.load(args.skinUiCss, render, render);\\n\\t\\t\\t} else {\\n\\t\\t\\t\\trender();\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\teditor.on('blur hide', hide);\\n\\n\\t\\t// Remove the panel when the editor is removed\\n\\t\\teditor.on('remove', function() {\\n\\t\\t\\tif (panel) {\\n\\t\\t\\t\\tpanel.remove();\\n\\t\\t\\t\\tpanel = null;\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\t// Preload skin css\\n\\t\\tif (args.skinUiCss) {\\n\\t\\t\\tDOM.styleSheetLoader.load(args.skinUiCss, SkinLoaded.fireSkinLoaded(editor));\\n\\t\\t}\\n\\n\\t\\treturn {};\\n\\t};\\n\\n\\treturn {\\n\\t\\trender: render\\n\\t};\\n});\\n\\ndefineGlobal(\\\"global!tinymce.ui.Throbber\\\", tinymce.ui.Throbber);\\n/**\\n * ProgressState.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2016 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\ndefine('tinymce.modern.ui.ProgressState', [\\n\\t'global!tinymce.ui.Throbber'\\n], function (Throbber) {\\n\\tvar setup = function (editor, theme) {\\n\\t\\tvar throbber;\\n\\n\\t\\teditor.on('ProgressState', function(e) {\\n\\t\\t\\tthrobber = throbber || new Throbber(theme.panel.getEl('body'));\\n\\n\\t\\t\\tif (e.state) {\\n\\t\\t\\t\\tthrobber.show(e.time);\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tthrobber.hide();\\n\\t\\t\\t}\\n\\t\\t});\\n\\t};\\n\\n\\treturn {\\n\\t\\tsetup: setup\\n\\t};\\n});\\n\\n/**\\n * Theme.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2016 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\ndefine('tinymce.modern.Theme', [\\n\\t'global!tinymce.Env',\\n\\t'global!tinymce.EditorManager',\\n\\t'global!tinymce.ThemeManager',\\n\\t'tinymce.modern.modes.Iframe',\\n\\t'tinymce.modern.modes.Inline',\\n\\t'tinymce.modern.ui.Resize',\\n\\t'tinymce.modern.ui.ProgressState'\\n], function (Env, EditorManager, ThemeManager, Iframe, Inline, Resize, ProgressState) {\\n\\tvar renderUI = function(editor, theme, args) {\\n\\t\\tvar settings = editor.settings;\\n\\t\\tvar skin = settings.skin !== false ? settings.skin || 'lightgray' : false;\\n\\n\\t\\tif (skin) {\\n\\t\\t\\tvar skinUrl = settings.skin_url;\\n\\n\\t\\t\\tif (skinUrl) {\\n\\t\\t\\t\\tskinUrl = editor.documentBaseURI.toAbsolute(skinUrl);\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tskinUrl = EditorManager.baseURL + '/skins/' + skin;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Load special skin for IE7\\n\\t\\t\\t// TODO: Remove this when we drop IE7 support\\n\\t\\t\\tif (Env.documentMode <= 7) {\\n\\t\\t\\t\\targs.skinUiCss = skinUrl + '/skin.ie7.min.css';\\n\\t\\t\\t} else {\\n\\t\\t\\t\\targs.skinUiCss = skinUrl + '/skin.min.css';\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Load content.min.css or content.inline.min.css\\n\\t\\t\\teditor.contentCSS.push(skinUrl + '/content' + (editor.inline ? '.inline' : '') + '.min.css');\\n\\t\\t}\\n\\n\\t\\tProgressState.setup(editor, theme);\\n\\n\\t\\tif (settings.inline) {\\n\\t\\t\\treturn Inline.render(editor, theme, args);\\n\\t\\t}\\n\\n\\t\\treturn Iframe.render(editor, theme, args);\\n\\t};\\n\\n\\tThemeManager.add('modern', function (editor) {\\n\\t\\treturn {\\n\\t\\t\\trenderUI: function (args) {\\n\\t\\t\\t\\treturn renderUI(editor, this, args);\\n\\t\\t\\t},\\n\\t\\t\\tresizeTo: function (w, h) {\\n\\t\\t\\t\\treturn Resize.resizeTo(editor, w, h);\\n\\t\\t\\t},\\n\\t\\t\\tresizeBy: function (dw, dh) {\\n\\t\\t\\t\\treturn Resize.resizeBy(editor, dw, dh);\\n\\t\\t\\t}\\n\\t\\t};\\n\\t});\\n\\n\\treturn function () {\\n\\t};\\n});\\n\\ndem('tinymce.modern.Theme')();\\n})();\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/raw-loader!./~/tinymce/themes/modern/theme.js\n// module id = 572\n// module chunks = 1","module.exports = \"// 4.5.4 (2017-02-23)\\n\\n/**\\n * Compiled inline version. (Library mode)\\n */\\n\\n/*jshint smarttabs:true, undef:true, latedef:true, curly:true, bitwise:true, camelcase:true */\\n/*globals $code */\\n\\n(function(exports, undefined) {\\n\\t\\\"use strict\\\";\\n\\n\\tvar modules = {};\\n\\n\\tfunction require(ids, callback) {\\n\\t\\tvar module, defs = [];\\n\\n\\t\\tfor (var i = 0; i < ids.length; ++i) {\\n\\t\\t\\tmodule = modules[ids[i]] || resolve(ids[i]);\\n\\t\\t\\tif (!module) {\\n\\t\\t\\t\\tthrow 'module definition dependecy not found: ' + ids[i];\\n\\t\\t\\t}\\n\\n\\t\\t\\tdefs.push(module);\\n\\t\\t}\\n\\n\\t\\tcallback.apply(null, defs);\\n\\t}\\n\\n\\tfunction define(id, dependencies, definition) {\\n\\t\\tif (typeof id !== 'string') {\\n\\t\\t\\tthrow 'invalid module definition, module id must be defined and be a string';\\n\\t\\t}\\n\\n\\t\\tif (dependencies === undefined) {\\n\\t\\t\\tthrow 'invalid module definition, dependencies must be specified';\\n\\t\\t}\\n\\n\\t\\tif (definition === undefined) {\\n\\t\\t\\tthrow 'invalid module definition, definition function must be specified';\\n\\t\\t}\\n\\n\\t\\trequire(dependencies, function() {\\n\\t\\t\\tmodules[id] = definition.apply(null, arguments);\\n\\t\\t});\\n\\t}\\n\\n\\tfunction defined(id) {\\n\\t\\treturn !!modules[id];\\n\\t}\\n\\n\\tfunction resolve(id) {\\n\\t\\tvar target = exports;\\n\\t\\tvar fragments = id.split(/[.\\\\/]/);\\n\\n\\t\\tfor (var fi = 0; fi < fragments.length; ++fi) {\\n\\t\\t\\tif (!target[fragments[fi]]) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\ttarget = target[fragments[fi]];\\n\\t\\t}\\n\\n\\t\\treturn target;\\n\\t}\\n\\n\\tfunction expose(ids) {\\n\\t\\tvar i, target, id, fragments, privateModules;\\n\\n\\t\\tfor (i = 0; i < ids.length; i++) {\\n\\t\\t\\ttarget = exports;\\n\\t\\t\\tid = ids[i];\\n\\t\\t\\tfragments = id.split(/[.\\\\/]/);\\n\\n\\t\\t\\tfor (var fi = 0; fi < fragments.length - 1; ++fi) {\\n\\t\\t\\t\\tif (target[fragments[fi]] === undefined) {\\n\\t\\t\\t\\t\\ttarget[fragments[fi]] = {};\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\ttarget = target[fragments[fi]];\\n\\t\\t\\t}\\n\\n\\t\\t\\ttarget[fragments[fragments.length - 1]] = modules[id];\\n\\t\\t}\\n\\n\\t\\t// Expose private modules for unit tests\\n\\t\\tif (exports.AMDLC_TESTS) {\\n\\t\\t\\tprivateModules = exports.privateModules || {};\\n\\n\\t\\t\\tfor (id in modules) {\\n\\t\\t\\t\\tprivateModules[id] = modules[id];\\n\\t\\t\\t}\\n\\n\\t\\t\\tfor (i = 0; i < ids.length; i++) {\\n\\t\\t\\t\\tdelete privateModules[ids[i]];\\n\\t\\t\\t}\\n\\n\\t\\t\\texports.privateModules = privateModules;\\n\\t\\t}\\n\\t}\\n\\n// Included from: js/tinymce/classes/geom/Rect.js\\n\\n/**\\n * Rect.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Contains various tools for rect/position calculation.\\n *\\n * @class tinymce.geom.Rect\\n */\\ndefine(\\\"tinymce/geom/Rect\\\", [\\n], function() {\\n\\t\\\"use strict\\\";\\n\\n\\tvar min = Math.min, max = Math.max, round = Math.round;\\n\\n\\t/**\\n\\t * Returns the rect positioned based on the relative position name\\n\\t * to the target rect.\\n\\t *\\n\\t * @method relativePosition\\n\\t * @param {Rect} rect Source rect to modify into a new rect.\\n\\t * @param {Rect} targetRect Rect to move relative to based on the rel option.\\n\\t * @param {String} rel Relative position. For example: tr-bl.\\n\\t */\\n\\tfunction relativePosition(rect, targetRect, rel) {\\n\\t\\tvar x, y, w, h, targetW, targetH;\\n\\n\\t\\tx = targetRect.x;\\n\\t\\ty = targetRect.y;\\n\\t\\tw = rect.w;\\n\\t\\th = rect.h;\\n\\t\\ttargetW = targetRect.w;\\n\\t\\ttargetH = targetRect.h;\\n\\n\\t\\trel = (rel || '').split('');\\n\\n\\t\\tif (rel[0] === 'b') {\\n\\t\\t\\ty += targetH;\\n\\t\\t}\\n\\n\\t\\tif (rel[1] === 'r') {\\n\\t\\t\\tx += targetW;\\n\\t\\t}\\n\\n\\t\\tif (rel[0] === 'c') {\\n\\t\\t\\ty += round(targetH / 2);\\n\\t\\t}\\n\\n\\t\\tif (rel[1] === 'c') {\\n\\t\\t\\tx += round(targetW / 2);\\n\\t\\t}\\n\\n\\t\\tif (rel[3] === 'b') {\\n\\t\\t\\ty -= h;\\n\\t\\t}\\n\\n\\t\\tif (rel[4] === 'r') {\\n\\t\\t\\tx -= w;\\n\\t\\t}\\n\\n\\t\\tif (rel[3] === 'c') {\\n\\t\\t\\ty -= round(h / 2);\\n\\t\\t}\\n\\n\\t\\tif (rel[4] === 'c') {\\n\\t\\t\\tx -= round(w / 2);\\n\\t\\t}\\n\\n\\t\\treturn create(x, y, w, h);\\n\\t}\\n\\n\\t/**\\n\\t * Tests various positions to get the most suitable one.\\n\\t *\\n\\t * @method findBestRelativePosition\\n\\t * @param {Rect} rect Rect to use as source.\\n\\t * @param {Rect} targetRect Rect to move relative to.\\n\\t * @param {Rect} constrainRect Rect to constrain within.\\n\\t * @param {Array} rels Array of relative positions to test against.\\n\\t */\\n\\tfunction findBestRelativePosition(rect, targetRect, constrainRect, rels) {\\n\\t\\tvar pos, i;\\n\\n\\t\\tfor (i = 0; i < rels.length; i++) {\\n\\t\\t\\tpos = relativePosition(rect, targetRect, rels[i]);\\n\\n\\t\\t\\tif (pos.x >= constrainRect.x && pos.x + pos.w <= constrainRect.w + constrainRect.x &&\\n\\t\\t\\t\\tpos.y >= constrainRect.y && pos.y + pos.h <= constrainRect.h + constrainRect.y) {\\n\\t\\t\\t\\treturn rels[i];\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\treturn null;\\n\\t}\\n\\n\\t/**\\n\\t * Inflates the rect in all directions.\\n\\t *\\n\\t * @method inflate\\n\\t * @param {Rect} rect Rect to expand.\\n\\t * @param {Number} w Relative width to expand by.\\n\\t * @param {Number} h Relative height to expand by.\\n\\t * @return {Rect} New expanded rect.\\n\\t */\\n\\tfunction inflate(rect, w, h) {\\n\\t\\treturn create(rect.x - w, rect.y - h, rect.w + w * 2, rect.h + h * 2);\\n\\t}\\n\\n\\t/**\\n\\t * Returns the intersection of the specified rectangles.\\n\\t *\\n\\t * @method intersect\\n\\t * @param {Rect} rect The first rectangle to compare.\\n\\t * @param {Rect} cropRect The second rectangle to compare.\\n\\t * @return {Rect} The intersection of the two rectangles or null if they don't intersect.\\n\\t */\\n\\tfunction intersect(rect, cropRect) {\\n\\t\\tvar x1, y1, x2, y2;\\n\\n\\t\\tx1 = max(rect.x, cropRect.x);\\n\\t\\ty1 = max(rect.y, cropRect.y);\\n\\t\\tx2 = min(rect.x + rect.w, cropRect.x + cropRect.w);\\n\\t\\ty2 = min(rect.y + rect.h, cropRect.y + cropRect.h);\\n\\n\\t\\tif (x2 - x1 < 0 || y2 - y1 < 0) {\\n\\t\\t\\treturn null;\\n\\t\\t}\\n\\n\\t\\treturn create(x1, y1, x2 - x1, y2 - y1);\\n\\t}\\n\\n\\t/**\\n\\t * Returns a rect clamped within the specified clamp rect. This forces the\\n\\t * rect to be inside the clamp rect.\\n\\t *\\n\\t * @method clamp\\n\\t * @param {Rect} rect Rectangle to force within clamp rect.\\n\\t * @param {Rect} clampRect Rectable to force within.\\n\\t * @param {Boolean} fixedSize True/false if size should be fixed.\\n\\t * @return {Rect} Clamped rect.\\n\\t */\\n\\tfunction clamp(rect, clampRect, fixedSize) {\\n\\t\\tvar underflowX1, underflowY1, overflowX2, overflowY2,\\n\\t\\t\\tx1, y1, x2, y2, cx2, cy2;\\n\\n\\t\\tx1 = rect.x;\\n\\t\\ty1 = rect.y;\\n\\t\\tx2 = rect.x + rect.w;\\n\\t\\ty2 = rect.y + rect.h;\\n\\t\\tcx2 = clampRect.x + clampRect.w;\\n\\t\\tcy2 = clampRect.y + clampRect.h;\\n\\n\\t\\tunderflowX1 = max(0, clampRect.x - x1);\\n\\t\\tunderflowY1 = max(0, clampRect.y - y1);\\n\\t\\toverflowX2 = max(0, x2 - cx2);\\n\\t\\toverflowY2 = max(0, y2 - cy2);\\n\\n\\t\\tx1 += underflowX1;\\n\\t\\ty1 += underflowY1;\\n\\n\\t\\tif (fixedSize) {\\n\\t\\t\\tx2 += underflowX1;\\n\\t\\t\\ty2 += underflowY1;\\n\\t\\t\\tx1 -= overflowX2;\\n\\t\\t\\ty1 -= overflowY2;\\n\\t\\t}\\n\\n\\t\\tx2 -= overflowX2;\\n\\t\\ty2 -= overflowY2;\\n\\n\\t\\treturn create(x1, y1, x2 - x1, y2 - y1);\\n\\t}\\n\\n\\t/**\\n\\t * Creates a new rectangle object.\\n\\t *\\n\\t * @method create\\n\\t * @param {Number} x Rectangle x location.\\n\\t * @param {Number} y Rectangle y location.\\n\\t * @param {Number} w Rectangle width.\\n\\t * @param {Number} h Rectangle height.\\n\\t * @return {Rect} New rectangle object.\\n\\t */\\n\\tfunction create(x, y, w, h) {\\n\\t\\treturn {x: x, y: y, w: w, h: h};\\n\\t}\\n\\n\\t/**\\n\\t * Creates a new rectangle object form a clientRects object.\\n\\t *\\n\\t * @method fromClientRect\\n\\t * @param {ClientRect} clientRect DOM ClientRect object.\\n\\t * @return {Rect} New rectangle object.\\n\\t */\\n\\tfunction fromClientRect(clientRect) {\\n\\t\\treturn create(clientRect.left, clientRect.top, clientRect.width, clientRect.height);\\n\\t}\\n\\n\\treturn {\\n\\t\\tinflate: inflate,\\n\\t\\trelativePosition: relativePosition,\\n\\t\\tfindBestRelativePosition: findBestRelativePosition,\\n\\t\\tintersect: intersect,\\n\\t\\tclamp: clamp,\\n\\t\\tcreate: create,\\n\\t\\tfromClientRect: fromClientRect\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/util/Promise.js\\n\\n/**\\n * Promise.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * Promise polyfill under MIT license: https://github.com/taylorhakes/promise-polyfill\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/* eslint-disable */\\n/* jshint ignore:start */\\n\\n/**\\n * Modifed to be a feature fill and wrapped as tinymce module.\\n */\\ndefine(\\\"tinymce/util/Promise\\\", [], function() {\\n\\tif (window.Promise) {\\n\\t\\treturn window.Promise;\\n\\t}\\n\\n\\t// Use polyfill for setImmediate for performance gains\\n\\tvar asap = Promise.immediateFn || (typeof setImmediate === 'function' && setImmediate) ||\\n\\t\\tfunction(fn) { setTimeout(fn, 1); };\\n\\n\\t// Polyfill for Function.prototype.bind\\n\\tfunction bind(fn, thisArg) {\\n\\t\\treturn function() {\\n\\t\\t\\tfn.apply(thisArg, arguments);\\n\\t\\t};\\n\\t}\\n\\n\\tvar isArray = Array.isArray || function(value) { return Object.prototype.toString.call(value) === \\\"[object Array]\\\"; };\\n\\n\\tfunction Promise(fn) {\\n\\t\\tif (typeof this !== 'object') throw new TypeError('Promises must be constructed via new');\\n\\t\\tif (typeof fn !== 'function') throw new TypeError('not a function');\\n\\t\\tthis._state = null;\\n\\t\\tthis._value = null;\\n\\t\\tthis._deferreds = [];\\n\\n\\t\\tdoResolve(fn, bind(resolve, this), bind(reject, this));\\n\\t}\\n\\n\\tfunction handle(deferred) {\\n\\t\\tvar me = this;\\n\\t\\tif (this._state === null) {\\n\\t\\t\\tthis._deferreds.push(deferred);\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\t\\tasap(function() {\\n\\t\\t\\tvar cb = me._state ? deferred.onFulfilled : deferred.onRejected;\\n\\t\\t\\tif (cb === null) {\\n\\t\\t\\t\\t(me._state ? deferred.resolve : deferred.reject)(me._value);\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\t\\t\\tvar ret;\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tret = cb(me._value);\\n\\t\\t\\t}\\n\\t\\t\\tcatch (e) {\\n\\t\\t\\t\\tdeferred.reject(e);\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\t\\t\\tdeferred.resolve(ret);\\n\\t\\t});\\n\\t}\\n\\n\\tfunction resolve(newValue) {\\n\\t\\ttry { //Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\\n\\t\\t\\tif (newValue === this) throw new TypeError('A promise cannot be resolved with itself.');\\n\\t\\t\\tif (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\\n\\t\\t\\t\\tvar then = newValue.then;\\n\\t\\t\\t\\tif (typeof then === 'function') {\\n\\t\\t\\t\\t\\tdoResolve(bind(then, newValue), bind(resolve, this), bind(reject, this));\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t\\tthis._state = true;\\n\\t\\t\\tthis._value = newValue;\\n\\t\\t\\tfinale.call(this);\\n\\t\\t} catch (e) { reject.call(this, e); }\\n\\t}\\n\\n\\tfunction reject(newValue) {\\n\\t\\tthis._state = false;\\n\\t\\tthis._value = newValue;\\n\\t\\tfinale.call(this);\\n\\t}\\n\\n\\tfunction finale() {\\n\\t\\tfor (var i = 0, len = this._deferreds.length; i < len; i++) {\\n\\t\\t\\thandle.call(this, this._deferreds[i]);\\n\\t\\t}\\n\\t\\tthis._deferreds = null;\\n\\t}\\n\\n\\tfunction Handler(onFulfilled, onRejected, resolve, reject){\\n\\t\\tthis.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\\n\\t\\tthis.onRejected = typeof onRejected === 'function' ? onRejected : null;\\n\\t\\tthis.resolve = resolve;\\n\\t\\tthis.reject = reject;\\n\\t}\\n\\n\\t/**\\n\\t * Take a potentially misbehaving resolver function and make sure\\n\\t * onFulfilled and onRejected are only called once.\\n\\t *\\n\\t * Makes no guarantees about asynchrony.\\n\\t */\\n\\tfunction doResolve(fn, onFulfilled, onRejected) {\\n\\t\\tvar done = false;\\n\\t\\ttry {\\n\\t\\t\\tfn(function (value) {\\n\\t\\t\\t\\tif (done) return;\\n\\t\\t\\t\\tdone = true;\\n\\t\\t\\t\\tonFulfilled(value);\\n\\t\\t\\t}, function (reason) {\\n\\t\\t\\t\\tif (done) return;\\n\\t\\t\\t\\tdone = true;\\n\\t\\t\\t\\tonRejected(reason);\\n\\t\\t\\t});\\n\\t\\t} catch (ex) {\\n\\t\\t\\tif (done) return;\\n\\t\\t\\tdone = true;\\n\\t\\t\\tonRejected(ex);\\n\\t\\t}\\n\\t}\\n\\n\\tPromise.prototype['catch'] = function (onRejected) {\\n\\t\\treturn this.then(null, onRejected);\\n\\t};\\n\\n\\tPromise.prototype.then = function(onFulfilled, onRejected) {\\n\\t\\tvar me = this;\\n\\t\\treturn new Promise(function(resolve, reject) {\\n\\t\\t\\thandle.call(me, new Handler(onFulfilled, onRejected, resolve, reject));\\n\\t\\t});\\n\\t};\\n\\n\\tPromise.all = function () {\\n\\t\\tvar args = Array.prototype.slice.call(arguments.length === 1 && isArray(arguments[0]) ? arguments[0] : arguments);\\n\\n\\t\\treturn new Promise(function (resolve, reject) {\\n\\t\\t\\tif (args.length === 0) return resolve([]);\\n\\t\\t\\tvar remaining = args.length;\\n\\t\\t\\tfunction res(i, val) {\\n\\t\\t\\t\\ttry {\\n\\t\\t\\t\\t\\tif (val && (typeof val === 'object' || typeof val === 'function')) {\\n\\t\\t\\t\\t\\t\\tvar then = val.then;\\n\\t\\t\\t\\t\\t\\tif (typeof then === 'function') {\\n\\t\\t\\t\\t\\t\\t\\tthen.call(val, function (val) { res(i, val); }, reject);\\n\\t\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\targs[i] = val;\\n\\t\\t\\t\\t\\tif (--remaining === 0) {\\n\\t\\t\\t\\t\\t\\tresolve(args);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} catch (ex) {\\n\\t\\t\\t\\t\\treject(ex);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t\\tfor (var i = 0; i < args.length; i++) {\\n\\t\\t\\t\\tres(i, args[i]);\\n\\t\\t\\t}\\n\\t\\t});\\n\\t};\\n\\n\\tPromise.resolve = function (value) {\\n\\t\\tif (value && typeof value === 'object' && value.constructor === Promise) {\\n\\t\\t\\treturn value;\\n\\t\\t}\\n\\n\\t\\treturn new Promise(function (resolve) {\\n\\t\\t\\tresolve(value);\\n\\t\\t});\\n\\t};\\n\\n\\tPromise.reject = function (value) {\\n\\t\\treturn new Promise(function (resolve, reject) {\\n\\t\\t\\treject(value);\\n\\t\\t});\\n\\t};\\n\\n\\tPromise.race = function (values) {\\n\\t\\treturn new Promise(function (resolve, reject) {\\n\\t\\t\\tfor(var i = 0, len = values.length; i < len; i++) {\\n\\t\\t\\t\\tvalues[i].then(resolve, reject);\\n\\t\\t\\t}\\n\\t\\t});\\n\\t};\\n\\n\\treturn Promise;\\n});\\n\\n/* jshint ignore:end */\\n/* eslint-enable */\\n\\n// Included from: js/tinymce/classes/util/Delay.js\\n\\n/**\\n * Delay.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Utility class for working with delayed actions like setTimeout.\\n *\\n * @class tinymce.util.Delay\\n */\\ndefine(\\\"tinymce/util/Delay\\\", [\\n\\t\\\"tinymce/util/Promise\\\"\\n], function(Promise) {\\n\\tvar requestAnimationFramePromise;\\n\\n\\tfunction requestAnimationFrame(callback, element) {\\n\\t\\tvar i, requestAnimationFrameFunc = window.requestAnimationFrame, vendors = ['ms', 'moz', 'webkit'];\\n\\n\\t\\tfunction featurefill(callback) {\\n\\t\\t\\twindow.setTimeout(callback, 0);\\n\\t\\t}\\n\\n\\t\\tfor (i = 0; i < vendors.length && !requestAnimationFrameFunc; i++) {\\n\\t\\t\\trequestAnimationFrameFunc = window[vendors[i] + 'RequestAnimationFrame'];\\n\\t\\t}\\n\\n\\t\\tif (!requestAnimationFrameFunc) {\\n\\t\\t\\trequestAnimationFrameFunc = featurefill;\\n\\t\\t}\\n\\n\\t\\trequestAnimationFrameFunc(callback, element);\\n\\t}\\n\\n\\tfunction wrappedSetTimeout(callback, time) {\\n\\t\\tif (typeof time != 'number') {\\n\\t\\t\\ttime = 0;\\n\\t\\t}\\n\\n\\t\\treturn setTimeout(callback, time);\\n\\t}\\n\\n\\tfunction wrappedSetInterval(callback, time) {\\n\\t\\tif (typeof time != 'number') {\\n\\t\\t\\ttime = 1; // IE 8 needs it to be > 0\\n\\t\\t}\\n\\n\\t\\treturn setInterval(callback, time);\\n\\t}\\n\\n\\tfunction wrappedClearTimeout(id) {\\n\\t\\treturn clearTimeout(id);\\n\\t}\\n\\n\\tfunction wrappedClearInterval(id) {\\n\\t\\treturn clearInterval(id);\\n\\t}\\n\\n\\tfunction debounce(callback, time) {\\n\\t\\tvar timer, func;\\n\\n\\t\\tfunc = function() {\\n\\t\\t\\tvar args = arguments;\\n\\n\\t\\t\\tclearTimeout(timer);\\n\\n\\t\\t\\ttimer = wrappedSetTimeout(function() {\\n\\t\\t\\t\\tcallback.apply(this, args);\\n\\t\\t\\t}, time);\\n\\t\\t};\\n\\n\\t\\tfunc.stop = function() {\\n\\t\\t\\tclearTimeout(timer);\\n\\t\\t};\\n\\n\\t\\treturn func;\\n\\t}\\n\\n\\treturn {\\n\\t\\t/**\\n\\t\\t * Requests an animation frame and fallbacks to a timeout on older browsers.\\n\\t\\t *\\n\\t\\t * @method requestAnimationFrame\\n\\t\\t * @param {function} callback Callback to execute when a new frame is available.\\n\\t\\t * @param {DOMElement} element Optional element to scope it to.\\n\\t\\t */\\n\\t\\trequestAnimationFrame: function(callback, element) {\\n\\t\\t\\tif (requestAnimationFramePromise) {\\n\\t\\t\\t\\trequestAnimationFramePromise.then(callback);\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\trequestAnimationFramePromise = new Promise(function(resolve) {\\n\\t\\t\\t\\tif (!element) {\\n\\t\\t\\t\\t\\telement = document.body;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\trequestAnimationFrame(resolve, element);\\n\\t\\t\\t}).then(callback);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Sets a timer in ms and executes the specified callback when the timer runs out.\\n\\t\\t *\\n\\t\\t * @method setTimeout\\n\\t\\t * @param {function} callback Callback to execute when timer runs out.\\n\\t\\t * @param {Number} time Optional time to wait before the callback is executed, defaults to 0.\\n\\t\\t * @return {Number} Timeout id number.\\n\\t\\t */\\n\\t\\tsetTimeout: wrappedSetTimeout,\\n\\n\\t\\t/**\\n\\t\\t * Sets an interval timer in ms and executes the specified callback at every interval of that time.\\n\\t\\t *\\n\\t\\t * @method setInterval\\n\\t\\t * @param {function} callback Callback to execute when interval time runs out.\\n\\t\\t * @param {Number} time Optional time to wait before the callback is executed, defaults to 0.\\n\\t\\t * @return {Number} Timeout id number.\\n\\t\\t */\\n\\t\\tsetInterval: wrappedSetInterval,\\n\\n\\t\\t/**\\n\\t\\t * Sets an editor timeout it's similar to setTimeout except that it checks if the editor instance is\\n\\t\\t * still alive when the callback gets executed.\\n\\t\\t *\\n\\t\\t * @method setEditorTimeout\\n\\t\\t * @param {tinymce.Editor} editor Editor instance to check the removed state on.\\n\\t\\t * @param {function} callback Callback to execute when timer runs out.\\n\\t\\t * @param {Number} time Optional time to wait before the callback is executed, defaults to 0.\\n\\t\\t * @return {Number} Timeout id number.\\n\\t\\t */\\n\\t\\tsetEditorTimeout: function(editor, callback, time) {\\n\\t\\t\\treturn wrappedSetTimeout(function() {\\n\\t\\t\\t\\tif (!editor.removed) {\\n\\t\\t\\t\\t\\tcallback();\\n\\t\\t\\t\\t}\\n\\t\\t\\t}, time);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Sets an interval timer it's similar to setInterval except that it checks if the editor instance is\\n\\t\\t * still alive when the callback gets executed.\\n\\t\\t *\\n\\t\\t * @method setEditorInterval\\n\\t\\t * @param {function} callback Callback to execute when interval time runs out.\\n\\t\\t * @param {Number} time Optional time to wait before the callback is executed, defaults to 0.\\n\\t\\t * @return {Number} Timeout id number.\\n\\t\\t */\\n\\t\\tsetEditorInterval: function(editor, callback, time) {\\n\\t\\t\\tvar timer;\\n\\n\\t\\t\\ttimer = wrappedSetInterval(function() {\\n\\t\\t\\t\\tif (!editor.removed) {\\n\\t\\t\\t\\t\\tcallback();\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tclearInterval(timer);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}, time);\\n\\n\\t\\t\\treturn timer;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Creates debounced callback function that only gets executed once within the specified time.\\n\\t\\t *\\n\\t\\t * @method debounce\\n\\t\\t * @param {function} callback Callback to execute when timer finishes.\\n\\t\\t * @param {Number} time Optional time to wait before the callback is executed, defaults to 0.\\n\\t\\t * @return {Function} debounced function callback.\\n\\t\\t */\\n\\t\\tdebounce: debounce,\\n\\n\\t\\t// Throttle needs to be debounce due to backwards compatibility.\\n\\t\\tthrottle: debounce,\\n\\n\\t\\t/**\\n\\t\\t * Clears an interval timer so it won't execute.\\n\\t\\t *\\n\\t\\t * @method clearInterval\\n\\t\\t * @param {Number} Interval timer id number.\\n\\t\\t */\\n\\t\\tclearInterval: wrappedClearInterval,\\n\\n\\t\\t/**\\n\\t\\t * Clears an timeout timer so it won't execute.\\n\\t\\t *\\n\\t\\t * @method clearTimeout\\n\\t\\t * @param {Number} Timeout timer id number.\\n\\t\\t */\\n\\t\\tclearTimeout: wrappedClearTimeout\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/Env.js\\n\\n/**\\n * Env.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class contains various environment constants like browser versions etc.\\n * Normally you don't want to sniff specific browser versions but sometimes you have\\n * to when it's impossible to feature detect. So use this with care.\\n *\\n * @class tinymce.Env\\n * @static\\n */\\ndefine(\\\"tinymce/Env\\\", [], function() {\\n\\tvar nav = navigator, userAgent = nav.userAgent;\\n\\tvar opera, webkit, ie, ie11, ie12, gecko, mac, iDevice, android, fileApi, phone, tablet, windowsPhone;\\n\\n\\tfunction matchMediaQuery(query) {\\n\\t\\treturn \\\"matchMedia\\\" in window ? matchMedia(query).matches : false;\\n\\t}\\n\\n\\topera = window.opera && window.opera.buildNumber;\\n\\tandroid = /Android/.test(userAgent);\\n\\twebkit = /WebKit/.test(userAgent);\\n\\tie = !webkit && !opera && (/MSIE/gi).test(userAgent) && (/Explorer/gi).test(nav.appName);\\n\\tie = ie && /MSIE (\\\\w+)\\\\./.exec(userAgent)[1];\\n\\tie11 = userAgent.indexOf('Trident/') != -1 && (userAgent.indexOf('rv:') != -1 || nav.appName.indexOf('Netscape') != -1) ? 11 : false;\\n\\tie12 = (userAgent.indexOf('Edge/') != -1 && !ie && !ie11) ? 12 : false;\\n\\tie = ie || ie11 || ie12;\\n\\tgecko = !webkit && !ie11 && /Gecko/.test(userAgent);\\n\\tmac = userAgent.indexOf('Mac') != -1;\\n\\tiDevice = /(iPad|iPhone)/.test(userAgent);\\n\\tfileApi = \\\"FormData\\\" in window && \\\"FileReader\\\" in window && \\\"URL\\\" in window && !!URL.createObjectURL;\\n\\tphone = matchMediaQuery(\\\"only screen and (max-device-width: 480px)\\\") && (android || iDevice);\\n\\ttablet = matchMediaQuery(\\\"only screen and (min-width: 800px)\\\") && (android || iDevice);\\n\\twindowsPhone = userAgent.indexOf('Windows Phone') != -1;\\n\\n\\tif (ie12) {\\n\\t\\twebkit = false;\\n\\t}\\n\\n\\t// Is a iPad/iPhone and not on iOS5 sniff the WebKit version since older iOS WebKit versions\\n\\t// says it has contentEditable support but there is no visible caret.\\n\\tvar contentEditable = !iDevice || fileApi || userAgent.match(/AppleWebKit\\\\/(\\\\d*)/)[1] >= 534;\\n\\n\\treturn {\\n\\t\\t/**\\n\\t\\t * Constant that is true if the browser is Opera.\\n\\t\\t *\\n\\t\\t * @property opera\\n\\t\\t * @type Boolean\\n\\t\\t * @final\\n\\t\\t */\\n\\t\\topera: opera,\\n\\n\\t\\t/**\\n\\t\\t * Constant that is true if the browser is WebKit (Safari/Chrome).\\n\\t\\t *\\n\\t\\t * @property webKit\\n\\t\\t * @type Boolean\\n\\t\\t * @final\\n\\t\\t */\\n\\t\\twebkit: webkit,\\n\\n\\t\\t/**\\n\\t\\t * Constant that is more than zero if the browser is IE.\\n\\t\\t *\\n\\t\\t * @property ie\\n\\t\\t * @type Boolean\\n\\t\\t * @final\\n\\t\\t */\\n\\t\\tie: ie,\\n\\n\\t\\t/**\\n\\t\\t * Constant that is true if the browser is Gecko.\\n\\t\\t *\\n\\t\\t * @property gecko\\n\\t\\t * @type Boolean\\n\\t\\t * @final\\n\\t\\t */\\n\\t\\tgecko: gecko,\\n\\n\\t\\t/**\\n\\t\\t * Constant that is true if the os is Mac OS.\\n\\t\\t *\\n\\t\\t * @property mac\\n\\t\\t * @type Boolean\\n\\t\\t * @final\\n\\t\\t */\\n\\t\\tmac: mac,\\n\\n\\t\\t/**\\n\\t\\t * Constant that is true if the os is iOS.\\n\\t\\t *\\n\\t\\t * @property iOS\\n\\t\\t * @type Boolean\\n\\t\\t * @final\\n\\t\\t */\\n\\t\\tiOS: iDevice,\\n\\n\\t\\t/**\\n\\t\\t * Constant that is true if the os is android.\\n\\t\\t *\\n\\t\\t * @property android\\n\\t\\t * @type Boolean\\n\\t\\t * @final\\n\\t\\t */\\n\\t\\tandroid: android,\\n\\n\\t\\t/**\\n\\t\\t * Constant that is true if the browser supports editing.\\n\\t\\t *\\n\\t\\t * @property contentEditable\\n\\t\\t * @type Boolean\\n\\t\\t * @final\\n\\t\\t */\\n\\t\\tcontentEditable: contentEditable,\\n\\n\\t\\t/**\\n\\t\\t * Transparent image data url.\\n\\t\\t *\\n\\t\\t * @property transparentSrc\\n\\t\\t * @type Boolean\\n\\t\\t * @final\\n\\t\\t */\\n\\t\\ttransparentSrc: \\\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\\\",\\n\\n\\t\\t/**\\n\\t\\t * Returns true/false if the browser can or can't place the caret after a inline block like an image.\\n\\t\\t *\\n\\t\\t * @property noCaretAfter\\n\\t\\t * @type Boolean\\n\\t\\t * @final\\n\\t\\t */\\n\\t\\tcaretAfter: ie != 8,\\n\\n\\t\\t/**\\n\\t\\t * Constant that is true if the browser supports native DOM Ranges. IE 9+.\\n\\t\\t *\\n\\t\\t * @property range\\n\\t\\t * @type Boolean\\n\\t\\t */\\n\\t\\trange: window.getSelection && \\\"Range\\\" in window,\\n\\n\\t\\t/**\\n\\t\\t * Returns the IE document mode for non IE browsers this will fake IE 10.\\n\\t\\t *\\n\\t\\t * @property documentMode\\n\\t\\t * @type Number\\n\\t\\t */\\n\\t\\tdocumentMode: ie && !ie12 ? (document.documentMode || 7) : 10,\\n\\n\\t\\t/**\\n\\t\\t * Constant that is true if the browser has a modern file api.\\n\\t\\t *\\n\\t\\t * @property fileApi\\n\\t\\t * @type Boolean\\n\\t\\t */\\n\\t\\tfileApi: fileApi,\\n\\n\\t\\t/**\\n\\t\\t * Constant that is true if the browser supports contentEditable=false regions.\\n\\t\\t *\\n\\t\\t * @property ceFalse\\n\\t\\t * @type Boolean\\n\\t\\t */\\n\\t\\tceFalse: (ie === false || ie > 8),\\n\\n\\t\\t/**\\n\\t\\t * Constant if CSP mode is possible or not. Meaning we can't use script urls for the iframe.\\n\\t\\t */\\n\\t\\tcanHaveCSP: (ie === false || ie > 11),\\n\\n\\t\\tdesktop: !phone && !tablet,\\n\\t\\twindowsPhone: windowsPhone\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/dom/EventUtils.js\\n\\n/**\\n * EventUtils.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/*jshint loopfunc:true*/\\n/*eslint no-loop-func:0 */\\n\\n/**\\n * This class wraps the browsers native event logic with more convenient methods.\\n *\\n * @class tinymce.dom.EventUtils\\n */\\ndefine(\\\"tinymce/dom/EventUtils\\\", [\\n\\t\\\"tinymce/util/Delay\\\",\\n\\t\\\"tinymce/Env\\\"\\n], function(Delay, Env) {\\n\\t\\\"use strict\\\";\\n\\n\\tvar eventExpandoPrefix = \\\"mce-data-\\\";\\n\\tvar mouseEventRe = /^(?:mouse|contextmenu)|click/;\\n\\tvar deprecated = {\\n\\t\\tkeyLocation: 1, layerX: 1, layerY: 1, returnValue: 1,\\n\\t\\twebkitMovementX: 1, webkitMovementY: 1, keyIdentifier: 1\\n\\t};\\n\\n\\t/**\\n\\t * Binds a native event to a callback on the speified target.\\n\\t */\\n\\tfunction addEvent(target, name, callback, capture) {\\n\\t\\tif (target.addEventListener) {\\n\\t\\t\\ttarget.addEventListener(name, callback, capture || false);\\n\\t\\t} else if (target.attachEvent) {\\n\\t\\t\\ttarget.attachEvent('on' + name, callback);\\n\\t\\t}\\n\\t}\\n\\n\\t/**\\n\\t * Unbinds a native event callback on the specified target.\\n\\t */\\n\\tfunction removeEvent(target, name, callback, capture) {\\n\\t\\tif (target.removeEventListener) {\\n\\t\\t\\ttarget.removeEventListener(name, callback, capture || false);\\n\\t\\t} else if (target.detachEvent) {\\n\\t\\t\\ttarget.detachEvent('on' + name, callback);\\n\\t\\t}\\n\\t}\\n\\n\\t/**\\n\\t * Gets the event target based on shadow dom properties like path and deepPath.\\n\\t */\\n\\tfunction getTargetFromShadowDom(event, defaultTarget) {\\n\\t\\tvar path, target = defaultTarget;\\n\\n\\t\\t// When target element is inside Shadow DOM we need to take first element from path\\n\\t\\t// otherwise we'll get Shadow Root parent, not actual target element\\n\\n\\t\\t// Normalize target for WebComponents v0 implementation (in Chrome)\\n\\t\\tpath = event.path;\\n\\t\\tif (path && path.length > 0) {\\n\\t\\t\\ttarget = path[0];\\n\\t\\t}\\n\\n\\t\\t// Normalize target for WebComponents v1 implementation (standard)\\n\\t\\tif (event.deepPath) {\\n\\t\\t\\tpath = event.deepPath();\\n\\t\\t\\tif (path && path.length > 0) {\\n\\t\\t\\t\\ttarget = path[0];\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\treturn target;\\n\\t}\\n\\n\\t/**\\n\\t * Normalizes a native event object or just adds the event specific methods on a custom event.\\n\\t */\\n\\tfunction fix(originalEvent, data) {\\n\\t\\tvar name, event = data || {}, undef;\\n\\n\\t\\t// Dummy function that gets replaced on the delegation state functions\\n\\t\\tfunction returnFalse() {\\n\\t\\t\\treturn false;\\n\\t\\t}\\n\\n\\t\\t// Dummy function that gets replaced on the delegation state functions\\n\\t\\tfunction returnTrue() {\\n\\t\\t\\treturn true;\\n\\t\\t}\\n\\n\\t\\t// Copy all properties from the original event\\n\\t\\tfor (name in originalEvent) {\\n\\t\\t\\t// layerX/layerY is deprecated in Chrome and produces a warning\\n\\t\\t\\tif (!deprecated[name]) {\\n\\t\\t\\t\\tevent[name] = originalEvent[name];\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t// Normalize target IE uses srcElement\\n\\t\\tif (!event.target) {\\n\\t\\t\\tevent.target = event.srcElement || document;\\n\\t\\t}\\n\\n\\t\\t// Experimental shadow dom support\\n\\t\\tif (Env.experimentalShadowDom) {\\n\\t\\t\\tevent.target = getTargetFromShadowDom(originalEvent, event.target);\\n\\t\\t}\\n\\n\\t\\t// Calculate pageX/Y if missing and clientX/Y available\\n\\t\\tif (originalEvent && mouseEventRe.test(originalEvent.type) && originalEvent.pageX === undef && originalEvent.clientX !== undef) {\\n\\t\\t\\tvar eventDoc = event.target.ownerDocument || document;\\n\\t\\t\\tvar doc = eventDoc.documentElement;\\n\\t\\t\\tvar body = eventDoc.body;\\n\\n\\t\\t\\tevent.pageX = originalEvent.clientX + (doc && doc.scrollLeft || body && body.scrollLeft || 0) -\\n\\t\\t\\t\\t(doc && doc.clientLeft || body && body.clientLeft || 0);\\n\\n\\t\\t\\tevent.pageY = originalEvent.clientY + (doc && doc.scrollTop || body && body.scrollTop || 0) -\\n\\t\\t\\t\\t(doc && doc.clientTop || body && body.clientTop || 0);\\n\\t\\t}\\n\\n\\t\\t// Add preventDefault method\\n\\t\\tevent.preventDefault = function() {\\n\\t\\t\\tevent.isDefaultPrevented = returnTrue;\\n\\n\\t\\t\\t// Execute preventDefault on the original event object\\n\\t\\t\\tif (originalEvent) {\\n\\t\\t\\t\\tif (originalEvent.preventDefault) {\\n\\t\\t\\t\\t\\toriginalEvent.preventDefault();\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\toriginalEvent.returnValue = false; // IE\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t};\\n\\n\\t\\t// Add stopPropagation\\n\\t\\tevent.stopPropagation = function() {\\n\\t\\t\\tevent.isPropagationStopped = returnTrue;\\n\\n\\t\\t\\t// Execute stopPropagation on the original event object\\n\\t\\t\\tif (originalEvent) {\\n\\t\\t\\t\\tif (originalEvent.stopPropagation) {\\n\\t\\t\\t\\t\\toriginalEvent.stopPropagation();\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\toriginalEvent.cancelBubble = true; // IE\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t};\\n\\n\\t\\t// Add stopImmediatePropagation\\n\\t\\tevent.stopImmediatePropagation = function() {\\n\\t\\t\\tevent.isImmediatePropagationStopped = returnTrue;\\n\\t\\t\\tevent.stopPropagation();\\n\\t\\t};\\n\\n\\t\\t// Add event delegation states\\n\\t\\tif (!event.isDefaultPrevented) {\\n\\t\\t\\tevent.isDefaultPrevented = returnFalse;\\n\\t\\t\\tevent.isPropagationStopped = returnFalse;\\n\\t\\t\\tevent.isImmediatePropagationStopped = returnFalse;\\n\\t\\t}\\n\\n\\t\\t// Add missing metaKey for IE 8\\n\\t\\tif (typeof event.metaKey == 'undefined') {\\n\\t\\t\\tevent.metaKey = false;\\n\\t\\t}\\n\\n\\t\\treturn event;\\n\\t}\\n\\n\\t/**\\n\\t * Bind a DOMContentLoaded event across browsers and executes the callback once the page DOM is initialized.\\n\\t * It will also set/check the domLoaded state of the event_utils instance so ready isn't called multiple times.\\n\\t */\\n\\tfunction bindOnReady(win, callback, eventUtils) {\\n\\t\\tvar doc = win.document, event = {type: 'ready'};\\n\\n\\t\\tif (eventUtils.domLoaded) {\\n\\t\\t\\tcallback(event);\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\t// Gets called when the DOM is ready\\n\\t\\tfunction readyHandler() {\\n\\t\\t\\tif (!eventUtils.domLoaded) {\\n\\t\\t\\t\\teventUtils.domLoaded = true;\\n\\t\\t\\t\\tcallback(event);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction waitForDomLoaded() {\\n\\t\\t\\t// Check complete or interactive state if there is a body\\n\\t\\t\\t// element on some iframes IE 8 will produce a null body\\n\\t\\t\\tif (doc.readyState === \\\"complete\\\" || (doc.readyState === \\\"interactive\\\" && doc.body)) {\\n\\t\\t\\t\\tremoveEvent(doc, \\\"readystatechange\\\", waitForDomLoaded);\\n\\t\\t\\t\\treadyHandler();\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction tryScroll() {\\n\\t\\t\\ttry {\\n\\t\\t\\t\\t// If IE is used, use the trick by Diego Perini licensed under MIT by request to the author.\\n\\t\\t\\t\\t// http://javascript.nwbox.com/IEContentLoaded/\\n\\t\\t\\t\\tdoc.documentElement.doScroll(\\\"left\\\");\\n\\t\\t\\t} catch (ex) {\\n\\t\\t\\t\\tDelay.setTimeout(tryScroll);\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\treadyHandler();\\n\\t\\t}\\n\\n\\t\\t// Use W3C method\\n\\t\\tif (doc.addEventListener) {\\n\\t\\t\\tif (doc.readyState === \\\"complete\\\") {\\n\\t\\t\\t\\treadyHandler();\\n\\t\\t\\t} else {\\n\\t\\t\\t\\taddEvent(win, 'DOMContentLoaded', readyHandler);\\n\\t\\t\\t}\\n\\t\\t} else {\\n\\t\\t\\t// Use IE method\\n\\t\\t\\taddEvent(doc, \\\"readystatechange\\\", waitForDomLoaded);\\n\\n\\t\\t\\t// Wait until we can scroll, when we can the DOM is initialized\\n\\t\\t\\tif (doc.documentElement.doScroll && win.self === win.top) {\\n\\t\\t\\t\\ttryScroll();\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t// Fallback if any of the above methods should fail for some odd reason\\n\\t\\taddEvent(win, 'load', readyHandler);\\n\\t}\\n\\n\\t/**\\n\\t * This class enables you to bind/unbind native events to elements and normalize it's behavior across browsers.\\n\\t */\\n\\tfunction EventUtils() {\\n\\t\\tvar self = this, events = {}, count, expando, hasFocusIn, hasMouseEnterLeave, mouseEnterLeave;\\n\\n\\t\\texpando = eventExpandoPrefix + (+new Date()).toString(32);\\n\\t\\thasMouseEnterLeave = \\\"onmouseenter\\\" in document.documentElement;\\n\\t\\thasFocusIn = \\\"onfocusin\\\" in document.documentElement;\\n\\t\\tmouseEnterLeave = {mouseenter: 'mouseover', mouseleave: 'mouseout'};\\n\\t\\tcount = 1;\\n\\n\\t\\t// State if the DOMContentLoaded was executed or not\\n\\t\\tself.domLoaded = false;\\n\\t\\tself.events = events;\\n\\n\\t\\t/**\\n\\t\\t * Executes all event handler callbacks for a specific event.\\n\\t\\t *\\n\\t\\t * @private\\n\\t\\t * @param {Event} evt Event object.\\n\\t\\t * @param {String} id Expando id value to look for.\\n\\t\\t */\\n\\t\\tfunction executeHandlers(evt, id) {\\n\\t\\t\\tvar callbackList, i, l, callback, container = events[id];\\n\\n\\t\\t\\tcallbackList = container && container[evt.type];\\n\\t\\t\\tif (callbackList) {\\n\\t\\t\\t\\tfor (i = 0, l = callbackList.length; i < l; i++) {\\n\\t\\t\\t\\t\\tcallback = callbackList[i];\\n\\n\\t\\t\\t\\t\\t// Check if callback exists might be removed if a unbind is called inside the callback\\n\\t\\t\\t\\t\\tif (callback && callback.func.call(callback.scope, evt) === false) {\\n\\t\\t\\t\\t\\t\\tevt.preventDefault();\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Should we stop propagation to immediate listeners\\n\\t\\t\\t\\t\\tif (evt.isImmediatePropagationStopped()) {\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Binds a callback to an event on the specified target.\\n\\t\\t *\\n\\t\\t * @method bind\\n\\t\\t * @param {Object} target Target node/window or custom object.\\n\\t\\t * @param {String} names Name of the event to bind.\\n\\t\\t * @param {function} callback Callback function to execute when the event occurs.\\n\\t\\t * @param {Object} scope Scope to call the callback function on, defaults to target.\\n\\t\\t * @return {function} Callback function that got bound.\\n\\t\\t */\\n\\t\\tself.bind = function(target, names, callback, scope) {\\n\\t\\t\\tvar id, callbackList, i, name, fakeName, nativeHandler, capture, win = window;\\n\\n\\t\\t\\t// Native event handler function patches the event and executes the callbacks for the expando\\n\\t\\t\\tfunction defaultNativeHandler(evt) {\\n\\t\\t\\t\\texecuteHandlers(fix(evt || win.event), id);\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Don't bind to text nodes or comments\\n\\t\\t\\tif (!target || target.nodeType === 3 || target.nodeType === 8) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Create or get events id for the target\\n\\t\\t\\tif (!target[expando]) {\\n\\t\\t\\t\\tid = count++;\\n\\t\\t\\t\\ttarget[expando] = id;\\n\\t\\t\\t\\tevents[id] = {};\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tid = target[expando];\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Setup the specified scope or use the target as a default\\n\\t\\t\\tscope = scope || target;\\n\\n\\t\\t\\t// Split names and bind each event, enables you to bind multiple events with one call\\n\\t\\t\\tnames = names.split(' ');\\n\\t\\t\\ti = names.length;\\n\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\tname = names[i];\\n\\t\\t\\t\\tnativeHandler = defaultNativeHandler;\\n\\t\\t\\t\\tfakeName = capture = false;\\n\\n\\t\\t\\t\\t// Use ready instead of DOMContentLoaded\\n\\t\\t\\t\\tif (name === \\\"DOMContentLoaded\\\") {\\n\\t\\t\\t\\t\\tname = \\\"ready\\\";\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// DOM is already ready\\n\\t\\t\\t\\tif (self.domLoaded && name === \\\"ready\\\" && target.readyState == 'complete') {\\n\\t\\t\\t\\t\\tcallback.call(scope, fix({type: name}));\\n\\t\\t\\t\\t\\tcontinue;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Handle mouseenter/mouseleaver\\n\\t\\t\\t\\tif (!hasMouseEnterLeave) {\\n\\t\\t\\t\\t\\tfakeName = mouseEnterLeave[name];\\n\\n\\t\\t\\t\\t\\tif (fakeName) {\\n\\t\\t\\t\\t\\t\\tnativeHandler = function(evt) {\\n\\t\\t\\t\\t\\t\\t\\tvar current, related;\\n\\n\\t\\t\\t\\t\\t\\t\\tcurrent = evt.currentTarget;\\n\\t\\t\\t\\t\\t\\t\\trelated = evt.relatedTarget;\\n\\n\\t\\t\\t\\t\\t\\t\\t// Check if related is inside the current target if it's not then the event should\\n\\t\\t\\t\\t\\t\\t\\t// be ignored since it's a mouseover/mouseout inside the element\\n\\t\\t\\t\\t\\t\\t\\tif (related && current.contains) {\\n\\t\\t\\t\\t\\t\\t\\t\\t// Use contains for performance\\n\\t\\t\\t\\t\\t\\t\\t\\trelated = current.contains(related);\\n\\t\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\t\\twhile (related && related !== current) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\trelated = related.parentNode;\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t// Fire fake event\\n\\t\\t\\t\\t\\t\\t\\tif (!related) {\\n\\t\\t\\t\\t\\t\\t\\t\\tevt = fix(evt || win.event);\\n\\t\\t\\t\\t\\t\\t\\t\\tevt.type = evt.type === 'mouseout' ? 'mouseleave' : 'mouseenter';\\n\\t\\t\\t\\t\\t\\t\\t\\tevt.target = current;\\n\\t\\t\\t\\t\\t\\t\\t\\texecuteHandlers(evt, id);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Fake bubbling of focusin/focusout\\n\\t\\t\\t\\tif (!hasFocusIn && (name === \\\"focusin\\\" || name === \\\"focusout\\\")) {\\n\\t\\t\\t\\t\\tcapture = true;\\n\\t\\t\\t\\t\\tfakeName = name === \\\"focusin\\\" ? \\\"focus\\\" : \\\"blur\\\";\\n\\t\\t\\t\\t\\tnativeHandler = function(evt) {\\n\\t\\t\\t\\t\\t\\tevt = fix(evt || win.event);\\n\\t\\t\\t\\t\\t\\tevt.type = evt.type === 'focus' ? 'focusin' : 'focusout';\\n\\t\\t\\t\\t\\t\\texecuteHandlers(evt, id);\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Setup callback list and bind native event\\n\\t\\t\\t\\tcallbackList = events[id][name];\\n\\t\\t\\t\\tif (!callbackList) {\\n\\t\\t\\t\\t\\tevents[id][name] = callbackList = [{func: callback, scope: scope}];\\n\\t\\t\\t\\t\\tcallbackList.fakeName = fakeName;\\n\\t\\t\\t\\t\\tcallbackList.capture = capture;\\n\\t\\t\\t\\t\\t//callbackList.callback = callback;\\n\\n\\t\\t\\t\\t\\t// Add the nativeHandler to the callback list so that we can later unbind it\\n\\t\\t\\t\\t\\tcallbackList.nativeHandler = nativeHandler;\\n\\n\\t\\t\\t\\t\\t// Check if the target has native events support\\n\\n\\t\\t\\t\\t\\tif (name === \\\"ready\\\") {\\n\\t\\t\\t\\t\\t\\tbindOnReady(target, nativeHandler, self);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\taddEvent(target, fakeName || name, nativeHandler, capture);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tif (name === \\\"ready\\\" && self.domLoaded) {\\n\\t\\t\\t\\t\\t\\tcallback({type: name});\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t// If it already has an native handler then just push the callback\\n\\t\\t\\t\\t\\t\\tcallbackList.push({func: callback, scope: scope});\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\ttarget = callbackList = 0; // Clean memory for IE\\n\\n\\t\\t\\treturn callback;\\n\\t\\t};\\n\\n\\t\\t/**\\n\\t\\t * Unbinds the specified event by name, name and callback or all events on the target.\\n\\t\\t *\\n\\t\\t * @method unbind\\n\\t\\t * @param {Object} target Target node/window or custom object.\\n\\t\\t * @param {String} names Optional event name to unbind.\\n\\t\\t * @param {function} callback Optional callback function to unbind.\\n\\t\\t * @return {EventUtils} Event utils instance.\\n\\t\\t */\\n\\t\\tself.unbind = function(target, names, callback) {\\n\\t\\t\\tvar id, callbackList, i, ci, name, eventMap;\\n\\n\\t\\t\\t// Don't bind to text nodes or comments\\n\\t\\t\\tif (!target || target.nodeType === 3 || target.nodeType === 8) {\\n\\t\\t\\t\\treturn self;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Unbind event or events if the target has the expando\\n\\t\\t\\tid = target[expando];\\n\\t\\t\\tif (id) {\\n\\t\\t\\t\\teventMap = events[id];\\n\\n\\t\\t\\t\\t// Specific callback\\n\\t\\t\\t\\tif (names) {\\n\\t\\t\\t\\t\\tnames = names.split(' ');\\n\\t\\t\\t\\t\\ti = names.length;\\n\\t\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\t\\tname = names[i];\\n\\t\\t\\t\\t\\t\\tcallbackList = eventMap[name];\\n\\n\\t\\t\\t\\t\\t\\t// Unbind the event if it exists in the map\\n\\t\\t\\t\\t\\t\\tif (callbackList) {\\n\\t\\t\\t\\t\\t\\t\\t// Remove specified callback\\n\\t\\t\\t\\t\\t\\t\\tif (callback) {\\n\\t\\t\\t\\t\\t\\t\\t\\tci = callbackList.length;\\n\\t\\t\\t\\t\\t\\t\\t\\twhile (ci--) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tif (callbackList[ci].func === callback) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tvar nativeHandler = callbackList.nativeHandler;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tvar fakeName = callbackList.fakeName, capture = callbackList.capture;\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t// Clone callbackList since unbind inside a callback would otherwise break the handlers loop\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tcallbackList = callbackList.slice(0, ci).concat(callbackList.slice(ci + 1));\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tcallbackList.nativeHandler = nativeHandler;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tcallbackList.fakeName = fakeName;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tcallbackList.capture = capture;\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\teventMap[name] = callbackList;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t// Remove all callbacks if there isn't a specified callback or there is no callbacks left\\n\\t\\t\\t\\t\\t\\t\\tif (!callback || callbackList.length === 0) {\\n\\t\\t\\t\\t\\t\\t\\t\\tdelete eventMap[name];\\n\\t\\t\\t\\t\\t\\t\\t\\tremoveEvent(target, callbackList.fakeName || name, callbackList.nativeHandler, callbackList.capture);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t// All events for a specific element\\n\\t\\t\\t\\t\\tfor (name in eventMap) {\\n\\t\\t\\t\\t\\t\\tcallbackList = eventMap[name];\\n\\t\\t\\t\\t\\t\\tremoveEvent(target, callbackList.fakeName || name, callbackList.nativeHandler, callbackList.capture);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\teventMap = {};\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Check if object is empty, if it isn't then we won't remove the expando map\\n\\t\\t\\t\\tfor (name in eventMap) {\\n\\t\\t\\t\\t\\treturn self;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Delete event object\\n\\t\\t\\t\\tdelete events[id];\\n\\n\\t\\t\\t\\t// Remove expando from target\\n\\t\\t\\t\\ttry {\\n\\t\\t\\t\\t\\t// IE will fail here since it can't delete properties from window\\n\\t\\t\\t\\t\\tdelete target[expando];\\n\\t\\t\\t\\t} catch (ex) {\\n\\t\\t\\t\\t\\t// IE will set it to null\\n\\t\\t\\t\\t\\ttarget[expando] = null;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn self;\\n\\t\\t};\\n\\n\\t\\t/**\\n\\t\\t * Fires the specified event on the specified target.\\n\\t\\t *\\n\\t\\t * @method fire\\n\\t\\t * @param {Object} target Target node/window or custom object.\\n\\t\\t * @param {String} name Event name to fire.\\n\\t\\t * @param {Object} args Optional arguments to send to the observers.\\n\\t\\t * @return {EventUtils} Event utils instance.\\n\\t\\t */\\n\\t\\tself.fire = function(target, name, args) {\\n\\t\\t\\tvar id;\\n\\n\\t\\t\\t// Don't bind to text nodes or comments\\n\\t\\t\\tif (!target || target.nodeType === 3 || target.nodeType === 8) {\\n\\t\\t\\t\\treturn self;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Build event object by patching the args\\n\\t\\t\\targs = fix(null, args);\\n\\t\\t\\targs.type = name;\\n\\t\\t\\targs.target = target;\\n\\n\\t\\t\\tdo {\\n\\t\\t\\t\\t// Found an expando that means there is listeners to execute\\n\\t\\t\\t\\tid = target[expando];\\n\\t\\t\\t\\tif (id) {\\n\\t\\t\\t\\t\\texecuteHandlers(args, id);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Walk up the DOM\\n\\t\\t\\t\\ttarget = target.parentNode || target.ownerDocument || target.defaultView || target.parentWindow;\\n\\t\\t\\t} while (target && !args.isPropagationStopped());\\n\\n\\t\\t\\treturn self;\\n\\t\\t};\\n\\n\\t\\t/**\\n\\t\\t * Removes all bound event listeners for the specified target. This will also remove any bound\\n\\t\\t * listeners to child nodes within that target.\\n\\t\\t *\\n\\t\\t * @method clean\\n\\t\\t * @param {Object} target Target node/window object.\\n\\t\\t * @return {EventUtils} Event utils instance.\\n\\t\\t */\\n\\t\\tself.clean = function(target) {\\n\\t\\t\\tvar i, children, unbind = self.unbind;\\n\\n\\t\\t\\t// Don't bind to text nodes or comments\\n\\t\\t\\tif (!target || target.nodeType === 3 || target.nodeType === 8) {\\n\\t\\t\\t\\treturn self;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Unbind any element on the specified target\\n\\t\\t\\tif (target[expando]) {\\n\\t\\t\\t\\tunbind(target);\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Target doesn't have getElementsByTagName it's probably a window object then use it's document to find the children\\n\\t\\t\\tif (!target.getElementsByTagName) {\\n\\t\\t\\t\\ttarget = target.document;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Remove events from each child element\\n\\t\\t\\tif (target && target.getElementsByTagName) {\\n\\t\\t\\t\\tunbind(target);\\n\\n\\t\\t\\t\\tchildren = target.getElementsByTagName('*');\\n\\t\\t\\t\\ti = children.length;\\n\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\ttarget = children[i];\\n\\n\\t\\t\\t\\t\\tif (target[expando]) {\\n\\t\\t\\t\\t\\t\\tunbind(target);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn self;\\n\\t\\t};\\n\\n\\t\\t/**\\n\\t\\t * Destroys the event object. Call this on IE to remove memory leaks.\\n\\t\\t */\\n\\t\\tself.destroy = function() {\\n\\t\\t\\tevents = {};\\n\\t\\t};\\n\\n\\t\\t// Legacy function for canceling events\\n\\t\\tself.cancel = function(e) {\\n\\t\\t\\tif (e) {\\n\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t\\te.stopImmediatePropagation();\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn false;\\n\\t\\t};\\n\\t}\\n\\n\\tEventUtils.Event = new EventUtils();\\n\\tEventUtils.Event.bind(window, 'ready', function() {});\\n\\n\\treturn EventUtils;\\n});\\n\\n// Included from: js/tinymce/classes/dom/Sizzle.js\\n\\n/**\\n * Sizzle.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n *\\n * @ignore-file\\n */\\n\\n/*jshint bitwise:false, expr:true, noempty:false, sub:true, eqnull:true, latedef:false, maxlen:255 */\\n/*eslint-disable */\\n\\n/**\\n * Sizzle CSS Selector Engine v@VERSION\\n * http://sizzlejs.com/\\n *\\n * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors\\n * Released under the MIT license\\n * http://jquery.org/license\\n *\\n * Date: @DATE\\n */\\ndefine(\\\"tinymce/dom/Sizzle\\\", [], function() {\\nvar i,\\n\\tsupport,\\n\\tExpr,\\n\\tgetText,\\n\\tisXML,\\n\\ttokenize,\\n\\tcompile,\\n\\tselect,\\n\\toutermostContext,\\n\\tsortInput,\\n\\thasDuplicate,\\n\\n\\t// Local document vars\\n\\tsetDocument,\\n\\tdocument,\\n\\tdocElem,\\n\\tdocumentIsHTML,\\n\\trbuggyQSA,\\n\\trbuggyMatches,\\n\\tmatches,\\n\\tcontains,\\n\\n\\t// Instance-specific data\\n\\texpando = \\\"sizzle\\\" + -(new Date()),\\n\\tpreferredDoc = window.document,\\n\\tdirruns = 0,\\n\\tdone = 0,\\n\\tclassCache = createCache(),\\n\\ttokenCache = createCache(),\\n\\tcompilerCache = createCache(),\\n\\tsortOrder = function( a, b ) {\\n\\t\\tif ( a === b ) {\\n\\t\\t\\thasDuplicate = true;\\n\\t\\t}\\n\\t\\treturn 0;\\n\\t},\\n\\n\\t// General-purpose constants\\n\\tstrundefined = typeof undefined,\\n\\tMAX_NEGATIVE = 1 << 31,\\n\\n\\t// Instance methods\\n\\thasOwn = ({}).hasOwnProperty,\\n\\tarr = [],\\n\\tpop = arr.pop,\\n\\tpush_native = arr.push,\\n\\tpush = arr.push,\\n\\tslice = arr.slice,\\n\\t// Use a stripped-down indexOf if we can't use a native one\\n\\tindexOf = arr.indexOf || function( elem ) {\\n\\t\\tvar i = 0,\\n\\t\\t\\tlen = this.length;\\n\\t\\tfor ( ; i < len; i++ ) {\\n\\t\\t\\tif ( this[i] === elem ) {\\n\\t\\t\\t\\treturn i;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t\\treturn -1;\\n\\t},\\n\\n\\tbooleans = \\\"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\\\",\\n\\n\\t// Regular expressions\\n\\n\\t// http://www.w3.org/TR/css3-selectors/#whitespace\\n\\twhitespace = \\\"[\\\\\\\\x20\\\\\\\\t\\\\\\\\r\\\\\\\\n\\\\\\\\f]\\\",\\n\\n\\t// http://www.w3.org/TR/CSS21/syndata.html#value-def-identifier\\n\\tidentifier = \\\"(?:\\\\\\\\\\\\\\\\.|[\\\\\\\\w-]|[^\\\\\\\\x00-\\\\\\\\xa0])+\\\",\\n\\n\\t// Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectors\\n\\tattributes = \\\"\\\\\\\\[\\\" + whitespace + \\\"*(\\\" + identifier + \\\")(?:\\\" + whitespace +\\n\\t\\t// Operator (capture 2)\\n\\t\\t\\\"*([*^$|!~]?=)\\\" + whitespace +\\n\\t\\t// \\\"Attribute values must be CSS identifiers [capture 5] or strings [capture 3 or capture 4]\\\"\\n\\t\\t\\\"*(?:'((?:\\\\\\\\\\\\\\\\.|[^\\\\\\\\\\\\\\\\'])*)'|\\\\\\\"((?:\\\\\\\\\\\\\\\\.|[^\\\\\\\\\\\\\\\\\\\\\\\"])*)\\\\\\\"|(\\\" + identifier + \\\"))|)\\\" + whitespace +\\n\\t\\t\\\"*\\\\\\\\]\\\",\\n\\n\\tpseudos = \\\":(\\\" + identifier + \\\")(?:\\\\\\\\((\\\" +\\n\\t\\t// To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:\\n\\t\\t// 1. quoted (capture 3; capture 4 or capture 5)\\n\\t\\t\\\"('((?:\\\\\\\\\\\\\\\\.|[^\\\\\\\\\\\\\\\\'])*)'|\\\\\\\"((?:\\\\\\\\\\\\\\\\.|[^\\\\\\\\\\\\\\\\\\\\\\\"])*)\\\\\\\")|\\\" +\\n\\t\\t// 2. simple (capture 6)\\n\\t\\t\\\"((?:\\\\\\\\\\\\\\\\.|[^\\\\\\\\\\\\\\\\()[\\\\\\\\]]|\\\" + attributes + \\\")*)|\\\" +\\n\\t\\t// 3. anything else (capture 2)\\n\\t\\t\\\".*\\\" +\\n\\t\\t\\\")\\\\\\\\)|)\\\",\\n\\n\\t// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter\\n\\trtrim = new RegExp( \\\"^\\\" + whitespace + \\\"+|((?:^|[^\\\\\\\\\\\\\\\\])(?:\\\\\\\\\\\\\\\\.)*)\\\" + whitespace + \\\"+$\\\", \\\"g\\\" ),\\n\\n\\trcomma = new RegExp( \\\"^\\\" + whitespace + \\\"*,\\\" + whitespace + \\\"*\\\" ),\\n\\trcombinators = new RegExp( \\\"^\\\" + whitespace + \\\"*([>+~]|\\\" + whitespace + \\\")\\\" + whitespace + \\\"*\\\" ),\\n\\n\\trattributeQuotes = new RegExp( \\\"=\\\" + whitespace + \\\"*([^\\\\\\\\]'\\\\\\\"]*?)\\\" + whitespace + \\\"*\\\\\\\\]\\\", \\\"g\\\" ),\\n\\n\\trpseudo = new RegExp( pseudos ),\\n\\tridentifier = new RegExp( \\\"^\\\" + identifier + \\\"$\\\" ),\\n\\n\\tmatchExpr = {\\n\\t\\t\\\"ID\\\": new RegExp( \\\"^#(\\\" + identifier + \\\")\\\" ),\\n\\t\\t\\\"CLASS\\\": new RegExp( \\\"^\\\\\\\\.(\\\" + identifier + \\\")\\\" ),\\n\\t\\t\\\"TAG\\\": new RegExp( \\\"^(\\\" + identifier + \\\"|[*])\\\" ),\\n\\t\\t\\\"ATTR\\\": new RegExp( \\\"^\\\" + attributes ),\\n\\t\\t\\\"PSEUDO\\\": new RegExp( \\\"^\\\" + pseudos ),\\n\\t\\t\\\"CHILD\\\": new RegExp( \\\"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\\\\\(\\\" + whitespace +\\n\\t\\t\\t\\\"*(even|odd|(([+-]|)(\\\\\\\\d*)n|)\\\" + whitespace + \\\"*(?:([+-]|)\\\" + whitespace +\\n\\t\\t\\t\\\"*(\\\\\\\\d+)|))\\\" + whitespace + \\\"*\\\\\\\\)|)\\\", \\\"i\\\" ),\\n\\t\\t\\\"bool\\\": new RegExp( \\\"^(?:\\\" + booleans + \\\")$\\\", \\\"i\\\" ),\\n\\t\\t// For use in libraries implementing .is()\\n\\t\\t// We use this for POS matching in `select`\\n\\t\\t\\\"needsContext\\\": new RegExp( \\\"^\\\" + whitespace + \\\"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\\\\\(\\\" +\\n\\t\\t\\twhitespace + \\\"*((?:-\\\\\\\\d)?\\\\\\\\d*)\\\" + whitespace + \\\"*\\\\\\\\)|)(?=[^-]|$)\\\", \\\"i\\\" )\\n\\t},\\n\\n\\trinputs = /^(?:input|select|textarea|button)$/i,\\n\\trheader = /^h\\\\d$/i,\\n\\n\\trnative = /^[^{]+\\\\{\\\\s*\\\\[native \\\\w/,\\n\\n\\t// Easily-parseable/retrievable ID or TAG or CLASS selectors\\n\\trquickExpr = /^(?:#([\\\\w-]+)|(\\\\w+)|\\\\.([\\\\w-]+))$/,\\n\\n\\trsibling = /[+~]/,\\n\\trescape = /'|\\\\\\\\/g,\\n\\n\\t// CSS escapes http://www.w3.org/TR/CSS21/syndata.html#escaped-characters\\n\\trunescape = new RegExp( \\\"\\\\\\\\\\\\\\\\([\\\\\\\\da-f]{1,6}\\\" + whitespace + \\\"?|(\\\" + whitespace + \\\")|.)\\\", \\\"ig\\\" ),\\n\\tfunescape = function( _, escaped, escapedWhitespace ) {\\n\\t\\tvar high = \\\"0x\\\" + escaped - 0x10000;\\n\\t\\t// NaN means non-codepoint\\n\\t\\t// Support: Firefox<24\\n\\t\\t// Workaround erroneous numeric interpretation of +\\\"0x\\\"\\n\\t\\treturn high !== high || escapedWhitespace ?\\n\\t\\t\\tescaped :\\n\\t\\t\\thigh < 0 ?\\n\\t\\t\\t\\t// BMP codepoint\\n\\t\\t\\t\\tString.fromCharCode( high + 0x10000 ) :\\n\\t\\t\\t\\t// Supplemental Plane codepoint (surrogate pair)\\n\\t\\t\\t\\tString.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );\\n\\t};\\n\\n// Optimize for push.apply( _, NodeList )\\ntry {\\n\\tpush.apply(\\n\\t\\t(arr = slice.call( preferredDoc.childNodes )),\\n\\t\\tpreferredDoc.childNodes\\n\\t);\\n\\t// Support: Android<4.0\\n\\t// Detect silently failing push.apply\\n\\tarr[ preferredDoc.childNodes.length ].nodeType;\\n} catch ( e ) {\\n\\tpush = { apply: arr.length ?\\n\\n\\t\\t// Leverage slice if possible\\n\\t\\tfunction( target, els ) {\\n\\t\\t\\tpush_native.apply( target, slice.call(els) );\\n\\t\\t} :\\n\\n\\t\\t// Support: IE<9\\n\\t\\t// Otherwise append directly\\n\\t\\tfunction( target, els ) {\\n\\t\\t\\tvar j = target.length,\\n\\t\\t\\t\\ti = 0;\\n\\t\\t\\t// Can't trust NodeList.length\\n\\t\\t\\twhile ( (target[j++] = els[i++]) ) {}\\n\\t\\t\\ttarget.length = j - 1;\\n\\t\\t}\\n\\t};\\n}\\n\\nfunction Sizzle( selector, context, results, seed ) {\\n\\tvar match, elem, m, nodeType,\\n\\t\\t// QSA vars\\n\\t\\ti, groups, old, nid, newContext, newSelector;\\n\\n\\tif ( ( context ? context.ownerDocument || context : preferredDoc ) !== document ) {\\n\\t\\tsetDocument( context );\\n\\t}\\n\\n\\tcontext = context || document;\\n\\tresults = results || [];\\n\\n\\tif ( !selector || typeof selector !== \\\"string\\\" ) {\\n\\t\\treturn results;\\n\\t}\\n\\n\\tif ( (nodeType = context.nodeType) !== 1 && nodeType !== 9 ) {\\n\\t\\treturn [];\\n\\t}\\n\\n\\tif ( documentIsHTML && !seed ) {\\n\\n\\t\\t// Shortcuts\\n\\t\\tif ( (match = rquickExpr.exec( selector )) ) {\\n\\t\\t\\t// Speed-up: Sizzle(\\\"#ID\\\")\\n\\t\\t\\tif ( (m = match[1]) ) {\\n\\t\\t\\t\\tif ( nodeType === 9 ) {\\n\\t\\t\\t\\t\\telem = context.getElementById( m );\\n\\t\\t\\t\\t\\t// Check parentNode to catch when Blackberry 4.6 returns\\n\\t\\t\\t\\t\\t// nodes that are no longer in the document (jQuery #6963)\\n\\t\\t\\t\\t\\tif ( elem && elem.parentNode ) {\\n\\t\\t\\t\\t\\t\\t// Handle the case where IE, Opera, and Webkit return items\\n\\t\\t\\t\\t\\t\\t// by name instead of ID\\n\\t\\t\\t\\t\\t\\tif ( elem.id === m ) {\\n\\t\\t\\t\\t\\t\\t\\tresults.push( elem );\\n\\t\\t\\t\\t\\t\\t\\treturn results;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\treturn results;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t// Context is not a document\\n\\t\\t\\t\\t\\tif ( context.ownerDocument && (elem = context.ownerDocument.getElementById( m )) &&\\n\\t\\t\\t\\t\\t\\tcontains( context, elem ) && elem.id === m ) {\\n\\t\\t\\t\\t\\t\\tresults.push( elem );\\n\\t\\t\\t\\t\\t\\treturn results;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t// Speed-up: Sizzle(\\\"TAG\\\")\\n\\t\\t\\t} else if ( match[2] ) {\\n\\t\\t\\t\\tpush.apply( results, context.getElementsByTagName( selector ) );\\n\\t\\t\\t\\treturn results;\\n\\n\\t\\t\\t// Speed-up: Sizzle(\\\".CLASS\\\")\\n\\t\\t\\t} else if ( (m = match[3]) && support.getElementsByClassName ) {\\n\\t\\t\\t\\tpush.apply( results, context.getElementsByClassName( m ) );\\n\\t\\t\\t\\treturn results;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t// QSA path\\n\\t\\tif ( support.qsa && (!rbuggyQSA || !rbuggyQSA.test( selector )) ) {\\n\\t\\t\\tnid = old = expando;\\n\\t\\t\\tnewContext = context;\\n\\t\\t\\tnewSelector = nodeType === 9 && selector;\\n\\n\\t\\t\\t// qSA works strangely on Element-rooted queries\\n\\t\\t\\t// We can work around this by specifying an extra ID on the root\\n\\t\\t\\t// and working up from there (Thanks to Andrew Dupont for the technique)\\n\\t\\t\\t// IE 8 doesn't work on object elements\\n\\t\\t\\tif ( nodeType === 1 && context.nodeName.toLowerCase() !== \\\"object\\\" ) {\\n\\t\\t\\t\\tgroups = tokenize( selector );\\n\\n\\t\\t\\t\\tif ( (old = context.getAttribute(\\\"id\\\")) ) {\\n\\t\\t\\t\\t\\tnid = old.replace( rescape, \\\"\\\\\\\\$&\\\" );\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tcontext.setAttribute( \\\"id\\\", nid );\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tnid = \\\"[id='\\\" + nid + \\\"'] \\\";\\n\\n\\t\\t\\t\\ti = groups.length;\\n\\t\\t\\t\\twhile ( i-- ) {\\n\\t\\t\\t\\t\\tgroups[i] = nid + toSelector( groups[i] );\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tnewContext = rsibling.test( selector ) && testContext( context.parentNode ) || context;\\n\\t\\t\\t\\tnewSelector = groups.join(\\\",\\\");\\n\\t\\t\\t}\\n\\n\\t\\t\\tif ( newSelector ) {\\n\\t\\t\\t\\ttry {\\n\\t\\t\\t\\t\\tpush.apply( results,\\n\\t\\t\\t\\t\\t\\tnewContext.querySelectorAll( newSelector )\\n\\t\\t\\t\\t\\t);\\n\\t\\t\\t\\t\\treturn results;\\n\\t\\t\\t\\t} catch(qsaError) {\\n\\t\\t\\t\\t} finally {\\n\\t\\t\\t\\t\\tif ( !old ) {\\n\\t\\t\\t\\t\\t\\tcontext.removeAttribute(\\\"id\\\");\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t// All others\\n\\treturn select( selector.replace( rtrim, \\\"$1\\\" ), context, results, seed );\\n}\\n\\n/**\\n * Create key-value caches of limited size\\n * @returns {Function(string, Object)} Returns the Object data after storing it on itself with\\n *\\tproperty name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)\\n *\\tdeleting the oldest entry\\n */\\nfunction createCache() {\\n\\tvar keys = [];\\n\\n\\tfunction cache( key, value ) {\\n\\t\\t// Use (key + \\\" \\\") to avoid collision with native prototype properties (see Issue #157)\\n\\t\\tif ( keys.push( key + \\\" \\\" ) > Expr.cacheLength ) {\\n\\t\\t\\t// Only keep the most recent entries\\n\\t\\t\\tdelete cache[ keys.shift() ];\\n\\t\\t}\\n\\t\\treturn (cache[ key + \\\" \\\" ] = value);\\n\\t}\\n\\treturn cache;\\n}\\n\\n/**\\n * Mark a function for special use by Sizzle\\n * @param {Function} fn The function to mark\\n */\\nfunction markFunction( fn ) {\\n\\tfn[ expando ] = true;\\n\\treturn fn;\\n}\\n\\n/**\\n * Support testing using an element\\n * @param {Function} fn Passed the created div and expects a boolean result\\n */\\nfunction assert( fn ) {\\n\\tvar div = document.createElement(\\\"div\\\");\\n\\n\\ttry {\\n\\t\\treturn !!fn( div );\\n\\t} catch (e) {\\n\\t\\treturn false;\\n\\t} finally {\\n\\t\\t// Remove from its parent by default\\n\\t\\tif ( div.parentNode ) {\\n\\t\\t\\tdiv.parentNode.removeChild( div );\\n\\t\\t}\\n\\t\\t// release memory in IE\\n\\t\\tdiv = null;\\n\\t}\\n}\\n\\n/**\\n * Adds the same handler for all of the specified attrs\\n * @param {String} attrs Pipe-separated list of attributes\\n * @param {Function} handler The method that will be applied\\n */\\nfunction addHandle( attrs, handler ) {\\n\\tvar arr = attrs.split(\\\"|\\\"),\\n\\t\\ti = attrs.length;\\n\\n\\twhile ( i-- ) {\\n\\t\\tExpr.attrHandle[ arr[i] ] = handler;\\n\\t}\\n}\\n\\n/**\\n * Checks document order of two siblings\\n * @param {Element} a\\n * @param {Element} b\\n * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b\\n */\\nfunction siblingCheck( a, b ) {\\n\\tvar cur = b && a,\\n\\t\\tdiff = cur && a.nodeType === 1 && b.nodeType === 1 &&\\n\\t\\t\\t( ~b.sourceIndex || MAX_NEGATIVE ) -\\n\\t\\t\\t( ~a.sourceIndex || MAX_NEGATIVE );\\n\\n\\t// Use IE sourceIndex if available on both nodes\\n\\tif ( diff ) {\\n\\t\\treturn diff;\\n\\t}\\n\\n\\t// Check if b follows a\\n\\tif ( cur ) {\\n\\t\\twhile ( (cur = cur.nextSibling) ) {\\n\\t\\t\\tif ( cur === b ) {\\n\\t\\t\\t\\treturn -1;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\treturn a ? 1 : -1;\\n}\\n\\n/**\\n * Returns a function to use in pseudos for input types\\n * @param {String} type\\n */\\nfunction createInputPseudo( type ) {\\n\\treturn function( elem ) {\\n\\t\\tvar name = elem.nodeName.toLowerCase();\\n\\t\\treturn name === \\\"input\\\" && elem.type === type;\\n\\t};\\n}\\n\\n/**\\n * Returns a function to use in pseudos for buttons\\n * @param {String} type\\n */\\nfunction createButtonPseudo( type ) {\\n\\treturn function( elem ) {\\n\\t\\tvar name = elem.nodeName.toLowerCase();\\n\\t\\treturn (name === \\\"input\\\" || name === \\\"button\\\") && elem.type === type;\\n\\t};\\n}\\n\\n/**\\n * Returns a function to use in pseudos for positionals\\n * @param {Function} fn\\n */\\nfunction createPositionalPseudo( fn ) {\\n\\treturn markFunction(function( argument ) {\\n\\t\\targument = +argument;\\n\\t\\treturn markFunction(function( seed, matches ) {\\n\\t\\t\\tvar j,\\n\\t\\t\\t\\tmatchIndexes = fn( [], seed.length, argument ),\\n\\t\\t\\t\\ti = matchIndexes.length;\\n\\n\\t\\t\\t// Match elements found at the specified indexes\\n\\t\\t\\twhile ( i-- ) {\\n\\t\\t\\t\\tif ( seed[ (j = matchIndexes[i]) ] ) {\\n\\t\\t\\t\\t\\tseed[j] = !(matches[j] = seed[j]);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t});\\n\\t});\\n}\\n\\n/**\\n * Checks a node for validity as a Sizzle context\\n * @param {Element|Object=} context\\n * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value\\n */\\nfunction testContext( context ) {\\n\\treturn context && typeof context.getElementsByTagName !== strundefined && context;\\n}\\n\\n// Expose support vars for convenience\\nsupport = Sizzle.support = {};\\n\\n/**\\n * Detects XML nodes\\n * @param {Element|Object} elem An element or a document\\n * @returns {Boolean} True iff elem is a non-HTML XML node\\n */\\nisXML = Sizzle.isXML = function( elem ) {\\n\\t// documentElement is verified for cases where it doesn't yet exist\\n\\t// (such as loading iframes in IE - #4833)\\n\\tvar documentElement = elem && (elem.ownerDocument || elem).documentElement;\\n\\treturn documentElement ? documentElement.nodeName !== \\\"HTML\\\" : false;\\n};\\n\\n/**\\n * Sets document-related variables once based on the current document\\n * @param {Element|Object} [doc] An element or document object to use to set the document\\n * @returns {Object} Returns the current document\\n */\\nsetDocument = Sizzle.setDocument = function( node ) {\\n\\tvar hasCompare,\\n\\t\\tdoc = node ? node.ownerDocument || node : preferredDoc,\\n\\t\\tparent = doc.defaultView;\\n\\n\\tfunction getTop(win) {\\n\\t\\t// Edge throws a lovely Object expected if you try to get top on a detached reference see #2642\\n\\t\\ttry {\\n\\t\\t\\treturn win.top;\\n\\t\\t} catch (ex) {\\n\\t\\t\\t// Ignore\\n\\t\\t}\\n\\n\\t\\treturn null;\\n\\t}\\n\\n\\t// If no document and documentElement is available, return\\n\\tif ( doc === document || doc.nodeType !== 9 || !doc.documentElement ) {\\n\\t\\treturn document;\\n\\t}\\n\\n\\t// Set our document\\n\\tdocument = doc;\\n\\tdocElem = doc.documentElement;\\n\\n\\t// Support tests\\n\\tdocumentIsHTML = !isXML( doc );\\n\\n\\t// Support: IE>8\\n\\t// If iframe document is assigned to \\\"document\\\" variable and if iframe has been reloaded,\\n\\t// IE will throw \\\"permission denied\\\" error when accessing \\\"document\\\" variable, see jQuery #13936\\n\\t// IE6-8 do not support the defaultView property so parent will be undefined\\n\\tif ( parent && parent !== getTop(parent) ) {\\n\\t\\t// IE11 does not have attachEvent, so all must suffer\\n\\t\\tif ( parent.addEventListener ) {\\n\\t\\t\\tparent.addEventListener( \\\"unload\\\", function() {\\n\\t\\t\\t\\tsetDocument();\\n\\t\\t\\t}, false );\\n\\t\\t} else if ( parent.attachEvent ) {\\n\\t\\t\\tparent.attachEvent( \\\"onunload\\\", function() {\\n\\t\\t\\t\\tsetDocument();\\n\\t\\t\\t});\\n\\t\\t}\\n\\t}\\n\\n\\t/* Attributes\\n\\t---------------------------------------------------------------------- */\\n\\n\\t// Support: IE<8\\n\\t// Verify that getAttribute really returns attributes and not properties (excepting IE8 booleans)\\n\\tsupport.attributes = assert(function( div ) {\\n\\t\\tdiv.className = \\\"i\\\";\\n\\t\\treturn !div.getAttribute(\\\"className\\\");\\n\\t});\\n\\n\\t/* getElement(s)By*\\n\\t---------------------------------------------------------------------- */\\n\\n\\t// Check if getElementsByTagName(\\\"*\\\") returns only elements\\n\\tsupport.getElementsByTagName = assert(function( div ) {\\n\\t\\tdiv.appendChild( doc.createComment(\\\"\\\") );\\n\\t\\treturn !div.getElementsByTagName(\\\"*\\\").length;\\n\\t});\\n\\n\\t// Support: IE<9\\n\\tsupport.getElementsByClassName = rnative.test( doc.getElementsByClassName );\\n\\n\\t// Support: IE<10\\n\\t// Check if getElementById returns elements by name\\n\\t// The broken getElementById methods don't pick up programatically-set names,\\n\\t// so use a roundabout getElementsByName test\\n\\tsupport.getById = assert(function( div ) {\\n\\t\\tdocElem.appendChild( div ).id = expando;\\n\\t\\treturn !doc.getElementsByName || !doc.getElementsByName( expando ).length;\\n\\t});\\n\\n\\t// ID find and filter\\n\\tif ( support.getById ) {\\n\\t\\tExpr.find[\\\"ID\\\"] = function( id, context ) {\\n\\t\\t\\tif ( typeof context.getElementById !== strundefined && documentIsHTML ) {\\n\\t\\t\\t\\tvar m = context.getElementById( id );\\n\\t\\t\\t\\t// Check parentNode to catch when Blackberry 4.6 returns\\n\\t\\t\\t\\t// nodes that are no longer in the document #6963\\n\\t\\t\\t\\treturn m && m.parentNode ? [ m ] : [];\\n\\t\\t\\t}\\n\\t\\t};\\n\\t\\tExpr.filter[\\\"ID\\\"] = function( id ) {\\n\\t\\t\\tvar attrId = id.replace( runescape, funescape );\\n\\t\\t\\treturn function( elem ) {\\n\\t\\t\\t\\treturn elem.getAttribute(\\\"id\\\") === attrId;\\n\\t\\t\\t};\\n\\t\\t};\\n\\t} else {\\n\\t\\t// Support: IE6/7\\n\\t\\t// getElementById is not reliable as a find shortcut\\n\\t\\tdelete Expr.find[\\\"ID\\\"];\\n\\n\\t\\tExpr.filter[\\\"ID\\\"] =  function( id ) {\\n\\t\\t\\tvar attrId = id.replace( runescape, funescape );\\n\\t\\t\\treturn function( elem ) {\\n\\t\\t\\t\\tvar node = typeof elem.getAttributeNode !== strundefined && elem.getAttributeNode(\\\"id\\\");\\n\\t\\t\\t\\treturn node && node.value === attrId;\\n\\t\\t\\t};\\n\\t\\t};\\n\\t}\\n\\n\\t// Tag\\n\\tExpr.find[\\\"TAG\\\"] = support.getElementsByTagName ?\\n\\t\\tfunction( tag, context ) {\\n\\t\\t\\tif ( typeof context.getElementsByTagName !== strundefined ) {\\n\\t\\t\\t\\treturn context.getElementsByTagName( tag );\\n\\t\\t\\t}\\n\\t\\t} :\\n\\t\\tfunction( tag, context ) {\\n\\t\\t\\tvar elem,\\n\\t\\t\\t\\ttmp = [],\\n\\t\\t\\t\\ti = 0,\\n\\t\\t\\t\\tresults = context.getElementsByTagName( tag );\\n\\n\\t\\t\\t// Filter out possible comments\\n\\t\\t\\tif ( tag === \\\"*\\\" ) {\\n\\t\\t\\t\\twhile ( (elem = results[i++]) ) {\\n\\t\\t\\t\\t\\tif ( elem.nodeType === 1 ) {\\n\\t\\t\\t\\t\\t\\ttmp.push( elem );\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn tmp;\\n\\t\\t\\t}\\n\\t\\t\\treturn results;\\n\\t\\t};\\n\\n\\t// Class\\n\\tExpr.find[\\\"CLASS\\\"] = support.getElementsByClassName && function( className, context ) {\\n\\t\\tif ( documentIsHTML ) {\\n\\t\\t\\treturn context.getElementsByClassName( className );\\n\\t\\t}\\n\\t};\\n\\n\\t/* QSA/matchesSelector\\n\\t---------------------------------------------------------------------- */\\n\\n\\t// QSA and matchesSelector support\\n\\n\\t// matchesSelector(:active) reports false when true (IE9/Opera 11.5)\\n\\trbuggyMatches = [];\\n\\n\\t// qSa(:focus) reports false when true (Chrome 21)\\n\\t// We allow this because of a bug in IE8/9 that throws an error\\n\\t// whenever `document.activeElement` is accessed on an iframe\\n\\t// So, we allow :focus to pass through QSA all the time to avoid the IE error\\n\\t// See http://bugs.jquery.com/ticket/13378\\n\\trbuggyQSA = [];\\n\\n\\tif ( (support.qsa = rnative.test( doc.querySelectorAll )) ) {\\n\\t\\t// Build QSA regex\\n\\t\\t// Regex strategy adopted from Diego Perini\\n\\t\\tassert(function( div ) {\\n\\t\\t\\t// Select is set to empty string on purpose\\n\\t\\t\\t// This is to test IE's treatment of not explicitly\\n\\t\\t\\t// setting a boolean content attribute,\\n\\t\\t\\t// since its presence should be enough\\n\\t\\t\\t// http://bugs.jquery.com/ticket/12359\\n\\t\\t\\tdiv.innerHTML = \\\"<select msallowcapture=''><option selected=''></option></select>\\\";\\n\\n\\t\\t\\t// Support: IE8, Opera 11-12.16\\n\\t\\t\\t// Nothing should be selected when empty strings follow ^= or $= or *=\\n\\t\\t\\t// The test attribute must be unknown in Opera but \\\"safe\\\" for WinRT\\n\\t\\t\\t// http://msdn.microsoft.com/en-us/library/ie/hh465388.aspx#attribute_section\\n\\t\\t\\tif ( div.querySelectorAll(\\\"[msallowcapture^='']\\\").length ) {\\n\\t\\t\\t\\trbuggyQSA.push( \\\"[*^$]=\\\" + whitespace + \\\"*(?:''|\\\\\\\"\\\\\\\")\\\" );\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Support: IE8\\n\\t\\t\\t// Boolean attributes and \\\"value\\\" are not treated correctly\\n\\t\\t\\tif ( !div.querySelectorAll(\\\"[selected]\\\").length ) {\\n\\t\\t\\t\\trbuggyQSA.push( \\\"\\\\\\\\[\\\" + whitespace + \\\"*(?:value|\\\" + booleans + \\\")\\\" );\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Webkit/Opera - :checked should return selected option elements\\n\\t\\t\\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\\n\\t\\t\\t// IE8 throws error here and will not see later tests\\n\\t\\t\\tif ( !div.querySelectorAll(\\\":checked\\\").length ) {\\n\\t\\t\\t\\trbuggyQSA.push(\\\":checked\\\");\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\tassert(function( div ) {\\n\\t\\t\\t// Support: Windows 8 Native Apps\\n\\t\\t\\t// The type and name attributes are restricted during .innerHTML assignment\\n\\t\\t\\tvar input = doc.createElement(\\\"input\\\");\\n\\t\\t\\tinput.setAttribute( \\\"type\\\", \\\"hidden\\\" );\\n\\t\\t\\tdiv.appendChild( input ).setAttribute( \\\"name\\\", \\\"D\\\" );\\n\\n\\t\\t\\t// Support: IE8\\n\\t\\t\\t// Enforce case-sensitivity of name attribute\\n\\t\\t\\tif ( div.querySelectorAll(\\\"[name=d]\\\").length ) {\\n\\t\\t\\t\\trbuggyQSA.push( \\\"name\\\" + whitespace + \\\"*[*^$|!~]?=\\\" );\\n\\t\\t\\t}\\n\\n\\t\\t\\t// FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)\\n\\t\\t\\t// IE8 throws error here and will not see later tests\\n\\t\\t\\tif ( !div.querySelectorAll(\\\":enabled\\\").length ) {\\n\\t\\t\\t\\trbuggyQSA.push( \\\":enabled\\\", \\\":disabled\\\" );\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Opera 10-11 does not throw on post-comma invalid pseudos\\n\\t\\t\\tdiv.querySelectorAll(\\\"*,:x\\\");\\n\\t\\t\\trbuggyQSA.push(\\\",.*:\\\");\\n\\t\\t});\\n\\t}\\n\\n\\tif ( (support.matchesSelector = rnative.test( (matches = docElem.matches ||\\n\\t\\tdocElem.webkitMatchesSelector ||\\n\\t\\tdocElem.mozMatchesSelector ||\\n\\t\\tdocElem.oMatchesSelector ||\\n\\t\\tdocElem.msMatchesSelector) )) ) {\\n\\n\\t\\tassert(function( div ) {\\n\\t\\t\\t// Check to see if it's possible to do matchesSelector\\n\\t\\t\\t// on a disconnected node (IE 9)\\n\\t\\t\\tsupport.disconnectedMatch = matches.call( div, \\\"div\\\" );\\n\\n\\t\\t\\t// This should fail with an exception\\n\\t\\t\\t// Gecko does not error, returns false instead\\n\\t\\t\\tmatches.call( div, \\\"[s!='']:x\\\" );\\n\\t\\t\\trbuggyMatches.push( \\\"!=\\\", pseudos );\\n\\t\\t});\\n\\t}\\n\\n\\trbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join(\\\"|\\\") );\\n\\trbuggyMatches = rbuggyMatches.length && new RegExp( rbuggyMatches.join(\\\"|\\\") );\\n\\n\\t/* Contains\\n\\t---------------------------------------------------------------------- */\\n\\thasCompare = rnative.test( docElem.compareDocumentPosition );\\n\\n\\t// Element contains another\\n\\t// Purposefully does not implement inclusive descendent\\n\\t// As in, an element does not contain itself\\n\\tcontains = hasCompare || rnative.test( docElem.contains ) ?\\n\\t\\tfunction( a, b ) {\\n\\t\\t\\tvar adown = a.nodeType === 9 ? a.documentElement : a,\\n\\t\\t\\t\\tbup = b && b.parentNode;\\n\\t\\t\\treturn a === bup || !!( bup && bup.nodeType === 1 && (\\n\\t\\t\\t\\tadown.contains ?\\n\\t\\t\\t\\t\\tadown.contains( bup ) :\\n\\t\\t\\t\\t\\ta.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16\\n\\t\\t\\t));\\n\\t\\t} :\\n\\t\\tfunction( a, b ) {\\n\\t\\t\\tif ( b ) {\\n\\t\\t\\t\\twhile ( (b = b.parentNode) ) {\\n\\t\\t\\t\\t\\tif ( b === a ) {\\n\\t\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t\\treturn false;\\n\\t\\t};\\n\\n\\t/* Sorting\\n\\t---------------------------------------------------------------------- */\\n\\n\\t// Document order sorting\\n\\tsortOrder = hasCompare ?\\n\\tfunction( a, b ) {\\n\\n\\t\\t// Flag for duplicate removal\\n\\t\\tif ( a === b ) {\\n\\t\\t\\thasDuplicate = true;\\n\\t\\t\\treturn 0;\\n\\t\\t}\\n\\n\\t\\t// Sort on method existence if only one input has compareDocumentPosition\\n\\t\\tvar compare = !a.compareDocumentPosition - !b.compareDocumentPosition;\\n\\t\\tif ( compare ) {\\n\\t\\t\\treturn compare;\\n\\t\\t}\\n\\n\\t\\t// Calculate position if both inputs belong to the same document\\n\\t\\tcompare = ( a.ownerDocument || a ) === ( b.ownerDocument || b ) ?\\n\\t\\t\\ta.compareDocumentPosition( b ) :\\n\\n\\t\\t\\t// Otherwise we know they are disconnected\\n\\t\\t\\t1;\\n\\n\\t\\t// Disconnected nodes\\n\\t\\tif ( compare & 1 ||\\n\\t\\t\\t(!support.sortDetached && b.compareDocumentPosition( a ) === compare) ) {\\n\\n\\t\\t\\t// Choose the first element that is related to our preferred document\\n\\t\\t\\tif ( a === doc || a.ownerDocument === preferredDoc && contains(preferredDoc, a) ) {\\n\\t\\t\\t\\treturn -1;\\n\\t\\t\\t}\\n\\t\\t\\tif ( b === doc || b.ownerDocument === preferredDoc && contains(preferredDoc, b) ) {\\n\\t\\t\\t\\treturn 1;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Maintain original order\\n\\t\\t\\treturn sortInput ?\\n\\t\\t\\t\\t( indexOf.call( sortInput, a ) - indexOf.call( sortInput, b ) ) :\\n\\t\\t\\t\\t0;\\n\\t\\t}\\n\\n\\t\\treturn compare & 4 ? -1 : 1;\\n\\t} :\\n\\tfunction( a, b ) {\\n\\t\\t// Exit early if the nodes are identical\\n\\t\\tif ( a === b ) {\\n\\t\\t\\thasDuplicate = true;\\n\\t\\t\\treturn 0;\\n\\t\\t}\\n\\n\\t\\tvar cur,\\n\\t\\t\\ti = 0,\\n\\t\\t\\taup = a.parentNode,\\n\\t\\t\\tbup = b.parentNode,\\n\\t\\t\\tap = [ a ],\\n\\t\\t\\tbp = [ b ];\\n\\n\\t\\t// Parentless nodes are either documents or disconnected\\n\\t\\tif ( !aup || !bup ) {\\n\\t\\t\\treturn a === doc ? -1 :\\n\\t\\t\\t\\tb === doc ? 1 :\\n\\t\\t\\t\\taup ? -1 :\\n\\t\\t\\t\\tbup ? 1 :\\n\\t\\t\\t\\tsortInput ?\\n\\t\\t\\t\\t( indexOf.call( sortInput, a ) - indexOf.call( sortInput, b ) ) :\\n\\t\\t\\t\\t0;\\n\\n\\t\\t// If the nodes are siblings, we can do a quick check\\n\\t\\t} else if ( aup === bup ) {\\n\\t\\t\\treturn siblingCheck( a, b );\\n\\t\\t}\\n\\n\\t\\t// Otherwise we need full lists of their ancestors for comparison\\n\\t\\tcur = a;\\n\\t\\twhile ( (cur = cur.parentNode) ) {\\n\\t\\t\\tap.unshift( cur );\\n\\t\\t}\\n\\t\\tcur = b;\\n\\t\\twhile ( (cur = cur.parentNode) ) {\\n\\t\\t\\tbp.unshift( cur );\\n\\t\\t}\\n\\n\\t\\t// Walk down the tree looking for a discrepancy\\n\\t\\twhile ( ap[i] === bp[i] ) {\\n\\t\\t\\ti++;\\n\\t\\t}\\n\\n\\t\\treturn i ?\\n\\t\\t\\t// Do a sibling check if the nodes have a common ancestor\\n\\t\\t\\tsiblingCheck( ap[i], bp[i] ) :\\n\\n\\t\\t\\t// Otherwise nodes in our document sort first\\n\\t\\t\\tap[i] === preferredDoc ? -1 :\\n\\t\\t\\tbp[i] === preferredDoc ? 1 :\\n\\t\\t\\t0;\\n\\t};\\n\\n\\treturn doc;\\n};\\n\\nSizzle.matches = function( expr, elements ) {\\n\\treturn Sizzle( expr, null, null, elements );\\n};\\n\\nSizzle.matchesSelector = function( elem, expr ) {\\n\\t// Set document vars if needed\\n\\tif ( ( elem.ownerDocument || elem ) !== document ) {\\n\\t\\tsetDocument( elem );\\n\\t}\\n\\n\\t// Make sure that attribute selectors are quoted\\n\\texpr = expr.replace( rattributeQuotes, \\\"='$1']\\\" );\\n\\n\\tif ( support.matchesSelector && documentIsHTML &&\\n\\t\\t( !rbuggyMatches || !rbuggyMatches.test( expr ) ) &&\\n\\t\\t( !rbuggyQSA     || !rbuggyQSA.test( expr ) ) ) {\\n\\n\\t\\ttry {\\n\\t\\t\\tvar ret = matches.call( elem, expr );\\n\\n\\t\\t\\t// IE 9's matchesSelector returns false on disconnected nodes\\n\\t\\t\\tif ( ret || support.disconnectedMatch ||\\n\\t\\t\\t\\t\\t// As well, disconnected nodes are said to be in a document\\n\\t\\t\\t\\t\\t// fragment in IE 9\\n\\t\\t\\t\\t\\telem.document && elem.document.nodeType !== 11 ) {\\n\\t\\t\\t\\treturn ret;\\n\\t\\t\\t}\\n\\t\\t} catch(e) {}\\n\\t}\\n\\n\\treturn Sizzle( expr, document, null, [ elem ] ).length > 0;\\n};\\n\\nSizzle.contains = function( context, elem ) {\\n\\t// Set document vars if needed\\n\\tif ( ( context.ownerDocument || context ) !== document ) {\\n\\t\\tsetDocument( context );\\n\\t}\\n\\treturn contains( context, elem );\\n};\\n\\nSizzle.attr = function( elem, name ) {\\n\\t// Set document vars if needed\\n\\tif ( ( elem.ownerDocument || elem ) !== document ) {\\n\\t\\tsetDocument( elem );\\n\\t}\\n\\n\\tvar fn = Expr.attrHandle[ name.toLowerCase() ],\\n\\t\\t// Don't get fooled by Object.prototype properties (jQuery #13807)\\n\\t\\tval = fn && hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ?\\n\\t\\t\\tfn( elem, name, !documentIsHTML ) :\\n\\t\\t\\tundefined;\\n\\n\\treturn val !== undefined ?\\n\\t\\tval :\\n\\t\\tsupport.attributes || !documentIsHTML ?\\n\\t\\t\\telem.getAttribute( name ) :\\n\\t\\t\\t(val = elem.getAttributeNode(name)) && val.specified ?\\n\\t\\t\\t\\tval.value :\\n\\t\\t\\t\\tnull;\\n};\\n\\nSizzle.error = function( msg ) {\\n\\tthrow new Error( \\\"Syntax error, unrecognized expression: \\\" + msg );\\n};\\n\\n/**\\n * Document sorting and removing duplicates\\n * @param {ArrayLike} results\\n */\\nSizzle.uniqueSort = function( results ) {\\n\\tvar elem,\\n\\t\\tduplicates = [],\\n\\t\\tj = 0,\\n\\t\\ti = 0;\\n\\n\\t// Unless we *know* we can detect duplicates, assume their presence\\n\\thasDuplicate = !support.detectDuplicates;\\n\\tsortInput = !support.sortStable && results.slice( 0 );\\n\\tresults.sort( sortOrder );\\n\\n\\tif ( hasDuplicate ) {\\n\\t\\twhile ( (elem = results[i++]) ) {\\n\\t\\t\\tif ( elem === results[ i ] ) {\\n\\t\\t\\t\\tj = duplicates.push( i );\\n\\t\\t\\t}\\n\\t\\t}\\n\\t\\twhile ( j-- ) {\\n\\t\\t\\tresults.splice( duplicates[ j ], 1 );\\n\\t\\t}\\n\\t}\\n\\n\\t// Clear input after sorting to release objects\\n\\t// See https://github.com/jquery/sizzle/pull/225\\n\\tsortInput = null;\\n\\n\\treturn results;\\n};\\n\\n/**\\n * Utility function for retrieving the text value of an array of DOM nodes\\n * @param {Array|Element} elem\\n */\\ngetText = Sizzle.getText = function( elem ) {\\n\\tvar node,\\n\\t\\tret = \\\"\\\",\\n\\t\\ti = 0,\\n\\t\\tnodeType = elem.nodeType;\\n\\n\\tif ( !nodeType ) {\\n\\t\\t// If no nodeType, this is expected to be an array\\n\\t\\twhile ( (node = elem[i++]) ) {\\n\\t\\t\\t// Do not traverse comment nodes\\n\\t\\t\\tret += getText( node );\\n\\t\\t}\\n\\t} else if ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {\\n\\t\\t// Use textContent for elements\\n\\t\\t// innerText usage removed for consistency of new lines (jQuery #11153)\\n\\t\\tif ( typeof elem.textContent === \\\"string\\\" ) {\\n\\t\\t\\treturn elem.textContent;\\n\\t\\t} else {\\n\\t\\t\\t// Traverse its children\\n\\t\\t\\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\\n\\t\\t\\t\\tret += getText( elem );\\n\\t\\t\\t}\\n\\t\\t}\\n\\t} else if ( nodeType === 3 || nodeType === 4 ) {\\n\\t\\treturn elem.nodeValue;\\n\\t}\\n\\t// Do not include comment or processing instruction nodes\\n\\n\\treturn ret;\\n};\\n\\nExpr = Sizzle.selectors = {\\n\\n\\t// Can be adjusted by the user\\n\\tcacheLength: 50,\\n\\n\\tcreatePseudo: markFunction,\\n\\n\\tmatch: matchExpr,\\n\\n\\tattrHandle: {},\\n\\n\\tfind: {},\\n\\n\\trelative: {\\n\\t\\t\\\">\\\": { dir: \\\"parentNode\\\", first: true },\\n\\t\\t\\\" \\\": { dir: \\\"parentNode\\\" },\\n\\t\\t\\\"+\\\": { dir: \\\"previousSibling\\\", first: true },\\n\\t\\t\\\"~\\\": { dir: \\\"previousSibling\\\" }\\n\\t},\\n\\n\\tpreFilter: {\\n\\t\\t\\\"ATTR\\\": function( match ) {\\n\\t\\t\\tmatch[1] = match[1].replace( runescape, funescape );\\n\\n\\t\\t\\t// Move the given value to match[3] whether quoted or unquoted\\n\\t\\t\\tmatch[3] = ( match[3] || match[4] || match[5] || \\\"\\\" ).replace( runescape, funescape );\\n\\n\\t\\t\\tif ( match[2] === \\\"~=\\\" ) {\\n\\t\\t\\t\\tmatch[3] = \\\" \\\" + match[3] + \\\" \\\";\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn match.slice( 0, 4 );\\n\\t\\t},\\n\\n\\t\\t\\\"CHILD\\\": function( match ) {\\n\\t\\t\\t/* matches from matchExpr[\\\"CHILD\\\"]\\n\\t\\t\\t\\t1 type (only|nth|...)\\n\\t\\t\\t\\t2 what (child|of-type)\\n\\t\\t\\t\\t3 argument (even|odd|\\\\d*|\\\\d*n([+-]\\\\d+)?|...)\\n\\t\\t\\t\\t4 xn-component of xn+y argument ([+-]?\\\\d*n|)\\n\\t\\t\\t\\t5 sign of xn-component\\n\\t\\t\\t\\t6 x of xn-component\\n\\t\\t\\t\\t7 sign of y-component\\n\\t\\t\\t\\t8 y of y-component\\n\\t\\t\\t*/\\n\\t\\t\\tmatch[1] = match[1].toLowerCase();\\n\\n\\t\\t\\tif ( match[1].slice( 0, 3 ) === \\\"nth\\\" ) {\\n\\t\\t\\t\\t// nth-* requires argument\\n\\t\\t\\t\\tif ( !match[3] ) {\\n\\t\\t\\t\\t\\tSizzle.error( match[0] );\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// numeric x and y parameters for Expr.filter.CHILD\\n\\t\\t\\t\\t// remember that false/true cast respectively to 0/1\\n\\t\\t\\t\\tmatch[4] = +( match[4] ? match[5] + (match[6] || 1) : 2 * ( match[3] === \\\"even\\\" || match[3] === \\\"odd\\\" ) );\\n\\t\\t\\t\\tmatch[5] = +( ( match[7] + match[8] ) || match[3] === \\\"odd\\\" );\\n\\n\\t\\t\\t// other types prohibit arguments\\n\\t\\t\\t} else if ( match[3] ) {\\n\\t\\t\\t\\tSizzle.error( match[0] );\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn match;\\n\\t\\t},\\n\\n\\t\\t\\\"PSEUDO\\\": function( match ) {\\n\\t\\t\\tvar excess,\\n\\t\\t\\t\\tunquoted = !match[6] && match[2];\\n\\n\\t\\t\\tif ( matchExpr[\\\"CHILD\\\"].test( match[0] ) ) {\\n\\t\\t\\t\\treturn null;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Accept quoted arguments as-is\\n\\t\\t\\tif ( match[3] ) {\\n\\t\\t\\t\\tmatch[2] = match[4] || match[5] || \\\"\\\";\\n\\n\\t\\t\\t// Strip excess characters from unquoted arguments\\n\\t\\t\\t} else if ( unquoted && rpseudo.test( unquoted ) &&\\n\\t\\t\\t\\t// Get excess from tokenize (recursively)\\n\\t\\t\\t\\t(excess = tokenize( unquoted, true )) &&\\n\\t\\t\\t\\t// advance to the next closing parenthesis\\n\\t\\t\\t\\t(excess = unquoted.indexOf( \\\")\\\", unquoted.length - excess ) - unquoted.length) ) {\\n\\n\\t\\t\\t\\t// excess is a negative index\\n\\t\\t\\t\\tmatch[0] = match[0].slice( 0, excess );\\n\\t\\t\\t\\tmatch[2] = unquoted.slice( 0, excess );\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Return only captures needed by the pseudo filter method (type and argument)\\n\\t\\t\\treturn match.slice( 0, 3 );\\n\\t\\t}\\n\\t},\\n\\n\\tfilter: {\\n\\n\\t\\t\\\"TAG\\\": function( nodeNameSelector ) {\\n\\t\\t\\tvar nodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase();\\n\\t\\t\\treturn nodeNameSelector === \\\"*\\\" ?\\n\\t\\t\\t\\tfunction() { return true; } :\\n\\t\\t\\t\\tfunction( elem ) {\\n\\t\\t\\t\\t\\treturn elem.nodeName && elem.nodeName.toLowerCase() === nodeName;\\n\\t\\t\\t\\t};\\n\\t\\t},\\n\\n\\t\\t\\\"CLASS\\\": function( className ) {\\n\\t\\t\\tvar pattern = classCache[ className + \\\" \\\" ];\\n\\n\\t\\t\\treturn pattern ||\\n\\t\\t\\t\\t(pattern = new RegExp( \\\"(^|\\\" + whitespace + \\\")\\\" + className + \\\"(\\\" + whitespace + \\\"|$)\\\" )) &&\\n\\t\\t\\t\\tclassCache( className, function( elem ) {\\n\\t\\t\\t\\t\\treturn pattern.test( typeof elem.className === \\\"string\\\" && elem.className || typeof elem.getAttribute !== strundefined && elem.getAttribute(\\\"class\\\") || \\\"\\\" );\\n\\t\\t\\t\\t});\\n\\t\\t},\\n\\n\\t\\t\\\"ATTR\\\": function( name, operator, check ) {\\n\\t\\t\\treturn function( elem ) {\\n\\t\\t\\t\\tvar result = Sizzle.attr( elem, name );\\n\\n\\t\\t\\t\\tif ( result == null ) {\\n\\t\\t\\t\\t\\treturn operator === \\\"!=\\\";\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tif ( !operator ) {\\n\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tresult += \\\"\\\";\\n\\n\\t\\t\\t\\treturn operator === \\\"=\\\" ? result === check :\\n\\t\\t\\t\\t\\toperator === \\\"!=\\\" ? result !== check :\\n\\t\\t\\t\\t\\toperator === \\\"^=\\\" ? check && result.indexOf( check ) === 0 :\\n\\t\\t\\t\\t\\toperator === \\\"*=\\\" ? check && result.indexOf( check ) > -1 :\\n\\t\\t\\t\\t\\toperator === \\\"$=\\\" ? check && result.slice( -check.length ) === check :\\n\\t\\t\\t\\t\\toperator === \\\"~=\\\" ? ( \\\" \\\" + result + \\\" \\\" ).indexOf( check ) > -1 :\\n\\t\\t\\t\\t\\toperator === \\\"|=\\\" ? result === check || result.slice( 0, check.length + 1 ) === check + \\\"-\\\" :\\n\\t\\t\\t\\t\\tfalse;\\n\\t\\t\\t};\\n\\t\\t},\\n\\n\\t\\t\\\"CHILD\\\": function( type, what, argument, first, last ) {\\n\\t\\t\\tvar simple = type.slice( 0, 3 ) !== \\\"nth\\\",\\n\\t\\t\\t\\tforward = type.slice( -4 ) !== \\\"last\\\",\\n\\t\\t\\t\\tofType = what === \\\"of-type\\\";\\n\\n\\t\\t\\treturn first === 1 && last === 0 ?\\n\\n\\t\\t\\t\\t// Shortcut for :nth-*(n)\\n\\t\\t\\t\\tfunction( elem ) {\\n\\t\\t\\t\\t\\treturn !!elem.parentNode;\\n\\t\\t\\t\\t} :\\n\\n\\t\\t\\t\\tfunction( elem, context, xml ) {\\n\\t\\t\\t\\t\\tvar cache, outerCache, node, diff, nodeIndex, start,\\n\\t\\t\\t\\t\\t\\tdir = simple !== forward ? \\\"nextSibling\\\" : \\\"previousSibling\\\",\\n\\t\\t\\t\\t\\t\\tparent = elem.parentNode,\\n\\t\\t\\t\\t\\t\\tname = ofType && elem.nodeName.toLowerCase(),\\n\\t\\t\\t\\t\\t\\tuseCache = !xml && !ofType;\\n\\n\\t\\t\\t\\t\\tif ( parent ) {\\n\\n\\t\\t\\t\\t\\t\\t// :(first|last|only)-(child|of-type)\\n\\t\\t\\t\\t\\t\\tif ( simple ) {\\n\\t\\t\\t\\t\\t\\t\\twhile ( dir ) {\\n\\t\\t\\t\\t\\t\\t\\t\\tnode = elem;\\n\\t\\t\\t\\t\\t\\t\\t\\twhile ( (node = node[ dir ]) ) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tif ( ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1 ) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t\\t// Reverse direction for :only-* (if we haven't yet done so)\\n\\t\\t\\t\\t\\t\\t\\t\\tstart = dir = type === \\\"only\\\" && !start && \\\"nextSibling\\\";\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tstart = [ forward ? parent.firstChild : parent.lastChild ];\\n\\n\\t\\t\\t\\t\\t\\t// non-xml :nth-child(...) stores cache data on `parent`\\n\\t\\t\\t\\t\\t\\tif ( forward && useCache ) {\\n\\t\\t\\t\\t\\t\\t\\t// Seek `elem` from a previously-cached index\\n\\t\\t\\t\\t\\t\\t\\touterCache = parent[ expando ] || (parent[ expando ] = {});\\n\\t\\t\\t\\t\\t\\t\\tcache = outerCache[ type ] || [];\\n\\t\\t\\t\\t\\t\\t\\tnodeIndex = cache[0] === dirruns && cache[1];\\n\\t\\t\\t\\t\\t\\t\\tdiff = cache[0] === dirruns && cache[2];\\n\\t\\t\\t\\t\\t\\t\\tnode = nodeIndex && parent.childNodes[ nodeIndex ];\\n\\n\\t\\t\\t\\t\\t\\t\\twhile ( (node = ++nodeIndex && node && node[ dir ] ||\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t// Fallback to seeking `elem` from the start\\n\\t\\t\\t\\t\\t\\t\\t\\t(diff = nodeIndex = 0) || start.pop()) ) {\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t// When found, cache indexes on `parent` and break\\n\\t\\t\\t\\t\\t\\t\\t\\tif ( node.nodeType === 1 && ++diff && node === elem ) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\touterCache[ type ] = [ dirruns, nodeIndex, diff ];\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Use previously-cached element index if available\\n\\t\\t\\t\\t\\t\\t} else if ( useCache && (cache = (elem[ expando ] || (elem[ expando ] = {}))[ type ]) && cache[0] === dirruns ) {\\n\\t\\t\\t\\t\\t\\t\\tdiff = cache[1];\\n\\n\\t\\t\\t\\t\\t\\t// xml :nth-child(...) or :nth-last-child(...) or :nth(-last)?-of-type(...)\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\t// Use the same loop as above to seek `elem` from the start\\n\\t\\t\\t\\t\\t\\t\\twhile ( (node = ++nodeIndex && node && node[ dir ] ||\\n\\t\\t\\t\\t\\t\\t\\t\\t(diff = nodeIndex = 0) || start.pop()) ) {\\n\\n\\t\\t\\t\\t\\t\\t\\t\\tif ( ( ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1 ) && ++diff ) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t// Cache the index of each encountered element\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tif ( useCache ) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(node[ expando ] || (node[ expando ] = {}))[ type ] = [ dirruns, diff ];\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tif ( node === elem ) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Incorporate the offset, then check against cycle size\\n\\t\\t\\t\\t\\t\\tdiff -= last;\\n\\t\\t\\t\\t\\t\\treturn diff === first || ( diff % first === 0 && diff / first >= 0 );\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t};\\n\\t\\t},\\n\\n\\t\\t\\\"PSEUDO\\\": function( pseudo, argument ) {\\n\\t\\t\\t// pseudo-class names are case-insensitive\\n\\t\\t\\t// http://www.w3.org/TR/selectors/#pseudo-classes\\n\\t\\t\\t// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters\\n\\t\\t\\t// Remember that setFilters inherits from pseudos\\n\\t\\t\\tvar args,\\n\\t\\t\\t\\tfn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||\\n\\t\\t\\t\\t\\tSizzle.error( \\\"unsupported pseudo: \\\" + pseudo );\\n\\n\\t\\t\\t// The user may use createPseudo to indicate that\\n\\t\\t\\t// arguments are needed to create the filter function\\n\\t\\t\\t// just as Sizzle does\\n\\t\\t\\tif ( fn[ expando ] ) {\\n\\t\\t\\t\\treturn fn( argument );\\n\\t\\t\\t}\\n\\n\\t\\t\\t// But maintain support for old signatures\\n\\t\\t\\tif ( fn.length > 1 ) {\\n\\t\\t\\t\\targs = [ pseudo, pseudo, \\\"\\\", argument ];\\n\\t\\t\\t\\treturn Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?\\n\\t\\t\\t\\t\\tmarkFunction(function( seed, matches ) {\\n\\t\\t\\t\\t\\t\\tvar idx,\\n\\t\\t\\t\\t\\t\\t\\tmatched = fn( seed, argument ),\\n\\t\\t\\t\\t\\t\\t\\ti = matched.length;\\n\\t\\t\\t\\t\\t\\twhile ( i-- ) {\\n\\t\\t\\t\\t\\t\\t\\tidx = indexOf.call( seed, matched[i] );\\n\\t\\t\\t\\t\\t\\t\\tseed[ idx ] = !( matches[ idx ] = matched[i] );\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}) :\\n\\t\\t\\t\\t\\tfunction( elem ) {\\n\\t\\t\\t\\t\\t\\treturn fn( elem, 0, args );\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn fn;\\n\\t\\t}\\n\\t},\\n\\n\\tpseudos: {\\n\\t\\t// Potentially complex pseudos\\n\\t\\t\\\"not\\\": markFunction(function( selector ) {\\n\\t\\t\\t// Trim the selector passed to compile\\n\\t\\t\\t// to avoid treating leading and trailing\\n\\t\\t\\t// spaces as combinators\\n\\t\\t\\tvar input = [],\\n\\t\\t\\t\\tresults = [],\\n\\t\\t\\t\\tmatcher = compile( selector.replace( rtrim, \\\"$1\\\" ) );\\n\\n\\t\\t\\treturn matcher[ expando ] ?\\n\\t\\t\\t\\tmarkFunction(function( seed, matches, context, xml ) {\\n\\t\\t\\t\\t\\tvar elem,\\n\\t\\t\\t\\t\\t\\tunmatched = matcher( seed, null, xml, [] ),\\n\\t\\t\\t\\t\\t\\ti = seed.length;\\n\\n\\t\\t\\t\\t\\t// Match elements unmatched by `matcher`\\n\\t\\t\\t\\t\\twhile ( i-- ) {\\n\\t\\t\\t\\t\\t\\tif ( (elem = unmatched[i]) ) {\\n\\t\\t\\t\\t\\t\\t\\tseed[i] = !(matches[i] = elem);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}) :\\n\\t\\t\\t\\tfunction( elem, context, xml ) {\\n\\t\\t\\t\\t\\tinput[0] = elem;\\n\\t\\t\\t\\t\\tmatcher( input, null, xml, results );\\n\\t\\t\\t\\t\\treturn !results.pop();\\n\\t\\t\\t\\t};\\n\\t\\t}),\\n\\n\\t\\t\\\"has\\\": markFunction(function( selector ) {\\n\\t\\t\\treturn function( elem ) {\\n\\t\\t\\t\\treturn Sizzle( selector, elem ).length > 0;\\n\\t\\t\\t};\\n\\t\\t}),\\n\\n\\t\\t\\\"contains\\\": markFunction(function( text ) {\\n\\t\\t\\ttext = text.replace( runescape, funescape );\\n\\t\\t\\treturn function( elem ) {\\n\\t\\t\\t\\treturn ( elem.textContent || elem.innerText || getText( elem ) ).indexOf( text ) > -1;\\n\\t\\t\\t};\\n\\t\\t}),\\n\\n\\t\\t// \\\"Whether an element is represented by a :lang() selector\\n\\t\\t// is based solely on the element's language value\\n\\t\\t// being equal to the identifier C,\\n\\t\\t// or beginning with the identifier C immediately followed by \\\"-\\\".\\n\\t\\t// The matching of C against the element's language value is performed case-insensitively.\\n\\t\\t// The identifier C does not have to be a valid language name.\\\"\\n\\t\\t// http://www.w3.org/TR/selectors/#lang-pseudo\\n\\t\\t\\\"lang\\\": markFunction( function( lang ) {\\n\\t\\t\\t// lang value must be a valid identifier\\n\\t\\t\\tif ( !ridentifier.test(lang || \\\"\\\") ) {\\n\\t\\t\\t\\tSizzle.error( \\\"unsupported lang: \\\" + lang );\\n\\t\\t\\t}\\n\\t\\t\\tlang = lang.replace( runescape, funescape ).toLowerCase();\\n\\t\\t\\treturn function( elem ) {\\n\\t\\t\\t\\tvar elemLang;\\n\\t\\t\\t\\tdo {\\n\\t\\t\\t\\t\\tif ( (elemLang = documentIsHTML ?\\n\\t\\t\\t\\t\\t\\telem.lang :\\n\\t\\t\\t\\t\\t\\telem.getAttribute(\\\"xml:lang\\\") || elem.getAttribute(\\\"lang\\\")) ) {\\n\\n\\t\\t\\t\\t\\t\\telemLang = elemLang.toLowerCase();\\n\\t\\t\\t\\t\\t\\treturn elemLang === lang || elemLang.indexOf( lang + \\\"-\\\" ) === 0;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} while ( (elem = elem.parentNode) && elem.nodeType === 1 );\\n\\t\\t\\t\\treturn false;\\n\\t\\t\\t};\\n\\t\\t}),\\n\\n\\t\\t// Miscellaneous\\n\\t\\t\\\"target\\\": function( elem ) {\\n\\t\\t\\tvar hash = window.location && window.location.hash;\\n\\t\\t\\treturn hash && hash.slice( 1 ) === elem.id;\\n\\t\\t},\\n\\n\\t\\t\\\"root\\\": function( elem ) {\\n\\t\\t\\treturn elem === docElem;\\n\\t\\t},\\n\\n\\t\\t\\\"focus\\\": function( elem ) {\\n\\t\\t\\treturn elem === document.activeElement && (!document.hasFocus || document.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex);\\n\\t\\t},\\n\\n\\t\\t// Boolean properties\\n\\t\\t\\\"enabled\\\": function( elem ) {\\n\\t\\t\\treturn elem.disabled === false;\\n\\t\\t},\\n\\n\\t\\t\\\"disabled\\\": function( elem ) {\\n\\t\\t\\treturn elem.disabled === true;\\n\\t\\t},\\n\\n\\t\\t\\\"checked\\\": function( elem ) {\\n\\t\\t\\t// In CSS3, :checked should return both checked and selected elements\\n\\t\\t\\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\\n\\t\\t\\tvar nodeName = elem.nodeName.toLowerCase();\\n\\t\\t\\treturn (nodeName === \\\"input\\\" && !!elem.checked) || (nodeName === \\\"option\\\" && !!elem.selected);\\n\\t\\t},\\n\\n\\t\\t\\\"selected\\\": function( elem ) {\\n\\t\\t\\t// Accessing this property makes selected-by-default\\n\\t\\t\\t// options in Safari work properly\\n\\t\\t\\tif ( elem.parentNode ) {\\n\\t\\t\\t\\telem.parentNode.selectedIndex;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn elem.selected === true;\\n\\t\\t},\\n\\n\\t\\t// Contents\\n\\t\\t\\\"empty\\\": function( elem ) {\\n\\t\\t\\t// http://www.w3.org/TR/selectors/#empty-pseudo\\n\\t\\t\\t// :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),\\n\\t\\t\\t//   but not by others (comment: 8; processing instruction: 7; etc.)\\n\\t\\t\\t// nodeType < 6 works because attributes (2) do not appear as children\\n\\t\\t\\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\\n\\t\\t\\t\\tif ( elem.nodeType < 6 ) {\\n\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t\\treturn true;\\n\\t\\t},\\n\\n\\t\\t\\\"parent\\\": function( elem ) {\\n\\t\\t\\treturn !Expr.pseudos[\\\"empty\\\"]( elem );\\n\\t\\t},\\n\\n\\t\\t// Element/input types\\n\\t\\t\\\"header\\\": function( elem ) {\\n\\t\\t\\treturn rheader.test( elem.nodeName );\\n\\t\\t},\\n\\n\\t\\t\\\"input\\\": function( elem ) {\\n\\t\\t\\treturn rinputs.test( elem.nodeName );\\n\\t\\t},\\n\\n\\t\\t\\\"button\\\": function( elem ) {\\n\\t\\t\\tvar name = elem.nodeName.toLowerCase();\\n\\t\\t\\treturn name === \\\"input\\\" && elem.type === \\\"button\\\" || name === \\\"button\\\";\\n\\t\\t},\\n\\n\\t\\t\\\"text\\\": function( elem ) {\\n\\t\\t\\tvar attr;\\n\\t\\t\\treturn elem.nodeName.toLowerCase() === \\\"input\\\" &&\\n\\t\\t\\t\\telem.type === \\\"text\\\" &&\\n\\n\\t\\t\\t\\t// Support: IE<8\\n\\t\\t\\t\\t// New HTML5 attribute values (e.g., \\\"search\\\") appear with elem.type === \\\"text\\\"\\n\\t\\t\\t\\t( (attr = elem.getAttribute(\\\"type\\\")) == null || attr.toLowerCase() === \\\"text\\\" );\\n\\t\\t},\\n\\n\\t\\t// Position-in-collection\\n\\t\\t\\\"first\\\": createPositionalPseudo(function() {\\n\\t\\t\\treturn [ 0 ];\\n\\t\\t}),\\n\\n\\t\\t\\\"last\\\": createPositionalPseudo(function( matchIndexes, length ) {\\n\\t\\t\\treturn [ length - 1 ];\\n\\t\\t}),\\n\\n\\t\\t\\\"eq\\\": createPositionalPseudo(function( matchIndexes, length, argument ) {\\n\\t\\t\\treturn [ argument < 0 ? argument + length : argument ];\\n\\t\\t}),\\n\\n\\t\\t\\\"even\\\": createPositionalPseudo(function( matchIndexes, length ) {\\n\\t\\t\\tvar i = 0;\\n\\t\\t\\tfor ( ; i < length; i += 2 ) {\\n\\t\\t\\t\\tmatchIndexes.push( i );\\n\\t\\t\\t}\\n\\t\\t\\treturn matchIndexes;\\n\\t\\t}),\\n\\n\\t\\t\\\"odd\\\": createPositionalPseudo(function( matchIndexes, length ) {\\n\\t\\t\\tvar i = 1;\\n\\t\\t\\tfor ( ; i < length; i += 2 ) {\\n\\t\\t\\t\\tmatchIndexes.push( i );\\n\\t\\t\\t}\\n\\t\\t\\treturn matchIndexes;\\n\\t\\t}),\\n\\n\\t\\t\\\"lt\\\": createPositionalPseudo(function( matchIndexes, length, argument ) {\\n\\t\\t\\tvar i = argument < 0 ? argument + length : argument;\\n\\t\\t\\tfor ( ; --i >= 0; ) {\\n\\t\\t\\t\\tmatchIndexes.push( i );\\n\\t\\t\\t}\\n\\t\\t\\treturn matchIndexes;\\n\\t\\t}),\\n\\n\\t\\t\\\"gt\\\": createPositionalPseudo(function( matchIndexes, length, argument ) {\\n\\t\\t\\tvar i = argument < 0 ? argument + length : argument;\\n\\t\\t\\tfor ( ; ++i < length; ) {\\n\\t\\t\\t\\tmatchIndexes.push( i );\\n\\t\\t\\t}\\n\\t\\t\\treturn matchIndexes;\\n\\t\\t})\\n\\t}\\n};\\n\\nExpr.pseudos[\\\"nth\\\"] = Expr.pseudos[\\\"eq\\\"];\\n\\n// Add button/input type pseudos\\nfor ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {\\n\\tExpr.pseudos[ i ] = createInputPseudo( i );\\n}\\nfor ( i in { submit: true, reset: true } ) {\\n\\tExpr.pseudos[ i ] = createButtonPseudo( i );\\n}\\n\\n// Easy API for creating new setFilters\\nfunction setFilters() {}\\nsetFilters.prototype = Expr.filters = Expr.pseudos;\\nExpr.setFilters = new setFilters();\\n\\ntokenize = Sizzle.tokenize = function( selector, parseOnly ) {\\n\\tvar matched, match, tokens, type,\\n\\t\\tsoFar, groups, preFilters,\\n\\t\\tcached = tokenCache[ selector + \\\" \\\" ];\\n\\n\\tif ( cached ) {\\n\\t\\treturn parseOnly ? 0 : cached.slice( 0 );\\n\\t}\\n\\n\\tsoFar = selector;\\n\\tgroups = [];\\n\\tpreFilters = Expr.preFilter;\\n\\n\\twhile ( soFar ) {\\n\\n\\t\\t// Comma and first run\\n\\t\\tif ( !matched || (match = rcomma.exec( soFar )) ) {\\n\\t\\t\\tif ( match ) {\\n\\t\\t\\t\\t// Don't consume trailing commas as valid\\n\\t\\t\\t\\tsoFar = soFar.slice( match[0].length ) || soFar;\\n\\t\\t\\t}\\n\\t\\t\\tgroups.push( (tokens = []) );\\n\\t\\t}\\n\\n\\t\\tmatched = false;\\n\\n\\t\\t// Combinators\\n\\t\\tif ( (match = rcombinators.exec( soFar )) ) {\\n\\t\\t\\tmatched = match.shift();\\n\\t\\t\\ttokens.push({\\n\\t\\t\\t\\tvalue: matched,\\n\\t\\t\\t\\t// Cast descendant combinators to space\\n\\t\\t\\t\\ttype: match[0].replace( rtrim, \\\" \\\" )\\n\\t\\t\\t});\\n\\t\\t\\tsoFar = soFar.slice( matched.length );\\n\\t\\t}\\n\\n\\t\\t// Filters\\n\\t\\tfor ( type in Expr.filter ) {\\n\\t\\t\\tif ( (match = matchExpr[ type ].exec( soFar )) && (!preFilters[ type ] ||\\n\\t\\t\\t\\t(match = preFilters[ type ]( match ))) ) {\\n\\t\\t\\t\\tmatched = match.shift();\\n\\t\\t\\t\\ttokens.push({\\n\\t\\t\\t\\t\\tvalue: matched,\\n\\t\\t\\t\\t\\ttype: type,\\n\\t\\t\\t\\t\\tmatches: match\\n\\t\\t\\t\\t});\\n\\t\\t\\t\\tsoFar = soFar.slice( matched.length );\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tif ( !matched ) {\\n\\t\\t\\tbreak;\\n\\t\\t}\\n\\t}\\n\\n\\t// Return the length of the invalid excess\\n\\t// if we're just parsing\\n\\t// Otherwise, throw an error or return tokens\\n\\treturn parseOnly ?\\n\\t\\tsoFar.length :\\n\\t\\tsoFar ?\\n\\t\\t\\tSizzle.error( selector ) :\\n\\t\\t\\t// Cache the tokens\\n\\t\\t\\ttokenCache( selector, groups ).slice( 0 );\\n};\\n\\nfunction toSelector( tokens ) {\\n\\tvar i = 0,\\n\\t\\tlen = tokens.length,\\n\\t\\tselector = \\\"\\\";\\n\\tfor ( ; i < len; i++ ) {\\n\\t\\tselector += tokens[i].value;\\n\\t}\\n\\treturn selector;\\n}\\n\\nfunction addCombinator( matcher, combinator, base ) {\\n\\tvar dir = combinator.dir,\\n\\t\\tcheckNonElements = base && dir === \\\"parentNode\\\",\\n\\t\\tdoneName = done++;\\n\\n\\treturn combinator.first ?\\n\\t\\t// Check against closest ancestor/preceding element\\n\\t\\tfunction( elem, context, xml ) {\\n\\t\\t\\twhile ( (elem = elem[ dir ]) ) {\\n\\t\\t\\t\\tif ( elem.nodeType === 1 || checkNonElements ) {\\n\\t\\t\\t\\t\\treturn matcher( elem, context, xml );\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t} :\\n\\n\\t\\t// Check against all ancestor/preceding elements\\n\\t\\tfunction( elem, context, xml ) {\\n\\t\\t\\tvar oldCache, outerCache,\\n\\t\\t\\t\\tnewCache = [ dirruns, doneName ];\\n\\n\\t\\t\\t// We can't set arbitrary data on XML nodes, so they don't benefit from dir caching\\n\\t\\t\\tif ( xml ) {\\n\\t\\t\\t\\twhile ( (elem = elem[ dir ]) ) {\\n\\t\\t\\t\\t\\tif ( elem.nodeType === 1 || checkNonElements ) {\\n\\t\\t\\t\\t\\t\\tif ( matcher( elem, context, xml ) ) {\\n\\t\\t\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t} else {\\n\\t\\t\\t\\twhile ( (elem = elem[ dir ]) ) {\\n\\t\\t\\t\\t\\tif ( elem.nodeType === 1 || checkNonElements ) {\\n\\t\\t\\t\\t\\t\\touterCache = elem[ expando ] || (elem[ expando ] = {});\\n\\t\\t\\t\\t\\t\\tif ( (oldCache = outerCache[ dir ]) &&\\n\\t\\t\\t\\t\\t\\t\\toldCache[ 0 ] === dirruns && oldCache[ 1 ] === doneName ) {\\n\\n\\t\\t\\t\\t\\t\\t\\t// Assign to newCache so results back-propagate to previous elements\\n\\t\\t\\t\\t\\t\\t\\treturn (newCache[ 2 ] = oldCache[ 2 ]);\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\t// Reuse newcache so results back-propagate to previous elements\\n\\t\\t\\t\\t\\t\\t\\touterCache[ dir ] = newCache;\\n\\n\\t\\t\\t\\t\\t\\t\\t// A match means we're done; a fail means we have to keep checking\\n\\t\\t\\t\\t\\t\\t\\tif ( (newCache[ 2 ] = matcher( elem, context, xml )) ) {\\n\\t\\t\\t\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t};\\n}\\n\\nfunction elementMatcher( matchers ) {\\n\\treturn matchers.length > 1 ?\\n\\t\\tfunction( elem, context, xml ) {\\n\\t\\t\\tvar i = matchers.length;\\n\\t\\t\\twhile ( i-- ) {\\n\\t\\t\\t\\tif ( !matchers[i]( elem, context, xml ) ) {\\n\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t\\treturn true;\\n\\t\\t} :\\n\\t\\tmatchers[0];\\n}\\n\\nfunction multipleContexts( selector, contexts, results ) {\\n\\tvar i = 0,\\n\\t\\tlen = contexts.length;\\n\\tfor ( ; i < len; i++ ) {\\n\\t\\tSizzle( selector, contexts[i], results );\\n\\t}\\n\\treturn results;\\n}\\n\\nfunction condense( unmatched, map, filter, context, xml ) {\\n\\tvar elem,\\n\\t\\tnewUnmatched = [],\\n\\t\\ti = 0,\\n\\t\\tlen = unmatched.length,\\n\\t\\tmapped = map != null;\\n\\n\\tfor ( ; i < len; i++ ) {\\n\\t\\tif ( (elem = unmatched[i]) ) {\\n\\t\\t\\tif ( !filter || filter( elem, context, xml ) ) {\\n\\t\\t\\t\\tnewUnmatched.push( elem );\\n\\t\\t\\t\\tif ( mapped ) {\\n\\t\\t\\t\\t\\tmap.push( i );\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\treturn newUnmatched;\\n}\\n\\nfunction setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {\\n\\tif ( postFilter && !postFilter[ expando ] ) {\\n\\t\\tpostFilter = setMatcher( postFilter );\\n\\t}\\n\\tif ( postFinder && !postFinder[ expando ] ) {\\n\\t\\tpostFinder = setMatcher( postFinder, postSelector );\\n\\t}\\n\\treturn markFunction(function( seed, results, context, xml ) {\\n\\t\\tvar temp, i, elem,\\n\\t\\t\\tpreMap = [],\\n\\t\\t\\tpostMap = [],\\n\\t\\t\\tpreexisting = results.length,\\n\\n\\t\\t\\t// Get initial elements from seed or context\\n\\t\\t\\telems = seed || multipleContexts( selector || \\\"*\\\", context.nodeType ? [ context ] : context, [] ),\\n\\n\\t\\t\\t// Prefilter to get matcher input, preserving a map for seed-results synchronization\\n\\t\\t\\tmatcherIn = preFilter && ( seed || !selector ) ?\\n\\t\\t\\t\\tcondense( elems, preMap, preFilter, context, xml ) :\\n\\t\\t\\t\\telems,\\n\\n\\t\\t\\tmatcherOut = matcher ?\\n\\t\\t\\t\\t// If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,\\n\\t\\t\\t\\tpostFinder || ( seed ? preFilter : preexisting || postFilter ) ?\\n\\n\\t\\t\\t\\t\\t// ...intermediate processing is necessary\\n\\t\\t\\t\\t\\t[] :\\n\\n\\t\\t\\t\\t\\t// ...otherwise use results directly\\n\\t\\t\\t\\t\\tresults :\\n\\t\\t\\t\\tmatcherIn;\\n\\n\\t\\t// Find primary matches\\n\\t\\tif ( matcher ) {\\n\\t\\t\\tmatcher( matcherIn, matcherOut, context, xml );\\n\\t\\t}\\n\\n\\t\\t// Apply postFilter\\n\\t\\tif ( postFilter ) {\\n\\t\\t\\ttemp = condense( matcherOut, postMap );\\n\\t\\t\\tpostFilter( temp, [], context, xml );\\n\\n\\t\\t\\t// Un-match failing elements by moving them back to matcherIn\\n\\t\\t\\ti = temp.length;\\n\\t\\t\\twhile ( i-- ) {\\n\\t\\t\\t\\tif ( (elem = temp[i]) ) {\\n\\t\\t\\t\\t\\tmatcherOut[ postMap[i] ] = !(matcherIn[ postMap[i] ] = elem);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tif ( seed ) {\\n\\t\\t\\tif ( postFinder || preFilter ) {\\n\\t\\t\\t\\tif ( postFinder ) {\\n\\t\\t\\t\\t\\t// Get the final matcherOut by condensing this intermediate into postFinder contexts\\n\\t\\t\\t\\t\\ttemp = [];\\n\\t\\t\\t\\t\\ti = matcherOut.length;\\n\\t\\t\\t\\t\\twhile ( i-- ) {\\n\\t\\t\\t\\t\\t\\tif ( (elem = matcherOut[i]) ) {\\n\\t\\t\\t\\t\\t\\t\\t// Restore matcherIn since elem is not yet a final match\\n\\t\\t\\t\\t\\t\\t\\ttemp.push( (matcherIn[i] = elem) );\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\tpostFinder( null, (matcherOut = []), temp, xml );\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Move matched elements from seed to results to keep them synchronized\\n\\t\\t\\t\\ti = matcherOut.length;\\n\\t\\t\\t\\twhile ( i-- ) {\\n\\t\\t\\t\\t\\tif ( (elem = matcherOut[i]) &&\\n\\t\\t\\t\\t\\t\\t(temp = postFinder ? indexOf.call( seed, elem ) : preMap[i]) > -1 ) {\\n\\n\\t\\t\\t\\t\\t\\tseed[temp] = !(results[temp] = elem);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t// Add elements to results, through postFinder if defined\\n\\t\\t} else {\\n\\t\\t\\tmatcherOut = condense(\\n\\t\\t\\t\\tmatcherOut === results ?\\n\\t\\t\\t\\t\\tmatcherOut.splice( preexisting, matcherOut.length ) :\\n\\t\\t\\t\\t\\tmatcherOut\\n\\t\\t\\t);\\n\\t\\t\\tif ( postFinder ) {\\n\\t\\t\\t\\tpostFinder( null, results, matcherOut, xml );\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tpush.apply( results, matcherOut );\\n\\t\\t\\t}\\n\\t\\t}\\n\\t});\\n}\\n\\nfunction matcherFromTokens( tokens ) {\\n\\tvar checkContext, matcher, j,\\n\\t\\tlen = tokens.length,\\n\\t\\tleadingRelative = Expr.relative[ tokens[0].type ],\\n\\t\\timplicitRelative = leadingRelative || Expr.relative[\\\" \\\"],\\n\\t\\ti = leadingRelative ? 1 : 0,\\n\\n\\t\\t// The foundational matcher ensures that elements are reachable from top-level context(s)\\n\\t\\tmatchContext = addCombinator( function( elem ) {\\n\\t\\t\\treturn elem === checkContext;\\n\\t\\t}, implicitRelative, true ),\\n\\t\\tmatchAnyContext = addCombinator( function( elem ) {\\n\\t\\t\\treturn indexOf.call( checkContext, elem ) > -1;\\n\\t\\t}, implicitRelative, true ),\\n\\t\\tmatchers = [ function( elem, context, xml ) {\\n\\t\\t\\treturn ( !leadingRelative && ( xml || context !== outermostContext ) ) || (\\n\\t\\t\\t\\t(checkContext = context).nodeType ?\\n\\t\\t\\t\\t\\tmatchContext( elem, context, xml ) :\\n\\t\\t\\t\\t\\tmatchAnyContext( elem, context, xml ) );\\n\\t\\t} ];\\n\\n\\tfor ( ; i < len; i++ ) {\\n\\t\\tif ( (matcher = Expr.relative[ tokens[i].type ]) ) {\\n\\t\\t\\tmatchers = [ addCombinator(elementMatcher( matchers ), matcher) ];\\n\\t\\t} else {\\n\\t\\t\\tmatcher = Expr.filter[ tokens[i].type ].apply( null, tokens[i].matches );\\n\\n\\t\\t\\t// Return special upon seeing a positional matcher\\n\\t\\t\\tif ( matcher[ expando ] ) {\\n\\t\\t\\t\\t// Find the next relative operator (if any) for proper handling\\n\\t\\t\\t\\tj = ++i;\\n\\t\\t\\t\\tfor ( ; j < len; j++ ) {\\n\\t\\t\\t\\t\\tif ( Expr.relative[ tokens[j].type ] ) {\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\treturn setMatcher(\\n\\t\\t\\t\\t\\ti > 1 && elementMatcher( matchers ),\\n\\t\\t\\t\\t\\ti > 1 && toSelector(\\n\\t\\t\\t\\t\\t\\t// If the preceding token was a descendant combinator, insert an implicit any-element `*`\\n\\t\\t\\t\\t\\t\\ttokens.slice( 0, i - 1 ).concat({ value: tokens[ i - 2 ].type === \\\" \\\" ? \\\"*\\\" : \\\"\\\" })\\n\\t\\t\\t\\t\\t).replace( rtrim, \\\"$1\\\" ),\\n\\t\\t\\t\\t\\tmatcher,\\n\\t\\t\\t\\t\\ti < j && matcherFromTokens( tokens.slice( i, j ) ),\\n\\t\\t\\t\\t\\tj < len && matcherFromTokens( (tokens = tokens.slice( j )) ),\\n\\t\\t\\t\\t\\tj < len && toSelector( tokens )\\n\\t\\t\\t\\t);\\n\\t\\t\\t}\\n\\t\\t\\tmatchers.push( matcher );\\n\\t\\t}\\n\\t}\\n\\n\\treturn elementMatcher( matchers );\\n}\\n\\nfunction matcherFromGroupMatchers( elementMatchers, setMatchers ) {\\n\\tvar bySet = setMatchers.length > 0,\\n\\t\\tbyElement = elementMatchers.length > 0,\\n\\t\\tsuperMatcher = function( seed, context, xml, results, outermost ) {\\n\\t\\t\\tvar elem, j, matcher,\\n\\t\\t\\t\\tmatchedCount = 0,\\n\\t\\t\\t\\ti = \\\"0\\\",\\n\\t\\t\\t\\tunmatched = seed && [],\\n\\t\\t\\t\\tsetMatched = [],\\n\\t\\t\\t\\tcontextBackup = outermostContext,\\n\\t\\t\\t\\t// We must always have either seed elements or outermost context\\n\\t\\t\\t\\telems = seed || byElement && Expr.find[\\\"TAG\\\"]( \\\"*\\\", outermost ),\\n\\t\\t\\t\\t// Use integer dirruns iff this is the outermost matcher\\n\\t\\t\\t\\tdirrunsUnique = (dirruns += contextBackup == null ? 1 : Math.random() || 0.1),\\n\\t\\t\\t\\tlen = elems.length;\\n\\n\\t\\t\\tif ( outermost ) {\\n\\t\\t\\t\\toutermostContext = context !== document && context;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Add elements passing elementMatchers directly to results\\n\\t\\t\\t// Keep `i` a string if there are no elements so `matchedCount` will be \\\"00\\\" below\\n\\t\\t\\t// Support: IE<9, Safari\\n\\t\\t\\t// Tolerate NodeList properties (IE: \\\"length\\\"; Safari: <number>) matching elements by id\\n\\t\\t\\tfor ( ; i !== len && (elem = elems[i]) != null; i++ ) {\\n\\t\\t\\t\\tif ( byElement && elem ) {\\n\\t\\t\\t\\t\\tj = 0;\\n\\t\\t\\t\\t\\twhile ( (matcher = elementMatchers[j++]) ) {\\n\\t\\t\\t\\t\\t\\tif ( matcher( elem, context, xml ) ) {\\n\\t\\t\\t\\t\\t\\t\\tresults.push( elem );\\n\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\tif ( outermost ) {\\n\\t\\t\\t\\t\\t\\tdirruns = dirrunsUnique;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Track unmatched elements for set filters\\n\\t\\t\\t\\tif ( bySet ) {\\n\\t\\t\\t\\t\\t// They will have gone through all possible matchers\\n\\t\\t\\t\\t\\tif ( (elem = !matcher && elem) ) {\\n\\t\\t\\t\\t\\t\\tmatchedCount--;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Lengthen the array for every element, matched or not\\n\\t\\t\\t\\t\\tif ( seed ) {\\n\\t\\t\\t\\t\\t\\tunmatched.push( elem );\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Apply set filters to unmatched elements\\n\\t\\t\\tmatchedCount += i;\\n\\t\\t\\tif ( bySet && i !== matchedCount ) {\\n\\t\\t\\t\\tj = 0;\\n\\t\\t\\t\\twhile ( (matcher = setMatchers[j++]) ) {\\n\\t\\t\\t\\t\\tmatcher( unmatched, setMatched, context, xml );\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif ( seed ) {\\n\\t\\t\\t\\t\\t// Reintegrate element matches to eliminate the need for sorting\\n\\t\\t\\t\\t\\tif ( matchedCount > 0 ) {\\n\\t\\t\\t\\t\\t\\twhile ( i-- ) {\\n\\t\\t\\t\\t\\t\\t\\tif ( !(unmatched[i] || setMatched[i]) ) {\\n\\t\\t\\t\\t\\t\\t\\t\\tsetMatched[i] = pop.call( results );\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Discard index placeholder values to get only actual matches\\n\\t\\t\\t\\t\\tsetMatched = condense( setMatched );\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Add matches to results\\n\\t\\t\\t\\tpush.apply( results, setMatched );\\n\\n\\t\\t\\t\\t// Seedless set matches succeeding multiple successful matchers stipulate sorting\\n\\t\\t\\t\\tif ( outermost && !seed && setMatched.length > 0 &&\\n\\t\\t\\t\\t\\t( matchedCount + setMatchers.length ) > 1 ) {\\n\\n\\t\\t\\t\\t\\tSizzle.uniqueSort( results );\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Override manipulation of globals by nested matchers\\n\\t\\t\\tif ( outermost ) {\\n\\t\\t\\t\\tdirruns = dirrunsUnique;\\n\\t\\t\\t\\toutermostContext = contextBackup;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn unmatched;\\n\\t\\t};\\n\\n\\treturn bySet ?\\n\\t\\tmarkFunction( superMatcher ) :\\n\\t\\tsuperMatcher;\\n}\\n\\ncompile = Sizzle.compile = function( selector, match /* Internal Use Only */ ) {\\n\\tvar i,\\n\\t\\tsetMatchers = [],\\n\\t\\telementMatchers = [],\\n\\t\\tcached = compilerCache[ selector + \\\" \\\" ];\\n\\n\\tif ( !cached ) {\\n\\t\\t// Generate a function of recursive functions that can be used to check each element\\n\\t\\tif ( !match ) {\\n\\t\\t\\tmatch = tokenize( selector );\\n\\t\\t}\\n\\t\\ti = match.length;\\n\\t\\twhile ( i-- ) {\\n\\t\\t\\tcached = matcherFromTokens( match[i] );\\n\\t\\t\\tif ( cached[ expando ] ) {\\n\\t\\t\\t\\tsetMatchers.push( cached );\\n\\t\\t\\t} else {\\n\\t\\t\\t\\telementMatchers.push( cached );\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t// Cache the compiled function\\n\\t\\tcached = compilerCache( selector, matcherFromGroupMatchers( elementMatchers, setMatchers ) );\\n\\n\\t\\t// Save selector and tokenization\\n\\t\\tcached.selector = selector;\\n\\t}\\n\\treturn cached;\\n};\\n\\n/**\\n * A low-level selection function that works with Sizzle's compiled\\n *  selector functions\\n * @param {String|Function} selector A selector or a pre-compiled\\n *  selector function built with Sizzle.compile\\n * @param {Element} context\\n * @param {Array} [results]\\n * @param {Array} [seed] A set of elements to match against\\n */\\nselect = Sizzle.select = function( selector, context, results, seed ) {\\n\\tvar i, tokens, token, type, find,\\n\\t\\tcompiled = typeof selector === \\\"function\\\" && selector,\\n\\t\\tmatch = !seed && tokenize( (selector = compiled.selector || selector) );\\n\\n\\tresults = results || [];\\n\\n\\t// Try to minimize operations if there is no seed and only one group\\n\\tif ( match.length === 1 ) {\\n\\n\\t\\t// Take a shortcut and set the context if the root selector is an ID\\n\\t\\ttokens = match[0] = match[0].slice( 0 );\\n\\t\\tif ( tokens.length > 2 && (token = tokens[0]).type === \\\"ID\\\" &&\\n\\t\\t\\t\\tsupport.getById && context.nodeType === 9 && documentIsHTML &&\\n\\t\\t\\t\\tExpr.relative[ tokens[1].type ] ) {\\n\\n\\t\\t\\tcontext = ( Expr.find[\\\"ID\\\"]( token.matches[0].replace(runescape, funescape), context ) || [] )[0];\\n\\t\\t\\tif ( !context ) {\\n\\t\\t\\t\\treturn results;\\n\\n\\t\\t\\t// Precompiled matchers will still verify ancestry, so step up a level\\n\\t\\t\\t} else if ( compiled ) {\\n\\t\\t\\t\\tcontext = context.parentNode;\\n\\t\\t\\t}\\n\\n\\t\\t\\tselector = selector.slice( tokens.shift().value.length );\\n\\t\\t}\\n\\n\\t\\t// Fetch a seed set for right-to-left matching\\n\\t\\ti = matchExpr[\\\"needsContext\\\"].test( selector ) ? 0 : tokens.length;\\n\\t\\twhile ( i-- ) {\\n\\t\\t\\ttoken = tokens[i];\\n\\n\\t\\t\\t// Abort if we hit a combinator\\n\\t\\t\\tif ( Expr.relative[ (type = token.type) ] ) {\\n\\t\\t\\t\\tbreak;\\n\\t\\t\\t}\\n\\t\\t\\tif ( (find = Expr.find[ type ]) ) {\\n\\t\\t\\t\\t// Search, expanding context for leading sibling combinators\\n\\t\\t\\t\\tif ( (seed = find(\\n\\t\\t\\t\\t\\ttoken.matches[0].replace( runescape, funescape ),\\n\\t\\t\\t\\t\\trsibling.test( tokens[0].type ) && testContext( context.parentNode ) || context\\n\\t\\t\\t\\t)) ) {\\n\\n\\t\\t\\t\\t\\t// If seed is empty or no tokens remain, we can return early\\n\\t\\t\\t\\t\\ttokens.splice( i, 1 );\\n\\t\\t\\t\\t\\tselector = seed.length && toSelector( tokens );\\n\\t\\t\\t\\t\\tif ( !selector ) {\\n\\t\\t\\t\\t\\t\\tpush.apply( results, seed );\\n\\t\\t\\t\\t\\t\\treturn results;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t// Compile and execute a filtering function if one is not provided\\n\\t// Provide `match` to avoid retokenization if we modified the selector above\\n\\t( compiled || compile( selector, match ) )(\\n\\t\\tseed,\\n\\t\\tcontext,\\n\\t\\t!documentIsHTML,\\n\\t\\tresults,\\n\\t\\trsibling.test( selector ) && testContext( context.parentNode ) || context\\n\\t);\\n\\treturn results;\\n};\\n\\n// One-time assignments\\n\\n// Sort stability\\nsupport.sortStable = expando.split(\\\"\\\").sort( sortOrder ).join(\\\"\\\") === expando;\\n\\n// Support: Chrome 14-35+\\n// Always assume duplicates if they aren't passed to the comparison function\\nsupport.detectDuplicates = !!hasDuplicate;\\n\\n// Initialize against the default document\\nsetDocument();\\n\\n// Support: Webkit<537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27)\\n// Detached nodes confoundingly follow *each other*\\nsupport.sortDetached = assert(function( div1 ) {\\n\\t// Should return 1, but returns 4 (following)\\n\\treturn div1.compareDocumentPosition( document.createElement(\\\"div\\\") ) & 1;\\n});\\n\\n// Support: IE<8\\n// Prevent attribute/property \\\"interpolation\\\"\\n// http://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx\\nif ( !assert(function( div ) {\\n\\tdiv.innerHTML = \\\"<a href='#'></a>\\\";\\n\\treturn div.firstChild.getAttribute(\\\"href\\\") === \\\"#\\\" ;\\n}) ) {\\n\\taddHandle( \\\"type|href|height|width\\\", function( elem, name, isXML ) {\\n\\t\\tif ( !isXML ) {\\n\\t\\t\\treturn elem.getAttribute( name, name.toLowerCase() === \\\"type\\\" ? 1 : 2 );\\n\\t\\t}\\n\\t});\\n}\\n\\n// Support: IE<9\\n// Use defaultValue in place of getAttribute(\\\"value\\\")\\nif ( !support.attributes || !assert(function( div ) {\\n\\tdiv.innerHTML = \\\"<input/>\\\";\\n\\tdiv.firstChild.setAttribute( \\\"value\\\", \\\"\\\" );\\n\\treturn div.firstChild.getAttribute( \\\"value\\\" ) === \\\"\\\";\\n}) ) {\\n\\taddHandle( \\\"value\\\", function( elem, name, isXML ) {\\n\\t\\tif ( !isXML && elem.nodeName.toLowerCase() === \\\"input\\\" ) {\\n\\t\\t\\treturn elem.defaultValue;\\n\\t\\t}\\n\\t});\\n}\\n\\n// Support: IE<9\\n// Use getAttributeNode to fetch booleans when getAttribute lies\\nif ( !assert(function( div ) {\\n\\treturn div.getAttribute(\\\"disabled\\\") == null;\\n}) ) {\\n\\taddHandle( booleans, function( elem, name, isXML ) {\\n\\t\\tvar val;\\n\\t\\tif ( !isXML ) {\\n\\t\\t\\treturn elem[ name ] === true ? name.toLowerCase() :\\n\\t\\t\\t\\t\\t(val = elem.getAttributeNode( name )) && val.specified ?\\n\\t\\t\\t\\t\\tval.value :\\n\\t\\t\\t\\tnull;\\n\\t\\t}\\n\\t});\\n}\\n\\n// EXPOSE\\nreturn Sizzle;\\n});\\n\\n/*eslint-enable */\\n\\n// Included from: js/tinymce/classes/util/Arr.js\\n\\n/**\\n * Arr.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Array utility class.\\n *\\n * @private\\n * @class tinymce.util.Arr\\n */\\ndefine(\\\"tinymce/util/Arr\\\", [], function() {\\n\\tvar isArray = Array.isArray || function(obj) {\\n\\t\\treturn Object.prototype.toString.call(obj) === \\\"[object Array]\\\";\\n\\t};\\n\\n\\tfunction toArray(obj) {\\n\\t\\tvar array = obj, i, l;\\n\\n\\t\\tif (!isArray(obj)) {\\n\\t\\t\\tarray = [];\\n\\t\\t\\tfor (i = 0, l = obj.length; i < l; i++) {\\n\\t\\t\\t\\tarray[i] = obj[i];\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\treturn array;\\n\\t}\\n\\n\\tfunction each(o, cb, s) {\\n\\t\\tvar n, l;\\n\\n\\t\\tif (!o) {\\n\\t\\t\\treturn 0;\\n\\t\\t}\\n\\n\\t\\ts = s || o;\\n\\n\\t\\tif (o.length !== undefined) {\\n\\t\\t\\t// Indexed arrays, needed for Safari\\n\\t\\t\\tfor (n = 0, l = o.length; n < l; n++) {\\n\\t\\t\\t\\tif (cb.call(s, o[n], n, o) === false) {\\n\\t\\t\\t\\t\\treturn 0;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t} else {\\n\\t\\t\\t// Hashtables\\n\\t\\t\\tfor (n in o) {\\n\\t\\t\\t\\tif (o.hasOwnProperty(n)) {\\n\\t\\t\\t\\t\\tif (cb.call(s, o[n], n, o) === false) {\\n\\t\\t\\t\\t\\t\\treturn 0;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\treturn 1;\\n\\t}\\n\\n\\tfunction map(array, callback) {\\n\\t\\tvar out = [];\\n\\n\\t\\teach(array, function(item, index) {\\n\\t\\t\\tout.push(callback(item, index, array));\\n\\t\\t});\\n\\n\\t\\treturn out;\\n\\t}\\n\\n\\tfunction filter(a, f) {\\n\\t\\tvar o = [];\\n\\n\\t\\teach(a, function(v, index) {\\n\\t\\t\\tif (!f || f(v, index, a)) {\\n\\t\\t\\t\\to.push(v);\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\treturn o;\\n\\t}\\n\\n\\tfunction indexOf(a, v) {\\n\\t\\tvar i, l;\\n\\n\\t\\tif (a) {\\n\\t\\t\\tfor (i = 0, l = a.length; i < l; i++) {\\n\\t\\t\\t\\tif (a[i] === v) {\\n\\t\\t\\t\\t\\treturn i;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\treturn -1;\\n\\t}\\n\\n\\tfunction reduce(collection, iteratee, accumulator, thisArg) {\\n\\t\\tvar i = 0;\\n\\n\\t\\tif (arguments.length < 3) {\\n\\t\\t\\taccumulator = collection[0];\\n\\t\\t}\\n\\n\\t\\tfor (; i < collection.length; i++) {\\n\\t\\t\\taccumulator = iteratee.call(thisArg, accumulator, collection[i], i);\\n\\t\\t}\\n\\n\\t\\treturn accumulator;\\n\\t}\\n\\n\\tfunction findIndex(array, predicate, thisArg) {\\n\\t\\tvar i, l;\\n\\n\\t\\tfor (i = 0, l = array.length; i < l; i++) {\\n\\t\\t\\tif (predicate.call(thisArg, array[i], i, array)) {\\n\\t\\t\\t\\treturn i;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\treturn -1;\\n\\t}\\n\\n\\tfunction find(array, predicate, thisArg) {\\n\\t\\tvar idx = findIndex(array, predicate, thisArg);\\n\\n\\t\\tif (idx !== -1) {\\n\\t\\t\\treturn array[idx];\\n\\t\\t}\\n\\n\\t\\treturn undefined;\\n\\t}\\n\\n\\tfunction last(collection) {\\n\\t\\treturn collection[collection.length - 1];\\n\\t}\\n\\n\\treturn {\\n\\t\\tisArray: isArray,\\n\\t\\ttoArray: toArray,\\n\\t\\teach: each,\\n\\t\\tmap: map,\\n\\t\\tfilter: filter,\\n\\t\\tindexOf: indexOf,\\n\\t\\treduce: reduce,\\n\\t\\tfindIndex: findIndex,\\n\\t\\tfind: find,\\n\\t\\tlast: last\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/util/Tools.js\\n\\n/**\\n * Tools.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class contains various utlity functions. These are also exposed\\n * directly on the tinymce namespace.\\n *\\n * @class tinymce.util.Tools\\n */\\ndefine(\\\"tinymce/util/Tools\\\", [\\n\\t\\\"tinymce/Env\\\",\\n\\t\\\"tinymce/util/Arr\\\"\\n], function(Env, Arr) {\\n\\t/**\\n\\t * Removes whitespace from the beginning and end of a string.\\n\\t *\\n\\t * @method trim\\n\\t * @param {String} s String to remove whitespace from.\\n\\t * @return {String} New string with removed whitespace.\\n\\t */\\n\\tvar whiteSpaceRegExp = /^\\\\s*|\\\\s*$/g;\\n\\n\\tfunction trim(str) {\\n\\t\\treturn (str === null || str === undefined) ? '' : (\\\"\\\" + str).replace(whiteSpaceRegExp, '');\\n\\t}\\n\\n\\t/**\\n\\t * Checks if a object is of a specific type for example an array.\\n\\t *\\n\\t * @method is\\n\\t * @param {Object} obj Object to check type of.\\n\\t * @param {string} type Optional type to check for.\\n\\t * @return {Boolean} true/false if the object is of the specified type.\\n\\t */\\n\\tfunction is(obj, type) {\\n\\t\\tif (!type) {\\n\\t\\t\\treturn obj !== undefined;\\n\\t\\t}\\n\\n\\t\\tif (type == 'array' && Arr.isArray(obj)) {\\n\\t\\t\\treturn true;\\n\\t\\t}\\n\\n\\t\\treturn typeof obj == type;\\n\\t}\\n\\n\\t/**\\n\\t * Makes a name/object map out of an array with names.\\n\\t *\\n\\t * @method makeMap\\n\\t * @param {Array/String} items Items to make map out of.\\n\\t * @param {String} delim Optional delimiter to split string by.\\n\\t * @param {Object} map Optional map to add items to.\\n\\t * @return {Object} Name/value map of items.\\n\\t */\\n\\tfunction makeMap(items, delim, map) {\\n\\t\\tvar i;\\n\\n\\t\\titems = items || [];\\n\\t\\tdelim = delim || ',';\\n\\n\\t\\tif (typeof items == \\\"string\\\") {\\n\\t\\t\\titems = items.split(delim);\\n\\t\\t}\\n\\n\\t\\tmap = map || {};\\n\\n\\t\\ti = items.length;\\n\\t\\twhile (i--) {\\n\\t\\t\\tmap[items[i]] = {};\\n\\t\\t}\\n\\n\\t\\treturn map;\\n\\t}\\n\\n\\t/**\\n\\t * JavaScript does not protect hasOwnProperty method, so it is possible to overwrite it. This is\\n\\t * object independent version.\\n\\t *\\n\\t * @param {Object} obj\\n\\t * @param {String} prop\\n\\t * @returns {Boolean}\\n\\t */\\n\\tfunction hasOwnProperty(obj, prop) {\\n\\t\\treturn Object.prototype.hasOwnProperty.call(obj, prop);\\n\\t}\\n\\n\\t/**\\n\\t * Creates a class, subclass or static singleton.\\n\\t * More details on this method can be found in the Wiki.\\n\\t *\\n\\t * @method create\\n\\t * @param {String} s Class name, inheritance and prefix.\\n\\t * @param {Object} p Collection of methods to add to the class.\\n\\t * @param {Object} root Optional root object defaults to the global window object.\\n\\t * @example\\n\\t * // Creates a basic class\\n\\t * tinymce.create('tinymce.somepackage.SomeClass', {\\n\\t *     SomeClass: function() {\\n\\t *         // Class constructor\\n\\t *     },\\n\\t *\\n\\t *     method: function() {\\n\\t *         // Some method\\n\\t *     }\\n\\t * });\\n\\t *\\n\\t * // Creates a basic subclass class\\n\\t * tinymce.create('tinymce.somepackage.SomeSubClass:tinymce.somepackage.SomeClass', {\\n\\t *     SomeSubClass: function() {\\n\\t *         // Class constructor\\n\\t *         this.parent(); // Call parent constructor\\n\\t *     },\\n\\t *\\n\\t *     method: function() {\\n\\t *         // Some method\\n\\t *         this.parent(); // Call parent method\\n\\t *     },\\n\\t *\\n\\t *     'static': {\\n\\t *         staticMethod: function() {\\n\\t *             // Static method\\n\\t *         }\\n\\t *     }\\n\\t * });\\n\\t *\\n\\t * // Creates a singleton/static class\\n\\t * tinymce.create('static tinymce.somepackage.SomeSingletonClass', {\\n\\t *     method: function() {\\n\\t *         // Some method\\n\\t *     }\\n\\t * });\\n\\t */\\n\\tfunction create(s, p, root) {\\n\\t\\tvar self = this, sp, ns, cn, scn, c, de = 0;\\n\\n\\t\\t// Parse : <prefix> <class>:<super class>\\n\\t\\ts = /^((static) )?([\\\\w.]+)(:([\\\\w.]+))?/.exec(s);\\n\\t\\tcn = s[3].match(/(^|\\\\.)(\\\\w+)$/i)[2]; // Class name\\n\\n\\t\\t// Create namespace for new class\\n\\t\\tns = self.createNS(s[3].replace(/\\\\.\\\\w+$/, ''), root);\\n\\n\\t\\t// Class already exists\\n\\t\\tif (ns[cn]) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\t// Make pure static class\\n\\t\\tif (s[2] == 'static') {\\n\\t\\t\\tns[cn] = p;\\n\\n\\t\\t\\tif (this.onCreate) {\\n\\t\\t\\t\\tthis.onCreate(s[2], s[3], ns[cn]);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\t// Create default constructor\\n\\t\\tif (!p[cn]) {\\n\\t\\t\\tp[cn] = function() {};\\n\\t\\t\\tde = 1;\\n\\t\\t}\\n\\n\\t\\t// Add constructor and methods\\n\\t\\tns[cn] = p[cn];\\n\\t\\tself.extend(ns[cn].prototype, p);\\n\\n\\t\\t// Extend\\n\\t\\tif (s[5]) {\\n\\t\\t\\tsp = self.resolve(s[5]).prototype;\\n\\t\\t\\tscn = s[5].match(/\\\\.(\\\\w+)$/i)[1]; // Class name\\n\\n\\t\\t\\t// Extend constructor\\n\\t\\t\\tc = ns[cn];\\n\\t\\t\\tif (de) {\\n\\t\\t\\t\\t// Add passthrough constructor\\n\\t\\t\\t\\tns[cn] = function() {\\n\\t\\t\\t\\t\\treturn sp[scn].apply(this, arguments);\\n\\t\\t\\t\\t};\\n\\t\\t\\t} else {\\n\\t\\t\\t\\t// Add inherit constructor\\n\\t\\t\\t\\tns[cn] = function() {\\n\\t\\t\\t\\t\\tthis.parent = sp[scn];\\n\\t\\t\\t\\t\\treturn c.apply(this, arguments);\\n\\t\\t\\t\\t};\\n\\t\\t\\t}\\n\\t\\t\\tns[cn].prototype[cn] = ns[cn];\\n\\n\\t\\t\\t// Add super methods\\n\\t\\t\\tself.each(sp, function(f, n) {\\n\\t\\t\\t\\tns[cn].prototype[n] = sp[n];\\n\\t\\t\\t});\\n\\n\\t\\t\\t// Add overridden methods\\n\\t\\t\\tself.each(p, function(f, n) {\\n\\t\\t\\t\\t// Extend methods if needed\\n\\t\\t\\t\\tif (sp[n]) {\\n\\t\\t\\t\\t\\tns[cn].prototype[n] = function() {\\n\\t\\t\\t\\t\\t\\tthis.parent = sp[n];\\n\\t\\t\\t\\t\\t\\treturn f.apply(this, arguments);\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tif (n != cn) {\\n\\t\\t\\t\\t\\t\\tns[cn].prototype[n] = f;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\t// Add static methods\\n\\t\\t/*jshint sub:true*/\\n\\t\\t/*eslint dot-notation:0*/\\n\\t\\tself.each(p['static'], function(f, n) {\\n\\t\\t\\tns[cn][n] = f;\\n\\t\\t});\\n\\t}\\n\\n\\tfunction extend(obj, ext) {\\n\\t\\tvar i, l, name, args = arguments, value;\\n\\n\\t\\tfor (i = 1, l = args.length; i < l; i++) {\\n\\t\\t\\text = args[i];\\n\\t\\t\\tfor (name in ext) {\\n\\t\\t\\t\\tif (ext.hasOwnProperty(name)) {\\n\\t\\t\\t\\t\\tvalue = ext[name];\\n\\n\\t\\t\\t\\t\\tif (value !== undefined) {\\n\\t\\t\\t\\t\\t\\tobj[name] = value;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\treturn obj;\\n\\t}\\n\\n\\t/**\\n\\t * Executed the specified function for each item in a object tree.\\n\\t *\\n\\t * @method walk\\n\\t * @param {Object} o Object tree to walk though.\\n\\t * @param {function} f Function to call for each item.\\n\\t * @param {String} n Optional name of collection inside the objects to walk for example childNodes.\\n\\t * @param {String} s Optional scope to execute the function in.\\n\\t */\\n\\tfunction walk(o, f, n, s) {\\n\\t\\ts = s || this;\\n\\n\\t\\tif (o) {\\n\\t\\t\\tif (n) {\\n\\t\\t\\t\\to = o[n];\\n\\t\\t\\t}\\n\\n\\t\\t\\tArr.each(o, function(o, i) {\\n\\t\\t\\t\\tif (f.call(s, o, i, n) === false) {\\n\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\twalk(o, f, n, s);\\n\\t\\t\\t});\\n\\t\\t}\\n\\t}\\n\\n\\t/**\\n\\t * Creates a namespace on a specific object.\\n\\t *\\n\\t * @method createNS\\n\\t * @param {String} n Namespace to create for example a.b.c.d.\\n\\t * @param {Object} o Optional object to add namespace to, defaults to window.\\n\\t * @return {Object} New namespace object the last item in path.\\n\\t * @example\\n\\t * // Create some namespace\\n\\t * tinymce.createNS('tinymce.somepackage.subpackage');\\n\\t *\\n\\t * // Add a singleton\\n\\t * var tinymce.somepackage.subpackage.SomeSingleton = {\\n\\t *     method: function() {\\n\\t *         // Some method\\n\\t *     }\\n\\t * };\\n\\t */\\n\\tfunction createNS(n, o) {\\n\\t\\tvar i, v;\\n\\n\\t\\to = o || window;\\n\\n\\t\\tn = n.split('.');\\n\\t\\tfor (i = 0; i < n.length; i++) {\\n\\t\\t\\tv = n[i];\\n\\n\\t\\t\\tif (!o[v]) {\\n\\t\\t\\t\\to[v] = {};\\n\\t\\t\\t}\\n\\n\\t\\t\\to = o[v];\\n\\t\\t}\\n\\n\\t\\treturn o;\\n\\t}\\n\\n\\t/**\\n\\t * Resolves a string and returns the object from a specific structure.\\n\\t *\\n\\t * @method resolve\\n\\t * @param {String} n Path to resolve for example a.b.c.d.\\n\\t * @param {Object} o Optional object to search though, defaults to window.\\n\\t * @return {Object} Last object in path or null if it couldn't be resolved.\\n\\t * @example\\n\\t * // Resolve a path into an object reference\\n\\t * var obj = tinymce.resolve('a.b.c.d');\\n\\t */\\n\\tfunction resolve(n, o) {\\n\\t\\tvar i, l;\\n\\n\\t\\to = o || window;\\n\\n\\t\\tn = n.split('.');\\n\\t\\tfor (i = 0, l = n.length; i < l; i++) {\\n\\t\\t\\to = o[n[i]];\\n\\n\\t\\t\\tif (!o) {\\n\\t\\t\\t\\tbreak;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\treturn o;\\n\\t}\\n\\n\\t/**\\n\\t * Splits a string but removes the whitespace before and after each value.\\n\\t *\\n\\t * @method explode\\n\\t * @param {string} s String to split.\\n\\t * @param {string} d Delimiter to split by.\\n\\t * @example\\n\\t * // Split a string into an array with a,b,c\\n\\t * var arr = tinymce.explode('a, b,   c');\\n\\t */\\n\\tfunction explode(s, d) {\\n\\t\\tif (!s || is(s, 'array')) {\\n\\t\\t\\treturn s;\\n\\t\\t}\\n\\n\\t\\treturn Arr.map(s.split(d || ','), trim);\\n\\t}\\n\\n\\tfunction _addCacheSuffix(url) {\\n\\t\\tvar cacheSuffix = Env.cacheSuffix;\\n\\n\\t\\tif (cacheSuffix) {\\n\\t\\t\\turl += (url.indexOf('?') === -1 ? '?' : '&') + cacheSuffix;\\n\\t\\t}\\n\\n\\t\\treturn url;\\n\\t}\\n\\n\\treturn {\\n\\t\\ttrim: trim,\\n\\n\\t\\t/**\\n\\t\\t * Returns true/false if the object is an array or not.\\n\\t\\t *\\n\\t\\t * @method isArray\\n\\t\\t * @param {Object} obj Object to check.\\n\\t\\t * @return {boolean} true/false state if the object is an array or not.\\n\\t\\t */\\n\\t\\tisArray: Arr.isArray,\\n\\n\\t\\tis: is,\\n\\n\\t\\t/**\\n\\t\\t * Converts the specified object into a real JavaScript array.\\n\\t\\t *\\n\\t\\t * @method toArray\\n\\t\\t * @param {Object} obj Object to convert into array.\\n\\t\\t * @return {Array} Array object based in input.\\n\\t\\t */\\n\\t\\ttoArray: Arr.toArray,\\n\\t\\tmakeMap: makeMap,\\n\\n\\t\\t/**\\n\\t\\t * Performs an iteration of all items in a collection such as an object or array. This method will execure the\\n\\t\\t * callback function for each item in the collection, if the callback returns false the iteration will terminate.\\n\\t\\t * The callback has the following format: cb(value, key_or_index).\\n\\t\\t *\\n\\t\\t * @method each\\n\\t\\t * @param {Object} o Collection to iterate.\\n\\t\\t * @param {function} cb Callback function to execute for each item.\\n\\t\\t * @param {Object} s Optional scope to execute the callback in.\\n\\t\\t * @example\\n\\t\\t * // Iterate an array\\n\\t\\t * tinymce.each([1,2,3], function(v, i) {\\n\\t\\t *     console.debug(\\\"Value: \\\" + v + \\\", Index: \\\" + i);\\n\\t\\t * });\\n\\t\\t *\\n\\t\\t * // Iterate an object\\n\\t\\t * tinymce.each({a: 1, b: 2, c: 3], function(v, k) {\\n\\t\\t *     console.debug(\\\"Value: \\\" + v + \\\", Key: \\\" + k);\\n\\t\\t * });\\n\\t\\t */\\n\\t\\teach: Arr.each,\\n\\n\\t\\t/**\\n\\t\\t * Creates a new array by the return value of each iteration function call. This enables you to convert\\n\\t\\t * one array list into another.\\n\\t\\t *\\n\\t\\t * @method map\\n\\t\\t * @param {Array} array Array of items to iterate.\\n\\t\\t * @param {function} callback Function to call for each item. It's return value will be the new value.\\n\\t\\t * @return {Array} Array with new values based on function return values.\\n\\t\\t */\\n\\t\\tmap: Arr.map,\\n\\n\\t\\t/**\\n\\t\\t * Filters out items from the input array by calling the specified function for each item.\\n\\t\\t * If the function returns false the item will be excluded if it returns true it will be included.\\n\\t\\t *\\n\\t\\t * @method grep\\n\\t\\t * @param {Array} a Array of items to loop though.\\n\\t\\t * @param {function} f Function to call for each item. Include/exclude depends on it's return value.\\n\\t\\t * @return {Array} New array with values imported and filtered based in input.\\n\\t\\t * @example\\n\\t\\t * // Filter out some items, this will return an array with 4 and 5\\n\\t\\t * var items = tinymce.grep([1,2,3,4,5], function(v) {return v > 3;});\\n\\t\\t */\\n\\t\\tgrep: Arr.filter,\\n\\n\\t\\t/**\\n\\t\\t * Returns an index of the item or -1 if item is not present in the array.\\n\\t\\t *\\n\\t\\t * @method inArray\\n\\t\\t * @param {any} item Item to search for.\\n\\t\\t * @param {Array} arr Array to search in.\\n\\t\\t * @return {Number} index of the item or -1 if item was not found.\\n\\t\\t */\\n\\t\\tinArray: Arr.indexOf,\\n\\n\\t\\thasOwn: hasOwnProperty,\\n\\n\\t\\textend: extend,\\n\\t\\tcreate: create,\\n\\t\\twalk: walk,\\n\\t\\tcreateNS: createNS,\\n\\t\\tresolve: resolve,\\n\\t\\texplode: explode,\\n\\t\\t_addCacheSuffix: _addCacheSuffix\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/dom/DomQuery.js\\n\\n/**\\n * DomQuery.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class mimics most of the jQuery API:\\n *\\n * This is whats currently implemented:\\n * - Utility functions\\n * - DOM traversial\\n * - DOM manipulation\\n * - Event binding\\n *\\n * This is not currently implemented:\\n * - Dimension\\n * - Ajax\\n * - Animation\\n * - Advanced chaining\\n *\\n * @example\\n * var $ = tinymce.dom.DomQuery;\\n * $('p').attr('attr', 'value').addClass('class');\\n *\\n * @class tinymce.dom.DomQuery\\n */\\ndefine(\\\"tinymce/dom/DomQuery\\\", [\\n\\t\\\"tinymce/dom/EventUtils\\\",\\n\\t\\\"tinymce/dom/Sizzle\\\",\\n\\t\\\"tinymce/util/Tools\\\",\\n\\t\\\"tinymce/Env\\\"\\n], function(EventUtils, Sizzle, Tools, Env) {\\n\\tvar doc = document, push = Array.prototype.push, slice = Array.prototype.slice;\\n\\tvar rquickExpr = /^(?:[^#<]*(<[\\\\w\\\\W]+>)[^>]*$|#([\\\\w\\\\-]*)$)/;\\n\\tvar Event = EventUtils.Event, undef;\\n\\tvar skipUniques = Tools.makeMap('children,contents,next,prev');\\n\\n\\tfunction isDefined(obj) {\\n\\t\\treturn typeof obj !== 'undefined';\\n\\t}\\n\\n\\tfunction isString(obj) {\\n\\t\\treturn typeof obj === 'string';\\n\\t}\\n\\n\\tfunction isWindow(obj) {\\n\\t\\treturn obj && obj == obj.window;\\n\\t}\\n\\n\\tfunction createFragment(html, fragDoc) {\\n\\t\\tvar frag, node, container;\\n\\n\\t\\tfragDoc = fragDoc || doc;\\n\\t\\tcontainer = fragDoc.createElement('div');\\n\\t\\tfrag = fragDoc.createDocumentFragment();\\n\\t\\tcontainer.innerHTML = html;\\n\\n\\t\\twhile ((node = container.firstChild)) {\\n\\t\\t\\tfrag.appendChild(node);\\n\\t\\t}\\n\\n\\t\\treturn frag;\\n\\t}\\n\\n\\tfunction domManipulate(targetNodes, sourceItem, callback, reverse) {\\n\\t\\tvar i;\\n\\n\\t\\tif (isString(sourceItem)) {\\n\\t\\t\\tsourceItem = createFragment(sourceItem, getElementDocument(targetNodes[0]));\\n\\t\\t} else if (sourceItem.length && !sourceItem.nodeType) {\\n\\t\\t\\tsourceItem = DomQuery.makeArray(sourceItem);\\n\\n\\t\\t\\tif (reverse) {\\n\\t\\t\\t\\tfor (i = sourceItem.length - 1; i >= 0; i--) {\\n\\t\\t\\t\\t\\tdomManipulate(targetNodes, sourceItem[i], callback, reverse);\\n\\t\\t\\t\\t}\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tfor (i = 0; i < sourceItem.length; i++) {\\n\\t\\t\\t\\t\\tdomManipulate(targetNodes, sourceItem[i], callback, reverse);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn targetNodes;\\n\\t\\t}\\n\\n\\t\\tif (sourceItem.nodeType) {\\n\\t\\t\\ti = targetNodes.length;\\n\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\tcallback.call(targetNodes[i], sourceItem);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\treturn targetNodes;\\n\\t}\\n\\n\\tfunction hasClass(node, className) {\\n\\t\\treturn node && className && (' ' + node.className + ' ').indexOf(' ' + className + ' ') !== -1;\\n\\t}\\n\\n\\tfunction wrap(elements, wrapper, all) {\\n\\t\\tvar lastParent, newWrapper;\\n\\n\\t\\twrapper = DomQuery(wrapper)[0];\\n\\n\\t\\telements.each(function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tif (!all || lastParent != self.parentNode) {\\n\\t\\t\\t\\tlastParent = self.parentNode;\\n\\t\\t\\t\\tnewWrapper = wrapper.cloneNode(false);\\n\\t\\t\\t\\tself.parentNode.insertBefore(newWrapper, self);\\n\\t\\t\\t\\tnewWrapper.appendChild(self);\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tnewWrapper.appendChild(self);\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\treturn elements;\\n\\t}\\n\\n\\tvar numericCssMap = Tools.makeMap('fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom', ' ');\\n\\tvar booleanMap = Tools.makeMap('checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected', ' ');\\n\\tvar propFix = {\\n\\t\\t'for': 'htmlFor',\\n\\t\\t'class': 'className',\\n\\t\\t'readonly': 'readOnly'\\n\\t};\\n\\tvar cssFix = {\\n\\t\\t'float': 'cssFloat'\\n\\t};\\n\\n\\tvar attrHooks = {}, cssHooks = {};\\n\\n\\tfunction DomQuery(selector, context) {\\n\\t\\t/*eslint new-cap:0 */\\n\\t\\treturn new DomQuery.fn.init(selector, context);\\n\\t}\\n\\n\\tfunction inArray(item, array) {\\n\\t\\tvar i;\\n\\n\\t\\tif (array.indexOf) {\\n\\t\\t\\treturn array.indexOf(item);\\n\\t\\t}\\n\\n\\t\\ti = array.length;\\n\\t\\twhile (i--) {\\n\\t\\t\\tif (array[i] === item) {\\n\\t\\t\\t\\treturn i;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\treturn -1;\\n\\t}\\n\\n\\tvar whiteSpaceRegExp = /^\\\\s*|\\\\s*$/g;\\n\\n\\tfunction trim(str) {\\n\\t\\treturn (str === null || str === undef) ? '' : (\\\"\\\" + str).replace(whiteSpaceRegExp, '');\\n\\t}\\n\\n\\tfunction each(obj, callback) {\\n\\t\\tvar length, key, i, undef, value;\\n\\n\\t\\tif (obj) {\\n\\t\\t\\tlength = obj.length;\\n\\n\\t\\t\\tif (length === undef) {\\n\\t\\t\\t\\t// Loop object items\\n\\t\\t\\t\\tfor (key in obj) {\\n\\t\\t\\t\\t\\tif (obj.hasOwnProperty(key)) {\\n\\t\\t\\t\\t\\t\\tvalue = obj[key];\\n\\t\\t\\t\\t\\t\\tif (callback.call(value, key, value) === false) {\\n\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t} else {\\n\\t\\t\\t\\t// Loop array items\\n\\t\\t\\t\\tfor (i = 0; i < length; i++) {\\n\\t\\t\\t\\t\\tvalue = obj[i];\\n\\t\\t\\t\\t\\tif (callback.call(value, i, value) === false) {\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\treturn obj;\\n\\t}\\n\\n\\tfunction grep(array, callback) {\\n\\t\\tvar out = [];\\n\\n\\t\\teach(array, function(i, item) {\\n\\t\\t\\tif (callback(item, i)) {\\n\\t\\t\\t\\tout.push(item);\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\treturn out;\\n\\t}\\n\\n\\tfunction getElementDocument(element) {\\n\\t\\tif (!element) {\\n\\t\\t\\treturn doc;\\n\\t\\t}\\n\\n\\t\\tif (element.nodeType == 9) {\\n\\t\\t\\treturn element;\\n\\t\\t}\\n\\n\\t\\treturn element.ownerDocument;\\n\\t}\\n\\n\\tDomQuery.fn = DomQuery.prototype = {\\n\\t\\tconstructor: DomQuery,\\n\\n\\t\\t/**\\n\\t\\t * Selector for the current set.\\n\\t\\t *\\n\\t\\t * @property selector\\n\\t\\t * @type String\\n\\t\\t */\\n\\t\\tselector: \\\"\\\",\\n\\n\\t\\t/**\\n\\t\\t * Context used to create the set.\\n\\t\\t *\\n\\t\\t * @property context\\n\\t\\t * @type Element\\n\\t\\t */\\n\\t\\tcontext: null,\\n\\n\\t\\t/**\\n\\t\\t * Number of items in the current set.\\n\\t\\t *\\n\\t\\t * @property length\\n\\t\\t * @type Number\\n\\t\\t */\\n\\t\\tlength: 0,\\n\\n\\t\\t/**\\n\\t\\t * Constructs a new DomQuery instance with the specified selector or context.\\n\\t\\t *\\n\\t\\t * @constructor\\n\\t\\t * @method init\\n\\t\\t * @param {String/Array/DomQuery} selector Optional CSS selector/Array or array like object or HTML string.\\n\\t\\t * @param {Document/Element} context Optional context to search in.\\n\\t\\t */\\n\\t\\tinit: function(selector, context) {\\n\\t\\t\\tvar self = this, match, node;\\n\\n\\t\\t\\tif (!selector) {\\n\\t\\t\\t\\treturn self;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (selector.nodeType) {\\n\\t\\t\\t\\tself.context = self[0] = selector;\\n\\t\\t\\t\\tself.length = 1;\\n\\n\\t\\t\\t\\treturn self;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (context && context.nodeType) {\\n\\t\\t\\t\\tself.context = context;\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tif (context) {\\n\\t\\t\\t\\t\\treturn DomQuery(selector).attr(context);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tself.context = context = document;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (isString(selector)) {\\n\\t\\t\\t\\tself.selector = selector;\\n\\n\\t\\t\\t\\tif (selector.charAt(0) === \\\"<\\\" && selector.charAt(selector.length - 1) === \\\">\\\" && selector.length >= 3) {\\n\\t\\t\\t\\t\\tmatch = [null, selector, null];\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tmatch = rquickExpr.exec(selector);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (match) {\\n\\t\\t\\t\\t\\tif (match[1]) {\\n\\t\\t\\t\\t\\t\\tnode = createFragment(selector, getElementDocument(context)).firstChild;\\n\\n\\t\\t\\t\\t\\t\\twhile (node) {\\n\\t\\t\\t\\t\\t\\t\\tpush.call(self, node);\\n\\t\\t\\t\\t\\t\\t\\tnode = node.nextSibling;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tnode = getElementDocument(context).getElementById(match[2]);\\n\\n\\t\\t\\t\\t\\t\\tif (!node) {\\n\\t\\t\\t\\t\\t\\t\\treturn self;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tif (node.id !== match[2]) {\\n\\t\\t\\t\\t\\t\\t\\treturn self.find(selector);\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tself.length = 1;\\n\\t\\t\\t\\t\\t\\tself[0] = node;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\treturn DomQuery(context).find(selector);\\n\\t\\t\\t\\t}\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tthis.add(selector, false);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn self;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Converts the current set to an array.\\n\\t\\t *\\n\\t\\t * @method toArray\\n\\t\\t * @return {Array} Array of all nodes in set.\\n\\t\\t */\\n\\t\\ttoArray: function() {\\n\\t\\t\\treturn Tools.toArray(this);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Adds new nodes to the set.\\n\\t\\t *\\n\\t\\t * @method add\\n\\t\\t * @param {Array/tinymce.dom.DomQuery} items Array of all nodes to add to set.\\n\\t\\t * @param {Boolean} sort Optional sort flag that enables sorting of elements.\\n\\t\\t * @return {tinymce.dom.DomQuery} New instance with nodes added.\\n\\t\\t */\\n\\t\\tadd: function(items, sort) {\\n\\t\\t\\tvar self = this, nodes, i;\\n\\n\\t\\t\\tif (isString(items)) {\\n\\t\\t\\t\\treturn self.add(DomQuery(items));\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (sort !== false) {\\n\\t\\t\\t\\tnodes = DomQuery.unique(self.toArray().concat(DomQuery.makeArray(items)));\\n\\t\\t\\t\\tself.length = nodes.length;\\n\\t\\t\\t\\tfor (i = 0; i < nodes.length; i++) {\\n\\t\\t\\t\\t\\tself[i] = nodes[i];\\n\\t\\t\\t\\t}\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tpush.apply(self, DomQuery.makeArray(items));\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn self;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Sets/gets attributes on the elements in the current set.\\n\\t\\t *\\n\\t\\t * @method attr\\n\\t\\t * @param {String/Object} name Name of attribute to get or an object with attributes to set.\\n\\t\\t * @param {String} value Optional value to set.\\n\\t\\t * @return {tinymce.dom.DomQuery/String} Current set or the specified attribute when only the name is specified.\\n\\t\\t */\\n\\t\\tattr: function(name, value) {\\n\\t\\t\\tvar self = this, hook;\\n\\n\\t\\t\\tif (typeof name === \\\"object\\\") {\\n\\t\\t\\t\\teach(name, function(name, value) {\\n\\t\\t\\t\\t\\tself.attr(name, value);\\n\\t\\t\\t\\t});\\n\\t\\t\\t} else if (isDefined(value)) {\\n\\t\\t\\t\\tthis.each(function() {\\n\\t\\t\\t\\t\\tvar hook;\\n\\n\\t\\t\\t\\t\\tif (this.nodeType === 1) {\\n\\t\\t\\t\\t\\t\\thook = attrHooks[name];\\n\\t\\t\\t\\t\\t\\tif (hook && hook.set) {\\n\\t\\t\\t\\t\\t\\t\\thook.set(this, value);\\n\\t\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tif (value === null) {\\n\\t\\t\\t\\t\\t\\t\\tthis.removeAttribute(name, 2);\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\tthis.setAttribute(name, value, 2);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tif (self[0] && self[0].nodeType === 1) {\\n\\t\\t\\t\\t\\thook = attrHooks[name];\\n\\t\\t\\t\\t\\tif (hook && hook.get) {\\n\\t\\t\\t\\t\\t\\treturn hook.get(self[0], name);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (booleanMap[name]) {\\n\\t\\t\\t\\t\\t\\treturn self.prop(name) ? name : undef;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tvalue = self[0].getAttribute(name, 2);\\n\\n\\t\\t\\t\\t\\tif (value === null) {\\n\\t\\t\\t\\t\\t\\tvalue = undef;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn value;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn self;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Removes attributse on the elements in the current set.\\n\\t\\t *\\n\\t\\t * @method removeAttr\\n\\t\\t * @param {String/Object} name Name of attribute to remove.\\n\\t\\t * @return {tinymce.dom.DomQuery/String} Current set.\\n\\t\\t */\\n\\t\\tremoveAttr: function(name) {\\n\\t\\t\\treturn this.attr(name, null);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Sets/gets properties on the elements in the current set.\\n\\t\\t *\\n\\t\\t * @method attr\\n\\t\\t * @param {String/Object} name Name of property to get or an object with properties to set.\\n\\t\\t * @param {String} value Optional value to set.\\n\\t\\t * @return {tinymce.dom.DomQuery/String} Current set or the specified property when only the name is specified.\\n\\t\\t */\\n\\t\\tprop: function(name, value) {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tname = propFix[name] || name;\\n\\n\\t\\t\\tif (typeof name === \\\"object\\\") {\\n\\t\\t\\t\\teach(name, function(name, value) {\\n\\t\\t\\t\\t\\tself.prop(name, value);\\n\\t\\t\\t\\t});\\n\\t\\t\\t} else if (isDefined(value)) {\\n\\t\\t\\t\\tthis.each(function() {\\n\\t\\t\\t\\t\\tif (this.nodeType == 1) {\\n\\t\\t\\t\\t\\t\\tthis[name] = value;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tif (self[0] && self[0].nodeType && name in self[0]) {\\n\\t\\t\\t\\t\\treturn self[0][name];\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn value;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn self;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Sets/gets styles on the elements in the current set.\\n\\t\\t *\\n\\t\\t * @method css\\n\\t\\t * @param {String/Object} name Name of style to get or an object with styles to set.\\n\\t\\t * @param {String} value Optional value to set.\\n\\t\\t * @return {tinymce.dom.DomQuery/String} Current set or the specified style when only the name is specified.\\n\\t\\t */\\n\\t\\tcss: function(name, value) {\\n\\t\\t\\tvar self = this, elm, hook;\\n\\n\\t\\t\\tfunction camel(name) {\\n\\t\\t\\t\\treturn name.replace(/-(\\\\D)/g, function(a, b) {\\n\\t\\t\\t\\t\\treturn b.toUpperCase();\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction dashed(name) {\\n\\t\\t\\t\\treturn name.replace(/[A-Z]/g, function(a) {\\n\\t\\t\\t\\t\\treturn '-' + a;\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (typeof name === \\\"object\\\") {\\n\\t\\t\\t\\teach(name, function(name, value) {\\n\\t\\t\\t\\t\\tself.css(name, value);\\n\\t\\t\\t\\t});\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tif (isDefined(value)) {\\n\\t\\t\\t\\t\\tname = camel(name);\\n\\n\\t\\t\\t\\t\\t// Default px suffix on these\\n\\t\\t\\t\\t\\tif (typeof value === 'number' && !numericCssMap[name]) {\\n\\t\\t\\t\\t\\t\\tvalue += 'px';\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tself.each(function() {\\n\\t\\t\\t\\t\\t\\tvar style = this.style;\\n\\n\\t\\t\\t\\t\\t\\thook = cssHooks[name];\\n\\t\\t\\t\\t\\t\\tif (hook && hook.set) {\\n\\t\\t\\t\\t\\t\\t\\thook.set(this, value);\\n\\t\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\ttry {\\n\\t\\t\\t\\t\\t\\t\\tthis.style[cssFix[name] || name] = value;\\n\\t\\t\\t\\t\\t\\t} catch (ex) {\\n\\t\\t\\t\\t\\t\\t\\t// Ignore\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tif (value === null || value === '') {\\n\\t\\t\\t\\t\\t\\t\\tif (style.removeProperty) {\\n\\t\\t\\t\\t\\t\\t\\t\\tstyle.removeProperty(dashed(name));\\n\\t\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\t\\tstyle.removeAttribute(name);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\telm = self[0];\\n\\n\\t\\t\\t\\t\\thook = cssHooks[name];\\n\\t\\t\\t\\t\\tif (hook && hook.get) {\\n\\t\\t\\t\\t\\t\\treturn hook.get(elm);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (elm.ownerDocument.defaultView) {\\n\\t\\t\\t\\t\\t\\ttry {\\n\\t\\t\\t\\t\\t\\t\\treturn elm.ownerDocument.defaultView.getComputedStyle(elm, null).getPropertyValue(dashed(name));\\n\\t\\t\\t\\t\\t\\t} catch (ex) {\\n\\t\\t\\t\\t\\t\\t\\treturn undef;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t} else if (elm.currentStyle) {\\n\\t\\t\\t\\t\\t\\treturn elm.currentStyle[camel(name)];\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn self;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Removes all nodes in set from the document.\\n\\t\\t *\\n\\t\\t * @method remove\\n\\t\\t * @return {tinymce.dom.DomQuery} Current set with the removed nodes.\\n\\t\\t */\\n\\t\\tremove: function() {\\n\\t\\t\\tvar self = this, node, i = this.length;\\n\\n\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\tnode = self[i];\\n\\t\\t\\t\\tEvent.clean(node);\\n\\n\\t\\t\\t\\tif (node.parentNode) {\\n\\t\\t\\t\\t\\tnode.parentNode.removeChild(node);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn this;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Empties all elements in set.\\n\\t\\t *\\n\\t\\t * @method empty\\n\\t\\t * @return {tinymce.dom.DomQuery} Current set with the empty nodes.\\n\\t\\t */\\n\\t\\tempty: function() {\\n\\t\\t\\tvar self = this, node, i = this.length;\\n\\n\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\tnode = self[i];\\n\\t\\t\\t\\twhile (node.firstChild) {\\n\\t\\t\\t\\t\\tnode.removeChild(node.firstChild);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn this;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Sets or gets the HTML of the current set or first set node.\\n\\t\\t *\\n\\t\\t * @method html\\n\\t\\t * @param {String} value Optional innerHTML value to set on each element.\\n\\t\\t * @return {tinymce.dom.DomQuery/String} Current set or the innerHTML of the first element.\\n\\t\\t */\\n\\t\\thtml: function(value) {\\n\\t\\t\\tvar self = this, i;\\n\\n\\t\\t\\tif (isDefined(value)) {\\n\\t\\t\\t\\ti = self.length;\\n\\n\\t\\t\\t\\ttry {\\n\\t\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\t\\tself[i].innerHTML = value;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} catch (ex) {\\n\\t\\t\\t\\t\\t// Workaround for \\\"Unknown runtime error\\\" when DIV is added to P on IE\\n\\t\\t\\t\\t\\tDomQuery(self[i]).empty().append(value);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn self;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn self[0] ? self[0].innerHTML : '';\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Sets or gets the text of the current set or first set node.\\n\\t\\t *\\n\\t\\t * @method text\\n\\t\\t * @param {String} value Optional innerText value to set on each element.\\n\\t\\t * @return {tinymce.dom.DomQuery/String} Current set or the innerText of the first element.\\n\\t\\t */\\n\\t\\ttext: function(value) {\\n\\t\\t\\tvar self = this, i;\\n\\n\\t\\t\\tif (isDefined(value)) {\\n\\t\\t\\t\\ti = self.length;\\n\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\tif (\\\"innerText\\\" in self[i]) {\\n\\t\\t\\t\\t\\t\\tself[i].innerText = value;\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tself[0].textContent = value;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn self;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn self[0] ? (self[0].innerText || self[0].textContent) : '';\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Appends the specified node/html or node set to the current set nodes.\\n\\t\\t *\\n\\t\\t * @method append\\n\\t\\t * @param {String/Element/Array/tinymce.dom.DomQuery} content Content to append to each element in set.\\n\\t\\t * @return {tinymce.dom.DomQuery} Current set.\\n\\t\\t */\\n\\t\\tappend: function() {\\n\\t\\t\\treturn domManipulate(this, arguments, function(node) {\\n\\t\\t\\t\\t// Either element or Shadow Root\\n\\t\\t\\t\\tif (this.nodeType === 1 || (this.host && this.host.nodeType === 1)) {\\n\\t\\t\\t\\t\\tthis.appendChild(node);\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Prepends the specified node/html or node set to the current set nodes.\\n\\t\\t *\\n\\t\\t * @method prepend\\n\\t\\t * @param {String/Element/Array/tinymce.dom.DomQuery} content Content to prepend to each element in set.\\n\\t\\t * @return {tinymce.dom.DomQuery} Current set.\\n\\t\\t */\\n\\t\\tprepend: function() {\\n\\t\\t\\treturn domManipulate(this, arguments, function(node) {\\n\\t\\t\\t\\t// Either element or Shadow Root\\n\\t\\t\\t\\tif (this.nodeType === 1 || (this.host && this.host.nodeType === 1)) {\\n\\t\\t\\t\\t\\tthis.insertBefore(node, this.firstChild);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}, true);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Adds the specified elements before current set nodes.\\n\\t\\t *\\n\\t\\t * @method before\\n\\t\\t * @param {String/Element/Array/tinymce.dom.DomQuery} content Content to add before to each element in set.\\n\\t\\t * @return {tinymce.dom.DomQuery} Current set.\\n\\t\\t */\\n\\t\\tbefore: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tif (self[0] && self[0].parentNode) {\\n\\t\\t\\t\\treturn domManipulate(self, arguments, function(node) {\\n\\t\\t\\t\\t\\tthis.parentNode.insertBefore(node, this);\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn self;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Adds the specified elements after current set nodes.\\n\\t\\t *\\n\\t\\t * @method after\\n\\t\\t * @param {String/Element/Array/tinymce.dom.DomQuery} content Content to add after to each element in set.\\n\\t\\t * @return {tinymce.dom.DomQuery} Current set.\\n\\t\\t */\\n\\t\\tafter: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tif (self[0] && self[0].parentNode) {\\n\\t\\t\\t\\treturn domManipulate(self, arguments, function(node) {\\n\\t\\t\\t\\t\\tthis.parentNode.insertBefore(node, this.nextSibling);\\n\\t\\t\\t\\t}, true);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn self;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Appends the specified set nodes to the specified selector/instance.\\n\\t\\t *\\n\\t\\t * @method appendTo\\n\\t\\t * @param {String/Element/Array/tinymce.dom.DomQuery} val Item to append the current set to.\\n\\t\\t * @return {tinymce.dom.DomQuery} Current set with the appended nodes.\\n\\t\\t */\\n\\t\\tappendTo: function(val) {\\n\\t\\t\\tDomQuery(val).append(this);\\n\\n\\t\\t\\treturn this;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Prepends the specified set nodes to the specified selector/instance.\\n\\t\\t *\\n\\t\\t * @method prependTo\\n\\t\\t * @param {String/Element/Array/tinymce.dom.DomQuery} val Item to prepend the current set to.\\n\\t\\t * @return {tinymce.dom.DomQuery} Current set with the prepended nodes.\\n\\t\\t */\\n\\t\\tprependTo: function(val) {\\n\\t\\t\\tDomQuery(val).prepend(this);\\n\\n\\t\\t\\treturn this;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Replaces the nodes in set with the specified content.\\n\\t\\t *\\n\\t\\t * @method replaceWith\\n\\t\\t * @param {String/Element/Array/tinymce.dom.DomQuery} content Content to replace nodes with.\\n\\t\\t * @return {tinymce.dom.DomQuery} Set with replaced nodes.\\n\\t\\t */\\n\\t\\treplaceWith: function(content) {\\n\\t\\t\\treturn this.before(content).remove();\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Wraps all elements in set with the specified wrapper.\\n\\t\\t *\\n\\t\\t * @method wrap\\n\\t\\t * @param {String/Element/Array/tinymce.dom.DomQuery} content Content to wrap nodes with.\\n\\t\\t * @return {tinymce.dom.DomQuery} Set with wrapped nodes.\\n\\t\\t */\\n\\t\\twrap: function(content) {\\n\\t\\t\\treturn wrap(this, content);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Wraps all nodes in set with the specified wrapper. If the nodes are siblings all of them\\n\\t\\t * will be wrapped in the same wrapper.\\n\\t\\t *\\n\\t\\t * @method wrapAll\\n\\t\\t * @param {String/Element/Array/tinymce.dom.DomQuery} content Content to wrap nodes with.\\n\\t\\t * @return {tinymce.dom.DomQuery} Set with wrapped nodes.\\n\\t\\t */\\n\\t\\twrapAll: function(content) {\\n\\t\\t\\treturn wrap(this, content, true);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Wraps all elements inner contents in set with the specified wrapper.\\n\\t\\t *\\n\\t\\t * @method wrapInner\\n\\t\\t * @param {String/Element/Array/tinymce.dom.DomQuery} content Content to wrap nodes with.\\n\\t\\t * @return {tinymce.dom.DomQuery} Set with wrapped nodes.\\n\\t\\t */\\n\\t\\twrapInner: function(content) {\\n\\t\\t\\tthis.each(function() {\\n\\t\\t\\t\\tDomQuery(this).contents().wrapAll(content);\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn this;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Unwraps all elements by removing the parent element of each item in set.\\n\\t\\t *\\n\\t\\t * @method unwrap\\n\\t\\t * @return {tinymce.dom.DomQuery} Set with unwrapped nodes.\\n\\t\\t */\\n\\t\\tunwrap: function() {\\n\\t\\t\\treturn this.parent().each(function() {\\n\\t\\t\\t\\tDomQuery(this).replaceWith(this.childNodes);\\n\\t\\t\\t});\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Clones all nodes in set.\\n\\t\\t *\\n\\t\\t * @method clone\\n\\t\\t * @return {tinymce.dom.DomQuery} Set with cloned nodes.\\n\\t\\t */\\n\\t\\tclone: function() {\\n\\t\\t\\tvar result = [];\\n\\n\\t\\t\\tthis.each(function() {\\n\\t\\t\\t\\tresult.push(this.cloneNode(true));\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn DomQuery(result);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Adds the specified class name to the current set elements.\\n\\t\\t *\\n\\t\\t * @method addClass\\n\\t\\t * @param {String} className Class name to add.\\n\\t\\t * @return {tinymce.dom.DomQuery} Current set.\\n\\t\\t */\\n\\t\\taddClass: function(className) {\\n\\t\\t\\treturn this.toggleClass(className, true);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Removes the specified class name to the current set elements.\\n\\t\\t *\\n\\t\\t * @method removeClass\\n\\t\\t * @param {String} className Class name to remove.\\n\\t\\t * @return {tinymce.dom.DomQuery} Current set.\\n\\t\\t */\\n\\t\\tremoveClass: function(className) {\\n\\t\\t\\treturn this.toggleClass(className, false);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Toggles the specified class name on the current set elements.\\n\\t\\t *\\n\\t\\t * @method toggleClass\\n\\t\\t * @param {String} className Class name to add/remove.\\n\\t\\t * @param {Boolean} state Optional state to toggle on/off.\\n\\t\\t * @return {tinymce.dom.DomQuery} Current set.\\n\\t\\t */\\n\\t\\ttoggleClass: function(className, state) {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\t// Functions are not supported\\n\\t\\t\\tif (typeof className != 'string') {\\n\\t\\t\\t\\treturn self;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (className.indexOf(' ') !== -1) {\\n\\t\\t\\t\\teach(className.split(' '), function() {\\n\\t\\t\\t\\t\\tself.toggleClass(this, state);\\n\\t\\t\\t\\t});\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tself.each(function(index, node) {\\n\\t\\t\\t\\t\\tvar existingClassName, classState;\\n\\n\\t\\t\\t\\t\\tclassState = hasClass(node, className);\\n\\t\\t\\t\\t\\tif (classState !== state) {\\n\\t\\t\\t\\t\\t\\texistingClassName = node.className;\\n\\n\\t\\t\\t\\t\\t\\tif (classState) {\\n\\t\\t\\t\\t\\t\\t\\tnode.className = trim((\\\" \\\" + existingClassName + \\\" \\\").replace(' ' + className + ' ', ' '));\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\tnode.className += existingClassName ? ' ' + className : className;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn self;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns true/false if the first item in set has the specified class.\\n\\t\\t *\\n\\t\\t * @method hasClass\\n\\t\\t * @param {String} className Class name to check for.\\n\\t\\t * @return {Boolean} True/false if the set has the specified class.\\n\\t\\t */\\n\\t\\thasClass: function(className) {\\n\\t\\t\\treturn hasClass(this[0], className);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Executes the callback function for each item DomQuery collection. If you return false in the\\n\\t\\t * callback it will break the loop.\\n\\t\\t *\\n\\t\\t * @method each\\n\\t\\t * @param {function} callback Callback function to execute for each item.\\n\\t\\t * @return {tinymce.dom.DomQuery} Current set.\\n\\t\\t */\\n\\t\\teach: function(callback) {\\n\\t\\t\\treturn each(this, callback);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Binds an event with callback function to the elements in set.\\n\\t\\t *\\n\\t\\t * @method on\\n\\t\\t * @param {String} name Name of the event to bind.\\n\\t\\t * @param {function} callback Callback function to execute when the event occurs.\\n\\t\\t * @return {tinymce.dom.DomQuery} Current set.\\n\\t\\t */\\n\\t\\ton: function(name, callback) {\\n\\t\\t\\treturn this.each(function() {\\n\\t\\t\\t\\tEvent.bind(this, name, callback);\\n\\t\\t\\t});\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Unbinds an event with callback function to the elements in set.\\n\\t\\t *\\n\\t\\t * @method off\\n\\t\\t * @param {String} name Optional name of the event to bind.\\n\\t\\t * @param {function} callback Optional callback function to execute when the event occurs.\\n\\t\\t * @return {tinymce.dom.DomQuery} Current set.\\n\\t\\t */\\n\\t\\toff: function(name, callback) {\\n\\t\\t\\treturn this.each(function() {\\n\\t\\t\\t\\tEvent.unbind(this, name, callback);\\n\\t\\t\\t});\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Triggers the specified event by name or event object.\\n\\t\\t *\\n\\t\\t * @method trigger\\n\\t\\t * @param {String/Object} name Name of the event to trigger or event object.\\n\\t\\t * @return {tinymce.dom.DomQuery} Current set.\\n\\t\\t */\\n\\t\\ttrigger: function(name) {\\n\\t\\t\\treturn this.each(function() {\\n\\t\\t\\t\\tif (typeof name == 'object') {\\n\\t\\t\\t\\t\\tEvent.fire(this, name.type, name);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tEvent.fire(this, name);\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Shows all elements in set.\\n\\t\\t *\\n\\t\\t * @method show\\n\\t\\t * @return {tinymce.dom.DomQuery} Current set.\\n\\t\\t */\\n\\t\\tshow: function() {\\n\\t\\t\\treturn this.css('display', '');\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Hides all elements in set.\\n\\t\\t *\\n\\t\\t * @method hide\\n\\t\\t * @return {tinymce.dom.DomQuery} Current set.\\n\\t\\t */\\n\\t\\thide: function() {\\n\\t\\t\\treturn this.css('display', 'none');\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Slices the current set.\\n\\t\\t *\\n\\t\\t * @method slice\\n\\t\\t * @param {Number} start Start index to slice at.\\n\\t\\t * @param {Number} end Optional end index to end slice at.\\n\\t\\t * @return {tinymce.dom.DomQuery} Sliced set.\\n\\t\\t */\\n\\t\\tslice: function() {\\n\\t\\t\\treturn new DomQuery(slice.apply(this, arguments));\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Makes the set equal to the specified index.\\n\\t\\t *\\n\\t\\t * @method eq\\n\\t\\t * @param {Number} index Index to set it equal to.\\n\\t\\t * @return {tinymce.dom.DomQuery} Single item set.\\n\\t\\t */\\n\\t\\teq: function(index) {\\n\\t\\t\\treturn index === -1 ? this.slice(index) : this.slice(index, +index + 1);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Makes the set equal to first element in set.\\n\\t\\t *\\n\\t\\t * @method first\\n\\t\\t * @return {tinymce.dom.DomQuery} Single item set.\\n\\t\\t */\\n\\t\\tfirst: function() {\\n\\t\\t\\treturn this.eq(0);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Makes the set equal to last element in set.\\n\\t\\t *\\n\\t\\t * @method last\\n\\t\\t * @return {tinymce.dom.DomQuery} Single item set.\\n\\t\\t */\\n\\t\\tlast: function() {\\n\\t\\t\\treturn this.eq(-1);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Finds elements by the specified selector for each element in set.\\n\\t\\t *\\n\\t\\t * @method find\\n\\t\\t * @param {String} selector Selector to find elements by.\\n\\t\\t * @return {tinymce.dom.DomQuery} Set with matches elements.\\n\\t\\t */\\n\\t\\tfind: function(selector) {\\n\\t\\t\\tvar i, l, ret = [];\\n\\n\\t\\t\\tfor (i = 0, l = this.length; i < l; i++) {\\n\\t\\t\\t\\tDomQuery.find(selector, this[i], ret);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn DomQuery(ret);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Filters the current set with the specified selector.\\n\\t\\t *\\n\\t\\t * @method filter\\n\\t\\t * @param {String/function} selector Selector to filter elements by.\\n\\t\\t * @return {tinymce.dom.DomQuery} Set with filtered elements.\\n\\t\\t */\\n\\t\\tfilter: function(selector) {\\n\\t\\t\\tif (typeof selector == 'function') {\\n\\t\\t\\t\\treturn DomQuery(grep(this.toArray(), function(item, i) {\\n\\t\\t\\t\\t\\treturn selector(i, item);\\n\\t\\t\\t\\t}));\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn DomQuery(DomQuery.filter(selector, this.toArray()));\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Gets the current node or any parent matching the specified selector.\\n\\t\\t *\\n\\t\\t * @method closest\\n\\t\\t * @param {String/Element/tinymce.dom.DomQuery} selector Selector or element to find.\\n\\t\\t * @return {tinymce.dom.DomQuery} Set with closest elements.\\n\\t\\t */\\n\\t\\tclosest: function(selector) {\\n\\t\\t\\tvar result = [];\\n\\n\\t\\t\\tif (selector instanceof DomQuery) {\\n\\t\\t\\t\\tselector = selector[0];\\n\\t\\t\\t}\\n\\n\\t\\t\\tthis.each(function(i, node) {\\n\\t\\t\\t\\twhile (node) {\\n\\t\\t\\t\\t\\tif (typeof selector == 'string' && DomQuery(node).is(selector)) {\\n\\t\\t\\t\\t\\t\\tresult.push(node);\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t} else if (node == selector) {\\n\\t\\t\\t\\t\\t\\tresult.push(node);\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tnode = node.parentNode;\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn DomQuery(result);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns the offset of the first element in set or sets the top/left css properties of all elements in set.\\n\\t\\t *\\n\\t\\t * @method offset\\n\\t\\t * @param {Object} offset Optional offset object to set on each item.\\n\\t\\t * @return {Object/tinymce.dom.DomQuery} Returns the first element offset or the current set if you specified an offset.\\n\\t\\t */\\n\\t\\toffset: function(offset) {\\n\\t\\t\\tvar elm, doc, docElm;\\n\\t\\t\\tvar x = 0, y = 0, pos;\\n\\n\\t\\t\\tif (!offset) {\\n\\t\\t\\t\\telm = this[0];\\n\\n\\t\\t\\t\\tif (elm) {\\n\\t\\t\\t\\t\\tdoc = elm.ownerDocument;\\n\\t\\t\\t\\t\\tdocElm = doc.documentElement;\\n\\n\\t\\t\\t\\t\\tif (elm.getBoundingClientRect) {\\n\\t\\t\\t\\t\\t\\tpos = elm.getBoundingClientRect();\\n\\t\\t\\t\\t\\t\\tx = pos.left + (docElm.scrollLeft || doc.body.scrollLeft) - docElm.clientLeft;\\n\\t\\t\\t\\t\\t\\ty = pos.top + (docElm.scrollTop || doc.body.scrollTop) - docElm.clientTop;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn {\\n\\t\\t\\t\\t\\tleft: x,\\n\\t\\t\\t\\t\\ttop: y\\n\\t\\t\\t\\t};\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn this.css(offset);\\n\\t\\t},\\n\\n\\t\\tpush: push,\\n\\t\\tsort: [].sort,\\n\\t\\tsplice: [].splice\\n\\t};\\n\\n\\t// Static members\\n\\tTools.extend(DomQuery, {\\n\\t\\t/**\\n\\t\\t * Extends the specified object with one or more objects.\\n\\t\\t *\\n\\t\\t * @static\\n\\t\\t * @method extend\\n\\t\\t * @param {Object} target Target object to extend with new items.\\n\\t\\t * @param {Object..} object Object to extend the target with.\\n\\t\\t * @return {Object} Extended input object.\\n\\t\\t */\\n\\t\\textend: Tools.extend,\\n\\n\\t\\t/**\\n\\t\\t * Creates an array out of an array like object.\\n\\t\\t *\\n\\t\\t * @static\\n\\t\\t * @method makeArray\\n\\t\\t * @param {Object} object Object to convert to array.\\n\\t\\t * @return {Array} Array produced from object.\\n\\t\\t */\\n\\t\\tmakeArray: function(object) {\\n\\t\\t\\tif (isWindow(object) || object.nodeType) {\\n\\t\\t\\t\\treturn [object];\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn Tools.toArray(object);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns the index of the specified item inside the array.\\n\\t\\t *\\n\\t\\t * @static\\n\\t\\t * @method inArray\\n\\t\\t * @param {Object} item Item to look for.\\n\\t\\t * @param {Array} array Array to look for item in.\\n\\t\\t * @return {Number} Index of the item or -1.\\n\\t\\t */\\n\\t\\tinArray: inArray,\\n\\n\\t\\t/**\\n\\t\\t * Returns true/false if the specified object is an array or not.\\n\\t\\t *\\n\\t\\t * @static\\n\\t\\t * @method isArray\\n\\t\\t * @param {Object} array Object to check if it's an array or not.\\n\\t\\t * @return {Boolean} True/false if the object is an array.\\n\\t\\t */\\n\\t\\tisArray: Tools.isArray,\\n\\n\\t\\t/**\\n\\t\\t * Executes the callback function for each item in array/object. If you return false in the\\n\\t\\t * callback it will break the loop.\\n\\t\\t *\\n\\t\\t * @static\\n\\t\\t * @method each\\n\\t\\t * @param {Object} obj Object to iterate.\\n\\t\\t * @param {function} callback Callback function to execute for each item.\\n\\t\\t */\\n\\t\\teach: each,\\n\\n\\t\\t/**\\n\\t\\t * Removes whitespace from the beginning and end of a string.\\n\\t\\t *\\n\\t\\t * @static\\n\\t\\t * @method trim\\n\\t\\t * @param {String} str String to remove whitespace from.\\n\\t\\t * @return {String} New string with removed whitespace.\\n\\t\\t */\\n\\t\\ttrim: trim,\\n\\n\\t\\t/**\\n\\t\\t * Filters out items from the input array by calling the specified function for each item.\\n\\t\\t * If the function returns false the item will be excluded if it returns true it will be included.\\n\\t\\t *\\n\\t\\t * @static\\n\\t\\t * @method grep\\n\\t\\t * @param {Array} array Array of items to loop though.\\n\\t\\t * @param {function} callback Function to call for each item. Include/exclude depends on it's return value.\\n\\t\\t * @return {Array} New array with values imported and filtered based in input.\\n\\t\\t * @example\\n\\t\\t * // Filter out some items, this will return an array with 4 and 5\\n\\t\\t * var items = DomQuery.grep([1, 2, 3, 4, 5], function(v) {return v > 3;});\\n\\t\\t */\\n\\t\\tgrep: grep,\\n\\n\\t\\t// Sizzle\\n\\t\\tfind: Sizzle,\\n\\t\\texpr: Sizzle.selectors,\\n\\t\\tunique: Sizzle.uniqueSort,\\n\\t\\ttext: Sizzle.getText,\\n\\t\\tcontains: Sizzle.contains,\\n\\t\\tfilter: function(expr, elems, not) {\\n\\t\\t\\tvar i = elems.length;\\n\\n\\t\\t\\tif (not) {\\n\\t\\t\\t\\texpr = \\\":not(\\\" + expr + \\\")\\\";\\n\\t\\t\\t}\\n\\n\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\tif (elems[i].nodeType != 1) {\\n\\t\\t\\t\\t\\telems.splice(i, 1);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (elems.length === 1) {\\n\\t\\t\\t\\telems = DomQuery.find.matchesSelector(elems[0], expr) ? [elems[0]] : [];\\n\\t\\t\\t} else {\\n\\t\\t\\t\\telems = DomQuery.find.matches(expr, elems);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn elems;\\n\\t\\t}\\n\\t});\\n\\n\\tfunction dir(el, prop, until) {\\n\\t\\tvar matched = [], cur = el[prop];\\n\\n\\t\\tif (typeof until != 'string' && until instanceof DomQuery) {\\n\\t\\t\\tuntil = until[0];\\n\\t\\t}\\n\\n\\t\\twhile (cur && cur.nodeType !== 9) {\\n\\t\\t\\tif (until !== undefined) {\\n\\t\\t\\t\\tif (cur === until) {\\n\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (typeof until == 'string' && DomQuery(cur).is(until)) {\\n\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (cur.nodeType === 1) {\\n\\t\\t\\t\\tmatched.push(cur);\\n\\t\\t\\t}\\n\\n\\t\\t\\tcur = cur[prop];\\n\\t\\t}\\n\\n\\t\\treturn matched;\\n\\t}\\n\\n\\tfunction sibling(node, siblingName, nodeType, until) {\\n\\t\\tvar result = [];\\n\\n\\t\\tif (until instanceof DomQuery) {\\n\\t\\t\\tuntil = until[0];\\n\\t\\t}\\n\\n\\t\\tfor (; node; node = node[siblingName]) {\\n\\t\\t\\tif (nodeType && node.nodeType !== nodeType) {\\n\\t\\t\\t\\tcontinue;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (until !== undefined) {\\n\\t\\t\\t\\tif (node === until) {\\n\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (typeof until == 'string' && DomQuery(node).is(until)) {\\n\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tresult.push(node);\\n\\t\\t}\\n\\n\\t\\treturn result;\\n\\t}\\n\\n\\tfunction firstSibling(node, siblingName, nodeType) {\\n\\t\\tfor (node = node[siblingName]; node; node = node[siblingName]) {\\n\\t\\t\\tif (node.nodeType == nodeType) {\\n\\t\\t\\t\\treturn node;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\treturn null;\\n\\t}\\n\\n\\teach({\\n\\t\\t/**\\n\\t\\t * Returns a new collection with the parent of each item in current collection matching the optional selector.\\n\\t\\t *\\n\\t\\t * @method parent\\n\\t\\t * @param {Element/tinymce.dom.DomQuery} node Node to match parents against.\\n\\t\\t * @return {tinymce.dom.DomQuery} New DomQuery instance with all matching parents.\\n\\t\\t */\\n\\t\\tparent: function(node) {\\n\\t\\t\\tvar parent = node.parentNode;\\n\\n\\t\\t\\treturn parent && parent.nodeType !== 11 ? parent : null;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns a new collection with the all the parents of each item in current collection matching the optional selector.\\n\\t\\t *\\n\\t\\t * @method parents\\n\\t\\t * @param {Element/tinymce.dom.DomQuery} node Node to match parents against.\\n\\t\\t * @return {tinymce.dom.DomQuery} New DomQuery instance with all matching parents.\\n\\t\\t */\\n\\t\\tparents: function(node) {\\n\\t\\t\\treturn dir(node, \\\"parentNode\\\");\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns a new collection with next sibling of each item in current collection matching the optional selector.\\n\\t\\t *\\n\\t\\t * @method next\\n\\t\\t * @param {Element/tinymce.dom.DomQuery} node Node to match the next element against.\\n\\t\\t * @return {tinymce.dom.DomQuery} New DomQuery instance with all matching elements.\\n\\t\\t */\\n\\t\\tnext: function(node) {\\n\\t\\t\\treturn firstSibling(node, 'nextSibling', 1);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns a new collection with previous sibling of each item in current collection matching the optional selector.\\n\\t\\t *\\n\\t\\t * @method prev\\n\\t\\t * @param {Element/tinymce.dom.DomQuery} node Node to match the previous element against.\\n\\t\\t * @return {tinymce.dom.DomQuery} New DomQuery instance with all matching elements.\\n\\t\\t */\\n\\t\\tprev: function(node) {\\n\\t\\t\\treturn firstSibling(node, 'previousSibling', 1);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns all child elements matching the optional selector.\\n\\t\\t *\\n\\t\\t * @method children\\n\\t\\t * @param {Element/tinymce.dom.DomQuery} node Node to match the elements against.\\n\\t\\t * @return {tinymce.dom.DomQuery} New DomQuery instance with all matching elements.\\n\\t\\t */\\n\\t\\tchildren: function(node) {\\n\\t\\t\\treturn sibling(node.firstChild, 'nextSibling', 1);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns all child nodes matching the optional selector.\\n\\t\\t *\\n\\t\\t * @method contents\\n\\t\\t * @param {Element/tinymce.dom.DomQuery} node Node to get the contents of.\\n\\t\\t * @return {tinymce.dom.DomQuery} New DomQuery instance with all matching elements.\\n\\t\\t */\\n\\t\\tcontents: function(node) {\\n\\t\\t\\treturn Tools.toArray((node.nodeName === \\\"iframe\\\" ? node.contentDocument || node.contentWindow.document : node).childNodes);\\n\\t\\t}\\n\\t}, function(name, fn) {\\n\\t\\tDomQuery.fn[name] = function(selector) {\\n\\t\\t\\tvar self = this, result = [];\\n\\n\\t\\t\\tself.each(function() {\\n\\t\\t\\t\\tvar nodes = fn.call(result, this, selector, result);\\n\\n\\t\\t\\t\\tif (nodes) {\\n\\t\\t\\t\\t\\tif (DomQuery.isArray(nodes)) {\\n\\t\\t\\t\\t\\t\\tresult.push.apply(result, nodes);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tresult.push(nodes);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\t// If traversing on multiple elements we might get the same elements twice\\n\\t\\t\\tif (this.length > 1) {\\n\\t\\t\\t\\tif (!skipUniques[name]) {\\n\\t\\t\\t\\t\\tresult = DomQuery.unique(result);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (name.indexOf('parents') === 0) {\\n\\t\\t\\t\\t\\tresult = result.reverse();\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tresult = DomQuery(result);\\n\\n\\t\\t\\tif (selector) {\\n\\t\\t\\t\\treturn result.filter(selector);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn result;\\n\\t\\t};\\n\\t});\\n\\n\\teach({\\n\\t\\t/**\\n\\t\\t * Returns a new collection with the all the parents until the matching selector/element\\n\\t\\t * of each item in current collection matching the optional selector.\\n\\t\\t *\\n\\t\\t * @method parentsUntil\\n\\t\\t * @param {Element/tinymce.dom.DomQuery} node Node to find parent of.\\n\\t\\t * @param {String/Element/tinymce.dom.DomQuery} until Until the matching selector or element.\\n\\t\\t * @return {tinymce.dom.DomQuery} New DomQuery instance with all matching parents.\\n\\t\\t */\\n\\t\\tparentsUntil: function(node, until) {\\n\\t\\t\\treturn dir(node, \\\"parentNode\\\", until);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns a new collection with all next siblings of each item in current collection matching the optional selector.\\n\\t\\t *\\n\\t\\t * @method nextUntil\\n\\t\\t * @param {Element/tinymce.dom.DomQuery} node Node to find next siblings on.\\n\\t\\t * @param {String/Element/tinymce.dom.DomQuery} until Until the matching selector or element.\\n\\t\\t * @return {tinymce.dom.DomQuery} New DomQuery instance with all matching elements.\\n\\t\\t */\\n\\t\\tnextUntil: function(node, until) {\\n\\t\\t\\treturn sibling(node, 'nextSibling', 1, until).slice(1);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns a new collection with all previous siblings of each item in current collection matching the optional selector.\\n\\t\\t *\\n\\t\\t * @method prevUntil\\n\\t\\t * @param {Element/tinymce.dom.DomQuery} node Node to find previous siblings on.\\n\\t\\t * @param {String/Element/tinymce.dom.DomQuery} until Until the matching selector or element.\\n\\t\\t * @return {tinymce.dom.DomQuery} New DomQuery instance with all matching elements.\\n\\t\\t */\\n\\t\\tprevUntil: function(node, until) {\\n\\t\\t\\treturn sibling(node, 'previousSibling', 1, until).slice(1);\\n\\t\\t}\\n\\t}, function(name, fn) {\\n\\t\\tDomQuery.fn[name] = function(selector, filter) {\\n\\t\\t\\tvar self = this, result = [];\\n\\n\\t\\t\\tself.each(function() {\\n\\t\\t\\t\\tvar nodes = fn.call(result, this, selector, result);\\n\\n\\t\\t\\t\\tif (nodes) {\\n\\t\\t\\t\\t\\tif (DomQuery.isArray(nodes)) {\\n\\t\\t\\t\\t\\t\\tresult.push.apply(result, nodes);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tresult.push(nodes);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\t// If traversing on multiple elements we might get the same elements twice\\n\\t\\t\\tif (this.length > 1) {\\n\\t\\t\\t\\tresult = DomQuery.unique(result);\\n\\n\\t\\t\\t\\tif (name.indexOf('parents') === 0 || name === 'prevUntil') {\\n\\t\\t\\t\\t\\tresult = result.reverse();\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tresult = DomQuery(result);\\n\\n\\t\\t\\tif (filter) {\\n\\t\\t\\t\\treturn result.filter(filter);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn result;\\n\\t\\t};\\n\\t});\\n\\n\\t/**\\n\\t * Returns true/false if the current set items matches the selector.\\n\\t *\\n\\t * @method is\\n\\t * @param {String} selector Selector to match the elements against.\\n\\t * @return {Boolean} True/false if the current set matches the selector.\\n\\t */\\n\\tDomQuery.fn.is = function(selector) {\\n\\t\\treturn !!selector && this.filter(selector).length > 0;\\n\\t};\\n\\n\\tDomQuery.fn.init.prototype = DomQuery.fn;\\n\\n\\tDomQuery.overrideDefaults = function(callback) {\\n\\t\\tvar defaults;\\n\\n\\t\\tfunction sub(selector, context) {\\n\\t\\t\\tdefaults = defaults || callback();\\n\\n\\t\\t\\tif (arguments.length === 0) {\\n\\t\\t\\t\\tselector = defaults.element;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!context) {\\n\\t\\t\\t\\tcontext = defaults.context;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn new sub.fn.init(selector, context);\\n\\t\\t}\\n\\n\\t\\tDomQuery.extend(sub, this);\\n\\n\\t\\treturn sub;\\n\\t};\\n\\n\\tfunction appendHooks(targetHooks, prop, hooks) {\\n\\t\\teach(hooks, function(name, func) {\\n\\t\\t\\ttargetHooks[name] = targetHooks[name] || {};\\n\\t\\t\\ttargetHooks[name][prop] = func;\\n\\t\\t});\\n\\t}\\n\\n\\tif (Env.ie && Env.ie < 8) {\\n\\t\\tappendHooks(attrHooks, 'get', {\\n\\t\\t\\tmaxlength: function(elm) {\\n\\t\\t\\t\\tvar value = elm.maxLength;\\n\\n\\t\\t\\t\\tif (value === 0x7fffffff) {\\n\\t\\t\\t\\t\\treturn undef;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn value;\\n\\t\\t\\t},\\n\\n\\t\\t\\tsize: function(elm) {\\n\\t\\t\\t\\tvar value = elm.size;\\n\\n\\t\\t\\t\\tif (value === 20) {\\n\\t\\t\\t\\t\\treturn undef;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn value;\\n\\t\\t\\t},\\n\\n\\t\\t\\t'class': function(elm) {\\n\\t\\t\\t\\treturn elm.className;\\n\\t\\t\\t},\\n\\n\\t\\t\\tstyle: function(elm) {\\n\\t\\t\\t\\tvar value = elm.style.cssText;\\n\\n\\t\\t\\t\\tif (value.length === 0) {\\n\\t\\t\\t\\t\\treturn undef;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn value;\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\tappendHooks(attrHooks, 'set', {\\n\\t\\t\\t'class': function(elm, value) {\\n\\t\\t\\t\\telm.className = value;\\n\\t\\t\\t},\\n\\n\\t\\t\\tstyle: function(elm, value) {\\n\\t\\t\\t\\telm.style.cssText = value;\\n\\t\\t\\t}\\n\\t\\t});\\n\\t}\\n\\n\\tif (Env.ie && Env.ie < 9) {\\n\\t\\t/*jshint sub:true */\\n\\t\\t/*eslint dot-notation: 0*/\\n\\t\\tcssFix['float'] = 'styleFloat';\\n\\n\\t\\tappendHooks(cssHooks, 'set', {\\n\\t\\t\\topacity: function(elm, value) {\\n\\t\\t\\t\\tvar style = elm.style;\\n\\n\\t\\t\\t\\tif (value === null || value === '') {\\n\\t\\t\\t\\t\\tstyle.removeAttribute('filter');\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tstyle.zoom = 1;\\n\\t\\t\\t\\t\\tstyle.filter = 'alpha(opacity=' + (value * 100) + ')';\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t});\\n\\t}\\n\\n\\tDomQuery.attrHooks = attrHooks;\\n\\tDomQuery.cssHooks = cssHooks;\\n\\n\\treturn DomQuery;\\n});\\n\\n// Included from: js/tinymce/classes/html/Styles.js\\n\\n/**\\n * Styles.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class is used to parse CSS styles it also compresses styles to reduce the output size.\\n *\\n * @example\\n * var Styles = new tinymce.html.Styles({\\n *    url_converter: function(url) {\\n *       return url;\\n *    }\\n * });\\n *\\n * styles = Styles.parse('border: 1px solid red');\\n * styles.color = 'red';\\n *\\n * console.log(new tinymce.html.StyleSerializer().serialize(styles));\\n *\\n * @class tinymce.html.Styles\\n * @version 3.4\\n */\\ndefine(\\\"tinymce/html/Styles\\\", [], function() {\\n\\treturn function(settings, schema) {\\n\\t\\t/*jshint maxlen:255 */\\n\\t\\t/*eslint max-len:0 */\\n\\t\\tvar rgbRegExp = /rgb\\\\s*\\\\(\\\\s*([0-9]+)\\\\s*,\\\\s*([0-9]+)\\\\s*,\\\\s*([0-9]+)\\\\s*\\\\)/gi,\\n\\t\\t\\turlOrStrRegExp = /(?:url(?:(?:\\\\(\\\\s*\\\\\\\"([^\\\\\\\"]+)\\\\\\\"\\\\s*\\\\))|(?:\\\\(\\\\s*\\\\'([^\\\\']+)\\\\'\\\\s*\\\\))|(?:\\\\(\\\\s*([^)\\\\s]+)\\\\s*\\\\))))|(?:\\\\'([^\\\\']+)\\\\')|(?:\\\\\\\"([^\\\\\\\"]+)\\\\\\\")/gi,\\n\\t\\t\\tstyleRegExp = /\\\\s*([^:]+):\\\\s*([^;]+);?/g,\\n\\t\\t\\ttrimRightRegExp = /\\\\s+$/,\\n\\t\\t\\ti, encodingLookup = {}, encodingItems, validStyles, invalidStyles, invisibleChar = '\\\\uFEFF';\\n\\n\\t\\tsettings = settings || {};\\n\\n\\t\\tif (schema) {\\n\\t\\t\\tvalidStyles = schema.getValidStyles();\\n\\t\\t\\tinvalidStyles = schema.getInvalidStyles();\\n\\t\\t}\\n\\n\\t\\tencodingItems = ('\\\\\\\\\\\" \\\\\\\\\\\\' \\\\\\\\; \\\\\\\\: ; : ' + invisibleChar).split(' ');\\n\\t\\tfor (i = 0; i < encodingItems.length; i++) {\\n\\t\\t\\tencodingLookup[encodingItems[i]] = invisibleChar + i;\\n\\t\\t\\tencodingLookup[invisibleChar + i] = encodingItems[i];\\n\\t\\t}\\n\\n\\t\\tfunction toHex(match, r, g, b) {\\n\\t\\t\\tfunction hex(val) {\\n\\t\\t\\t\\tval = parseInt(val, 10).toString(16);\\n\\n\\t\\t\\t\\treturn val.length > 1 ? val : '0' + val; // 0 -> 00\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn '#' + hex(r) + hex(g) + hex(b);\\n\\t\\t}\\n\\n\\t\\treturn {\\n\\t\\t\\t/**\\n\\t\\t\\t * Parses the specified RGB color value and returns a hex version of that color.\\n\\t\\t\\t *\\n\\t\\t\\t * @method toHex\\n\\t\\t\\t * @param {String} color RGB string value like rgb(1,2,3)\\n\\t\\t\\t * @return {String} Hex version of that RGB value like #FF00FF.\\n\\t\\t\\t */\\n\\t\\t\\ttoHex: function(color) {\\n\\t\\t\\t\\treturn color.replace(rgbRegExp, toHex);\\n\\t\\t\\t},\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Parses the specified style value into an object collection. This parser will also\\n\\t\\t\\t * merge and remove any redundant items that browsers might have added. It will also convert non hex\\n\\t\\t\\t * colors to hex values. Urls inside the styles will also be converted to absolute/relative based on settings.\\n\\t\\t\\t *\\n\\t\\t\\t * @method parse\\n\\t\\t\\t * @param {String} css Style value to parse for example: border:1px solid red;.\\n\\t\\t\\t * @return {Object} Object representation of that style like {border: '1px solid red'}\\n\\t\\t\\t */\\n\\t\\t\\tparse: function(css) {\\n\\t\\t\\t\\tvar styles = {}, matches, name, value, isEncoded, urlConverter = settings.url_converter;\\n\\t\\t\\t\\tvar urlConverterScope = settings.url_converter_scope || this;\\n\\n\\t\\t\\t\\tfunction compress(prefix, suffix, noJoin) {\\n\\t\\t\\t\\t\\tvar top, right, bottom, left;\\n\\n\\t\\t\\t\\t\\ttop = styles[prefix + '-top' + suffix];\\n\\t\\t\\t\\t\\tif (!top) {\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tright = styles[prefix + '-right' + suffix];\\n\\t\\t\\t\\t\\tif (!right) {\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tbottom = styles[prefix + '-bottom' + suffix];\\n\\t\\t\\t\\t\\tif (!bottom) {\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tleft = styles[prefix + '-left' + suffix];\\n\\t\\t\\t\\t\\tif (!left) {\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tvar box = [top, right, bottom, left];\\n\\t\\t\\t\\t\\ti = box.length - 1;\\n\\t\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\t\\tif (box[i] !== box[i + 1]) {\\n\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (i > -1 && noJoin) {\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tstyles[prefix + suffix] = i == -1 ? box[0] : box.join(' ');\\n\\t\\t\\t\\t\\tdelete styles[prefix + '-top' + suffix];\\n\\t\\t\\t\\t\\tdelete styles[prefix + '-right' + suffix];\\n\\t\\t\\t\\t\\tdelete styles[prefix + '-bottom' + suffix];\\n\\t\\t\\t\\t\\tdelete styles[prefix + '-left' + suffix];\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t/**\\n\\t\\t\\t\\t * Checks if the specific style can be compressed in other words if all border-width are equal.\\n\\t\\t\\t\\t */\\n\\t\\t\\t\\tfunction canCompress(key) {\\n\\t\\t\\t\\t\\tvar value = styles[key], i;\\n\\n\\t\\t\\t\\t\\tif (!value) {\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tvalue = value.split(' ');\\n\\t\\t\\t\\t\\ti = value.length;\\n\\t\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\t\\tif (value[i] !== value[0]) {\\n\\t\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tstyles[key] = value[0];\\n\\n\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t/**\\n\\t\\t\\t\\t * Compresses multiple styles into one style.\\n\\t\\t\\t\\t */\\n\\t\\t\\t\\tfunction compress2(target, a, b, c) {\\n\\t\\t\\t\\t\\tif (!canCompress(a)) {\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (!canCompress(b)) {\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (!canCompress(c)) {\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Compress\\n\\t\\t\\t\\t\\tstyles[target] = styles[a] + ' ' + styles[b] + ' ' + styles[c];\\n\\t\\t\\t\\t\\tdelete styles[a];\\n\\t\\t\\t\\t\\tdelete styles[b];\\n\\t\\t\\t\\t\\tdelete styles[c];\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Encodes the specified string by replacing all \\\\\\\" \\\\' ; : with _<num>\\n\\t\\t\\t\\tfunction encode(str) {\\n\\t\\t\\t\\t\\tisEncoded = true;\\n\\n\\t\\t\\t\\t\\treturn encodingLookup[str];\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Decodes the specified string by replacing all _<num> with it's original value \\\\\\\" \\\\' etc\\n\\t\\t\\t\\t// It will also decode the \\\\\\\" \\\\' if keep_slashes is set to fale or omitted\\n\\t\\t\\t\\tfunction decode(str, keep_slashes) {\\n\\t\\t\\t\\t\\tif (isEncoded) {\\n\\t\\t\\t\\t\\t\\tstr = str.replace(/\\\\uFEFF[0-9]/g, function(str) {\\n\\t\\t\\t\\t\\t\\t\\treturn encodingLookup[str];\\n\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (!keep_slashes) {\\n\\t\\t\\t\\t\\t\\tstr = str.replace(/\\\\\\\\([\\\\'\\\\\\\";:])/g, \\\"$1\\\");\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\treturn str;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfunction decodeSingleHexSequence(escSeq) {\\n\\t\\t\\t\\t\\treturn String.fromCharCode(parseInt(escSeq.slice(1), 16));\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfunction decodeHexSequences(value) {\\n\\t\\t\\t\\t\\treturn value.replace(/\\\\\\\\[0-9a-f]+/gi, decodeSingleHexSequence);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfunction processUrl(match, url, url2, url3, str, str2) {\\n\\t\\t\\t\\t\\tstr = str || str2;\\n\\n\\t\\t\\t\\t\\tif (str) {\\n\\t\\t\\t\\t\\t\\tstr = decode(str);\\n\\n\\t\\t\\t\\t\\t\\t// Force strings into single quote format\\n\\t\\t\\t\\t\\t\\treturn \\\"'\\\" + str.replace(/\\\\'/g, \\\"\\\\\\\\'\\\") + \\\"'\\\";\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\turl = decode(url || url2 || url3);\\n\\n\\t\\t\\t\\t\\tif (!settings.allow_script_urls) {\\n\\t\\t\\t\\t\\t\\tvar scriptUrl = url.replace(/[\\\\s\\\\r\\\\n]+/g, '');\\n\\n\\t\\t\\t\\t\\t\\tif (/(java|vb)script:/i.test(scriptUrl)) {\\n\\t\\t\\t\\t\\t\\t\\treturn \\\"\\\";\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tif (!settings.allow_svg_data_urls && /^data:image\\\\/svg/i.test(scriptUrl)) {\\n\\t\\t\\t\\t\\t\\t\\treturn \\\"\\\";\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Convert the URL to relative/absolute depending on config\\n\\t\\t\\t\\t\\tif (urlConverter) {\\n\\t\\t\\t\\t\\t\\turl = urlConverter.call(urlConverterScope, url, 'style');\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Output new URL format\\n\\t\\t\\t\\t\\treturn \\\"url('\\\" + url.replace(/\\\\'/g, \\\"\\\\\\\\'\\\") + \\\"')\\\";\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (css) {\\n\\t\\t\\t\\t\\tcss = css.replace(/[\\\\u0000-\\\\u001F]/g, '');\\n\\n\\t\\t\\t\\t\\t// Encode \\\\\\\" \\\\' % and ; and : inside strings so they don't interfere with the style parsing\\n\\t\\t\\t\\t\\tcss = css.replace(/\\\\\\\\[\\\\\\\"\\\\';:\\\\uFEFF]/g, encode).replace(/\\\\\\\"[^\\\\\\\"]+\\\\\\\"|\\\\'[^\\\\']+\\\\'/g, function(str) {\\n\\t\\t\\t\\t\\t\\treturn str.replace(/[;:]/g, encode);\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\t// Parse styles\\n\\t\\t\\t\\t\\twhile ((matches = styleRegExp.exec(css))) {\\n\\t\\t\\t\\t\\t\\tstyleRegExp.lastIndex = matches.index + matches[0].length;\\n\\t\\t\\t\\t\\t\\tname = matches[1].replace(trimRightRegExp, '').toLowerCase();\\n\\t\\t\\t\\t\\t\\tvalue = matches[2].replace(trimRightRegExp, '');\\n\\n\\t\\t\\t\\t\\t\\tif (name && value) {\\n\\t\\t\\t\\t\\t\\t\\t// Decode escaped sequences like \\\\65 -> e\\n\\t\\t\\t\\t\\t\\t\\tname = decodeHexSequences(name);\\n\\t\\t\\t\\t\\t\\t\\tvalue = decodeHexSequences(value);\\n\\n\\t\\t\\t\\t\\t\\t\\t// Skip properties with double quotes and sequences like \\\\\\\" \\\\' in their names\\n\\t\\t\\t\\t\\t\\t\\t// See 'mXSS Attacks: Attacking well-secured Web-Applications by using innerHTML Mutations'\\n\\t\\t\\t\\t\\t\\t\\t// https://cure53.de/fp170.pdf\\n\\t\\t\\t\\t\\t\\t\\tif (name.indexOf(invisibleChar) !== -1 || name.indexOf('\\\"') !== -1) {\\n\\t\\t\\t\\t\\t\\t\\t\\tcontinue;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t// Don't allow behavior name or expression/comments within the values\\n\\t\\t\\t\\t\\t\\t\\tif (!settings.allow_script_urls && (name == \\\"behavior\\\" || /expression\\\\s*\\\\(|\\\\/\\\\*|\\\\*\\\\//.test(value))) {\\n\\t\\t\\t\\t\\t\\t\\t\\tcontinue;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t// Opera will produce 700 instead of bold in their style values\\n\\t\\t\\t\\t\\t\\t\\tif (name === 'font-weight' && value === '700') {\\n\\t\\t\\t\\t\\t\\t\\t\\tvalue = 'bold';\\n\\t\\t\\t\\t\\t\\t\\t} else if (name === 'color' || name === 'background-color') { // Lowercase colors like RED\\n\\t\\t\\t\\t\\t\\t\\t\\tvalue = value.toLowerCase();\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t// Convert RGB colors to HEX\\n\\t\\t\\t\\t\\t\\t\\tvalue = value.replace(rgbRegExp, toHex);\\n\\n\\t\\t\\t\\t\\t\\t\\t// Convert URLs and force them into url('value') format\\n\\t\\t\\t\\t\\t\\t\\tvalue = value.replace(urlOrStrRegExp, processUrl);\\n\\t\\t\\t\\t\\t\\t\\tstyles[name] = isEncoded ? decode(value, true) : value;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t// Compress the styles to reduce it's size for example IE will expand styles\\n\\t\\t\\t\\t\\tcompress(\\\"border\\\", \\\"\\\", true);\\n\\t\\t\\t\\t\\tcompress(\\\"border\\\", \\\"-width\\\");\\n\\t\\t\\t\\t\\tcompress(\\\"border\\\", \\\"-color\\\");\\n\\t\\t\\t\\t\\tcompress(\\\"border\\\", \\\"-style\\\");\\n\\t\\t\\t\\t\\tcompress(\\\"padding\\\", \\\"\\\");\\n\\t\\t\\t\\t\\tcompress(\\\"margin\\\", \\\"\\\");\\n\\t\\t\\t\\t\\tcompress2('border', 'border-width', 'border-style', 'border-color');\\n\\n\\t\\t\\t\\t\\t// Remove pointless border, IE produces these\\n\\t\\t\\t\\t\\tif (styles.border === 'medium none') {\\n\\t\\t\\t\\t\\t\\tdelete styles.border;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// IE 11 will produce a border-image: none when getting the style attribute from <p style=\\\"border: 1px solid red\\\"></p>\\n\\t\\t\\t\\t\\t// So let us assume it shouldn't be there\\n\\t\\t\\t\\t\\tif (styles['border-image'] === 'none') {\\n\\t\\t\\t\\t\\t\\tdelete styles['border-image'];\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn styles;\\n\\t\\t\\t},\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Serializes the specified style object into a string.\\n\\t\\t\\t *\\n\\t\\t\\t * @method serialize\\n\\t\\t\\t * @param {Object} styles Object to serialize as string for example: {border: '1px solid red'}\\n\\t\\t\\t * @param {String} elementName Optional element name, if specified only the styles that matches the schema will be serialized.\\n\\t\\t\\t * @return {String} String representation of the style object for example: border: 1px solid red.\\n\\t\\t\\t */\\n\\t\\t\\tserialize: function(styles, elementName) {\\n\\t\\t\\t\\tvar css = '', name, value;\\n\\n\\t\\t\\t\\tfunction serializeStyles(name) {\\n\\t\\t\\t\\t\\tvar styleList, i, l, value;\\n\\n\\t\\t\\t\\t\\tstyleList = validStyles[name];\\n\\t\\t\\t\\t\\tif (styleList) {\\n\\t\\t\\t\\t\\t\\tfor (i = 0, l = styleList.length; i < l; i++) {\\n\\t\\t\\t\\t\\t\\t\\tname = styleList[i];\\n\\t\\t\\t\\t\\t\\t\\tvalue = styles[name];\\n\\n\\t\\t\\t\\t\\t\\t\\tif (value) {\\n\\t\\t\\t\\t\\t\\t\\t\\tcss += (css.length > 0 ? ' ' : '') + name + ': ' + value + ';';\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfunction isValid(name, elementName) {\\n\\t\\t\\t\\t\\tvar styleMap;\\n\\n\\t\\t\\t\\t\\tstyleMap = invalidStyles['*'];\\n\\t\\t\\t\\t\\tif (styleMap && styleMap[name]) {\\n\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tstyleMap = invalidStyles[elementName];\\n\\t\\t\\t\\t\\tif (styleMap && styleMap[name]) {\\n\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Serialize styles according to schema\\n\\t\\t\\t\\tif (elementName && validStyles) {\\n\\t\\t\\t\\t\\t// Serialize global styles and element specific styles\\n\\t\\t\\t\\t\\tserializeStyles('*');\\n\\t\\t\\t\\t\\tserializeStyles(elementName);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t// Output the styles in the order they are inside the object\\n\\t\\t\\t\\t\\tfor (name in styles) {\\n\\t\\t\\t\\t\\t\\tvalue = styles[name];\\n\\n\\t\\t\\t\\t\\t\\tif (value && (!invalidStyles || isValid(name, elementName))) {\\n\\t\\t\\t\\t\\t\\t\\tcss += (css.length > 0 ? ' ' : '') + name + ': ' + value + ';';\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn css;\\n\\t\\t\\t}\\n\\t\\t};\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/dom/TreeWalker.js\\n\\n/**\\n * TreeWalker.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * TreeWalker class enables you to walk the DOM in a linear manner.\\n *\\n * @class tinymce.dom.TreeWalker\\n * @example\\n * var walker = new tinymce.dom.TreeWalker(startNode);\\n *\\n * do {\\n *     console.log(walker.current());\\n * } while (walker.next());\\n */\\ndefine(\\\"tinymce/dom/TreeWalker\\\", [], function() {\\n\\t/**\\n\\t * Constructs a new TreeWalker instance.\\n\\t *\\n\\t * @constructor\\n\\t * @method TreeWalker\\n\\t * @param {Node} startNode Node to start walking from.\\n\\t * @param {node} rootNode Optional root node to never walk out of.\\n\\t */\\n\\treturn function(startNode, rootNode) {\\n\\t\\tvar node = startNode;\\n\\n\\t\\tfunction findSibling(node, startName, siblingName, shallow) {\\n\\t\\t\\tvar sibling, parent;\\n\\n\\t\\t\\tif (node) {\\n\\t\\t\\t\\t// Walk into nodes if it has a start\\n\\t\\t\\t\\tif (!shallow && node[startName]) {\\n\\t\\t\\t\\t\\treturn node[startName];\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Return the sibling if it has one\\n\\t\\t\\t\\tif (node != rootNode) {\\n\\t\\t\\t\\t\\tsibling = node[siblingName];\\n\\t\\t\\t\\t\\tif (sibling) {\\n\\t\\t\\t\\t\\t\\treturn sibling;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Walk up the parents to look for siblings\\n\\t\\t\\t\\t\\tfor (parent = node.parentNode; parent && parent != rootNode; parent = parent.parentNode) {\\n\\t\\t\\t\\t\\t\\tsibling = parent[siblingName];\\n\\t\\t\\t\\t\\t\\tif (sibling) {\\n\\t\\t\\t\\t\\t\\t\\treturn sibling;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction findPreviousNode(node, startName, siblingName, shallow) {\\n\\t\\t\\tvar sibling, parent, child;\\n\\n\\t\\t\\tif (node) {\\n\\t\\t\\t\\tsibling = node[siblingName];\\n\\t\\t\\t\\tif (rootNode && sibling === rootNode) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (sibling) {\\n\\t\\t\\t\\t\\tif (!shallow) {\\n\\t\\t\\t\\t\\t\\t// Walk up the parents to look for siblings\\n\\t\\t\\t\\t\\t\\tfor (child = sibling[startName]; child; child = child[startName]) {\\n\\t\\t\\t\\t\\t\\t\\tif (!child[startName]) {\\n\\t\\t\\t\\t\\t\\t\\t\\treturn child;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\treturn sibling;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tparent = node.parentNode;\\n\\t\\t\\t\\tif (parent && parent !== rootNode) {\\n\\t\\t\\t\\t\\treturn parent;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Returns the current node.\\n\\t\\t *\\n\\t\\t * @method current\\n\\t\\t * @return {Node} Current node where the walker is.\\n\\t\\t */\\n\\t\\tthis.current = function() {\\n\\t\\t\\treturn node;\\n\\t\\t};\\n\\n\\t\\t/**\\n\\t\\t * Walks to the next node in tree.\\n\\t\\t *\\n\\t\\t * @method next\\n\\t\\t * @return {Node} Current node where the walker is after moving to the next node.\\n\\t\\t */\\n\\t\\tthis.next = function(shallow) {\\n\\t\\t\\tnode = findSibling(node, 'firstChild', 'nextSibling', shallow);\\n\\t\\t\\treturn node;\\n\\t\\t};\\n\\n\\t\\t/**\\n\\t\\t * Walks to the previous node in tree.\\n\\t\\t *\\n\\t\\t * @method prev\\n\\t\\t * @return {Node} Current node where the walker is after moving to the previous node.\\n\\t\\t */\\n\\t\\tthis.prev = function(shallow) {\\n\\t\\t\\tnode = findSibling(node, 'lastChild', 'previousSibling', shallow);\\n\\t\\t\\treturn node;\\n\\t\\t};\\n\\n\\t\\tthis.prev2 = function(shallow) {\\n\\t\\t\\tnode = findPreviousNode(node, 'lastChild', 'previousSibling', shallow);\\n\\t\\t\\treturn node;\\n\\t\\t};\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/dom/Range.js\\n\\n/**\\n * Range.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Old IE Range.\\n *\\n * @private\\n * @class tinymce.dom.Range\\n */\\ndefine(\\\"tinymce/dom/Range\\\", [\\n\\t\\\"tinymce/util/Tools\\\"\\n], function(Tools) {\\n\\t// Range constructor\\n\\tfunction Range(dom) {\\n\\t\\tvar self = this,\\n\\t\\t\\tdoc = dom.doc,\\n\\t\\t\\tEXTRACT = 0,\\n\\t\\t\\tCLONE = 1,\\n\\t\\t\\tDELETE = 2,\\n\\t\\t\\tTRUE = true,\\n\\t\\t\\tFALSE = false,\\n\\t\\t\\tSTART_OFFSET = 'startOffset',\\n\\t\\t\\tSTART_CONTAINER = 'startContainer',\\n\\t\\t\\tEND_CONTAINER = 'endContainer',\\n\\t\\t\\tEND_OFFSET = 'endOffset',\\n\\t\\t\\textend = Tools.extend,\\n\\t\\t\\tnodeIndex = dom.nodeIndex;\\n\\n\\t\\tfunction createDocumentFragment() {\\n\\t\\t\\treturn doc.createDocumentFragment();\\n\\t\\t}\\n\\n\\t\\tfunction setStart(n, o) {\\n\\t\\t\\t_setEndPoint(TRUE, n, o);\\n\\t\\t}\\n\\n\\t\\tfunction setEnd(n, o) {\\n\\t\\t\\t_setEndPoint(FALSE, n, o);\\n\\t\\t}\\n\\n\\t\\tfunction setStartBefore(n) {\\n\\t\\t\\tsetStart(n.parentNode, nodeIndex(n));\\n\\t\\t}\\n\\n\\t\\tfunction setStartAfter(n) {\\n\\t\\t\\tsetStart(n.parentNode, nodeIndex(n) + 1);\\n\\t\\t}\\n\\n\\t\\tfunction setEndBefore(n) {\\n\\t\\t\\tsetEnd(n.parentNode, nodeIndex(n));\\n\\t\\t}\\n\\n\\t\\tfunction setEndAfter(n) {\\n\\t\\t\\tsetEnd(n.parentNode, nodeIndex(n) + 1);\\n\\t\\t}\\n\\n\\t\\tfunction collapse(ts) {\\n\\t\\t\\tif (ts) {\\n\\t\\t\\t\\tself[END_CONTAINER] = self[START_CONTAINER];\\n\\t\\t\\t\\tself[END_OFFSET] = self[START_OFFSET];\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tself[START_CONTAINER] = self[END_CONTAINER];\\n\\t\\t\\t\\tself[START_OFFSET] = self[END_OFFSET];\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.collapsed = TRUE;\\n\\t\\t}\\n\\n\\t\\tfunction selectNode(n) {\\n\\t\\t\\tsetStartBefore(n);\\n\\t\\t\\tsetEndAfter(n);\\n\\t\\t}\\n\\n\\t\\tfunction selectNodeContents(n) {\\n\\t\\t\\tsetStart(n, 0);\\n\\t\\t\\tsetEnd(n, n.nodeType === 1 ? n.childNodes.length : n.nodeValue.length);\\n\\t\\t}\\n\\n\\t\\tfunction compareBoundaryPoints(h, r) {\\n\\t\\t\\tvar sc = self[START_CONTAINER], so = self[START_OFFSET], ec = self[END_CONTAINER], eo = self[END_OFFSET],\\n\\t\\t\\trsc = r.startContainer, rso = r.startOffset, rec = r.endContainer, reo = r.endOffset;\\n\\n\\t\\t\\t// Check START_TO_START\\n\\t\\t\\tif (h === 0) {\\n\\t\\t\\t\\treturn _compareBoundaryPoints(sc, so, rsc, rso);\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Check START_TO_END\\n\\t\\t\\tif (h === 1) {\\n\\t\\t\\t\\treturn _compareBoundaryPoints(ec, eo, rsc, rso);\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Check END_TO_END\\n\\t\\t\\tif (h === 2) {\\n\\t\\t\\t\\treturn _compareBoundaryPoints(ec, eo, rec, reo);\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Check END_TO_START\\n\\t\\t\\tif (h === 3) {\\n\\t\\t\\t\\treturn _compareBoundaryPoints(sc, so, rec, reo);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction deleteContents() {\\n\\t\\t\\t_traverse(DELETE);\\n\\t\\t}\\n\\n\\t\\tfunction extractContents() {\\n\\t\\t\\treturn _traverse(EXTRACT);\\n\\t\\t}\\n\\n\\t\\tfunction cloneContents() {\\n\\t\\t\\treturn _traverse(CLONE);\\n\\t\\t}\\n\\n\\t\\tfunction insertNode(n) {\\n\\t\\t\\tvar startContainer = this[START_CONTAINER],\\n\\t\\t\\t\\tstartOffset = this[START_OFFSET], nn, o;\\n\\n\\t\\t\\t// Node is TEXT_NODE or CDATA\\n\\t\\t\\tif ((startContainer.nodeType === 3 || startContainer.nodeType === 4) && startContainer.nodeValue) {\\n\\t\\t\\t\\tif (!startOffset) {\\n\\t\\t\\t\\t\\t// At the start of text\\n\\t\\t\\t\\t\\tstartContainer.parentNode.insertBefore(n, startContainer);\\n\\t\\t\\t\\t} else if (startOffset >= startContainer.nodeValue.length) {\\n\\t\\t\\t\\t\\t// At the end of text\\n\\t\\t\\t\\t\\tdom.insertAfter(n, startContainer);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t// Middle, need to split\\n\\t\\t\\t\\t\\tnn = startContainer.splitText(startOffset);\\n\\t\\t\\t\\t\\tstartContainer.parentNode.insertBefore(n, nn);\\n\\t\\t\\t\\t}\\n\\t\\t\\t} else {\\n\\t\\t\\t\\t// Insert element node\\n\\t\\t\\t\\tif (startContainer.childNodes.length > 0) {\\n\\t\\t\\t\\t\\to = startContainer.childNodes[startOffset];\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (o) {\\n\\t\\t\\t\\t\\tstartContainer.insertBefore(n, o);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tif (startContainer.nodeType == 3) {\\n\\t\\t\\t\\t\\t\\tdom.insertAfter(n, startContainer);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tstartContainer.appendChild(n);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction surroundContents(n) {\\n\\t\\t\\tvar f = self.extractContents();\\n\\n\\t\\t\\tself.insertNode(n);\\n\\t\\t\\tn.appendChild(f);\\n\\t\\t\\tself.selectNode(n);\\n\\t\\t}\\n\\n\\t\\tfunction cloneRange() {\\n\\t\\t\\treturn extend(new Range(dom), {\\n\\t\\t\\t\\tstartContainer: self[START_CONTAINER],\\n\\t\\t\\t\\tstartOffset: self[START_OFFSET],\\n\\t\\t\\t\\tendContainer: self[END_CONTAINER],\\n\\t\\t\\t\\tendOffset: self[END_OFFSET],\\n\\t\\t\\t\\tcollapsed: self.collapsed,\\n\\t\\t\\t\\tcommonAncestorContainer: self.commonAncestorContainer\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\t// Private methods\\n\\n\\t\\tfunction _getSelectedNode(container, offset) {\\n\\t\\t\\tvar child;\\n\\n\\t\\t\\t// TEXT_NODE\\n\\t\\t\\tif (container.nodeType == 3) {\\n\\t\\t\\t\\treturn container;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (offset < 0) {\\n\\t\\t\\t\\treturn container;\\n\\t\\t\\t}\\n\\n\\t\\t\\tchild = container.firstChild;\\n\\t\\t\\twhile (child && offset > 0) {\\n\\t\\t\\t\\t--offset;\\n\\t\\t\\t\\tchild = child.nextSibling;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (child) {\\n\\t\\t\\t\\treturn child;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn container;\\n\\t\\t}\\n\\n\\t\\tfunction _isCollapsed() {\\n\\t\\t\\treturn (self[START_CONTAINER] == self[END_CONTAINER] && self[START_OFFSET] == self[END_OFFSET]);\\n\\t\\t}\\n\\n\\t\\tfunction _compareBoundaryPoints(containerA, offsetA, containerB, offsetB) {\\n\\t\\t\\tvar c, offsetC, n, cmnRoot, childA, childB;\\n\\n\\t\\t\\t// In the first case the boundary-points have the same container. A is before B\\n\\t\\t\\t// if its offset is less than the offset of B, A is equal to B if its offset is\\n\\t\\t\\t// equal to the offset of B, and A is after B if its offset is greater than the\\n\\t\\t\\t// offset of B.\\n\\t\\t\\tif (containerA == containerB) {\\n\\t\\t\\t\\tif (offsetA == offsetB) {\\n\\t\\t\\t\\t\\treturn 0; // equal\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (offsetA < offsetB) {\\n\\t\\t\\t\\t\\treturn -1; // before\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn 1; // after\\n\\t\\t\\t}\\n\\n\\t\\t\\t// In the second case a child node C of the container of A is an ancestor\\n\\t\\t\\t// container of B. In this case, A is before B if the offset of A is less than or\\n\\t\\t\\t// equal to the index of the child node C and A is after B otherwise.\\n\\t\\t\\tc = containerB;\\n\\t\\t\\twhile (c && c.parentNode != containerA) {\\n\\t\\t\\t\\tc = c.parentNode;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (c) {\\n\\t\\t\\t\\toffsetC = 0;\\n\\t\\t\\t\\tn = containerA.firstChild;\\n\\n\\t\\t\\t\\twhile (n != c && offsetC < offsetA) {\\n\\t\\t\\t\\t\\toffsetC++;\\n\\t\\t\\t\\t\\tn = n.nextSibling;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (offsetA <= offsetC) {\\n\\t\\t\\t\\t\\treturn -1; // before\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn 1; // after\\n\\t\\t\\t}\\n\\n\\t\\t\\t// In the third case a child node C of the container of B is an ancestor container\\n\\t\\t\\t// of A. In this case, A is before B if the index of the child node C is less than\\n\\t\\t\\t// the offset of B and A is after B otherwise.\\n\\t\\t\\tc = containerA;\\n\\t\\t\\twhile (c && c.parentNode != containerB) {\\n\\t\\t\\t\\tc = c.parentNode;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (c) {\\n\\t\\t\\t\\toffsetC = 0;\\n\\t\\t\\t\\tn = containerB.firstChild;\\n\\n\\t\\t\\t\\twhile (n != c && offsetC < offsetB) {\\n\\t\\t\\t\\t\\toffsetC++;\\n\\t\\t\\t\\t\\tn = n.nextSibling;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (offsetC < offsetB) {\\n\\t\\t\\t\\t\\treturn -1; // before\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn 1; // after\\n\\t\\t\\t}\\n\\n\\t\\t\\t// In the fourth case, none of three other cases hold: the containers of A and B\\n\\t\\t\\t// are siblings or descendants of sibling nodes. In this case, A is before B if\\n\\t\\t\\t// the container of A is before the container of B in a pre-order traversal of the\\n\\t\\t\\t// Ranges' context tree and A is after B otherwise.\\n\\t\\t\\tcmnRoot = dom.findCommonAncestor(containerA, containerB);\\n\\t\\t\\tchildA = containerA;\\n\\n\\t\\t\\twhile (childA && childA.parentNode != cmnRoot) {\\n\\t\\t\\t\\tchildA = childA.parentNode;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!childA) {\\n\\t\\t\\t\\tchildA = cmnRoot;\\n\\t\\t\\t}\\n\\n\\t\\t\\tchildB = containerB;\\n\\t\\t\\twhile (childB && childB.parentNode != cmnRoot) {\\n\\t\\t\\t\\tchildB = childB.parentNode;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!childB) {\\n\\t\\t\\t\\tchildB = cmnRoot;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (childA == childB) {\\n\\t\\t\\t\\treturn 0; // equal\\n\\t\\t\\t}\\n\\n\\t\\t\\tn = cmnRoot.firstChild;\\n\\t\\t\\twhile (n) {\\n\\t\\t\\t\\tif (n == childA) {\\n\\t\\t\\t\\t\\treturn -1; // before\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (n == childB) {\\n\\t\\t\\t\\t\\treturn 1; // after\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tn = n.nextSibling;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction _setEndPoint(st, n, o) {\\n\\t\\t\\tvar ec, sc;\\n\\n\\t\\t\\tif (st) {\\n\\t\\t\\t\\tself[START_CONTAINER] = n;\\n\\t\\t\\t\\tself[START_OFFSET] = o;\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tself[END_CONTAINER] = n;\\n\\t\\t\\t\\tself[END_OFFSET] = o;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// If one boundary-point of a Range is set to have a root container\\n\\t\\t\\t// other than the current one for the Range, the Range is collapsed to\\n\\t\\t\\t// the new position. This enforces the restriction that both boundary-\\n\\t\\t\\t// points of a Range must have the same root container.\\n\\t\\t\\tec = self[END_CONTAINER];\\n\\t\\t\\twhile (ec.parentNode) {\\n\\t\\t\\t\\tec = ec.parentNode;\\n\\t\\t\\t}\\n\\n\\t\\t\\tsc = self[START_CONTAINER];\\n\\t\\t\\twhile (sc.parentNode) {\\n\\t\\t\\t\\tsc = sc.parentNode;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (sc == ec) {\\n\\t\\t\\t\\t// The start position of a Range is guaranteed to never be after the\\n\\t\\t\\t\\t// end position. To enforce this restriction, if the start is set to\\n\\t\\t\\t\\t// be at a position after the end, the Range is collapsed to that\\n\\t\\t\\t\\t// position.\\n\\t\\t\\t\\tif (_compareBoundaryPoints(self[START_CONTAINER], self[START_OFFSET], self[END_CONTAINER], self[END_OFFSET]) > 0) {\\n\\t\\t\\t\\t\\tself.collapse(st);\\n\\t\\t\\t\\t}\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tself.collapse(st);\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.collapsed = _isCollapsed();\\n\\t\\t\\tself.commonAncestorContainer = dom.findCommonAncestor(self[START_CONTAINER], self[END_CONTAINER]);\\n\\t\\t}\\n\\n\\t\\tfunction _traverse(how) {\\n\\t\\t\\tvar c, endContainerDepth = 0, startContainerDepth = 0, p, depthDiff, startNode, endNode, sp, ep;\\n\\n\\t\\t\\tif (self[START_CONTAINER] == self[END_CONTAINER]) {\\n\\t\\t\\t\\treturn _traverseSameContainer(how);\\n\\t\\t\\t}\\n\\n\\t\\t\\tfor (c = self[END_CONTAINER], p = c.parentNode; p; c = p, p = p.parentNode) {\\n\\t\\t\\t\\tif (p == self[START_CONTAINER]) {\\n\\t\\t\\t\\t\\treturn _traverseCommonStartContainer(c, how);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t++endContainerDepth;\\n\\t\\t\\t}\\n\\n\\t\\t\\tfor (c = self[START_CONTAINER], p = c.parentNode; p; c = p, p = p.parentNode) {\\n\\t\\t\\t\\tif (p == self[END_CONTAINER]) {\\n\\t\\t\\t\\t\\treturn _traverseCommonEndContainer(c, how);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t++startContainerDepth;\\n\\t\\t\\t}\\n\\n\\t\\t\\tdepthDiff = startContainerDepth - endContainerDepth;\\n\\n\\t\\t\\tstartNode = self[START_CONTAINER];\\n\\t\\t\\twhile (depthDiff > 0) {\\n\\t\\t\\t\\tstartNode = startNode.parentNode;\\n\\t\\t\\t\\tdepthDiff--;\\n\\t\\t\\t}\\n\\n\\t\\t\\tendNode = self[END_CONTAINER];\\n\\t\\t\\twhile (depthDiff < 0) {\\n\\t\\t\\t\\tendNode = endNode.parentNode;\\n\\t\\t\\t\\tdepthDiff++;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// ascend the ancestor hierarchy until we have a common parent.\\n\\t\\t\\tfor (sp = startNode.parentNode, ep = endNode.parentNode; sp != ep; sp = sp.parentNode, ep = ep.parentNode) {\\n\\t\\t\\t\\tstartNode = sp;\\n\\t\\t\\t\\tendNode = ep;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn _traverseCommonAncestors(startNode, endNode, how);\\n\\t\\t}\\n\\n\\t\\tfunction _traverseSameContainer(how) {\\n\\t\\t\\tvar frag, s, sub, n, cnt, sibling, xferNode, start, len;\\n\\n\\t\\t\\tif (how != DELETE) {\\n\\t\\t\\t\\tfrag = createDocumentFragment();\\n\\t\\t\\t}\\n\\n\\t\\t\\t// If selection is empty, just return the fragment\\n\\t\\t\\tif (self[START_OFFSET] == self[END_OFFSET]) {\\n\\t\\t\\t\\treturn frag;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Text node needs special case handling\\n\\t\\t\\tif (self[START_CONTAINER].nodeType == 3) { // TEXT_NODE\\n\\t\\t\\t\\t// get the substring\\n\\t\\t\\t\\ts = self[START_CONTAINER].nodeValue;\\n\\t\\t\\t\\tsub = s.substring(self[START_OFFSET], self[END_OFFSET]);\\n\\n\\t\\t\\t\\t// set the original text node to its new value\\n\\t\\t\\t\\tif (how != CLONE) {\\n\\t\\t\\t\\t\\tn = self[START_CONTAINER];\\n\\t\\t\\t\\t\\tstart = self[START_OFFSET];\\n\\t\\t\\t\\t\\tlen = self[END_OFFSET] - self[START_OFFSET];\\n\\n\\t\\t\\t\\t\\tif (start === 0 && len >= n.nodeValue.length - 1) {\\n\\t\\t\\t\\t\\t\\tn.parentNode.removeChild(n);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tn.deleteData(start, len);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Nothing is partially selected, so collapse to start point\\n\\t\\t\\t\\t\\tself.collapse(TRUE);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (how == DELETE) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (sub.length > 0) {\\n\\t\\t\\t\\t\\tfrag.appendChild(doc.createTextNode(sub));\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn frag;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Copy nodes between the start/end offsets.\\n\\t\\t\\tn = _getSelectedNode(self[START_CONTAINER], self[START_OFFSET]);\\n\\t\\t\\tcnt = self[END_OFFSET] - self[START_OFFSET];\\n\\n\\t\\t\\twhile (n && cnt > 0) {\\n\\t\\t\\t\\tsibling = n.nextSibling;\\n\\t\\t\\t\\txferNode = _traverseFullySelected(n, how);\\n\\n\\t\\t\\t\\tif (frag) {\\n\\t\\t\\t\\t\\tfrag.appendChild(xferNode);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t--cnt;\\n\\t\\t\\t\\tn = sibling;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Nothing is partially selected, so collapse to start point\\n\\t\\t\\tif (how != CLONE) {\\n\\t\\t\\t\\tself.collapse(TRUE);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn frag;\\n\\t\\t}\\n\\n\\t\\tfunction _traverseCommonStartContainer(endAncestor, how) {\\n\\t\\t\\tvar frag, n, endIdx, cnt, sibling, xferNode;\\n\\n\\t\\t\\tif (how != DELETE) {\\n\\t\\t\\t\\tfrag = createDocumentFragment();\\n\\t\\t\\t}\\n\\n\\t\\t\\tn = _traverseRightBoundary(endAncestor, how);\\n\\n\\t\\t\\tif (frag) {\\n\\t\\t\\t\\tfrag.appendChild(n);\\n\\t\\t\\t}\\n\\n\\t\\t\\tendIdx = nodeIndex(endAncestor);\\n\\t\\t\\tcnt = endIdx - self[START_OFFSET];\\n\\n\\t\\t\\tif (cnt <= 0) {\\n\\t\\t\\t\\t// Collapse to just before the endAncestor, which\\n\\t\\t\\t\\t// is partially selected.\\n\\t\\t\\t\\tif (how != CLONE) {\\n\\t\\t\\t\\t\\tself.setEndBefore(endAncestor);\\n\\t\\t\\t\\t\\tself.collapse(FALSE);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn frag;\\n\\t\\t\\t}\\n\\n\\t\\t\\tn = endAncestor.previousSibling;\\n\\t\\t\\twhile (cnt > 0) {\\n\\t\\t\\t\\tsibling = n.previousSibling;\\n\\t\\t\\t\\txferNode = _traverseFullySelected(n, how);\\n\\n\\t\\t\\t\\tif (frag) {\\n\\t\\t\\t\\t\\tfrag.insertBefore(xferNode, frag.firstChild);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t--cnt;\\n\\t\\t\\t\\tn = sibling;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Collapse to just before the endAncestor, which\\n\\t\\t\\t// is partially selected.\\n\\t\\t\\tif (how != CLONE) {\\n\\t\\t\\t\\tself.setEndBefore(endAncestor);\\n\\t\\t\\t\\tself.collapse(FALSE);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn frag;\\n\\t\\t}\\n\\n\\t\\tfunction _traverseCommonEndContainer(startAncestor, how) {\\n\\t\\t\\tvar frag, startIdx, n, cnt, sibling, xferNode;\\n\\n\\t\\t\\tif (how != DELETE) {\\n\\t\\t\\t\\tfrag = createDocumentFragment();\\n\\t\\t\\t}\\n\\n\\t\\t\\tn = _traverseLeftBoundary(startAncestor, how);\\n\\t\\t\\tif (frag) {\\n\\t\\t\\t\\tfrag.appendChild(n);\\n\\t\\t\\t}\\n\\n\\t\\t\\tstartIdx = nodeIndex(startAncestor);\\n\\t\\t\\t++startIdx; // Because we already traversed it\\n\\n\\t\\t\\tcnt = self[END_OFFSET] - startIdx;\\n\\t\\t\\tn = startAncestor.nextSibling;\\n\\t\\t\\twhile (n && cnt > 0) {\\n\\t\\t\\t\\tsibling = n.nextSibling;\\n\\t\\t\\t\\txferNode = _traverseFullySelected(n, how);\\n\\n\\t\\t\\t\\tif (frag) {\\n\\t\\t\\t\\t\\tfrag.appendChild(xferNode);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t--cnt;\\n\\t\\t\\t\\tn = sibling;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (how != CLONE) {\\n\\t\\t\\t\\tself.setStartAfter(startAncestor);\\n\\t\\t\\t\\tself.collapse(TRUE);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn frag;\\n\\t\\t}\\n\\n\\t\\tfunction _traverseCommonAncestors(startAncestor, endAncestor, how) {\\n\\t\\t\\tvar n, frag, startOffset, endOffset, cnt, sibling, nextSibling;\\n\\n\\t\\t\\tif (how != DELETE) {\\n\\t\\t\\t\\tfrag = createDocumentFragment();\\n\\t\\t\\t}\\n\\n\\t\\t\\tn = _traverseLeftBoundary(startAncestor, how);\\n\\t\\t\\tif (frag) {\\n\\t\\t\\t\\tfrag.appendChild(n);\\n\\t\\t\\t}\\n\\n\\t\\t\\tstartOffset = nodeIndex(startAncestor);\\n\\t\\t\\tendOffset = nodeIndex(endAncestor);\\n\\t\\t\\t++startOffset;\\n\\n\\t\\t\\tcnt = endOffset - startOffset;\\n\\t\\t\\tsibling = startAncestor.nextSibling;\\n\\n\\t\\t\\twhile (cnt > 0) {\\n\\t\\t\\t\\tnextSibling = sibling.nextSibling;\\n\\t\\t\\t\\tn = _traverseFullySelected(sibling, how);\\n\\n\\t\\t\\t\\tif (frag) {\\n\\t\\t\\t\\t\\tfrag.appendChild(n);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tsibling = nextSibling;\\n\\t\\t\\t\\t--cnt;\\n\\t\\t\\t}\\n\\n\\t\\t\\tn = _traverseRightBoundary(endAncestor, how);\\n\\n\\t\\t\\tif (frag) {\\n\\t\\t\\t\\tfrag.appendChild(n);\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (how != CLONE) {\\n\\t\\t\\t\\tself.setStartAfter(startAncestor);\\n\\t\\t\\t\\tself.collapse(TRUE);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn frag;\\n\\t\\t}\\n\\n\\t\\tfunction _traverseRightBoundary(root, how) {\\n\\t\\t\\tvar next = _getSelectedNode(self[END_CONTAINER], self[END_OFFSET] - 1), parent, clonedParent;\\n\\t\\t\\tvar prevSibling, clonedChild, clonedGrandParent, isFullySelected = next != self[END_CONTAINER];\\n\\n\\t\\t\\tif (next == root) {\\n\\t\\t\\t\\treturn _traverseNode(next, isFullySelected, FALSE, how);\\n\\t\\t\\t}\\n\\n\\t\\t\\tparent = next.parentNode;\\n\\t\\t\\tclonedParent = _traverseNode(parent, FALSE, FALSE, how);\\n\\n\\t\\t\\twhile (parent) {\\n\\t\\t\\t\\twhile (next) {\\n\\t\\t\\t\\t\\tprevSibling = next.previousSibling;\\n\\t\\t\\t\\t\\tclonedChild = _traverseNode(next, isFullySelected, FALSE, how);\\n\\n\\t\\t\\t\\t\\tif (how != DELETE) {\\n\\t\\t\\t\\t\\t\\tclonedParent.insertBefore(clonedChild, clonedParent.firstChild);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tisFullySelected = TRUE;\\n\\t\\t\\t\\t\\tnext = prevSibling;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (parent == root) {\\n\\t\\t\\t\\t\\treturn clonedParent;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tnext = parent.previousSibling;\\n\\t\\t\\t\\tparent = parent.parentNode;\\n\\n\\t\\t\\t\\tclonedGrandParent = _traverseNode(parent, FALSE, FALSE, how);\\n\\n\\t\\t\\t\\tif (how != DELETE) {\\n\\t\\t\\t\\t\\tclonedGrandParent.appendChild(clonedParent);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tclonedParent = clonedGrandParent;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction _traverseLeftBoundary(root, how) {\\n\\t\\t\\tvar next = _getSelectedNode(self[START_CONTAINER], self[START_OFFSET]), isFullySelected = next != self[START_CONTAINER];\\n\\t\\t\\tvar parent, clonedParent, nextSibling, clonedChild, clonedGrandParent;\\n\\n\\t\\t\\tif (next == root) {\\n\\t\\t\\t\\treturn _traverseNode(next, isFullySelected, TRUE, how);\\n\\t\\t\\t}\\n\\n\\t\\t\\tparent = next.parentNode;\\n\\t\\t\\tclonedParent = _traverseNode(parent, FALSE, TRUE, how);\\n\\n\\t\\t\\twhile (parent) {\\n\\t\\t\\t\\twhile (next) {\\n\\t\\t\\t\\t\\tnextSibling = next.nextSibling;\\n\\t\\t\\t\\t\\tclonedChild = _traverseNode(next, isFullySelected, TRUE, how);\\n\\n\\t\\t\\t\\t\\tif (how != DELETE) {\\n\\t\\t\\t\\t\\t\\tclonedParent.appendChild(clonedChild);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tisFullySelected = TRUE;\\n\\t\\t\\t\\t\\tnext = nextSibling;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (parent == root) {\\n\\t\\t\\t\\t\\treturn clonedParent;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tnext = parent.nextSibling;\\n\\t\\t\\t\\tparent = parent.parentNode;\\n\\n\\t\\t\\t\\tclonedGrandParent = _traverseNode(parent, FALSE, TRUE, how);\\n\\n\\t\\t\\t\\tif (how != DELETE) {\\n\\t\\t\\t\\t\\tclonedGrandParent.appendChild(clonedParent);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tclonedParent = clonedGrandParent;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction _traverseNode(n, isFullySelected, isLeft, how) {\\n\\t\\t\\tvar txtValue, newNodeValue, oldNodeValue, offset, newNode;\\n\\n\\t\\t\\tif (isFullySelected) {\\n\\t\\t\\t\\treturn _traverseFullySelected(n, how);\\n\\t\\t\\t}\\n\\n\\t\\t\\t// TEXT_NODE\\n\\t\\t\\tif (n.nodeType == 3) {\\n\\t\\t\\t\\ttxtValue = n.nodeValue;\\n\\n\\t\\t\\t\\tif (isLeft) {\\n\\t\\t\\t\\t\\toffset = self[START_OFFSET];\\n\\t\\t\\t\\t\\tnewNodeValue = txtValue.substring(offset);\\n\\t\\t\\t\\t\\toldNodeValue = txtValue.substring(0, offset);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\toffset = self[END_OFFSET];\\n\\t\\t\\t\\t\\tnewNodeValue = txtValue.substring(0, offset);\\n\\t\\t\\t\\t\\toldNodeValue = txtValue.substring(offset);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (how != CLONE) {\\n\\t\\t\\t\\t\\tn.nodeValue = oldNodeValue;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (how == DELETE) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tnewNode = dom.clone(n, FALSE);\\n\\t\\t\\t\\tnewNode.nodeValue = newNodeValue;\\n\\n\\t\\t\\t\\treturn newNode;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (how == DELETE) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn dom.clone(n, FALSE);\\n\\t\\t}\\n\\n\\t\\tfunction _traverseFullySelected(n, how) {\\n\\t\\t\\tif (how != DELETE) {\\n\\t\\t\\t\\treturn how == CLONE ? dom.clone(n, TRUE) : n;\\n\\t\\t\\t}\\n\\n\\t\\t\\tn.parentNode.removeChild(n);\\n\\t\\t}\\n\\n\\t\\tfunction toStringIE() {\\n\\t\\t\\treturn dom.create('body', null, cloneContents()).outerText;\\n\\t\\t}\\n\\n\\t\\textend(self, {\\n\\t\\t\\t// Initial states\\n\\t\\t\\tstartContainer: doc,\\n\\t\\t\\tstartOffset: 0,\\n\\t\\t\\tendContainer: doc,\\n\\t\\t\\tendOffset: 0,\\n\\t\\t\\tcollapsed: TRUE,\\n\\t\\t\\tcommonAncestorContainer: doc,\\n\\n\\t\\t\\t// Range constants\\n\\t\\t\\tSTART_TO_START: 0,\\n\\t\\t\\tSTART_TO_END: 1,\\n\\t\\t\\tEND_TO_END: 2,\\n\\t\\t\\tEND_TO_START: 3,\\n\\n\\t\\t\\t// Public methods\\n\\t\\t\\tsetStart: setStart,\\n\\t\\t\\tsetEnd: setEnd,\\n\\t\\t\\tsetStartBefore: setStartBefore,\\n\\t\\t\\tsetStartAfter: setStartAfter,\\n\\t\\t\\tsetEndBefore: setEndBefore,\\n\\t\\t\\tsetEndAfter: setEndAfter,\\n\\t\\t\\tcollapse: collapse,\\n\\t\\t\\tselectNode: selectNode,\\n\\t\\t\\tselectNodeContents: selectNodeContents,\\n\\t\\t\\tcompareBoundaryPoints: compareBoundaryPoints,\\n\\t\\t\\tdeleteContents: deleteContents,\\n\\t\\t\\textractContents: extractContents,\\n\\t\\t\\tcloneContents: cloneContents,\\n\\t\\t\\tinsertNode: insertNode,\\n\\t\\t\\tsurroundContents: surroundContents,\\n\\t\\t\\tcloneRange: cloneRange,\\n\\t\\t\\ttoStringIE: toStringIE\\n\\t\\t});\\n\\n\\t\\treturn self;\\n\\t}\\n\\n\\t// Older IE versions doesn't let you override toString by it's constructor so we have to stick it in the prototype\\n\\tRange.prototype.toString = function() {\\n\\t\\treturn this.toStringIE();\\n\\t};\\n\\n\\treturn Range;\\n});\\n\\n// Included from: js/tinymce/classes/html/Entities.js\\n\\n/**\\n * Entities.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/*jshint bitwise:false */\\n/*eslint no-bitwise:0 */\\n\\n/**\\n * Entity encoder class.\\n *\\n * @class tinymce.html.Entities\\n * @static\\n * @version 3.4\\n */\\ndefine(\\\"tinymce/html/Entities\\\", [\\n\\t\\\"tinymce/util/Tools\\\"\\n], function(Tools) {\\n\\tvar makeMap = Tools.makeMap;\\n\\n\\tvar namedEntities, baseEntities, reverseEntities,\\n\\t\\tattrsCharsRegExp = /[&<>\\\\\\\"\\\\u0060\\\\u007E-\\\\uD7FF\\\\uE000-\\\\uFFEF]|[\\\\uD800-\\\\uDBFF][\\\\uDC00-\\\\uDFFF]/g,\\n\\t\\ttextCharsRegExp = /[<>&\\\\u007E-\\\\uD7FF\\\\uE000-\\\\uFFEF]|[\\\\uD800-\\\\uDBFF][\\\\uDC00-\\\\uDFFF]/g,\\n\\t\\trawCharsRegExp = /[<>&\\\\\\\"\\\\']/g,\\n\\t\\tentityRegExp = /&#([a-z0-9]+);?|&([a-z0-9]+);/gi,\\n\\t\\tasciiMap = {\\n\\t\\t\\t128: \\\"\\\\u20AC\\\", 130: \\\"\\\\u201A\\\", 131: \\\"\\\\u0192\\\", 132: \\\"\\\\u201E\\\", 133: \\\"\\\\u2026\\\", 134: \\\"\\\\u2020\\\",\\n\\t\\t\\t135: \\\"\\\\u2021\\\", 136: \\\"\\\\u02C6\\\", 137: \\\"\\\\u2030\\\", 138: \\\"\\\\u0160\\\", 139: \\\"\\\\u2039\\\", 140: \\\"\\\\u0152\\\",\\n\\t\\t\\t142: \\\"\\\\u017D\\\", 145: \\\"\\\\u2018\\\", 146: \\\"\\\\u2019\\\", 147: \\\"\\\\u201C\\\", 148: \\\"\\\\u201D\\\", 149: \\\"\\\\u2022\\\",\\n\\t\\t\\t150: \\\"\\\\u2013\\\", 151: \\\"\\\\u2014\\\", 152: \\\"\\\\u02DC\\\", 153: \\\"\\\\u2122\\\", 154: \\\"\\\\u0161\\\", 155: \\\"\\\\u203A\\\",\\n\\t\\t\\t156: \\\"\\\\u0153\\\", 158: \\\"\\\\u017E\\\", 159: \\\"\\\\u0178\\\"\\n\\t\\t};\\n\\n\\t// Raw entities\\n\\tbaseEntities = {\\n\\t\\t'\\\\\\\"': '&quot;', // Needs to be escaped since the YUI compressor would otherwise break the code\\n\\t\\t\\\"'\\\": '&#39;',\\n\\t\\t'<': '&lt;',\\n\\t\\t'>': '&gt;',\\n\\t\\t'&': '&amp;',\\n\\t\\t'\\\\u0060': '&#96;'\\n\\t};\\n\\n\\t// Reverse lookup table for raw entities\\n\\treverseEntities = {\\n\\t\\t'&lt;': '<',\\n\\t\\t'&gt;': '>',\\n\\t\\t'&amp;': '&',\\n\\t\\t'&quot;': '\\\"',\\n\\t\\t'&apos;': \\\"'\\\"\\n\\t};\\n\\n\\t// Decodes text by using the browser\\n\\tfunction nativeDecode(text) {\\n\\t\\tvar elm;\\n\\n\\t\\telm = document.createElement(\\\"div\\\");\\n\\t\\telm.innerHTML = text;\\n\\n\\t\\treturn elm.textContent || elm.innerText || text;\\n\\t}\\n\\n\\t// Build a two way lookup table for the entities\\n\\tfunction buildEntitiesLookup(items, radix) {\\n\\t\\tvar i, chr, entity, lookup = {};\\n\\n\\t\\tif (items) {\\n\\t\\t\\titems = items.split(',');\\n\\t\\t\\tradix = radix || 10;\\n\\n\\t\\t\\t// Build entities lookup table\\n\\t\\t\\tfor (i = 0; i < items.length; i += 2) {\\n\\t\\t\\t\\tchr = String.fromCharCode(parseInt(items[i], radix));\\n\\n\\t\\t\\t\\t// Only add non base entities\\n\\t\\t\\t\\tif (!baseEntities[chr]) {\\n\\t\\t\\t\\t\\tentity = '&' + items[i + 1] + ';';\\n\\t\\t\\t\\t\\tlookup[chr] = entity;\\n\\t\\t\\t\\t\\tlookup[entity] = chr;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn lookup;\\n\\t\\t}\\n\\t}\\n\\n\\t// Unpack entities lookup where the numbers are in radix 32 to reduce the size\\n\\tnamedEntities = buildEntitiesLookup(\\n\\t\\t'50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,' +\\n\\t\\t'5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,' +\\n\\t\\t'5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,' +\\n\\t\\t'5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,' +\\n\\t\\t'68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,' +\\n\\t\\t'6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,' +\\n\\t\\t'6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,' +\\n\\t\\t'75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,' +\\n\\t\\t'7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,' +\\n\\t\\t'7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,' +\\n\\t\\t'sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,' +\\n\\t\\t'st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,' +\\n\\t\\t't9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,' +\\n\\t\\t'tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,' +\\n\\t\\t'u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,' +\\n\\t\\t'81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,' +\\n\\t\\t'8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,' +\\n\\t\\t'8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,' +\\n\\t\\t'8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,' +\\n\\t\\t'8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,' +\\n\\t\\t'nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,' +\\n\\t\\t'rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,' +\\n\\t\\t'Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,' +\\n\\t\\t'80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,' +\\n\\t\\t'811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro', 32);\\n\\n\\tvar Entities = {\\n\\t\\t/**\\n\\t\\t * Encodes the specified string using raw entities. This means only the required XML base entities will be encoded.\\n\\t\\t *\\n\\t\\t * @method encodeRaw\\n\\t\\t * @param {String} text Text to encode.\\n\\t\\t * @param {Boolean} attr Optional flag to specify if the text is attribute contents.\\n\\t\\t * @return {String} Entity encoded text.\\n\\t\\t */\\n\\t\\tencodeRaw: function(text, attr) {\\n\\t\\t\\treturn text.replace(attr ? attrsCharsRegExp : textCharsRegExp, function(chr) {\\n\\t\\t\\t\\treturn baseEntities[chr] || chr;\\n\\t\\t\\t});\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Encoded the specified text with both the attributes and text entities. This function will produce larger text contents\\n\\t\\t * since it doesn't know if the context is within a attribute or text node. This was added for compatibility\\n\\t\\t * and is exposed as the DOMUtils.encode function.\\n\\t\\t *\\n\\t\\t * @method encodeAllRaw\\n\\t\\t * @param {String} text Text to encode.\\n\\t\\t * @return {String} Entity encoded text.\\n\\t\\t */\\n\\t\\tencodeAllRaw: function(text) {\\n\\t\\t\\treturn ('' + text).replace(rawCharsRegExp, function(chr) {\\n\\t\\t\\t\\treturn baseEntities[chr] || chr;\\n\\t\\t\\t});\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Encodes the specified string using numeric entities. The core entities will be\\n\\t\\t * encoded as named ones but all non lower ascii characters will be encoded into numeric entities.\\n\\t\\t *\\n\\t\\t * @method encodeNumeric\\n\\t\\t * @param {String} text Text to encode.\\n\\t\\t * @param {Boolean} attr Optional flag to specify if the text is attribute contents.\\n\\t\\t * @return {String} Entity encoded text.\\n\\t\\t */\\n\\t\\tencodeNumeric: function(text, attr) {\\n\\t\\t\\treturn text.replace(attr ? attrsCharsRegExp : textCharsRegExp, function(chr) {\\n\\t\\t\\t\\t// Multi byte sequence convert it to a single entity\\n\\t\\t\\t\\tif (chr.length > 1) {\\n\\t\\t\\t\\t\\treturn '&#' + (((chr.charCodeAt(0) - 0xD800) * 0x400) + (chr.charCodeAt(1) - 0xDC00) + 0x10000) + ';';\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn baseEntities[chr] || '&#' + chr.charCodeAt(0) + ';';\\n\\t\\t\\t});\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Encodes the specified string using named entities. The core entities will be encoded\\n\\t\\t * as named ones but all non lower ascii characters will be encoded into named entities.\\n\\t\\t *\\n\\t\\t * @method encodeNamed\\n\\t\\t * @param {String} text Text to encode.\\n\\t\\t * @param {Boolean} attr Optional flag to specify if the text is attribute contents.\\n\\t\\t * @param {Object} entities Optional parameter with entities to use.\\n\\t\\t * @return {String} Entity encoded text.\\n\\t\\t */\\n\\t\\tencodeNamed: function(text, attr, entities) {\\n\\t\\t\\tentities = entities || namedEntities;\\n\\n\\t\\t\\treturn text.replace(attr ? attrsCharsRegExp : textCharsRegExp, function(chr) {\\n\\t\\t\\t\\treturn baseEntities[chr] || entities[chr] || chr;\\n\\t\\t\\t});\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns an encode function based on the name(s) and it's optional entities.\\n\\t\\t *\\n\\t\\t * @method getEncodeFunc\\n\\t\\t * @param {String} name Comma separated list of encoders for example named,numeric.\\n\\t\\t * @param {String} entities Optional parameter with entities to use instead of the built in set.\\n\\t\\t * @return {function} Encode function to be used.\\n\\t\\t */\\n\\t\\tgetEncodeFunc: function(name, entities) {\\n\\t\\t\\tentities = buildEntitiesLookup(entities) || namedEntities;\\n\\n\\t\\t\\tfunction encodeNamedAndNumeric(text, attr) {\\n\\t\\t\\t\\treturn text.replace(attr ? attrsCharsRegExp : textCharsRegExp, function(chr) {\\n\\t\\t\\t\\t\\treturn baseEntities[chr] || entities[chr] || '&#' + chr.charCodeAt(0) + ';' || chr;\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction encodeCustomNamed(text, attr) {\\n\\t\\t\\t\\treturn Entities.encodeNamed(text, attr, entities);\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Replace + with , to be compatible with previous TinyMCE versions\\n\\t\\t\\tname = makeMap(name.replace(/\\\\+/g, ','));\\n\\n\\t\\t\\t// Named and numeric encoder\\n\\t\\t\\tif (name.named && name.numeric) {\\n\\t\\t\\t\\treturn encodeNamedAndNumeric;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Named encoder\\n\\t\\t\\tif (name.named) {\\n\\t\\t\\t\\t// Custom names\\n\\t\\t\\t\\tif (entities) {\\n\\t\\t\\t\\t\\treturn encodeCustomNamed;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn Entities.encodeNamed;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Numeric\\n\\t\\t\\tif (name.numeric) {\\n\\t\\t\\t\\treturn Entities.encodeNumeric;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Raw encoder\\n\\t\\t\\treturn Entities.encodeRaw;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Decodes the specified string, this will replace entities with raw UTF characters.\\n\\t\\t *\\n\\t\\t * @method decode\\n\\t\\t * @param {String} text Text to entity decode.\\n\\t\\t * @return {String} Entity decoded string.\\n\\t\\t */\\n\\t\\tdecode: function(text) {\\n\\t\\t\\treturn text.replace(entityRegExp, function(all, numeric) {\\n\\t\\t\\t\\tif (numeric) {\\n\\t\\t\\t\\t\\tif (numeric.charAt(0).toLowerCase() === 'x') {\\n\\t\\t\\t\\t\\t\\tnumeric = parseInt(numeric.substr(1), 16);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tnumeric = parseInt(numeric, 10);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Support upper UTF\\n\\t\\t\\t\\t\\tif (numeric > 0xFFFF) {\\n\\t\\t\\t\\t\\t\\tnumeric -= 0x10000;\\n\\n\\t\\t\\t\\t\\t\\treturn String.fromCharCode(0xD800 + (numeric >> 10), 0xDC00 + (numeric & 0x3FF));\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\treturn asciiMap[numeric] || String.fromCharCode(numeric);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn reverseEntities[all] || namedEntities[all] || nativeDecode(all);\\n\\t\\t\\t});\\n\\t\\t}\\n\\t};\\n\\n\\treturn Entities;\\n});\\n\\n// Included from: js/tinymce/classes/dom/StyleSheetLoader.js\\n\\n/**\\n * StyleSheetLoader.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class handles loading of external stylesheets and fires events when these are loaded.\\n *\\n * @class tinymce.dom.StyleSheetLoader\\n * @private\\n */\\ndefine(\\\"tinymce/dom/StyleSheetLoader\\\", [\\n\\t\\\"tinymce/util/Tools\\\",\\n\\t\\\"tinymce/util/Delay\\\"\\n], function(Tools, Delay) {\\n\\t\\\"use strict\\\";\\n\\n\\treturn function(document, settings) {\\n\\t\\tvar idCount = 0, loadedStates = {}, maxLoadTime;\\n\\n\\t\\tsettings = settings || {};\\n\\t\\tmaxLoadTime = settings.maxLoadTime || 5000;\\n\\n\\t\\tfunction appendToHead(node) {\\n\\t\\t\\tdocument.getElementsByTagName('head')[0].appendChild(node);\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Loads the specified css style sheet file and call the loadedCallback once it's finished loading.\\n\\t\\t *\\n\\t\\t * @method load\\n\\t\\t * @param {String} url Url to be loaded.\\n\\t\\t * @param {Function} loadedCallback Callback to be executed when loaded.\\n\\t\\t * @param {Function} errorCallback Callback to be executed when failed loading.\\n\\t\\t */\\n\\t\\tfunction load(url, loadedCallback, errorCallback) {\\n\\t\\t\\tvar link, style, startTime, state;\\n\\n\\t\\t\\tfunction passed() {\\n\\t\\t\\t\\tvar callbacks = state.passed, i = callbacks.length;\\n\\n\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\tcallbacks[i]();\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tstate.status = 2;\\n\\t\\t\\t\\tstate.passed = [];\\n\\t\\t\\t\\tstate.failed = [];\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction failed() {\\n\\t\\t\\t\\tvar callbacks = state.failed, i = callbacks.length;\\n\\n\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\tcallbacks[i]();\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tstate.status = 3;\\n\\t\\t\\t\\tstate.passed = [];\\n\\t\\t\\t\\tstate.failed = [];\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Sniffs for older WebKit versions that have the link.onload but a broken one\\n\\t\\t\\tfunction isOldWebKit() {\\n\\t\\t\\t\\tvar webKitChunks = navigator.userAgent.match(/WebKit\\\\/(\\\\d*)/);\\n\\t\\t\\t\\treturn !!(webKitChunks && webKitChunks[1] < 536);\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Calls the waitCallback until the test returns true or the timeout occurs\\n\\t\\t\\tfunction wait(testCallback, waitCallback) {\\n\\t\\t\\t\\tif (!testCallback()) {\\n\\t\\t\\t\\t\\t// Wait for timeout\\n\\t\\t\\t\\t\\tif ((new Date().getTime()) - startTime < maxLoadTime) {\\n\\t\\t\\t\\t\\t\\tDelay.setTimeout(waitCallback);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tfailed();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Workaround for WebKit that doesn't properly support the onload event for link elements\\n\\t\\t\\t// Or WebKit that fires the onload event before the StyleSheet is added to the document\\n\\t\\t\\tfunction waitForWebKitLinkLoaded() {\\n\\t\\t\\t\\twait(function() {\\n\\t\\t\\t\\t\\tvar styleSheets = document.styleSheets, styleSheet, i = styleSheets.length, owner;\\n\\n\\t\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\t\\tstyleSheet = styleSheets[i];\\n\\t\\t\\t\\t\\t\\towner = styleSheet.ownerNode ? styleSheet.ownerNode : styleSheet.owningElement;\\n\\t\\t\\t\\t\\t\\tif (owner && owner.id === link.id) {\\n\\t\\t\\t\\t\\t\\t\\tpassed();\\n\\t\\t\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}, waitForWebKitLinkLoaded);\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Workaround for older Geckos that doesn't have any onload event for StyleSheets\\n\\t\\t\\tfunction waitForGeckoLinkLoaded() {\\n\\t\\t\\t\\twait(function() {\\n\\t\\t\\t\\t\\ttry {\\n\\t\\t\\t\\t\\t\\t// Accessing the cssRules will throw an exception until the CSS file is loaded\\n\\t\\t\\t\\t\\t\\tvar cssRules = style.sheet.cssRules;\\n\\t\\t\\t\\t\\t\\tpassed();\\n\\t\\t\\t\\t\\t\\treturn !!cssRules;\\n\\t\\t\\t\\t\\t} catch (ex) {\\n\\t\\t\\t\\t\\t\\t// Ignore\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}, waitForGeckoLinkLoaded);\\n\\t\\t\\t}\\n\\n\\t\\t\\turl = Tools._addCacheSuffix(url);\\n\\n\\t\\t\\tif (!loadedStates[url]) {\\n\\t\\t\\t\\tstate = {\\n\\t\\t\\t\\t\\tpassed: [],\\n\\t\\t\\t\\t\\tfailed: []\\n\\t\\t\\t\\t};\\n\\n\\t\\t\\t\\tloadedStates[url] = state;\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tstate = loadedStates[url];\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (loadedCallback) {\\n\\t\\t\\t\\tstate.passed.push(loadedCallback);\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (errorCallback) {\\n\\t\\t\\t\\tstate.failed.push(errorCallback);\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Is loading wait for it to pass\\n\\t\\t\\tif (state.status == 1) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Has finished loading and was success\\n\\t\\t\\tif (state.status == 2) {\\n\\t\\t\\t\\tpassed();\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Has finished loading and was a failure\\n\\t\\t\\tif (state.status == 3) {\\n\\t\\t\\t\\tfailed();\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Start loading\\n\\t\\t\\tstate.status = 1;\\n\\t\\t\\tlink = document.createElement('link');\\n\\t\\t\\tlink.rel = 'stylesheet';\\n\\t\\t\\tlink.type = 'text/css';\\n\\t\\t\\tlink.id = 'u' + (idCount++);\\n\\t\\t\\tlink.async = false;\\n\\t\\t\\tlink.defer = false;\\n\\t\\t\\tstartTime = new Date().getTime();\\n\\n\\t\\t\\t// Feature detect onload on link element and sniff older webkits since it has an broken onload event\\n\\t\\t\\tif (\\\"onload\\\" in link && !isOldWebKit()) {\\n\\t\\t\\t\\tlink.onload = waitForWebKitLinkLoaded;\\n\\t\\t\\t\\tlink.onerror = failed;\\n\\t\\t\\t} else {\\n\\t\\t\\t\\t// Sniff for old Firefox that doesn't support the onload event on link elements\\n\\t\\t\\t\\t// TODO: Remove this in the future when everyone uses modern browsers\\n\\t\\t\\t\\tif (navigator.userAgent.indexOf(\\\"Firefox\\\") > 0) {\\n\\t\\t\\t\\t\\tstyle = document.createElement('style');\\n\\t\\t\\t\\t\\tstyle.textContent = '@import \\\"' + url + '\\\"';\\n\\t\\t\\t\\t\\twaitForGeckoLinkLoaded();\\n\\t\\t\\t\\t\\tappendToHead(style);\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Use the id owner on older webkits\\n\\t\\t\\t\\twaitForWebKitLinkLoaded();\\n\\t\\t\\t}\\n\\n\\t\\t\\tappendToHead(link);\\n\\t\\t\\tlink.href = url;\\n\\t\\t}\\n\\n\\t\\tthis.load = load;\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/dom/DOMUtils.js\\n\\n/**\\n * DOMUtils.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Utility class for various DOM manipulation and retrieval functions.\\n *\\n * @class tinymce.dom.DOMUtils\\n * @example\\n * // Add a class to an element by id in the page\\n * tinymce.DOM.addClass('someid', 'someclass');\\n *\\n * // Add a class to an element by id inside the editor\\n * tinymce.activeEditor.dom.addClass('someid', 'someclass');\\n */\\ndefine(\\\"tinymce/dom/DOMUtils\\\", [\\n\\t\\\"tinymce/dom/Sizzle\\\",\\n\\t\\\"tinymce/dom/DomQuery\\\",\\n\\t\\\"tinymce/html/Styles\\\",\\n\\t\\\"tinymce/dom/EventUtils\\\",\\n\\t\\\"tinymce/dom/TreeWalker\\\",\\n\\t\\\"tinymce/dom/Range\\\",\\n\\t\\\"tinymce/html/Entities\\\",\\n\\t\\\"tinymce/Env\\\",\\n\\t\\\"tinymce/util/Tools\\\",\\n\\t\\\"tinymce/dom/StyleSheetLoader\\\"\\n], function(Sizzle, $, Styles, EventUtils, TreeWalker, Range, Entities, Env, Tools, StyleSheetLoader) {\\n\\t// Shorten names\\n\\tvar each = Tools.each, is = Tools.is, grep = Tools.grep, trim = Tools.trim;\\n\\tvar isIE = Env.ie;\\n\\tvar simpleSelectorRe = /^([a-z0-9],?)+$/i;\\n\\tvar whiteSpaceRegExp = /^[ \\\\t\\\\r\\\\n]*$/;\\n\\n\\tfunction setupAttrHooks(domUtils, settings) {\\n\\t\\tvar attrHooks = {}, keepValues = settings.keep_values, keepUrlHook;\\n\\n\\t\\tkeepUrlHook = {\\n\\t\\t\\tset: function($elm, value, name) {\\n\\t\\t\\t\\tif (settings.url_converter) {\\n\\t\\t\\t\\t\\tvalue = settings.url_converter.call(settings.url_converter_scope || domUtils, value, name, $elm[0]);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t$elm.attr('data-mce-' + name, value).attr(name, value);\\n\\t\\t\\t},\\n\\n\\t\\t\\tget: function($elm, name) {\\n\\t\\t\\t\\treturn $elm.attr('data-mce-' + name) || $elm.attr(name);\\n\\t\\t\\t}\\n\\t\\t};\\n\\n\\t\\tattrHooks = {\\n\\t\\t\\tstyle: {\\n\\t\\t\\t\\tset: function($elm, value) {\\n\\t\\t\\t\\t\\tif (value !== null && typeof value === 'object') {\\n\\t\\t\\t\\t\\t\\t$elm.css(value);\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (keepValues) {\\n\\t\\t\\t\\t\\t\\t$elm.attr('data-mce-style', value);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t$elm.attr('style', value);\\n\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\tget: function($elm) {\\n\\t\\t\\t\\t\\tvar value = $elm.attr('data-mce-style') || $elm.attr('style');\\n\\n\\t\\t\\t\\t\\tvalue = domUtils.serializeStyle(domUtils.parseStyle(value), $elm[0].nodeName);\\n\\n\\t\\t\\t\\t\\treturn value;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t};\\n\\n\\t\\tif (keepValues) {\\n\\t\\t\\tattrHooks.href = attrHooks.src = keepUrlHook;\\n\\t\\t}\\n\\n\\t\\treturn attrHooks;\\n\\t}\\n\\n\\tfunction updateInternalStyleAttr(domUtils, $elm) {\\n\\t\\tvar value = $elm.attr('style');\\n\\n\\t\\tvalue = domUtils.serializeStyle(domUtils.parseStyle(value), $elm[0].nodeName);\\n\\n\\t\\tif (!value) {\\n\\t\\t\\tvalue = null;\\n\\t\\t}\\n\\n\\t\\t$elm.attr('data-mce-style', value);\\n\\t}\\n\\n\\tfunction nodeIndex(node, normalized) {\\n\\t\\tvar idx = 0, lastNodeType, nodeType;\\n\\n\\t\\tif (node) {\\n\\t\\t\\tfor (lastNodeType = node.nodeType, node = node.previousSibling; node; node = node.previousSibling) {\\n\\t\\t\\t\\tnodeType = node.nodeType;\\n\\n\\t\\t\\t\\t// Normalize text nodes\\n\\t\\t\\t\\tif (normalized && nodeType == 3) {\\n\\t\\t\\t\\t\\tif (nodeType == lastNodeType || !node.nodeValue.length) {\\n\\t\\t\\t\\t\\t\\tcontinue;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tidx++;\\n\\t\\t\\t\\tlastNodeType = nodeType;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\treturn idx;\\n\\t}\\n\\n\\t/**\\n\\t * Constructs a new DOMUtils instance. Consult the Wiki for more details on settings etc for this class.\\n\\t *\\n\\t * @constructor\\n\\t * @method DOMUtils\\n\\t * @param {Document} doc Document reference to bind the utility class to.\\n\\t * @param {settings} settings Optional settings collection.\\n\\t */\\n\\tfunction DOMUtils(doc, settings) {\\n\\t\\tvar self = this, blockElementsMap;\\n\\n\\t\\tself.doc = doc;\\n\\t\\tself.win = window;\\n\\t\\tself.files = {};\\n\\t\\tself.counter = 0;\\n\\t\\tself.stdMode = !isIE || doc.documentMode >= 8;\\n\\t\\tself.boxModel = !isIE || doc.compatMode == \\\"CSS1Compat\\\" || self.stdMode;\\n\\t\\tself.styleSheetLoader = new StyleSheetLoader(doc);\\n\\t\\tself.boundEvents = [];\\n\\t\\tself.settings = settings = settings || {};\\n\\t\\tself.schema = settings.schema;\\n\\t\\tself.styles = new Styles({\\n\\t\\t\\turl_converter: settings.url_converter,\\n\\t\\t\\turl_converter_scope: settings.url_converter_scope\\n\\t\\t}, settings.schema);\\n\\n\\t\\tself.fixDoc(doc);\\n\\t\\tself.events = settings.ownEvents ? new EventUtils(settings.proxy) : EventUtils.Event;\\n\\t\\tself.attrHooks = setupAttrHooks(self, settings);\\n\\t\\tblockElementsMap = settings.schema ? settings.schema.getBlockElements() : {};\\n\\t\\tself.$ = $.overrideDefaults(function() {\\n\\t\\t\\treturn {\\n\\t\\t\\t\\tcontext: doc,\\n\\t\\t\\t\\telement: self.getRoot()\\n\\t\\t\\t};\\n\\t\\t});\\n\\n\\t\\t/**\\n\\t\\t * Returns true/false if the specified element is a block element or not.\\n\\t\\t *\\n\\t\\t * @method isBlock\\n\\t\\t * @param {Node/String} node Element/Node to check.\\n\\t\\t * @return {Boolean} True/False state if the node is a block element or not.\\n\\t\\t */\\n\\t\\tself.isBlock = function(node) {\\n\\t\\t\\t// Fix for #5446\\n\\t\\t\\tif (!node) {\\n\\t\\t\\t\\treturn false;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// This function is called in module pattern style since it might be executed with the wrong this scope\\n\\t\\t\\tvar type = node.nodeType;\\n\\n\\t\\t\\t// If it's a node then check the type and use the nodeName\\n\\t\\t\\tif (type) {\\n\\t\\t\\t\\treturn !!(type === 1 && blockElementsMap[node.nodeName]);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn !!blockElementsMap[node];\\n\\t\\t};\\n\\t}\\n\\n\\tDOMUtils.prototype = {\\n\\t\\t$$: function(elm) {\\n\\t\\t\\tif (typeof elm == 'string') {\\n\\t\\t\\t\\telm = this.get(elm);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn this.$(elm);\\n\\t\\t},\\n\\n\\t\\troot: null,\\n\\n\\t\\tfixDoc: function(doc) {\\n\\t\\t\\tvar settings = this.settings, name;\\n\\n\\t\\t\\tif (isIE && settings.schema) {\\n\\t\\t\\t\\t// Add missing HTML 4/5 elements to IE\\n\\t\\t\\t\\t('abbr article aside audio canvas ' +\\n\\t\\t\\t\\t'details figcaption figure footer ' +\\n\\t\\t\\t\\t'header hgroup mark menu meter nav ' +\\n\\t\\t\\t\\t'output progress section summary ' +\\n\\t\\t\\t\\t'time video').replace(/\\\\w+/g, function(name) {\\n\\t\\t\\t\\t\\tdoc.createElement(name);\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t// Create all custom elements\\n\\t\\t\\t\\tfor (name in settings.schema.getCustomElements()) {\\n\\t\\t\\t\\t\\tdoc.createElement(name);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\tclone: function(node, deep) {\\n\\t\\t\\tvar self = this, clone, doc;\\n\\n\\t\\t\\t// TODO: Add feature detection here in the future\\n\\t\\t\\tif (!isIE || node.nodeType !== 1 || deep) {\\n\\t\\t\\t\\treturn node.cloneNode(deep);\\n\\t\\t\\t}\\n\\n\\t\\t\\tdoc = self.doc;\\n\\n\\t\\t\\t// Make a HTML5 safe shallow copy\\n\\t\\t\\tif (!deep) {\\n\\t\\t\\t\\tclone = doc.createElement(node.nodeName);\\n\\n\\t\\t\\t\\t// Copy attribs\\n\\t\\t\\t\\teach(self.getAttribs(node), function(attr) {\\n\\t\\t\\t\\t\\tself.setAttrib(clone, attr.nodeName, self.getAttrib(node, attr.nodeName));\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\treturn clone;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn clone.firstChild;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns the root node of the document. This is normally the body but might be a DIV. Parents like getParent will not\\n\\t\\t * go above the point of this root node.\\n\\t\\t *\\n\\t\\t * @method getRoot\\n\\t\\t * @return {Element} Root element for the utility class.\\n\\t\\t */\\n\\t\\tgetRoot: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\treturn self.settings.root_element || self.doc.body;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns the viewport of the window.\\n\\t\\t *\\n\\t\\t * @method getViewPort\\n\\t\\t * @param {Window} win Optional window to get viewport of.\\n\\t\\t * @return {Object} Viewport object with fields x, y, w and h.\\n\\t\\t */\\n\\t\\tgetViewPort: function(win) {\\n\\t\\t\\tvar doc, rootElm;\\n\\n\\t\\t\\twin = !win ? this.win : win;\\n\\t\\t\\tdoc = win.document;\\n\\t\\t\\trootElm = this.boxModel ? doc.documentElement : doc.body;\\n\\n\\t\\t\\t// Returns viewport size excluding scrollbars\\n\\t\\t\\treturn {\\n\\t\\t\\t\\tx: win.pageXOffset || rootElm.scrollLeft,\\n\\t\\t\\t\\ty: win.pageYOffset || rootElm.scrollTop,\\n\\t\\t\\t\\tw: win.innerWidth || rootElm.clientWidth,\\n\\t\\t\\t\\th: win.innerHeight || rootElm.clientHeight\\n\\t\\t\\t};\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns the rectangle for a specific element.\\n\\t\\t *\\n\\t\\t * @method getRect\\n\\t\\t * @param {Element/String} elm Element object or element ID to get rectangle from.\\n\\t\\t * @return {object} Rectangle for specified element object with x, y, w, h fields.\\n\\t\\t */\\n\\t\\tgetRect: function(elm) {\\n\\t\\t\\tvar self = this, pos, size;\\n\\n\\t\\t\\telm = self.get(elm);\\n\\t\\t\\tpos = self.getPos(elm);\\n\\t\\t\\tsize = self.getSize(elm);\\n\\n\\t\\t\\treturn {\\n\\t\\t\\t\\tx: pos.x, y: pos.y,\\n\\t\\t\\t\\tw: size.w, h: size.h\\n\\t\\t\\t};\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns the size dimensions of the specified element.\\n\\t\\t *\\n\\t\\t * @method getSize\\n\\t\\t * @param {Element/String} elm Element object or element ID to get rectangle from.\\n\\t\\t * @return {object} Rectangle for specified element object with w, h fields.\\n\\t\\t */\\n\\t\\tgetSize: function(elm) {\\n\\t\\t\\tvar self = this, w, h;\\n\\n\\t\\t\\telm = self.get(elm);\\n\\t\\t\\tw = self.getStyle(elm, 'width');\\n\\t\\t\\th = self.getStyle(elm, 'height');\\n\\n\\t\\t\\t// Non pixel value, then force offset/clientWidth\\n\\t\\t\\tif (w.indexOf('px') === -1) {\\n\\t\\t\\t\\tw = 0;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Non pixel value, then force offset/clientWidth\\n\\t\\t\\tif (h.indexOf('px') === -1) {\\n\\t\\t\\t\\th = 0;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn {\\n\\t\\t\\t\\tw: parseInt(w, 10) || elm.offsetWidth || elm.clientWidth,\\n\\t\\t\\t\\th: parseInt(h, 10) || elm.offsetHeight || elm.clientHeight\\n\\t\\t\\t};\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns a node by the specified selector function. This function will\\n\\t\\t * loop through all parent nodes and call the specified function for each node.\\n\\t\\t * If the function then returns true indicating that it has found what it was looking for, the loop execution will then end\\n\\t\\t * and the node it found will be returned.\\n\\t\\t *\\n\\t\\t * @method getParent\\n\\t\\t * @param {Node/String} node DOM node to search parents on or ID string.\\n\\t\\t * @param {function} selector Selection function or CSS selector to execute on each node.\\n\\t\\t * @param {Node} root Optional root element, never go beyond this point.\\n\\t\\t * @return {Node} DOM Node or null if it wasn't found.\\n\\t\\t */\\n\\t\\tgetParent: function(node, selector, root) {\\n\\t\\t\\treturn this.getParents(node, selector, root, false);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns a node list of all parents matching the specified selector function or pattern.\\n\\t\\t * If the function then returns true indicating that it has found what it was looking for and that node will be collected.\\n\\t\\t *\\n\\t\\t * @method getParents\\n\\t\\t * @param {Node/String} node DOM node to search parents on or ID string.\\n\\t\\t * @param {function} selector Selection function to execute on each node or CSS pattern.\\n\\t\\t * @param {Node} root Optional root element, never go beyond this point.\\n\\t\\t * @return {Array} Array of nodes or null if it wasn't found.\\n\\t\\t */\\n\\t\\tgetParents: function(node, selector, root, collect) {\\n\\t\\t\\tvar self = this, selectorVal, result = [];\\n\\n\\t\\t\\tnode = self.get(node);\\n\\t\\t\\tcollect = collect === undefined;\\n\\n\\t\\t\\t// Default root on inline mode\\n\\t\\t\\troot = root || (self.getRoot().nodeName != 'BODY' ? self.getRoot().parentNode : null);\\n\\n\\t\\t\\t// Wrap node name as func\\n\\t\\t\\tif (is(selector, 'string')) {\\n\\t\\t\\t\\tselectorVal = selector;\\n\\n\\t\\t\\t\\tif (selector === '*') {\\n\\t\\t\\t\\t\\tselector = function(node) {\\n\\t\\t\\t\\t\\t\\treturn node.nodeType == 1;\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tselector = function(node) {\\n\\t\\t\\t\\t\\t\\treturn self.is(node, selectorVal);\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\twhile (node) {\\n\\t\\t\\t\\tif (node == root || !node.nodeType || node.nodeType === 9) {\\n\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (!selector || selector(node)) {\\n\\t\\t\\t\\t\\tif (collect) {\\n\\t\\t\\t\\t\\t\\tresult.push(node);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\treturn node;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tnode = node.parentNode;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn collect ? result : null;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns the specified element by ID or the input element if it isn't a string.\\n\\t\\t *\\n\\t\\t * @method get\\n\\t\\t * @param {String/Element} n Element id to look for or element to just pass though.\\n\\t\\t * @return {Element} Element matching the specified id or null if it wasn't found.\\n\\t\\t */\\n\\t\\tget: function(elm) {\\n\\t\\t\\tvar name;\\n\\n\\t\\t\\tif (elm && this.doc && typeof elm == 'string') {\\n\\t\\t\\t\\tname = elm;\\n\\t\\t\\t\\telm = this.doc.getElementById(elm);\\n\\n\\t\\t\\t\\t// IE and Opera returns meta elements when they match the specified input ID, but getElementsByName seems to do the trick\\n\\t\\t\\t\\tif (elm && elm.id !== name) {\\n\\t\\t\\t\\t\\treturn this.doc.getElementsByName(name)[1];\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn elm;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns the next node that matches selector or function\\n\\t\\t *\\n\\t\\t * @method getNext\\n\\t\\t * @param {Node} node Node to find siblings from.\\n\\t\\t * @param {String/function} selector Selector CSS expression or function.\\n\\t\\t * @return {Node} Next node item matching the selector or null if it wasn't found.\\n\\t\\t */\\n\\t\\tgetNext: function(node, selector) {\\n\\t\\t\\treturn this._findSib(node, selector, 'nextSibling');\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns the previous node that matches selector or function\\n\\t\\t *\\n\\t\\t * @method getPrev\\n\\t\\t * @param {Node} node Node to find siblings from.\\n\\t\\t * @param {String/function} selector Selector CSS expression or function.\\n\\t\\t * @return {Node} Previous node item matching the selector or null if it wasn't found.\\n\\t\\t */\\n\\t\\tgetPrev: function(node, selector) {\\n\\t\\t\\treturn this._findSib(node, selector, 'previousSibling');\\n\\t\\t},\\n\\n\\t\\t// #ifndef jquery\\n\\n\\t\\t/**\\n\\t\\t * Selects specific elements by a CSS level 3 pattern. For example \\\"div#a1 p.test\\\".\\n\\t\\t * This function is optimized for the most common patterns needed in TinyMCE but it also performs well enough\\n\\t\\t * on more complex patterns.\\n\\t\\t *\\n\\t\\t * @method select\\n\\t\\t * @param {String} selector CSS level 3 pattern to select/find elements by.\\n\\t\\t * @param {Object} scope Optional root element/scope element to search in.\\n\\t\\t * @return {Array} Array with all matched elements.\\n\\t\\t * @example\\n\\t\\t * // Adds a class to all paragraphs in the currently active editor\\n\\t\\t * tinymce.activeEditor.dom.addClass(tinymce.activeEditor.dom.select('p'), 'someclass');\\n\\t\\t *\\n\\t\\t * // Adds a class to all spans that have the test class in the currently active editor\\n\\t\\t * tinymce.activeEditor.dom.addClass(tinymce.activeEditor.dom.select('span.test'), 'someclass')\\n\\t\\t */\\n\\t\\tselect: function(selector, scope) {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\t/*eslint new-cap:0 */\\n\\t\\t\\treturn Sizzle(selector, self.get(scope) || self.settings.root_element || self.doc, []);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns true/false if the specified element matches the specified css pattern.\\n\\t\\t *\\n\\t\\t * @method is\\n\\t\\t * @param {Node/NodeList} elm DOM node to match or an array of nodes to match.\\n\\t\\t * @param {String} selector CSS pattern to match the element against.\\n\\t\\t */\\n\\t\\tis: function(elm, selector) {\\n\\t\\t\\tvar i;\\n\\n\\t\\t\\t// If it isn't an array then try to do some simple selectors instead of Sizzle for to boost performance\\n\\t\\t\\tif (elm.length === undefined) {\\n\\t\\t\\t\\t// Simple all selector\\n\\t\\t\\t\\tif (selector === '*') {\\n\\t\\t\\t\\t\\treturn elm.nodeType == 1;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Simple selector just elements\\n\\t\\t\\t\\tif (simpleSelectorRe.test(selector)) {\\n\\t\\t\\t\\t\\tselector = selector.toLowerCase().split(/,/);\\n\\t\\t\\t\\t\\telm = elm.nodeName.toLowerCase();\\n\\n\\t\\t\\t\\t\\tfor (i = selector.length - 1; i >= 0; i--) {\\n\\t\\t\\t\\t\\t\\tif (selector[i] == elm) {\\n\\t\\t\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Is non element\\n\\t\\t\\tif (elm.nodeType && elm.nodeType != 1) {\\n\\t\\t\\t\\treturn false;\\n\\t\\t\\t}\\n\\n\\t\\t\\tvar elms = elm.nodeType ? [elm] : elm;\\n\\n\\t\\t\\t/*eslint new-cap:0 */\\n\\t\\t\\treturn Sizzle(selector, elms[0].ownerDocument || elms[0], null, elms).length > 0;\\n\\t\\t},\\n\\n\\t\\t// #endif\\n\\n\\t\\t/**\\n\\t\\t * Adds the specified element to another element or elements.\\n\\t\\t *\\n\\t\\t * @method add\\n\\t\\t * @param {String/Element/Array} parentElm Element id string, DOM node element or array of ids or elements to add to.\\n\\t\\t * @param {String/Element} name Name of new element to add or existing element to add.\\n\\t\\t * @param {Object} attrs Optional object collection with arguments to add to the new element(s).\\n\\t\\t * @param {String} html Optional inner HTML contents to add for each element.\\n\\t\\t * @param {Boolean} create Optional flag if the element should be created or added.\\n\\t\\t * @return {Element/Array} Element that got created, or an array of created elements if multiple input elements\\n\\t\\t * were passed in.\\n\\t\\t * @example\\n\\t\\t * // Adds a new paragraph to the end of the active editor\\n\\t\\t * tinymce.activeEditor.dom.add(tinymce.activeEditor.getBody(), 'p', {title: 'my title'}, 'Some content');\\n\\t\\t */\\n\\t\\tadd: function(parentElm, name, attrs, html, create) {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\treturn this.run(parentElm, function(parentElm) {\\n\\t\\t\\t\\tvar newElm;\\n\\n\\t\\t\\t\\tnewElm = is(name, 'string') ? self.doc.createElement(name) : name;\\n\\t\\t\\t\\tself.setAttribs(newElm, attrs);\\n\\n\\t\\t\\t\\tif (html) {\\n\\t\\t\\t\\t\\tif (html.nodeType) {\\n\\t\\t\\t\\t\\t\\tnewElm.appendChild(html);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tself.setHTML(newElm, html);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn !create ? parentElm.appendChild(newElm) : newElm;\\n\\t\\t\\t});\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Creates a new element.\\n\\t\\t *\\n\\t\\t * @method create\\n\\t\\t * @param {String} name Name of new element.\\n\\t\\t * @param {Object} attrs Optional object name/value collection with element attributes.\\n\\t\\t * @param {String} html Optional HTML string to set as inner HTML of the element.\\n\\t\\t * @return {Element} HTML DOM node element that got created.\\n\\t\\t * @example\\n\\t\\t * // Adds an element where the caret/selection is in the active editor\\n\\t\\t * var el = tinymce.activeEditor.dom.create('div', {id: 'test', 'class': 'myclass'}, 'some content');\\n\\t\\t * tinymce.activeEditor.selection.setNode(el);\\n\\t\\t */\\n\\t\\tcreate: function(name, attrs, html) {\\n\\t\\t\\treturn this.add(this.doc.createElement(name), name, attrs, html, 1);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Creates HTML string for element. The element will be closed unless an empty inner HTML string is passed in.\\n\\t\\t *\\n\\t\\t * @method createHTML\\n\\t\\t * @param {String} name Name of new element.\\n\\t\\t * @param {Object} attrs Optional object name/value collection with element attributes.\\n\\t\\t * @param {String} html Optional HTML string to set as inner HTML of the element.\\n\\t\\t * @return {String} String with new HTML element, for example: <a href=\\\"#\\\">test</a>.\\n\\t\\t * @example\\n\\t\\t * // Creates a html chunk and inserts it at the current selection/caret location\\n\\t\\t * tinymce.activeEditor.selection.setContent(tinymce.activeEditor.dom.createHTML('a', {href: 'test.html'}, 'some line'));\\n\\t\\t */\\n\\t\\tcreateHTML: function(name, attrs, html) {\\n\\t\\t\\tvar outHtml = '', key;\\n\\n\\t\\t\\toutHtml += '<' + name;\\n\\n\\t\\t\\tfor (key in attrs) {\\n\\t\\t\\t\\tif (attrs.hasOwnProperty(key) && attrs[key] !== null && typeof attrs[key] != 'undefined') {\\n\\t\\t\\t\\t\\toutHtml += ' ' + key + '=\\\"' + this.encode(attrs[key]) + '\\\"';\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// A call to tinymce.is doesn't work for some odd reason on IE9 possible bug inside their JS runtime\\n\\t\\t\\tif (typeof html != \\\"undefined\\\") {\\n\\t\\t\\t\\treturn outHtml + '>' + html + '</' + name + '>';\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn outHtml + ' />';\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Creates a document fragment out of the specified HTML string.\\n\\t\\t *\\n\\t\\t * @method createFragment\\n\\t\\t * @param {String} html Html string to create fragment from.\\n\\t\\t * @return {DocumentFragment} Document fragment node.\\n\\t\\t */\\n\\t\\tcreateFragment: function(html) {\\n\\t\\t\\tvar frag, node, doc = this.doc, container;\\n\\n\\t\\t\\tcontainer = doc.createElement(\\\"div\\\");\\n\\t\\t\\tfrag = doc.createDocumentFragment();\\n\\n\\t\\t\\tif (html) {\\n\\t\\t\\t\\tcontainer.innerHTML = html;\\n\\t\\t\\t}\\n\\n\\t\\t\\twhile ((node = container.firstChild)) {\\n\\t\\t\\t\\tfrag.appendChild(node);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn frag;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Removes/deletes the specified element(s) from the DOM.\\n\\t\\t *\\n\\t\\t * @method remove\\n\\t\\t * @param {String/Element/Array} node ID of element or DOM element object or array containing multiple elements/ids.\\n\\t\\t * @param {Boolean} keepChildren Optional state to keep children or not. If set to true all children will be\\n\\t\\t * placed at the location of the removed element.\\n\\t\\t * @return {Element/Array} HTML DOM element that got removed, or an array of removed elements if multiple input elements\\n\\t\\t * were passed in.\\n\\t\\t * @example\\n\\t\\t * // Removes all paragraphs in the active editor\\n\\t\\t * tinymce.activeEditor.dom.remove(tinymce.activeEditor.dom.select('p'));\\n\\t\\t *\\n\\t\\t * // Removes an element by id in the document\\n\\t\\t * tinymce.DOM.remove('mydiv');\\n\\t\\t */\\n\\t\\tremove: function(node, keepChildren) {\\n\\t\\t\\tnode = this.$$(node);\\n\\n\\t\\t\\tif (keepChildren) {\\n\\t\\t\\t\\tnode.each(function() {\\n\\t\\t\\t\\t\\tvar child;\\n\\n\\t\\t\\t\\t\\twhile ((child = this.firstChild)) {\\n\\t\\t\\t\\t\\t\\tif (child.nodeType == 3 && child.data.length === 0) {\\n\\t\\t\\t\\t\\t\\t\\tthis.removeChild(child);\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\tthis.parentNode.insertBefore(child, this);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}).remove();\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tnode.remove();\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn node.length > 1 ? node.toArray() : node[0];\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Sets the CSS style value on a HTML element. The name can be a camelcase string\\n\\t\\t * or the CSS style name like background-color.\\n\\t\\t *\\n\\t\\t * @method setStyle\\n\\t\\t * @param {String/Element/Array} elm HTML element/Array of elements to set CSS style value on.\\n\\t\\t * @param {String} name Name of the style value to set.\\n\\t\\t * @param {String} value Value to set on the style.\\n\\t\\t * @example\\n\\t\\t * // Sets a style value on all paragraphs in the currently active editor\\n\\t\\t * tinymce.activeEditor.dom.setStyle(tinymce.activeEditor.dom.select('p'), 'background-color', 'red');\\n\\t\\t *\\n\\t\\t * // Sets a style value to an element by id in the current document\\n\\t\\t * tinymce.DOM.setStyle('mydiv', 'background-color', 'red');\\n\\t\\t */\\n\\t\\tsetStyle: function(elm, name, value) {\\n\\t\\t\\telm = this.$$(elm).css(name, value);\\n\\n\\t\\t\\tif (this.settings.update_styles) {\\n\\t\\t\\t\\tupdateInternalStyleAttr(this, elm);\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns the current style or runtime/computed value of an element.\\n\\t\\t *\\n\\t\\t * @method getStyle\\n\\t\\t * @param {String/Element} elm HTML element or element id string to get style from.\\n\\t\\t * @param {String} name Style name to return.\\n\\t\\t * @param {Boolean} computed Computed style.\\n\\t\\t * @return {String} Current style or computed style value of an element.\\n\\t\\t */\\n\\t\\tgetStyle: function(elm, name, computed) {\\n\\t\\t\\telm = this.$$(elm);\\n\\n\\t\\t\\tif (computed) {\\n\\t\\t\\t\\treturn elm.css(name);\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Camelcase it, if needed\\n\\t\\t\\tname = name.replace(/-(\\\\D)/g, function(a, b) {\\n\\t\\t\\t\\treturn b.toUpperCase();\\n\\t\\t\\t});\\n\\n\\t\\t\\tif (name == 'float') {\\n\\t\\t\\t\\tname = Env.ie && Env.ie < 12 ? 'styleFloat' : 'cssFloat';\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn elm[0] && elm[0].style ? elm[0].style[name] : undefined;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Sets multiple styles on the specified element(s).\\n\\t\\t *\\n\\t\\t * @method setStyles\\n\\t\\t * @param {Element/String/Array} elm DOM element, element id string or array of elements/ids to set styles on.\\n\\t\\t * @param {Object} styles Name/Value collection of style items to add to the element(s).\\n\\t\\t * @example\\n\\t\\t * // Sets styles on all paragraphs in the currently active editor\\n\\t\\t * tinymce.activeEditor.dom.setStyles(tinymce.activeEditor.dom.select('p'), {'background-color': 'red', 'color': 'green'});\\n\\t\\t *\\n\\t\\t * // Sets styles to an element by id in the current document\\n\\t\\t * tinymce.DOM.setStyles('mydiv', {'background-color': 'red', 'color': 'green'});\\n\\t\\t */\\n\\t\\tsetStyles: function(elm, styles) {\\n\\t\\t\\telm = this.$$(elm).css(styles);\\n\\n\\t\\t\\tif (this.settings.update_styles) {\\n\\t\\t\\t\\tupdateInternalStyleAttr(this, elm);\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Removes all attributes from an element or elements.\\n\\t\\t *\\n\\t\\t * @method removeAllAttribs\\n\\t\\t * @param {Element/String/Array} e DOM element, element id string or array of elements/ids to remove attributes from.\\n\\t\\t */\\n\\t\\tremoveAllAttribs: function(e) {\\n\\t\\t\\treturn this.run(e, function(e) {\\n\\t\\t\\t\\tvar i, attrs = e.attributes;\\n\\t\\t\\t\\tfor (i = attrs.length - 1; i >= 0; i--) {\\n\\t\\t\\t\\t\\te.removeAttributeNode(attrs.item(i));\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Sets the specified attribute of an element or elements.\\n\\t\\t *\\n\\t\\t * @method setAttrib\\n\\t\\t * @param {Element/String/Array} elm DOM element, element id string or array of elements/ids to set attribute on.\\n\\t\\t * @param {String} name Name of attribute to set.\\n\\t\\t * @param {String} value Value to set on the attribute - if this value is falsy like null, 0 or '' it will remove\\n\\t\\t * the attribute instead.\\n\\t\\t * @example\\n\\t\\t * // Sets class attribute on all paragraphs in the active editor\\n\\t\\t * tinymce.activeEditor.dom.setAttrib(tinymce.activeEditor.dom.select('p'), 'class', 'myclass');\\n\\t\\t *\\n\\t\\t * // Sets class attribute on a specific element in the current page\\n\\t\\t * tinymce.dom.setAttrib('mydiv', 'class', 'myclass');\\n\\t\\t */\\n\\t\\tsetAttrib: function(elm, name, value) {\\n\\t\\t\\tvar self = this, originalValue, hook, settings = self.settings;\\n\\n\\t\\t\\tif (value === '') {\\n\\t\\t\\t\\tvalue = null;\\n\\t\\t\\t}\\n\\n\\t\\t\\telm = self.$$(elm);\\n\\t\\t\\toriginalValue = elm.attr(name);\\n\\n\\t\\t\\tif (!elm.length) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\thook = self.attrHooks[name];\\n\\t\\t\\tif (hook && hook.set) {\\n\\t\\t\\t\\thook.set(elm, value, name);\\n\\t\\t\\t} else {\\n\\t\\t\\t\\telm.attr(name, value);\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (originalValue != value && settings.onSetAttrib) {\\n\\t\\t\\t\\tsettings.onSetAttrib({\\n\\t\\t\\t\\t\\tattrElm: elm,\\n\\t\\t\\t\\t\\tattrName: name,\\n\\t\\t\\t\\t\\tattrValue: value\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Sets two or more specified attributes of an element or elements.\\n\\t\\t *\\n\\t\\t * @method setAttribs\\n\\t\\t * @param {Element/String/Array} elm DOM element, element id string or array of elements/ids to set attributes on.\\n\\t\\t * @param {Object} attrs Name/Value collection of attribute items to add to the element(s).\\n\\t\\t * @example\\n\\t\\t * // Sets class and title attributes on all paragraphs in the active editor\\n\\t\\t * tinymce.activeEditor.dom.setAttribs(tinymce.activeEditor.dom.select('p'), {'class': 'myclass', title: 'some title'});\\n\\t\\t *\\n\\t\\t * // Sets class and title attributes on a specific element in the current page\\n\\t\\t * tinymce.DOM.setAttribs('mydiv', {'class': 'myclass', title: 'some title'});\\n\\t\\t */\\n\\t\\tsetAttribs: function(elm, attrs) {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tself.$$(elm).each(function(i, node) {\\n\\t\\t\\t\\teach(attrs, function(value, name) {\\n\\t\\t\\t\\t\\tself.setAttrib(node, name, value);\\n\\t\\t\\t\\t});\\n\\t\\t\\t});\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns the specified attribute by name.\\n\\t\\t *\\n\\t\\t * @method getAttrib\\n\\t\\t * @param {String/Element} elm Element string id or DOM element to get attribute from.\\n\\t\\t * @param {String} name Name of attribute to get.\\n\\t\\t * @param {String} defaultVal Optional default value to return if the attribute didn't exist.\\n\\t\\t * @return {String} Attribute value string, default value or null if the attribute wasn't found.\\n\\t\\t */\\n\\t\\tgetAttrib: function(elm, name, defaultVal) {\\n\\t\\t\\tvar self = this, hook, value;\\n\\n\\t\\t\\telm = self.$$(elm);\\n\\n\\t\\t\\tif (elm.length) {\\n\\t\\t\\t\\thook = self.attrHooks[name];\\n\\n\\t\\t\\t\\tif (hook && hook.get) {\\n\\t\\t\\t\\t\\tvalue = hook.get(elm, name);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tvalue = elm.attr(name);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (typeof value == 'undefined') {\\n\\t\\t\\t\\tvalue = defaultVal || '';\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn value;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns the absolute x, y position of a node. The position will be returned in an object with x, y fields.\\n\\t\\t *\\n\\t\\t * @method getPos\\n\\t\\t * @param {Element/String} elm HTML element or element id to get x, y position from.\\n\\t\\t * @param {Element} rootElm Optional root element to stop calculations at.\\n\\t\\t * @return {object} Absolute position of the specified element object with x, y fields.\\n\\t\\t */\\n\\t\\tgetPos: function(elm, rootElm) {\\n\\t\\t\\tvar self = this, x = 0, y = 0, offsetParent, doc = self.doc, body = doc.body, pos;\\n\\n\\t\\t\\telm = self.get(elm);\\n\\t\\t\\trootElm = rootElm || body;\\n\\n\\t\\t\\tif (elm) {\\n\\t\\t\\t\\t// Use getBoundingClientRect if it exists since it's faster than looping offset nodes\\n\\t\\t\\t\\t// Fallback to offsetParent calculations if the body isn't static better since it stops at the body root\\n\\t\\t\\t\\tif (rootElm === body && elm.getBoundingClientRect && $(body).css('position') === 'static') {\\n\\t\\t\\t\\t\\tpos = elm.getBoundingClientRect();\\n\\t\\t\\t\\t\\trootElm = self.boxModel ? doc.documentElement : body;\\n\\n\\t\\t\\t\\t\\t// Add scroll offsets from documentElement or body since IE with the wrong box model will use d.body and so do WebKit\\n\\t\\t\\t\\t\\t// Also remove the body/documentelement clientTop/clientLeft on IE 6, 7 since they offset the position\\n\\t\\t\\t\\t\\tx = pos.left + (doc.documentElement.scrollLeft || body.scrollLeft) - rootElm.clientLeft;\\n\\t\\t\\t\\t\\ty = pos.top + (doc.documentElement.scrollTop || body.scrollTop) - rootElm.clientTop;\\n\\n\\t\\t\\t\\t\\treturn {x: x, y: y};\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\toffsetParent = elm;\\n\\t\\t\\t\\twhile (offsetParent && offsetParent != rootElm && offsetParent.nodeType) {\\n\\t\\t\\t\\t\\tx += offsetParent.offsetLeft || 0;\\n\\t\\t\\t\\t\\ty += offsetParent.offsetTop || 0;\\n\\t\\t\\t\\t\\toffsetParent = offsetParent.offsetParent;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\toffsetParent = elm.parentNode;\\n\\t\\t\\t\\twhile (offsetParent && offsetParent != rootElm && offsetParent.nodeType) {\\n\\t\\t\\t\\t\\tx -= offsetParent.scrollLeft || 0;\\n\\t\\t\\t\\t\\ty -= offsetParent.scrollTop || 0;\\n\\t\\t\\t\\t\\toffsetParent = offsetParent.parentNode;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn {x: x, y: y};\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Parses the specified style value into an object collection. This parser will also\\n\\t\\t * merge and remove any redundant items that browsers might have added. It will also convert non-hex\\n\\t\\t * colors to hex values. Urls inside the styles will also be converted to absolute/relative based on settings.\\n\\t\\t *\\n\\t\\t * @method parseStyle\\n\\t\\t * @param {String} cssText Style value to parse, for example: border:1px solid red;.\\n\\t\\t * @return {Object} Object representation of that style, for example: {border: '1px solid red'}\\n\\t\\t */\\n\\t\\tparseStyle: function(cssText) {\\n\\t\\t\\treturn this.styles.parse(cssText);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Serializes the specified style object into a string.\\n\\t\\t *\\n\\t\\t * @method serializeStyle\\n\\t\\t * @param {Object} styles Object to serialize as string, for example: {border: '1px solid red'}\\n\\t\\t * @param {String} name Optional element name.\\n\\t\\t * @return {String} String representation of the style object, for example: border: 1px solid red.\\n\\t\\t */\\n\\t\\tserializeStyle: function(styles, name) {\\n\\t\\t\\treturn this.styles.serialize(styles, name);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Adds a style element at the top of the document with the specified cssText content.\\n\\t\\t *\\n\\t\\t * @method addStyle\\n\\t\\t * @param {String} cssText CSS Text style to add to top of head of document.\\n\\t\\t */\\n\\t\\taddStyle: function(cssText) {\\n\\t\\t\\tvar self = this, doc = self.doc, head, styleElm;\\n\\n\\t\\t\\t// Prevent inline from loading the same styles twice\\n\\t\\t\\tif (self !== DOMUtils.DOM && doc === document) {\\n\\t\\t\\t\\tvar addedStyles = DOMUtils.DOM.addedStyles;\\n\\n\\t\\t\\t\\taddedStyles = addedStyles || [];\\n\\t\\t\\t\\tif (addedStyles[cssText]) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\taddedStyles[cssText] = true;\\n\\t\\t\\t\\tDOMUtils.DOM.addedStyles = addedStyles;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Create style element if needed\\n\\t\\t\\tstyleElm = doc.getElementById('mceDefaultStyles');\\n\\t\\t\\tif (!styleElm) {\\n\\t\\t\\t\\tstyleElm = doc.createElement('style');\\n\\t\\t\\t\\tstyleElm.id = 'mceDefaultStyles';\\n\\t\\t\\t\\tstyleElm.type = 'text/css';\\n\\n\\t\\t\\t\\thead = doc.getElementsByTagName('head')[0];\\n\\t\\t\\t\\tif (head.firstChild) {\\n\\t\\t\\t\\t\\thead.insertBefore(styleElm, head.firstChild);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\thead.appendChild(styleElm);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Append style data to old or new style element\\n\\t\\t\\tif (styleElm.styleSheet) {\\n\\t\\t\\t\\tstyleElm.styleSheet.cssText += cssText;\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tstyleElm.appendChild(doc.createTextNode(cssText));\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Imports/loads the specified CSS file into the document bound to the class.\\n\\t\\t *\\n\\t\\t * @method loadCSS\\n\\t\\t * @param {String} url URL to CSS file to load.\\n\\t\\t * @example\\n\\t\\t * // Loads a CSS file dynamically into the current document\\n\\t\\t * tinymce.DOM.loadCSS('somepath/some.css');\\n\\t\\t *\\n\\t\\t * // Loads a CSS file into the currently active editor instance\\n\\t\\t * tinymce.activeEditor.dom.loadCSS('somepath/some.css');\\n\\t\\t *\\n\\t\\t * // Loads a CSS file into an editor instance by id\\n\\t\\t * tinymce.get('someid').dom.loadCSS('somepath/some.css');\\n\\t\\t *\\n\\t\\t * // Loads multiple CSS files into the current document\\n\\t\\t * tinymce.DOM.loadCSS('somepath/some.css,somepath/someother.css');\\n\\t\\t */\\n\\t\\tloadCSS: function(url) {\\n\\t\\t\\tvar self = this, doc = self.doc, head;\\n\\n\\t\\t\\t// Prevent inline from loading the same CSS file twice\\n\\t\\t\\tif (self !== DOMUtils.DOM && doc === document) {\\n\\t\\t\\t\\tDOMUtils.DOM.loadCSS(url);\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!url) {\\n\\t\\t\\t\\turl = '';\\n\\t\\t\\t}\\n\\n\\t\\t\\thead = doc.getElementsByTagName('head')[0];\\n\\n\\t\\t\\teach(url.split(','), function(url) {\\n\\t\\t\\t\\tvar link;\\n\\n\\t\\t\\t\\turl = Tools._addCacheSuffix(url);\\n\\n\\t\\t\\t\\tif (self.files[url]) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tself.files[url] = true;\\n\\t\\t\\t\\tlink = self.create('link', {rel: 'stylesheet', href: url});\\n\\n\\t\\t\\t\\t// IE 8 has a bug where dynamically loading stylesheets would produce a 1 item remaining bug\\n\\t\\t\\t\\t// This fix seems to resolve that issue by recalcing the document once a stylesheet finishes loading\\n\\t\\t\\t\\t// It's ugly but it seems to work fine.\\n\\t\\t\\t\\tif (isIE && doc.documentMode && doc.recalc) {\\n\\t\\t\\t\\t\\tlink.onload = function() {\\n\\t\\t\\t\\t\\t\\tif (doc.recalc) {\\n\\t\\t\\t\\t\\t\\t\\tdoc.recalc();\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tlink.onload = null;\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\thead.appendChild(link);\\n\\t\\t\\t});\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Adds a class to the specified element or elements.\\n\\t\\t *\\n\\t\\t * @method addClass\\n\\t\\t * @param {String/Element/Array} elm Element ID string or DOM element or array with elements or IDs.\\n\\t\\t * @param {String} cls Class name to add to each element.\\n\\t\\t * @return {String/Array} String with new class value or array with new class values for all elements.\\n\\t\\t * @example\\n\\t\\t * // Adds a class to all paragraphs in the active editor\\n\\t\\t * tinymce.activeEditor.dom.addClass(tinymce.activeEditor.dom.select('p'), 'myclass');\\n\\t\\t *\\n\\t\\t * // Adds a class to a specific element in the current page\\n\\t\\t * tinymce.DOM.addClass('mydiv', 'myclass');\\n\\t\\t */\\n\\t\\taddClass: function(elm, cls) {\\n\\t\\t\\tthis.$$(elm).addClass(cls);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Removes a class from the specified element or elements.\\n\\t\\t *\\n\\t\\t * @method removeClass\\n\\t\\t * @param {String/Element/Array} elm Element ID string or DOM element or array with elements or IDs.\\n\\t\\t * @param {String} cls Class name to remove from each element.\\n\\t\\t * @return {String/Array} String of remaining class name(s), or an array of strings if multiple input elements\\n\\t\\t * were passed in.\\n\\t\\t * @example\\n\\t\\t * // Removes a class from all paragraphs in the active editor\\n\\t\\t * tinymce.activeEditor.dom.removeClass(tinymce.activeEditor.dom.select('p'), 'myclass');\\n\\t\\t *\\n\\t\\t * // Removes a class from a specific element in the current page\\n\\t\\t * tinymce.DOM.removeClass('mydiv', 'myclass');\\n\\t\\t */\\n\\t\\tremoveClass: function(elm, cls) {\\n\\t\\t\\tthis.toggleClass(elm, cls, false);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns true if the specified element has the specified class.\\n\\t\\t *\\n\\t\\t * @method hasClass\\n\\t\\t * @param {String/Element} elm HTML element or element id string to check CSS class on.\\n\\t\\t * @param {String} cls CSS class to check for.\\n\\t\\t * @return {Boolean} true/false if the specified element has the specified class.\\n\\t\\t */\\n\\t\\thasClass: function(elm, cls) {\\n\\t\\t\\treturn this.$$(elm).hasClass(cls);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Toggles the specified class on/off.\\n\\t\\t *\\n\\t\\t * @method toggleClass\\n\\t\\t * @param {Element} elm Element to toggle class on.\\n\\t\\t * @param {[type]} cls Class to toggle on/off.\\n\\t\\t * @param {[type]} state Optional state to set.\\n\\t\\t */\\n\\t\\ttoggleClass: function(elm, cls, state) {\\n\\t\\t\\tthis.$$(elm).toggleClass(cls, state).each(function() {\\n\\t\\t\\t\\tif (this.className === '') {\\n\\t\\t\\t\\t\\t$(this).attr('class', null);\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Shows the specified element(s) by ID by setting the \\\"display\\\" style.\\n\\t\\t *\\n\\t\\t * @method show\\n\\t\\t * @param {String/Element/Array} elm ID of DOM element or DOM element or array with elements or IDs to show.\\n\\t\\t */\\n\\t\\tshow: function(elm) {\\n\\t\\t\\tthis.$$(elm).show();\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Hides the specified element(s) by ID by setting the \\\"display\\\" style.\\n\\t\\t *\\n\\t\\t * @method hide\\n\\t\\t * @param {String/Element/Array} elm ID of DOM element or DOM element or array with elements or IDs to hide.\\n\\t\\t * @example\\n\\t\\t * // Hides an element by id in the document\\n\\t\\t * tinymce.DOM.hide('myid');\\n\\t\\t */\\n\\t\\thide: function(elm) {\\n\\t\\t\\tthis.$$(elm).hide();\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns true/false if the element is hidden or not by checking the \\\"display\\\" style.\\n\\t\\t *\\n\\t\\t * @method isHidden\\n\\t\\t * @param {String/Element} elm Id or element to check display state on.\\n\\t\\t * @return {Boolean} true/false if the element is hidden or not.\\n\\t\\t */\\n\\t\\tisHidden: function(elm) {\\n\\t\\t\\treturn this.$$(elm).css('display') == 'none';\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns a unique id. This can be useful when generating elements on the fly.\\n\\t\\t * This method will not check if the element already exists.\\n\\t\\t *\\n\\t\\t * @method uniqueId\\n\\t\\t * @param {String} prefix Optional prefix to add in front of all ids - defaults to \\\"mce_\\\".\\n\\t\\t * @return {String} Unique id.\\n\\t\\t */\\n\\t\\tuniqueId: function(prefix) {\\n\\t\\t\\treturn (!prefix ? 'mce_' : prefix) + (this.counter++);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Sets the specified HTML content inside the element or elements. The HTML will first be processed. This means\\n\\t\\t * URLs will get converted, hex color values fixed etc. Check processHTML for details.\\n\\t\\t *\\n\\t\\t * @method setHTML\\n\\t\\t * @param {Element/String/Array} elm DOM element, element id string or array of elements/ids to set HTML inside of.\\n\\t\\t * @param {String} html HTML content to set as inner HTML of the element.\\n\\t\\t * @example\\n\\t\\t * // Sets the inner HTML of all paragraphs in the active editor\\n\\t\\t * tinymce.activeEditor.dom.setHTML(tinymce.activeEditor.dom.select('p'), 'some inner html');\\n\\t\\t *\\n\\t\\t * // Sets the inner HTML of an element by id in the document\\n\\t\\t * tinymce.DOM.setHTML('mydiv', 'some inner html');\\n\\t\\t */\\n\\t\\tsetHTML: function(elm, html) {\\n\\t\\t\\telm = this.$$(elm);\\n\\n\\t\\t\\tif (isIE) {\\n\\t\\t\\t\\telm.each(function(i, target) {\\n\\t\\t\\t\\t\\tif (target.canHaveHTML === false) {\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Remove all child nodes, IE keeps empty text nodes in DOM\\n\\t\\t\\t\\t\\twhile (target.firstChild) {\\n\\t\\t\\t\\t\\t\\ttarget.removeChild(target.firstChild);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\ttry {\\n\\t\\t\\t\\t\\t\\t// IE will remove comments from the beginning\\n\\t\\t\\t\\t\\t\\t// unless you padd the contents with something\\n\\t\\t\\t\\t\\t\\ttarget.innerHTML = '<br>' + html;\\n\\t\\t\\t\\t\\t\\ttarget.removeChild(target.firstChild);\\n\\t\\t\\t\\t\\t} catch (ex) {\\n\\t\\t\\t\\t\\t\\t// IE sometimes produces an unknown runtime error on innerHTML if it's a div inside a p\\n\\t\\t\\t\\t\\t\\t$('<div></div>').html('<br>' + html).contents().slice(1).appendTo(target);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\treturn html;\\n\\t\\t\\t\\t});\\n\\t\\t\\t} else {\\n\\t\\t\\t\\telm.html(html);\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns the outer HTML of an element.\\n\\t\\t *\\n\\t\\t * @method getOuterHTML\\n\\t\\t * @param {String/Element} elm Element ID or element object to get outer HTML from.\\n\\t\\t * @return {String} Outer HTML string.\\n\\t\\t * @example\\n\\t\\t * tinymce.DOM.getOuterHTML(editorElement);\\n\\t\\t * tinymce.activeEditor.getOuterHTML(tinymce.activeEditor.getBody());\\n\\t\\t */\\n\\t\\tgetOuterHTML: function(elm) {\\n\\t\\t\\telm = this.get(elm);\\n\\n\\t\\t\\t// Older FF doesn't have outerHTML 3.6 is still used by some orgaizations\\n\\t\\t\\treturn elm.nodeType == 1 && \\\"outerHTML\\\" in elm ? elm.outerHTML : $('<div></div>').append($(elm).clone()).html();\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Sets the specified outer HTML on an element or elements.\\n\\t\\t *\\n\\t\\t * @method setOuterHTML\\n\\t\\t * @param {Element/String/Array} elm DOM element, element id string or array of elements/ids to set outer HTML on.\\n\\t\\t * @param {Object} html HTML code to set as outer value for the element.\\n\\t\\t * @example\\n\\t\\t * // Sets the outer HTML of all paragraphs in the active editor\\n\\t\\t * tinymce.activeEditor.dom.setOuterHTML(tinymce.activeEditor.dom.select('p'), '<div>some html</div>');\\n\\t\\t *\\n\\t\\t * // Sets the outer HTML of an element by id in the document\\n\\t\\t * tinymce.DOM.setOuterHTML('mydiv', '<div>some html</div>');\\n\\t\\t */\\n\\t\\tsetOuterHTML: function(elm, html) {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tself.$$(elm).each(function() {\\n\\t\\t\\t\\ttry {\\n\\t\\t\\t\\t\\t// Older FF doesn't have outerHTML 3.6 is still used by some organizations\\n\\t\\t\\t\\t\\tif (\\\"outerHTML\\\" in this) {\\n\\t\\t\\t\\t\\t\\tthis.outerHTML = html;\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} catch (ex) {\\n\\t\\t\\t\\t\\t// Ignore\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// OuterHTML for IE it sometimes produces an \\\"unknown runtime error\\\"\\n\\t\\t\\t\\tself.remove($(this).html(html), true);\\n\\t\\t\\t});\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Entity decodes a string. This method decodes any HTML entities, such as &aring;.\\n\\t\\t *\\n\\t\\t * @method decode\\n\\t\\t * @param {String} s String to decode entities on.\\n\\t\\t * @return {String} Entity decoded string.\\n\\t\\t */\\n\\t\\tdecode: Entities.decode,\\n\\n\\t\\t/**\\n\\t\\t * Entity encodes a string. This method encodes the most common entities, such as <>\\\"&.\\n\\t\\t *\\n\\t\\t * @method encode\\n\\t\\t * @param {String} text String to encode with entities.\\n\\t\\t * @return {String} Entity encoded string.\\n\\t\\t */\\n\\t\\tencode: Entities.encodeAllRaw,\\n\\n\\t\\t/**\\n\\t\\t * Inserts an element after the reference element.\\n\\t\\t *\\n\\t\\t * @method insertAfter\\n\\t\\t * @param {Element} node Element to insert after the reference.\\n\\t\\t * @param {Element/String/Array} referenceNode Reference element, element id or array of elements to insert after.\\n\\t\\t * @return {Element/Array} Element that got added or an array with elements.\\n\\t\\t */\\n\\t\\tinsertAfter: function(node, referenceNode) {\\n\\t\\t\\treferenceNode = this.get(referenceNode);\\n\\n\\t\\t\\treturn this.run(node, function(node) {\\n\\t\\t\\t\\tvar parent, nextSibling;\\n\\n\\t\\t\\t\\tparent = referenceNode.parentNode;\\n\\t\\t\\t\\tnextSibling = referenceNode.nextSibling;\\n\\n\\t\\t\\t\\tif (nextSibling) {\\n\\t\\t\\t\\t\\tparent.insertBefore(node, nextSibling);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tparent.appendChild(node);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn node;\\n\\t\\t\\t});\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Replaces the specified element or elements with the new element specified. The new element will\\n\\t\\t * be cloned if multiple input elements are passed in.\\n\\t\\t *\\n\\t\\t * @method replace\\n\\t\\t * @param {Element} newElm New element to replace old ones with.\\n\\t\\t * @param {Element/String/Array} oldElm Element DOM node, element id or array of elements or ids to replace.\\n\\t\\t * @param {Boolean} keepChildren Optional keep children state, if set to true child nodes from the old object will be added\\n\\t\\t * to new ones.\\n\\t\\t */\\n\\t\\treplace: function(newElm, oldElm, keepChildren) {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\treturn self.run(oldElm, function(oldElm) {\\n\\t\\t\\t\\tif (is(oldElm, 'array')) {\\n\\t\\t\\t\\t\\tnewElm = newElm.cloneNode(true);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (keepChildren) {\\n\\t\\t\\t\\t\\teach(grep(oldElm.childNodes), function(node) {\\n\\t\\t\\t\\t\\t\\tnewElm.appendChild(node);\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn oldElm.parentNode.replaceChild(newElm, oldElm);\\n\\t\\t\\t});\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Renames the specified element and keeps its attributes and children.\\n\\t\\t *\\n\\t\\t * @method rename\\n\\t\\t * @param {Element} elm Element to rename.\\n\\t\\t * @param {String} name Name of the new element.\\n\\t\\t * @return {Element} New element or the old element if it needed renaming.\\n\\t\\t */\\n\\t\\trename: function(elm, name) {\\n\\t\\t\\tvar self = this, newElm;\\n\\n\\t\\t\\tif (elm.nodeName != name.toUpperCase()) {\\n\\t\\t\\t\\t// Rename block element\\n\\t\\t\\t\\tnewElm = self.create(name);\\n\\n\\t\\t\\t\\t// Copy attribs to new block\\n\\t\\t\\t\\teach(self.getAttribs(elm), function(attrNode) {\\n\\t\\t\\t\\t\\tself.setAttrib(newElm, attrNode.nodeName, self.getAttrib(elm, attrNode.nodeName));\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t// Replace block\\n\\t\\t\\t\\tself.replace(newElm, elm, 1);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn newElm || elm;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Find the common ancestor of two elements. This is a shorter method than using the DOM Range logic.\\n\\t\\t *\\n\\t\\t * @method findCommonAncestor\\n\\t\\t * @param {Element} a Element to find common ancestor of.\\n\\t\\t * @param {Element} b Element to find common ancestor of.\\n\\t\\t * @return {Element} Common ancestor element of the two input elements.\\n\\t\\t */\\n\\t\\tfindCommonAncestor: function(a, b) {\\n\\t\\t\\tvar ps = a, pe;\\n\\n\\t\\t\\twhile (ps) {\\n\\t\\t\\t\\tpe = b;\\n\\n\\t\\t\\t\\twhile (pe && ps != pe) {\\n\\t\\t\\t\\t\\tpe = pe.parentNode;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (ps == pe) {\\n\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tps = ps.parentNode;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!ps && a.ownerDocument) {\\n\\t\\t\\t\\treturn a.ownerDocument.documentElement;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn ps;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Parses the specified RGB color value and returns a hex version of that color.\\n\\t\\t *\\n\\t\\t * @method toHex\\n\\t\\t * @param {String} rgbVal RGB string value like rgb(1,2,3)\\n\\t\\t * @return {String} Hex version of that RGB value like #FF00FF.\\n\\t\\t */\\n\\t\\ttoHex: function(rgbVal) {\\n\\t\\t\\treturn this.styles.toHex(Tools.trim(rgbVal));\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Executes the specified function on the element by id or dom element node or array of elements/id.\\n\\t\\t *\\n\\t\\t * @method run\\n\\t\\t * @param {String/Element/Array} elm ID or DOM element object or array with ids or elements.\\n\\t\\t * @param {function} func Function to execute for each item.\\n\\t\\t * @param {Object} scope Optional scope to execute the function in.\\n\\t\\t * @return {Object/Array} Single object, or an array of objects if multiple input elements were passed in.\\n\\t\\t */\\n\\t\\trun: function(elm, func, scope) {\\n\\t\\t\\tvar self = this, result;\\n\\n\\t\\t\\tif (typeof elm === 'string') {\\n\\t\\t\\t\\telm = self.get(elm);\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!elm) {\\n\\t\\t\\t\\treturn false;\\n\\t\\t\\t}\\n\\n\\t\\t\\tscope = scope || this;\\n\\t\\t\\tif (!elm.nodeType && (elm.length || elm.length === 0)) {\\n\\t\\t\\t\\tresult = [];\\n\\n\\t\\t\\t\\teach(elm, function(elm, i) {\\n\\t\\t\\t\\t\\tif (elm) {\\n\\t\\t\\t\\t\\t\\tif (typeof elm == 'string') {\\n\\t\\t\\t\\t\\t\\t\\telm = self.get(elm);\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tresult.push(func.call(scope, elm, i));\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\treturn result;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn func.call(scope, elm);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns a NodeList with attributes for the element.\\n\\t\\t *\\n\\t\\t * @method getAttribs\\n\\t\\t * @param {HTMLElement/string} elm Element node or string id to get attributes from.\\n\\t\\t * @return {NodeList} NodeList with attributes.\\n\\t\\t */\\n\\t\\tgetAttribs: function(elm) {\\n\\t\\t\\tvar attrs;\\n\\n\\t\\t\\telm = this.get(elm);\\n\\n\\t\\t\\tif (!elm) {\\n\\t\\t\\t\\treturn [];\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (isIE) {\\n\\t\\t\\t\\tattrs = [];\\n\\n\\t\\t\\t\\t// Object will throw exception in IE\\n\\t\\t\\t\\tif (elm.nodeName == 'OBJECT') {\\n\\t\\t\\t\\t\\treturn elm.attributes;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// IE doesn't keep the selected attribute if you clone option elements\\n\\t\\t\\t\\tif (elm.nodeName === 'OPTION' && this.getAttrib(elm, 'selected')) {\\n\\t\\t\\t\\t\\tattrs.push({specified: 1, nodeName: 'selected'});\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// It's crazy that this is faster in IE but it's because it returns all attributes all the time\\n\\t\\t\\t\\tvar attrRegExp = /<\\\\/?[\\\\w:\\\\-]+ ?|=[\\\\\\\"][^\\\\\\\"]+\\\\\\\"|=\\\\'[^\\\\']+\\\\'|=[\\\\w\\\\-]+|>/gi;\\n\\t\\t\\t\\telm.cloneNode(false).outerHTML.replace(attrRegExp, '').replace(/[\\\\w:\\\\-]+/gi, function(a) {\\n\\t\\t\\t\\t\\tattrs.push({specified: 1, nodeName: a});\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\treturn attrs;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn elm.attributes;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns true/false if the specified node is to be considered empty or not.\\n\\t\\t *\\n\\t\\t * @example\\n\\t\\t * tinymce.DOM.isEmpty(node, {img: true});\\n\\t\\t * @method isEmpty\\n\\t\\t * @param {Object} elements Optional name/value object with elements that are automatically treated as non-empty elements.\\n\\t\\t * @return {Boolean} true/false if the node is empty or not.\\n\\t\\t */\\n\\t\\tisEmpty: function(node, elements) {\\n\\t\\t\\tvar self = this, i, attributes, type, whitespace, walker, name, brCount = 0;\\n\\n\\t\\t\\tnode = node.firstChild;\\n\\t\\t\\tif (node) {\\n\\t\\t\\t\\twalker = new TreeWalker(node, node.parentNode);\\n\\t\\t\\t\\telements = elements || (self.schema ? self.schema.getNonEmptyElements() : null);\\n\\t\\t\\t\\twhitespace = self.schema ? self.schema.getWhiteSpaceElements() : {};\\n\\n\\t\\t\\t\\tdo {\\n\\t\\t\\t\\t\\ttype = node.nodeType;\\n\\n\\t\\t\\t\\t\\tif (type === 1) {\\n\\t\\t\\t\\t\\t\\t// Ignore bogus elements\\n\\t\\t\\t\\t\\t\\tvar bogusVal = node.getAttribute('data-mce-bogus');\\n\\t\\t\\t\\t\\t\\tif (bogusVal) {\\n\\t\\t\\t\\t\\t\\t\\tnode = walker.next(bogusVal === 'all');\\n\\t\\t\\t\\t\\t\\t\\tcontinue;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Keep empty elements like <img />\\n\\t\\t\\t\\t\\t\\tname = node.nodeName.toLowerCase();\\n\\t\\t\\t\\t\\t\\tif (elements && elements[name]) {\\n\\t\\t\\t\\t\\t\\t\\t// Ignore single BR elements in blocks like <p><br /></p> or <p><span><br /></span></p>\\n\\t\\t\\t\\t\\t\\t\\tif (name === 'br') {\\n\\t\\t\\t\\t\\t\\t\\t\\tbrCount++;\\n\\t\\t\\t\\t\\t\\t\\t\\tnode = walker.next();\\n\\t\\t\\t\\t\\t\\t\\t\\tcontinue;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Keep elements with data-bookmark attributes or name attribute like <a name=\\\"1\\\"></a>\\n\\t\\t\\t\\t\\t\\tattributes = self.getAttribs(node);\\n\\t\\t\\t\\t\\t\\ti = attributes.length;\\n\\t\\t\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\t\\t\\tname = attributes[i].nodeName;\\n\\t\\t\\t\\t\\t\\t\\tif (name === \\\"name\\\" || name === 'data-mce-bookmark') {\\n\\t\\t\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Keep comment nodes\\n\\t\\t\\t\\t\\tif (type == 8) {\\n\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Keep non whitespace text nodes\\n\\t\\t\\t\\t\\tif (type === 3 && !whiteSpaceRegExp.test(node.nodeValue)) {\\n\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Keep whitespace preserve elements\\n\\t\\t\\t\\t\\tif (type === 3 && node.parentNode && whitespace[node.parentNode.nodeName] && whiteSpaceRegExp.test(node.nodeValue)) {\\n\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tnode = walker.next();\\n\\t\\t\\t\\t} while (node);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn brCount <= 1;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Creates a new DOM Range object. This will use the native DOM Range API if it's\\n\\t\\t * available. If it's not, it will fall back to the custom TinyMCE implementation.\\n\\t\\t *\\n\\t\\t * @method createRng\\n\\t\\t * @return {DOMRange} DOM Range object.\\n\\t\\t * @example\\n\\t\\t * var rng = tinymce.DOM.createRng();\\n\\t\\t * alert(rng.startContainer + \\\",\\\" + rng.startOffset);\\n\\t\\t */\\n\\t\\tcreateRng: function() {\\n\\t\\t\\tvar doc = this.doc;\\n\\n\\t\\t\\treturn doc.createRange ? doc.createRange() : new Range(this);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns the index of the specified node within its parent.\\n\\t\\t *\\n\\t\\t * @method nodeIndex\\n\\t\\t * @param {Node} node Node to look for.\\n\\t\\t * @param {boolean} normalized Optional true/false state if the index is what it would be after a normalization.\\n\\t\\t * @return {Number} Index of the specified node.\\n\\t\\t */\\n\\t\\tnodeIndex: nodeIndex,\\n\\n\\t\\t/**\\n\\t\\t * Splits an element into two new elements and places the specified split\\n\\t\\t * element or elements between the new ones. For example splitting the paragraph at the bold element in\\n\\t\\t * this example <p>abc<b>abc</b>123</p> would produce <p>abc</p><b>abc</b><p>123</p>.\\n\\t\\t *\\n\\t\\t * @method split\\n\\t\\t * @param {Element} parentElm Parent element to split.\\n\\t\\t * @param {Element} splitElm Element to split at.\\n\\t\\t * @param {Element} replacementElm Optional replacement element to replace the split element with.\\n\\t\\t * @return {Element} Returns the split element or the replacement element if that is specified.\\n\\t\\t */\\n\\t\\tsplit: function(parentElm, splitElm, replacementElm) {\\n\\t\\t\\tvar self = this, r = self.createRng(), bef, aft, pa;\\n\\n\\t\\t\\t// W3C valid browsers tend to leave empty nodes to the left/right side of the contents - this makes sense\\n\\t\\t\\t// but we don't want that in our code since it serves no purpose for the end user\\n\\t\\t\\t// For example splitting this html at the bold element:\\n\\t\\t\\t//   <p>text 1<span><b>CHOP</b></span>text 2</p>\\n\\t\\t\\t// would produce:\\n\\t\\t\\t//   <p>text 1<span></span></p><b>CHOP</b><p><span></span>text 2</p>\\n\\t\\t\\t// this function will then trim off empty edges and produce:\\n\\t\\t\\t//   <p>text 1</p><b>CHOP</b><p>text 2</p>\\n\\t\\t\\tfunction trimNode(node) {\\n\\t\\t\\t\\tvar i, children = node.childNodes, type = node.nodeType;\\n\\n\\t\\t\\t\\tfunction surroundedBySpans(node) {\\n\\t\\t\\t\\t\\tvar previousIsSpan = node.previousSibling && node.previousSibling.nodeName == 'SPAN';\\n\\t\\t\\t\\t\\tvar nextIsSpan = node.nextSibling && node.nextSibling.nodeName == 'SPAN';\\n\\t\\t\\t\\t\\treturn previousIsSpan && nextIsSpan;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (type == 1 && node.getAttribute('data-mce-type') == 'bookmark') {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfor (i = children.length - 1; i >= 0; i--) {\\n\\t\\t\\t\\t\\ttrimNode(children[i]);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (type != 9) {\\n\\t\\t\\t\\t\\t// Keep non whitespace text nodes\\n\\t\\t\\t\\t\\tif (type == 3 && node.nodeValue.length > 0) {\\n\\t\\t\\t\\t\\t\\t// If parent element isn't a block or there isn't any useful contents for example \\\"<p>   </p>\\\"\\n\\t\\t\\t\\t\\t\\t// Also keep text nodes with only spaces if surrounded by spans.\\n\\t\\t\\t\\t\\t\\t// eg. \\\"<p><span>a</span> <span>b</span></p>\\\" should keep space between a and b\\n\\t\\t\\t\\t\\t\\tvar trimmedLength = trim(node.nodeValue).length;\\n\\t\\t\\t\\t\\t\\tif (!self.isBlock(node.parentNode) || trimmedLength > 0 || trimmedLength === 0 && surroundedBySpans(node)) {\\n\\t\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t} else if (type == 1) {\\n\\t\\t\\t\\t\\t\\t// If the only child is a bookmark then move it up\\n\\t\\t\\t\\t\\t\\tchildren = node.childNodes;\\n\\n\\t\\t\\t\\t\\t\\t// TODO fix this complex if\\n\\t\\t\\t\\t\\t\\tif (children.length == 1 && children[0] && children[0].nodeType == 1 &&\\n\\t\\t\\t\\t\\t\\t\\tchildren[0].getAttribute('data-mce-type') == 'bookmark') {\\n\\t\\t\\t\\t\\t\\t\\tnode.parentNode.insertBefore(children[0], node);\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Keep non empty elements or img, hr etc\\n\\t\\t\\t\\t\\t\\tif (children.length || /^(br|hr|input|img)$/i.test(node.nodeName)) {\\n\\t\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tself.remove(node);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn node;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (parentElm && splitElm) {\\n\\t\\t\\t\\t// Get before chunk\\n\\t\\t\\t\\tr.setStart(parentElm.parentNode, self.nodeIndex(parentElm));\\n\\t\\t\\t\\tr.setEnd(splitElm.parentNode, self.nodeIndex(splitElm));\\n\\t\\t\\t\\tbef = r.extractContents();\\n\\n\\t\\t\\t\\t// Get after chunk\\n\\t\\t\\t\\tr = self.createRng();\\n\\t\\t\\t\\tr.setStart(splitElm.parentNode, self.nodeIndex(splitElm) + 1);\\n\\t\\t\\t\\tr.setEnd(parentElm.parentNode, self.nodeIndex(parentElm) + 1);\\n\\t\\t\\t\\taft = r.extractContents();\\n\\n\\t\\t\\t\\t// Insert before chunk\\n\\t\\t\\t\\tpa = parentElm.parentNode;\\n\\t\\t\\t\\tpa.insertBefore(trimNode(bef), parentElm);\\n\\n\\t\\t\\t\\t// Insert middle chunk\\n\\t\\t\\t\\tif (replacementElm) {\\n\\t\\t\\t\\t\\tpa.insertBefore(replacementElm, parentElm);\\n\\t\\t\\t\\t\\t//pa.replaceChild(replacementElm, splitElm);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tpa.insertBefore(splitElm, parentElm);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Insert after chunk\\n\\t\\t\\t\\tpa.insertBefore(trimNode(aft), parentElm);\\n\\t\\t\\t\\tself.remove(parentElm);\\n\\n\\t\\t\\t\\treturn replacementElm || splitElm;\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Adds an event handler to the specified object.\\n\\t\\t *\\n\\t\\t * @method bind\\n\\t\\t * @param {Element/Document/Window/Array} target Target element to bind events to.\\n\\t\\t * handler to or an array of elements/ids/documents.\\n\\t\\t * @param {String} name Name of event handler to add, for example: click.\\n\\t\\t * @param {function} func Function to execute when the event occurs.\\n\\t\\t * @param {Object} scope Optional scope to execute the function in.\\n\\t\\t * @return {function} Function callback handler the same as the one passed in.\\n\\t\\t */\\n\\t\\tbind: function(target, name, func, scope) {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tif (Tools.isArray(target)) {\\n\\t\\t\\t\\tvar i = target.length;\\n\\n\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\ttarget[i] = self.bind(target[i], name, func, scope);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn target;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Collect all window/document events bound by editor instance\\n\\t\\t\\tif (self.settings.collect && (target === self.doc || target === self.win)) {\\n\\t\\t\\t\\tself.boundEvents.push([target, name, func, scope]);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn self.events.bind(target, name, func, scope || self);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Removes the specified event handler by name and function from an element or collection of elements.\\n\\t\\t *\\n\\t\\t * @method unbind\\n\\t\\t * @param {Element/Document/Window/Array} target Target element to unbind events on.\\n\\t\\t * @param {String} name Event handler name, for example: \\\"click\\\"\\n\\t\\t * @param {function} func Function to remove.\\n\\t\\t * @return {bool/Array} Bool state of true if the handler was removed, or an array of states if multiple input elements\\n\\t\\t * were passed in.\\n\\t\\t */\\n\\t\\tunbind: function(target, name, func) {\\n\\t\\t\\tvar self = this, i;\\n\\n\\t\\t\\tif (Tools.isArray(target)) {\\n\\t\\t\\t\\ti = target.length;\\n\\n\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\ttarget[i] = self.unbind(target[i], name, func);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn target;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Remove any bound events matching the input\\n\\t\\t\\tif (self.boundEvents && (target === self.doc || target === self.win)) {\\n\\t\\t\\t\\ti = self.boundEvents.length;\\n\\n\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\tvar item = self.boundEvents[i];\\n\\n\\t\\t\\t\\t\\tif (target == item[0] && (!name || name == item[1]) && (!func || func == item[2])) {\\n\\t\\t\\t\\t\\t\\tthis.events.unbind(item[0], item[1], item[2]);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn this.events.unbind(target, name, func);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Fires the specified event name with object on target.\\n\\t\\t *\\n\\t\\t * @method fire\\n\\t\\t * @param {Node/Document/Window} target Target element or object to fire event on.\\n\\t\\t * @param {String} name Name of the event to fire.\\n\\t\\t * @param {Object} evt Event object to send.\\n\\t\\t * @return {Event} Event object.\\n\\t\\t */\\n\\t\\tfire: function(target, name, evt) {\\n\\t\\t\\treturn this.events.fire(target, name, evt);\\n\\t\\t},\\n\\n\\t\\t// Returns the content editable state of a node\\n\\t\\tgetContentEditable: function(node) {\\n\\t\\t\\tvar contentEditable;\\n\\n\\t\\t\\t// Check type\\n\\t\\t\\tif (!node || node.nodeType != 1) {\\n\\t\\t\\t\\treturn null;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Check for fake content editable\\n\\t\\t\\tcontentEditable = node.getAttribute(\\\"data-mce-contenteditable\\\");\\n\\t\\t\\tif (contentEditable && contentEditable !== \\\"inherit\\\") {\\n\\t\\t\\t\\treturn contentEditable;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Check for real content editable\\n\\t\\t\\treturn node.contentEditable !== \\\"inherit\\\" ? node.contentEditable : null;\\n\\t\\t},\\n\\n\\t\\tgetContentEditableParent: function(node) {\\n\\t\\t\\tvar root = this.getRoot(), state = null;\\n\\n\\t\\t\\tfor (; node && node !== root; node = node.parentNode) {\\n\\t\\t\\t\\tstate = this.getContentEditable(node);\\n\\n\\t\\t\\t\\tif (state !== null) {\\n\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn state;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Destroys all internal references to the DOM to solve IE leak issues.\\n\\t\\t *\\n\\t\\t * @method destroy\\n\\t\\t */\\n\\t\\tdestroy: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\t// Unbind all events bound to window/document by editor instance\\n\\t\\t\\tif (self.boundEvents) {\\n\\t\\t\\t\\tvar i = self.boundEvents.length;\\n\\n\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\tvar item = self.boundEvents[i];\\n\\t\\t\\t\\t\\tthis.events.unbind(item[0], item[1], item[2]);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tself.boundEvents = null;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Restore sizzle document to window.document\\n\\t\\t\\t// Since the current document might be removed producing \\\"Permission denied\\\" on IE see #6325\\n\\t\\t\\tif (Sizzle.setDocument) {\\n\\t\\t\\t\\tSizzle.setDocument();\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.win = self.doc = self.root = self.events = self.frag = null;\\n\\t\\t},\\n\\n\\t\\tisChildOf: function(node, parent) {\\n\\t\\t\\twhile (node) {\\n\\t\\t\\t\\tif (parent === node) {\\n\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tnode = node.parentNode;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn false;\\n\\t\\t},\\n\\n\\t\\t// #ifdef debug\\n\\n\\t\\tdumpRng: function(r) {\\n\\t\\t\\treturn (\\n\\t\\t\\t\\t'startContainer: ' + r.startContainer.nodeName +\\n\\t\\t\\t\\t', startOffset: ' + r.startOffset +\\n\\t\\t\\t\\t', endContainer: ' + r.endContainer.nodeName +\\n\\t\\t\\t\\t', endOffset: ' + r.endOffset\\n\\t\\t\\t);\\n\\t\\t},\\n\\n\\t\\t// #endif\\n\\n\\t\\t_findSib: function(node, selector, name) {\\n\\t\\t\\tvar self = this, func = selector;\\n\\n\\t\\t\\tif (node) {\\n\\t\\t\\t\\t// If expression make a function of it using is\\n\\t\\t\\t\\tif (typeof func == 'string') {\\n\\t\\t\\t\\t\\tfunc = function(node) {\\n\\t\\t\\t\\t\\t\\treturn self.is(node, selector);\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Loop all siblings\\n\\t\\t\\t\\tfor (node = node[name]; node; node = node[name]) {\\n\\t\\t\\t\\t\\tif (func(node)) {\\n\\t\\t\\t\\t\\t\\treturn node;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn null;\\n\\t\\t}\\n\\t};\\n\\n\\t/**\\n\\t * Instance of DOMUtils for the current document.\\n\\t *\\n\\t * @static\\n\\t * @property DOM\\n\\t * @type tinymce.dom.DOMUtils\\n\\t * @example\\n\\t * // Example of how to add a class to some element by id\\n\\t * tinymce.DOM.addClass('someid', 'someclass');\\n\\t */\\n\\tDOMUtils.DOM = new DOMUtils(document);\\n\\tDOMUtils.nodeIndex = nodeIndex;\\n\\n\\treturn DOMUtils;\\n});\\n\\n// Included from: js/tinymce/classes/dom/ScriptLoader.js\\n\\n/**\\n * ScriptLoader.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/*globals console*/\\n\\n/**\\n * This class handles asynchronous/synchronous loading of JavaScript files it will execute callbacks\\n * when various items gets loaded. This class is useful to load external JavaScript files.\\n *\\n * @class tinymce.dom.ScriptLoader\\n * @example\\n * // Load a script from a specific URL using the global script loader\\n * tinymce.ScriptLoader.load('somescript.js');\\n *\\n * // Load a script using a unique instance of the script loader\\n * var scriptLoader = new tinymce.dom.ScriptLoader();\\n *\\n * scriptLoader.load('somescript.js');\\n *\\n * // Load multiple scripts\\n * var scriptLoader = new tinymce.dom.ScriptLoader();\\n *\\n * scriptLoader.add('somescript1.js');\\n * scriptLoader.add('somescript2.js');\\n * scriptLoader.add('somescript3.js');\\n *\\n * scriptLoader.loadQueue(function() {\\n *    alert('All scripts are now loaded.');\\n * });\\n */\\ndefine(\\\"tinymce/dom/ScriptLoader\\\", [\\n\\t\\\"tinymce/dom/DOMUtils\\\",\\n\\t\\\"tinymce/util/Tools\\\"\\n], function(DOMUtils, Tools) {\\n\\tvar DOM = DOMUtils.DOM;\\n\\tvar each = Tools.each, grep = Tools.grep;\\n\\n\\tvar isFunction = function (f) {\\n\\t\\treturn typeof f === 'function';\\n\\t};\\n\\n\\tfunction ScriptLoader() {\\n\\t\\tvar QUEUED = 0,\\n\\t\\t\\tLOADING = 1,\\n\\t\\t\\tLOADED = 2,\\n\\t\\t\\tFAILED = 3,\\n\\t\\t\\tstates = {},\\n\\t\\t\\tqueue = [],\\n\\t\\t\\tscriptLoadedCallbacks = {},\\n\\t\\t\\tqueueLoadedCallbacks = [],\\n\\t\\t\\tloading = 0,\\n\\t\\t\\tundef;\\n\\n\\t\\t/**\\n\\t\\t * Loads a specific script directly without adding it to the load queue.\\n\\t\\t *\\n\\t\\t * @method load\\n\\t\\t * @param {String} url Absolute URL to script to add.\\n\\t\\t * @param {function} callback Optional success callback function when the script loaded successfully.\\n\\t\\t * @param {function} callback Optional failure callback function when the script failed to load.\\n\\t\\t */\\n\\t\\tfunction loadScript(url, success, failure) {\\n\\t\\t\\tvar dom = DOM, elm, id;\\n\\n\\t\\t\\t// Execute callback when script is loaded\\n\\t\\t\\tfunction done() {\\n\\t\\t\\t\\tdom.remove(id);\\n\\n\\t\\t\\t\\tif (elm) {\\n\\t\\t\\t\\t\\telm.onreadystatechange = elm.onload = elm = null;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tsuccess();\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction error() {\\n\\t\\t\\t\\t/*eslint no-console:0 */\\n\\n\\t\\t\\t\\t// We can't mark it as done if there is a load error since\\n\\t\\t\\t\\t// A) We don't want to produce 404 errors on the server and\\n\\t\\t\\t\\t// B) the onerror event won't fire on all browsers.\\n\\t\\t\\t\\t// done();\\n\\n\\t\\t\\t\\tif (isFunction(failure)) {\\n\\t\\t\\t\\t\\tfailure();\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t// Report the error so it's easier for people to spot loading errors\\n\\t\\t\\t\\t\\tif (typeof console !== \\\"undefined\\\" && console.log) {\\n\\t\\t\\t\\t\\t\\tconsole.log(\\\"Failed to load script: \\\" + url);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tid = dom.uniqueId();\\n\\n\\t\\t\\t// Create new script element\\n\\t\\t\\telm = document.createElement('script');\\n\\t\\t\\telm.id = id;\\n\\t\\t\\telm.type = 'text/javascript';\\n\\t\\t\\telm.src = Tools._addCacheSuffix(url);\\n\\n\\t\\t\\t// Seems that onreadystatechange works better on IE 10 onload seems to fire incorrectly\\n\\t\\t\\tif (\\\"onreadystatechange\\\" in elm) {\\n\\t\\t\\t\\telm.onreadystatechange = function() {\\n\\t\\t\\t\\t\\tif (/loaded|complete/.test(elm.readyState)) {\\n\\t\\t\\t\\t\\t\\tdone();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t};\\n\\t\\t\\t} else {\\n\\t\\t\\t\\telm.onload = done;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Add onerror event will get fired on some browsers but not all of them\\n\\t\\t\\telm.onerror = error;\\n\\n\\t\\t\\t// Add script to document\\n\\t\\t\\t(document.getElementsByTagName('head')[0] || document.body).appendChild(elm);\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Returns true/false if a script has been loaded or not.\\n\\t\\t *\\n\\t\\t * @method isDone\\n\\t\\t * @param {String} url URL to check for.\\n\\t\\t * @return {Boolean} true/false if the URL is loaded.\\n\\t\\t */\\n\\t\\tthis.isDone = function(url) {\\n\\t\\t\\treturn states[url] == LOADED;\\n\\t\\t};\\n\\n\\t\\t/**\\n\\t\\t * Marks a specific script to be loaded. This can be useful if a script got loaded outside\\n\\t\\t * the script loader or to skip it from loading some script.\\n\\t\\t *\\n\\t\\t * @method markDone\\n\\t\\t * @param {string} url Absolute URL to the script to mark as loaded.\\n\\t\\t */\\n\\t\\tthis.markDone = function(url) {\\n\\t\\t\\tstates[url] = LOADED;\\n\\t\\t};\\n\\n\\t\\t/**\\n\\t\\t * Adds a specific script to the load queue of the script loader.\\n\\t\\t *\\n\\t\\t * @method add\\n\\t\\t * @param {String} url Absolute URL to script to add.\\n\\t\\t * @param {function} success Optional success callback function to execute when the script loades successfully.\\n\\t\\t * @param {Object} scope Optional scope to execute callback in.\\n\\t\\t * @param {function} failure Optional failure callback function to execute when the script failed to load.\\n\\t\\t */\\n\\t\\tthis.add = this.load = function(url, success, scope, failure) {\\n\\t\\t\\tvar state = states[url];\\n\\n\\t\\t\\t// Add url to load queue\\n\\t\\t\\tif (state == undef) {\\n\\t\\t\\t\\tqueue.push(url);\\n\\t\\t\\t\\tstates[url] = QUEUED;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (success) {\\n\\t\\t\\t\\t// Store away callback for later execution\\n\\t\\t\\t\\tif (!scriptLoadedCallbacks[url]) {\\n\\t\\t\\t\\t\\tscriptLoadedCallbacks[url] = [];\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tscriptLoadedCallbacks[url].push({\\n\\t\\t\\t\\t\\tsuccess: success,\\n\\t\\t\\t\\t\\tfailure: failure,\\n\\t\\t\\t\\t\\tscope: scope || this\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\t\\t};\\n\\n\\t\\tthis.remove = function(url) {\\n\\t\\t\\tdelete states[url];\\n\\t\\t\\tdelete scriptLoadedCallbacks[url];\\n\\t\\t};\\n\\n\\t\\t/**\\n\\t\\t * Starts the loading of the queue.\\n\\t\\t *\\n\\t\\t * @method loadQueue\\n\\t\\t * @param {function} success Optional callback to execute when all queued items are loaded.\\n\\t\\t * @param {function} failure Optional callback to execute when queued items failed to load.\\n\\t\\t * @param {Object} scope Optional scope to execute the callback in.\\n\\t\\t */\\n\\t\\tthis.loadQueue = function(success, scope, failure) {\\n\\t\\t\\tthis.loadScripts(queue, success, scope, failure);\\n\\t\\t};\\n\\n\\t\\t/**\\n\\t\\t * Loads the specified queue of files and executes the callback ones they are loaded.\\n\\t\\t * This method is generally not used outside this class but it might be useful in some scenarios.\\n\\t\\t *\\n\\t\\t * @method loadScripts\\n\\t\\t * @param {Array} scripts Array of queue items to load.\\n\\t\\t * @param {function} callback Optional callback to execute when scripts is loaded successfully.\\n\\t\\t * @param {Object} scope Optional scope to execute callback in.\\n\\t\\t * @param {function} callback Optional callback to execute if scripts failed to load.\\n\\t\\t */\\n\\t\\tthis.loadScripts = function(scripts, success, scope, failure) {\\n\\t\\t\\tvar loadScripts, failures = [];\\n\\n\\t\\t\\tfunction execCallbacks(name, url) {\\n\\t\\t\\t\\t// Execute URL callback functions\\n\\t\\t\\t\\teach(scriptLoadedCallbacks[url], function(callback) {\\n\\t\\t\\t\\t\\tif (isFunction(callback[name])) {\\n\\t\\t\\t\\t\\t\\tcallback[name].call(callback.scope);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\tscriptLoadedCallbacks[url] = undef;\\n\\t\\t\\t}\\n\\n\\t\\t\\tqueueLoadedCallbacks.push({\\n\\t\\t\\t\\tsuccess: success,\\n\\t\\t\\t\\tfailure: failure,\\n\\t\\t\\t\\tscope: scope || this\\n\\t\\t\\t});\\n\\n\\t\\t\\tloadScripts = function() {\\n\\t\\t\\t\\tvar loadingScripts = grep(scripts);\\n\\n\\t\\t\\t\\t// Current scripts has been handled\\n\\t\\t\\t\\tscripts.length = 0;\\n\\n\\t\\t\\t\\t// Load scripts that needs to be loaded\\n\\t\\t\\t\\teach(loadingScripts, function(url) {\\n\\t\\t\\t\\t\\t// Script is already loaded then execute script callbacks directly\\n\\t\\t\\t\\t\\tif (states[url] === LOADED) {\\n\\t\\t\\t\\t\\t\\texecCallbacks('success', url);\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (states[url] === FAILED) {\\n\\t\\t\\t\\t\\t\\texecCallbacks('failure', url);\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Is script not loading then start loading it\\n\\t\\t\\t\\t\\tif (states[url] !== LOADING) {\\n\\t\\t\\t\\t\\t\\tstates[url] = LOADING;\\n\\t\\t\\t\\t\\t\\tloading++;\\n\\n\\t\\t\\t\\t\\t\\tloadScript(url, function() {\\n\\t\\t\\t\\t\\t\\t\\tstates[url] = LOADED;\\n\\t\\t\\t\\t\\t\\t\\tloading--;\\n\\n\\t\\t\\t\\t\\t\\t\\texecCallbacks('success', url);\\n\\n\\t\\t\\t\\t\\t\\t\\t// Load more scripts if they where added by the recently loaded script\\n\\t\\t\\t\\t\\t\\t\\tloadScripts();\\n\\t\\t\\t\\t\\t\\t}, function () {\\n\\t\\t\\t\\t\\t\\t\\tstates[url] = FAILED;\\n\\t\\t\\t\\t\\t\\t\\tloading--;\\n\\n\\t\\t\\t\\t\\t\\t\\tfailures.push(url);\\n\\t\\t\\t\\t\\t\\t\\texecCallbacks('failure', url);\\n\\n\\t\\t\\t\\t\\t\\t\\t// Load more scripts if they where added by the recently loaded script\\n\\t\\t\\t\\t\\t\\t\\tloadScripts();\\n\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t// No scripts are currently loading then execute all pending queue loaded callbacks\\n\\t\\t\\t\\tif (!loading) {\\n\\t\\t\\t\\t\\teach(queueLoadedCallbacks, function(callback) {\\n\\t\\t\\t\\t\\t\\tif (failures.length === 0) {\\n\\t\\t\\t\\t\\t\\t\\tif (isFunction(callback.success)) {\\n\\t\\t\\t\\t\\t\\t\\t\\tcallback.success.call(callback.scope);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\tif (isFunction(callback.failure)) {\\n\\t\\t\\t\\t\\t\\t\\t\\tcallback.failure.call(callback.scope, failures);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\tqueueLoadedCallbacks.length = 0;\\n\\t\\t\\t\\t}\\n\\t\\t\\t};\\n\\n\\t\\t\\tloadScripts();\\n\\t\\t};\\n\\t}\\n\\n\\tScriptLoader.ScriptLoader = new ScriptLoader();\\n\\n\\treturn ScriptLoader;\\n});\\n\\n// Included from: js/tinymce/classes/AddOnManager.js\\n\\n/**\\n * AddOnManager.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class handles the loading of themes/plugins or other add-ons and their language packs.\\n *\\n * @class tinymce.AddOnManager\\n */\\ndefine(\\\"tinymce/AddOnManager\\\", [\\n\\t\\\"tinymce/dom/ScriptLoader\\\",\\n\\t\\\"tinymce/util/Tools\\\"\\n], function(ScriptLoader, Tools) {\\n\\tvar each = Tools.each;\\n\\n\\tfunction AddOnManager() {\\n\\t\\tvar self = this;\\n\\n\\t\\tself.items = [];\\n\\t\\tself.urls = {};\\n\\t\\tself.lookup = {};\\n\\t}\\n\\n\\tAddOnManager.prototype = {\\n\\t\\t/**\\n\\t\\t * Returns the specified add on by the short name.\\n\\t\\t *\\n\\t\\t * @method get\\n\\t\\t * @param {String} name Add-on to look for.\\n\\t\\t * @return {tinymce.Theme/tinymce.Plugin} Theme or plugin add-on instance or undefined.\\n\\t\\t */\\n\\t\\tget: function(name) {\\n\\t\\t\\tif (this.lookup[name]) {\\n\\t\\t\\t\\treturn this.lookup[name].instance;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn undefined;\\n\\t\\t},\\n\\n\\t\\tdependencies: function(name) {\\n\\t\\t\\tvar result;\\n\\n\\t\\t\\tif (this.lookup[name]) {\\n\\t\\t\\t\\tresult = this.lookup[name].dependencies;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn result || [];\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Loads a language pack for the specified add-on.\\n\\t\\t *\\n\\t\\t * @method requireLangPack\\n\\t\\t * @param {String} name Short name of the add-on.\\n\\t\\t * @param {String} languages Optional comma or space separated list of languages to check if it matches the name.\\n\\t\\t */\\n\\t\\trequireLangPack: function(name, languages) {\\n\\t\\t\\tvar language = AddOnManager.language;\\n\\n\\t\\t\\tif (language && AddOnManager.languageLoad !== false) {\\n\\t\\t\\t\\tif (languages) {\\n\\t\\t\\t\\t\\tlanguages = ',' + languages + ',';\\n\\n\\t\\t\\t\\t\\t// Load short form sv.js or long form sv_SE.js\\n\\t\\t\\t\\t\\tif (languages.indexOf(',' + language.substr(0, 2) + ',') != -1) {\\n\\t\\t\\t\\t\\t\\tlanguage = language.substr(0, 2);\\n\\t\\t\\t\\t\\t} else if (languages.indexOf(',' + language + ',') == -1) {\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tScriptLoader.ScriptLoader.add(this.urls[name] + '/langs/' + language + '.js');\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Adds a instance of the add-on by it's short name.\\n\\t\\t *\\n\\t\\t * @method add\\n\\t\\t * @param {String} id Short name/id for the add-on.\\n\\t\\t * @param {tinymce.Theme/tinymce.Plugin} addOn Theme or plugin to add.\\n\\t\\t * @return {tinymce.Theme/tinymce.Plugin} The same theme or plugin instance that got passed in.\\n\\t\\t * @example\\n\\t\\t * // Create a simple plugin\\n\\t\\t * tinymce.create('tinymce.plugins.TestPlugin', {\\n\\t\\t *   TestPlugin: function(ed, url) {\\n\\t\\t *   ed.on('click', function(e) {\\n\\t\\t *      ed.windowManager.alert('Hello World!');\\n\\t\\t *   });\\n\\t\\t *   }\\n\\t\\t * });\\n\\t\\t *\\n\\t\\t * // Register plugin using the add method\\n\\t\\t * tinymce.PluginManager.add('test', tinymce.plugins.TestPlugin);\\n\\t\\t *\\n\\t\\t * // Initialize TinyMCE\\n\\t\\t * tinymce.init({\\n\\t\\t *  ...\\n\\t\\t *  plugins: '-test' // Init the plugin but don't try to load it\\n\\t\\t * });\\n\\t\\t */\\n\\t\\tadd: function(id, addOn, dependencies) {\\n\\t\\t\\tthis.items.push(addOn);\\n\\t\\t\\tthis.lookup[id] = {instance: addOn, dependencies: dependencies};\\n\\n\\t\\t\\treturn addOn;\\n\\t\\t},\\n\\n\\t\\tremove: function(name) {\\n\\t\\t\\tdelete this.urls[name];\\n\\t\\t\\tdelete this.lookup[name];\\n\\t\\t},\\n\\n\\t\\tcreateUrl: function(baseUrl, dep) {\\n\\t\\t\\tif (typeof dep === \\\"object\\\") {\\n\\t\\t\\t\\treturn dep;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn {prefix: baseUrl.prefix, resource: dep, suffix: baseUrl.suffix};\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Add a set of components that will make up the add-on. Using the url of the add-on name as the base url.\\n\\t\\t * This should be used in development mode.  A new compressor/javascript munger process will ensure that the\\n\\t\\t * components are put together into the plugin.js file and compressed correctly.\\n\\t\\t *\\n\\t\\t * @method addComponents\\n\\t\\t * @param {String} pluginName name of the plugin to load scripts from (will be used to get the base url for the plugins).\\n\\t\\t * @param {Array} scripts Array containing the names of the scripts to load.\\n\\t\\t */\\n\\t\\taddComponents: function(pluginName, scripts) {\\n\\t\\t\\tvar pluginUrl = this.urls[pluginName];\\n\\n\\t\\t\\teach(scripts, function(script) {\\n\\t\\t\\t\\tScriptLoader.ScriptLoader.add(pluginUrl + \\\"/\\\" + script);\\n\\t\\t\\t});\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Loads an add-on from a specific url.\\n\\t\\t *\\n\\t\\t * @method load\\n\\t\\t * @param {String} name Short name of the add-on that gets loaded.\\n\\t\\t * @param {String} addOnUrl URL to the add-on that will get loaded.\\n\\t\\t * @param {function} success Optional success callback to execute when an add-on is loaded.\\n\\t\\t * @param {Object} scope Optional scope to execute the callback in.\\n\\t\\t * @param {function} failure Optional failure callback to execute when an add-on failed to load.\\n\\t\\t * @example\\n\\t\\t * // Loads a plugin from an external URL\\n\\t\\t * tinymce.PluginManager.load('myplugin', '/some/dir/someplugin/plugin.js');\\n\\t\\t *\\n\\t\\t * // Initialize TinyMCE\\n\\t\\t * tinymce.init({\\n\\t\\t *  ...\\n\\t\\t *  plugins: '-myplugin' // Don't try to load it again\\n\\t\\t * });\\n\\t\\t */\\n\\t\\tload: function(name, addOnUrl, success, scope, failure) {\\n\\t\\t\\tvar self = this, url = addOnUrl;\\n\\n\\t\\t\\tfunction loadDependencies() {\\n\\t\\t\\t\\tvar dependencies = self.dependencies(name);\\n\\n\\t\\t\\t\\teach(dependencies, function(dep) {\\n\\t\\t\\t\\t\\tvar newUrl = self.createUrl(addOnUrl, dep);\\n\\n\\t\\t\\t\\t\\tself.load(newUrl.resource, newUrl, undefined, undefined);\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\tif (success) {\\n\\t\\t\\t\\t\\tif (scope) {\\n\\t\\t\\t\\t\\t\\tsuccess.call(scope);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tsuccess.call(ScriptLoader);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (self.urls[name]) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (typeof addOnUrl === \\\"object\\\") {\\n\\t\\t\\t\\turl = addOnUrl.prefix + addOnUrl.resource + addOnUrl.suffix;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (url.indexOf('/') !== 0 && url.indexOf('://') == -1) {\\n\\t\\t\\t\\turl = AddOnManager.baseURL + '/' + url;\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.urls[name] = url.substring(0, url.lastIndexOf('/'));\\n\\n\\t\\t\\tif (self.lookup[name]) {\\n\\t\\t\\t\\tloadDependencies();\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tScriptLoader.ScriptLoader.add(url, loadDependencies, scope, failure);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t};\\n\\n\\tAddOnManager.PluginManager = new AddOnManager();\\n\\tAddOnManager.ThemeManager = new AddOnManager();\\n\\n\\treturn AddOnManager;\\n});\\n\\n/**\\n * TinyMCE theme class.\\n *\\n * @class tinymce.Theme\\n */\\n\\n/**\\n * This method is responsible for rendering/generating the overall user interface with toolbars, buttons, iframe containers etc.\\n *\\n * @method renderUI\\n * @param {Object} obj Object parameter containing the targetNode DOM node that will be replaced visually with an editor instance.\\n * @return {Object} an object with items like iframeContainer, editorContainer, sizeContainer, deltaWidth, deltaHeight.\\n */\\n\\n/**\\n * Plugin base class, this is a pseudo class that describes how a plugin is to be created for TinyMCE. The methods below are all optional.\\n *\\n * @class tinymce.Plugin\\n * @example\\n * tinymce.PluginManager.add('example', function(editor, url) {\\n *     // Add a button that opens a window\\n *     editor.addButton('example', {\\n *         text: 'My button',\\n *         icon: false,\\n *         onclick: function() {\\n *             // Open window\\n *             editor.windowManager.open({\\n *                 title: 'Example plugin',\\n *                 body: [\\n *                     {type: 'textbox', name: 'title', label: 'Title'}\\n *                 ],\\n *                 onsubmit: function(e) {\\n *                     // Insert content when the window form is submitted\\n *                     editor.insertContent('Title: ' + e.data.title);\\n *                 }\\n *             });\\n *         }\\n *     });\\n *\\n *     // Adds a menu item to the tools menu\\n *     editor.addMenuItem('example', {\\n *         text: 'Example plugin',\\n *         context: 'tools',\\n *         onclick: function() {\\n *             // Open window with a specific url\\n *             editor.windowManager.open({\\n *                 title: 'TinyMCE site',\\n *                 url: 'http://www.tinymce.com',\\n *                 width: 800,\\n *                 height: 600,\\n *                 buttons: [{\\n *                     text: 'Close',\\n *                     onclick: 'close'\\n *                 }]\\n *             });\\n *         }\\n *     });\\n * });\\n */\\n\\n// Included from: js/tinymce/classes/dom/NodeType.js\\n\\n/**\\n * NodeType.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Contains various node validation functions.\\n *\\n * @private\\n * @class tinymce.dom.NodeType\\n */\\ndefine(\\\"tinymce/dom/NodeType\\\", [], function() {\\n\\tfunction isNodeType(type) {\\n\\t\\treturn function(node) {\\n\\t\\t\\treturn !!node && node.nodeType == type;\\n\\t\\t};\\n\\t}\\n\\n\\tvar isElement = isNodeType(1);\\n\\n\\tfunction matchNodeNames(names) {\\n\\t\\tnames = names.toLowerCase().split(' ');\\n\\n\\t\\treturn function(node) {\\n\\t\\t\\tvar i, name;\\n\\n\\t\\t\\tif (node && node.nodeType) {\\n\\t\\t\\t\\tname = node.nodeName.toLowerCase();\\n\\n\\t\\t\\t\\tfor (i = 0; i < names.length; i++) {\\n\\t\\t\\t\\t\\tif (name === names[i]) {\\n\\t\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn false;\\n\\t\\t};\\n\\t}\\n\\n\\tfunction matchStyleValues(name, values) {\\n\\t\\tvalues = values.toLowerCase().split(' ');\\n\\n\\t\\treturn function(node) {\\n\\t\\t\\tvar i, cssValue;\\n\\n\\t\\t\\tif (isElement(node)) {\\n\\t\\t\\t\\tfor (i = 0; i < values.length; i++) {\\n\\t\\t\\t\\t\\tcssValue = getComputedStyle(node, null).getPropertyValue(name);\\n\\t\\t\\t\\t\\tif (cssValue === values[i]) {\\n\\t\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn false;\\n\\t\\t};\\n\\t}\\n\\n\\tfunction hasPropValue(propName, propValue) {\\n\\t\\treturn function(node) {\\n\\t\\t\\treturn isElement(node) && node[propName] === propValue;\\n\\t\\t};\\n\\t}\\n\\n\\tfunction hasAttributeValue(attrName, attrValue) {\\n\\t\\treturn function(node) {\\n\\t\\t\\treturn isElement(node) && node.getAttribute(attrName) === attrValue;\\n\\t\\t};\\n\\t}\\n\\n\\tfunction isBogus(node) {\\n\\t\\treturn isElement(node) && node.hasAttribute('data-mce-bogus');\\n\\t}\\n\\n\\tfunction hasContentEditableState(value) {\\n\\t\\treturn function(node) {\\n\\t\\t\\tif (isElement(node)) {\\n\\t\\t\\t\\tif (node.contentEditable === value) {\\n\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (node.getAttribute('data-mce-contenteditable') === value) {\\n\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn false;\\n\\t\\t};\\n\\t}\\n\\n\\treturn {\\n\\t\\tisText: isNodeType(3),\\n\\t\\tisElement: isElement,\\n\\t\\tisComment: isNodeType(8),\\n\\t\\tisBr: matchNodeNames('br'),\\n\\t\\tisContentEditableTrue: hasContentEditableState('true'),\\n\\t\\tisContentEditableFalse: hasContentEditableState('false'),\\n\\t\\tmatchNodeNames: matchNodeNames,\\n\\t\\thasPropValue: hasPropValue,\\n\\t\\thasAttributeValue: hasAttributeValue,\\n\\t\\tmatchStyleValues: matchStyleValues,\\n\\t\\tisBogus: isBogus\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/text/Zwsp.js\\n\\n/**\\n * Zwsp.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Utility functions for working with zero width space\\n * characters used as character containers etc.\\n *\\n * @private\\n * @class tinymce.text.Zwsp\\n * @example\\n * var isZwsp = Zwsp.isZwsp('\\\\uFEFF');\\n * var abc = Zwsp.trim('a\\\\uFEFFc');\\n */\\ndefine(\\\"tinymce/text/Zwsp\\\", [], function() {\\n\\tvar ZWSP = '\\\\uFEFF';\\n\\n\\tfunction isZwsp(chr) {\\n\\t\\treturn chr == ZWSP;\\n\\t}\\n\\n\\tfunction trim(str) {\\n\\t\\treturn str.replace(new RegExp(ZWSP, 'g'), '');\\n\\t}\\n\\n\\treturn {\\n\\t\\tisZwsp: isZwsp,\\n\\t\\tZWSP: ZWSP,\\n\\t\\ttrim: trim\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/caret/CaretContainer.js\\n\\n/**\\n * CaretContainer.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This module handles caret containers. A caret container is a node that\\n * holds the caret for positional purposes.\\n *\\n * @private\\n * @class tinymce.caret.CaretContainer\\n */\\ndefine(\\\"tinymce/caret/CaretContainer\\\", [\\n\\t\\\"tinymce/dom/NodeType\\\",\\n\\t\\\"tinymce/text/Zwsp\\\"\\n], function(NodeType, Zwsp) {\\n\\tvar isElement = NodeType.isElement,\\n\\t\\tisText = NodeType.isText;\\n\\n\\tfunction isCaretContainerBlock(node) {\\n\\t\\tif (isText(node)) {\\n\\t\\t\\tnode = node.parentNode;\\n\\t\\t}\\n\\n\\t\\treturn isElement(node) && node.hasAttribute('data-mce-caret');\\n\\t}\\n\\n\\tfunction isCaretContainerInline(node) {\\n\\t\\treturn isText(node) && Zwsp.isZwsp(node.data);\\n\\t}\\n\\n\\tfunction isCaretContainer(node) {\\n\\t\\treturn isCaretContainerBlock(node) || isCaretContainerInline(node);\\n\\t}\\n\\n\\tfunction removeNode(node) {\\n\\t\\tvar parentNode = node.parentNode;\\n\\t\\tif (parentNode) {\\n\\t\\t\\tparentNode.removeChild(node);\\n\\t\\t}\\n\\t}\\n\\n\\tfunction getNodeValue(node) {\\n\\t\\ttry {\\n\\t\\t\\treturn node.nodeValue;\\n\\t\\t} catch (ex) {\\n\\t\\t\\t// IE sometimes produces \\\"Invalid argument\\\" on nodes\\n\\t\\t\\treturn \\\"\\\";\\n\\t\\t}\\n\\t}\\n\\n\\tfunction setNodeValue(node, text) {\\n\\t\\tif (text.length === 0) {\\n\\t\\t\\tremoveNode(node);\\n\\t\\t} else {\\n\\t\\t\\tnode.nodeValue = text;\\n\\t\\t}\\n\\t}\\n\\n\\tfunction insertInline(node, before) {\\n\\t\\tvar doc, sibling, textNode, parentNode;\\n\\n\\t\\tdoc = node.ownerDocument;\\n\\t\\ttextNode = doc.createTextNode(Zwsp.ZWSP);\\n\\t\\tparentNode = node.parentNode;\\n\\n\\t\\tif (!before) {\\n\\t\\t\\tsibling = node.nextSibling;\\n\\t\\t\\tif (isText(sibling)) {\\n\\t\\t\\t\\tif (isCaretContainer(sibling)) {\\n\\t\\t\\t\\t\\treturn sibling;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (startsWithCaretContainer(sibling)) {\\n\\t\\t\\t\\t\\tsibling.splitText(1);\\n\\t\\t\\t\\t\\treturn sibling;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (node.nextSibling) {\\n\\t\\t\\t\\tparentNode.insertBefore(textNode, node.nextSibling);\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tparentNode.appendChild(textNode);\\n\\t\\t\\t}\\n\\t\\t} else {\\n\\t\\t\\tsibling = node.previousSibling;\\n\\t\\t\\tif (isText(sibling)) {\\n\\t\\t\\t\\tif (isCaretContainer(sibling)) {\\n\\t\\t\\t\\t\\treturn sibling;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (endsWithCaretContainer(sibling)) {\\n\\t\\t\\t\\t\\treturn sibling.splitText(sibling.data.length - 1);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tparentNode.insertBefore(textNode, node);\\n\\t\\t}\\n\\n\\t\\treturn textNode;\\n\\t}\\n\\n\\tfunction createBogusBr() {\\n\\t\\tvar br = document.createElement('br');\\n\\t\\tbr.setAttribute('data-mce-bogus', '1');\\n\\t\\treturn br;\\n\\t}\\n\\n\\tfunction insertBlock(blockName, node, before) {\\n\\t\\tvar doc, blockNode, parentNode;\\n\\n\\t\\tdoc = node.ownerDocument;\\n\\t\\tblockNode = doc.createElement(blockName);\\n\\t\\tblockNode.setAttribute('data-mce-caret', before ? 'before' : 'after');\\n\\t\\tblockNode.setAttribute('data-mce-bogus', 'all');\\n\\t\\tblockNode.appendChild(createBogusBr());\\n\\t\\tparentNode = node.parentNode;\\n\\n\\t\\tif (!before) {\\n\\t\\t\\tif (node.nextSibling) {\\n\\t\\t\\t\\tparentNode.insertBefore(blockNode, node.nextSibling);\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tparentNode.appendChild(blockNode);\\n\\t\\t\\t}\\n\\t\\t} else {\\n\\t\\t\\tparentNode.insertBefore(blockNode, node);\\n\\t\\t}\\n\\n\\t\\treturn blockNode;\\n\\t}\\n\\n\\tfunction hasContent(node) {\\n\\t\\treturn node.firstChild !== node.lastChild || !NodeType.isBr(node.firstChild);\\n\\t}\\n\\n\\tfunction remove(caretContainerNode) {\\n\\t\\tif (isElement(caretContainerNode) && isCaretContainer(caretContainerNode)) {\\n\\t\\t\\tif (hasContent(caretContainerNode)) {\\n\\t\\t\\t\\tcaretContainerNode.removeAttribute('data-mce-caret');\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tremoveNode(caretContainerNode);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tif (isText(caretContainerNode)) {\\n\\t\\t\\tvar text = Zwsp.trim(getNodeValue(caretContainerNode));\\n\\t\\t\\tsetNodeValue(caretContainerNode, text);\\n\\t\\t}\\n\\t}\\n\\n\\tfunction startsWithCaretContainer(node) {\\n\\t\\treturn isText(node) && node.data[0] == Zwsp.ZWSP;\\n\\t}\\n\\n\\tfunction endsWithCaretContainer(node) {\\n\\t\\treturn isText(node) && node.data[node.data.length - 1] == Zwsp.ZWSP;\\n\\t}\\n\\n\\tfunction trimBogusBr(elm) {\\n\\t\\tvar brs = elm.getElementsByTagName('br');\\n\\t\\tvar lastBr = brs[brs.length - 1];\\n\\t\\tif (NodeType.isBogus(lastBr)) {\\n\\t\\t\\tlastBr.parentNode.removeChild(lastBr);\\n\\t\\t}\\n\\t}\\n\\n\\tfunction showCaretContainerBlock(caretContainer) {\\n\\t\\tif (caretContainer && caretContainer.hasAttribute('data-mce-caret')) {\\n\\t\\t\\ttrimBogusBr(caretContainer);\\n\\t\\t\\tcaretContainer.removeAttribute('data-mce-caret');\\n\\t\\t\\tcaretContainer.removeAttribute('data-mce-bogus');\\n\\t\\t\\tcaretContainer.removeAttribute('style');\\n\\t\\t\\tcaretContainer.removeAttribute('_moz_abspos');\\n\\t\\t\\treturn caretContainer;\\n\\t\\t}\\n\\n\\t\\treturn null;\\n\\t}\\n\\n\\treturn {\\n\\t\\tisCaretContainer: isCaretContainer,\\n\\t\\tisCaretContainerBlock: isCaretContainerBlock,\\n\\t\\tisCaretContainerInline: isCaretContainerInline,\\n\\t\\tshowCaretContainerBlock: showCaretContainerBlock,\\n\\t\\tinsertInline: insertInline,\\n\\t\\tinsertBlock: insertBlock,\\n\\t\\thasContent: hasContent,\\n\\t\\tremove: remove,\\n\\t\\tstartsWithCaretContainer: startsWithCaretContainer,\\n\\t\\tendsWithCaretContainer: endsWithCaretContainer\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/dom/RangeUtils.js\\n\\n/**\\n * RangeUtils.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class contains a few utility methods for ranges.\\n *\\n * @class tinymce.dom.RangeUtils\\n */\\ndefine(\\\"tinymce/dom/RangeUtils\\\", [\\n\\t\\\"tinymce/util/Tools\\\",\\n\\t\\\"tinymce/dom/TreeWalker\\\",\\n\\t\\\"tinymce/dom/NodeType\\\",\\n\\t\\\"tinymce/dom/Range\\\",\\n\\t\\\"tinymce/caret/CaretContainer\\\"\\n], function(Tools, TreeWalker, NodeType, Range, CaretContainer) {\\n\\tvar each = Tools.each,\\n\\t\\tisContentEditableTrue = NodeType.isContentEditableTrue,\\n\\t\\tisContentEditableFalse = NodeType.isContentEditableFalse,\\n\\t\\tisCaretContainer = CaretContainer.isCaretContainer;\\n\\n\\tfunction hasCeProperty(node) {\\n\\t\\treturn isContentEditableTrue(node) || isContentEditableFalse(node);\\n\\t}\\n\\n\\tfunction getEndChild(container, index) {\\n\\t\\tvar childNodes = container.childNodes;\\n\\n\\t\\tindex--;\\n\\n\\t\\tif (index > childNodes.length - 1) {\\n\\t\\t\\tindex = childNodes.length - 1;\\n\\t\\t} else if (index < 0) {\\n\\t\\t\\tindex = 0;\\n\\t\\t}\\n\\n\\t\\treturn childNodes[index] || container;\\n\\t}\\n\\n\\tfunction findParent(node, rootNode, predicate) {\\n\\t\\twhile (node && node !== rootNode) {\\n\\t\\t\\tif (predicate(node)) {\\n\\t\\t\\t\\treturn node;\\n\\t\\t\\t}\\n\\n\\t\\t\\tnode = node.parentNode;\\n\\t\\t}\\n\\n\\t\\treturn null;\\n\\t}\\n\\n\\tfunction hasParent(node, rootNode, predicate) {\\n\\t\\treturn findParent(node, rootNode, predicate) !== null;\\n\\t}\\n\\n\\tfunction isFormatterCaret(node) {\\n\\t\\treturn node.id === '_mce_caret';\\n\\t}\\n\\n\\tfunction isCeFalseCaretContainer(node, rootNode) {\\n\\t\\treturn isCaretContainer(node) && hasParent(node, rootNode, isFormatterCaret) === false;\\n\\t}\\n\\n\\tfunction RangeUtils(dom) {\\n\\t\\t/**\\n\\t\\t * Walks the specified range like object and executes the callback for each sibling collection it finds.\\n\\t\\t *\\n\\t\\t * @private\\n\\t\\t * @method walk\\n\\t\\t * @param {Object} rng Range like object.\\n\\t\\t * @param {function} callback Callback function to execute for each sibling collection.\\n\\t\\t */\\n\\t\\tthis.walk = function(rng, callback) {\\n\\t\\t\\tvar startContainer = rng.startContainer,\\n\\t\\t\\t\\tstartOffset = rng.startOffset,\\n\\t\\t\\t\\tendContainer = rng.endContainer,\\n\\t\\t\\t\\tendOffset = rng.endOffset,\\n\\t\\t\\t\\tancestor, startPoint,\\n\\t\\t\\t\\tendPoint, node, parent, siblings, nodes;\\n\\n\\t\\t\\t// Handle table cell selection the table plugin enables\\n\\t\\t\\t// you to fake select table cells and perform formatting actions on them\\n\\t\\t\\tnodes = dom.select('td[data-mce-selected],th[data-mce-selected]');\\n\\t\\t\\tif (nodes.length > 0) {\\n\\t\\t\\t\\teach(nodes, function(node) {\\n\\t\\t\\t\\t\\tcallback([node]);\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Excludes start/end text node if they are out side the range\\n\\t\\t\\t *\\n\\t\\t\\t * @private\\n\\t\\t\\t * @param {Array} nodes Nodes to exclude items from.\\n\\t\\t\\t * @return {Array} Array with nodes excluding the start/end container if needed.\\n\\t\\t\\t */\\n\\t\\t\\tfunction exclude(nodes) {\\n\\t\\t\\t\\tvar node;\\n\\n\\t\\t\\t\\t// First node is excluded\\n\\t\\t\\t\\tnode = nodes[0];\\n\\t\\t\\t\\tif (node.nodeType === 3 && node === startContainer && startOffset >= node.nodeValue.length) {\\n\\t\\t\\t\\t\\tnodes.splice(0, 1);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Last node is excluded\\n\\t\\t\\t\\tnode = nodes[nodes.length - 1];\\n\\t\\t\\t\\tif (endOffset === 0 && nodes.length > 0 && node === endContainer && node.nodeType === 3) {\\n\\t\\t\\t\\t\\tnodes.splice(nodes.length - 1, 1);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn nodes;\\n\\t\\t\\t}\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Collects siblings\\n\\t\\t\\t *\\n\\t\\t\\t * @private\\n\\t\\t\\t * @param {Node} node Node to collect siblings from.\\n\\t\\t\\t * @param {String} name Name of the sibling to check for.\\n\\t\\t\\t * @param {Node} end_node\\n\\t\\t\\t * @return {Array} Array of collected siblings.\\n\\t\\t\\t */\\n\\t\\t\\tfunction collectSiblings(node, name, end_node) {\\n\\t\\t\\t\\tvar siblings = [];\\n\\n\\t\\t\\t\\tfor (; node && node != end_node; node = node[name]) {\\n\\t\\t\\t\\t\\tsiblings.push(node);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn siblings;\\n\\t\\t\\t}\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Find an end point this is the node just before the common ancestor root.\\n\\t\\t\\t *\\n\\t\\t\\t * @private\\n\\t\\t\\t * @param {Node} node Node to start at.\\n\\t\\t\\t * @param {Node} root Root/ancestor element to stop just before.\\n\\t\\t\\t * @return {Node} Node just before the root element.\\n\\t\\t\\t */\\n\\t\\t\\tfunction findEndPoint(node, root) {\\n\\t\\t\\t\\tdo {\\n\\t\\t\\t\\t\\tif (node.parentNode == root) {\\n\\t\\t\\t\\t\\t\\treturn node;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tnode = node.parentNode;\\n\\t\\t\\t\\t} while (node);\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction walkBoundary(start_node, end_node, next) {\\n\\t\\t\\t\\tvar siblingName = next ? 'nextSibling' : 'previousSibling';\\n\\n\\t\\t\\t\\tfor (node = start_node, parent = node.parentNode; node && node != end_node; node = parent) {\\n\\t\\t\\t\\t\\tparent = node.parentNode;\\n\\t\\t\\t\\t\\tsiblings = collectSiblings(node == start_node ? node : node[siblingName], siblingName);\\n\\n\\t\\t\\t\\t\\tif (siblings.length) {\\n\\t\\t\\t\\t\\t\\tif (!next) {\\n\\t\\t\\t\\t\\t\\t\\tsiblings.reverse();\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tcallback(exclude(siblings));\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// If index based start position then resolve it\\n\\t\\t\\tif (startContainer.nodeType == 1 && startContainer.hasChildNodes()) {\\n\\t\\t\\t\\tstartContainer = startContainer.childNodes[startOffset];\\n\\t\\t\\t}\\n\\n\\t\\t\\t// If index based end position then resolve it\\n\\t\\t\\tif (endContainer.nodeType == 1 && endContainer.hasChildNodes()) {\\n\\t\\t\\t\\tendContainer = getEndChild(endContainer, endOffset);\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Same container\\n\\t\\t\\tif (startContainer == endContainer) {\\n\\t\\t\\t\\treturn callback(exclude([startContainer]));\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Find common ancestor and end points\\n\\t\\t\\tancestor = dom.findCommonAncestor(startContainer, endContainer);\\n\\n\\t\\t\\t// Process left side\\n\\t\\t\\tfor (node = startContainer; node; node = node.parentNode) {\\n\\t\\t\\t\\tif (node === endContainer) {\\n\\t\\t\\t\\t\\treturn walkBoundary(startContainer, ancestor, true);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (node === ancestor) {\\n\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Process right side\\n\\t\\t\\tfor (node = endContainer; node; node = node.parentNode) {\\n\\t\\t\\t\\tif (node === startContainer) {\\n\\t\\t\\t\\t\\treturn walkBoundary(endContainer, ancestor);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (node === ancestor) {\\n\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Find start/end point\\n\\t\\t\\tstartPoint = findEndPoint(startContainer, ancestor) || startContainer;\\n\\t\\t\\tendPoint = findEndPoint(endContainer, ancestor) || endContainer;\\n\\n\\t\\t\\t// Walk left leaf\\n\\t\\t\\twalkBoundary(startContainer, startPoint, true);\\n\\n\\t\\t\\t// Walk the middle from start to end point\\n\\t\\t\\tsiblings = collectSiblings(\\n\\t\\t\\t\\tstartPoint == startContainer ? startPoint : startPoint.nextSibling,\\n\\t\\t\\t\\t'nextSibling',\\n\\t\\t\\t\\tendPoint == endContainer ? endPoint.nextSibling : endPoint\\n\\t\\t\\t);\\n\\n\\t\\t\\tif (siblings.length) {\\n\\t\\t\\t\\tcallback(exclude(siblings));\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Walk right leaf\\n\\t\\t\\twalkBoundary(endContainer, endPoint);\\n\\t\\t};\\n\\n\\t\\t/**\\n\\t\\t * Splits the specified range at it's start/end points.\\n\\t\\t *\\n\\t\\t * @private\\n\\t\\t * @param {Range/RangeObject} rng Range to split.\\n\\t\\t * @return {Object} Range position object.\\n\\t\\t */\\n\\t\\tthis.split = function(rng) {\\n\\t\\t\\tvar startContainer = rng.startContainer,\\n\\t\\t\\t\\tstartOffset = rng.startOffset,\\n\\t\\t\\t\\tendContainer = rng.endContainer,\\n\\t\\t\\t\\tendOffset = rng.endOffset;\\n\\n\\t\\t\\tfunction splitText(node, offset) {\\n\\t\\t\\t\\treturn node.splitText(offset);\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Handle single text node\\n\\t\\t\\tif (startContainer == endContainer && startContainer.nodeType == 3) {\\n\\t\\t\\t\\tif (startOffset > 0 && startOffset < startContainer.nodeValue.length) {\\n\\t\\t\\t\\t\\tendContainer = splitText(startContainer, startOffset);\\n\\t\\t\\t\\t\\tstartContainer = endContainer.previousSibling;\\n\\n\\t\\t\\t\\t\\tif (endOffset > startOffset) {\\n\\t\\t\\t\\t\\t\\tendOffset = endOffset - startOffset;\\n\\t\\t\\t\\t\\t\\tstartContainer = endContainer = splitText(endContainer, endOffset).previousSibling;\\n\\t\\t\\t\\t\\t\\tendOffset = endContainer.nodeValue.length;\\n\\t\\t\\t\\t\\t\\tstartOffset = 0;\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tendOffset = 0;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t} else {\\n\\t\\t\\t\\t// Split startContainer text node if needed\\n\\t\\t\\t\\tif (startContainer.nodeType == 3 && startOffset > 0 && startOffset < startContainer.nodeValue.length) {\\n\\t\\t\\t\\t\\tstartContainer = splitText(startContainer, startOffset);\\n\\t\\t\\t\\t\\tstartOffset = 0;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Split endContainer text node if needed\\n\\t\\t\\t\\tif (endContainer.nodeType == 3 && endOffset > 0 && endOffset < endContainer.nodeValue.length) {\\n\\t\\t\\t\\t\\tendContainer = splitText(endContainer, endOffset).previousSibling;\\n\\t\\t\\t\\t\\tendOffset = endContainer.nodeValue.length;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn {\\n\\t\\t\\t\\tstartContainer: startContainer,\\n\\t\\t\\t\\tstartOffset: startOffset,\\n\\t\\t\\t\\tendContainer: endContainer,\\n\\t\\t\\t\\tendOffset: endOffset\\n\\t\\t\\t};\\n\\t\\t};\\n\\n\\t\\t/**\\n\\t\\t * Normalizes the specified range by finding the closest best suitable caret location.\\n\\t\\t *\\n\\t\\t * @private\\n\\t\\t * @param {Range} rng Range to normalize.\\n\\t\\t * @return {Boolean} True/false if the specified range was normalized or not.\\n\\t\\t */\\n\\t\\tthis.normalize = function(rng) {\\n\\t\\t\\tvar normalized, collapsed;\\n\\n\\t\\t\\tfunction normalizeEndPoint(start) {\\n\\t\\t\\t\\tvar container, offset, walker, body = dom.getRoot(), node, nonEmptyElementsMap;\\n\\t\\t\\t\\tvar directionLeft, isAfterNode;\\n\\n\\t\\t\\t\\tfunction isTableCell(node) {\\n\\t\\t\\t\\t\\treturn node && /^(TD|TH|CAPTION)$/.test(node.nodeName);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfunction hasBrBeforeAfter(node, left) {\\n\\t\\t\\t\\t\\tvar walker = new TreeWalker(node, dom.getParent(node.parentNode, dom.isBlock) || body);\\n\\n\\t\\t\\t\\t\\twhile ((node = walker[left ? 'prev' : 'next']())) {\\n\\t\\t\\t\\t\\t\\tif (node.nodeName === \\\"BR\\\") {\\n\\t\\t\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfunction hasContentEditableFalseParent(node) {\\n\\t\\t\\t\\t\\twhile (node && node != body) {\\n\\t\\t\\t\\t\\t\\tif (isContentEditableFalse(node)) {\\n\\t\\t\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tnode = node.parentNode;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfunction isPrevNode(node, name) {\\n\\t\\t\\t\\t\\treturn node.previousSibling && node.previousSibling.nodeName == name;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Walks the dom left/right to find a suitable text node to move the endpoint into\\n\\t\\t\\t\\t// It will only walk within the current parent block or body and will stop if it hits a block or a BR/IMG\\n\\t\\t\\t\\tfunction findTextNodeRelative(left, startNode) {\\n\\t\\t\\t\\t\\tvar walker, lastInlineElement, parentBlockContainer;\\n\\n\\t\\t\\t\\t\\tstartNode = startNode || container;\\n\\t\\t\\t\\t\\tparentBlockContainer = dom.getParent(startNode.parentNode, dom.isBlock) || body;\\n\\n\\t\\t\\t\\t\\t// Lean left before the BR element if it's the only BR within a block element. Gecko bug: #6680\\n\\t\\t\\t\\t\\t// This: <p><br>|</p> becomes <p>|<br></p>\\n\\t\\t\\t\\t\\tif (left && startNode.nodeName == 'BR' && isAfterNode && dom.isEmpty(parentBlockContainer)) {\\n\\t\\t\\t\\t\\t\\tcontainer = startNode.parentNode;\\n\\t\\t\\t\\t\\t\\toffset = dom.nodeIndex(startNode);\\n\\t\\t\\t\\t\\t\\tnormalized = true;\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Walk left until we hit a text node we can move to or a block/br/img\\n\\t\\t\\t\\t\\twalker = new TreeWalker(startNode, parentBlockContainer);\\n\\t\\t\\t\\t\\twhile ((node = walker[left ? 'prev' : 'next']())) {\\n\\t\\t\\t\\t\\t\\t// Break if we hit a non content editable node\\n\\t\\t\\t\\t\\t\\tif (dom.getContentEditableParent(node) === \\\"false\\\" || isCeFalseCaretContainer(node, dom.getRoot())) {\\n\\t\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Found text node that has a length\\n\\t\\t\\t\\t\\t\\tif (node.nodeType === 3 && node.nodeValue.length > 0) {\\n\\t\\t\\t\\t\\t\\t\\tcontainer = node;\\n\\t\\t\\t\\t\\t\\t\\toffset = left ? node.nodeValue.length : 0;\\n\\t\\t\\t\\t\\t\\t\\tnormalized = true;\\n\\t\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Break if we find a block or a BR/IMG/INPUT etc\\n\\t\\t\\t\\t\\t\\tif (dom.isBlock(node) || nonEmptyElementsMap[node.nodeName.toLowerCase()]) {\\n\\t\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tlastInlineElement = node;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Only fetch the last inline element when in caret mode for now\\n\\t\\t\\t\\t\\tif (collapsed && lastInlineElement) {\\n\\t\\t\\t\\t\\t\\tcontainer = lastInlineElement;\\n\\t\\t\\t\\t\\t\\tnormalized = true;\\n\\t\\t\\t\\t\\t\\toffset = 0;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tcontainer = rng[(start ? 'start' : 'end') + 'Container'];\\n\\t\\t\\t\\toffset = rng[(start ? 'start' : 'end') + 'Offset'];\\n\\t\\t\\t\\tisAfterNode = container.nodeType == 1 && offset === container.childNodes.length;\\n\\t\\t\\t\\tnonEmptyElementsMap = dom.schema.getNonEmptyElements();\\n\\t\\t\\t\\tdirectionLeft = start;\\n\\n\\t\\t\\t\\tif (isCaretContainer(container)) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (container.nodeType == 1 && offset > container.childNodes.length - 1) {\\n\\t\\t\\t\\t\\tdirectionLeft = false;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// If the container is a document move it to the body element\\n\\t\\t\\t\\tif (container.nodeType === 9) {\\n\\t\\t\\t\\t\\tcontainer = dom.getRoot();\\n\\t\\t\\t\\t\\toffset = 0;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// If the container is body try move it into the closest text node or position\\n\\t\\t\\t\\tif (container === body) {\\n\\t\\t\\t\\t\\t// If start is before/after a image, table etc\\n\\t\\t\\t\\t\\tif (directionLeft) {\\n\\t\\t\\t\\t\\t\\tnode = container.childNodes[offset > 0 ? offset - 1 : 0];\\n\\t\\t\\t\\t\\t\\tif (node) {\\n\\t\\t\\t\\t\\t\\t\\tif (isCaretContainer(node)) {\\n\\t\\t\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tif (nonEmptyElementsMap[node.nodeName] || node.nodeName == \\\"TABLE\\\") {\\n\\t\\t\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Resolve the index\\n\\t\\t\\t\\t\\tif (container.hasChildNodes()) {\\n\\t\\t\\t\\t\\t\\toffset = Math.min(!directionLeft && offset > 0 ? offset - 1 : offset, container.childNodes.length - 1);\\n\\t\\t\\t\\t\\t\\tcontainer = container.childNodes[offset];\\n\\t\\t\\t\\t\\t\\toffset = 0;\\n\\n\\t\\t\\t\\t\\t\\t// Don't normalize non collapsed selections like <p>[a</p><table></table>]\\n\\t\\t\\t\\t\\t\\tif (!collapsed && container === body.lastChild && container.nodeName === 'TABLE') {\\n\\t\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tif (hasContentEditableFalseParent(container) || isCaretContainer(container)) {\\n\\t\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Don't walk into elements that doesn't have any child nodes like a IMG\\n\\t\\t\\t\\t\\t\\tif (container.hasChildNodes() && !/TABLE/.test(container.nodeName)) {\\n\\t\\t\\t\\t\\t\\t\\t// Walk the DOM to find a text node to place the caret at or a BR\\n\\t\\t\\t\\t\\t\\t\\tnode = container;\\n\\t\\t\\t\\t\\t\\t\\twalker = new TreeWalker(container, body);\\n\\n\\t\\t\\t\\t\\t\\t\\tdo {\\n\\t\\t\\t\\t\\t\\t\\t\\tif (isContentEditableFalse(node) || isCaretContainer(node)) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tnormalized = false;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t// Found a text node use that position\\n\\t\\t\\t\\t\\t\\t\\t\\tif (node.nodeType === 3 && node.nodeValue.length > 0) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\toffset = directionLeft ? 0 : node.nodeValue.length;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tcontainer = node;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tnormalized = true;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t// Found a BR/IMG element that we can place the caret before\\n\\t\\t\\t\\t\\t\\t\\t\\tif (nonEmptyElementsMap[node.nodeName.toLowerCase()] && !isTableCell(node)) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\toffset = dom.nodeIndex(node);\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tcontainer = node.parentNode;\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t// Put caret after image when moving the end point\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tif (node.nodeName == \\\"IMG\\\" && !directionLeft) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\toffset++;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tnormalized = true;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t} while ((node = (directionLeft ? walker.next() : walker.prev())));\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Lean the caret to the left if possible\\n\\t\\t\\t\\tif (collapsed) {\\n\\t\\t\\t\\t\\t// So this: <b>x</b><i>|x</i>\\n\\t\\t\\t\\t\\t// Becomes: <b>x|</b><i>x</i>\\n\\t\\t\\t\\t\\t// Seems that only gecko has issues with this\\n\\t\\t\\t\\t\\tif (container.nodeType === 3 && offset === 0) {\\n\\t\\t\\t\\t\\t\\tfindTextNodeRelative(true);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Lean left into empty inline elements when the caret is before a BR\\n\\t\\t\\t\\t\\t// So this: <i><b></b><i>|<br></i>\\n\\t\\t\\t\\t\\t// Becomes: <i><b>|</b><i><br></i>\\n\\t\\t\\t\\t\\t// Seems that only gecko has issues with this.\\n\\t\\t\\t\\t\\t// Special edge case for <p><a>x</a>|<br></p> since we don't want <p><a>x|</a><br></p>\\n\\t\\t\\t\\t\\tif (container.nodeType === 1) {\\n\\t\\t\\t\\t\\t\\tnode = container.childNodes[offset];\\n\\n\\t\\t\\t\\t\\t\\t// Offset is after the containers last child\\n\\t\\t\\t\\t\\t\\t// then use the previous child for normalization\\n\\t\\t\\t\\t\\t\\tif (!node) {\\n\\t\\t\\t\\t\\t\\t\\tnode = container.childNodes[offset - 1];\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tif (node && node.nodeName === 'BR' && !isPrevNode(node, 'A') &&\\n\\t\\t\\t\\t\\t\\t\\t!hasBrBeforeAfter(node) && !hasBrBeforeAfter(node, true)) {\\n\\t\\t\\t\\t\\t\\t\\tfindTextNodeRelative(true, node);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Lean the start of the selection right if possible\\n\\t\\t\\t\\t// So this: x[<b>x]</b>\\n\\t\\t\\t\\t// Becomes: x<b>[x]</b>\\n\\t\\t\\t\\tif (directionLeft && !collapsed && container.nodeType === 3 && offset === container.nodeValue.length) {\\n\\t\\t\\t\\t\\tfindTextNodeRelative(false);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Set endpoint if it was normalized\\n\\t\\t\\t\\tif (normalized) {\\n\\t\\t\\t\\t\\trng['set' + (start ? 'Start' : 'End')](container, offset);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tcollapsed = rng.collapsed;\\n\\n\\t\\t\\tnormalizeEndPoint(true);\\n\\n\\t\\t\\tif (!collapsed) {\\n\\t\\t\\t\\tnormalizeEndPoint();\\n\\t\\t\\t}\\n\\n\\t\\t\\t// If it was collapsed then make sure it still is\\n\\t\\t\\tif (normalized && collapsed) {\\n\\t\\t\\t\\trng.collapse(true);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn normalized;\\n\\t\\t};\\n\\t}\\n\\n\\t/**\\n\\t * Compares two ranges and checks if they are equal.\\n\\t *\\n\\t * @static\\n\\t * @method compareRanges\\n\\t * @param {DOMRange} rng1 First range to compare.\\n\\t * @param {DOMRange} rng2 First range to compare.\\n\\t * @return {Boolean} true/false if the ranges are equal.\\n\\t */\\n\\tRangeUtils.compareRanges = function(rng1, rng2) {\\n\\t\\tif (rng1 && rng2) {\\n\\t\\t\\t// Compare native IE ranges\\n\\t\\t\\tif (rng1.item || rng1.duplicate) {\\n\\t\\t\\t\\t// Both are control ranges and the selected element matches\\n\\t\\t\\t\\tif (rng1.item && rng2.item && rng1.item(0) === rng2.item(0)) {\\n\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Both are text ranges and the range matches\\n\\t\\t\\t\\tif (rng1.isEqual && rng2.isEqual && rng2.isEqual(rng1)) {\\n\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t}\\n\\t\\t\\t} else {\\n\\t\\t\\t\\t// Compare w3c ranges\\n\\t\\t\\t\\treturn rng1.startContainer == rng2.startContainer && rng1.startOffset == rng2.startOffset;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\treturn false;\\n\\t};\\n\\n\\t/**\\n\\t * Finds the closest selection rect tries to get the range from that.\\n\\t */\\n\\tfunction findClosestIeRange(clientX, clientY, doc) {\\n\\t\\tvar element, rng, rects;\\n\\n\\t\\telement = doc.elementFromPoint(clientX, clientY);\\n\\t\\trng = doc.body.createTextRange();\\n\\n\\t\\tif (!element || element.tagName == 'HTML') {\\n\\t\\t\\telement = doc.body;\\n\\t\\t}\\n\\n\\t\\trng.moveToElementText(element);\\n\\t\\trects = Tools.toArray(rng.getClientRects());\\n\\n\\t\\trects = rects.sort(function(a, b) {\\n\\t\\t\\ta = Math.abs(Math.max(a.top - clientY, a.bottom - clientY));\\n\\t\\t\\tb = Math.abs(Math.max(b.top - clientY, b.bottom - clientY));\\n\\n\\t\\t\\treturn a - b;\\n\\t\\t});\\n\\n\\t\\tif (rects.length > 0) {\\n\\t\\t\\tclientY = (rects[0].bottom + rects[0].top) / 2;\\n\\n\\t\\t\\ttry {\\n\\t\\t\\t\\trng.moveToPoint(clientX, clientY);\\n\\t\\t\\t\\trng.collapse(true);\\n\\n\\t\\t\\t\\treturn rng;\\n\\t\\t\\t} catch (ex) {\\n\\t\\t\\t\\t// At least we tried\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\treturn null;\\n\\t}\\n\\n\\tfunction moveOutOfContentEditableFalse(rng, rootNode) {\\n\\t\\tvar parentElement = rng && rng.parentElement ? rng.parentElement() : null;\\n\\t\\treturn isContentEditableFalse(findParent(parentElement, rootNode, hasCeProperty)) ? null : rng;\\n\\t}\\n\\n\\t/**\\n\\t * Gets the caret range for the given x/y location.\\n\\t *\\n\\t * @static\\n\\t * @method getCaretRangeFromPoint\\n\\t * @param {Number} clientX X coordinate for range\\n\\t * @param {Number} clientY Y coordinate for range\\n\\t * @param {Document} doc Document that x/y are relative to\\n\\t * @returns {Range} caret range\\n\\t */\\n\\tRangeUtils.getCaretRangeFromPoint = function(clientX, clientY, doc) {\\n\\t\\tvar rng, point;\\n\\n\\t\\tif (doc.caretPositionFromPoint) {\\n\\t\\t\\tpoint = doc.caretPositionFromPoint(clientX, clientY);\\n\\t\\t\\trng = doc.createRange();\\n\\t\\t\\trng.setStart(point.offsetNode, point.offset);\\n\\t\\t\\trng.collapse(true);\\n\\t\\t} else if (doc.caretRangeFromPoint) {\\n\\t\\t\\trng = doc.caretRangeFromPoint(clientX, clientY);\\n\\t\\t} else if (doc.body.createTextRange) {\\n\\t\\t\\trng = doc.body.createTextRange();\\n\\n\\t\\t\\ttry {\\n\\t\\t\\t\\trng.moveToPoint(clientX, clientY);\\n\\t\\t\\t\\trng.collapse(true);\\n\\t\\t\\t} catch (ex) {\\n\\t\\t\\t\\trng = findClosestIeRange(clientX, clientY, doc);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn moveOutOfContentEditableFalse(rng, doc.body);\\n\\t\\t}\\n\\n\\t\\treturn rng;\\n\\t};\\n\\n\\tRangeUtils.getSelectedNode = function(range) {\\n\\t\\tvar startContainer = range.startContainer,\\n\\t\\t\\tstartOffset = range.startOffset;\\n\\n\\t\\tif (startContainer.hasChildNodes() && range.endOffset == startOffset + 1) {\\n\\t\\t\\treturn startContainer.childNodes[startOffset];\\n\\t\\t}\\n\\n\\t\\treturn null;\\n\\t};\\n\\n\\tRangeUtils.getNode = function(container, offset) {\\n\\t\\tif (container.nodeType == 1 && container.hasChildNodes()) {\\n\\t\\t\\tif (offset >= container.childNodes.length) {\\n\\t\\t\\t\\toffset = container.childNodes.length - 1;\\n\\t\\t\\t}\\n\\n\\t\\t\\tcontainer = container.childNodes[offset];\\n\\t\\t}\\n\\n\\t\\treturn container;\\n\\t};\\n\\n\\treturn RangeUtils;\\n});\\n\\n// Included from: js/tinymce/classes/NodeChange.js\\n\\n/**\\n * NodeChange.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class handles the nodechange event dispatching both manual and through selection change events.\\n *\\n * @class tinymce.NodeChange\\n * @private\\n */\\ndefine(\\\"tinymce/NodeChange\\\", [\\n\\t\\\"tinymce/dom/RangeUtils\\\",\\n\\t\\\"tinymce/Env\\\",\\n\\t\\\"tinymce/util/Delay\\\"\\n], function(RangeUtils, Env, Delay) {\\n\\treturn function(editor) {\\n\\t\\tvar lastRng, lastPath = [];\\n\\n\\t\\t/**\\n\\t\\t * Returns true/false if the current element path has been changed or not.\\n\\t\\t *\\n\\t\\t * @private\\n\\t\\t * @return {Boolean} True if the element path is the same false if it's not.\\n\\t\\t */\\n\\t\\tfunction isSameElementPath(startElm) {\\n\\t\\t\\tvar i, currentPath;\\n\\n\\t\\t\\tcurrentPath = editor.$(startElm).parentsUntil(editor.getBody()).add(startElm);\\n\\t\\t\\tif (currentPath.length === lastPath.length) {\\n\\t\\t\\t\\tfor (i = currentPath.length; i >= 0; i--) {\\n\\t\\t\\t\\t\\tif (currentPath[i] !== lastPath[i]) {\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (i === -1) {\\n\\t\\t\\t\\t\\tlastPath = currentPath;\\n\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tlastPath = currentPath;\\n\\n\\t\\t\\treturn false;\\n\\t\\t}\\n\\n\\t\\t// Gecko doesn't support the \\\"selectionchange\\\" event\\n\\t\\tif (!('onselectionchange' in editor.getDoc())) {\\n\\t\\t\\teditor.on('NodeChange Click MouseUp KeyUp Focus', function(e) {\\n\\t\\t\\t\\tvar nativeRng, fakeRng;\\n\\n\\t\\t\\t\\t// Since DOM Ranges mutate on modification\\n\\t\\t\\t\\t// of the DOM we need to clone it's contents\\n\\t\\t\\t\\tnativeRng = editor.selection.getRng();\\n\\t\\t\\t\\tfakeRng = {\\n\\t\\t\\t\\t\\tstartContainer: nativeRng.startContainer,\\n\\t\\t\\t\\t\\tstartOffset: nativeRng.startOffset,\\n\\t\\t\\t\\t\\tendContainer: nativeRng.endContainer,\\n\\t\\t\\t\\t\\tendOffset: nativeRng.endOffset\\n\\t\\t\\t\\t};\\n\\n\\t\\t\\t\\t// Always treat nodechange as a selectionchange since applying\\n\\t\\t\\t\\t// formatting to the current range wouldn't update the range but it's parent\\n\\t\\t\\t\\tif (e.type == 'nodechange' || !RangeUtils.compareRanges(fakeRng, lastRng)) {\\n\\t\\t\\t\\t\\teditor.fire('SelectionChange');\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tlastRng = fakeRng;\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\t// IE has a bug where it fires a selectionchange on right click that has a range at the start of the body\\n\\t\\t// When the contextmenu event fires the selection is located at the right location\\n\\t\\teditor.on('contextmenu', function() {\\n\\t\\t\\teditor.fire('SelectionChange');\\n\\t\\t});\\n\\n\\t\\t// Selection change is delayed ~200ms on IE when you click inside the current range\\n\\t\\teditor.on('SelectionChange', function() {\\n\\t\\t\\tvar startElm = editor.selection.getStart(true);\\n\\n\\t\\t\\t// IE 8 will fire a selectionchange event with an incorrect selection\\n\\t\\t\\t// when focusing out of table cells. Click inside cell -> toolbar = Invalid SelectionChange event\\n\\t\\t\\tif (!Env.range && editor.selection.isCollapsed()) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!isSameElementPath(startElm) && editor.dom.isChildOf(startElm, editor.getBody())) {\\n\\t\\t\\t\\teditor.nodeChanged({selectionChange: true});\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\t// Fire an extra nodeChange on mouseup for compatibility reasons\\n\\t\\teditor.on('MouseUp', function(e) {\\n\\t\\t\\tif (!e.isDefaultPrevented()) {\\n\\t\\t\\t\\t// Delay nodeChanged call for WebKit edge case issue where the range\\n\\t\\t\\t\\t// isn't updated until after you click outside a selected image\\n\\t\\t\\t\\tif (editor.selection.getNode().nodeName == 'IMG') {\\n\\t\\t\\t\\t\\tDelay.setEditorTimeout(editor, function() {\\n\\t\\t\\t\\t\\t\\teditor.nodeChanged();\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\teditor.nodeChanged();\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\t/**\\n\\t\\t * Dispatches out a onNodeChange event to all observers. This method should be called when you\\n\\t\\t * need to update the UI states or element path etc.\\n\\t\\t *\\n\\t\\t * @method nodeChanged\\n\\t\\t * @param {Object} args Optional args to pass to NodeChange event handlers.\\n\\t\\t */\\n\\t\\tthis.nodeChanged = function(args) {\\n\\t\\t\\tvar selection = editor.selection, node, parents, root;\\n\\n\\t\\t\\t// Fix for bug #1896577 it seems that this can not be fired while the editor is loading\\n\\t\\t\\tif (editor.initialized && selection && !editor.settings.disable_nodechange && !editor.readonly) {\\n\\t\\t\\t\\t// Get start node\\n\\t\\t\\t\\troot = editor.getBody();\\n\\t\\t\\t\\tnode = selection.getStart() || root;\\n\\n\\t\\t\\t\\t// Make sure the node is within the editor root or is the editor root\\n\\t\\t\\t\\tif (node.ownerDocument != editor.getDoc() || !editor.dom.isChildOf(node, root)) {\\n\\t\\t\\t\\t\\tnode = root;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Edge case for <p>|<img></p>\\n\\t\\t\\t\\tif (node.nodeName == 'IMG' && selection.isCollapsed()) {\\n\\t\\t\\t\\t\\tnode = node.parentNode;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Get parents and add them to object\\n\\t\\t\\t\\tparents = [];\\n\\t\\t\\t\\teditor.dom.getParent(node, function(node) {\\n\\t\\t\\t\\t\\tif (node === root) {\\n\\t\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tparents.push(node);\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\targs = args || {};\\n\\t\\t\\t\\targs.element = node;\\n\\t\\t\\t\\targs.parents = parents;\\n\\n\\t\\t\\t\\teditor.fire('NodeChange', args);\\n\\t\\t\\t}\\n\\t\\t};\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/html/Node.js\\n\\n/**\\n * Node.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class is a minimalistic implementation of a DOM like node used by the DomParser class.\\n *\\n * @example\\n * var node = new tinymce.html.Node('strong', 1);\\n * someRoot.append(node);\\n *\\n * @class tinymce.html.Node\\n * @version 3.4\\n */\\ndefine(\\\"tinymce/html/Node\\\", [], function() {\\n\\tvar whiteSpaceRegExp = /^[ \\\\t\\\\r\\\\n]*$/, typeLookup = {\\n\\t\\t'#text': 3,\\n\\t\\t'#comment': 8,\\n\\t\\t'#cdata': 4,\\n\\t\\t'#pi': 7,\\n\\t\\t'#doctype': 10,\\n\\t\\t'#document-fragment': 11\\n\\t};\\n\\n\\t// Walks the tree left/right\\n\\tfunction walk(node, root_node, prev) {\\n\\t\\tvar sibling, parent, startName = prev ? 'lastChild' : 'firstChild', siblingName = prev ? 'prev' : 'next';\\n\\n\\t\\t// Walk into nodes if it has a start\\n\\t\\tif (node[startName]) {\\n\\t\\t\\treturn node[startName];\\n\\t\\t}\\n\\n\\t\\t// Return the sibling if it has one\\n\\t\\tif (node !== root_node) {\\n\\t\\t\\tsibling = node[siblingName];\\n\\n\\t\\t\\tif (sibling) {\\n\\t\\t\\t\\treturn sibling;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Walk up the parents to look for siblings\\n\\t\\t\\tfor (parent = node.parent; parent && parent !== root_node; parent = parent.parent) {\\n\\t\\t\\t\\tsibling = parent[siblingName];\\n\\n\\t\\t\\t\\tif (sibling) {\\n\\t\\t\\t\\t\\treturn sibling;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t/**\\n\\t * Constructs a new Node instance.\\n\\t *\\n\\t * @constructor\\n\\t * @method Node\\n\\t * @param {String} name Name of the node type.\\n\\t * @param {Number} type Numeric type representing the node.\\n\\t */\\n\\tfunction Node(name, type) {\\n\\t\\tthis.name = name;\\n\\t\\tthis.type = type;\\n\\n\\t\\tif (type === 1) {\\n\\t\\t\\tthis.attributes = [];\\n\\t\\t\\tthis.attributes.map = {};\\n\\t\\t}\\n\\t}\\n\\n\\tNode.prototype = {\\n\\t\\t/**\\n\\t\\t * Replaces the current node with the specified one.\\n\\t\\t *\\n\\t\\t * @example\\n\\t\\t * someNode.replace(someNewNode);\\n\\t\\t *\\n\\t\\t * @method replace\\n\\t\\t * @param {tinymce.html.Node} node Node to replace the current node with.\\n\\t\\t * @return {tinymce.html.Node} The old node that got replaced.\\n\\t\\t */\\n\\t\\treplace: function(node) {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tif (node.parent) {\\n\\t\\t\\t\\tnode.remove();\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.insert(node, self);\\n\\t\\t\\tself.remove();\\n\\n\\t\\t\\treturn self;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Gets/sets or removes an attribute by name.\\n\\t\\t *\\n\\t\\t * @example\\n\\t\\t * someNode.attr(\\\"name\\\", \\\"value\\\"); // Sets an attribute\\n\\t\\t * console.log(someNode.attr(\\\"name\\\")); // Gets an attribute\\n\\t\\t * someNode.attr(\\\"name\\\", null); // Removes an attribute\\n\\t\\t *\\n\\t\\t * @method attr\\n\\t\\t * @param {String} name Attribute name to set or get.\\n\\t\\t * @param {String} value Optional value to set.\\n\\t\\t * @return {String/tinymce.html.Node} String or undefined on a get operation or the current node on a set operation.\\n\\t\\t */\\n\\t\\tattr: function(name, value) {\\n\\t\\t\\tvar self = this, attrs, i, undef;\\n\\n\\t\\t\\tif (typeof name !== \\\"string\\\") {\\n\\t\\t\\t\\tfor (i in name) {\\n\\t\\t\\t\\t\\tself.attr(i, name[i]);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn self;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif ((attrs = self.attributes)) {\\n\\t\\t\\t\\tif (value !== undef) {\\n\\t\\t\\t\\t\\t// Remove attribute\\n\\t\\t\\t\\t\\tif (value === null) {\\n\\t\\t\\t\\t\\t\\tif (name in attrs.map) {\\n\\t\\t\\t\\t\\t\\t\\tdelete attrs.map[name];\\n\\n\\t\\t\\t\\t\\t\\t\\ti = attrs.length;\\n\\t\\t\\t\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\t\\t\\t\\tif (attrs[i].name === name) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tattrs = attrs.splice(i, 1);\\n\\t\\t\\t\\t\\t\\t\\t\\t\\treturn self;\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\treturn self;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Set attribute\\n\\t\\t\\t\\t\\tif (name in attrs.map) {\\n\\t\\t\\t\\t\\t\\t// Set attribute\\n\\t\\t\\t\\t\\t\\ti = attrs.length;\\n\\t\\t\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\t\\t\\tif (attrs[i].name === name) {\\n\\t\\t\\t\\t\\t\\t\\t\\tattrs[i].value = value;\\n\\t\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tattrs.push({name: name, value: value});\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tattrs.map[name] = value;\\n\\n\\t\\t\\t\\t\\treturn self;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn attrs.map[name];\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Does a shallow clones the node into a new node. It will also exclude id attributes since\\n\\t\\t * there should only be one id per document.\\n\\t\\t *\\n\\t\\t * @example\\n\\t\\t * var clonedNode = node.clone();\\n\\t\\t *\\n\\t\\t * @method clone\\n\\t\\t * @return {tinymce.html.Node} New copy of the original node.\\n\\t\\t */\\n\\t\\tclone: function() {\\n\\t\\t\\tvar self = this, clone = new Node(self.name, self.type), i, l, selfAttrs, selfAttr, cloneAttrs;\\n\\n\\t\\t\\t// Clone element attributes\\n\\t\\t\\tif ((selfAttrs = self.attributes)) {\\n\\t\\t\\t\\tcloneAttrs = [];\\n\\t\\t\\t\\tcloneAttrs.map = {};\\n\\n\\t\\t\\t\\tfor (i = 0, l = selfAttrs.length; i < l; i++) {\\n\\t\\t\\t\\t\\tselfAttr = selfAttrs[i];\\n\\n\\t\\t\\t\\t\\t// Clone everything except id\\n\\t\\t\\t\\t\\tif (selfAttr.name !== 'id') {\\n\\t\\t\\t\\t\\t\\tcloneAttrs[cloneAttrs.length] = {name: selfAttr.name, value: selfAttr.value};\\n\\t\\t\\t\\t\\t\\tcloneAttrs.map[selfAttr.name] = selfAttr.value;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tclone.attributes = cloneAttrs;\\n\\t\\t\\t}\\n\\n\\t\\t\\tclone.value = self.value;\\n\\t\\t\\tclone.shortEnded = self.shortEnded;\\n\\n\\t\\t\\treturn clone;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Wraps the node in in another node.\\n\\t\\t *\\n\\t\\t * @example\\n\\t\\t * node.wrap(wrapperNode);\\n\\t\\t *\\n\\t\\t * @method wrap\\n\\t\\t */\\n\\t\\twrap: function(wrapper) {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tself.parent.insert(wrapper, self);\\n\\t\\t\\twrapper.append(self);\\n\\n\\t\\t\\treturn self;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Unwraps the node in other words it removes the node but keeps the children.\\n\\t\\t *\\n\\t\\t * @example\\n\\t\\t * node.unwrap();\\n\\t\\t *\\n\\t\\t * @method unwrap\\n\\t\\t */\\n\\t\\tunwrap: function() {\\n\\t\\t\\tvar self = this, node, next;\\n\\n\\t\\t\\tfor (node = self.firstChild; node;) {\\n\\t\\t\\t\\tnext = node.next;\\n\\t\\t\\t\\tself.insert(node, self, true);\\n\\t\\t\\t\\tnode = next;\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.remove();\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Removes the node from it's parent.\\n\\t\\t *\\n\\t\\t * @example\\n\\t\\t * node.remove();\\n\\t\\t *\\n\\t\\t * @method remove\\n\\t\\t * @return {tinymce.html.Node} Current node that got removed.\\n\\t\\t */\\n\\t\\tremove: function() {\\n\\t\\t\\tvar self = this, parent = self.parent, next = self.next, prev = self.prev;\\n\\n\\t\\t\\tif (parent) {\\n\\t\\t\\t\\tif (parent.firstChild === self) {\\n\\t\\t\\t\\t\\tparent.firstChild = next;\\n\\n\\t\\t\\t\\t\\tif (next) {\\n\\t\\t\\t\\t\\t\\tnext.prev = null;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tprev.next = next;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (parent.lastChild === self) {\\n\\t\\t\\t\\t\\tparent.lastChild = prev;\\n\\n\\t\\t\\t\\t\\tif (prev) {\\n\\t\\t\\t\\t\\t\\tprev.next = null;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tnext.prev = prev;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tself.parent = self.next = self.prev = null;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn self;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Appends a new node as a child of the current node.\\n\\t\\t *\\n\\t\\t * @example\\n\\t\\t * node.append(someNode);\\n\\t\\t *\\n\\t\\t * @method append\\n\\t\\t * @param {tinymce.html.Node} node Node to append as a child of the current one.\\n\\t\\t * @return {tinymce.html.Node} The node that got appended.\\n\\t\\t */\\n\\t\\tappend: function(node) {\\n\\t\\t\\tvar self = this, last;\\n\\n\\t\\t\\tif (node.parent) {\\n\\t\\t\\t\\tnode.remove();\\n\\t\\t\\t}\\n\\n\\t\\t\\tlast = self.lastChild;\\n\\t\\t\\tif (last) {\\n\\t\\t\\t\\tlast.next = node;\\n\\t\\t\\t\\tnode.prev = last;\\n\\t\\t\\t\\tself.lastChild = node;\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tself.lastChild = self.firstChild = node;\\n\\t\\t\\t}\\n\\n\\t\\t\\tnode.parent = self;\\n\\n\\t\\t\\treturn node;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Inserts a node at a specific position as a child of the current node.\\n\\t\\t *\\n\\t\\t * @example\\n\\t\\t * parentNode.insert(newChildNode, oldChildNode);\\n\\t\\t *\\n\\t\\t * @method insert\\n\\t\\t * @param {tinymce.html.Node} node Node to insert as a child of the current node.\\n\\t\\t * @param {tinymce.html.Node} ref_node Reference node to set node before/after.\\n\\t\\t * @param {Boolean} before Optional state to insert the node before the reference node.\\n\\t\\t * @return {tinymce.html.Node} The node that got inserted.\\n\\t\\t */\\n\\t\\tinsert: function(node, ref_node, before) {\\n\\t\\t\\tvar parent;\\n\\n\\t\\t\\tif (node.parent) {\\n\\t\\t\\t\\tnode.remove();\\n\\t\\t\\t}\\n\\n\\t\\t\\tparent = ref_node.parent || this;\\n\\n\\t\\t\\tif (before) {\\n\\t\\t\\t\\tif (ref_node === parent.firstChild) {\\n\\t\\t\\t\\t\\tparent.firstChild = node;\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tref_node.prev.next = node;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tnode.prev = ref_node.prev;\\n\\t\\t\\t\\tnode.next = ref_node;\\n\\t\\t\\t\\tref_node.prev = node;\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tif (ref_node === parent.lastChild) {\\n\\t\\t\\t\\t\\tparent.lastChild = node;\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tref_node.next.prev = node;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tnode.next = ref_node.next;\\n\\t\\t\\t\\tnode.prev = ref_node;\\n\\t\\t\\t\\tref_node.next = node;\\n\\t\\t\\t}\\n\\n\\t\\t\\tnode.parent = parent;\\n\\n\\t\\t\\treturn node;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Get all children by name.\\n\\t\\t *\\n\\t\\t * @method getAll\\n\\t\\t * @param {String} name Name of the child nodes to collect.\\n\\t\\t * @return {Array} Array with child nodes matchin the specified name.\\n\\t\\t */\\n\\t\\tgetAll: function(name) {\\n\\t\\t\\tvar self = this, node, collection = [];\\n\\n\\t\\t\\tfor (node = self.firstChild; node; node = walk(node, self)) {\\n\\t\\t\\t\\tif (node.name === name) {\\n\\t\\t\\t\\t\\tcollection.push(node);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn collection;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Removes all children of the current node.\\n\\t\\t *\\n\\t\\t * @method empty\\n\\t\\t * @return {tinymce.html.Node} The current node that got cleared.\\n\\t\\t */\\n\\t\\tempty: function() {\\n\\t\\t\\tvar self = this, nodes, i, node;\\n\\n\\t\\t\\t// Remove all children\\n\\t\\t\\tif (self.firstChild) {\\n\\t\\t\\t\\tnodes = [];\\n\\n\\t\\t\\t\\t// Collect the children\\n\\t\\t\\t\\tfor (node = self.firstChild; node; node = walk(node, self)) {\\n\\t\\t\\t\\t\\tnodes.push(node);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Remove the children\\n\\t\\t\\t\\ti = nodes.length;\\n\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\tnode = nodes[i];\\n\\t\\t\\t\\t\\tnode.parent = node.firstChild = node.lastChild = node.next = node.prev = null;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.firstChild = self.lastChild = null;\\n\\n\\t\\t\\treturn self;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns true/false if the node is to be considered empty or not.\\n\\t\\t *\\n\\t\\t * @example\\n\\t\\t * node.isEmpty({img: true});\\n\\t\\t * @method isEmpty\\n\\t\\t * @param {Object} elements Name/value object with elements that are automatically treated as non empty elements.\\n\\t\\t * @param {Object} whitespace Name/value object with elements that are automatically treated whitespace preservables.\\n\\t\\t * @return {Boolean} true/false if the node is empty or not.\\n\\t\\t */\\n\\t\\tisEmpty: function(elements, whitespace) {\\n\\t\\t\\tvar self = this, node = self.firstChild, i, name;\\n\\n\\t\\t\\twhitespace = whitespace || {};\\n\\n\\t\\t\\tif (node) {\\n\\t\\t\\t\\tdo {\\n\\t\\t\\t\\t\\tif (node.type === 1) {\\n\\t\\t\\t\\t\\t\\t// Ignore bogus elements\\n\\t\\t\\t\\t\\t\\tif (node.attributes.map['data-mce-bogus']) {\\n\\t\\t\\t\\t\\t\\t\\tcontinue;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Keep empty elements like <img />\\n\\t\\t\\t\\t\\t\\tif (elements[node.name]) {\\n\\t\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Keep bookmark nodes and name attribute like <a name=\\\"1\\\"></a>\\n\\t\\t\\t\\t\\t\\ti = node.attributes.length;\\n\\t\\t\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\t\\t\\tname = node.attributes[i].name;\\n\\t\\t\\t\\t\\t\\t\\tif (name === \\\"name\\\" || name.indexOf('data-mce-bookmark') === 0) {\\n\\t\\t\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Keep comments\\n\\t\\t\\t\\t\\tif (node.type === 8) {\\n\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Keep non whitespace text nodes\\n\\t\\t\\t\\t\\tif (node.type === 3 && !whiteSpaceRegExp.test(node.value)) {\\n\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Keep whitespace preserve elements\\n\\t\\t\\t\\t\\tif (node.type === 3 && node.parent && whitespace[node.parent.name] && whiteSpaceRegExp.test(node.value)) {\\n\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} while ((node = walk(node, self)));\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn true;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Walks to the next or previous node and returns that node or null if it wasn't found.\\n\\t\\t *\\n\\t\\t * @method walk\\n\\t\\t * @param {Boolean} prev Optional previous node state defaults to false.\\n\\t\\t * @return {tinymce.html.Node} Node that is next to or previous of the current node.\\n\\t\\t */\\n\\t\\twalk: function(prev) {\\n\\t\\t\\treturn walk(this, null, prev);\\n\\t\\t}\\n\\t};\\n\\n\\t/**\\n\\t * Creates a node of a specific type.\\n\\t *\\n\\t * @static\\n\\t * @method create\\n\\t * @param {String} name Name of the node type to create for example \\\"b\\\" or \\\"#text\\\".\\n\\t * @param {Object} attrs Name/value collection of attributes that will be applied to elements.\\n\\t */\\n\\tNode.create = function(name, attrs) {\\n\\t\\tvar node, attrName;\\n\\n\\t\\t// Create node\\n\\t\\tnode = new Node(name, typeLookup[name] || 1);\\n\\n\\t\\t// Add attributes if needed\\n\\t\\tif (attrs) {\\n\\t\\t\\tfor (attrName in attrs) {\\n\\t\\t\\t\\tnode.attr(attrName, attrs[attrName]);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\treturn node;\\n\\t};\\n\\n\\treturn Node;\\n});\\n\\n// Included from: js/tinymce/classes/html/Schema.js\\n\\n/**\\n * Schema.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Schema validator class.\\n *\\n * @class tinymce.html.Schema\\n * @example\\n *  if (tinymce.activeEditor.schema.isValidChild('p', 'span'))\\n *    alert('span is valid child of p.');\\n *\\n *  if (tinymce.activeEditor.schema.getElementRule('p'))\\n *    alert('P is a valid element.');\\n *\\n * @class tinymce.html.Schema\\n * @version 3.4\\n */\\ndefine(\\\"tinymce/html/Schema\\\", [\\n\\t\\\"tinymce/util/Tools\\\"\\n], function(Tools) {\\n\\tvar mapCache = {}, dummyObj = {};\\n\\tvar makeMap = Tools.makeMap, each = Tools.each, extend = Tools.extend, explode = Tools.explode, inArray = Tools.inArray;\\n\\n\\tfunction split(items, delim) {\\n\\t\\titems = Tools.trim(items);\\n\\t\\treturn items ? items.split(delim || ' ') : [];\\n\\t}\\n\\n\\t/**\\n\\t * Builds a schema lookup table\\n\\t *\\n\\t * @private\\n\\t * @param {String} type html4, html5 or html5-strict schema type.\\n\\t * @return {Object} Schema lookup table.\\n\\t */\\n\\tfunction compileSchema(type) {\\n\\t\\tvar schema = {}, globalAttributes, blockContent;\\n\\t\\tvar phrasingContent, flowContent, html4BlockContent, html4PhrasingContent;\\n\\n\\t\\tfunction add(name, attributes, children) {\\n\\t\\t\\tvar ni, attributesOrder, element;\\n\\n\\t\\t\\tfunction arrayToMap(array, obj) {\\n\\t\\t\\t\\tvar map = {}, i, l;\\n\\n\\t\\t\\t\\tfor (i = 0, l = array.length; i < l; i++) {\\n\\t\\t\\t\\t\\tmap[array[i]] = obj || {};\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn map;\\n\\t\\t\\t}\\n\\n\\t\\t\\tchildren = children || [];\\n\\t\\t\\tattributes = attributes || \\\"\\\";\\n\\n\\t\\t\\tif (typeof children === \\\"string\\\") {\\n\\t\\t\\t\\tchildren = split(children);\\n\\t\\t\\t}\\n\\n\\t\\t\\tname = split(name);\\n\\t\\t\\tni = name.length;\\n\\t\\t\\twhile (ni--) {\\n\\t\\t\\t\\tattributesOrder = split([globalAttributes, attributes].join(' '));\\n\\n\\t\\t\\t\\telement = {\\n\\t\\t\\t\\t\\tattributes: arrayToMap(attributesOrder),\\n\\t\\t\\t\\t\\tattributesOrder: attributesOrder,\\n\\t\\t\\t\\t\\tchildren: arrayToMap(children, dummyObj)\\n\\t\\t\\t\\t};\\n\\n\\t\\t\\t\\tschema[name[ni]] = element;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction addAttrs(name, attributes) {\\n\\t\\t\\tvar ni, schemaItem, i, l;\\n\\n\\t\\t\\tname = split(name);\\n\\t\\t\\tni = name.length;\\n\\t\\t\\tattributes = split(attributes);\\n\\t\\t\\twhile (ni--) {\\n\\t\\t\\t\\tschemaItem = schema[name[ni]];\\n\\t\\t\\t\\tfor (i = 0, l = attributes.length; i < l; i++) {\\n\\t\\t\\t\\t\\tschemaItem.attributes[attributes[i]] = {};\\n\\t\\t\\t\\t\\tschemaItem.attributesOrder.push(attributes[i]);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t// Use cached schema\\n\\t\\tif (mapCache[type]) {\\n\\t\\t\\treturn mapCache[type];\\n\\t\\t}\\n\\n\\t\\t// Attributes present on all elements\\n\\t\\tglobalAttributes = \\\"id accesskey class dir lang style tabindex title\\\";\\n\\n\\t\\t// Event attributes can be opt-in/opt-out\\n\\t\\t/*eventAttributes = split(\\\"onabort onblur oncancel oncanplay oncanplaythrough onchange onclick onclose oncontextmenu oncuechange \\\" +\\n\\t\\t \\\"ondblclick ondrag ondragend ondragenter ondragleave ondragover ondragstart ondrop ondurationchange onemptied onended \\\" +\\n\\t\\t \\\"onerror onfocus oninput oninvalid onkeydown onkeypress onkeyup onload onloadeddata onloadedmetadata onloadstart \\\" +\\n\\t\\t \\\"onmousedown onmousemove onmouseout onmouseover onmouseup onmousewheel onpause onplay onplaying onprogress onratechange \\\" +\\n\\t\\t \\\"onreset onscroll onseeked onseeking onseeking onselect onshow onstalled onsubmit onsuspend ontimeupdate onvolumechange \\\" +\\n\\t\\t \\\"onwaiting\\\"\\n\\t\\t );*/\\n\\n\\t\\t// Block content elements\\n\\t\\tblockContent =\\n\\t\\t\\t\\\"address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul\\\";\\n\\n\\t\\t// Phrasing content elements from the HTML5 spec (inline)\\n\\t\\tphrasingContent =\\n\\t\\t\\t\\\"a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd \\\" +\\n\\t\\t\\t\\\"label map noscript object q s samp script select small span strong sub sup \\\" +\\n\\t\\t\\t\\\"textarea u var #text #comment\\\"\\n\\t\\t;\\n\\n\\t\\t// Add HTML5 items to globalAttributes, blockContent, phrasingContent\\n\\t\\tif (type != \\\"html4\\\") {\\n\\t\\t\\tglobalAttributes += \\\" contenteditable contextmenu draggable dropzone \\\" +\\n\\t\\t\\t\\t\\\"hidden spellcheck translate\\\";\\n\\t\\t\\tblockContent += \\\" article aside details dialog figure header footer hgroup section nav\\\";\\n\\t\\t\\tphrasingContent += \\\" audio canvas command datalist mark meter output picture \\\" +\\n\\t\\t\\t\\t\\\"progress time wbr video ruby bdi keygen\\\";\\n\\t\\t}\\n\\n\\t\\t// Add HTML4 elements unless it's html5-strict\\n\\t\\tif (type != \\\"html5-strict\\\") {\\n\\t\\t\\tglobalAttributes += \\\" xml:lang\\\";\\n\\n\\t\\t\\thtml4PhrasingContent = \\\"acronym applet basefont big font strike tt\\\";\\n\\t\\t\\tphrasingContent = [phrasingContent, html4PhrasingContent].join(' ');\\n\\n\\t\\t\\teach(split(html4PhrasingContent), function(name) {\\n\\t\\t\\t\\tadd(name, \\\"\\\", phrasingContent);\\n\\t\\t\\t});\\n\\n\\t\\t\\thtml4BlockContent = \\\"center dir isindex noframes\\\";\\n\\t\\t\\tblockContent = [blockContent, html4BlockContent].join(' ');\\n\\n\\t\\t\\t// Flow content elements from the HTML5 spec (block+inline)\\n\\t\\t\\tflowContent = [blockContent, phrasingContent].join(' ');\\n\\n\\t\\t\\teach(split(html4BlockContent), function(name) {\\n\\t\\t\\t\\tadd(name, \\\"\\\", flowContent);\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\t// Flow content elements from the HTML5 spec (block+inline)\\n\\t\\tflowContent = flowContent || [blockContent, phrasingContent].join(\\\" \\\");\\n\\n\\t\\t// HTML4 base schema TODO: Move HTML5 specific attributes to HTML5 specific if statement\\n\\t\\t// Schema items <element name>, <specific attributes>, <children ..>\\n\\t\\tadd(\\\"html\\\", \\\"manifest\\\", \\\"head body\\\");\\n\\t\\tadd(\\\"head\\\", \\\"\\\", \\\"base command link meta noscript script style title\\\");\\n\\t\\tadd(\\\"title hr noscript br\\\");\\n\\t\\tadd(\\\"base\\\", \\\"href target\\\");\\n\\t\\tadd(\\\"link\\\", \\\"href rel media hreflang type sizes hreflang\\\");\\n\\t\\tadd(\\\"meta\\\", \\\"name http-equiv content charset\\\");\\n\\t\\tadd(\\\"style\\\", \\\"media type scoped\\\");\\n\\t\\tadd(\\\"script\\\", \\\"src async defer type charset\\\");\\n\\t\\tadd(\\\"body\\\", \\\"onafterprint onbeforeprint onbeforeunload onblur onerror onfocus \\\" +\\n\\t\\t\\\"onhashchange onload onmessage onoffline ononline onpagehide onpageshow \\\" +\\n\\t\\t\\\"onpopstate onresize onscroll onstorage onunload\\\", flowContent);\\n\\t\\tadd(\\\"address dt dd div caption\\\", \\\"\\\", flowContent);\\n\\t\\tadd(\\\"h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn\\\", \\\"\\\", phrasingContent);\\n\\t\\tadd(\\\"blockquote\\\", \\\"cite\\\", flowContent);\\n\\t\\tadd(\\\"ol\\\", \\\"reversed start type\\\", \\\"li\\\");\\n\\t\\tadd(\\\"ul\\\", \\\"\\\", \\\"li\\\");\\n\\t\\tadd(\\\"li\\\", \\\"value\\\", flowContent);\\n\\t\\tadd(\\\"dl\\\", \\\"\\\", \\\"dt dd\\\");\\n\\t\\tadd(\\\"a\\\", \\\"href target rel media hreflang type\\\", phrasingContent);\\n\\t\\tadd(\\\"q\\\", \\\"cite\\\", phrasingContent);\\n\\t\\tadd(\\\"ins del\\\", \\\"cite datetime\\\", flowContent);\\n\\t\\tadd(\\\"img\\\", \\\"src sizes srcset alt usemap ismap width height\\\");\\n\\t\\tadd(\\\"iframe\\\", \\\"src name width height\\\", flowContent);\\n\\t\\tadd(\\\"embed\\\", \\\"src type width height\\\");\\n\\t\\tadd(\\\"object\\\", \\\"data type typemustmatch name usemap form width height\\\", [flowContent, \\\"param\\\"].join(' '));\\n\\t\\tadd(\\\"param\\\", \\\"name value\\\");\\n\\t\\tadd(\\\"map\\\", \\\"name\\\", [flowContent, \\\"area\\\"].join(' '));\\n\\t\\tadd(\\\"area\\\", \\\"alt coords shape href target rel media hreflang type\\\");\\n\\t\\tadd(\\\"table\\\", \\\"border\\\", \\\"caption colgroup thead tfoot tbody tr\\\" + (type == \\\"html4\\\" ? \\\" col\\\" : \\\"\\\"));\\n\\t\\tadd(\\\"colgroup\\\", \\\"span\\\", \\\"col\\\");\\n\\t\\tadd(\\\"col\\\", \\\"span\\\");\\n\\t\\tadd(\\\"tbody thead tfoot\\\", \\\"\\\", \\\"tr\\\");\\n\\t\\tadd(\\\"tr\\\", \\\"\\\", \\\"td th\\\");\\n\\t\\tadd(\\\"td\\\", \\\"colspan rowspan headers\\\", flowContent);\\n\\t\\tadd(\\\"th\\\", \\\"colspan rowspan headers scope abbr\\\", flowContent);\\n\\t\\tadd(\\\"form\\\", \\\"accept-charset action autocomplete enctype method name novalidate target\\\", flowContent);\\n\\t\\tadd(\\\"fieldset\\\", \\\"disabled form name\\\", [flowContent, \\\"legend\\\"].join(' '));\\n\\t\\tadd(\\\"label\\\", \\\"form for\\\", phrasingContent);\\n\\t\\tadd(\\\"input\\\", \\\"accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate \\\" +\\n\\t\\t\\t\\t\\\"formtarget height list max maxlength min multiple name pattern readonly required size src step type value width\\\"\\n\\t\\t);\\n\\t\\tadd(\\\"button\\\", \\\"disabled form formaction formenctype formmethod formnovalidate formtarget name type value\\\",\\n\\t\\t\\ttype == \\\"html4\\\" ? flowContent : phrasingContent);\\n\\t\\tadd(\\\"select\\\", \\\"disabled form multiple name required size\\\", \\\"option optgroup\\\");\\n\\t\\tadd(\\\"optgroup\\\", \\\"disabled label\\\", \\\"option\\\");\\n\\t\\tadd(\\\"option\\\", \\\"disabled label selected value\\\");\\n\\t\\tadd(\\\"textarea\\\", \\\"cols dirname disabled form maxlength name readonly required rows wrap\\\");\\n\\t\\tadd(\\\"menu\\\", \\\"type label\\\", [flowContent, \\\"li\\\"].join(' '));\\n\\t\\tadd(\\\"noscript\\\", \\\"\\\", flowContent);\\n\\n\\t\\t// Extend with HTML5 elements\\n\\t\\tif (type != \\\"html4\\\") {\\n\\t\\t\\tadd(\\\"wbr\\\");\\n\\t\\t\\tadd(\\\"ruby\\\", \\\"\\\", [phrasingContent, \\\"rt rp\\\"].join(' '));\\n\\t\\t\\tadd(\\\"figcaption\\\", \\\"\\\", flowContent);\\n\\t\\t\\tadd(\\\"mark rt rp summary bdi\\\", \\\"\\\", phrasingContent);\\n\\t\\t\\tadd(\\\"canvas\\\", \\\"width height\\\", flowContent);\\n\\t\\t\\tadd(\\\"video\\\", \\\"src crossorigin poster preload autoplay mediagroup loop \\\" +\\n\\t\\t\\t\\t\\\"muted controls width height buffered\\\", [flowContent, \\\"track source\\\"].join(' '));\\n\\t\\t\\tadd(\\\"audio\\\", \\\"src crossorigin preload autoplay mediagroup loop muted controls \\\" +\\n\\t\\t\\t\\t\\\"buffered volume\\\", [flowContent, \\\"track source\\\"].join(' '));\\n\\t\\t\\tadd(\\\"picture\\\", \\\"\\\", \\\"img source\\\");\\n\\t\\t\\tadd(\\\"source\\\", \\\"src srcset type media sizes\\\");\\n\\t\\t\\tadd(\\\"track\\\", \\\"kind src srclang label default\\\");\\n\\t\\t\\tadd(\\\"datalist\\\", \\\"\\\", [phrasingContent, \\\"option\\\"].join(' '));\\n\\t\\t\\tadd(\\\"article section nav aside header footer\\\", \\\"\\\", flowContent);\\n\\t\\t\\tadd(\\\"hgroup\\\", \\\"\\\", \\\"h1 h2 h3 h4 h5 h6\\\");\\n\\t\\t\\tadd(\\\"figure\\\", \\\"\\\", [flowContent, \\\"figcaption\\\"].join(' '));\\n\\t\\t\\tadd(\\\"time\\\", \\\"datetime\\\", phrasingContent);\\n\\t\\t\\tadd(\\\"dialog\\\", \\\"open\\\", flowContent);\\n\\t\\t\\tadd(\\\"command\\\", \\\"type label icon disabled checked radiogroup command\\\");\\n\\t\\t\\tadd(\\\"output\\\", \\\"for form name\\\", phrasingContent);\\n\\t\\t\\tadd(\\\"progress\\\", \\\"value max\\\", phrasingContent);\\n\\t\\t\\tadd(\\\"meter\\\", \\\"value min max low high optimum\\\", phrasingContent);\\n\\t\\t\\tadd(\\\"details\\\", \\\"open\\\", [flowContent, \\\"summary\\\"].join(' '));\\n\\t\\t\\tadd(\\\"keygen\\\", \\\"autofocus challenge disabled form keytype name\\\");\\n\\t\\t}\\n\\n\\t\\t// Extend with HTML4 attributes unless it's html5-strict\\n\\t\\tif (type != \\\"html5-strict\\\") {\\n\\t\\t\\taddAttrs(\\\"script\\\", \\\"language xml:space\\\");\\n\\t\\t\\taddAttrs(\\\"style\\\", \\\"xml:space\\\");\\n\\t\\t\\taddAttrs(\\\"object\\\", \\\"declare classid code codebase codetype archive standby align border hspace vspace\\\");\\n\\t\\t\\taddAttrs(\\\"embed\\\", \\\"align name hspace vspace\\\");\\n\\t\\t\\taddAttrs(\\\"param\\\", \\\"valuetype type\\\");\\n\\t\\t\\taddAttrs(\\\"a\\\", \\\"charset name rev shape coords\\\");\\n\\t\\t\\taddAttrs(\\\"br\\\", \\\"clear\\\");\\n\\t\\t\\taddAttrs(\\\"applet\\\", \\\"codebase archive code object alt name width height align hspace vspace\\\");\\n\\t\\t\\taddAttrs(\\\"img\\\", \\\"name longdesc align border hspace vspace\\\");\\n\\t\\t\\taddAttrs(\\\"iframe\\\", \\\"longdesc frameborder marginwidth marginheight scrolling align\\\");\\n\\t\\t\\taddAttrs(\\\"font basefont\\\", \\\"size color face\\\");\\n\\t\\t\\taddAttrs(\\\"input\\\", \\\"usemap align\\\");\\n\\t\\t\\taddAttrs(\\\"select\\\", \\\"onchange\\\");\\n\\t\\t\\taddAttrs(\\\"textarea\\\");\\n\\t\\t\\taddAttrs(\\\"h1 h2 h3 h4 h5 h6 div p legend caption\\\", \\\"align\\\");\\n\\t\\t\\taddAttrs(\\\"ul\\\", \\\"type compact\\\");\\n\\t\\t\\taddAttrs(\\\"li\\\", \\\"type\\\");\\n\\t\\t\\taddAttrs(\\\"ol dl menu dir\\\", \\\"compact\\\");\\n\\t\\t\\taddAttrs(\\\"pre\\\", \\\"width xml:space\\\");\\n\\t\\t\\taddAttrs(\\\"hr\\\", \\\"align noshade size width\\\");\\n\\t\\t\\taddAttrs(\\\"isindex\\\", \\\"prompt\\\");\\n\\t\\t\\taddAttrs(\\\"table\\\", \\\"summary width frame rules cellspacing cellpadding align bgcolor\\\");\\n\\t\\t\\taddAttrs(\\\"col\\\", \\\"width align char charoff valign\\\");\\n\\t\\t\\taddAttrs(\\\"colgroup\\\", \\\"width align char charoff valign\\\");\\n\\t\\t\\taddAttrs(\\\"thead\\\", \\\"align char charoff valign\\\");\\n\\t\\t\\taddAttrs(\\\"tr\\\", \\\"align char charoff valign bgcolor\\\");\\n\\t\\t\\taddAttrs(\\\"th\\\", \\\"axis align char charoff valign nowrap bgcolor width height\\\");\\n\\t\\t\\taddAttrs(\\\"form\\\", \\\"accept\\\");\\n\\t\\t\\taddAttrs(\\\"td\\\", \\\"abbr axis scope align char charoff valign nowrap bgcolor width height\\\");\\n\\t\\t\\taddAttrs(\\\"tfoot\\\", \\\"align char charoff valign\\\");\\n\\t\\t\\taddAttrs(\\\"tbody\\\", \\\"align char charoff valign\\\");\\n\\t\\t\\taddAttrs(\\\"area\\\", \\\"nohref\\\");\\n\\t\\t\\taddAttrs(\\\"body\\\", \\\"background bgcolor text link vlink alink\\\");\\n\\t\\t}\\n\\n\\t\\t// Extend with HTML5 attributes unless it's html4\\n\\t\\tif (type != \\\"html4\\\") {\\n\\t\\t\\taddAttrs(\\\"input button select textarea\\\", \\\"autofocus\\\");\\n\\t\\t\\taddAttrs(\\\"input textarea\\\", \\\"placeholder\\\");\\n\\t\\t\\taddAttrs(\\\"a\\\", \\\"download\\\");\\n\\t\\t\\taddAttrs(\\\"link script img\\\", \\\"crossorigin\\\");\\n\\t\\t\\taddAttrs(\\\"iframe\\\", \\\"sandbox seamless allowfullscreen\\\"); // Excluded: srcdoc\\n\\t\\t}\\n\\n\\t\\t// Special: iframe, ruby, video, audio, label\\n\\n\\t\\t// Delete children of the same name from it's parent\\n\\t\\t// For example: form can't have a child of the name form\\n\\t\\teach(split('a form meter progress dfn'), function(name) {\\n\\t\\t\\tif (schema[name]) {\\n\\t\\t\\t\\tdelete schema[name].children[name];\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\t// Delete header, footer, sectioning and heading content descendants\\n\\t\\t/*each('dt th address', function(name) {\\n\\t\\t delete schema[name].children[name];\\n\\t\\t });*/\\n\\n\\t\\t// Caption can't have tables\\n\\t\\tdelete schema.caption.children.table;\\n\\n\\t\\t// Delete scripts by default due to possible XSS\\n\\t\\tdelete schema.script;\\n\\n\\t\\t// TODO: LI:s can only have value if parent is OL\\n\\n\\t\\t// TODO: Handle transparent elements\\n\\t\\t// a ins del canvas map\\n\\n\\t\\tmapCache[type] = schema;\\n\\n\\t\\treturn schema;\\n\\t}\\n\\n\\tfunction compileElementMap(value, mode) {\\n\\t\\tvar styles;\\n\\n\\t\\tif (value) {\\n\\t\\t\\tstyles = {};\\n\\n\\t\\t\\tif (typeof value == 'string') {\\n\\t\\t\\t\\tvalue = {\\n\\t\\t\\t\\t\\t'*': value\\n\\t\\t\\t\\t};\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Convert styles into a rule list\\n\\t\\t\\teach(value, function(value, key) {\\n\\t\\t\\t\\tstyles[key] = styles[key.toUpperCase()] = mode == 'map' ? makeMap(value, /[, ]/) : explode(value, /[, ]/);\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\treturn styles;\\n\\t}\\n\\n\\t/**\\n\\t * Constructs a new Schema instance.\\n\\t *\\n\\t * @constructor\\n\\t * @method Schema\\n\\t * @param {Object} settings Name/value settings object.\\n\\t */\\n\\treturn function(settings) {\\n\\t\\tvar self = this, elements = {}, children = {}, patternElements = [], validStyles, invalidStyles, schemaItems;\\n\\t\\tvar whiteSpaceElementsMap, selfClosingElementsMap, shortEndedElementsMap, boolAttrMap, validClasses;\\n\\t\\tvar blockElementsMap, nonEmptyElementsMap, moveCaretBeforeOnEnterElementsMap, textBlockElementsMap, textInlineElementsMap;\\n\\t\\tvar customElementsMap = {}, specialElements = {};\\n\\n\\t\\t// Creates an lookup table map object for the specified option or the default value\\n\\t\\tfunction createLookupTable(option, default_value, extendWith) {\\n\\t\\t\\tvar value = settings[option];\\n\\n\\t\\t\\tif (!value) {\\n\\t\\t\\t\\t// Get cached default map or make it if needed\\n\\t\\t\\t\\tvalue = mapCache[option];\\n\\n\\t\\t\\t\\tif (!value) {\\n\\t\\t\\t\\t\\tvalue = makeMap(default_value, ' ', makeMap(default_value.toUpperCase(), ' '));\\n\\t\\t\\t\\t\\tvalue = extend(value, extendWith);\\n\\n\\t\\t\\t\\t\\tmapCache[option] = value;\\n\\t\\t\\t\\t}\\n\\t\\t\\t} else {\\n\\t\\t\\t\\t// Create custom map\\n\\t\\t\\t\\tvalue = makeMap(value, /[, ]/, makeMap(value.toUpperCase(), /[, ]/));\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn value;\\n\\t\\t}\\n\\n\\t\\tsettings = settings || {};\\n\\t\\tschemaItems = compileSchema(settings.schema);\\n\\n\\t\\t// Allow all elements and attributes if verify_html is set to false\\n\\t\\tif (settings.verify_html === false) {\\n\\t\\t\\tsettings.valid_elements = '*[*]';\\n\\t\\t}\\n\\n\\t\\tvalidStyles = compileElementMap(settings.valid_styles);\\n\\t\\tinvalidStyles = compileElementMap(settings.invalid_styles, 'map');\\n\\t\\tvalidClasses = compileElementMap(settings.valid_classes, 'map');\\n\\n\\t\\t// Setup map objects\\n\\t\\twhiteSpaceElementsMap = createLookupTable(\\n\\t\\t\\t'whitespace_elements',\\n\\t\\t\\t'pre script noscript style textarea video audio iframe object code'\\n\\t\\t);\\n\\t\\tselfClosingElementsMap = createLookupTable('self_closing_elements', 'colgroup dd dt li option p td tfoot th thead tr');\\n\\t\\tshortEndedElementsMap = createLookupTable('short_ended_elements', 'area base basefont br col frame hr img input isindex link ' +\\n\\t\\t'meta param embed source wbr track');\\n\\t\\tboolAttrMap = createLookupTable('boolean_attributes', 'checked compact declare defer disabled ismap multiple nohref noresize ' +\\n\\t\\t'noshade nowrap readonly selected autoplay loop controls');\\n\\t\\tnonEmptyElementsMap = createLookupTable('non_empty_elements', 'td th iframe video audio object ' +\\n\\t\\t'script pre code', shortEndedElementsMap);\\n\\t\\tmoveCaretBeforeOnEnterElementsMap = createLookupTable('move_caret_before_on_enter_elements', 'table', nonEmptyElementsMap);\\n\\t\\ttextBlockElementsMap = createLookupTable('text_block_elements', 'h1 h2 h3 h4 h5 h6 p div address pre form ' +\\n\\t\\t'blockquote center dir fieldset header footer article section hgroup aside nav figure');\\n\\t\\tblockElementsMap = createLookupTable('block_elements', 'hr table tbody thead tfoot ' +\\n\\t\\t'th tr td li ol ul caption dl dt dd noscript menu isindex option ' +\\n\\t\\t'datalist select optgroup figcaption', textBlockElementsMap);\\n\\t\\ttextInlineElementsMap = createLookupTable('text_inline_elements', 'span strong b em i font strike u var cite ' +\\n\\t\\t'dfn code mark q sup sub samp');\\n\\n\\t\\teach((settings.special || 'script noscript style textarea').split(' '), function(name) {\\n\\t\\t\\tspecialElements[name] = new RegExp('<\\\\/' + name + '[^>]*>', 'gi');\\n\\t\\t});\\n\\n\\t\\t// Converts a wildcard expression string to a regexp for example *a will become /.*a/.\\n\\t\\tfunction patternToRegExp(str) {\\n\\t\\t\\treturn new RegExp('^' + str.replace(/([?+*])/g, '.$1') + '$');\\n\\t\\t}\\n\\n\\t\\t// Parses the specified valid_elements string and adds to the current rules\\n\\t\\t// This function is a bit hard to read since it's heavily optimized for speed\\n\\t\\tfunction addValidElements(validElements) {\\n\\t\\t\\tvar ei, el, ai, al, matches, element, attr, attrData, elementName, attrName, attrType, attributes, attributesOrder,\\n\\t\\t\\t\\tprefix, outputName, globalAttributes, globalAttributesOrder, key, value,\\n\\t\\t\\t\\telementRuleRegExp = /^([#+\\\\-])?([^\\\\[!\\\\/]+)(?:\\\\/([^\\\\[!]+))?(?:(!?)\\\\[([^\\\\]]+)\\\\])?$/,\\n\\t\\t\\t\\tattrRuleRegExp = /^([!\\\\-])?(\\\\w+::\\\\w+|[^=:<]+)?(?:([=:<])(.*))?$/,\\n\\t\\t\\t\\thasPatternsRegExp = /[*?+]/;\\n\\n\\t\\t\\tif (validElements) {\\n\\t\\t\\t\\t// Split valid elements into an array with rules\\n\\t\\t\\t\\tvalidElements = split(validElements, ',');\\n\\n\\t\\t\\t\\tif (elements['@']) {\\n\\t\\t\\t\\t\\tglobalAttributes = elements['@'].attributes;\\n\\t\\t\\t\\t\\tglobalAttributesOrder = elements['@'].attributesOrder;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Loop all rules\\n\\t\\t\\t\\tfor (ei = 0, el = validElements.length; ei < el; ei++) {\\n\\t\\t\\t\\t\\t// Parse element rule\\n\\t\\t\\t\\t\\tmatches = elementRuleRegExp.exec(validElements[ei]);\\n\\t\\t\\t\\t\\tif (matches) {\\n\\t\\t\\t\\t\\t\\t// Setup local names for matches\\n\\t\\t\\t\\t\\t\\tprefix = matches[1];\\n\\t\\t\\t\\t\\t\\telementName = matches[2];\\n\\t\\t\\t\\t\\t\\toutputName = matches[3];\\n\\t\\t\\t\\t\\t\\tattrData = matches[5];\\n\\n\\t\\t\\t\\t\\t\\t// Create new attributes and attributesOrder\\n\\t\\t\\t\\t\\t\\tattributes = {};\\n\\t\\t\\t\\t\\t\\tattributesOrder = [];\\n\\n\\t\\t\\t\\t\\t\\t// Create the new element\\n\\t\\t\\t\\t\\t\\telement = {\\n\\t\\t\\t\\t\\t\\t\\tattributes: attributes,\\n\\t\\t\\t\\t\\t\\t\\tattributesOrder: attributesOrder\\n\\t\\t\\t\\t\\t\\t};\\n\\n\\t\\t\\t\\t\\t\\t// Padd empty elements prefix\\n\\t\\t\\t\\t\\t\\tif (prefix === '#') {\\n\\t\\t\\t\\t\\t\\t\\telement.paddEmpty = true;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Remove empty elements prefix\\n\\t\\t\\t\\t\\t\\tif (prefix === '-') {\\n\\t\\t\\t\\t\\t\\t\\telement.removeEmpty = true;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tif (matches[4] === '!') {\\n\\t\\t\\t\\t\\t\\t\\telement.removeEmptyAttrs = true;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Copy attributes from global rule into current rule\\n\\t\\t\\t\\t\\t\\tif (globalAttributes) {\\n\\t\\t\\t\\t\\t\\t\\tfor (key in globalAttributes) {\\n\\t\\t\\t\\t\\t\\t\\t\\tattributes[key] = globalAttributes[key];\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tattributesOrder.push.apply(attributesOrder, globalAttributesOrder);\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Attributes defined\\n\\t\\t\\t\\t\\t\\tif (attrData) {\\n\\t\\t\\t\\t\\t\\t\\tattrData = split(attrData, '|');\\n\\t\\t\\t\\t\\t\\t\\tfor (ai = 0, al = attrData.length; ai < al; ai++) {\\n\\t\\t\\t\\t\\t\\t\\t\\tmatches = attrRuleRegExp.exec(attrData[ai]);\\n\\t\\t\\t\\t\\t\\t\\t\\tif (matches) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tattr = {};\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tattrType = matches[1];\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tattrName = matches[2].replace(/::/g, ':');\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tprefix = matches[3];\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tvalue = matches[4];\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t// Required\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tif (attrType === '!') {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\telement.attributesRequired = element.attributesRequired || [];\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\telement.attributesRequired.push(attrName);\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tattr.required = true;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t// Denied from global\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tif (attrType === '-') {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tdelete attributes[attrName];\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tattributesOrder.splice(inArray(attributesOrder, attrName), 1);\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tcontinue;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t// Default value\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tif (prefix) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t// Default value\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tif (prefix === '=') {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\telement.attributesDefault = element.attributesDefault || [];\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\telement.attributesDefault.push({name: attrName, value: value});\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tattr.defaultValue = value;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t// Forced value\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tif (prefix === ':') {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\telement.attributesForced = element.attributesForced || [];\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\telement.attributesForced.push({name: attrName, value: value});\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tattr.forcedValue = value;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t// Required values\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tif (prefix === '<') {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tattr.validValues = makeMap(value, '?');\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t// Check for attribute patterns\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tif (hasPatternsRegExp.test(attrName)) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\telement.attributePatterns = element.attributePatterns || [];\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tattr.pattern = patternToRegExp(attrName);\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\telement.attributePatterns.push(attr);\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t// Add attribute to order list if it doesn't already exist\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tif (!attributes[attrName]) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tattributesOrder.push(attrName);\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tattributes[attrName] = attr;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Global rule, store away these for later usage\\n\\t\\t\\t\\t\\t\\tif (!globalAttributes && elementName == '@') {\\n\\t\\t\\t\\t\\t\\t\\tglobalAttributes = attributes;\\n\\t\\t\\t\\t\\t\\t\\tglobalAttributesOrder = attributesOrder;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Handle substitute elements such as b/strong\\n\\t\\t\\t\\t\\t\\tif (outputName) {\\n\\t\\t\\t\\t\\t\\t\\telement.outputName = elementName;\\n\\t\\t\\t\\t\\t\\t\\telements[outputName] = element;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Add pattern or exact element\\n\\t\\t\\t\\t\\t\\tif (hasPatternsRegExp.test(elementName)) {\\n\\t\\t\\t\\t\\t\\t\\telement.pattern = patternToRegExp(elementName);\\n\\t\\t\\t\\t\\t\\t\\tpatternElements.push(element);\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\telements[elementName] = element;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction setValidElements(validElements) {\\n\\t\\t\\telements = {};\\n\\t\\t\\tpatternElements = [];\\n\\n\\t\\t\\taddValidElements(validElements);\\n\\n\\t\\t\\teach(schemaItems, function(element, name) {\\n\\t\\t\\t\\tchildren[name] = element.children;\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\t// Adds custom non HTML elements to the schema\\n\\t\\tfunction addCustomElements(customElements) {\\n\\t\\t\\tvar customElementRegExp = /^(~)?(.+)$/;\\n\\n\\t\\t\\tif (customElements) {\\n\\t\\t\\t\\t// Flush cached items since we are altering the default maps\\n\\t\\t\\t\\tmapCache.text_block_elements = mapCache.block_elements = null;\\n\\n\\t\\t\\t\\teach(split(customElements, ','), function(rule) {\\n\\t\\t\\t\\t\\tvar matches = customElementRegExp.exec(rule),\\n\\t\\t\\t\\t\\t\\tinline = matches[1] === '~',\\n\\t\\t\\t\\t\\t\\tcloneName = inline ? 'span' : 'div',\\n\\t\\t\\t\\t\\t\\tname = matches[2];\\n\\n\\t\\t\\t\\t\\tchildren[name] = children[cloneName];\\n\\t\\t\\t\\t\\tcustomElementsMap[name] = cloneName;\\n\\n\\t\\t\\t\\t\\t// If it's not marked as inline then add it to valid block elements\\n\\t\\t\\t\\t\\tif (!inline) {\\n\\t\\t\\t\\t\\t\\tblockElementsMap[name.toUpperCase()] = {};\\n\\t\\t\\t\\t\\t\\tblockElementsMap[name] = {};\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Add elements clone if needed\\n\\t\\t\\t\\t\\tif (!elements[name]) {\\n\\t\\t\\t\\t\\t\\tvar customRule = elements[cloneName];\\n\\n\\t\\t\\t\\t\\t\\tcustomRule = extend({}, customRule);\\n\\t\\t\\t\\t\\t\\tdelete customRule.removeEmptyAttrs;\\n\\t\\t\\t\\t\\t\\tdelete customRule.removeEmpty;\\n\\n\\t\\t\\t\\t\\t\\telements[name] = customRule;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Add custom elements at span/div positions\\n\\t\\t\\t\\t\\teach(children, function(element, elmName) {\\n\\t\\t\\t\\t\\t\\tif (element[cloneName]) {\\n\\t\\t\\t\\t\\t\\t\\tchildren[elmName] = element = extend({}, children[elmName]);\\n\\t\\t\\t\\t\\t\\t\\telement[name] = element[cloneName];\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t// Adds valid children to the schema object\\n\\t\\tfunction addValidChildren(validChildren) {\\n\\t\\t\\tvar childRuleRegExp = /^([+\\\\-]?)(\\\\w+)\\\\[([^\\\\]]+)\\\\]$/;\\n\\n\\t\\t\\t// Invalidate the schema cache if the schema is mutated\\n\\t\\t\\tmapCache[settings.schema] = null;\\n\\n\\t\\t\\tif (validChildren) {\\n\\t\\t\\t\\teach(split(validChildren, ','), function(rule) {\\n\\t\\t\\t\\t\\tvar matches = childRuleRegExp.exec(rule), parent, prefix;\\n\\n\\t\\t\\t\\t\\tif (matches) {\\n\\t\\t\\t\\t\\t\\tprefix = matches[1];\\n\\n\\t\\t\\t\\t\\t\\t// Add/remove items from default\\n\\t\\t\\t\\t\\t\\tif (prefix) {\\n\\t\\t\\t\\t\\t\\t\\tparent = children[matches[2]];\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\tparent = children[matches[2]] = {'#comment': {}};\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tparent = children[matches[2]];\\n\\n\\t\\t\\t\\t\\t\\teach(split(matches[3], '|'), function(child) {\\n\\t\\t\\t\\t\\t\\t\\tif (prefix === '-') {\\n\\t\\t\\t\\t\\t\\t\\t\\tdelete parent[child];\\n\\t\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\t\\tparent[child] = {};\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction getElementRule(name) {\\n\\t\\t\\tvar element = elements[name], i;\\n\\n\\t\\t\\t// Exact match found\\n\\t\\t\\tif (element) {\\n\\t\\t\\t\\treturn element;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// No exact match then try the patterns\\n\\t\\t\\ti = patternElements.length;\\n\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\telement = patternElements[i];\\n\\n\\t\\t\\t\\tif (element.pattern.test(name)) {\\n\\t\\t\\t\\t\\treturn element;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tif (!settings.valid_elements) {\\n\\t\\t\\t// No valid elements defined then clone the elements from the schema spec\\n\\t\\t\\teach(schemaItems, function(element, name) {\\n\\t\\t\\t\\telements[name] = {\\n\\t\\t\\t\\t\\tattributes: element.attributes,\\n\\t\\t\\t\\t\\tattributesOrder: element.attributesOrder\\n\\t\\t\\t\\t};\\n\\n\\t\\t\\t\\tchildren[name] = element.children;\\n\\t\\t\\t});\\n\\n\\t\\t\\t// Switch these on HTML4\\n\\t\\t\\tif (settings.schema != \\\"html5\\\") {\\n\\t\\t\\t\\teach(split('strong/b em/i'), function(item) {\\n\\t\\t\\t\\t\\titem = split(item, '/');\\n\\t\\t\\t\\t\\telements[item[1]].outputName = item[0];\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Add default alt attribute for images, removed since alt=\\\"\\\" is treated as presentational.\\n\\t\\t\\t// elements.img.attributesDefault = [{name: 'alt', value: ''}];\\n\\n\\t\\t\\t// Remove these if they are empty by default\\n\\t\\t\\teach(split('ol ul sub sup blockquote span font a table tbody tr strong em b i'), function(name) {\\n\\t\\t\\t\\tif (elements[name]) {\\n\\t\\t\\t\\t\\telements[name].removeEmpty = true;\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\t// Padd these by default\\n\\t\\t\\teach(split('p h1 h2 h3 h4 h5 h6 th td pre div address caption'), function(name) {\\n\\t\\t\\t\\telements[name].paddEmpty = true;\\n\\t\\t\\t});\\n\\n\\t\\t\\t// Remove these if they have no attributes\\n\\t\\t\\teach(split('span'), function(name) {\\n\\t\\t\\t\\telements[name].removeEmptyAttrs = true;\\n\\t\\t\\t});\\n\\n\\t\\t\\t// Remove these by default\\n\\t\\t\\t// TODO: Reenable in 4.1\\n\\t\\t\\t/*each(split('script style'), function(name) {\\n\\t\\t\\t delete elements[name];\\n\\t\\t\\t });*/\\n\\t\\t} else {\\n\\t\\t\\tsetValidElements(settings.valid_elements);\\n\\t\\t}\\n\\n\\t\\taddCustomElements(settings.custom_elements);\\n\\t\\taddValidChildren(settings.valid_children);\\n\\t\\taddValidElements(settings.extended_valid_elements);\\n\\n\\t\\t// Todo: Remove this when we fix list handling to be valid\\n\\t\\taddValidChildren('+ol[ul|ol],+ul[ul|ol]');\\n\\n\\n\\t\\t// Some elements are not valid by themselves - require parents\\n\\t\\teach({\\n\\t\\t\\tdd: 'dl',\\n\\t\\t\\tdt: 'dl',\\n\\t\\t\\tli: 'ul ol',\\n\\t\\t\\ttd: 'tr',\\n\\t\\t\\tth: 'tr',\\n\\t\\t\\ttr: 'tbody thead tfoot',\\n\\t\\t\\ttbody: 'table',\\n\\t\\t\\tthead: 'table',\\n\\t\\t\\ttfoot: 'table',\\n\\t\\t\\tlegend: 'fieldset',\\n\\t\\t\\tarea: 'map',\\n\\t\\t\\tparam: 'video audio object'\\n\\t\\t}, function(parents, item) {\\n\\t\\t\\tif (elements[item]) {\\n\\t\\t\\t\\telements[item].parentsRequired = split(parents);\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\n\\t\\t// Delete invalid elements\\n\\t\\tif (settings.invalid_elements) {\\n\\t\\t\\teach(explode(settings.invalid_elements), function(item) {\\n\\t\\t\\t\\tif (elements[item]) {\\n\\t\\t\\t\\t\\tdelete elements[item];\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\t// If the user didn't allow span only allow internal spans\\n\\t\\tif (!getElementRule('span')) {\\n\\t\\t\\taddValidElements('span[!data-mce-type|*]');\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Name/value map object with valid parents and children to those parents.\\n\\t\\t *\\n\\t\\t * @example\\n\\t\\t * children = {\\n\\t\\t *    div:{p:{}, h1:{}}\\n\\t\\t * };\\n\\t\\t * @field children\\n\\t\\t * @type Object\\n\\t\\t */\\n\\t\\tself.children = children;\\n\\n\\t\\t/**\\n\\t\\t * Name/value map object with valid styles for each element.\\n\\t\\t *\\n\\t\\t * @method getValidStyles\\n\\t\\t * @type Object\\n\\t\\t */\\n\\t\\tself.getValidStyles = function() {\\n\\t\\t\\treturn validStyles;\\n\\t\\t};\\n\\n\\t\\t/**\\n\\t\\t * Name/value map object with valid styles for each element.\\n\\t\\t *\\n\\t\\t * @method getInvalidStyles\\n\\t\\t * @type Object\\n\\t\\t */\\n\\t\\tself.getInvalidStyles = function() {\\n\\t\\t\\treturn invalidStyles;\\n\\t\\t};\\n\\n\\t\\t/**\\n\\t\\t * Name/value map object with valid classes for each element.\\n\\t\\t *\\n\\t\\t * @method getValidClasses\\n\\t\\t * @type Object\\n\\t\\t */\\n\\t\\tself.getValidClasses = function() {\\n\\t\\t\\treturn validClasses;\\n\\t\\t};\\n\\n\\t\\t/**\\n\\t\\t * Returns a map with boolean attributes.\\n\\t\\t *\\n\\t\\t * @method getBoolAttrs\\n\\t\\t * @return {Object} Name/value lookup map for boolean attributes.\\n\\t\\t */\\n\\t\\tself.getBoolAttrs = function() {\\n\\t\\t\\treturn boolAttrMap;\\n\\t\\t};\\n\\n\\t\\t/**\\n\\t\\t * Returns a map with block elements.\\n\\t\\t *\\n\\t\\t * @method getBlockElements\\n\\t\\t * @return {Object} Name/value lookup map for block elements.\\n\\t\\t */\\n\\t\\tself.getBlockElements = function() {\\n\\t\\t\\treturn blockElementsMap;\\n\\t\\t};\\n\\n\\t\\t/**\\n\\t\\t * Returns a map with text block elements. Such as: p,h1-h6,div,address\\n\\t\\t *\\n\\t\\t * @method getTextBlockElements\\n\\t\\t * @return {Object} Name/value lookup map for block elements.\\n\\t\\t */\\n\\t\\tself.getTextBlockElements = function() {\\n\\t\\t\\treturn textBlockElementsMap;\\n\\t\\t};\\n\\n\\t\\t/**\\n\\t\\t * Returns a map of inline text format nodes for example strong/span or ins.\\n\\t\\t *\\n\\t\\t * @method getTextInlineElements\\n\\t\\t * @return {Object} Name/value lookup map for text format elements.\\n\\t\\t */\\n\\t\\tself.getTextInlineElements = function() {\\n\\t\\t\\treturn textInlineElementsMap;\\n\\t\\t};\\n\\n\\t\\t/**\\n\\t\\t * Returns a map with short ended elements such as BR or IMG.\\n\\t\\t *\\n\\t\\t * @method getShortEndedElements\\n\\t\\t * @return {Object} Name/value lookup map for short ended elements.\\n\\t\\t */\\n\\t\\tself.getShortEndedElements = function() {\\n\\t\\t\\treturn shortEndedElementsMap;\\n\\t\\t};\\n\\n\\t\\t/**\\n\\t\\t * Returns a map with self closing tags such as <li>.\\n\\t\\t *\\n\\t\\t * @method getSelfClosingElements\\n\\t\\t * @return {Object} Name/value lookup map for self closing tags elements.\\n\\t\\t */\\n\\t\\tself.getSelfClosingElements = function() {\\n\\t\\t\\treturn selfClosingElementsMap;\\n\\t\\t};\\n\\n\\t\\t/**\\n\\t\\t * Returns a map with elements that should be treated as contents regardless if it has text\\n\\t\\t * content in them or not such as TD, VIDEO or IMG.\\n\\t\\t *\\n\\t\\t * @method getNonEmptyElements\\n\\t\\t * @return {Object} Name/value lookup map for non empty elements.\\n\\t\\t */\\n\\t\\tself.getNonEmptyElements = function() {\\n\\t\\t\\treturn nonEmptyElementsMap;\\n\\t\\t};\\n\\n\\t\\t/**\\n\\t\\t * Returns a map with elements that the caret should be moved in front of after enter is\\n\\t\\t * pressed\\n\\t\\t *\\n\\t\\t * @method getMoveCaretBeforeOnEnterElements\\n\\t\\t * @return {Object} Name/value lookup map for elements to place the caret in front of.\\n\\t\\t */\\n\\t\\tself.getMoveCaretBeforeOnEnterElements = function() {\\n\\t\\t\\treturn moveCaretBeforeOnEnterElementsMap;\\n\\t\\t};\\n\\n\\t\\t/**\\n\\t\\t * Returns a map with elements where white space is to be preserved like PRE or SCRIPT.\\n\\t\\t *\\n\\t\\t * @method getWhiteSpaceElements\\n\\t\\t * @return {Object} Name/value lookup map for white space elements.\\n\\t\\t */\\n\\t\\tself.getWhiteSpaceElements = function() {\\n\\t\\t\\treturn whiteSpaceElementsMap;\\n\\t\\t};\\n\\n\\t\\t/**\\n\\t\\t * Returns a map with special elements. These are elements that needs to be parsed\\n\\t\\t * in a special way such as script, style, textarea etc. The map object values\\n\\t\\t * are regexps used to find the end of the element.\\n\\t\\t *\\n\\t\\t * @method getSpecialElements\\n\\t\\t * @return {Object} Name/value lookup map for special elements.\\n\\t\\t */\\n\\t\\tself.getSpecialElements = function() {\\n\\t\\t\\treturn specialElements;\\n\\t\\t};\\n\\n\\t\\t/**\\n\\t\\t * Returns true/false if the specified element and it's child is valid or not\\n\\t\\t * according to the schema.\\n\\t\\t *\\n\\t\\t * @method isValidChild\\n\\t\\t * @param {String} name Element name to check for.\\n\\t\\t * @param {String} child Element child to verify.\\n\\t\\t * @return {Boolean} True/false if the element is a valid child of the specified parent.\\n\\t\\t */\\n\\t\\tself.isValidChild = function(name, child) {\\n\\t\\t\\tvar parent = children[name];\\n\\n\\t\\t\\treturn !!(parent && parent[child]);\\n\\t\\t};\\n\\n\\t\\t/**\\n\\t\\t * Returns true/false if the specified element name and optional attribute is\\n\\t\\t * valid according to the schema.\\n\\t\\t *\\n\\t\\t * @method isValid\\n\\t\\t * @param {String} name Name of element to check.\\n\\t\\t * @param {String} attr Optional attribute name to check for.\\n\\t\\t * @return {Boolean} True/false if the element and attribute is valid.\\n\\t\\t */\\n\\t\\tself.isValid = function(name, attr) {\\n\\t\\t\\tvar attrPatterns, i, rule = getElementRule(name);\\n\\n\\t\\t\\t// Check if it's a valid element\\n\\t\\t\\tif (rule) {\\n\\t\\t\\t\\tif (attr) {\\n\\t\\t\\t\\t\\t// Check if attribute name exists\\n\\t\\t\\t\\t\\tif (rule.attributes[attr]) {\\n\\t\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Check if attribute matches a regexp pattern\\n\\t\\t\\t\\t\\tattrPatterns = rule.attributePatterns;\\n\\t\\t\\t\\t\\tif (attrPatterns) {\\n\\t\\t\\t\\t\\t\\ti = attrPatterns.length;\\n\\t\\t\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\t\\t\\tif (attrPatterns[i].pattern.test(name)) {\\n\\t\\t\\t\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// No match\\n\\t\\t\\treturn false;\\n\\t\\t};\\n\\n\\t\\t/**\\n\\t\\t * Returns true/false if the specified element is valid or not\\n\\t\\t * according to the schema.\\n\\t\\t *\\n\\t\\t * @method getElementRule\\n\\t\\t * @param {String} name Element name to check for.\\n\\t\\t * @return {Object} Element object or undefined if the element isn't valid.\\n\\t\\t */\\n\\t\\tself.getElementRule = getElementRule;\\n\\n\\t\\t/**\\n\\t\\t * Returns an map object of all custom elements.\\n\\t\\t *\\n\\t\\t * @method getCustomElements\\n\\t\\t * @return {Object} Name/value map object of all custom elements.\\n\\t\\t */\\n\\t\\tself.getCustomElements = function() {\\n\\t\\t\\treturn customElementsMap;\\n\\t\\t};\\n\\n\\t\\t/**\\n\\t\\t * Parses a valid elements string and adds it to the schema. The valid elements\\n\\t\\t * format is for example \\\"element[attr=default|otherattr]\\\".\\n\\t\\t * Existing rules will be replaced with the ones specified, so this extends the schema.\\n\\t\\t *\\n\\t\\t * @method addValidElements\\n\\t\\t * @param {String} valid_elements String in the valid elements format to be parsed.\\n\\t\\t */\\n\\t\\tself.addValidElements = addValidElements;\\n\\n\\t\\t/**\\n\\t\\t * Parses a valid elements string and sets it to the schema. The valid elements\\n\\t\\t * format is for example \\\"element[attr=default|otherattr]\\\".\\n\\t\\t * Existing rules will be replaced with the ones specified, so this extends the schema.\\n\\t\\t *\\n\\t\\t * @method setValidElements\\n\\t\\t * @param {String} valid_elements String in the valid elements format to be parsed.\\n\\t\\t */\\n\\t\\tself.setValidElements = setValidElements;\\n\\n\\t\\t/**\\n\\t\\t * Adds custom non HTML elements to the schema.\\n\\t\\t *\\n\\t\\t * @method addCustomElements\\n\\t\\t * @param {String} custom_elements Comma separated list of custom elements to add.\\n\\t\\t */\\n\\t\\tself.addCustomElements = addCustomElements;\\n\\n\\t\\t/**\\n\\t\\t * Parses a valid children string and adds them to the schema structure. The valid children\\n\\t\\t * format is for example: \\\"element[child1|child2]\\\".\\n\\t\\t *\\n\\t\\t * @method addValidChildren\\n\\t\\t * @param {String} valid_children Valid children elements string to parse\\n\\t\\t */\\n\\t\\tself.addValidChildren = addValidChildren;\\n\\n\\t\\tself.elements = elements;\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/html/SaxParser.js\\n\\n/**\\n * SaxParser.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/*eslint max-depth:[2, 9] */\\n\\n/**\\n * This class parses HTML code using pure JavaScript and executes various events for each item it finds. It will\\n * always execute the events in the right order for tag soup code like <b><p></b></p>. It will also remove elements\\n * and attributes that doesn't fit the schema if the validate setting is enabled.\\n *\\n * @example\\n * var parser = new tinymce.html.SaxParser({\\n *     validate: true,\\n *\\n *     comment: function(text) {\\n *         console.log('Comment:', text);\\n *     },\\n *\\n *     cdata: function(text) {\\n *         console.log('CDATA:', text);\\n *     },\\n *\\n *     text: function(text, raw) {\\n *         console.log('Text:', text, 'Raw:', raw);\\n *     },\\n *\\n *     start: function(name, attrs, empty) {\\n *         console.log('Start:', name, attrs, empty);\\n *     },\\n *\\n *     end: function(name) {\\n *         console.log('End:', name);\\n *     },\\n *\\n *     pi: function(name, text) {\\n *         console.log('PI:', name, text);\\n *     },\\n *\\n *     doctype: function(text) {\\n *         console.log('DocType:', text);\\n *     }\\n * }, schema);\\n * @class tinymce.html.SaxParser\\n * @version 3.4\\n */\\ndefine(\\\"tinymce/html/SaxParser\\\", [\\n\\t\\\"tinymce/html/Schema\\\",\\n\\t\\\"tinymce/html/Entities\\\",\\n\\t\\\"tinymce/util/Tools\\\"\\n], function(Schema, Entities, Tools) {\\n\\tvar each = Tools.each;\\n\\n\\t/**\\n\\t * Returns the index of the end tag for a specific start tag. This can be\\n\\t * used to skip all children of a parent element from being processed.\\n\\t *\\n\\t * @private\\n\\t * @method findEndTag\\n\\t * @param {tinymce.html.Schema} schema Schema instance to use to match short ended elements.\\n\\t * @param {String} html HTML string to find the end tag in.\\n\\t * @param {Number} startIndex Indext to start searching at should be after the start tag.\\n\\t * @return {Number} Index of the end tag.\\n\\t */\\n\\tfunction findEndTag(schema, html, startIndex) {\\n\\t\\tvar count = 1, index, matches, tokenRegExp, shortEndedElements;\\n\\n\\t\\tshortEndedElements = schema.getShortEndedElements();\\n\\t\\ttokenRegExp = /<([!?\\\\/])?([A-Za-z0-9\\\\-_\\\\:\\\\.]+)((?:\\\\s+[^\\\"\\\\'>]+(?:(?:\\\"[^\\\"]*\\\")|(?:\\\\'[^\\\\']*\\\\')|[^>]*))*|\\\\/|\\\\s+)>/g;\\n\\t\\ttokenRegExp.lastIndex = index = startIndex;\\n\\n\\t\\twhile ((matches = tokenRegExp.exec(html))) {\\n\\t\\t\\tindex = tokenRegExp.lastIndex;\\n\\n\\t\\t\\tif (matches[1] === '/') { // End element\\n\\t\\t\\t\\tcount--;\\n\\t\\t\\t} else if (!matches[1]) { // Start element\\n\\t\\t\\t\\tif (matches[2] in shortEndedElements) {\\n\\t\\t\\t\\t\\tcontinue;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tcount++;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (count === 0) {\\n\\t\\t\\t\\tbreak;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\treturn index;\\n\\t}\\n\\n\\t/**\\n\\t * Constructs a new SaxParser instance.\\n\\t *\\n\\t * @constructor\\n\\t * @method SaxParser\\n\\t * @param {Object} settings Name/value collection of settings. comment, cdata, text, start and end are callbacks.\\n\\t * @param {tinymce.html.Schema} schema HTML Schema class to use when parsing.\\n\\t */\\n\\tfunction SaxParser(settings, schema) {\\n\\t\\tvar self = this;\\n\\n\\t\\tfunction noop() {}\\n\\n\\t\\tsettings = settings || {};\\n\\t\\tself.schema = schema = schema || new Schema();\\n\\n\\t\\tif (settings.fix_self_closing !== false) {\\n\\t\\t\\tsettings.fix_self_closing = true;\\n\\t\\t}\\n\\n\\t\\t// Add handler functions from settings and setup default handlers\\n\\t\\teach('comment cdata text start end pi doctype'.split(' '), function(name) {\\n\\t\\t\\tif (name) {\\n\\t\\t\\t\\tself[name] = settings[name] || noop;\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\t/**\\n\\t\\t * Parses the specified HTML string and executes the callbacks for each item it finds.\\n\\t\\t *\\n\\t\\t * @example\\n\\t\\t * new SaxParser({...}).parse('<b>text</b>');\\n\\t\\t * @method parse\\n\\t\\t * @param {String} html Html string to sax parse.\\n\\t\\t */\\n\\t\\tself.parse = function(html) {\\n\\t\\t\\tvar self = this, matches, index = 0, value, endRegExp, stack = [], attrList, i, text, name;\\n\\t\\t\\tvar isInternalElement, removeInternalElements, shortEndedElements, fillAttrsMap, isShortEnded;\\n\\t\\t\\tvar validate, elementRule, isValidElement, attr, attribsValue, validAttributesMap, validAttributePatterns;\\n\\t\\t\\tvar attributesRequired, attributesDefault, attributesForced;\\n\\t\\t\\tvar anyAttributesRequired, selfClosing, tokenRegExp, attrRegExp, specialElements, attrValue, idCount = 0;\\n\\t\\t\\tvar decode = Entities.decode, fixSelfClosing, filteredUrlAttrs = Tools.makeMap('src,href,data,background,formaction,poster');\\n\\t\\t\\tvar scriptUriRegExp = /((java|vb)script|mhtml):/i, dataUriRegExp = /^data:/i;\\n\\n\\t\\t\\tfunction processEndTag(name) {\\n\\t\\t\\t\\tvar pos, i;\\n\\n\\t\\t\\t\\t// Find position of parent of the same type\\n\\t\\t\\t\\tpos = stack.length;\\n\\t\\t\\t\\twhile (pos--) {\\n\\t\\t\\t\\t\\tif (stack[pos].name === name) {\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Found parent\\n\\t\\t\\t\\tif (pos >= 0) {\\n\\t\\t\\t\\t\\t// Close all the open elements\\n\\t\\t\\t\\t\\tfor (i = stack.length - 1; i >= pos; i--) {\\n\\t\\t\\t\\t\\t\\tname = stack[i];\\n\\n\\t\\t\\t\\t\\t\\tif (name.valid) {\\n\\t\\t\\t\\t\\t\\t\\tself.end(name.name);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Remove the open elements from the stack\\n\\t\\t\\t\\t\\tstack.length = pos;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction parseAttribute(match, name, value, val2, val3) {\\n\\t\\t\\t\\tvar attrRule, i, trimRegExp = /[\\\\s\\\\u0000-\\\\u001F]+/g;\\n\\n\\t\\t\\t\\tname = name.toLowerCase();\\n\\t\\t\\t\\tvalue = name in fillAttrsMap ? name : decode(value || val2 || val3 || ''); // Handle boolean attribute than value attribute\\n\\n\\t\\t\\t\\t// Validate name and value pass through all data- attributes\\n\\t\\t\\t\\tif (validate && !isInternalElement && name.indexOf('data-') !== 0) {\\n\\t\\t\\t\\t\\tattrRule = validAttributesMap[name];\\n\\n\\t\\t\\t\\t\\t// Find rule by pattern matching\\n\\t\\t\\t\\t\\tif (!attrRule && validAttributePatterns) {\\n\\t\\t\\t\\t\\t\\ti = validAttributePatterns.length;\\n\\t\\t\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\t\\t\\tattrRule = validAttributePatterns[i];\\n\\t\\t\\t\\t\\t\\t\\tif (attrRule.pattern.test(name)) {\\n\\t\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// No rule matched\\n\\t\\t\\t\\t\\t\\tif (i === -1) {\\n\\t\\t\\t\\t\\t\\t\\tattrRule = null;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// No attribute rule found\\n\\t\\t\\t\\t\\tif (!attrRule) {\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Validate value\\n\\t\\t\\t\\t\\tif (attrRule.validValues && !(value in attrRule.validValues)) {\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Block any javascript: urls or non image data uris\\n\\t\\t\\t\\tif (filteredUrlAttrs[name] && !settings.allow_script_urls) {\\n\\t\\t\\t\\t\\tvar uri = value.replace(trimRegExp, '');\\n\\n\\t\\t\\t\\t\\ttry {\\n\\t\\t\\t\\t\\t\\t// Might throw malformed URI sequence\\n\\t\\t\\t\\t\\t\\turi = decodeURIComponent(uri);\\n\\t\\t\\t\\t\\t} catch (ex) {\\n\\t\\t\\t\\t\\t\\t// Fallback to non UTF-8 decoder\\n\\t\\t\\t\\t\\t\\turi = unescape(uri);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (scriptUriRegExp.test(uri)) {\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (!settings.allow_html_data_urls && dataUriRegExp.test(uri) && !/^data:image\\\\//i.test(uri)) {\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Add attribute to list and map\\n\\t\\t\\t\\tattrList.map[name] = value;\\n\\t\\t\\t\\tattrList.push({\\n\\t\\t\\t\\t\\tname: name,\\n\\t\\t\\t\\t\\tvalue: value\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Precompile RegExps and map objects\\n\\t\\t\\ttokenRegExp = new RegExp('<(?:' +\\n\\t\\t\\t\\t'(?:!--([\\\\\\\\w\\\\\\\\W]*?)-->)|' + // Comment\\n\\t\\t\\t\\t'(?:!\\\\\\\\[CDATA\\\\\\\\[([\\\\\\\\w\\\\\\\\W]*?)\\\\\\\\]\\\\\\\\]>)|' + // CDATA\\n\\t\\t\\t\\t'(?:!DOCTYPE([\\\\\\\\w\\\\\\\\W]*?)>)|' + // DOCTYPE\\n\\t\\t\\t\\t'(?:\\\\\\\\?([^\\\\\\\\s\\\\\\\\/<>]+) ?([\\\\\\\\w\\\\\\\\W]*?)[?/]>)|' + // PI\\n\\t\\t\\t\\t'(?:\\\\\\\\/([^>]+)>)|' + // End element\\n\\t\\t\\t\\t'(?:([A-Za-z0-9\\\\\\\\-_\\\\\\\\:\\\\\\\\.]+)((?:\\\\\\\\s+[^\\\"\\\\'>]+(?:(?:\\\"[^\\\"]*\\\")|(?:\\\\'[^\\\\']*\\\\')|[^>]*))*|\\\\\\\\/|\\\\\\\\s+)>)' + // Start element\\n\\t\\t\\t')', 'g');\\n\\n\\t\\t\\tattrRegExp = /([\\\\w:\\\\-]+)(?:\\\\s*=\\\\s*(?:(?:\\\\\\\"((?:[^\\\\\\\"])*)\\\\\\\")|(?:\\\\'((?:[^\\\\'])*)\\\\')|([^>\\\\s]+)))?/g;\\n\\n\\t\\t\\t// Setup lookup tables for empty elements and boolean attributes\\n\\t\\t\\tshortEndedElements = schema.getShortEndedElements();\\n\\t\\t\\tselfClosing = settings.self_closing_elements || schema.getSelfClosingElements();\\n\\t\\t\\tfillAttrsMap = schema.getBoolAttrs();\\n\\t\\t\\tvalidate = settings.validate;\\n\\t\\t\\tremoveInternalElements = settings.remove_internals;\\n\\t\\t\\tfixSelfClosing = settings.fix_self_closing;\\n\\t\\t\\tspecialElements = schema.getSpecialElements();\\n\\n\\t\\t\\twhile ((matches = tokenRegExp.exec(html))) {\\n\\t\\t\\t\\t// Text\\n\\t\\t\\t\\tif (index < matches.index) {\\n\\t\\t\\t\\t\\tself.text(decode(html.substr(index, matches.index - index)));\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif ((value = matches[6])) { // End element\\n\\t\\t\\t\\t\\tvalue = value.toLowerCase();\\n\\n\\t\\t\\t\\t\\t// IE will add a \\\":\\\" in front of elements it doesn't understand like custom elements or HTML5 elements\\n\\t\\t\\t\\t\\tif (value.charAt(0) === ':') {\\n\\t\\t\\t\\t\\t\\tvalue = value.substr(1);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tprocessEndTag(value);\\n\\t\\t\\t\\t} else if ((value = matches[7])) { // Start element\\n\\t\\t\\t\\t\\tvalue = value.toLowerCase();\\n\\n\\t\\t\\t\\t\\t// IE will add a \\\":\\\" in front of elements it doesn't understand like custom elements or HTML5 elements\\n\\t\\t\\t\\t\\tif (value.charAt(0) === ':') {\\n\\t\\t\\t\\t\\t\\tvalue = value.substr(1);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tisShortEnded = value in shortEndedElements;\\n\\n\\t\\t\\t\\t\\t// Is self closing tag for example an <li> after an open <li>\\n\\t\\t\\t\\t\\tif (fixSelfClosing && selfClosing[value] && stack.length > 0 && stack[stack.length - 1].name === value) {\\n\\t\\t\\t\\t\\t\\tprocessEndTag(value);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Validate element\\n\\t\\t\\t\\t\\tif (!validate || (elementRule = schema.getElementRule(value))) {\\n\\t\\t\\t\\t\\t\\tisValidElement = true;\\n\\n\\t\\t\\t\\t\\t\\t// Grab attributes map and patters when validation is enabled\\n\\t\\t\\t\\t\\t\\tif (validate) {\\n\\t\\t\\t\\t\\t\\t\\tvalidAttributesMap = elementRule.attributes;\\n\\t\\t\\t\\t\\t\\t\\tvalidAttributePatterns = elementRule.attributePatterns;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Parse attributes\\n\\t\\t\\t\\t\\t\\tif ((attribsValue = matches[8])) {\\n\\t\\t\\t\\t\\t\\t\\tisInternalElement = attribsValue.indexOf('data-mce-type') !== -1; // Check if the element is an internal element\\n\\n\\t\\t\\t\\t\\t\\t\\t// If the element has internal attributes then remove it if we are told to do so\\n\\t\\t\\t\\t\\t\\t\\tif (isInternalElement && removeInternalElements) {\\n\\t\\t\\t\\t\\t\\t\\t\\tisValidElement = false;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tattrList = [];\\n\\t\\t\\t\\t\\t\\t\\tattrList.map = {};\\n\\n\\t\\t\\t\\t\\t\\t\\tattribsValue.replace(attrRegExp, parseAttribute);\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\tattrList = [];\\n\\t\\t\\t\\t\\t\\t\\tattrList.map = {};\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Process attributes if validation is enabled\\n\\t\\t\\t\\t\\t\\tif (validate && !isInternalElement) {\\n\\t\\t\\t\\t\\t\\t\\tattributesRequired = elementRule.attributesRequired;\\n\\t\\t\\t\\t\\t\\t\\tattributesDefault = elementRule.attributesDefault;\\n\\t\\t\\t\\t\\t\\t\\tattributesForced = elementRule.attributesForced;\\n\\t\\t\\t\\t\\t\\t\\tanyAttributesRequired = elementRule.removeEmptyAttrs;\\n\\n\\t\\t\\t\\t\\t\\t\\t// Check if any attribute exists\\n\\t\\t\\t\\t\\t\\t\\tif (anyAttributesRequired && !attrList.length) {\\n\\t\\t\\t\\t\\t\\t\\t\\tisValidElement = false;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t// Handle forced attributes\\n\\t\\t\\t\\t\\t\\t\\tif (attributesForced) {\\n\\t\\t\\t\\t\\t\\t\\t\\ti = attributesForced.length;\\n\\t\\t\\t\\t\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tattr = attributesForced[i];\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tname = attr.name;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tattrValue = attr.value;\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tif (attrValue === '{$uid}') {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tattrValue = 'mce_' + idCount++;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tattrList.map[name] = attrValue;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tattrList.push({name: name, value: attrValue});\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t// Handle default attributes\\n\\t\\t\\t\\t\\t\\t\\tif (attributesDefault) {\\n\\t\\t\\t\\t\\t\\t\\t\\ti = attributesDefault.length;\\n\\t\\t\\t\\t\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tattr = attributesDefault[i];\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tname = attr.name;\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tif (!(name in attrList.map)) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tattrValue = attr.value;\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tif (attrValue === '{$uid}') {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tattrValue = 'mce_' + idCount++;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tattrList.map[name] = attrValue;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tattrList.push({name: name, value: attrValue});\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t// Handle required attributes\\n\\t\\t\\t\\t\\t\\t\\tif (attributesRequired) {\\n\\t\\t\\t\\t\\t\\t\\t\\ti = attributesRequired.length;\\n\\t\\t\\t\\t\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tif (attributesRequired[i] in attrList.map) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t// None of the required attributes where found\\n\\t\\t\\t\\t\\t\\t\\t\\tif (i === -1) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tisValidElement = false;\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t// Invalidate element if it's marked as bogus\\n\\t\\t\\t\\t\\t\\t\\tif ((attr = attrList.map['data-mce-bogus'])) {\\n\\t\\t\\t\\t\\t\\t\\t\\tif (attr === 'all') {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tindex = findEndTag(schema, html, tokenRegExp.lastIndex);\\n\\t\\t\\t\\t\\t\\t\\t\\t\\ttokenRegExp.lastIndex = index;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tcontinue;\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t\\tisValidElement = false;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tif (isValidElement) {\\n\\t\\t\\t\\t\\t\\t\\tself.start(value, attrList, isShortEnded);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tisValidElement = false;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Treat script, noscript and style a bit different since they may include code that looks like elements\\n\\t\\t\\t\\t\\tif ((endRegExp = specialElements[value])) {\\n\\t\\t\\t\\t\\t\\tendRegExp.lastIndex = index = matches.index + matches[0].length;\\n\\n\\t\\t\\t\\t\\t\\tif ((matches = endRegExp.exec(html))) {\\n\\t\\t\\t\\t\\t\\t\\tif (isValidElement) {\\n\\t\\t\\t\\t\\t\\t\\t\\ttext = html.substr(index, matches.index - index);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tindex = matches.index + matches[0].length;\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\ttext = html.substr(index);\\n\\t\\t\\t\\t\\t\\t\\tindex = html.length;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tif (isValidElement) {\\n\\t\\t\\t\\t\\t\\t\\tif (text.length > 0) {\\n\\t\\t\\t\\t\\t\\t\\t\\tself.text(text, true);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tself.end(value);\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\ttokenRegExp.lastIndex = index;\\n\\t\\t\\t\\t\\t\\tcontinue;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Push value on to stack\\n\\t\\t\\t\\t\\tif (!isShortEnded) {\\n\\t\\t\\t\\t\\t\\tif (!attribsValue || attribsValue.indexOf('/') != attribsValue.length - 1) {\\n\\t\\t\\t\\t\\t\\t\\tstack.push({name: value, valid: isValidElement});\\n\\t\\t\\t\\t\\t\\t} else if (isValidElement) {\\n\\t\\t\\t\\t\\t\\t\\tself.end(value);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} else if ((value = matches[1])) { // Comment\\n\\t\\t\\t\\t\\t// Padd comment value to avoid browsers from parsing invalid comments as HTML\\n\\t\\t\\t\\t\\tif (value.charAt(0) === '>') {\\n\\t\\t\\t\\t\\t\\tvalue = ' ' + value;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (!settings.allow_conditional_comments && value.substr(0, 3).toLowerCase() === '[if') {\\n\\t\\t\\t\\t\\t\\tvalue = ' ' + value;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tself.comment(value);\\n\\t\\t\\t\\t} else if ((value = matches[2])) { // CDATA\\n\\t\\t\\t\\t\\tself.cdata(value);\\n\\t\\t\\t\\t} else if ((value = matches[3])) { // DOCTYPE\\n\\t\\t\\t\\t\\tself.doctype(value);\\n\\t\\t\\t\\t} else if ((value = matches[4])) { // PI\\n\\t\\t\\t\\t\\tself.pi(value, matches[5]);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tindex = matches.index + matches[0].length;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Text\\n\\t\\t\\tif (index < html.length) {\\n\\t\\t\\t\\tself.text(decode(html.substr(index)));\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Close any open elements\\n\\t\\t\\tfor (i = stack.length - 1; i >= 0; i--) {\\n\\t\\t\\t\\tvalue = stack[i];\\n\\n\\t\\t\\t\\tif (value.valid) {\\n\\t\\t\\t\\t\\tself.end(value.name);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t};\\n\\t}\\n\\n\\tSaxParser.findEndTag = findEndTag;\\n\\n\\treturn SaxParser;\\n});\\n\\n// Included from: js/tinymce/classes/html/DomParser.js\\n\\n/**\\n * DomParser.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class parses HTML code into a DOM like structure of nodes it will remove redundant whitespace and make\\n * sure that the node tree is valid according to the specified schema.\\n * So for example: <p>a<p>b</p>c</p> will become <p>a</p><p>b</p><p>c</p>\\n *\\n * @example\\n * var parser = new tinymce.html.DomParser({validate: true}, schema);\\n * var rootNode = parser.parse('<h1>content</h1>');\\n *\\n * @class tinymce.html.DomParser\\n * @version 3.4\\n */\\ndefine(\\\"tinymce/html/DomParser\\\", [\\n\\t\\\"tinymce/html/Node\\\",\\n\\t\\\"tinymce/html/Schema\\\",\\n\\t\\\"tinymce/html/SaxParser\\\",\\n\\t\\\"tinymce/util/Tools\\\"\\n], function(Node, Schema, SaxParser, Tools) {\\n\\tvar makeMap = Tools.makeMap, each = Tools.each, explode = Tools.explode, extend = Tools.extend;\\n\\n\\tvar paddEmptyNode = function (settings, node) {\\n\\t\\tif (settings.padd_empty_with_br) {\\n\\t\\t\\tnode.empty().append(new Node('br', '1')).shortEnded = true;\\n\\t\\t} else {\\n\\t\\t\\tnode.empty().append(new Node('#text', '3')).value = '\\\\u00a0';\\n\\t\\t}\\n\\t};\\n\\n\\tvar hasOnlyChild = function (node, name) {\\n\\t\\treturn node && node.firstChild === node.lastChild && node.firstChild.name === name;\\n\\t};\\n\\n\\t/**\\n\\t * Constructs a new DomParser instance.\\n\\t *\\n\\t * @constructor\\n\\t * @method DomParser\\n\\t * @param {Object} settings Name/value collection of settings. comment, cdata, text, start and end are callbacks.\\n\\t * @param {tinymce.html.Schema} schema HTML Schema class to use when parsing.\\n\\t */\\n\\treturn function(settings, schema) {\\n\\t\\tvar self = this, nodeFilters = {}, attributeFilters = [], matchedNodes = {}, matchedAttributes = {};\\n\\n\\t\\tsettings = settings || {};\\n\\t\\tsettings.validate = \\\"validate\\\" in settings ? settings.validate : true;\\n\\t\\tsettings.root_name = settings.root_name || 'body';\\n\\t\\tself.schema = schema = schema || new Schema();\\n\\n\\t\\tfunction fixInvalidChildren(nodes) {\\n\\t\\t\\tvar ni, node, parent, parents, newParent, currentNode, tempNode, childNode, i;\\n\\t\\t\\tvar nonEmptyElements, whitespaceElements, nonSplitableElements, textBlockElements, specialElements, sibling, nextNode;\\n\\n\\t\\t\\tnonSplitableElements = makeMap('tr,td,th,tbody,thead,tfoot,table');\\n\\t\\t\\tnonEmptyElements = schema.getNonEmptyElements();\\n\\t\\t\\twhitespaceElements = schema.getWhiteSpaceElements();\\n\\t\\t\\ttextBlockElements = schema.getTextBlockElements();\\n\\t\\t\\tspecialElements = schema.getSpecialElements();\\n\\n\\t\\t\\tfor (ni = 0; ni < nodes.length; ni++) {\\n\\t\\t\\t\\tnode = nodes[ni];\\n\\n\\t\\t\\t\\t// Already removed or fixed\\n\\t\\t\\t\\tif (!node.parent || node.fixed) {\\n\\t\\t\\t\\t\\tcontinue;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// If the invalid element is a text block and the text block is within a parent LI element\\n\\t\\t\\t\\t// Then unwrap the first text block and convert other sibling text blocks to LI elements similar to Word/Open Office\\n\\t\\t\\t\\tif (textBlockElements[node.name] && node.parent.name == 'li') {\\n\\t\\t\\t\\t\\t// Move sibling text blocks after LI element\\n\\t\\t\\t\\t\\tsibling = node.next;\\n\\t\\t\\t\\t\\twhile (sibling) {\\n\\t\\t\\t\\t\\t\\tif (textBlockElements[sibling.name]) {\\n\\t\\t\\t\\t\\t\\t\\tsibling.name = 'li';\\n\\t\\t\\t\\t\\t\\t\\tsibling.fixed = true;\\n\\t\\t\\t\\t\\t\\t\\tnode.parent.insert(sibling, node.parent);\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tsibling = sibling.next;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Unwrap current text block\\n\\t\\t\\t\\t\\tnode.unwrap(node);\\n\\t\\t\\t\\t\\tcontinue;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Get list of all parent nodes until we find a valid parent to stick the child into\\n\\t\\t\\t\\tparents = [node];\\n\\t\\t\\t\\tfor (parent = node.parent; parent && !schema.isValidChild(parent.name, node.name) &&\\n\\t\\t\\t\\t\\t!nonSplitableElements[parent.name]; parent = parent.parent) {\\n\\t\\t\\t\\t\\tparents.push(parent);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Found a suitable parent\\n\\t\\t\\t\\tif (parent && parents.length > 1) {\\n\\t\\t\\t\\t\\t// Reverse the array since it makes looping easier\\n\\t\\t\\t\\t\\tparents.reverse();\\n\\n\\t\\t\\t\\t\\t// Clone the related parent and insert that after the moved node\\n\\t\\t\\t\\t\\tnewParent = currentNode = self.filterNode(parents[0].clone());\\n\\n\\t\\t\\t\\t\\t// Start cloning and moving children on the left side of the target node\\n\\t\\t\\t\\t\\tfor (i = 0; i < parents.length - 1; i++) {\\n\\t\\t\\t\\t\\t\\tif (schema.isValidChild(currentNode.name, parents[i].name)) {\\n\\t\\t\\t\\t\\t\\t\\ttempNode = self.filterNode(parents[i].clone());\\n\\t\\t\\t\\t\\t\\t\\tcurrentNode.append(tempNode);\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\ttempNode = currentNode;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tfor (childNode = parents[i].firstChild; childNode && childNode != parents[i + 1];) {\\n\\t\\t\\t\\t\\t\\t\\tnextNode = childNode.next;\\n\\t\\t\\t\\t\\t\\t\\ttempNode.append(childNode);\\n\\t\\t\\t\\t\\t\\t\\tchildNode = nextNode;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tcurrentNode = tempNode;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (!newParent.isEmpty(nonEmptyElements, whitespaceElements)) {\\n\\t\\t\\t\\t\\t\\tparent.insert(newParent, parents[0], true);\\n\\t\\t\\t\\t\\t\\tparent.insert(node, newParent);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tparent.insert(node, parents[0], true);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Check if the element is empty by looking through it's contents and special treatment for <p><br /></p>\\n\\t\\t\\t\\t\\tparent = parents[0];\\n\\t\\t\\t\\t\\tif (parent.isEmpty(nonEmptyElements, whitespaceElements) || hasOnlyChild(parent, 'br')) {\\n\\t\\t\\t\\t\\t\\tparent.empty().remove();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} else if (node.parent) {\\n\\t\\t\\t\\t\\t// If it's an LI try to find a UL/OL for it or wrap it\\n\\t\\t\\t\\t\\tif (node.name === 'li') {\\n\\t\\t\\t\\t\\t\\tsibling = node.prev;\\n\\t\\t\\t\\t\\t\\tif (sibling && (sibling.name === 'ul' || sibling.name === 'ul')) {\\n\\t\\t\\t\\t\\t\\t\\tsibling.append(node);\\n\\t\\t\\t\\t\\t\\t\\tcontinue;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tsibling = node.next;\\n\\t\\t\\t\\t\\t\\tif (sibling && (sibling.name === 'ul' || sibling.name === 'ul')) {\\n\\t\\t\\t\\t\\t\\t\\tsibling.insert(node, sibling.firstChild, true);\\n\\t\\t\\t\\t\\t\\t\\tcontinue;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tnode.wrap(self.filterNode(new Node('ul', 1)));\\n\\t\\t\\t\\t\\t\\tcontinue;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Try wrapping the element in a DIV\\n\\t\\t\\t\\t\\tif (schema.isValidChild(node.parent.name, 'div') && schema.isValidChild('div', node.name)) {\\n\\t\\t\\t\\t\\t\\tnode.wrap(self.filterNode(new Node('div', 1)));\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t// We failed wrapping it, then remove or unwrap it\\n\\t\\t\\t\\t\\t\\tif (specialElements[node.name]) {\\n\\t\\t\\t\\t\\t\\t\\tnode.empty().remove();\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\tnode.unwrap();\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Runs the specified node though the element and attributes filters.\\n\\t\\t *\\n\\t\\t * @method filterNode\\n\\t\\t * @param {tinymce.html.Node} Node the node to run filters on.\\n\\t\\t * @return {tinymce.html.Node} The passed in node.\\n\\t\\t */\\n\\t\\tself.filterNode = function(node) {\\n\\t\\t\\tvar i, name, list;\\n\\n\\t\\t\\t// Run element filters\\n\\t\\t\\tif (name in nodeFilters) {\\n\\t\\t\\t\\tlist = matchedNodes[name];\\n\\n\\t\\t\\t\\tif (list) {\\n\\t\\t\\t\\t\\tlist.push(node);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tmatchedNodes[name] = [node];\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Run attribute filters\\n\\t\\t\\ti = attributeFilters.length;\\n\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\tname = attributeFilters[i].name;\\n\\n\\t\\t\\t\\tif (name in node.attributes.map) {\\n\\t\\t\\t\\t\\tlist = matchedAttributes[name];\\n\\n\\t\\t\\t\\t\\tif (list) {\\n\\t\\t\\t\\t\\t\\tlist.push(node);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tmatchedAttributes[name] = [node];\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn node;\\n\\t\\t};\\n\\n\\t\\t/**\\n\\t\\t * Adds a node filter function to the parser, the parser will collect the specified nodes by name\\n\\t\\t * and then execute the callback ones it has finished parsing the document.\\n\\t\\t *\\n\\t\\t * @example\\n\\t\\t * parser.addNodeFilter('p,h1', function(nodes, name) {\\n\\t\\t *\\t\\tfor (var i = 0; i < nodes.length; i++) {\\n\\t\\t *\\t\\t\\tconsole.log(nodes[i].name);\\n\\t\\t *\\t\\t}\\n\\t\\t * });\\n\\t\\t * @method addNodeFilter\\n\\t\\t * @method {String} name Comma separated list of nodes to collect.\\n\\t\\t * @param {function} callback Callback function to execute once it has collected nodes.\\n\\t\\t */\\n\\t\\tself.addNodeFilter = function(name, callback) {\\n\\t\\t\\teach(explode(name), function(name) {\\n\\t\\t\\t\\tvar list = nodeFilters[name];\\n\\n\\t\\t\\t\\tif (!list) {\\n\\t\\t\\t\\t\\tnodeFilters[name] = list = [];\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tlist.push(callback);\\n\\t\\t\\t});\\n\\t\\t};\\n\\n\\t\\t/**\\n\\t\\t * Adds a attribute filter function to the parser, the parser will collect nodes that has the specified attributes\\n\\t\\t * and then execute the callback ones it has finished parsing the document.\\n\\t\\t *\\n\\t\\t * @example\\n\\t\\t * parser.addAttributeFilter('src,href', function(nodes, name) {\\n\\t\\t *\\t\\tfor (var i = 0; i < nodes.length; i++) {\\n\\t\\t *\\t\\t\\tconsole.log(nodes[i].name);\\n\\t\\t *\\t\\t}\\n\\t\\t * });\\n\\t\\t * @method addAttributeFilter\\n\\t\\t * @method {String} name Comma separated list of nodes to collect.\\n\\t\\t * @param {function} callback Callback function to execute once it has collected nodes.\\n\\t\\t */\\n\\t\\tself.addAttributeFilter = function(name, callback) {\\n\\t\\t\\teach(explode(name), function(name) {\\n\\t\\t\\t\\tvar i;\\n\\n\\t\\t\\t\\tfor (i = 0; i < attributeFilters.length; i++) {\\n\\t\\t\\t\\t\\tif (attributeFilters[i].name === name) {\\n\\t\\t\\t\\t\\t\\tattributeFilters[i].callbacks.push(callback);\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tattributeFilters.push({name: name, callbacks: [callback]});\\n\\t\\t\\t});\\n\\t\\t};\\n\\n\\t\\t/**\\n\\t\\t * Parses the specified HTML string into a DOM like node tree and returns the result.\\n\\t\\t *\\n\\t\\t * @example\\n\\t\\t * var rootNode = new DomParser({...}).parse('<b>text</b>');\\n\\t\\t * @method parse\\n\\t\\t * @param {String} html Html string to sax parse.\\n\\t\\t * @param {Object} args Optional args object that gets passed to all filter functions.\\n\\t\\t * @return {tinymce.html.Node} Root node containing the tree.\\n\\t\\t */\\n\\t\\tself.parse = function(html, args) {\\n\\t\\t\\tvar parser, rootNode, node, nodes, i, l, fi, fl, list, name, validate;\\n\\t\\t\\tvar blockElements, startWhiteSpaceRegExp, invalidChildren = [], isInWhiteSpacePreservedElement;\\n\\t\\t\\tvar endWhiteSpaceRegExp, allWhiteSpaceRegExp, isAllWhiteSpaceRegExp, whiteSpaceElements;\\n\\t\\t\\tvar children, nonEmptyElements, rootBlockName;\\n\\n\\t\\t\\targs = args || {};\\n\\t\\t\\tmatchedNodes = {};\\n\\t\\t\\tmatchedAttributes = {};\\n\\t\\t\\tblockElements = extend(makeMap('script,style,head,html,body,title,meta,param'), schema.getBlockElements());\\n\\t\\t\\tnonEmptyElements = schema.getNonEmptyElements();\\n\\t\\t\\tchildren = schema.children;\\n\\t\\t\\tvalidate = settings.validate;\\n\\t\\t\\trootBlockName = \\\"forced_root_block\\\" in args ? args.forced_root_block : settings.forced_root_block;\\n\\n\\t\\t\\twhiteSpaceElements = schema.getWhiteSpaceElements();\\n\\t\\t\\tstartWhiteSpaceRegExp = /^[ \\\\t\\\\r\\\\n]+/;\\n\\t\\t\\tendWhiteSpaceRegExp = /[ \\\\t\\\\r\\\\n]+$/;\\n\\t\\t\\tallWhiteSpaceRegExp = /[ \\\\t\\\\r\\\\n]+/g;\\n\\t\\t\\tisAllWhiteSpaceRegExp = /^[ \\\\t\\\\r\\\\n]+$/;\\n\\n\\t\\t\\tfunction addRootBlocks() {\\n\\t\\t\\t\\tvar node = rootNode.firstChild, next, rootBlockNode;\\n\\n\\t\\t\\t\\t// Removes whitespace at beginning and end of block so:\\n\\t\\t\\t\\t// <p> x </p> -> <p>x</p>\\n\\t\\t\\t\\tfunction trim(rootBlockNode) {\\n\\t\\t\\t\\t\\tif (rootBlockNode) {\\n\\t\\t\\t\\t\\t\\tnode = rootBlockNode.firstChild;\\n\\t\\t\\t\\t\\t\\tif (node && node.type == 3) {\\n\\t\\t\\t\\t\\t\\t\\tnode.value = node.value.replace(startWhiteSpaceRegExp, '');\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tnode = rootBlockNode.lastChild;\\n\\t\\t\\t\\t\\t\\tif (node && node.type == 3) {\\n\\t\\t\\t\\t\\t\\t\\tnode.value = node.value.replace(endWhiteSpaceRegExp, '');\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Check if rootBlock is valid within rootNode for example if P is valid in H1 if H1 is the contentEditabe root\\n\\t\\t\\t\\tif (!schema.isValidChild(rootNode.name, rootBlockName.toLowerCase())) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\twhile (node) {\\n\\t\\t\\t\\t\\tnext = node.next;\\n\\n\\t\\t\\t\\t\\tif (node.type == 3 || (node.type == 1 && node.name !== 'p' &&\\n\\t\\t\\t\\t\\t\\t!blockElements[node.name] && !node.attr('data-mce-type'))) {\\n\\t\\t\\t\\t\\t\\tif (!rootBlockNode) {\\n\\t\\t\\t\\t\\t\\t\\t// Create a new root block element\\n\\t\\t\\t\\t\\t\\t\\trootBlockNode = createNode(rootBlockName, 1);\\n\\t\\t\\t\\t\\t\\t\\trootBlockNode.attr(settings.forced_root_block_attrs);\\n\\t\\t\\t\\t\\t\\t\\trootNode.insert(rootBlockNode, node);\\n\\t\\t\\t\\t\\t\\t\\trootBlockNode.append(node);\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\trootBlockNode.append(node);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\ttrim(rootBlockNode);\\n\\t\\t\\t\\t\\t\\trootBlockNode = null;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tnode = next;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\ttrim(rootBlockNode);\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction createNode(name, type) {\\n\\t\\t\\t\\tvar node = new Node(name, type), list;\\n\\n\\t\\t\\t\\tif (name in nodeFilters) {\\n\\t\\t\\t\\t\\tlist = matchedNodes[name];\\n\\n\\t\\t\\t\\t\\tif (list) {\\n\\t\\t\\t\\t\\t\\tlist.push(node);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tmatchedNodes[name] = [node];\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn node;\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction removeWhitespaceBefore(node) {\\n\\t\\t\\t\\tvar textNode, textNodeNext, textVal, sibling, blockElements = schema.getBlockElements();\\n\\n\\t\\t\\t\\tfor (textNode = node.prev; textNode && textNode.type === 3;) {\\n\\t\\t\\t\\t\\ttextVal = textNode.value.replace(endWhiteSpaceRegExp, '');\\n\\n\\t\\t\\t\\t\\t// Found a text node with non whitespace then trim that and break\\n\\t\\t\\t\\t\\tif (textVal.length > 0) {\\n\\t\\t\\t\\t\\t\\ttextNode.value = textVal;\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\ttextNodeNext = textNode.next;\\n\\n\\t\\t\\t\\t\\t// Fix for bug #7543 where bogus nodes would produce empty\\n\\t\\t\\t\\t\\t// text nodes and these would be removed if a nested list was before it\\n\\t\\t\\t\\t\\tif (textNodeNext) {\\n\\t\\t\\t\\t\\t\\tif (textNodeNext.type == 3 && textNodeNext.value.length) {\\n\\t\\t\\t\\t\\t\\t\\ttextNode = textNode.prev;\\n\\t\\t\\t\\t\\t\\t\\tcontinue;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tif (!blockElements[textNodeNext.name] && textNodeNext.name != 'script' && textNodeNext.name != 'style') {\\n\\t\\t\\t\\t\\t\\t\\ttextNode = textNode.prev;\\n\\t\\t\\t\\t\\t\\t\\tcontinue;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tsibling = textNode.prev;\\n\\t\\t\\t\\t\\ttextNode.remove();\\n\\t\\t\\t\\t\\ttextNode = sibling;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction cloneAndExcludeBlocks(input) {\\n\\t\\t\\t\\tvar name, output = {};\\n\\n\\t\\t\\t\\tfor (name in input) {\\n\\t\\t\\t\\t\\tif (name !== 'li' && name != 'p') {\\n\\t\\t\\t\\t\\t\\toutput[name] = input[name];\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn output;\\n\\t\\t\\t}\\n\\n\\t\\t\\tparser = new SaxParser({\\n\\t\\t\\t\\tvalidate: validate,\\n\\t\\t\\t\\tallow_script_urls: settings.allow_script_urls,\\n\\t\\t\\t\\tallow_conditional_comments: settings.allow_conditional_comments,\\n\\n\\t\\t\\t\\t// Exclude P and LI from DOM parsing since it's treated better by the DOM parser\\n\\t\\t\\t\\tself_closing_elements: cloneAndExcludeBlocks(schema.getSelfClosingElements()),\\n\\n\\t\\t\\t\\tcdata: function(text) {\\n\\t\\t\\t\\t\\tnode.append(createNode('#cdata', 4)).value = text;\\n\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\ttext: function(text, raw) {\\n\\t\\t\\t\\t\\tvar textNode;\\n\\n\\t\\t\\t\\t\\t// Trim all redundant whitespace on non white space elements\\n\\t\\t\\t\\t\\tif (!isInWhiteSpacePreservedElement) {\\n\\t\\t\\t\\t\\t\\ttext = text.replace(allWhiteSpaceRegExp, ' ');\\n\\n\\t\\t\\t\\t\\t\\tif (node.lastChild && blockElements[node.lastChild.name]) {\\n\\t\\t\\t\\t\\t\\t\\ttext = text.replace(startWhiteSpaceRegExp, '');\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Do we need to create the node\\n\\t\\t\\t\\t\\tif (text.length !== 0) {\\n\\t\\t\\t\\t\\t\\ttextNode = createNode('#text', 3);\\n\\t\\t\\t\\t\\t\\ttextNode.raw = !!raw;\\n\\t\\t\\t\\t\\t\\tnode.append(textNode).value = text;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\tcomment: function(text) {\\n\\t\\t\\t\\t\\tnode.append(createNode('#comment', 8)).value = text;\\n\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\tpi: function(name, text) {\\n\\t\\t\\t\\t\\tnode.append(createNode(name, 7)).value = text;\\n\\t\\t\\t\\t\\tremoveWhitespaceBefore(node);\\n\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\tdoctype: function(text) {\\n\\t\\t\\t\\t\\tvar newNode;\\n\\n\\t\\t\\t\\t\\tnewNode = node.append(createNode('#doctype', 10));\\n\\t\\t\\t\\t\\tnewNode.value = text;\\n\\t\\t\\t\\t\\tremoveWhitespaceBefore(node);\\n\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\tstart: function(name, attrs, empty) {\\n\\t\\t\\t\\t\\tvar newNode, attrFiltersLen, elementRule, attrName, parent;\\n\\n\\t\\t\\t\\t\\telementRule = validate ? schema.getElementRule(name) : {};\\n\\t\\t\\t\\t\\tif (elementRule) {\\n\\t\\t\\t\\t\\t\\tnewNode = createNode(elementRule.outputName || name, 1);\\n\\t\\t\\t\\t\\t\\tnewNode.attributes = attrs;\\n\\t\\t\\t\\t\\t\\tnewNode.shortEnded = empty;\\n\\n\\t\\t\\t\\t\\t\\tnode.append(newNode);\\n\\n\\t\\t\\t\\t\\t\\t// Check if node is valid child of the parent node is the child is\\n\\t\\t\\t\\t\\t\\t// unknown we don't collect it since it's probably a custom element\\n\\t\\t\\t\\t\\t\\tparent = children[node.name];\\n\\t\\t\\t\\t\\t\\tif (parent && children[newNode.name] && !parent[newNode.name]) {\\n\\t\\t\\t\\t\\t\\t\\tinvalidChildren.push(newNode);\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tattrFiltersLen = attributeFilters.length;\\n\\t\\t\\t\\t\\t\\twhile (attrFiltersLen--) {\\n\\t\\t\\t\\t\\t\\t\\tattrName = attributeFilters[attrFiltersLen].name;\\n\\n\\t\\t\\t\\t\\t\\t\\tif (attrName in attrs.map) {\\n\\t\\t\\t\\t\\t\\t\\t\\tlist = matchedAttributes[attrName];\\n\\n\\t\\t\\t\\t\\t\\t\\t\\tif (list) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tlist.push(newNode);\\n\\t\\t\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tmatchedAttributes[attrName] = [newNode];\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Trim whitespace before block\\n\\t\\t\\t\\t\\t\\tif (blockElements[name]) {\\n\\t\\t\\t\\t\\t\\t\\tremoveWhitespaceBefore(newNode);\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Change current node if the element wasn't empty i.e not <br /> or <img />\\n\\t\\t\\t\\t\\t\\tif (!empty) {\\n\\t\\t\\t\\t\\t\\t\\tnode = newNode;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Check if we are inside a whitespace preserved element\\n\\t\\t\\t\\t\\t\\tif (!isInWhiteSpacePreservedElement && whiteSpaceElements[name]) {\\n\\t\\t\\t\\t\\t\\t\\tisInWhiteSpacePreservedElement = true;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\tend: function(name) {\\n\\t\\t\\t\\t\\tvar textNode, elementRule, text, sibling, tempNode;\\n\\n\\t\\t\\t\\t\\telementRule = validate ? schema.getElementRule(name) : {};\\n\\t\\t\\t\\t\\tif (elementRule) {\\n\\t\\t\\t\\t\\t\\tif (blockElements[name]) {\\n\\t\\t\\t\\t\\t\\t\\tif (!isInWhiteSpacePreservedElement) {\\n\\t\\t\\t\\t\\t\\t\\t\\t// Trim whitespace of the first node in a block\\n\\t\\t\\t\\t\\t\\t\\t\\ttextNode = node.firstChild;\\n\\t\\t\\t\\t\\t\\t\\t\\tif (textNode && textNode.type === 3) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\ttext = textNode.value.replace(startWhiteSpaceRegExp, '');\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t// Any characters left after trim or should we remove it\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tif (text.length > 0) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttextNode.value = text;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttextNode = textNode.next;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tsibling = textNode.next;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttextNode.remove();\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttextNode = sibling;\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t// Remove any pure whitespace siblings\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\twhile (textNode && textNode.type === 3) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttext = textNode.value;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tsibling = textNode.next;\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tif (text.length === 0 || isAllWhiteSpaceRegExp.test(text)) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttextNode.remove();\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttextNode = sibling;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttextNode = sibling;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t// Trim whitespace of the last node in a block\\n\\t\\t\\t\\t\\t\\t\\t\\ttextNode = node.lastChild;\\n\\t\\t\\t\\t\\t\\t\\t\\tif (textNode && textNode.type === 3) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\ttext = textNode.value.replace(endWhiteSpaceRegExp, '');\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t// Any characters left after trim or should we remove it\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tif (text.length > 0) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttextNode.value = text;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttextNode = textNode.prev;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tsibling = textNode.prev;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttextNode.remove();\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttextNode = sibling;\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t// Remove any pure whitespace siblings\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\twhile (textNode && textNode.type === 3) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttext = textNode.value;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tsibling = textNode.prev;\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tif (text.length === 0 || isAllWhiteSpaceRegExp.test(text)) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttextNode.remove();\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttextNode = sibling;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttextNode = sibling;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t// Trim start white space\\n\\t\\t\\t\\t\\t\\t\\t// Removed due to: #5424\\n\\t\\t\\t\\t\\t\\t\\t/*textNode = node.prev;\\n\\t\\t\\t\\t\\t\\t\\tif (textNode && textNode.type === 3) {\\n\\t\\t\\t\\t\\t\\t\\t\\ttext = textNode.value.replace(startWhiteSpaceRegExp, '');\\n\\n\\t\\t\\t\\t\\t\\t\\t\\tif (text.length > 0)\\n\\t\\t\\t\\t\\t\\t\\t\\t\\ttextNode.value = text;\\n\\t\\t\\t\\t\\t\\t\\t\\telse\\n\\t\\t\\t\\t\\t\\t\\t\\t\\ttextNode.remove();\\n\\t\\t\\t\\t\\t\\t\\t}*/\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Check if we exited a whitespace preserved element\\n\\t\\t\\t\\t\\t\\tif (isInWhiteSpacePreservedElement && whiteSpaceElements[name]) {\\n\\t\\t\\t\\t\\t\\t\\tisInWhiteSpacePreservedElement = false;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Handle empty nodes\\n\\t\\t\\t\\t\\t\\tif (elementRule.removeEmpty || elementRule.paddEmpty) {\\n\\t\\t\\t\\t\\t\\t\\tif (node.isEmpty(nonEmptyElements, whiteSpaceElements)) {\\n\\t\\t\\t\\t\\t\\t\\t\\tif (elementRule.paddEmpty) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tpaddEmptyNode(settings, node);\\n\\t\\t\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t// Leave nodes that have a name like <a name=\\\"name\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tif (!node.attributes.map.name && !node.attributes.map.id) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttempNode = node.parent;\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tif (blockElements[node.name]) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tnode.empty().remove();\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tnode.unwrap();\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tnode = tempNode;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tnode = node.parent;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}, schema);\\n\\n\\t\\t\\trootNode = node = new Node(args.context || settings.root_name, 11);\\n\\n\\t\\t\\tparser.parse(html);\\n\\n\\t\\t\\t// Fix invalid children or report invalid children in a contextual parsing\\n\\t\\t\\tif (validate && invalidChildren.length) {\\n\\t\\t\\t\\tif (!args.context) {\\n\\t\\t\\t\\t\\tfixInvalidChildren(invalidChildren);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\targs.invalid = true;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Wrap nodes in the root into block elements if the root is body\\n\\t\\t\\tif (rootBlockName && (rootNode.name == 'body' || args.isRootContent)) {\\n\\t\\t\\t\\taddRootBlocks();\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Run filters only when the contents is valid\\n\\t\\t\\tif (!args.invalid) {\\n\\t\\t\\t\\t// Run node filters\\n\\t\\t\\t\\tfor (name in matchedNodes) {\\n\\t\\t\\t\\t\\tlist = nodeFilters[name];\\n\\t\\t\\t\\t\\tnodes = matchedNodes[name];\\n\\n\\t\\t\\t\\t\\t// Remove already removed children\\n\\t\\t\\t\\t\\tfi = nodes.length;\\n\\t\\t\\t\\t\\twhile (fi--) {\\n\\t\\t\\t\\t\\t\\tif (!nodes[fi].parent) {\\n\\t\\t\\t\\t\\t\\t\\tnodes.splice(fi, 1);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tfor (i = 0, l = list.length; i < l; i++) {\\n\\t\\t\\t\\t\\t\\tlist[i](nodes, name, args);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Run attribute filters\\n\\t\\t\\t\\tfor (i = 0, l = attributeFilters.length; i < l; i++) {\\n\\t\\t\\t\\t\\tlist = attributeFilters[i];\\n\\n\\t\\t\\t\\t\\tif (list.name in matchedAttributes) {\\n\\t\\t\\t\\t\\t\\tnodes = matchedAttributes[list.name];\\n\\n\\t\\t\\t\\t\\t\\t// Remove already removed children\\n\\t\\t\\t\\t\\t\\tfi = nodes.length;\\n\\t\\t\\t\\t\\t\\twhile (fi--) {\\n\\t\\t\\t\\t\\t\\t\\tif (!nodes[fi].parent) {\\n\\t\\t\\t\\t\\t\\t\\t\\tnodes.splice(fi, 1);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tfor (fi = 0, fl = list.callbacks.length; fi < fl; fi++) {\\n\\t\\t\\t\\t\\t\\t\\tlist.callbacks[fi](nodes, list.name, args);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn rootNode;\\n\\t\\t};\\n\\n\\t\\t// Remove <br> at end of block elements Gecko and WebKit injects BR elements to\\n\\t\\t// make it possible to place the caret inside empty blocks. This logic tries to remove\\n\\t\\t// these elements and keep br elements that where intended to be there intact\\n\\t\\tif (settings.remove_trailing_brs) {\\n\\t\\t\\tself.addNodeFilter('br', function(nodes) {\\n\\t\\t\\t\\tvar i, l = nodes.length, node, blockElements = extend({}, schema.getBlockElements());\\n\\t\\t\\t\\tvar nonEmptyElements = schema.getNonEmptyElements(), parent, lastParent, prev, prevName;\\n\\t\\t\\t\\tvar whiteSpaceElements = schema.getNonEmptyElements();\\n\\t\\t\\t\\tvar elementRule, textNode;\\n\\n\\t\\t\\t\\t// Remove brs from body element as well\\n\\t\\t\\t\\tblockElements.body = 1;\\n\\n\\t\\t\\t\\t// Must loop forwards since it will otherwise remove all brs in <p>a<br><br><br></p>\\n\\t\\t\\t\\tfor (i = 0; i < l; i++) {\\n\\t\\t\\t\\t\\tnode = nodes[i];\\n\\t\\t\\t\\t\\tparent = node.parent;\\n\\n\\t\\t\\t\\t\\tif (blockElements[node.parent.name] && node === parent.lastChild) {\\n\\t\\t\\t\\t\\t\\t// Loop all nodes to the left of the current node and check for other BR elements\\n\\t\\t\\t\\t\\t\\t// excluding bookmarks since they are invisible\\n\\t\\t\\t\\t\\t\\tprev = node.prev;\\n\\t\\t\\t\\t\\t\\twhile (prev) {\\n\\t\\t\\t\\t\\t\\t\\tprevName = prev.name;\\n\\n\\t\\t\\t\\t\\t\\t\\t// Ignore bookmarks\\n\\t\\t\\t\\t\\t\\t\\tif (prevName !== \\\"span\\\" || prev.attr('data-mce-type') !== 'bookmark') {\\n\\t\\t\\t\\t\\t\\t\\t\\t// Found a non BR element\\n\\t\\t\\t\\t\\t\\t\\t\\tif (prevName !== \\\"br\\\") {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t// Found another br it's a <br><br> structure then don't remove anything\\n\\t\\t\\t\\t\\t\\t\\t\\tif (prevName === 'br') {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tnode = null;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tprev = prev.prev;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tif (node) {\\n\\t\\t\\t\\t\\t\\t\\tnode.remove();\\n\\n\\t\\t\\t\\t\\t\\t\\t// Is the parent to be considered empty after we removed the BR\\n\\t\\t\\t\\t\\t\\t\\tif (parent.isEmpty(nonEmptyElements, whiteSpaceElements)) {\\n\\t\\t\\t\\t\\t\\t\\t\\telementRule = schema.getElementRule(parent.name);\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t// Remove or padd the element depending on schema rule\\n\\t\\t\\t\\t\\t\\t\\t\\tif (elementRule) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tif (elementRule.removeEmpty) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tparent.remove();\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t} else if (elementRule.paddEmpty) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tpaddEmptyNode(settings, parent);\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t// Replaces BR elements inside inline elements like <p><b><i><br></i></b></p>\\n\\t\\t\\t\\t\\t\\t// so they become <p><b><i>&nbsp;</i></b></p>\\n\\t\\t\\t\\t\\t\\tlastParent = node;\\n\\t\\t\\t\\t\\t\\twhile (parent && parent.firstChild === lastParent && parent.lastChild === lastParent) {\\n\\t\\t\\t\\t\\t\\t\\tlastParent = parent;\\n\\n\\t\\t\\t\\t\\t\\t\\tif (blockElements[parent.name]) {\\n\\t\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tparent = parent.parent;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tif (lastParent === parent && settings.padd_empty_with_br !== true) {\\n\\t\\t\\t\\t\\t\\t\\ttextNode = new Node('#text', 3);\\n\\t\\t\\t\\t\\t\\t\\ttextNode.value = '\\\\u00a0';\\n\\t\\t\\t\\t\\t\\t\\tnode.replace(textNode);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\tif (!settings.allow_unsafe_link_target) {\\n\\t\\t\\tself.addAttributeFilter('href', function(nodes) {\\n\\t\\t\\t\\tvar i = nodes.length, node, rel;\\n\\t\\t\\t\\tvar rules = 'noopener noreferrer';\\n\\n\\t\\t\\t\\tfunction addTargetRules(rel) {\\n\\t\\t\\t\\t\\trel = removeTargetRules(rel);\\n\\t\\t\\t\\t\\treturn rel ? [rel, rules].join(' ') : rules;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfunction removeTargetRules(rel) {\\n\\t\\t\\t\\t\\tvar regExp = new RegExp('(' + rules.replace(' ', '|') + ')', 'g');\\n\\t\\t\\t\\t\\tif (rel) {\\n\\t\\t\\t\\t\\t\\trel = Tools.trim(rel.replace(regExp, ''));\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\treturn rel ? rel : null;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfunction toggleTargetRules(rel, isUnsafe) {\\n\\t\\t\\t\\t\\treturn isUnsafe ? addTargetRules(rel) : removeTargetRules(rel);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\tnode = nodes[i];\\n\\t\\t\\t\\t\\trel = node.attr('rel');\\n\\t\\t\\t\\t\\tif (node.name === 'a') {\\n\\t\\t\\t\\t\\t\\tnode.attr('rel', toggleTargetRules(rel, node.attr('target') == '_blank'));\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\t// Force anchor names closed, unless the setting \\\"allow_html_in_named_anchor\\\" is explicitly included.\\n\\t\\tif (!settings.allow_html_in_named_anchor) {\\n\\t\\t\\tself.addAttributeFilter('id,name', function(nodes) {\\n\\t\\t\\t\\tvar i = nodes.length, sibling, prevSibling, parent, node;\\n\\n\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\tnode = nodes[i];\\n\\t\\t\\t\\t\\tif (node.name === 'a' && node.firstChild && !node.attr('href')) {\\n\\t\\t\\t\\t\\t\\tparent = node.parent;\\n\\n\\t\\t\\t\\t\\t\\t// Move children after current node\\n\\t\\t\\t\\t\\t\\tsibling = node.lastChild;\\n\\t\\t\\t\\t\\t\\tdo {\\n\\t\\t\\t\\t\\t\\t\\tprevSibling = sibling.prev;\\n\\t\\t\\t\\t\\t\\t\\tparent.insert(sibling, node);\\n\\t\\t\\t\\t\\t\\t\\tsibling = prevSibling;\\n\\t\\t\\t\\t\\t\\t} while (sibling);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\tif (settings.fix_list_elements) {\\n\\t\\t\\tself.addNodeFilter('ul,ol', function(nodes) {\\n\\t\\t\\t\\tvar i = nodes.length, node, parentNode;\\n\\n\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\tnode = nodes[i];\\n\\t\\t\\t\\t\\tparentNode = node.parent;\\n\\n\\t\\t\\t\\t\\tif (parentNode.name === 'ul' || parentNode.name === 'ol') {\\n\\t\\t\\t\\t\\t\\tif (node.prev && node.prev.name === 'li') {\\n\\t\\t\\t\\t\\t\\t\\tnode.prev.append(node);\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\tvar li = new Node('li', 1);\\n\\t\\t\\t\\t\\t\\t\\tli.attr('style', 'list-style-type: none');\\n\\t\\t\\t\\t\\t\\t\\tnode.wrap(li);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\tif (settings.validate && schema.getValidClasses()) {\\n\\t\\t\\tself.addAttributeFilter('class', function(nodes) {\\n\\t\\t\\t\\tvar i = nodes.length, node, classList, ci, className, classValue;\\n\\t\\t\\t\\tvar validClasses = schema.getValidClasses(), validClassesMap, valid;\\n\\n\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\tnode = nodes[i];\\n\\t\\t\\t\\t\\tclassList = node.attr('class').split(' ');\\n\\t\\t\\t\\t\\tclassValue = '';\\n\\n\\t\\t\\t\\t\\tfor (ci = 0; ci < classList.length; ci++) {\\n\\t\\t\\t\\t\\t\\tclassName = classList[ci];\\n\\t\\t\\t\\t\\t\\tvalid = false;\\n\\n\\t\\t\\t\\t\\t\\tvalidClassesMap = validClasses['*'];\\n\\t\\t\\t\\t\\t\\tif (validClassesMap && validClassesMap[className]) {\\n\\t\\t\\t\\t\\t\\t\\tvalid = true;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tvalidClassesMap = validClasses[node.name];\\n\\t\\t\\t\\t\\t\\tif (!valid && validClassesMap && validClassesMap[className]) {\\n\\t\\t\\t\\t\\t\\t\\tvalid = true;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tif (valid) {\\n\\t\\t\\t\\t\\t\\t\\tif (classValue) {\\n\\t\\t\\t\\t\\t\\t\\t\\tclassValue += ' ';\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tclassValue += className;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (!classValue.length) {\\n\\t\\t\\t\\t\\t\\tclassValue = null;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tnode.attr('class', classValue);\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t}\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/html/Writer.js\\n\\n/**\\n * Writer.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class is used to write HTML tags out it can be used with the Serializer or the SaxParser.\\n *\\n * @class tinymce.html.Writer\\n * @example\\n * var writer = new tinymce.html.Writer({indent: true});\\n * var parser = new tinymce.html.SaxParser(writer).parse('<p><br></p>');\\n * console.log(writer.getContent());\\n *\\n * @class tinymce.html.Writer\\n * @version 3.4\\n */\\ndefine(\\\"tinymce/html/Writer\\\", [\\n\\t\\\"tinymce/html/Entities\\\",\\n\\t\\\"tinymce/util/Tools\\\"\\n], function(Entities, Tools) {\\n\\tvar makeMap = Tools.makeMap;\\n\\n\\t/**\\n\\t * Constructs a new Writer instance.\\n\\t *\\n\\t * @constructor\\n\\t * @method Writer\\n\\t * @param {Object} settings Name/value settings object.\\n\\t */\\n\\treturn function(settings) {\\n\\t\\tvar html = [], indent, indentBefore, indentAfter, encode, htmlOutput;\\n\\n\\t\\tsettings = settings || {};\\n\\t\\tindent = settings.indent;\\n\\t\\tindentBefore = makeMap(settings.indent_before || '');\\n\\t\\tindentAfter = makeMap(settings.indent_after || '');\\n\\t\\tencode = Entities.getEncodeFunc(settings.entity_encoding || 'raw', settings.entities);\\n\\t\\thtmlOutput = settings.element_format == \\\"html\\\";\\n\\n\\t\\treturn {\\n\\t\\t\\t/**\\n\\t\\t\\t * Writes the a start element such as <p id=\\\"a\\\">.\\n\\t\\t\\t *\\n\\t\\t\\t * @method start\\n\\t\\t\\t * @param {String} name Name of the element.\\n\\t\\t\\t * @param {Array} attrs Optional attribute array or undefined if it hasn't any.\\n\\t\\t\\t * @param {Boolean} empty Optional empty state if the tag should end like <br />.\\n\\t\\t\\t */\\n\\t\\t\\tstart: function(name, attrs, empty) {\\n\\t\\t\\t\\tvar i, l, attr, value;\\n\\n\\t\\t\\t\\tif (indent && indentBefore[name] && html.length > 0) {\\n\\t\\t\\t\\t\\tvalue = html[html.length - 1];\\n\\n\\t\\t\\t\\t\\tif (value.length > 0 && value !== '\\\\n') {\\n\\t\\t\\t\\t\\t\\thtml.push('\\\\n');\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\thtml.push('<', name);\\n\\n\\t\\t\\t\\tif (attrs) {\\n\\t\\t\\t\\t\\tfor (i = 0, l = attrs.length; i < l; i++) {\\n\\t\\t\\t\\t\\t\\tattr = attrs[i];\\n\\t\\t\\t\\t\\t\\thtml.push(' ', attr.name, '=\\\"', encode(attr.value, true), '\\\"');\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (!empty || htmlOutput) {\\n\\t\\t\\t\\t\\thtml[html.length] = '>';\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\thtml[html.length] = ' />';\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (empty && indent && indentAfter[name] && html.length > 0) {\\n\\t\\t\\t\\t\\tvalue = html[html.length - 1];\\n\\n\\t\\t\\t\\t\\tif (value.length > 0 && value !== '\\\\n') {\\n\\t\\t\\t\\t\\t\\thtml.push('\\\\n');\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t},\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Writes the a end element such as </p>.\\n\\t\\t\\t *\\n\\t\\t\\t * @method end\\n\\t\\t\\t * @param {String} name Name of the element.\\n\\t\\t\\t */\\n\\t\\t\\tend: function(name) {\\n\\t\\t\\t\\tvar value;\\n\\n\\t\\t\\t\\t/*if (indent && indentBefore[name] && html.length > 0) {\\n\\t\\t\\t\\t\\tvalue = html[html.length - 1];\\n\\n\\t\\t\\t\\t\\tif (value.length > 0 && value !== '\\\\n')\\n\\t\\t\\t\\t\\t\\thtml.push('\\\\n');\\n\\t\\t\\t\\t}*/\\n\\n\\t\\t\\t\\thtml.push('</', name, '>');\\n\\n\\t\\t\\t\\tif (indent && indentAfter[name] && html.length > 0) {\\n\\t\\t\\t\\t\\tvalue = html[html.length - 1];\\n\\n\\t\\t\\t\\t\\tif (value.length > 0 && value !== '\\\\n') {\\n\\t\\t\\t\\t\\t\\thtml.push('\\\\n');\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t},\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Writes a text node.\\n\\t\\t\\t *\\n\\t\\t\\t * @method text\\n\\t\\t\\t * @param {String} text String to write out.\\n\\t\\t\\t * @param {Boolean} raw Optional raw state if true the contents wont get encoded.\\n\\t\\t\\t */\\n\\t\\t\\ttext: function(text, raw) {\\n\\t\\t\\t\\tif (text.length > 0) {\\n\\t\\t\\t\\t\\thtml[html.length] = raw ? text : encode(text);\\n\\t\\t\\t\\t}\\n\\t\\t\\t},\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Writes a cdata node such as <![CDATA[data]]>.\\n\\t\\t\\t *\\n\\t\\t\\t * @method cdata\\n\\t\\t\\t * @param {String} text String to write out inside the cdata.\\n\\t\\t\\t */\\n\\t\\t\\tcdata: function(text) {\\n\\t\\t\\t\\thtml.push('<![CDATA[', text, ']]>');\\n\\t\\t\\t},\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Writes a comment node such as <!-- Comment -->.\\n\\t\\t\\t *\\n\\t\\t\\t * @method cdata\\n\\t\\t\\t * @param {String} text String to write out inside the comment.\\n\\t\\t\\t */\\n\\t\\t\\tcomment: function(text) {\\n\\t\\t\\t\\thtml.push('<!--', text, '-->');\\n\\t\\t\\t},\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Writes a PI node such as <?xml attr=\\\"value\\\" ?>.\\n\\t\\t\\t *\\n\\t\\t\\t * @method pi\\n\\t\\t\\t * @param {String} name Name of the pi.\\n\\t\\t\\t * @param {String} text String to write out inside the pi.\\n\\t\\t\\t */\\n\\t\\t\\tpi: function(name, text) {\\n\\t\\t\\t\\tif (text) {\\n\\t\\t\\t\\t\\thtml.push('<?', name, ' ', encode(text), '?>');\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\thtml.push('<?', name, '?>');\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (indent) {\\n\\t\\t\\t\\t\\thtml.push('\\\\n');\\n\\t\\t\\t\\t}\\n\\t\\t\\t},\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Writes a doctype node such as <!DOCTYPE data>.\\n\\t\\t\\t *\\n\\t\\t\\t * @method doctype\\n\\t\\t\\t * @param {String} text String to write out inside the doctype.\\n\\t\\t\\t */\\n\\t\\t\\tdoctype: function(text) {\\n\\t\\t\\t\\thtml.push('<!DOCTYPE', text, '>', indent ? '\\\\n' : '');\\n\\t\\t\\t},\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Resets the internal buffer if one wants to reuse the writer.\\n\\t\\t\\t *\\n\\t\\t\\t * @method reset\\n\\t\\t\\t */\\n\\t\\t\\treset: function() {\\n\\t\\t\\t\\thtml.length = 0;\\n\\t\\t\\t},\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Returns the contents that got serialized.\\n\\t\\t\\t *\\n\\t\\t\\t * @method getContent\\n\\t\\t\\t * @return {String} HTML contents that got written down.\\n\\t\\t\\t */\\n\\t\\t\\tgetContent: function() {\\n\\t\\t\\t\\treturn html.join('').replace(/\\\\n$/, '');\\n\\t\\t\\t}\\n\\t\\t};\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/html/Serializer.js\\n\\n/**\\n * Serializer.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class is used to serialize down the DOM tree into a string using a Writer instance.\\n *\\n *\\n * @example\\n * new tinymce.html.Serializer().serialize(new tinymce.html.DomParser().parse('<p>text</p>'));\\n * @class tinymce.html.Serializer\\n * @version 3.4\\n */\\ndefine(\\\"tinymce/html/Serializer\\\", [\\n\\t\\\"tinymce/html/Writer\\\",\\n\\t\\\"tinymce/html/Schema\\\"\\n], function(Writer, Schema) {\\n\\t/**\\n\\t * Constructs a new Serializer instance.\\n\\t *\\n\\t * @constructor\\n\\t * @method Serializer\\n\\t * @param {Object} settings Name/value settings object.\\n\\t * @param {tinymce.html.Schema} schema Schema instance to use.\\n\\t */\\n\\treturn function(settings, schema) {\\n\\t\\tvar self = this, writer = new Writer(settings);\\n\\n\\t\\tsettings = settings || {};\\n\\t\\tsettings.validate = \\\"validate\\\" in settings ? settings.validate : true;\\n\\n\\t\\tself.schema = schema = schema || new Schema();\\n\\t\\tself.writer = writer;\\n\\n\\t\\t/**\\n\\t\\t * Serializes the specified node into a string.\\n\\t\\t *\\n\\t\\t * @example\\n\\t\\t * new tinymce.html.Serializer().serialize(new tinymce.html.DomParser().parse('<p>text</p>'));\\n\\t\\t * @method serialize\\n\\t\\t * @param {tinymce.html.Node} node Node instance to serialize.\\n\\t\\t * @return {String} String with HTML based on DOM tree.\\n\\t\\t */\\n\\t\\tself.serialize = function(node) {\\n\\t\\t\\tvar handlers, validate;\\n\\n\\t\\t\\tvalidate = settings.validate;\\n\\n\\t\\t\\thandlers = {\\n\\t\\t\\t\\t// #text\\n\\t\\t\\t\\t3: function(node) {\\n\\t\\t\\t\\t\\twriter.text(node.value, node.raw);\\n\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\t// #comment\\n\\t\\t\\t\\t8: function(node) {\\n\\t\\t\\t\\t\\twriter.comment(node.value);\\n\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\t// Processing instruction\\n\\t\\t\\t\\t7: function(node) {\\n\\t\\t\\t\\t\\twriter.pi(node.name, node.value);\\n\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\t// Doctype\\n\\t\\t\\t\\t10: function(node) {\\n\\t\\t\\t\\t\\twriter.doctype(node.value);\\n\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\t// CDATA\\n\\t\\t\\t\\t4: function(node) {\\n\\t\\t\\t\\t\\twriter.cdata(node.value);\\n\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\t// Document fragment\\n\\t\\t\\t\\t11: function(node) {\\n\\t\\t\\t\\t\\tif ((node = node.firstChild)) {\\n\\t\\t\\t\\t\\t\\tdo {\\n\\t\\t\\t\\t\\t\\t\\twalk(node);\\n\\t\\t\\t\\t\\t\\t} while ((node = node.next));\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t};\\n\\n\\t\\t\\twriter.reset();\\n\\n\\t\\t\\tfunction walk(node) {\\n\\t\\t\\t\\tvar handler = handlers[node.type], name, isEmpty, attrs, attrName, attrValue, sortedAttrs, i, l, elementRule;\\n\\n\\t\\t\\t\\tif (!handler) {\\n\\t\\t\\t\\t\\tname = node.name;\\n\\t\\t\\t\\t\\tisEmpty = node.shortEnded;\\n\\t\\t\\t\\t\\tattrs = node.attributes;\\n\\n\\t\\t\\t\\t\\t// Sort attributes\\n\\t\\t\\t\\t\\tif (validate && attrs && attrs.length > 1) {\\n\\t\\t\\t\\t\\t\\tsortedAttrs = [];\\n\\t\\t\\t\\t\\t\\tsortedAttrs.map = {};\\n\\n\\t\\t\\t\\t\\t\\telementRule = schema.getElementRule(node.name);\\n\\t\\t\\t\\t\\t\\tif (elementRule) {\\n\\t\\t\\t\\t\\t\\t\\tfor (i = 0, l = elementRule.attributesOrder.length; i < l; i++) {\\n\\t\\t\\t\\t\\t\\t\\t\\tattrName = elementRule.attributesOrder[i];\\n\\n\\t\\t\\t\\t\\t\\t\\t\\tif (attrName in attrs.map) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tattrValue = attrs.map[attrName];\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tsortedAttrs.map[attrName] = attrValue;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tsortedAttrs.push({name: attrName, value: attrValue});\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tfor (i = 0, l = attrs.length; i < l; i++) {\\n\\t\\t\\t\\t\\t\\t\\t\\tattrName = attrs[i].name;\\n\\n\\t\\t\\t\\t\\t\\t\\t\\tif (!(attrName in sortedAttrs.map)) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tattrValue = attrs.map[attrName];\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tsortedAttrs.map[attrName] = attrValue;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tsortedAttrs.push({name: attrName, value: attrValue});\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tattrs = sortedAttrs;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\twriter.start(node.name, attrs, isEmpty);\\n\\n\\t\\t\\t\\t\\tif (!isEmpty) {\\n\\t\\t\\t\\t\\t\\tif ((node = node.firstChild)) {\\n\\t\\t\\t\\t\\t\\t\\tdo {\\n\\t\\t\\t\\t\\t\\t\\t\\twalk(node);\\n\\t\\t\\t\\t\\t\\t\\t} while ((node = node.next));\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\twriter.end(name);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\thandler(node);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Serialize element and treat all non elements as fragments\\n\\t\\t\\tif (node.type == 1 && !settings.inner) {\\n\\t\\t\\t\\twalk(node);\\n\\t\\t\\t} else {\\n\\t\\t\\t\\thandlers[11](node);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn writer.getContent();\\n\\t\\t};\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/dom/Serializer.js\\n\\n/**\\n * Serializer.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class is used to serialize DOM trees into a string. Consult the TinyMCE Wiki API for\\n * more details and examples on how to use this class.\\n *\\n * @class tinymce.dom.Serializer\\n */\\ndefine(\\\"tinymce/dom/Serializer\\\", [\\n\\t\\\"tinymce/dom/DOMUtils\\\",\\n\\t\\\"tinymce/html/DomParser\\\",\\n\\t\\\"tinymce/html/SaxParser\\\",\\n\\t\\\"tinymce/html/Entities\\\",\\n\\t\\\"tinymce/html/Serializer\\\",\\n\\t\\\"tinymce/html/Node\\\",\\n\\t\\\"tinymce/html/Schema\\\",\\n\\t\\\"tinymce/Env\\\",\\n\\t\\\"tinymce/util/Tools\\\",\\n\\t\\\"tinymce/text/Zwsp\\\"\\n], function(DOMUtils, DomParser, SaxParser, Entities, Serializer, Node, Schema, Env, Tools, Zwsp) {\\n\\tvar each = Tools.each, trim = Tools.trim;\\n\\tvar DOM = DOMUtils.DOM;\\n\\n\\t/**\\n\\t * IE 11 has a fantastic bug where it will produce two trailing BR elements to iframe bodies when\\n\\t * the iframe is hidden by display: none on a parent container. The DOM is actually out of sync\\n\\t * with innerHTML in this case. It's like IE adds shadow DOM BR elements that appears on innerHTML\\n\\t * but not as the lastChild of the body. So this fix simply removes the last two\\n\\t * BR elements at the end of the document.\\n\\t *\\n\\t * Example of what happens: <body>text</body> becomes <body>text<br><br></body>\\n\\t */\\n\\tfunction trimTrailingBr(rootNode) {\\n\\t\\tvar brNode1, brNode2;\\n\\n\\t\\tfunction isBr(node) {\\n\\t\\t\\treturn node && node.name === 'br';\\n\\t\\t}\\n\\n\\t\\tbrNode1 = rootNode.lastChild;\\n\\t\\tif (isBr(brNode1)) {\\n\\t\\t\\tbrNode2 = brNode1.prev;\\n\\n\\t\\t\\tif (isBr(brNode2)) {\\n\\t\\t\\t\\tbrNode1.remove();\\n\\t\\t\\t\\tbrNode2.remove();\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t/**\\n\\t * Constructs a new DOM serializer class.\\n\\t *\\n\\t * @constructor\\n\\t * @method Serializer\\n\\t * @param {Object} settings Serializer settings object.\\n\\t * @param {tinymce.Editor} editor Optional editor to bind events to and get schema/dom from.\\n\\t */\\n\\treturn function(settings, editor) {\\n\\t\\tvar dom, schema, htmlParser, tempAttrs = [\\\"data-mce-selected\\\"];\\n\\n\\t\\tif (editor) {\\n\\t\\t\\tdom = editor.dom;\\n\\t\\t\\tschema = editor.schema;\\n\\t\\t}\\n\\n\\t\\tfunction trimHtml(html) {\\n\\t\\t\\tvar trimContentRegExp = new RegExp([\\n\\t\\t\\t\\t'<span[^>]+data-mce-bogus[^>]+>[\\\\u200B\\\\uFEFF]+<\\\\\\\\/span>', // Trim bogus spans like caret containers\\n\\t\\t\\t\\t'\\\\\\\\s?(' + tempAttrs.join('|') + ')=\\\"[^\\\"]+\\\"' // Trim temporaty data-mce prefixed attributes like data-mce-selected\\n\\t\\t\\t].join('|'), 'gi');\\n\\n\\t\\t\\thtml = Zwsp.trim(html.replace(trimContentRegExp, ''));\\n\\n\\t\\t\\treturn html;\\n\\t\\t}\\n\\n\\t\\tfunction trimContent(html) {\\n\\t\\t\\tvar content = html;\\n\\t\\t\\tvar bogusAllRegExp = /<(\\\\w+) [^>]*data-mce-bogus=\\\"all\\\"[^>]*>/g;\\n\\t\\t\\tvar endTagIndex, index, matchLength, matches, shortEndedElements, schema = editor.schema;\\n\\n\\t\\t\\tcontent = trimHtml(content);\\n\\t\\t\\tshortEndedElements = schema.getShortEndedElements();\\n\\n\\t\\t\\t// Remove all bogus elements marked with \\\"all\\\"\\n\\t\\t\\twhile ((matches = bogusAllRegExp.exec(content))) {\\n\\t\\t\\t\\tindex = bogusAllRegExp.lastIndex;\\n\\t\\t\\t\\tmatchLength = matches[0].length;\\n\\n\\t\\t\\t\\tif (shortEndedElements[matches[1]]) {\\n\\t\\t\\t\\t\\tendTagIndex = index;\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tendTagIndex = SaxParser.findEndTag(schema, content, index);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tcontent = content.substring(0, index - matchLength) + content.substring(endTagIndex);\\n\\t\\t\\t\\tbogusAllRegExp.lastIndex = index - matchLength;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn content;\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Returns a trimmed version of the editor contents to be used for the undo level. This\\n\\t\\t * will remove any data-mce-bogus=\\\"all\\\" marked elements since these are used for UI it will also\\n\\t\\t * remove the data-mce-selected attributes used for selection of objects and caret containers.\\n\\t\\t * It will keep all data-mce-bogus=\\\"1\\\" elements since these can be used to place the caret etc and will\\n\\t\\t * be removed by the serialization logic when you save.\\n\\t\\t *\\n\\t\\t * @private\\n\\t\\t * @return {String} HTML contents of the editor excluding some internal bogus elements.\\n\\t\\t */\\n\\t\\tfunction getTrimmedContent() {\\n\\t\\t\\treturn trimContent(editor.getBody().innerHTML);\\n\\t\\t}\\n\\n\\t\\tfunction addTempAttr(name) {\\n\\t\\t\\tif (Tools.inArray(tempAttrs, name) === -1) {\\n\\t\\t\\t\\thtmlParser.addAttributeFilter(name, function(nodes, name) {\\n\\t\\t\\t\\t\\tvar i = nodes.length;\\n\\n\\t\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\t\\tnodes[i].attr(name, null);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\ttempAttrs.push(name);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t// Default DOM and Schema if they are undefined\\n\\t\\tdom = dom || DOM;\\n\\t\\tschema = schema || new Schema(settings);\\n\\t\\tsettings.entity_encoding = settings.entity_encoding || 'named';\\n\\t\\tsettings.remove_trailing_brs = \\\"remove_trailing_brs\\\" in settings ? settings.remove_trailing_brs : true;\\n\\n\\t\\thtmlParser = new DomParser(settings, schema);\\n\\n\\t\\t// Convert tabindex back to elements when serializing contents\\n\\t\\thtmlParser.addAttributeFilter('data-mce-tabindex', function(nodes, name) {\\n\\t\\t\\tvar i = nodes.length, node;\\n\\n\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\tnode = nodes[i];\\n\\t\\t\\t\\tnode.attr('tabindex', node.attributes.map['data-mce-tabindex']);\\n\\t\\t\\t\\tnode.attr(name, null);\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\t// Convert move data-mce-src, data-mce-href and data-mce-style into nodes or process them if needed\\n\\t\\thtmlParser.addAttributeFilter('src,href,style', function(nodes, name) {\\n\\t\\t\\tvar i = nodes.length, node, value, internalName = 'data-mce-' + name;\\n\\t\\t\\tvar urlConverter = settings.url_converter, urlConverterScope = settings.url_converter_scope, undef;\\n\\n\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\tnode = nodes[i];\\n\\n\\t\\t\\t\\tvalue = node.attributes.map[internalName];\\n\\t\\t\\t\\tif (value !== undef) {\\n\\t\\t\\t\\t\\t// Set external name to internal value and remove internal\\n\\t\\t\\t\\t\\tnode.attr(name, value.length > 0 ? value : null);\\n\\t\\t\\t\\t\\tnode.attr(internalName, null);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t// No internal attribute found then convert the value we have in the DOM\\n\\t\\t\\t\\t\\tvalue = node.attributes.map[name];\\n\\n\\t\\t\\t\\t\\tif (name === \\\"style\\\") {\\n\\t\\t\\t\\t\\t\\tvalue = dom.serializeStyle(dom.parseStyle(value), node.name);\\n\\t\\t\\t\\t\\t} else if (urlConverter) {\\n\\t\\t\\t\\t\\t\\tvalue = urlConverter.call(urlConverterScope, value, name, node.name);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tnode.attr(name, value.length > 0 ? value : null);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\t// Remove internal classes mceItem<..> or mceSelected\\n\\t\\thtmlParser.addAttributeFilter('class', function(nodes) {\\n\\t\\t\\tvar i = nodes.length, node, value;\\n\\n\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\tnode = nodes[i];\\n\\t\\t\\t\\tvalue = node.attr('class');\\n\\n\\t\\t\\t\\tif (value) {\\n\\t\\t\\t\\t\\tvalue = node.attr('class').replace(/(?:^|\\\\s)mce-item-\\\\w+(?!\\\\S)/g, '');\\n\\t\\t\\t\\t\\tnode.attr('class', value.length > 0 ? value : null);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\t// Remove bookmark elements\\n\\t\\thtmlParser.addAttributeFilter('data-mce-type', function(nodes, name, args) {\\n\\t\\t\\tvar i = nodes.length, node;\\n\\n\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\tnode = nodes[i];\\n\\n\\t\\t\\t\\tif (node.attributes.map['data-mce-type'] === 'bookmark' && !args.cleanup) {\\n\\t\\t\\t\\t\\tnode.remove();\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\thtmlParser.addNodeFilter('noscript', function(nodes) {\\n\\t\\t\\tvar i = nodes.length, node;\\n\\n\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\tnode = nodes[i].firstChild;\\n\\n\\t\\t\\t\\tif (node) {\\n\\t\\t\\t\\t\\tnode.value = Entities.decode(node.value);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\t// Force script into CDATA sections and remove the mce- prefix also add comments around styles\\n\\t\\thtmlParser.addNodeFilter('script,style', function(nodes, name) {\\n\\t\\t\\tvar i = nodes.length, node, value, type;\\n\\n\\t\\t\\tfunction trim(value) {\\n\\t\\t\\t\\t/*jshint maxlen:255 */\\n\\t\\t\\t\\t/*eslint max-len:0 */\\n\\t\\t\\t\\treturn value.replace(/(<!--\\\\[CDATA\\\\[|\\\\]\\\\]-->)/g, '\\\\n')\\n\\t\\t\\t\\t\\t\\t.replace(/^[\\\\r\\\\n]*|[\\\\r\\\\n]*$/g, '')\\n\\t\\t\\t\\t\\t\\t.replace(/^\\\\s*((<!--)?(\\\\s*\\\\/\\\\/)?\\\\s*<!\\\\[CDATA\\\\[|(<!--\\\\s*)?\\\\/\\\\*\\\\s*<!\\\\[CDATA\\\\[\\\\s*\\\\*\\\\/|(\\\\/\\\\/)?\\\\s*<!--|\\\\/\\\\*\\\\s*<!--\\\\s*\\\\*\\\\/)\\\\s*[\\\\r\\\\n]*/gi, '')\\n\\t\\t\\t\\t\\t\\t.replace(/\\\\s*(\\\\/\\\\*\\\\s*\\\\]\\\\]>\\\\s*\\\\*\\\\/(-->)?|\\\\s*\\\\/\\\\/\\\\s*\\\\]\\\\]>(-->)?|\\\\/\\\\/\\\\s*(-->)?|\\\\]\\\\]>|\\\\/\\\\*\\\\s*-->\\\\s*\\\\*\\\\/|\\\\s*-->\\\\s*)\\\\s*$/g, '');\\n\\t\\t\\t}\\n\\n\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\tnode = nodes[i];\\n\\t\\t\\t\\tvalue = node.firstChild ? node.firstChild.value : '';\\n\\n\\t\\t\\t\\tif (name === \\\"script\\\") {\\n\\t\\t\\t\\t\\t// Remove mce- prefix from script elements and remove default type since the user specified\\n\\t\\t\\t\\t\\t// a script element without type attribute\\n\\t\\t\\t\\t\\ttype = node.attr('type');\\n\\t\\t\\t\\t\\tif (type) {\\n\\t\\t\\t\\t\\t\\tnode.attr('type', type == 'mce-no/type' ? null : type.replace(/^mce\\\\-/, ''));\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (value.length > 0) {\\n\\t\\t\\t\\t\\t\\tnode.firstChild.value = '// <![CDATA[\\\\n' + trim(value) + '\\\\n// ]]>';\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tif (value.length > 0) {\\n\\t\\t\\t\\t\\t\\tnode.firstChild.value = '<!--\\\\n' + trim(value) + '\\\\n-->';\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\t// Convert comments to cdata and handle protected comments\\n\\t\\thtmlParser.addNodeFilter('#comment', function(nodes) {\\n\\t\\t\\tvar i = nodes.length, node;\\n\\n\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\tnode = nodes[i];\\n\\n\\t\\t\\t\\tif (node.value.indexOf('[CDATA[') === 0) {\\n\\t\\t\\t\\t\\tnode.name = '#cdata';\\n\\t\\t\\t\\t\\tnode.type = 4;\\n\\t\\t\\t\\t\\tnode.value = node.value.replace(/^\\\\[CDATA\\\\[|\\\\]\\\\]$/g, '');\\n\\t\\t\\t\\t} else if (node.value.indexOf('mce:protected ') === 0) {\\n\\t\\t\\t\\t\\tnode.name = \\\"#text\\\";\\n\\t\\t\\t\\t\\tnode.type = 3;\\n\\t\\t\\t\\t\\tnode.raw = true;\\n\\t\\t\\t\\t\\tnode.value = unescape(node.value).substr(14);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\thtmlParser.addNodeFilter('xml:namespace,input', function(nodes, name) {\\n\\t\\t\\tvar i = nodes.length, node;\\n\\n\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\tnode = nodes[i];\\n\\t\\t\\t\\tif (node.type === 7) {\\n\\t\\t\\t\\t\\tnode.remove();\\n\\t\\t\\t\\t} else if (node.type === 1) {\\n\\t\\t\\t\\t\\tif (name === \\\"input\\\" && !(\\\"type\\\" in node.attributes.map)) {\\n\\t\\t\\t\\t\\t\\tnode.attr('type', 'text');\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\t// Remove internal data attributes\\n\\t\\thtmlParser.addAttributeFilter(\\n\\t\\t\\t'data-mce-src,data-mce-href,data-mce-style,' +\\n\\t\\t\\t'data-mce-selected,data-mce-expando,' +\\n\\t\\t\\t'data-mce-type,data-mce-resize',\\n\\n\\t\\t\\tfunction(nodes, name) {\\n\\t\\t\\t\\tvar i = nodes.length;\\n\\n\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\tnodes[i].attr(name, null);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t);\\n\\n\\t\\t// Return public methods\\n\\t\\treturn {\\n\\t\\t\\t/**\\n\\t\\t\\t * Schema instance that was used to when the Serializer was constructed.\\n\\t\\t\\t *\\n\\t\\t\\t * @field {tinymce.html.Schema} schema\\n\\t\\t\\t */\\n\\t\\t\\tschema: schema,\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Adds a node filter function to the parser used by the serializer, the parser will collect the specified nodes by name\\n\\t\\t\\t * and then execute the callback ones it has finished parsing the document.\\n\\t\\t\\t *\\n\\t\\t\\t * @example\\n\\t\\t\\t * parser.addNodeFilter('p,h1', function(nodes, name) {\\n\\t\\t\\t *\\t\\tfor (var i = 0; i < nodes.length; i++) {\\n\\t\\t\\t *\\t\\t\\tconsole.log(nodes[i].name);\\n\\t\\t\\t *\\t\\t}\\n\\t\\t\\t * });\\n\\t\\t\\t * @method addNodeFilter\\n\\t\\t\\t * @method {String} name Comma separated list of nodes to collect.\\n\\t\\t\\t * @param {function} callback Callback function to execute once it has collected nodes.\\n\\t\\t\\t */\\n\\t\\t\\taddNodeFilter: htmlParser.addNodeFilter,\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Adds a attribute filter function to the parser used by the serializer, the parser will\\n\\t\\t\\t * collect nodes that has the specified attributes\\n\\t\\t\\t * and then execute the callback ones it has finished parsing the document.\\n\\t\\t\\t *\\n\\t\\t\\t * @example\\n\\t\\t\\t * parser.addAttributeFilter('src,href', function(nodes, name) {\\n\\t\\t\\t *\\t\\tfor (var i = 0; i < nodes.length; i++) {\\n\\t\\t\\t *\\t\\t\\tconsole.log(nodes[i].name);\\n\\t\\t\\t *\\t\\t}\\n\\t\\t\\t * });\\n\\t\\t\\t * @method addAttributeFilter\\n\\t\\t\\t * @method {String} name Comma separated list of nodes to collect.\\n\\t\\t\\t * @param {function} callback Callback function to execute once it has collected nodes.\\n\\t\\t\\t */\\n\\t\\t\\taddAttributeFilter: htmlParser.addAttributeFilter,\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Serializes the specified browser DOM node into a HTML string.\\n\\t\\t\\t *\\n\\t\\t\\t * @method serialize\\n\\t\\t\\t * @param {DOMNode} node DOM node to serialize.\\n\\t\\t\\t * @param {Object} args Arguments option that gets passed to event handlers.\\n\\t\\t\\t */\\n\\t\\t\\tserialize: function(node, args) {\\n\\t\\t\\t\\tvar self = this, impl, doc, oldDoc, htmlSerializer, content, rootNode;\\n\\n\\t\\t\\t\\t// Explorer won't clone contents of script and style and the\\n\\t\\t\\t\\t// selected index of select elements are cleared on a clone operation.\\n\\t\\t\\t\\tif (Env.ie && dom.select('script,style,select,map').length > 0) {\\n\\t\\t\\t\\t\\tcontent = node.innerHTML;\\n\\t\\t\\t\\t\\tnode = node.cloneNode(false);\\n\\t\\t\\t\\t\\tdom.setHTML(node, content);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tnode = node.cloneNode(true);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Nodes needs to be attached to something in WebKit/Opera\\n\\t\\t\\t\\t// This fix will make DOM ranges and make Sizzle happy!\\n\\t\\t\\t\\timpl = document.implementation;\\n\\t\\t\\t\\tif (impl.createHTMLDocument) {\\n\\t\\t\\t\\t\\t// Create an empty HTML document\\n\\t\\t\\t\\t\\tdoc = impl.createHTMLDocument(\\\"\\\");\\n\\n\\t\\t\\t\\t\\t// Add the element or it's children if it's a body element to the new document\\n\\t\\t\\t\\t\\teach(node.nodeName == 'BODY' ? node.childNodes : [node], function(node) {\\n\\t\\t\\t\\t\\t\\tdoc.body.appendChild(doc.importNode(node, true));\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\t// Grab first child or body element for serialization\\n\\t\\t\\t\\t\\tif (node.nodeName != 'BODY') {\\n\\t\\t\\t\\t\\t\\tnode = doc.body.firstChild;\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tnode = doc.body;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// set the new document in DOMUtils so createElement etc works\\n\\t\\t\\t\\t\\toldDoc = dom.doc;\\n\\t\\t\\t\\t\\tdom.doc = doc;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\targs = args || {};\\n\\t\\t\\t\\targs.format = args.format || 'html';\\n\\n\\t\\t\\t\\t// Don't wrap content if we want selected html\\n\\t\\t\\t\\tif (args.selection) {\\n\\t\\t\\t\\t\\targs.forced_root_block = '';\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Pre process\\n\\t\\t\\t\\tif (!args.no_events) {\\n\\t\\t\\t\\t\\targs.node = node;\\n\\t\\t\\t\\t\\tself.onPreProcess(args);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Parse HTML\\n\\t\\t\\t\\trootNode = htmlParser.parse(trim(args.getInner ? node.innerHTML : dom.getOuterHTML(node)), args);\\n\\t\\t\\t\\ttrimTrailingBr(rootNode);\\n\\n\\t\\t\\t\\t// Serialize HTML\\n\\t\\t\\t\\thtmlSerializer = new Serializer(settings, schema);\\n\\t\\t\\t\\targs.content = htmlSerializer.serialize(rootNode);\\n\\n\\t\\t\\t\\t// Replace all BOM characters for now until we can find a better solution\\n\\t\\t\\t\\tif (!args.cleanup) {\\n\\t\\t\\t\\t\\targs.content = Zwsp.trim(args.content);\\n\\t\\t\\t\\t\\targs.content = args.content.replace(/\\\\uFEFF/g, '');\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Post process\\n\\t\\t\\t\\tif (!args.no_events) {\\n\\t\\t\\t\\t\\tself.onPostProcess(args);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Restore the old document if it was changed\\n\\t\\t\\t\\tif (oldDoc) {\\n\\t\\t\\t\\t\\tdom.doc = oldDoc;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\targs.node = null;\\n\\n\\t\\t\\t\\treturn args.content;\\n\\t\\t\\t},\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Adds valid elements rules to the serializers schema instance this enables you to specify things\\n\\t\\t\\t * like what elements should be outputted and what attributes specific elements might have.\\n\\t\\t\\t * Consult the Wiki for more details on this format.\\n\\t\\t\\t *\\n\\t\\t\\t * @method addRules\\n\\t\\t\\t * @param {String} rules Valid elements rules string to add to schema.\\n\\t\\t\\t */\\n\\t\\t\\taddRules: function(rules) {\\n\\t\\t\\t\\tschema.addValidElements(rules);\\n\\t\\t\\t},\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Sets the valid elements rules to the serializers schema instance this enables you to specify things\\n\\t\\t\\t * like what elements should be outputted and what attributes specific elements might have.\\n\\t\\t\\t * Consult the Wiki for more details on this format.\\n\\t\\t\\t *\\n\\t\\t\\t * @method setRules\\n\\t\\t\\t * @param {String} rules Valid elements rules string.\\n\\t\\t\\t */\\n\\t\\t\\tsetRules: function(rules) {\\n\\t\\t\\t\\tschema.setValidElements(rules);\\n\\t\\t\\t},\\n\\n\\t\\t\\tonPreProcess: function(args) {\\n\\t\\t\\t\\tif (editor) {\\n\\t\\t\\t\\t\\teditor.fire('PreProcess', args);\\n\\t\\t\\t\\t}\\n\\t\\t\\t},\\n\\n\\t\\t\\tonPostProcess: function(args) {\\n\\t\\t\\t\\tif (editor) {\\n\\t\\t\\t\\t\\teditor.fire('PostProcess', args);\\n\\t\\t\\t\\t}\\n\\t\\t\\t},\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Adds a temporary internal attribute these attributes will get removed on undo and\\n\\t\\t\\t * when getting contents out of the editor.\\n\\t\\t\\t *\\n\\t\\t\\t * @method addTempAttr\\n\\t\\t\\t * @param {String} name string\\n\\t\\t\\t */\\n\\t\\t\\taddTempAttr: addTempAttr,\\n\\n\\t\\t\\t// Internal\\n\\t\\t\\ttrimHtml: trimHtml,\\n\\t\\t\\tgetTrimmedContent: getTrimmedContent,\\n\\t\\t\\ttrimContent: trimContent\\n\\t\\t};\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/dom/TridentSelection.js\\n\\n/**\\n * TridentSelection.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Selection class for old explorer versions. This one fakes the\\n * native selection object available on modern browsers.\\n *\\n * @private\\n * @class tinymce.dom.TridentSelection\\n */\\ndefine(\\\"tinymce/dom/TridentSelection\\\", [], function() {\\n\\tfunction Selection(selection) {\\n\\t\\tvar self = this, dom = selection.dom, FALSE = false;\\n\\n\\t\\tfunction getPosition(rng, start) {\\n\\t\\t\\tvar checkRng, startIndex = 0, endIndex, inside,\\n\\t\\t\\t\\tchildren, child, offset, index, position = -1, parent;\\n\\n\\t\\t\\t// Setup test range, collapse it and get the parent\\n\\t\\t\\tcheckRng = rng.duplicate();\\n\\t\\t\\tcheckRng.collapse(start);\\n\\t\\t\\tparent = checkRng.parentElement();\\n\\n\\t\\t\\t// Check if the selection is within the right document\\n\\t\\t\\tif (parent.ownerDocument !== selection.dom.doc) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// IE will report non editable elements as it's parent so look for an editable one\\n\\t\\t\\twhile (parent.contentEditable === \\\"false\\\") {\\n\\t\\t\\t\\tparent = parent.parentNode;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// If parent doesn't have any children then return that we are inside the element\\n\\t\\t\\tif (!parent.hasChildNodes()) {\\n\\t\\t\\t\\treturn {node: parent, inside: 1};\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Setup node list and endIndex\\n\\t\\t\\tchildren = parent.children;\\n\\t\\t\\tendIndex = children.length - 1;\\n\\n\\t\\t\\t// Perform a binary search for the position\\n\\t\\t\\twhile (startIndex <= endIndex) {\\n\\t\\t\\t\\tindex = Math.floor((startIndex + endIndex) / 2);\\n\\n\\t\\t\\t\\t// Move selection to node and compare the ranges\\n\\t\\t\\t\\tchild = children[index];\\n\\t\\t\\t\\tcheckRng.moveToElementText(child);\\n\\t\\t\\t\\tposition = checkRng.compareEndPoints(start ? 'StartToStart' : 'EndToEnd', rng);\\n\\n\\t\\t\\t\\t// Before/after or an exact match\\n\\t\\t\\t\\tif (position > 0) {\\n\\t\\t\\t\\t\\tendIndex = index - 1;\\n\\t\\t\\t\\t} else if (position < 0) {\\n\\t\\t\\t\\t\\tstartIndex = index + 1;\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\treturn {node: child};\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Check if child position is before or we didn't find a position\\n\\t\\t\\tif (position < 0) {\\n\\t\\t\\t\\t// No element child was found use the parent element and the offset inside that\\n\\t\\t\\t\\tif (!child) {\\n\\t\\t\\t\\t\\tcheckRng.moveToElementText(parent);\\n\\t\\t\\t\\t\\tcheckRng.collapse(true);\\n\\t\\t\\t\\t\\tchild = parent;\\n\\t\\t\\t\\t\\tinside = true;\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tcheckRng.collapse(false);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Walk character by character in text node until we hit the selected range endpoint,\\n\\t\\t\\t\\t// hit the end of document or parent isn't the right one\\n\\t\\t\\t\\t// We need to walk char by char since rng.text or rng.htmlText will trim line endings\\n\\t\\t\\t\\toffset = 0;\\n\\t\\t\\t\\twhile (checkRng.compareEndPoints(start ? 'StartToStart' : 'StartToEnd', rng) !== 0) {\\n\\t\\t\\t\\t\\tif (checkRng.move('character', 1) === 0 || parent != checkRng.parentElement()) {\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\toffset++;\\n\\t\\t\\t\\t}\\n\\t\\t\\t} else {\\n\\t\\t\\t\\t// Child position is after the selection endpoint\\n\\t\\t\\t\\tcheckRng.collapse(true);\\n\\n\\t\\t\\t\\t// Walk character by character in text node until we hit the selected range endpoint, hit\\n\\t\\t\\t\\t// the end of document or parent isn't the right one\\n\\t\\t\\t\\toffset = 0;\\n\\t\\t\\t\\twhile (checkRng.compareEndPoints(start ? 'StartToStart' : 'StartToEnd', rng) !== 0) {\\n\\t\\t\\t\\t\\tif (checkRng.move('character', -1) === 0 || parent != checkRng.parentElement()) {\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\toffset++;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn {node: child, position: position, offset: offset, inside: inside};\\n\\t\\t}\\n\\n\\t\\t// Returns a W3C DOM compatible range object by using the IE Range API\\n\\t\\tfunction getRange() {\\n\\t\\t\\tvar ieRange = selection.getRng(), domRange = dom.createRng(), element, collapsed, tmpRange, element2, bookmark;\\n\\n\\t\\t\\t// If selection is outside the current document just return an empty range\\n\\t\\t\\telement = ieRange.item ? ieRange.item(0) : ieRange.parentElement();\\n\\t\\t\\tif (element.ownerDocument != dom.doc) {\\n\\t\\t\\t\\treturn domRange;\\n\\t\\t\\t}\\n\\n\\t\\t\\tcollapsed = selection.isCollapsed();\\n\\n\\t\\t\\t// Handle control selection\\n\\t\\t\\tif (ieRange.item) {\\n\\t\\t\\t\\tdomRange.setStart(element.parentNode, dom.nodeIndex(element));\\n\\t\\t\\t\\tdomRange.setEnd(domRange.startContainer, domRange.startOffset + 1);\\n\\n\\t\\t\\t\\treturn domRange;\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction findEndPoint(start) {\\n\\t\\t\\t\\tvar endPoint = getPosition(ieRange, start), container, offset, textNodeOffset = 0, sibling, undef, nodeValue;\\n\\n\\t\\t\\t\\tcontainer = endPoint.node;\\n\\t\\t\\t\\toffset = endPoint.offset;\\n\\n\\t\\t\\t\\tif (endPoint.inside && !container.hasChildNodes()) {\\n\\t\\t\\t\\t\\tdomRange[start ? 'setStart' : 'setEnd'](container, 0);\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (offset === undef) {\\n\\t\\t\\t\\t\\tdomRange[start ? 'setStartBefore' : 'setEndAfter'](container);\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (endPoint.position < 0) {\\n\\t\\t\\t\\t\\tsibling = endPoint.inside ? container.firstChild : container.nextSibling;\\n\\n\\t\\t\\t\\t\\tif (!sibling) {\\n\\t\\t\\t\\t\\t\\tdomRange[start ? 'setStartAfter' : 'setEndAfter'](container);\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (!offset) {\\n\\t\\t\\t\\t\\t\\tif (sibling.nodeType == 3) {\\n\\t\\t\\t\\t\\t\\t\\tdomRange[start ? 'setStart' : 'setEnd'](sibling, 0);\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\tdomRange[start ? 'setStartBefore' : 'setEndBefore'](sibling);\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Find the text node and offset\\n\\t\\t\\t\\t\\twhile (sibling) {\\n\\t\\t\\t\\t\\t\\tif (sibling.nodeType == 3) {\\n\\t\\t\\t\\t\\t\\t\\tnodeValue = sibling.nodeValue;\\n\\t\\t\\t\\t\\t\\t\\ttextNodeOffset += nodeValue.length;\\n\\n\\t\\t\\t\\t\\t\\t\\t// We are at or passed the position we where looking for\\n\\t\\t\\t\\t\\t\\t\\tif (textNodeOffset >= offset) {\\n\\t\\t\\t\\t\\t\\t\\t\\tcontainer = sibling;\\n\\t\\t\\t\\t\\t\\t\\t\\ttextNodeOffset -= offset;\\n\\t\\t\\t\\t\\t\\t\\t\\ttextNodeOffset = nodeValue.length - textNodeOffset;\\n\\t\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tsibling = sibling.nextSibling;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t// Find the text node and offset\\n\\t\\t\\t\\t\\tsibling = container.previousSibling;\\n\\n\\t\\t\\t\\t\\tif (!sibling) {\\n\\t\\t\\t\\t\\t\\treturn domRange[start ? 'setStartBefore' : 'setEndBefore'](container);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// If there isn't any text to loop then use the first position\\n\\t\\t\\t\\t\\tif (!offset) {\\n\\t\\t\\t\\t\\t\\tif (container.nodeType == 3) {\\n\\t\\t\\t\\t\\t\\t\\tdomRange[start ? 'setStart' : 'setEnd'](sibling, container.nodeValue.length);\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\tdomRange[start ? 'setStartAfter' : 'setEndAfter'](sibling);\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\twhile (sibling) {\\n\\t\\t\\t\\t\\t\\tif (sibling.nodeType == 3) {\\n\\t\\t\\t\\t\\t\\t\\ttextNodeOffset += sibling.nodeValue.length;\\n\\n\\t\\t\\t\\t\\t\\t\\t// We are at or passed the position we where looking for\\n\\t\\t\\t\\t\\t\\t\\tif (textNodeOffset >= offset) {\\n\\t\\t\\t\\t\\t\\t\\t\\tcontainer = sibling;\\n\\t\\t\\t\\t\\t\\t\\t\\ttextNodeOffset -= offset;\\n\\t\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tsibling = sibling.previousSibling;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tdomRange[start ? 'setStart' : 'setEnd'](container, textNodeOffset);\\n\\t\\t\\t}\\n\\n\\t\\t\\ttry {\\n\\t\\t\\t\\t// Find start point\\n\\t\\t\\t\\tfindEndPoint(true);\\n\\n\\t\\t\\t\\t// Find end point if needed\\n\\t\\t\\t\\tif (!collapsed) {\\n\\t\\t\\t\\t\\tfindEndPoint();\\n\\t\\t\\t\\t}\\n\\t\\t\\t} catch (ex) {\\n\\t\\t\\t\\t// IE has a nasty bug where text nodes might throw \\\"invalid argument\\\" when you\\n\\t\\t\\t\\t// access the nodeValue or other properties of text nodes. This seems to happen when\\n\\t\\t\\t\\t// text nodes are split into two nodes by a delete/backspace call.\\n\\t\\t\\t\\t// So let us detect and try to fix it.\\n\\t\\t\\t\\tif (ex.number == -2147024809) {\\n\\t\\t\\t\\t\\t// Get the current selection\\n\\t\\t\\t\\t\\tbookmark = self.getBookmark(2);\\n\\n\\t\\t\\t\\t\\t// Get start element\\n\\t\\t\\t\\t\\ttmpRange = ieRange.duplicate();\\n\\t\\t\\t\\t\\ttmpRange.collapse(true);\\n\\t\\t\\t\\t\\telement = tmpRange.parentElement();\\n\\n\\t\\t\\t\\t\\t// Get end element\\n\\t\\t\\t\\t\\tif (!collapsed) {\\n\\t\\t\\t\\t\\t\\ttmpRange = ieRange.duplicate();\\n\\t\\t\\t\\t\\t\\ttmpRange.collapse(false);\\n\\t\\t\\t\\t\\t\\telement2 = tmpRange.parentElement();\\n\\t\\t\\t\\t\\t\\telement2.innerHTML = element2.innerHTML;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Remove the broken elements\\n\\t\\t\\t\\t\\telement.innerHTML = element.innerHTML;\\n\\n\\t\\t\\t\\t\\t// Restore the selection\\n\\t\\t\\t\\t\\tself.moveToBookmark(bookmark);\\n\\n\\t\\t\\t\\t\\t// Since the range has moved we need to re-get it\\n\\t\\t\\t\\t\\tieRange = selection.getRng();\\n\\n\\t\\t\\t\\t\\t// Find start point\\n\\t\\t\\t\\t\\tfindEndPoint(true);\\n\\n\\t\\t\\t\\t\\t// Find end point if needed\\n\\t\\t\\t\\t\\tif (!collapsed) {\\n\\t\\t\\t\\t\\t\\tfindEndPoint();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tthrow ex; // Throw other errors\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn domRange;\\n\\t\\t}\\n\\n\\t\\tthis.getBookmark = function(type) {\\n\\t\\t\\tvar rng = selection.getRng(), bookmark = {};\\n\\n\\t\\t\\tfunction getIndexes(node) {\\n\\t\\t\\t\\tvar parent, root, children, i, indexes = [];\\n\\n\\t\\t\\t\\tparent = node.parentNode;\\n\\t\\t\\t\\troot = dom.getRoot().parentNode;\\n\\n\\t\\t\\t\\twhile (parent != root && parent.nodeType !== 9) {\\n\\t\\t\\t\\t\\tchildren = parent.children;\\n\\n\\t\\t\\t\\t\\ti = children.length;\\n\\t\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\t\\tif (node === children[i]) {\\n\\t\\t\\t\\t\\t\\t\\tindexes.push(i);\\n\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tnode = parent;\\n\\t\\t\\t\\t\\tparent = parent.parentNode;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn indexes;\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction getBookmarkEndPoint(start) {\\n\\t\\t\\t\\tvar position;\\n\\n\\t\\t\\t\\tposition = getPosition(rng, start);\\n\\t\\t\\t\\tif (position) {\\n\\t\\t\\t\\t\\treturn {\\n\\t\\t\\t\\t\\t\\tposition: position.position,\\n\\t\\t\\t\\t\\t\\toffset: position.offset,\\n\\t\\t\\t\\t\\t\\tindexes: getIndexes(position.node),\\n\\t\\t\\t\\t\\t\\tinside: position.inside\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Non ubstructive bookmark\\n\\t\\t\\tif (type === 2) {\\n\\t\\t\\t\\t// Handle text selection\\n\\t\\t\\t\\tif (!rng.item) {\\n\\t\\t\\t\\t\\tbookmark.start = getBookmarkEndPoint(true);\\n\\n\\t\\t\\t\\t\\tif (!selection.isCollapsed()) {\\n\\t\\t\\t\\t\\t\\tbookmark.end = getBookmarkEndPoint();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tbookmark.start = {ctrl: true, indexes: getIndexes(rng.item(0))};\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn bookmark;\\n\\t\\t};\\n\\n\\t\\tthis.moveToBookmark = function(bookmark) {\\n\\t\\t\\tvar rng, body = dom.doc.body;\\n\\n\\t\\t\\tfunction resolveIndexes(indexes) {\\n\\t\\t\\t\\tvar node, i, idx, children;\\n\\n\\t\\t\\t\\tnode = dom.getRoot();\\n\\t\\t\\t\\tfor (i = indexes.length - 1; i >= 0; i--) {\\n\\t\\t\\t\\t\\tchildren = node.children;\\n\\t\\t\\t\\t\\tidx = indexes[i];\\n\\n\\t\\t\\t\\t\\tif (idx <= children.length - 1) {\\n\\t\\t\\t\\t\\t\\tnode = children[idx];\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn node;\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction setBookmarkEndPoint(start) {\\n\\t\\t\\t\\tvar endPoint = bookmark[start ? 'start' : 'end'], moveLeft, moveRng, undef, offset;\\n\\n\\t\\t\\t\\tif (endPoint) {\\n\\t\\t\\t\\t\\tmoveLeft = endPoint.position > 0;\\n\\n\\t\\t\\t\\t\\tmoveRng = body.createTextRange();\\n\\t\\t\\t\\t\\tmoveRng.moveToElementText(resolveIndexes(endPoint.indexes));\\n\\n\\t\\t\\t\\t\\toffset = endPoint.offset;\\n\\t\\t\\t\\t\\tif (offset !== undef) {\\n\\t\\t\\t\\t\\t\\tmoveRng.collapse(endPoint.inside || moveLeft);\\n\\t\\t\\t\\t\\t\\tmoveRng.moveStart('character', moveLeft ? -offset : offset);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tmoveRng.collapse(start);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\trng.setEndPoint(start ? 'StartToStart' : 'EndToStart', moveRng);\\n\\n\\t\\t\\t\\t\\tif (start) {\\n\\t\\t\\t\\t\\t\\trng.collapse(true);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (bookmark.start) {\\n\\t\\t\\t\\tif (bookmark.start.ctrl) {\\n\\t\\t\\t\\t\\trng = body.createControlRange();\\n\\t\\t\\t\\t\\trng.addElement(resolveIndexes(bookmark.start.indexes));\\n\\t\\t\\t\\t\\trng.select();\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\trng = body.createTextRange();\\n\\t\\t\\t\\t\\tsetBookmarkEndPoint(true);\\n\\t\\t\\t\\t\\tsetBookmarkEndPoint();\\n\\t\\t\\t\\t\\trng.select();\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t};\\n\\n\\t\\tthis.addRange = function(rng) {\\n\\t\\t\\tvar ieRng, ctrlRng, startContainer, startOffset, endContainer, endOffset, sibling,\\n\\t\\t\\t\\tdoc = selection.dom.doc, body = doc.body, nativeRng, ctrlElm;\\n\\n\\t\\t\\tfunction setEndPoint(start) {\\n\\t\\t\\t\\tvar container, offset, marker, tmpRng, nodes;\\n\\n\\t\\t\\t\\tmarker = dom.create('a');\\n\\t\\t\\t\\tcontainer = start ? startContainer : endContainer;\\n\\t\\t\\t\\toffset = start ? startOffset : endOffset;\\n\\t\\t\\t\\ttmpRng = ieRng.duplicate();\\n\\n\\t\\t\\t\\tif (container == doc || container == doc.documentElement) {\\n\\t\\t\\t\\t\\tcontainer = body;\\n\\t\\t\\t\\t\\toffset = 0;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (container.nodeType == 3) {\\n\\t\\t\\t\\t\\tcontainer.parentNode.insertBefore(marker, container);\\n\\t\\t\\t\\t\\ttmpRng.moveToElementText(marker);\\n\\t\\t\\t\\t\\ttmpRng.moveStart('character', offset);\\n\\t\\t\\t\\t\\tdom.remove(marker);\\n\\t\\t\\t\\t\\tieRng.setEndPoint(start ? 'StartToStart' : 'EndToEnd', tmpRng);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tnodes = container.childNodes;\\n\\n\\t\\t\\t\\t\\tif (nodes.length) {\\n\\t\\t\\t\\t\\t\\tif (offset >= nodes.length) {\\n\\t\\t\\t\\t\\t\\t\\tdom.insertAfter(marker, nodes[nodes.length - 1]);\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\tcontainer.insertBefore(marker, nodes[offset]);\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\ttmpRng.moveToElementText(marker);\\n\\t\\t\\t\\t\\t} else if (container.canHaveHTML) {\\n\\t\\t\\t\\t\\t\\t// Empty node selection for example <div>|</div>\\n\\t\\t\\t\\t\\t\\t// Setting innerHTML with a span marker then remove that marker seems to keep empty block elements open\\n\\t\\t\\t\\t\\t\\tcontainer.innerHTML = '<span>&#xFEFF;</span>';\\n\\t\\t\\t\\t\\t\\tmarker = container.firstChild;\\n\\t\\t\\t\\t\\t\\ttmpRng.moveToElementText(marker);\\n\\t\\t\\t\\t\\t\\ttmpRng.collapse(FALSE); // Collapse false works better than true for some odd reason\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tieRng.setEndPoint(start ? 'StartToStart' : 'EndToEnd', tmpRng);\\n\\t\\t\\t\\t\\tdom.remove(marker);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Setup some shorter versions\\n\\t\\t\\tstartContainer = rng.startContainer;\\n\\t\\t\\tstartOffset = rng.startOffset;\\n\\t\\t\\tendContainer = rng.endContainer;\\n\\t\\t\\tendOffset = rng.endOffset;\\n\\t\\t\\tieRng = body.createTextRange();\\n\\n\\t\\t\\t// If single element selection then try making a control selection out of it\\n\\t\\t\\tif (startContainer == endContainer && startContainer.nodeType == 1) {\\n\\t\\t\\t\\t// Trick to place the caret inside an empty block element like <p></p>\\n\\t\\t\\t\\tif (startOffset == endOffset && !startContainer.hasChildNodes()) {\\n\\t\\t\\t\\t\\tif (startContainer.canHaveHTML) {\\n\\t\\t\\t\\t\\t\\t// Check if previous sibling is an empty block if it is then we need to render it\\n\\t\\t\\t\\t\\t\\t// IE would otherwise move the caret into the sibling instead of the empty startContainer see: #5236\\n\\t\\t\\t\\t\\t\\t// Example this: <p></p><p>|</p> would become this: <p>|</p><p></p>\\n\\t\\t\\t\\t\\t\\tsibling = startContainer.previousSibling;\\n\\t\\t\\t\\t\\t\\tif (sibling && !sibling.hasChildNodes() && dom.isBlock(sibling)) {\\n\\t\\t\\t\\t\\t\\t\\tsibling.innerHTML = '&#xFEFF;';\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\tsibling = null;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tstartContainer.innerHTML = '<span>&#xFEFF;</span><span>&#xFEFF;</span>';\\n\\t\\t\\t\\t\\t\\tieRng.moveToElementText(startContainer.lastChild);\\n\\t\\t\\t\\t\\t\\tieRng.select();\\n\\t\\t\\t\\t\\t\\tdom.doc.selection.clear();\\n\\t\\t\\t\\t\\t\\tstartContainer.innerHTML = '';\\n\\n\\t\\t\\t\\t\\t\\tif (sibling) {\\n\\t\\t\\t\\t\\t\\t\\tsibling.innerHTML = '';\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tstartOffset = dom.nodeIndex(startContainer);\\n\\t\\t\\t\\t\\tstartContainer = startContainer.parentNode;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (startOffset == endOffset - 1) {\\n\\t\\t\\t\\t\\ttry {\\n\\t\\t\\t\\t\\t\\tctrlElm = startContainer.childNodes[startOffset];\\n\\t\\t\\t\\t\\t\\tctrlRng = body.createControlRange();\\n\\t\\t\\t\\t\\t\\tctrlRng.addElement(ctrlElm);\\n\\t\\t\\t\\t\\t\\tctrlRng.select();\\n\\n\\t\\t\\t\\t\\t\\t// Check if the range produced is on the correct element and is a control range\\n\\t\\t\\t\\t\\t\\t// On IE 8 it will select the parent contentEditable container if you select an inner element see: #5398\\n\\t\\t\\t\\t\\t\\tnativeRng = selection.getRng();\\n\\t\\t\\t\\t\\t\\tif (nativeRng.item && ctrlElm === nativeRng.item(0)) {\\n\\t\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t} catch (ex) {\\n\\t\\t\\t\\t\\t\\t// Ignore\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Set start/end point of selection\\n\\t\\t\\tsetEndPoint(true);\\n\\t\\t\\tsetEndPoint();\\n\\n\\t\\t\\t// Select the new range and scroll it into view\\n\\t\\t\\tieRng.select();\\n\\t\\t};\\n\\n\\t\\t// Expose range method\\n\\t\\tthis.getRangeAt = getRange;\\n\\t}\\n\\n\\treturn Selection;\\n});\\n\\n// Included from: js/tinymce/classes/util/VK.js\\n\\n/**\\n * VK.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This file exposes a set of the common KeyCodes for use. Please grow it as needed.\\n */\\ndefine(\\\"tinymce/util/VK\\\", [\\n\\t\\\"tinymce/Env\\\"\\n], function(Env) {\\n\\treturn {\\n\\t\\tBACKSPACE: 8,\\n\\t\\tDELETE: 46,\\n\\t\\tDOWN: 40,\\n\\t\\tENTER: 13,\\n\\t\\tLEFT: 37,\\n\\t\\tRIGHT: 39,\\n\\t\\tSPACEBAR: 32,\\n\\t\\tTAB: 9,\\n\\t\\tUP: 38,\\n\\n\\t\\tmodifierPressed: function(e) {\\n\\t\\t\\treturn e.shiftKey || e.ctrlKey || e.altKey || this.metaKeyPressed(e);\\n\\t\\t},\\n\\n\\t\\tmetaKeyPressed: function(e) {\\n\\t\\t\\t// Check if ctrl or meta key is pressed. Edge case for AltGr on Windows where it produces ctrlKey+altKey states\\n\\t\\t\\treturn (Env.mac ? e.metaKey : e.ctrlKey && !e.altKey);\\n\\t\\t}\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/dom/ControlSelection.js\\n\\n/**\\n * ControlSelection.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class handles control selection of elements. Controls are elements\\n * that can be resized and needs to be selected as a whole. It adds custom resize handles\\n * to all browser engines that support properly disabling the built in resize logic.\\n *\\n * @class tinymce.dom.ControlSelection\\n */\\ndefine(\\\"tinymce/dom/ControlSelection\\\", [\\n\\t\\\"tinymce/util/VK\\\",\\n\\t\\\"tinymce/util/Tools\\\",\\n\\t\\\"tinymce/util/Delay\\\",\\n\\t\\\"tinymce/Env\\\",\\n\\t\\\"tinymce/dom/NodeType\\\"\\n], function(VK, Tools, Delay, Env, NodeType) {\\n\\tvar isContentEditableFalse = NodeType.isContentEditableFalse;\\n\\tvar isContentEditableTrue = NodeType.isContentEditableTrue;\\n\\n\\tfunction getContentEditableRoot(root, node) {\\n\\t\\twhile (node && node != root) {\\n\\t\\t\\tif (isContentEditableTrue(node) || isContentEditableFalse(node)) {\\n\\t\\t\\t\\treturn node;\\n\\t\\t\\t}\\n\\n\\t\\t\\tnode = node.parentNode;\\n\\t\\t}\\n\\n\\t\\treturn null;\\n\\t}\\n\\n\\treturn function(selection, editor) {\\n\\t\\tvar dom = editor.dom, each = Tools.each;\\n\\t\\tvar selectedElm, selectedElmGhost, resizeHelper, resizeHandles, selectedHandle, lastMouseDownEvent;\\n\\t\\tvar startX, startY, selectedElmX, selectedElmY, startW, startH, ratio, resizeStarted;\\n\\t\\tvar width, height, editableDoc = editor.getDoc(), rootDocument = document, isIE = Env.ie && Env.ie < 11;\\n\\t\\tvar abs = Math.abs, round = Math.round, rootElement = editor.getBody(), startScrollWidth, startScrollHeight;\\n\\n\\t\\t// Details about each resize handle how to scale etc\\n\\t\\tresizeHandles = {\\n\\t\\t\\t// Name: x multiplier, y multiplier, delta size x, delta size y\\n\\t\\t\\t/*n: [0.5, 0, 0, -1],\\n\\t\\t\\te: [1, 0.5, 1, 0],\\n\\t\\t\\ts: [0.5, 1, 0, 1],\\n\\t\\t\\tw: [0, 0.5, -1, 0],*/\\n\\t\\t\\tnw: [0, 0, -1, -1],\\n\\t\\t\\tne: [1, 0, 1, -1],\\n\\t\\t\\tse: [1, 1, 1, 1],\\n\\t\\t\\tsw: [0, 1, -1, 1]\\n\\t\\t};\\n\\n\\t\\t// Add CSS for resize handles, cloned element and selected\\n\\t\\tvar rootClass = '.mce-content-body';\\n\\t\\teditor.contentStyles.push(\\n\\t\\t\\trootClass + ' div.mce-resizehandle {' +\\n\\t\\t\\t\\t'position: absolute;' +\\n\\t\\t\\t\\t'border: 1px solid black;' +\\n\\t\\t\\t\\t'box-sizing: box-sizing;' +\\n\\t\\t\\t\\t'background: #FFF;' +\\n\\t\\t\\t\\t'width: 7px;' +\\n\\t\\t\\t\\t'height: 7px;' +\\n\\t\\t\\t\\t'z-index: 10000' +\\n\\t\\t\\t'}' +\\n\\t\\t\\trootClass + ' .mce-resizehandle:hover {' +\\n\\t\\t\\t\\t'background: #000' +\\n\\t\\t\\t'}' +\\n\\t\\t\\trootClass + ' img[data-mce-selected],' + rootClass + ' hr[data-mce-selected] {' +\\n\\t\\t\\t\\t'outline: 1px solid black;' +\\n\\t\\t\\t\\t'resize: none' + // Have been talks about implementing this in browsers\\n\\t\\t\\t'}' +\\n\\t\\t\\trootClass + ' .mce-clonedresizable {' +\\n\\t\\t\\t\\t'position: absolute;' +\\n\\t\\t\\t\\t(Env.gecko ? '' : 'outline: 1px dashed black;') + // Gecko produces trails while resizing\\n\\t\\t\\t\\t'opacity: .5;' +\\n\\t\\t\\t\\t'filter: alpha(opacity=50);' +\\n\\t\\t\\t\\t'z-index: 10000' +\\n\\t\\t\\t'}' +\\n\\t\\t\\trootClass + ' .mce-resize-helper {' +\\n\\t\\t\\t\\t'background: #555;' +\\n\\t\\t\\t\\t'background: rgba(0,0,0,0.75);' +\\n\\t\\t\\t\\t'border-radius: 3px;' +\\n\\t\\t\\t\\t'border: 1px;' +\\n\\t\\t\\t\\t'color: white;' +\\n\\t\\t\\t\\t'display: none;' +\\n\\t\\t\\t\\t'font-family: sans-serif;' +\\n\\t\\t\\t\\t'font-size: 12px;' +\\n\\t\\t\\t\\t'white-space: nowrap;' +\\n\\t\\t\\t\\t'line-height: 14px;' +\\n\\t\\t\\t\\t'margin: 5px 10px;' +\\n\\t\\t\\t\\t'padding: 5px;' +\\n\\t\\t\\t\\t'position: absolute;' +\\n\\t\\t\\t\\t'z-index: 10001' +\\n\\t\\t\\t'}'\\n\\t\\t);\\n\\n\\t\\tfunction isResizable(elm) {\\n\\t\\t\\tvar selector = editor.settings.object_resizing;\\n\\n\\t\\t\\tif (selector === false || Env.iOS) {\\n\\t\\t\\t\\treturn false;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (typeof selector != 'string') {\\n\\t\\t\\t\\tselector = 'table,img,div';\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (elm.getAttribute('data-mce-resize') === 'false') {\\n\\t\\t\\t\\treturn false;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (elm == editor.getBody()) {\\n\\t\\t\\t\\treturn false;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn editor.dom.is(elm, selector);\\n\\t\\t}\\n\\n\\t\\tfunction resizeGhostElement(e) {\\n\\t\\t\\tvar deltaX, deltaY, proportional;\\n\\t\\t\\tvar resizeHelperX, resizeHelperY;\\n\\n\\t\\t\\t// Calc new width/height\\n\\t\\t\\tdeltaX = e.screenX - startX;\\n\\t\\t\\tdeltaY = e.screenY - startY;\\n\\n\\t\\t\\t// Calc new size\\n\\t\\t\\twidth = deltaX * selectedHandle[2] + startW;\\n\\t\\t\\theight = deltaY * selectedHandle[3] + startH;\\n\\n\\t\\t\\t// Never scale down lower than 5 pixels\\n\\t\\t\\twidth = width < 5 ? 5 : width;\\n\\t\\t\\theight = height < 5 ? 5 : height;\\n\\n\\t\\t\\tif (selectedElm.nodeName == \\\"IMG\\\" && editor.settings.resize_img_proportional !== false) {\\n\\t\\t\\t\\tproportional = !VK.modifierPressed(e);\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tproportional = VK.modifierPressed(e) || (selectedElm.nodeName == \\\"IMG\\\" && selectedHandle[2] * selectedHandle[3] !== 0);\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Constrain proportions\\n\\t\\t\\tif (proportional) {\\n\\t\\t\\t\\tif (abs(deltaX) > abs(deltaY)) {\\n\\t\\t\\t\\t\\theight = round(width * ratio);\\n\\t\\t\\t\\t\\twidth = round(height / ratio);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\twidth = round(height / ratio);\\n\\t\\t\\t\\t\\theight = round(width * ratio);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Update ghost size\\n\\t\\t\\tdom.setStyles(selectedElmGhost, {\\n\\t\\t\\t\\twidth: width,\\n\\t\\t\\t\\theight: height\\n\\t\\t\\t});\\n\\n\\t\\t\\t// Update resize helper position\\n\\t\\t\\tresizeHelperX = selectedHandle.startPos.x + deltaX;\\n\\t\\t\\tresizeHelperY = selectedHandle.startPos.y + deltaY;\\n\\t\\t\\tresizeHelperX = resizeHelperX > 0 ? resizeHelperX : 0;\\n\\t\\t\\tresizeHelperY = resizeHelperY > 0 ? resizeHelperY : 0;\\n\\n\\t\\t\\tdom.setStyles(resizeHelper, {\\n\\t\\t\\t\\tleft: resizeHelperX,\\n\\t\\t\\t\\ttop: resizeHelperY,\\n\\t\\t\\t\\tdisplay: 'block'\\n\\t\\t\\t});\\n\\n\\t\\t\\tresizeHelper.innerHTML = width + ' &times; ' + height;\\n\\n\\t\\t\\t// Update ghost X position if needed\\n\\t\\t\\tif (selectedHandle[2] < 0 && selectedElmGhost.clientWidth <= width) {\\n\\t\\t\\t\\tdom.setStyle(selectedElmGhost, 'left', selectedElmX + (startW - width));\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Update ghost Y position if needed\\n\\t\\t\\tif (selectedHandle[3] < 0 && selectedElmGhost.clientHeight <= height) {\\n\\t\\t\\t\\tdom.setStyle(selectedElmGhost, 'top', selectedElmY + (startH - height));\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Calculate how must overflow we got\\n\\t\\t\\tdeltaX = rootElement.scrollWidth - startScrollWidth;\\n\\t\\t\\tdeltaY = rootElement.scrollHeight - startScrollHeight;\\n\\n\\t\\t\\t// Re-position the resize helper based on the overflow\\n\\t\\t\\tif (deltaX + deltaY !== 0) {\\n\\t\\t\\t\\tdom.setStyles(resizeHelper, {\\n\\t\\t\\t\\t\\tleft: resizeHelperX - deltaX,\\n\\t\\t\\t\\t\\ttop: resizeHelperY - deltaY\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!resizeStarted) {\\n\\t\\t\\t\\teditor.fire('ObjectResizeStart', {target: selectedElm, width: startW, height: startH});\\n\\t\\t\\t\\tresizeStarted = true;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction endGhostResize() {\\n\\t\\t\\tresizeStarted = false;\\n\\n\\t\\t\\tfunction setSizeProp(name, value) {\\n\\t\\t\\t\\tif (value) {\\n\\t\\t\\t\\t\\t// Resize by using style or attribute\\n\\t\\t\\t\\t\\tif (selectedElm.style[name] || !editor.schema.isValid(selectedElm.nodeName.toLowerCase(), name)) {\\n\\t\\t\\t\\t\\t\\tdom.setStyle(selectedElm, name, value);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tdom.setAttrib(selectedElm, name, value);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Set width/height properties\\n\\t\\t\\tsetSizeProp('width', width);\\n\\t\\t\\tsetSizeProp('height', height);\\n\\n\\t\\t\\tdom.unbind(editableDoc, 'mousemove', resizeGhostElement);\\n\\t\\t\\tdom.unbind(editableDoc, 'mouseup', endGhostResize);\\n\\n\\t\\t\\tif (rootDocument != editableDoc) {\\n\\t\\t\\t\\tdom.unbind(rootDocument, 'mousemove', resizeGhostElement);\\n\\t\\t\\t\\tdom.unbind(rootDocument, 'mouseup', endGhostResize);\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Remove ghost/helper and update resize handle positions\\n\\t\\t\\tdom.remove(selectedElmGhost);\\n\\t\\t\\tdom.remove(resizeHelper);\\n\\n\\t\\t\\tif (!isIE || selectedElm.nodeName == \\\"TABLE\\\") {\\n\\t\\t\\t\\tshowResizeRect(selectedElm);\\n\\t\\t\\t}\\n\\n\\t\\t\\teditor.fire('ObjectResized', {target: selectedElm, width: width, height: height});\\n\\t\\t\\tdom.setAttrib(selectedElm, 'style', dom.getAttrib(selectedElm, 'style'));\\n\\t\\t\\teditor.nodeChanged();\\n\\t\\t}\\n\\n\\t\\tfunction showResizeRect(targetElm, mouseDownHandleName, mouseDownEvent) {\\n\\t\\t\\tvar position, targetWidth, targetHeight, e, rect;\\n\\n\\t\\t\\thideResizeRect();\\n\\t\\t\\tunbindResizeHandleEvents();\\n\\n\\t\\t\\t// Get position and size of target\\n\\t\\t\\tposition = dom.getPos(targetElm, rootElement);\\n\\t\\t\\tselectedElmX = position.x;\\n\\t\\t\\tselectedElmY = position.y;\\n\\t\\t\\trect = targetElm.getBoundingClientRect(); // Fix for Gecko offsetHeight for table with caption\\n\\t\\t\\ttargetWidth = rect.width || (rect.right - rect.left);\\n\\t\\t\\ttargetHeight = rect.height || (rect.bottom - rect.top);\\n\\n\\t\\t\\t// Reset width/height if user selects a new image/table\\n\\t\\t\\tif (selectedElm != targetElm) {\\n\\t\\t\\t\\tdetachResizeStartListener();\\n\\t\\t\\t\\tselectedElm = targetElm;\\n\\t\\t\\t\\twidth = height = 0;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Makes it possible to disable resizing\\n\\t\\t\\te = editor.fire('ObjectSelected', {target: targetElm});\\n\\n\\t\\t\\tif (isResizable(targetElm) && !e.isDefaultPrevented()) {\\n\\t\\t\\t\\teach(resizeHandles, function(handle, name) {\\n\\t\\t\\t\\t\\tvar handleElm;\\n\\n\\t\\t\\t\\t\\tfunction startDrag(e) {\\n\\t\\t\\t\\t\\t\\tstartX = e.screenX;\\n\\t\\t\\t\\t\\t\\tstartY = e.screenY;\\n\\t\\t\\t\\t\\t\\tstartW = selectedElm.clientWidth;\\n\\t\\t\\t\\t\\t\\tstartH = selectedElm.clientHeight;\\n\\t\\t\\t\\t\\t\\tratio = startH / startW;\\n\\t\\t\\t\\t\\t\\tselectedHandle = handle;\\n\\n\\t\\t\\t\\t\\t\\thandle.startPos = {\\n\\t\\t\\t\\t\\t\\t\\tx: targetWidth * handle[0] + selectedElmX,\\n\\t\\t\\t\\t\\t\\t\\ty: targetHeight * handle[1] + selectedElmY\\n\\t\\t\\t\\t\\t\\t};\\n\\n\\t\\t\\t\\t\\t\\tstartScrollWidth = rootElement.scrollWidth;\\n\\t\\t\\t\\t\\t\\tstartScrollHeight = rootElement.scrollHeight;\\n\\n\\t\\t\\t\\t\\t\\tselectedElmGhost = selectedElm.cloneNode(true);\\n\\t\\t\\t\\t\\t\\tdom.addClass(selectedElmGhost, 'mce-clonedresizable');\\n\\t\\t\\t\\t\\t\\tdom.setAttrib(selectedElmGhost, 'data-mce-bogus', 'all');\\n\\t\\t\\t\\t\\t\\tselectedElmGhost.contentEditable = false; // Hides IE move layer cursor\\n\\t\\t\\t\\t\\t\\tselectedElmGhost.unSelectabe = true;\\n\\t\\t\\t\\t\\t\\tdom.setStyles(selectedElmGhost, {\\n\\t\\t\\t\\t\\t\\t\\tleft: selectedElmX,\\n\\t\\t\\t\\t\\t\\t\\ttop: selectedElmY,\\n\\t\\t\\t\\t\\t\\t\\tmargin: 0\\n\\t\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\t\\tselectedElmGhost.removeAttribute('data-mce-selected');\\n\\t\\t\\t\\t\\t\\trootElement.appendChild(selectedElmGhost);\\n\\n\\t\\t\\t\\t\\t\\tdom.bind(editableDoc, 'mousemove', resizeGhostElement);\\n\\t\\t\\t\\t\\t\\tdom.bind(editableDoc, 'mouseup', endGhostResize);\\n\\n\\t\\t\\t\\t\\t\\tif (rootDocument != editableDoc) {\\n\\t\\t\\t\\t\\t\\t\\tdom.bind(rootDocument, 'mousemove', resizeGhostElement);\\n\\t\\t\\t\\t\\t\\t\\tdom.bind(rootDocument, 'mouseup', endGhostResize);\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tresizeHelper = dom.add(rootElement, 'div', {\\n\\t\\t\\t\\t\\t\\t\\t'class': 'mce-resize-helper',\\n\\t\\t\\t\\t\\t\\t\\t'data-mce-bogus': 'all'\\n\\t\\t\\t\\t\\t\\t}, startW + ' &times; ' + startH);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (mouseDownHandleName) {\\n\\t\\t\\t\\t\\t\\t// Drag started by IE native resizestart\\n\\t\\t\\t\\t\\t\\tif (name == mouseDownHandleName) {\\n\\t\\t\\t\\t\\t\\t\\tstartDrag(mouseDownEvent);\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Get existing or render resize handle\\n\\t\\t\\t\\t\\thandleElm = dom.get('mceResizeHandle' + name);\\n\\t\\t\\t\\t\\tif (handleElm) {\\n\\t\\t\\t\\t\\t\\tdom.remove(handleElm);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\thandleElm = dom.add(rootElement, 'div', {\\n\\t\\t\\t\\t\\t\\tid: 'mceResizeHandle' + name,\\n\\t\\t\\t\\t\\t\\t'data-mce-bogus': 'all',\\n\\t\\t\\t\\t\\t\\t'class': 'mce-resizehandle',\\n\\t\\t\\t\\t\\t\\tunselectable: true,\\n\\t\\t\\t\\t\\t\\tstyle: 'cursor:' + name + '-resize; margin:0; padding:0'\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\t// Hides IE move layer cursor\\n\\t\\t\\t\\t\\t// If we set it on Chrome we get this wounderful bug: #6725\\n\\t\\t\\t\\t\\tif (Env.ie) {\\n\\t\\t\\t\\t\\t\\thandleElm.contentEditable = false;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tdom.bind(handleElm, 'mousedown', function(e) {\\n\\t\\t\\t\\t\\t\\te.stopImmediatePropagation();\\n\\t\\t\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t\\t\\t\\tstartDrag(e);\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\thandle.elm = handleElm;\\n\\n\\t\\t\\t\\t\\t// Position element\\n\\t\\t\\t\\t\\tdom.setStyles(handleElm, {\\n\\t\\t\\t\\t\\t\\tleft: (targetWidth * handle[0] + selectedElmX) - (handleElm.offsetWidth / 2),\\n\\t\\t\\t\\t\\t\\ttop: (targetHeight * handle[1] + selectedElmY) - (handleElm.offsetHeight / 2)\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t});\\n\\t\\t\\t} else {\\n\\t\\t\\t\\thideResizeRect();\\n\\t\\t\\t}\\n\\n\\t\\t\\tselectedElm.setAttribute('data-mce-selected', '1');\\n\\t\\t}\\n\\n\\t\\tfunction hideResizeRect() {\\n\\t\\t\\tvar name, handleElm;\\n\\n\\t\\t\\tunbindResizeHandleEvents();\\n\\n\\t\\t\\tif (selectedElm) {\\n\\t\\t\\t\\tselectedElm.removeAttribute('data-mce-selected');\\n\\t\\t\\t}\\n\\n\\t\\t\\tfor (name in resizeHandles) {\\n\\t\\t\\t\\thandleElm = dom.get('mceResizeHandle' + name);\\n\\t\\t\\t\\tif (handleElm) {\\n\\t\\t\\t\\t\\tdom.unbind(handleElm);\\n\\t\\t\\t\\t\\tdom.remove(handleElm);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction updateResizeRect(e) {\\n\\t\\t\\tvar startElm, controlElm;\\n\\n\\t\\t\\tfunction isChildOrEqual(node, parent) {\\n\\t\\t\\t\\tif (node) {\\n\\t\\t\\t\\t\\tdo {\\n\\t\\t\\t\\t\\t\\tif (node === parent) {\\n\\t\\t\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t} while ((node = node.parentNode));\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Ignore all events while resizing or if the editor instance was removed\\n\\t\\t\\tif (resizeStarted || editor.removed) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Remove data-mce-selected from all elements since they might have been copied using Ctrl+c/v\\n\\t\\t\\teach(dom.select('img[data-mce-selected],hr[data-mce-selected]'), function(img) {\\n\\t\\t\\t\\timg.removeAttribute('data-mce-selected');\\n\\t\\t\\t});\\n\\n\\t\\t\\tcontrolElm = e.type == 'mousedown' ? e.target : selection.getNode();\\n\\t\\t\\tcontrolElm = dom.$(controlElm).closest(isIE ? 'table' : 'table,img,hr')[0];\\n\\n\\t\\t\\tif (isChildOrEqual(controlElm, rootElement)) {\\n\\t\\t\\t\\tdisableGeckoResize();\\n\\t\\t\\t\\tstartElm = selection.getStart(true);\\n\\n\\t\\t\\t\\tif (isChildOrEqual(startElm, controlElm) && isChildOrEqual(selection.getEnd(true), controlElm)) {\\n\\t\\t\\t\\t\\tif (!isIE || (controlElm != startElm && startElm.nodeName !== 'IMG')) {\\n\\t\\t\\t\\t\\t\\tshowResizeRect(controlElm);\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\thideResizeRect();\\n\\t\\t}\\n\\n\\t\\tfunction attachEvent(elm, name, func) {\\n\\t\\t\\tif (elm && elm.attachEvent) {\\n\\t\\t\\t\\telm.attachEvent('on' + name, func);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction detachEvent(elm, name, func) {\\n\\t\\t\\tif (elm && elm.detachEvent) {\\n\\t\\t\\t\\telm.detachEvent('on' + name, func);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction resizeNativeStart(e) {\\n\\t\\t\\tvar target = e.srcElement, pos, name, corner, cornerX, cornerY, relativeX, relativeY;\\n\\n\\t\\t\\tpos = target.getBoundingClientRect();\\n\\t\\t\\trelativeX = lastMouseDownEvent.clientX - pos.left;\\n\\t\\t\\trelativeY = lastMouseDownEvent.clientY - pos.top;\\n\\n\\t\\t\\t// Figure out what corner we are draging on\\n\\t\\t\\tfor (name in resizeHandles) {\\n\\t\\t\\t\\tcorner = resizeHandles[name];\\n\\n\\t\\t\\t\\tcornerX = target.offsetWidth * corner[0];\\n\\t\\t\\t\\tcornerY = target.offsetHeight * corner[1];\\n\\n\\t\\t\\t\\tif (abs(cornerX - relativeX) < 8 && abs(cornerY - relativeY) < 8) {\\n\\t\\t\\t\\t\\tselectedHandle = corner;\\n\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Remove native selection and let the magic begin\\n\\t\\t\\tresizeStarted = true;\\n\\t\\t\\teditor.fire('ObjectResizeStart', {\\n\\t\\t\\t\\ttarget: selectedElm,\\n\\t\\t\\t\\twidth: selectedElm.clientWidth,\\n\\t\\t\\t\\theight: selectedElm.clientHeight\\n\\t\\t\\t});\\n\\t\\t\\teditor.getDoc().selection.empty();\\n\\t\\t\\tshowResizeRect(target, name, lastMouseDownEvent);\\n\\t\\t}\\n\\n\\t\\tfunction preventDefault(e) {\\n\\t\\t\\tif (e.preventDefault) {\\n\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t} else {\\n\\t\\t\\t\\te.returnValue = false; // IE\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction isWithinContentEditableFalse(elm) {\\n\\t\\t\\treturn isContentEditableFalse(getContentEditableRoot(editor.getBody(), elm));\\n\\t\\t}\\n\\n\\t\\tfunction nativeControlSelect(e) {\\n\\t\\t\\tvar target = e.srcElement;\\n\\n\\t\\t\\tif (isWithinContentEditableFalse(target)) {\\n\\t\\t\\t\\tpreventDefault(e);\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (target != selectedElm) {\\n\\t\\t\\t\\teditor.fire('ObjectSelected', {target: target});\\n\\t\\t\\t\\tdetachResizeStartListener();\\n\\n\\t\\t\\t\\tif (target.id.indexOf('mceResizeHandle') === 0) {\\n\\t\\t\\t\\t\\te.returnValue = false;\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (target.nodeName == 'IMG' || target.nodeName == 'TABLE') {\\n\\t\\t\\t\\t\\thideResizeRect();\\n\\t\\t\\t\\t\\tselectedElm = target;\\n\\t\\t\\t\\t\\tattachEvent(target, 'resizestart', resizeNativeStart);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction detachResizeStartListener() {\\n\\t\\t\\tdetachEvent(selectedElm, 'resizestart', resizeNativeStart);\\n\\t\\t}\\n\\n\\t\\tfunction unbindResizeHandleEvents() {\\n\\t\\t\\tfor (var name in resizeHandles) {\\n\\t\\t\\t\\tvar handle = resizeHandles[name];\\n\\n\\t\\t\\t\\tif (handle.elm) {\\n\\t\\t\\t\\t\\tdom.unbind(handle.elm);\\n\\t\\t\\t\\t\\tdelete handle.elm;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction disableGeckoResize() {\\n\\t\\t\\ttry {\\n\\t\\t\\t\\t// Disable object resizing on Gecko\\n\\t\\t\\t\\teditor.getDoc().execCommand('enableObjectResizing', false, false);\\n\\t\\t\\t} catch (ex) {\\n\\t\\t\\t\\t// Ignore\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction controlSelect(elm) {\\n\\t\\t\\tvar ctrlRng;\\n\\n\\t\\t\\tif (!isIE) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tctrlRng = editableDoc.body.createControlRange();\\n\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tctrlRng.addElement(elm);\\n\\t\\t\\t\\tctrlRng.select();\\n\\t\\t\\t\\treturn true;\\n\\t\\t\\t} catch (ex) {\\n\\t\\t\\t\\t// Ignore since the element can't be control selected for example a P tag\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\teditor.on('init', function() {\\n\\t\\t\\tif (isIE) {\\n\\t\\t\\t\\t// Hide the resize rect on resize and reselect the image\\n\\t\\t\\t\\teditor.on('ObjectResized', function(e) {\\n\\t\\t\\t\\t\\tif (e.target.nodeName != 'TABLE') {\\n\\t\\t\\t\\t\\t\\thideResizeRect();\\n\\t\\t\\t\\t\\t\\tcontrolSelect(e.target);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\tattachEvent(rootElement, 'controlselect', nativeControlSelect);\\n\\n\\t\\t\\t\\teditor.on('mousedown', function(e) {\\n\\t\\t\\t\\t\\tlastMouseDownEvent = e;\\n\\t\\t\\t\\t});\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tdisableGeckoResize();\\n\\n\\t\\t\\t\\t// Sniff sniff, hard to feature detect this stuff\\n\\t\\t\\t\\tif (Env.ie >= 11) {\\n\\t\\t\\t\\t\\t// Needs to be mousedown for drag/drop to work on IE 11\\n\\t\\t\\t\\t\\t// Needs to be click on Edge to properly select images\\n\\t\\t\\t\\t\\teditor.on('mousedown click', function(e) {\\n\\t\\t\\t\\t\\t\\tvar target = e.target, nodeName = target.nodeName;\\n\\n\\t\\t\\t\\t\\t\\tif (!resizeStarted && /^(TABLE|IMG|HR)$/.test(nodeName) && !isWithinContentEditableFalse(target)) {\\n\\t\\t\\t\\t\\t\\t\\teditor.selection.select(target, nodeName == 'TABLE');\\n\\n\\t\\t\\t\\t\\t\\t\\t// Only fire once since nodeChange is expensive\\n\\t\\t\\t\\t\\t\\t\\tif (e.type == 'mousedown') {\\n\\t\\t\\t\\t\\t\\t\\t\\teditor.nodeChanged();\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\teditor.dom.bind(rootElement, 'mscontrolselect', function(e) {\\n\\t\\t\\t\\t\\t\\tfunction delayedSelect(node) {\\n\\t\\t\\t\\t\\t\\t\\tDelay.setEditorTimeout(editor, function() {\\n\\t\\t\\t\\t\\t\\t\\t\\teditor.selection.select(node);\\n\\t\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tif (isWithinContentEditableFalse(e.target)) {\\n\\t\\t\\t\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t\\t\\t\\t\\tdelayedSelect(e.target);\\n\\t\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tif (/^(TABLE|IMG|HR)$/.test(e.target.nodeName)) {\\n\\t\\t\\t\\t\\t\\t\\te.preventDefault();\\n\\n\\t\\t\\t\\t\\t\\t\\t// This moves the selection from being a control selection to a text like selection like in WebKit #6753\\n\\t\\t\\t\\t\\t\\t\\t// TODO: Fix this the day IE works like other browsers without this nasty native ugly control selections.\\n\\t\\t\\t\\t\\t\\t\\tif (e.target.tagName == 'IMG') {\\n\\t\\t\\t\\t\\t\\t\\t\\tdelayedSelect(e.target);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tvar throttledUpdateResizeRect = Delay.throttle(function(e) {\\n\\t\\t\\t\\tif (!editor.composing) {\\n\\t\\t\\t\\t\\tupdateResizeRect(e);\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\teditor.on('nodechange ResizeEditor ResizeWindow drop', throttledUpdateResizeRect);\\n\\n\\t\\t\\t// Update resize rect while typing in a table\\n\\t\\t\\teditor.on('keyup compositionend', function(e) {\\n\\t\\t\\t\\t// Don't update the resize rect while composing since it blows away the IME see: #2710\\n\\t\\t\\t\\tif (selectedElm && selectedElm.nodeName == \\\"TABLE\\\") {\\n\\t\\t\\t\\t\\tthrottledUpdateResizeRect(e);\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\teditor.on('hide blur', hideResizeRect);\\n\\n\\t\\t\\t// Hide rect on focusout since it would float on top of windows otherwise\\n\\t\\t\\t//editor.on('focusout', hideResizeRect);\\n\\t\\t});\\n\\n\\t\\teditor.on('remove', unbindResizeHandleEvents);\\n\\n\\t\\tfunction destroy() {\\n\\t\\t\\tselectedElm = selectedElmGhost = null;\\n\\n\\t\\t\\tif (isIE) {\\n\\t\\t\\t\\tdetachResizeStartListener();\\n\\t\\t\\t\\tdetachEvent(rootElement, 'controlselect', nativeControlSelect);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\treturn {\\n\\t\\t\\tisResizable: isResizable,\\n\\t\\t\\tshowResizeRect: showResizeRect,\\n\\t\\t\\thideResizeRect: hideResizeRect,\\n\\t\\t\\tupdateResizeRect: updateResizeRect,\\n\\t\\t\\tcontrolSelect: controlSelect,\\n\\t\\t\\tdestroy: destroy\\n\\t\\t};\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/util/Fun.js\\n\\n/**\\n * Fun.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Functional utility class.\\n *\\n * @private\\n * @class tinymce.util.Fun\\n */\\ndefine(\\\"tinymce/util/Fun\\\", [], function() {\\n\\tvar slice = [].slice;\\n\\n\\tfunction constant(value) {\\n\\t\\treturn function() {\\n\\t\\t\\treturn value;\\n\\t\\t};\\n\\t}\\n\\n\\tfunction negate(predicate) {\\n\\t\\treturn function(x) {\\n\\t\\t\\treturn !predicate(x);\\n\\t\\t};\\n\\t}\\n\\n\\tfunction compose(f, g) {\\n\\t\\treturn function(x) {\\n\\t\\t\\treturn f(g(x));\\n\\t\\t};\\n\\t}\\n\\n\\tfunction or() {\\n\\t\\tvar args = slice.call(arguments);\\n\\n\\t\\treturn function(x) {\\n\\t\\t\\tfor (var i = 0; i < args.length; i++) {\\n\\t\\t\\t\\tif (args[i](x)) {\\n\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn false;\\n\\t\\t};\\n\\t}\\n\\n\\tfunction and() {\\n\\t\\tvar args = slice.call(arguments);\\n\\n\\t\\treturn function(x) {\\n\\t\\t\\tfor (var i = 0; i < args.length; i++) {\\n\\t\\t\\t\\tif (!args[i](x)) {\\n\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn true;\\n\\t\\t};\\n\\t}\\n\\n\\tfunction curry(fn) {\\n\\t\\tvar args = slice.call(arguments);\\n\\n\\t\\tif (args.length - 1 >= fn.length) {\\n\\t\\t\\treturn fn.apply(this, args.slice(1));\\n\\t\\t}\\n\\n\\t\\treturn function() {\\n\\t\\t\\tvar tempArgs = args.concat([].slice.call(arguments));\\n\\t\\t\\treturn curry.apply(this, tempArgs);\\n\\t\\t};\\n\\t}\\n\\n\\tfunction noop() {\\n\\t}\\n\\n\\treturn {\\n\\t\\tconstant: constant,\\n\\t\\tnegate: negate,\\n\\t\\tand: and,\\n\\t\\tor: or,\\n\\t\\tcurry: curry,\\n\\t\\tcompose: compose,\\n\\t\\tnoop: noop\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/caret/CaretCandidate.js\\n\\n/**\\n * CaretCandidate.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This module contains logic for handling caret candidates. A caret candidate is\\n * for example text nodes, images, input elements, cE=false elements etc.\\n *\\n * @private\\n * @class tinymce.caret.CaretCandidate\\n */\\ndefine(\\\"tinymce/caret/CaretCandidate\\\", [\\n\\t\\\"tinymce/dom/NodeType\\\",\\n\\t\\\"tinymce/util/Arr\\\",\\n\\t\\\"tinymce/caret/CaretContainer\\\"\\n], function(NodeType, Arr, CaretContainer) {\\n\\tvar isContentEditableTrue = NodeType.isContentEditableTrue,\\n\\t\\tisContentEditableFalse = NodeType.isContentEditableFalse,\\n\\t\\tisBr = NodeType.isBr,\\n\\t\\tisText = NodeType.isText,\\n\\t\\tisInvalidTextElement = NodeType.matchNodeNames('script style textarea'),\\n\\t\\tisAtomicInline = NodeType.matchNodeNames('img input textarea hr iframe video audio object'),\\n\\t\\tisTable = NodeType.matchNodeNames('table'),\\n\\t\\tisCaretContainer = CaretContainer.isCaretContainer;\\n\\n\\tfunction isCaretCandidate(node) {\\n\\t\\tif (isCaretContainer(node)) {\\n\\t\\t\\treturn false;\\n\\t\\t}\\n\\n\\t\\tif (isText(node)) {\\n\\t\\t\\tif (isInvalidTextElement(node.parentNode)) {\\n\\t\\t\\t\\treturn false;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn true;\\n\\t\\t}\\n\\n\\t\\treturn isAtomicInline(node) || isBr(node) || isTable(node) || isContentEditableFalse(node);\\n\\t}\\n\\n\\tfunction isInEditable(node, rootNode) {\\n\\t\\tfor (node = node.parentNode; node && node != rootNode; node = node.parentNode) {\\n\\t\\t\\tif (isContentEditableFalse(node)) {\\n\\t\\t\\t\\treturn false;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (isContentEditableTrue(node)) {\\n\\t\\t\\t\\treturn true;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\treturn true;\\n\\t}\\n\\n\\tfunction isAtomicContentEditableFalse(node) {\\n\\t\\tif (!isContentEditableFalse(node)) {\\n\\t\\t\\treturn false;\\n\\t\\t}\\n\\n\\t\\treturn Arr.reduce(node.getElementsByTagName('*'), function(result, elm) {\\n\\t\\t\\treturn result || isContentEditableTrue(elm);\\n\\t\\t}, false) !== true;\\n\\t}\\n\\n\\tfunction isAtomic(node) {\\n\\t\\treturn isAtomicInline(node) || isAtomicContentEditableFalse(node);\\n\\t}\\n\\n\\tfunction isEditableCaretCandidate(node, rootNode) {\\n\\t\\treturn isCaretCandidate(node) && isInEditable(node, rootNode);\\n\\t}\\n\\n\\treturn {\\n\\t\\tisCaretCandidate: isCaretCandidate,\\n\\t\\tisInEditable: isInEditable,\\n\\t\\tisAtomic: isAtomic,\\n\\t\\tisEditableCaretCandidate: isEditableCaretCandidate\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/geom/ClientRect.js\\n\\n/**\\n * ClientRect.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Utility functions for working with client rects.\\n *\\n * @private\\n * @class tinymce.geom.ClientRect\\n */\\ndefine(\\\"tinymce/geom/ClientRect\\\", [], function() {\\n\\tvar round = Math.round;\\n\\n\\tfunction clone(rect) {\\n\\t\\tif (!rect) {\\n\\t\\t\\treturn {left: 0, top: 0, bottom: 0, right: 0, width: 0, height: 0};\\n\\t\\t}\\n\\n\\t\\treturn {\\n\\t\\t\\tleft: round(rect.left),\\n\\t\\t\\ttop: round(rect.top),\\n\\t\\t\\tbottom: round(rect.bottom),\\n\\t\\t\\tright: round(rect.right),\\n\\t\\t\\twidth: round(rect.width),\\n\\t\\t\\theight: round(rect.height)\\n\\t\\t};\\n\\t}\\n\\n\\tfunction collapse(clientRect, toStart) {\\n\\t\\tclientRect = clone(clientRect);\\n\\n\\t\\tif (toStart) {\\n\\t\\t\\tclientRect.right = clientRect.left;\\n\\t\\t} else {\\n\\t\\t\\tclientRect.left = clientRect.left + clientRect.width;\\n\\t\\t\\tclientRect.right = clientRect.left;\\n\\t\\t}\\n\\n\\t\\tclientRect.width = 0;\\n\\n\\t\\treturn clientRect;\\n\\t}\\n\\n\\tfunction isEqual(rect1, rect2) {\\n\\t\\treturn (\\n\\t\\t\\trect1.left === rect2.left &&\\n\\t\\t\\trect1.top === rect2.top &&\\n\\t\\t\\trect1.bottom === rect2.bottom &&\\n\\t\\t\\trect1.right === rect2.right\\n\\t\\t);\\n\\t}\\n\\n\\tfunction isValidOverflow(overflowY, clientRect1, clientRect2) {\\n\\t\\treturn overflowY >= 0 && overflowY <= Math.min(clientRect1.height, clientRect2.height) / 2;\\n\\n\\t}\\n\\n\\tfunction isAbove(clientRect1, clientRect2) {\\n\\t\\tif (clientRect1.bottom < clientRect2.top) {\\n\\t\\t\\treturn true;\\n\\t\\t}\\n\\n\\t\\tif (clientRect1.top > clientRect2.bottom) {\\n\\t\\t\\treturn false;\\n\\t\\t}\\n\\n\\t\\treturn isValidOverflow(clientRect2.top - clientRect1.bottom, clientRect1, clientRect2);\\n\\t}\\n\\n\\tfunction isBelow(clientRect1, clientRect2) {\\n\\t\\tif (clientRect1.top > clientRect2.bottom) {\\n\\t\\t\\treturn true;\\n\\t\\t}\\n\\n\\t\\tif (clientRect1.bottom < clientRect2.top) {\\n\\t\\t\\treturn false;\\n\\t\\t}\\n\\n\\t\\treturn isValidOverflow(clientRect2.bottom - clientRect1.top, clientRect1, clientRect2);\\n\\t}\\n\\n\\tfunction isLeft(clientRect1, clientRect2) {\\n\\t\\treturn clientRect1.left < clientRect2.left;\\n\\t}\\n\\n\\tfunction isRight(clientRect1, clientRect2) {\\n\\t\\treturn clientRect1.right > clientRect2.right;\\n\\t}\\n\\n\\tfunction compare(clientRect1, clientRect2) {\\n\\t\\tif (isAbove(clientRect1, clientRect2)) {\\n\\t\\t\\treturn -1;\\n\\t\\t}\\n\\n\\t\\tif (isBelow(clientRect1, clientRect2)) {\\n\\t\\t\\treturn 1;\\n\\t\\t}\\n\\n\\t\\tif (isLeft(clientRect1, clientRect2)) {\\n\\t\\t\\treturn -1;\\n\\t\\t}\\n\\n\\t\\tif (isRight(clientRect1, clientRect2)) {\\n\\t\\t\\treturn 1;\\n\\t\\t}\\n\\n\\t\\treturn 0;\\n\\t}\\n\\n\\tfunction containsXY(clientRect, clientX, clientY) {\\n\\t\\treturn (\\n\\t\\t\\tclientX >= clientRect.left &&\\n\\t\\t\\tclientX <= clientRect.right &&\\n\\t\\t\\tclientY >= clientRect.top &&\\n\\t\\t\\tclientY <= clientRect.bottom\\n\\t\\t);\\n\\t}\\n\\n\\treturn {\\n\\t\\tclone: clone,\\n\\t\\tcollapse: collapse,\\n\\t\\tisEqual: isEqual,\\n\\t\\tisAbove: isAbove,\\n\\t\\tisBelow: isBelow,\\n\\t\\tisLeft: isLeft,\\n\\t\\tisRight: isRight,\\n\\t\\tcompare: compare,\\n\\t\\tcontainsXY: containsXY\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/text/ExtendingChar.js\\n\\n/**\\n * ExtendingChar.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class contains logic for detecting extending characters.\\n *\\n * @private\\n * @class tinymce.text.ExtendingChar\\n * @example\\n * var isExtending = ExtendingChar.isExtendingChar('a');\\n */\\ndefine(\\\"tinymce/text/ExtendingChar\\\", [], function() {\\n\\t// Generated from: http://www.unicode.org/Public/UNIDATA/DerivedCoreProperties.txt\\n\\t// Only includes the characters in that fit into UCS-2 16 bit\\n\\tvar extendingChars = new RegExp(\\n\\t\\t\\\"[\\\\u0300-\\\\u036F\\\\u0483-\\\\u0487\\\\u0488-\\\\u0489\\\\u0591-\\\\u05BD\\\\u05BF\\\\u05C1-\\\\u05C2\\\\u05C4-\\\\u05C5\\\\u05C7\\\\u0610-\\\\u061A\\\" +\\n\\t\\t\\\"\\\\u064B-\\\\u065F\\\\u0670\\\\u06D6-\\\\u06DC\\\\u06DF-\\\\u06E4\\\\u06E7-\\\\u06E8\\\\u06EA-\\\\u06ED\\\\u0711\\\\u0730-\\\\u074A\\\\u07A6-\\\\u07B0\\\" +\\n\\t\\t\\\"\\\\u07EB-\\\\u07F3\\\\u0816-\\\\u0819\\\\u081B-\\\\u0823\\\\u0825-\\\\u0827\\\\u0829-\\\\u082D\\\\u0859-\\\\u085B\\\\u08E3-\\\\u0902\\\\u093A\\\\u093C\\\" +\\n\\t\\t\\\"\\\\u0941-\\\\u0948\\\\u094D\\\\u0951-\\\\u0957\\\\u0962-\\\\u0963\\\\u0981\\\\u09BC\\\\u09BE\\\\u09C1-\\\\u09C4\\\\u09CD\\\\u09D7\\\\u09E2-\\\\u09E3\\\" +\\n\\t\\t\\\"\\\\u0A01-\\\\u0A02\\\\u0A3C\\\\u0A41-\\\\u0A42\\\\u0A47-\\\\u0A48\\\\u0A4B-\\\\u0A4D\\\\u0A51\\\\u0A70-\\\\u0A71\\\\u0A75\\\\u0A81-\\\\u0A82\\\\u0ABC\\\" +\\n\\t\\t\\\"\\\\u0AC1-\\\\u0AC5\\\\u0AC7-\\\\u0AC8\\\\u0ACD\\\\u0AE2-\\\\u0AE3\\\\u0B01\\\\u0B3C\\\\u0B3E\\\\u0B3F\\\\u0B41-\\\\u0B44\\\\u0B4D\\\\u0B56\\\\u0B57\\\" +\\n\\t\\t\\\"\\\\u0B62-\\\\u0B63\\\\u0B82\\\\u0BBE\\\\u0BC0\\\\u0BCD\\\\u0BD7\\\\u0C00\\\\u0C3E-\\\\u0C40\\\\u0C46-\\\\u0C48\\\\u0C4A-\\\\u0C4D\\\\u0C55-\\\\u0C56\\\" +\\n\\t\\t\\\"\\\\u0C62-\\\\u0C63\\\\u0C81\\\\u0CBC\\\\u0CBF\\\\u0CC2\\\\u0CC6\\\\u0CCC-\\\\u0CCD\\\\u0CD5-\\\\u0CD6\\\\u0CE2-\\\\u0CE3\\\\u0D01\\\\u0D3E\\\\u0D41-\\\\u0D44\\\" +\\n\\t\\t\\\"\\\\u0D4D\\\\u0D57\\\\u0D62-\\\\u0D63\\\\u0DCA\\\\u0DCF\\\\u0DD2-\\\\u0DD4\\\\u0DD6\\\\u0DDF\\\\u0E31\\\\u0E34-\\\\u0E3A\\\\u0E47-\\\\u0E4E\\\\u0EB1\\\\u0EB4-\\\\u0EB9\\\" +\\n\\t\\t\\\"\\\\u0EBB-\\\\u0EBC\\\\u0EC8-\\\\u0ECD\\\\u0F18-\\\\u0F19\\\\u0F35\\\\u0F37\\\\u0F39\\\\u0F71-\\\\u0F7E\\\\u0F80-\\\\u0F84\\\\u0F86-\\\\u0F87\\\\u0F8D-\\\\u0F97\\\" +\\n\\t\\t\\\"\\\\u0F99-\\\\u0FBC\\\\u0FC6\\\\u102D-\\\\u1030\\\\u1032-\\\\u1037\\\\u1039-\\\\u103A\\\\u103D-\\\\u103E\\\\u1058-\\\\u1059\\\\u105E-\\\\u1060\\\\u1071-\\\\u1074\\\" +\\n\\t\\t\\\"\\\\u1082\\\\u1085-\\\\u1086\\\\u108D\\\\u109D\\\\u135D-\\\\u135F\\\\u1712-\\\\u1714\\\\u1732-\\\\u1734\\\\u1752-\\\\u1753\\\\u1772-\\\\u1773\\\\u17B4-\\\\u17B5\\\" +\\n\\t\\t\\\"\\\\u17B7-\\\\u17BD\\\\u17C6\\\\u17C9-\\\\u17D3\\\\u17DD\\\\u180B-\\\\u180D\\\\u18A9\\\\u1920-\\\\u1922\\\\u1927-\\\\u1928\\\\u1932\\\\u1939-\\\\u193B\\\\u1A17-\\\\u1A18\\\" +\\n\\t\\t\\\"\\\\u1A1B\\\\u1A56\\\\u1A58-\\\\u1A5E\\\\u1A60\\\\u1A62\\\\u1A65-\\\\u1A6C\\\\u1A73-\\\\u1A7C\\\\u1A7F\\\\u1AB0-\\\\u1ABD\\\\u1ABE\\\\u1B00-\\\\u1B03\\\\u1B34\\\" +\\n\\t\\t\\\"\\\\u1B36-\\\\u1B3A\\\\u1B3C\\\\u1B42\\\\u1B6B-\\\\u1B73\\\\u1B80-\\\\u1B81\\\\u1BA2-\\\\u1BA5\\\\u1BA8-\\\\u1BA9\\\\u1BAB-\\\\u1BAD\\\\u1BE6\\\\u1BE8-\\\\u1BE9\\\" +\\n\\t\\t\\\"\\\\u1BED\\\\u1BEF-\\\\u1BF1\\\\u1C2C-\\\\u1C33\\\\u1C36-\\\\u1C37\\\\u1CD0-\\\\u1CD2\\\\u1CD4-\\\\u1CE0\\\\u1CE2-\\\\u1CE8\\\\u1CED\\\\u1CF4\\\\u1CF8-\\\\u1CF9\\\" +\\n\\t\\t\\\"\\\\u1DC0-\\\\u1DF5\\\\u1DFC-\\\\u1DFF\\\\u200C-\\\\u200D\\\\u20D0-\\\\u20DC\\\\u20DD-\\\\u20E0\\\\u20E1\\\\u20E2-\\\\u20E4\\\\u20E5-\\\\u20F0\\\\u2CEF-\\\\u2CF1\\\" +\\n\\t\\t\\\"\\\\u2D7F\\\\u2DE0-\\\\u2DFF\\\\u302A-\\\\u302D\\\\u302E-\\\\u302F\\\\u3099-\\\\u309A\\\\uA66F\\\\uA670-\\\\uA672\\\\uA674-\\\\uA67D\\\\uA69E-\\\\uA69F\\\\uA6F0-\\\\uA6F1\\\" +\\n\\t\\t\\\"\\\\uA802\\\\uA806\\\\uA80B\\\\uA825-\\\\uA826\\\\uA8C4\\\\uA8E0-\\\\uA8F1\\\\uA926-\\\\uA92D\\\\uA947-\\\\uA951\\\\uA980-\\\\uA982\\\\uA9B3\\\\uA9B6-\\\\uA9B9\\\\uA9BC\\\" +\\n\\t\\t\\\"\\\\uA9E5\\\\uAA29-\\\\uAA2E\\\\uAA31-\\\\uAA32\\\\uAA35-\\\\uAA36\\\\uAA43\\\\uAA4C\\\\uAA7C\\\\uAAB0\\\\uAAB2-\\\\uAAB4\\\\uAAB7-\\\\uAAB8\\\\uAABE-\\\\uAABF\\\\uAAC1\\\" +\\n\\t\\t\\\"\\\\uAAEC-\\\\uAAED\\\\uAAF6\\\\uABE5\\\\uABE8\\\\uABED\\\\uFB1E\\\\uFE00-\\\\uFE0F\\\\uFE20-\\\\uFE2F\\\\uFF9E-\\\\uFF9F]\\\"\\n\\t);\\n\\n\\tfunction isExtendingChar(ch) {\\n\\t\\treturn typeof ch == \\\"string\\\" && ch.charCodeAt(0) >= 768 && extendingChars.test(ch);\\n\\t}\\n\\n\\treturn {\\n\\t\\tisExtendingChar: isExtendingChar\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/caret/CaretPosition.js\\n\\n/**\\n * CaretPosition.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This module contains logic for creating caret positions within a document a caretposition\\n * is similar to a DOMRange object but it doesn't have two endpoints and is also more lightweight\\n * since it's now updated live when the DOM changes.\\n *\\n * @private\\n * @class tinymce.caret.CaretPosition\\n * @example\\n * var caretPos1 = new CaretPosition(container, offset);\\n * var caretPos2 = CaretPosition.fromRangeStart(someRange);\\n */\\ndefine(\\\"tinymce/caret/CaretPosition\\\", [\\n\\t\\\"tinymce/util/Fun\\\",\\n\\t\\\"tinymce/dom/NodeType\\\",\\n\\t\\\"tinymce/dom/DOMUtils\\\",\\n\\t\\\"tinymce/dom/RangeUtils\\\",\\n\\t\\\"tinymce/caret/CaretCandidate\\\",\\n\\t\\\"tinymce/geom/ClientRect\\\",\\n\\t\\\"tinymce/text/ExtendingChar\\\"\\n], function(Fun, NodeType, DOMUtils, RangeUtils, CaretCandidate, ClientRect, ExtendingChar) {\\n\\tvar isElement = NodeType.isElement,\\n\\t\\tisCaretCandidate = CaretCandidate.isCaretCandidate,\\n\\t\\tisBlock = NodeType.matchStyleValues('display', 'block table'),\\n\\t\\tisFloated = NodeType.matchStyleValues('float', 'left right'),\\n\\t\\tisValidElementCaretCandidate = Fun.and(isElement, isCaretCandidate, Fun.negate(isFloated)),\\n\\t\\tisNotPre = Fun.negate(NodeType.matchStyleValues('white-space', 'pre pre-line pre-wrap')),\\n\\t\\tisText = NodeType.isText,\\n\\t\\tisBr = NodeType.isBr,\\n\\t\\tnodeIndex = DOMUtils.nodeIndex,\\n\\t\\tresolveIndex = RangeUtils.getNode;\\n\\n\\tfunction createRange(doc) {\\n\\t\\treturn \\\"createRange\\\" in doc ? doc.createRange() : DOMUtils.DOM.createRng();\\n\\t}\\n\\n\\tfunction isWhiteSpace(chr) {\\n\\t\\treturn chr && /[\\\\r\\\\n\\\\t ]/.test(chr);\\n\\t}\\n\\n\\tfunction isHiddenWhiteSpaceRange(range) {\\n\\t\\tvar container = range.startContainer,\\n\\t\\t\\toffset = range.startOffset,\\n\\t\\t\\ttext;\\n\\n\\t\\tif (isWhiteSpace(range.toString()) && isNotPre(container.parentNode)) {\\n\\t\\t\\ttext = container.data;\\n\\n\\t\\t\\tif (isWhiteSpace(text[offset - 1]) || isWhiteSpace(text[offset + 1])) {\\n\\t\\t\\t\\treturn true;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\treturn false;\\n\\t}\\n\\n\\tfunction getCaretPositionClientRects(caretPosition) {\\n\\t\\tvar clientRects = [], beforeNode, node;\\n\\n\\t\\t// Hack for older WebKit versions that doesn't\\n\\t\\t// support getBoundingClientRect on BR elements\\n\\t\\tfunction getBrClientRect(brNode) {\\n\\t\\t\\tvar doc = brNode.ownerDocument,\\n\\t\\t\\t\\trng = createRange(doc),\\n\\t\\t\\t\\tnbsp = doc.createTextNode('\\\\u00a0'),\\n\\t\\t\\t\\tparentNode = brNode.parentNode,\\n\\t\\t\\t\\tclientRect;\\n\\n\\t\\t\\tparentNode.insertBefore(nbsp, brNode);\\n\\t\\t\\trng.setStart(nbsp, 0);\\n\\t\\t\\trng.setEnd(nbsp, 1);\\n\\t\\t\\tclientRect = ClientRect.clone(rng.getBoundingClientRect());\\n\\t\\t\\tparentNode.removeChild(nbsp);\\n\\n\\t\\t\\treturn clientRect;\\n\\t\\t}\\n\\n\\t\\tfunction getBoundingClientRect(item) {\\n\\t\\t\\tvar clientRect, clientRects;\\n\\n\\t\\t\\tclientRects = item.getClientRects();\\n\\t\\t\\tif (clientRects.length > 0) {\\n\\t\\t\\t\\tclientRect = ClientRect.clone(clientRects[0]);\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tclientRect = ClientRect.clone(item.getBoundingClientRect());\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (isBr(item) && clientRect.left === 0) {\\n\\t\\t\\t\\treturn getBrClientRect(item);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn clientRect;\\n\\t\\t}\\n\\n\\t\\tfunction collapseAndInflateWidth(clientRect, toStart) {\\n\\t\\t\\tclientRect = ClientRect.collapse(clientRect, toStart);\\n\\t\\t\\tclientRect.width = 1;\\n\\t\\t\\tclientRect.right = clientRect.left + 1;\\n\\n\\t\\t\\treturn clientRect;\\n\\t\\t}\\n\\n\\t\\tfunction addUniqueAndValidRect(clientRect) {\\n\\t\\t\\tif (clientRect.height === 0) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (clientRects.length > 0) {\\n\\t\\t\\t\\tif (ClientRect.isEqual(clientRect, clientRects[clientRects.length - 1])) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tclientRects.push(clientRect);\\n\\t\\t}\\n\\n\\t\\tfunction addCharacterOffset(container, offset) {\\n\\t\\t\\tvar range = createRange(container.ownerDocument);\\n\\n\\t\\t\\tif (offset < container.data.length) {\\n\\t\\t\\t\\tif (ExtendingChar.isExtendingChar(container.data[offset])) {\\n\\t\\t\\t\\t\\treturn clientRects;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// WebKit returns two client rects for a position after an extending\\n\\t\\t\\t\\t// character a\\\\uxxx|b so expand on \\\"b\\\" and collapse to start of \\\"b\\\" box\\n\\t\\t\\t\\tif (ExtendingChar.isExtendingChar(container.data[offset - 1])) {\\n\\t\\t\\t\\t\\trange.setStart(container, offset);\\n\\t\\t\\t\\t\\trange.setEnd(container, offset + 1);\\n\\n\\t\\t\\t\\t\\tif (!isHiddenWhiteSpaceRange(range)) {\\n\\t\\t\\t\\t\\t\\taddUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(range), false));\\n\\t\\t\\t\\t\\t\\treturn clientRects;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (offset > 0) {\\n\\t\\t\\t\\trange.setStart(container, offset - 1);\\n\\t\\t\\t\\trange.setEnd(container, offset);\\n\\n\\t\\t\\t\\tif (!isHiddenWhiteSpaceRange(range)) {\\n\\t\\t\\t\\t\\taddUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(range), false));\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (offset < container.data.length) {\\n\\t\\t\\t\\trange.setStart(container, offset);\\n\\t\\t\\t\\trange.setEnd(container, offset + 1);\\n\\n\\t\\t\\t\\tif (!isHiddenWhiteSpaceRange(range)) {\\n\\t\\t\\t\\t\\taddUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(range), true));\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tif (isText(caretPosition.container())) {\\n\\t\\t\\taddCharacterOffset(caretPosition.container(), caretPosition.offset());\\n\\t\\t\\treturn clientRects;\\n\\t\\t}\\n\\n\\t\\tif (isElement(caretPosition.container())) {\\n\\t\\t\\tif (caretPosition.isAtEnd()) {\\n\\t\\t\\t\\tnode = resolveIndex(caretPosition.container(), caretPosition.offset());\\n\\t\\t\\t\\tif (isText(node)) {\\n\\t\\t\\t\\t\\taddCharacterOffset(node, node.data.length);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (isValidElementCaretCandidate(node) && !isBr(node)) {\\n\\t\\t\\t\\t\\taddUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(node), false));\\n\\t\\t\\t\\t}\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tnode = resolveIndex(caretPosition.container(), caretPosition.offset());\\n\\t\\t\\t\\tif (isText(node)) {\\n\\t\\t\\t\\t\\taddCharacterOffset(node, 0);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (isValidElementCaretCandidate(node) && caretPosition.isAtEnd()) {\\n\\t\\t\\t\\t\\taddUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(node), false));\\n\\t\\t\\t\\t\\treturn clientRects;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tbeforeNode = resolveIndex(caretPosition.container(), caretPosition.offset() - 1);\\n\\t\\t\\t\\tif (isValidElementCaretCandidate(beforeNode) && !isBr(beforeNode)) {\\n\\t\\t\\t\\t\\tif (isBlock(beforeNode) || isBlock(node) || !isValidElementCaretCandidate(node)) {\\n\\t\\t\\t\\t\\t\\taddUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(beforeNode), false));\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (isValidElementCaretCandidate(node)) {\\n\\t\\t\\t\\t\\taddUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(node), true));\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\treturn clientRects;\\n\\t}\\n\\n\\t/**\\n\\t * Represents a location within the document by a container and an offset.\\n\\t *\\n\\t * @constructor\\n\\t * @param {Node} container Container node.\\n\\t * @param {Number} offset Offset within that container node.\\n\\t * @param {Array} clientRects Optional client rects array for the position.\\n\\t */\\n\\tfunction CaretPosition(container, offset, clientRects) {\\n\\t\\tfunction isAtStart() {\\n\\t\\t\\tif (isText(container)) {\\n\\t\\t\\t\\treturn offset === 0;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn offset === 0;\\n\\t\\t}\\n\\n\\t\\tfunction isAtEnd() {\\n\\t\\t\\tif (isText(container)) {\\n\\t\\t\\t\\treturn offset >= container.data.length;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn offset >= container.childNodes.length;\\n\\t\\t}\\n\\n\\t\\tfunction toRange() {\\n\\t\\t\\tvar range;\\n\\n\\t\\t\\trange = createRange(container.ownerDocument);\\n\\t\\t\\trange.setStart(container, offset);\\n\\t\\t\\trange.setEnd(container, offset);\\n\\n\\t\\t\\treturn range;\\n\\t\\t}\\n\\n\\t\\tfunction getClientRects() {\\n\\t\\t\\tif (!clientRects) {\\n\\t\\t\\t\\tclientRects = getCaretPositionClientRects(new CaretPosition(container, offset));\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn clientRects;\\n\\t\\t}\\n\\n\\t\\tfunction isVisible() {\\n\\t\\t\\treturn getClientRects().length > 0;\\n\\t\\t}\\n\\n\\t\\tfunction isEqual(caretPosition) {\\n\\t\\t\\treturn caretPosition && container === caretPosition.container() && offset === caretPosition.offset();\\n\\t\\t}\\n\\n\\t\\tfunction getNode(before) {\\n\\t\\t\\treturn resolveIndex(container, before ? offset - 1 : offset);\\n\\t\\t}\\n\\n\\t\\treturn {\\n\\t\\t\\t/**\\n\\t\\t\\t * Returns the container node.\\n\\t\\t\\t *\\n\\t\\t\\t * @method container\\n\\t\\t\\t * @return {Node} Container node.\\n\\t\\t\\t */\\n\\t\\t\\tcontainer: Fun.constant(container),\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Returns the offset within the container node.\\n\\t\\t\\t *\\n\\t\\t\\t * @method offset\\n\\t\\t\\t * @return {Number} Offset within the container node.\\n\\t\\t\\t */\\n\\t\\t\\toffset: Fun.constant(offset),\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Returns a range out of a the caret position.\\n\\t\\t\\t *\\n\\t\\t\\t * @method toRange\\n\\t\\t\\t * @return {DOMRange} range for the caret position.\\n\\t\\t\\t */\\n\\t\\t\\ttoRange: toRange,\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Returns the client rects for the caret position. Might be multiple rects between\\n\\t\\t\\t * block elements.\\n\\t\\t\\t *\\n\\t\\t\\t * @method getClientRects\\n\\t\\t\\t * @return {Array} Array of client rects.\\n\\t\\t\\t */\\n\\t\\t\\tgetClientRects: getClientRects,\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Returns true if the caret location is visible/displayed on screen.\\n\\t\\t\\t *\\n\\t\\t\\t * @method isVisible\\n\\t\\t\\t * @return {Boolean} true/false if the position is visible or not.\\n\\t\\t\\t */\\n\\t\\t\\tisVisible: isVisible,\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Returns true if the caret location is at the beginning of text node or container.\\n\\t\\t\\t *\\n\\t\\t\\t * @method isVisible\\n\\t\\t\\t * @return {Boolean} true/false if the position is at the beginning.\\n\\t\\t\\t */\\n\\t\\t\\tisAtStart: isAtStart,\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Returns true if the caret location is at the end of text node or container.\\n\\t\\t\\t *\\n\\t\\t\\t * @method isVisible\\n\\t\\t\\t * @return {Boolean} true/false if the position is at the end.\\n\\t\\t\\t */\\n\\t\\t\\tisAtEnd: isAtEnd,\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Compares the caret position to another caret position. This will only compare the\\n\\t\\t\\t * container and offset not it's visual position.\\n\\t\\t\\t *\\n\\t\\t\\t * @method isEqual\\n\\t\\t\\t * @param {tinymce.caret.CaretPosition} caretPosition Caret position to compare with.\\n\\t\\t\\t * @return {Boolean} true if the caret positions are equal.\\n\\t\\t\\t */\\n\\t\\t\\tisEqual: isEqual,\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Returns the closest resolved node from a node index. That means if you have an offset after the\\n\\t\\t\\t * last node in a container it will return that last node.\\n\\t\\t\\t *\\n\\t\\t\\t * @method getNode\\n\\t\\t\\t * @return {Node} Node that is closest to the index.\\n\\t\\t\\t */\\n\\t\\t\\tgetNode: getNode\\n\\t\\t};\\n\\t}\\n\\n\\t/**\\n\\t * Creates a caret position from the start of a range.\\n\\t *\\n\\t * @method fromRangeStart\\n\\t * @param {DOMRange} range DOM Range to create caret position from.\\n\\t * @return {tinymce.caret.CaretPosition} Caret position from the start of DOM range.\\n\\t */\\n\\tCaretPosition.fromRangeStart = function(range) {\\n\\t\\treturn new CaretPosition(range.startContainer, range.startOffset);\\n\\t};\\n\\n\\t/**\\n\\t * Creates a caret position from the end of a range.\\n\\t *\\n\\t * @method fromRangeEnd\\n\\t * @param {DOMRange} range DOM Range to create caret position from.\\n\\t * @return {tinymce.caret.CaretPosition} Caret position from the end of DOM range.\\n\\t */\\n\\tCaretPosition.fromRangeEnd = function(range) {\\n\\t\\treturn new CaretPosition(range.endContainer, range.endOffset);\\n\\t};\\n\\n\\t/**\\n\\t * Creates a caret position from a node and places the offset after it.\\n\\t *\\n\\t * @method after\\n\\t * @param {Node} node Node to get caret position from.\\n\\t * @return {tinymce.caret.CaretPosition} Caret position from the node.\\n\\t */\\n\\tCaretPosition.after = function(node) {\\n\\t\\treturn new CaretPosition(node.parentNode, nodeIndex(node) + 1);\\n\\t};\\n\\n\\t/**\\n\\t * Creates a caret position from a node and places the offset before it.\\n\\t *\\n\\t * @method before\\n\\t * @param {Node} node Node to get caret position from.\\n\\t * @return {tinymce.caret.CaretPosition} Caret position from the node.\\n\\t */\\n\\tCaretPosition.before = function(node) {\\n\\t\\treturn new CaretPosition(node.parentNode, nodeIndex(node));\\n\\t};\\n\\n\\treturn CaretPosition;\\n});\\n\\n// Included from: js/tinymce/classes/caret/CaretBookmark.js\\n\\n/**\\n * CaretBookmark.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This module creates or resolves xpath like string representation of a CaretPositions.\\n *\\n * The format is a / separated list of chunks with:\\n * <element|text()>[index|after|before]\\n *\\n * For example:\\n *  p[0]/b[0]/text()[0],1 = <p><b>a|c</b></p>\\n *  p[0]/img[0],before = <p>|<img></p>\\n *  p[0]/img[0],after = <p><img>|</p>\\n *\\n * @private\\n * @static\\n * @class tinymce.caret.CaretBookmark\\n * @example\\n * var bookmark = CaretBookmark.create(rootElm, CaretPosition.before(rootElm.firstChild));\\n * var caretPosition = CaretBookmark.resolve(bookmark);\\n */\\ndefine('tinymce/caret/CaretBookmark', [\\n\\t'tinymce/dom/NodeType',\\n\\t'tinymce/dom/DOMUtils',\\n\\t'tinymce/util/Fun',\\n\\t'tinymce/util/Arr',\\n\\t'tinymce/caret/CaretPosition'\\n], function(NodeType, DomUtils, Fun, Arr, CaretPosition) {\\n\\tvar isText = NodeType.isText,\\n\\t\\tisBogus = NodeType.isBogus,\\n\\t\\tnodeIndex = DomUtils.nodeIndex;\\n\\n\\tfunction normalizedParent(node) {\\n\\t\\tvar parentNode = node.parentNode;\\n\\n\\t\\tif (isBogus(parentNode)) {\\n\\t\\t\\treturn normalizedParent(parentNode);\\n\\t\\t}\\n\\n\\t\\treturn parentNode;\\n\\t}\\n\\n\\tfunction getChildNodes(node) {\\n\\t\\tif (!node) {\\n\\t\\t\\treturn [];\\n\\t\\t}\\n\\n\\t\\treturn Arr.reduce(node.childNodes, function(result, node) {\\n\\t\\t\\tif (isBogus(node) && node.nodeName != 'BR') {\\n\\t\\t\\t\\tresult = result.concat(getChildNodes(node));\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tresult.push(node);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn result;\\n\\t\\t}, []);\\n\\t}\\n\\n\\tfunction normalizedTextOffset(textNode, offset) {\\n\\t\\twhile ((textNode = textNode.previousSibling)) {\\n\\t\\t\\tif (!isText(textNode)) {\\n\\t\\t\\t\\tbreak;\\n\\t\\t\\t}\\n\\n\\t\\t\\toffset += textNode.data.length;\\n\\t\\t}\\n\\n\\t\\treturn offset;\\n\\t}\\n\\n\\tfunction equal(targetValue) {\\n\\t\\treturn function(value) {\\n\\t\\t\\treturn targetValue === value;\\n\\t\\t};\\n\\t}\\n\\n\\tfunction normalizedNodeIndex(node) {\\n\\t\\tvar nodes, index, numTextFragments;\\n\\n\\t\\tnodes = getChildNodes(normalizedParent(node));\\n\\t\\tindex = Arr.findIndex(nodes, equal(node), node);\\n\\t\\tnodes = nodes.slice(0, index + 1);\\n\\t\\tnumTextFragments = Arr.reduce(nodes, function(result, node, i) {\\n\\t\\t\\tif (isText(node) && isText(nodes[i - 1])) {\\n\\t\\t\\t\\tresult++;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn result;\\n\\t\\t}, 0);\\n\\n\\t\\tnodes = Arr.filter(nodes, NodeType.matchNodeNames(node.nodeName));\\n\\t\\tindex = Arr.findIndex(nodes, equal(node), node);\\n\\n\\t\\treturn index - numTextFragments;\\n\\t}\\n\\n\\tfunction createPathItem(node) {\\n\\t\\tvar name;\\n\\n\\t\\tif (isText(node)) {\\n\\t\\t\\tname = 'text()';\\n\\t\\t} else {\\n\\t\\t\\tname = node.nodeName.toLowerCase();\\n\\t\\t}\\n\\n\\t\\treturn name + '[' + normalizedNodeIndex(node) + ']';\\n\\t}\\n\\n\\tfunction parentsUntil(rootNode, node, predicate) {\\n\\t\\tvar parents = [];\\n\\n\\t\\tfor (node = node.parentNode; node != rootNode; node = node.parentNode) {\\n\\t\\t\\tif (predicate && predicate(node)) {\\n\\t\\t\\t\\tbreak;\\n\\t\\t\\t}\\n\\n\\t\\t\\tparents.push(node);\\n\\t\\t}\\n\\n\\t\\treturn parents;\\n\\t}\\n\\n\\tfunction create(rootNode, caretPosition) {\\n\\t\\tvar container, offset, path = [],\\n\\t\\t\\toutputOffset, childNodes, parents;\\n\\n\\t\\tcontainer = caretPosition.container();\\n\\t\\toffset = caretPosition.offset();\\n\\n\\t\\tif (isText(container)) {\\n\\t\\t\\toutputOffset = normalizedTextOffset(container, offset);\\n\\t\\t} else {\\n\\t\\t\\tchildNodes = container.childNodes;\\n\\t\\t\\tif (offset >= childNodes.length) {\\n\\t\\t\\t\\toutputOffset = 'after';\\n\\t\\t\\t\\toffset = childNodes.length - 1;\\n\\t\\t\\t} else {\\n\\t\\t\\t\\toutputOffset = 'before';\\n\\t\\t\\t}\\n\\n\\t\\t\\tcontainer = childNodes[offset];\\n\\t\\t}\\n\\n\\t\\tpath.push(createPathItem(container));\\n\\t\\tparents = parentsUntil(rootNode, container);\\n\\t\\tparents = Arr.filter(parents, Fun.negate(NodeType.isBogus));\\n\\t\\tpath = path.concat(Arr.map(parents, function(node) {\\n\\t\\t\\treturn createPathItem(node);\\n\\t\\t}));\\n\\n\\t\\treturn path.reverse().join('/') + ',' + outputOffset;\\n\\t}\\n\\n\\tfunction resolvePathItem(node, name, index) {\\n\\t\\tvar nodes = getChildNodes(node);\\n\\n\\t\\tnodes = Arr.filter(nodes, function(node, index) {\\n\\t\\t\\treturn !isText(node) || !isText(nodes[index - 1]);\\n\\t\\t});\\n\\n\\t\\tnodes = Arr.filter(nodes, NodeType.matchNodeNames(name));\\n\\t\\treturn nodes[index];\\n\\t}\\n\\n\\tfunction findTextPosition(container, offset) {\\n\\t\\tvar node = container, targetOffset = 0, dataLen;\\n\\n\\t\\twhile (isText(node)) {\\n\\t\\t\\tdataLen = node.data.length;\\n\\n\\t\\t\\tif (offset >= targetOffset && offset <= targetOffset + dataLen) {\\n\\t\\t\\t\\tcontainer = node;\\n\\t\\t\\t\\toffset = offset - targetOffset;\\n\\t\\t\\t\\tbreak;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!isText(node.nextSibling)) {\\n\\t\\t\\t\\tcontainer = node;\\n\\t\\t\\t\\toffset = dataLen;\\n\\t\\t\\t\\tbreak;\\n\\t\\t\\t}\\n\\n\\t\\t\\ttargetOffset += dataLen;\\n\\t\\t\\tnode = node.nextSibling;\\n\\t\\t}\\n\\n\\t\\tif (offset > container.data.length) {\\n\\t\\t\\toffset = container.data.length;\\n\\t\\t}\\n\\n\\t\\treturn new CaretPosition(container, offset);\\n\\t}\\n\\n\\tfunction resolve(rootNode, path) {\\n\\t\\tvar parts, container, offset;\\n\\n\\t\\tif (!path) {\\n\\t\\t\\treturn null;\\n\\t\\t}\\n\\n\\t\\tparts = path.split(',');\\n\\t\\tpath = parts[0].split('/');\\n\\t\\toffset = parts.length > 1 ? parts[1] : 'before';\\n\\n\\t\\tcontainer = Arr.reduce(path, function(result, value) {\\n\\t\\t\\tvalue = /([\\\\w\\\\-\\\\(\\\\)]+)\\\\[([0-9]+)\\\\]/.exec(value);\\n\\t\\t\\tif (!value) {\\n\\t\\t\\t\\treturn null;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (value[1] === 'text()') {\\n\\t\\t\\t\\tvalue[1] = '#text';\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn resolvePathItem(result, value[1], parseInt(value[2], 10));\\n\\t\\t}, rootNode);\\n\\n\\t\\tif (!container) {\\n\\t\\t\\treturn null;\\n\\t\\t}\\n\\n\\t\\tif (!isText(container)) {\\n\\t\\t\\tif (offset === 'after') {\\n\\t\\t\\t\\toffset = nodeIndex(container) + 1;\\n\\t\\t\\t} else {\\n\\t\\t\\t\\toffset = nodeIndex(container);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn new CaretPosition(container.parentNode, offset);\\n\\t\\t}\\n\\n\\t\\treturn findTextPosition(container, parseInt(offset, 10));\\n\\t}\\n\\n\\treturn {\\n\\t\\t/**\\n\\t\\t * Create a xpath bookmark location for the specified caret position.\\n\\t\\t *\\n\\t\\t * @method create\\n\\t\\t * @param {Node} rootNode Root node to create bookmark within.\\n\\t\\t * @param {tinymce.caret.CaretPosition} caretPosition Caret position within the root node.\\n\\t\\t * @return {String} String xpath like location of caret position.\\n\\t\\t */\\n\\t\\tcreate: create,\\n\\n\\t\\t/**\\n\\t\\t * Resolves a xpath like bookmark location to the a caret position.\\n\\t\\t *\\n\\t\\t * @method resolve\\n\\t\\t * @param {Node} rootNode Root node to resolve xpath bookmark within.\\n\\t\\t * @param {String} bookmark Bookmark string to resolve.\\n\\t\\t * @return {tinymce.caret.CaretPosition} Caret position resolved from xpath like bookmark.\\n\\t\\t */\\n\\t\\tresolve: resolve\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/dom/BookmarkManager.js\\n\\n/**\\n * BookmarkManager.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class handles selection bookmarks.\\n *\\n * @class tinymce.dom.BookmarkManager\\n */\\ndefine(\\\"tinymce/dom/BookmarkManager\\\", [\\n\\t\\\"tinymce/Env\\\",\\n\\t\\\"tinymce/util/Tools\\\",\\n\\t\\\"tinymce/caret/CaretContainer\\\",\\n\\t\\\"tinymce/caret/CaretBookmark\\\",\\n\\t\\\"tinymce/caret/CaretPosition\\\",\\n\\t\\\"tinymce/dom/NodeType\\\",\\n\\t\\\"tinymce/dom/RangeUtils\\\"\\n], function(Env, Tools, CaretContainer, CaretBookmark, CaretPosition, NodeType, RangeUtils) {\\n\\tvar isContentEditableFalse = NodeType.isContentEditableFalse;\\n\\n\\t/**\\n\\t * Constructs a new BookmarkManager instance for a specific selection instance.\\n\\t *\\n\\t * @constructor\\n\\t * @method BookmarkManager\\n\\t * @param {tinymce.dom.Selection} selection Selection instance to handle bookmarks for.\\n\\t */\\n\\tfunction BookmarkManager(selection) {\\n\\t\\tvar dom = selection.dom;\\n\\n\\t\\t/**\\n\\t\\t * Returns a bookmark location for the current selection. This bookmark object\\n\\t\\t * can then be used to restore the selection after some content modification to the document.\\n\\t\\t *\\n\\t\\t * @method getBookmark\\n\\t\\t * @param {Number} type Optional state if the bookmark should be simple or not. Default is complex.\\n\\t\\t * @param {Boolean} normalized Optional state that enables you to get a position that it would be after normalization.\\n\\t\\t * @return {Object} Bookmark object, use moveToBookmark with this object to restore the selection.\\n\\t\\t * @example\\n\\t\\t * // Stores a bookmark of the current selection\\n\\t\\t * var bm = tinymce.activeEditor.selection.getBookmark();\\n\\t\\t *\\n\\t\\t * tinymce.activeEditor.setContent(tinymce.activeEditor.getContent() + 'Some new content');\\n\\t\\t *\\n\\t\\t * // Restore the selection bookmark\\n\\t\\t * tinymce.activeEditor.selection.moveToBookmark(bm);\\n\\t\\t */\\n\\t\\tthis.getBookmark = function(type, normalized) {\\n\\t\\t\\tvar rng, rng2, id, collapsed, name, element, chr = '&#xFEFF;', styles;\\n\\n\\t\\t\\tfunction findIndex(name, element) {\\n\\t\\t\\t\\tvar count = 0;\\n\\n\\t\\t\\t\\tTools.each(dom.select(name), function(node) {\\n\\t\\t\\t\\t\\tif (node.getAttribute('data-mce-bogus') === 'all') {\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (node == element) {\\n\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tcount++;\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\treturn count;\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction normalizeTableCellSelection(rng) {\\n\\t\\t\\t\\tfunction moveEndPoint(start) {\\n\\t\\t\\t\\t\\tvar container, offset, childNodes, prefix = start ? 'start' : 'end';\\n\\n\\t\\t\\t\\t\\tcontainer = rng[prefix + 'Container'];\\n\\t\\t\\t\\t\\toffset = rng[prefix + 'Offset'];\\n\\n\\t\\t\\t\\t\\tif (container.nodeType == 1 && container.nodeName == \\\"TR\\\") {\\n\\t\\t\\t\\t\\t\\tchildNodes = container.childNodes;\\n\\t\\t\\t\\t\\t\\tcontainer = childNodes[Math.min(start ? offset : offset - 1, childNodes.length - 1)];\\n\\t\\t\\t\\t\\t\\tif (container) {\\n\\t\\t\\t\\t\\t\\t\\toffset = start ? 0 : container.childNodes.length;\\n\\t\\t\\t\\t\\t\\t\\trng['set' + (start ? 'Start' : 'End')](container, offset);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tmoveEndPoint(true);\\n\\t\\t\\t\\tmoveEndPoint();\\n\\n\\t\\t\\t\\treturn rng;\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction getLocation(rng) {\\n\\t\\t\\t\\tvar root = dom.getRoot(), bookmark = {};\\n\\n\\t\\t\\t\\tfunction getPoint(rng, start) {\\n\\t\\t\\t\\t\\tvar container = rng[start ? 'startContainer' : 'endContainer'],\\n\\t\\t\\t\\t\\t\\toffset = rng[start ? 'startOffset' : 'endOffset'], point = [], node, childNodes, after = 0;\\n\\n\\t\\t\\t\\t\\tif (container.nodeType == 3) {\\n\\t\\t\\t\\t\\t\\tif (normalized) {\\n\\t\\t\\t\\t\\t\\t\\tfor (node = container.previousSibling; node && node.nodeType == 3; node = node.previousSibling) {\\n\\t\\t\\t\\t\\t\\t\\t\\toffset += node.nodeValue.length;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tpoint.push(offset);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tchildNodes = container.childNodes;\\n\\n\\t\\t\\t\\t\\t\\tif (offset >= childNodes.length && childNodes.length) {\\n\\t\\t\\t\\t\\t\\t\\tafter = 1;\\n\\t\\t\\t\\t\\t\\t\\toffset = Math.max(0, childNodes.length - 1);\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tpoint.push(dom.nodeIndex(childNodes[offset], normalized) + after);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tfor (; container && container != root; container = container.parentNode) {\\n\\t\\t\\t\\t\\t\\tpoint.push(dom.nodeIndex(container, normalized));\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\treturn point;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tbookmark.start = getPoint(rng, true);\\n\\n\\t\\t\\t\\tif (!selection.isCollapsed()) {\\n\\t\\t\\t\\t\\tbookmark.end = getPoint(rng);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn bookmark;\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction findAdjacentContentEditableFalseElm(rng) {\\n\\t\\t\\t\\tfunction findSibling(node, offset) {\\n\\t\\t\\t\\t\\tvar sibling;\\n\\n\\t\\t\\t\\t\\tif (NodeType.isElement(node)) {\\n\\t\\t\\t\\t\\t\\tnode = RangeUtils.getNode(node, offset);\\n\\t\\t\\t\\t\\t\\tif (isContentEditableFalse(node)) {\\n\\t\\t\\t\\t\\t\\t\\treturn node;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (CaretContainer.isCaretContainer(node)) {\\n\\t\\t\\t\\t\\t\\tif (NodeType.isText(node) && CaretContainer.isCaretContainerBlock(node)) {\\n\\t\\t\\t\\t\\t\\t\\tnode = node.parentNode;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tsibling = node.previousSibling;\\n\\t\\t\\t\\t\\t\\tif (isContentEditableFalse(sibling)) {\\n\\t\\t\\t\\t\\t\\t\\treturn sibling;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tsibling = node.nextSibling;\\n\\t\\t\\t\\t\\t\\tif (isContentEditableFalse(sibling)) {\\n\\t\\t\\t\\t\\t\\t\\treturn sibling;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn findSibling(rng.startContainer, rng.startOffset) || findSibling(rng.endContainer, rng.endOffset);\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (type == 2) {\\n\\t\\t\\t\\telement = selection.getNode();\\n\\t\\t\\t\\tname = element ? element.nodeName : null;\\n\\t\\t\\t\\trng = selection.getRng();\\n\\n\\t\\t\\t\\tif (isContentEditableFalse(element) || name == 'IMG') {\\n\\t\\t\\t\\t\\treturn {name: name, index: findIndex(name, element)};\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (selection.tridentSel) {\\n\\t\\t\\t\\t\\treturn selection.tridentSel.getBookmark(type);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\telement = findAdjacentContentEditableFalseElm(rng);\\n\\t\\t\\t\\tif (element) {\\n\\t\\t\\t\\t\\tname = element.tagName;\\n\\t\\t\\t\\t\\treturn {name: name, index: findIndex(name, element)};\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn getLocation(rng);\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (type == 3) {\\n\\t\\t\\t\\trng = selection.getRng();\\n\\n\\t\\t\\t\\treturn {\\n\\t\\t\\t\\t\\tstart: CaretBookmark.create(dom.getRoot(), CaretPosition.fromRangeStart(rng)),\\n\\t\\t\\t\\t\\tend: CaretBookmark.create(dom.getRoot(), CaretPosition.fromRangeEnd(rng))\\n\\t\\t\\t\\t};\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Handle simple range\\n\\t\\t\\tif (type) {\\n\\t\\t\\t\\treturn {rng: selection.getRng()};\\n\\t\\t\\t}\\n\\n\\t\\t\\trng = selection.getRng();\\n\\t\\t\\tid = dom.uniqueId();\\n\\t\\t\\tcollapsed = selection.isCollapsed();\\n\\t\\t\\tstyles = 'overflow:hidden;line-height:0px';\\n\\n\\t\\t\\t// Explorer method\\n\\t\\t\\tif (rng.duplicate || rng.item) {\\n\\t\\t\\t\\t// Text selection\\n\\t\\t\\t\\tif (!rng.item) {\\n\\t\\t\\t\\t\\trng2 = rng.duplicate();\\n\\n\\t\\t\\t\\t\\ttry {\\n\\t\\t\\t\\t\\t\\t// Insert start marker\\n\\t\\t\\t\\t\\t\\trng.collapse();\\n\\t\\t\\t\\t\\t\\trng.pasteHTML('<span data-mce-type=\\\"bookmark\\\" id=\\\"' + id + '_start\\\" style=\\\"' + styles + '\\\">' + chr + '</span>');\\n\\n\\t\\t\\t\\t\\t\\t// Insert end marker\\n\\t\\t\\t\\t\\t\\tif (!collapsed) {\\n\\t\\t\\t\\t\\t\\t\\trng2.collapse(false);\\n\\n\\t\\t\\t\\t\\t\\t\\t// Detect the empty space after block elements in IE and move the\\n\\t\\t\\t\\t\\t\\t\\t// end back one character <p></p>] becomes <p>]</p>\\n\\t\\t\\t\\t\\t\\t\\trng.moveToElementText(rng2.parentElement());\\n\\t\\t\\t\\t\\t\\t\\tif (rng.compareEndPoints('StartToEnd', rng2) === 0) {\\n\\t\\t\\t\\t\\t\\t\\t\\trng2.move('character', -1);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\trng2.pasteHTML('<span data-mce-type=\\\"bookmark\\\" id=\\\"' + id + '_end\\\" style=\\\"' + styles + '\\\">' + chr + '</span>');\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t} catch (ex) {\\n\\t\\t\\t\\t\\t\\t// IE might throw unspecified error so lets ignore it\\n\\t\\t\\t\\t\\t\\treturn null;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t// Control selection\\n\\t\\t\\t\\t\\telement = rng.item(0);\\n\\t\\t\\t\\t\\tname = element.nodeName;\\n\\n\\t\\t\\t\\t\\treturn {name: name, index: findIndex(name, element)};\\n\\t\\t\\t\\t}\\n\\t\\t\\t} else {\\n\\t\\t\\t\\telement = selection.getNode();\\n\\t\\t\\t\\tname = element.nodeName;\\n\\t\\t\\t\\tif (name == 'IMG') {\\n\\t\\t\\t\\t\\treturn {name: name, index: findIndex(name, element)};\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// W3C method\\n\\t\\t\\t\\trng2 = normalizeTableCellSelection(rng.cloneRange());\\n\\n\\t\\t\\t\\t// Insert end marker\\n\\t\\t\\t\\tif (!collapsed) {\\n\\t\\t\\t\\t\\trng2.collapse(false);\\n\\t\\t\\t\\t\\trng2.insertNode(dom.create('span', {'data-mce-type': \\\"bookmark\\\", id: id + '_end', style: styles}, chr));\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\trng = normalizeTableCellSelection(rng);\\n\\t\\t\\t\\trng.collapse(true);\\n\\t\\t\\t\\trng.insertNode(dom.create('span', {'data-mce-type': \\\"bookmark\\\", id: id + '_start', style: styles}, chr));\\n\\t\\t\\t}\\n\\n\\t\\t\\tselection.moveToBookmark({id: id, keep: 1});\\n\\n\\t\\t\\treturn {id: id};\\n\\t\\t};\\n\\n\\t\\t/**\\n\\t\\t * Restores the selection to the specified bookmark.\\n\\t\\t *\\n\\t\\t * @method moveToBookmark\\n\\t\\t * @param {Object} bookmark Bookmark to restore selection from.\\n\\t\\t * @return {Boolean} true/false if it was successful or not.\\n\\t\\t * @example\\n\\t\\t * // Stores a bookmark of the current selection\\n\\t\\t * var bm = tinymce.activeEditor.selection.getBookmark();\\n\\t\\t *\\n\\t\\t * tinymce.activeEditor.setContent(tinymce.activeEditor.getContent() + 'Some new content');\\n\\t\\t *\\n\\t\\t * // Restore the selection bookmark\\n\\t\\t * tinymce.activeEditor.selection.moveToBookmark(bm);\\n\\t\\t */\\n\\t\\tthis.moveToBookmark = function(bookmark) {\\n\\t\\t\\tvar rng, root, startContainer, endContainer, startOffset, endOffset;\\n\\n\\t\\t\\tfunction setEndPoint(start) {\\n\\t\\t\\t\\tvar point = bookmark[start ? 'start' : 'end'], i, node, offset, children;\\n\\n\\t\\t\\t\\tif (point) {\\n\\t\\t\\t\\t\\toffset = point[0];\\n\\n\\t\\t\\t\\t\\t// Find container node\\n\\t\\t\\t\\t\\tfor (node = root, i = point.length - 1; i >= 1; i--) {\\n\\t\\t\\t\\t\\t\\tchildren = node.childNodes;\\n\\n\\t\\t\\t\\t\\t\\tif (point[i] > children.length - 1) {\\n\\t\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tnode = children[point[i]];\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Move text offset to best suitable location\\n\\t\\t\\t\\t\\tif (node.nodeType === 3) {\\n\\t\\t\\t\\t\\t\\toffset = Math.min(point[0], node.nodeValue.length);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Move element offset to best suitable location\\n\\t\\t\\t\\t\\tif (node.nodeType === 1) {\\n\\t\\t\\t\\t\\t\\toffset = Math.min(point[0], node.childNodes.length);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Set offset within container node\\n\\t\\t\\t\\t\\tif (start) {\\n\\t\\t\\t\\t\\t\\trng.setStart(node, offset);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\trng.setEnd(node, offset);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn true;\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction restoreEndPoint(suffix) {\\n\\t\\t\\t\\tvar marker = dom.get(bookmark.id + '_' + suffix), node, idx, next, prev, keep = bookmark.keep;\\n\\n\\t\\t\\t\\tif (marker) {\\n\\t\\t\\t\\t\\tnode = marker.parentNode;\\n\\n\\t\\t\\t\\t\\tif (suffix == 'start') {\\n\\t\\t\\t\\t\\t\\tif (!keep) {\\n\\t\\t\\t\\t\\t\\t\\tidx = dom.nodeIndex(marker);\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\tnode = marker.firstChild;\\n\\t\\t\\t\\t\\t\\t\\tidx = 1;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tstartContainer = endContainer = node;\\n\\t\\t\\t\\t\\t\\tstartOffset = endOffset = idx;\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tif (!keep) {\\n\\t\\t\\t\\t\\t\\t\\tidx = dom.nodeIndex(marker);\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\tnode = marker.firstChild;\\n\\t\\t\\t\\t\\t\\t\\tidx = 1;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tendContainer = node;\\n\\t\\t\\t\\t\\t\\tendOffset = idx;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (!keep) {\\n\\t\\t\\t\\t\\t\\tprev = marker.previousSibling;\\n\\t\\t\\t\\t\\t\\tnext = marker.nextSibling;\\n\\n\\t\\t\\t\\t\\t\\t// Remove all marker text nodes\\n\\t\\t\\t\\t\\t\\tTools.each(Tools.grep(marker.childNodes), function(node) {\\n\\t\\t\\t\\t\\t\\t\\tif (node.nodeType == 3) {\\n\\t\\t\\t\\t\\t\\t\\t\\tnode.nodeValue = node.nodeValue.replace(/\\\\uFEFF/g, '');\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\t\\t// Remove marker but keep children if for example contents where inserted into the marker\\n\\t\\t\\t\\t\\t\\t// Also remove duplicated instances of the marker for example by a\\n\\t\\t\\t\\t\\t\\t// split operation or by WebKit auto split on paste feature\\n\\t\\t\\t\\t\\t\\twhile ((marker = dom.get(bookmark.id + '_' + suffix))) {\\n\\t\\t\\t\\t\\t\\t\\tdom.remove(marker, 1);\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// If siblings are text nodes then merge them unless it's Opera since it some how removes the node\\n\\t\\t\\t\\t\\t\\t// and we are sniffing since adding a lot of detection code for a browser with 3% of the market\\n\\t\\t\\t\\t\\t\\t// isn't worth the effort. Sorry, Opera but it's just a fact\\n\\t\\t\\t\\t\\t\\tif (prev && next && prev.nodeType == next.nodeType && prev.nodeType == 3 && !Env.opera) {\\n\\t\\t\\t\\t\\t\\t\\tidx = prev.nodeValue.length;\\n\\t\\t\\t\\t\\t\\t\\tprev.appendData(next.nodeValue);\\n\\t\\t\\t\\t\\t\\t\\tdom.remove(next);\\n\\n\\t\\t\\t\\t\\t\\t\\tif (suffix == 'start') {\\n\\t\\t\\t\\t\\t\\t\\t\\tstartContainer = endContainer = prev;\\n\\t\\t\\t\\t\\t\\t\\t\\tstartOffset = endOffset = idx;\\n\\t\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\t\\tendContainer = prev;\\n\\t\\t\\t\\t\\t\\t\\t\\tendOffset = idx;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction addBogus(node) {\\n\\t\\t\\t\\t// Adds a bogus BR element for empty block elements\\n\\t\\t\\t\\tif (dom.isBlock(node) && !node.innerHTML && !Env.ie) {\\n\\t\\t\\t\\t\\tnode.innerHTML = '<br data-mce-bogus=\\\"1\\\" />';\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn node;\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction resolveCaretPositionBookmark() {\\n\\t\\t\\t\\tvar rng, pos;\\n\\n\\t\\t\\t\\trng = dom.createRng();\\n\\t\\t\\t\\tpos = CaretBookmark.resolve(dom.getRoot(), bookmark.start);\\n\\t\\t\\t\\trng.setStart(pos.container(), pos.offset());\\n\\n\\t\\t\\t\\tpos = CaretBookmark.resolve(dom.getRoot(), bookmark.end);\\n\\t\\t\\t\\trng.setEnd(pos.container(), pos.offset());\\n\\n\\t\\t\\t\\treturn rng;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (bookmark) {\\n\\t\\t\\t\\tif (Tools.isArray(bookmark.start)) {\\n\\t\\t\\t\\t\\trng = dom.createRng();\\n\\t\\t\\t\\t\\troot = dom.getRoot();\\n\\n\\t\\t\\t\\t\\tif (selection.tridentSel) {\\n\\t\\t\\t\\t\\t\\treturn selection.tridentSel.moveToBookmark(bookmark);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (setEndPoint(true) && setEndPoint()) {\\n\\t\\t\\t\\t\\t\\tselection.setRng(rng);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} else if (typeof bookmark.start == 'string') {\\n\\t\\t\\t\\t\\tselection.setRng(resolveCaretPositionBookmark(bookmark));\\n\\t\\t\\t\\t} else if (bookmark.id) {\\n\\t\\t\\t\\t\\t// Restore start/end points\\n\\t\\t\\t\\t\\trestoreEndPoint('start');\\n\\t\\t\\t\\t\\trestoreEndPoint('end');\\n\\n\\t\\t\\t\\t\\tif (startContainer) {\\n\\t\\t\\t\\t\\t\\trng = dom.createRng();\\n\\t\\t\\t\\t\\t\\trng.setStart(addBogus(startContainer), startOffset);\\n\\t\\t\\t\\t\\t\\trng.setEnd(addBogus(endContainer), endOffset);\\n\\t\\t\\t\\t\\t\\tselection.setRng(rng);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} else if (bookmark.name) {\\n\\t\\t\\t\\t\\tselection.select(dom.select(bookmark.name)[bookmark.index]);\\n\\t\\t\\t\\t} else if (bookmark.rng) {\\n\\t\\t\\t\\t\\tselection.setRng(bookmark.rng);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t};\\n\\t}\\n\\n\\t/**\\n\\t * Returns true/false if the specified node is a bookmark node or not.\\n\\t *\\n\\t * @static\\n\\t * @method isBookmarkNode\\n\\t * @param {DOMNode} node DOM Node to check if it's a bookmark node or not.\\n\\t * @return {Boolean} true/false if the node is a bookmark node or not.\\n\\t */\\n\\tBookmarkManager.isBookmarkNode = function(node) {\\n\\t\\treturn node && node.tagName === 'SPAN' && node.getAttribute('data-mce-type') === 'bookmark';\\n\\t};\\n\\n\\treturn BookmarkManager;\\n});\\n\\n// Included from: js/tinymce/classes/dom/Selection.js\\n\\n/**\\n * Selection.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class handles text and control selection it's an crossbrowser utility class.\\n * Consult the TinyMCE Wiki API for more details and examples on how to use this class.\\n *\\n * @class tinymce.dom.Selection\\n * @example\\n * // Getting the currently selected node for the active editor\\n * alert(tinymce.activeEditor.selection.getNode().nodeName);\\n */\\ndefine(\\\"tinymce/dom/Selection\\\", [\\n\\t\\\"tinymce/dom/TreeWalker\\\",\\n\\t\\\"tinymce/dom/TridentSelection\\\",\\n\\t\\\"tinymce/dom/ControlSelection\\\",\\n\\t\\\"tinymce/dom/RangeUtils\\\",\\n\\t\\\"tinymce/dom/BookmarkManager\\\",\\n\\t\\\"tinymce/dom/NodeType\\\",\\n\\t\\\"tinymce/Env\\\",\\n\\t\\\"tinymce/util/Tools\\\",\\n\\t\\\"tinymce/caret/CaretPosition\\\"\\n], function(TreeWalker, TridentSelection, ControlSelection, RangeUtils, BookmarkManager, NodeType, Env, Tools, CaretPosition) {\\n\\tvar each = Tools.each, trim = Tools.trim;\\n\\tvar isIE = Env.ie;\\n\\n\\t/**\\n\\t * Constructs a new selection instance.\\n\\t *\\n\\t * @constructor\\n\\t * @method Selection\\n\\t * @param {tinymce.dom.DOMUtils} dom DOMUtils object reference.\\n\\t * @param {Window} win Window to bind the selection object to.\\n\\t * @param {tinymce.Editor} editor Editor instance of the selection.\\n\\t * @param {tinymce.dom.Serializer} serializer DOM serialization class to use for getContent.\\n\\t */\\n\\tfunction Selection(dom, win, serializer, editor) {\\n\\t\\tvar self = this;\\n\\n\\t\\tself.dom = dom;\\n\\t\\tself.win = win;\\n\\t\\tself.serializer = serializer;\\n\\t\\tself.editor = editor;\\n\\t\\tself.bookmarkManager = new BookmarkManager(self);\\n\\t\\tself.controlSelection = new ControlSelection(self, editor);\\n\\n\\t\\t// No W3C Range support\\n\\t\\tif (!self.win.getSelection) {\\n\\t\\t\\tself.tridentSel = new TridentSelection(self);\\n\\t\\t}\\n\\t}\\n\\n\\tSelection.prototype = {\\n\\t\\t/**\\n\\t\\t * Move the selection cursor range to the specified node and offset.\\n\\t\\t * If there is no node specified it will move it to the first suitable location within the body.\\n\\t\\t *\\n\\t\\t * @method setCursorLocation\\n\\t\\t * @param {Node} node Optional node to put the cursor in.\\n\\t\\t * @param {Number} offset Optional offset from the start of the node to put the cursor at.\\n\\t\\t */\\n\\t\\tsetCursorLocation: function(node, offset) {\\n\\t\\t\\tvar self = this, rng = self.dom.createRng();\\n\\n\\t\\t\\tif (!node) {\\n\\t\\t\\t\\tself._moveEndPoint(rng, self.editor.getBody(), true);\\n\\t\\t\\t\\tself.setRng(rng);\\n\\t\\t\\t} else {\\n\\t\\t\\t\\trng.setStart(node, offset);\\n\\t\\t\\t\\trng.setEnd(node, offset);\\n\\t\\t\\t\\tself.setRng(rng);\\n\\t\\t\\t\\tself.collapse(false);\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns the selected contents using the DOM serializer passed in to this class.\\n\\t\\t *\\n\\t\\t * @method getContent\\n\\t\\t * @param {Object} args Optional settings class with for example output format text or html.\\n\\t\\t * @return {String} Selected contents in for example HTML format.\\n\\t\\t * @example\\n\\t\\t * // Alerts the currently selected contents\\n\\t\\t * alert(tinymce.activeEditor.selection.getContent());\\n\\t\\t *\\n\\t\\t * // Alerts the currently selected contents as plain text\\n\\t\\t * alert(tinymce.activeEditor.selection.getContent({format: 'text'}));\\n\\t\\t */\\n\\t\\tgetContent: function(args) {\\n\\t\\t\\tvar self = this, rng = self.getRng(), tmpElm = self.dom.create(\\\"body\\\");\\n\\t\\t\\tvar se = self.getSel(), whiteSpaceBefore, whiteSpaceAfter, fragment;\\n\\n\\t\\t\\targs = args || {};\\n\\t\\t\\twhiteSpaceBefore = whiteSpaceAfter = '';\\n\\t\\t\\targs.get = true;\\n\\t\\t\\targs.format = args.format || 'html';\\n\\t\\t\\targs.selection = true;\\n\\t\\t\\tself.editor.fire('BeforeGetContent', args);\\n\\n\\t\\t\\tif (args.format == 'text') {\\n\\t\\t\\t\\treturn self.isCollapsed() ? '' : (rng.text || (se.toString ? se.toString() : ''));\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (rng.cloneContents) {\\n\\t\\t\\t\\tfragment = rng.cloneContents();\\n\\n\\t\\t\\t\\tif (fragment) {\\n\\t\\t\\t\\t\\ttmpElm.appendChild(fragment);\\n\\t\\t\\t\\t}\\n\\t\\t\\t} else if (rng.item !== undefined || rng.htmlText !== undefined) {\\n\\t\\t\\t\\t// IE will produce invalid markup if elements are present that\\n\\t\\t\\t\\t// it doesn't understand like custom elements or HTML5 elements.\\n\\t\\t\\t\\t// Adding a BR in front of the contents and then remoiving it seems to fix it though.\\n\\t\\t\\t\\ttmpElm.innerHTML = '<br>' + (rng.item ? rng.item(0).outerHTML : rng.htmlText);\\n\\t\\t\\t\\ttmpElm.removeChild(tmpElm.firstChild);\\n\\t\\t\\t} else {\\n\\t\\t\\t\\ttmpElm.innerHTML = rng.toString();\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Keep whitespace before and after\\n\\t\\t\\tif (/^\\\\s/.test(tmpElm.innerHTML)) {\\n\\t\\t\\t\\twhiteSpaceBefore = ' ';\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (/\\\\s+$/.test(tmpElm.innerHTML)) {\\n\\t\\t\\t\\twhiteSpaceAfter = ' ';\\n\\t\\t\\t}\\n\\n\\t\\t\\targs.getInner = true;\\n\\n\\t\\t\\targs.content = self.isCollapsed() ? '' : whiteSpaceBefore + self.serializer.serialize(tmpElm, args) + whiteSpaceAfter;\\n\\t\\t\\tself.editor.fire('GetContent', args);\\n\\n\\t\\t\\treturn args.content;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Sets the current selection to the specified content. If any contents is selected it will be replaced\\n\\t\\t * with the contents passed in to this function. If there is no selection the contents will be inserted\\n\\t\\t * where the caret is placed in the editor/page.\\n\\t\\t *\\n\\t\\t * @method setContent\\n\\t\\t * @param {String} content HTML contents to set could also be other formats depending on settings.\\n\\t\\t * @param {Object} args Optional settings object with for example data format.\\n\\t\\t * @example\\n\\t\\t * // Inserts some HTML contents at the current selection\\n\\t\\t * tinymce.activeEditor.selection.setContent('<strong>Some contents</strong>');\\n\\t\\t */\\n\\t\\tsetContent: function(content, args) {\\n\\t\\t\\tvar self = this, rng = self.getRng(), caretNode, doc = self.win.document, frag, temp;\\n\\n\\t\\t\\targs = args || {format: 'html'};\\n\\t\\t\\targs.set = true;\\n\\t\\t\\targs.selection = true;\\n\\t\\t\\targs.content = content;\\n\\n\\t\\t\\t// Dispatch before set content event\\n\\t\\t\\tif (!args.no_events) {\\n\\t\\t\\t\\tself.editor.fire('BeforeSetContent', args);\\n\\t\\t\\t}\\n\\n\\t\\t\\tcontent = args.content;\\n\\n\\t\\t\\tif (rng.insertNode) {\\n\\t\\t\\t\\t// Make caret marker since insertNode places the caret in the beginning of text after insert\\n\\t\\t\\t\\tcontent += '<span id=\\\"__caret\\\">_</span>';\\n\\n\\t\\t\\t\\t// Delete and insert new node\\n\\t\\t\\t\\tif (rng.startContainer == doc && rng.endContainer == doc) {\\n\\t\\t\\t\\t\\t// WebKit will fail if the body is empty since the range is then invalid and it can't insert contents\\n\\t\\t\\t\\t\\tdoc.body.innerHTML = content;\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\trng.deleteContents();\\n\\n\\t\\t\\t\\t\\tif (doc.body.childNodes.length === 0) {\\n\\t\\t\\t\\t\\t\\tdoc.body.innerHTML = content;\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t// createContextualFragment doesn't exists in IE 9 DOMRanges\\n\\t\\t\\t\\t\\t\\tif (rng.createContextualFragment) {\\n\\t\\t\\t\\t\\t\\t\\trng.insertNode(rng.createContextualFragment(content));\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\t// Fake createContextualFragment call in IE 9\\n\\t\\t\\t\\t\\t\\t\\tfrag = doc.createDocumentFragment();\\n\\t\\t\\t\\t\\t\\t\\ttemp = doc.createElement('div');\\n\\n\\t\\t\\t\\t\\t\\t\\tfrag.appendChild(temp);\\n\\t\\t\\t\\t\\t\\t\\ttemp.outerHTML = content;\\n\\n\\t\\t\\t\\t\\t\\t\\trng.insertNode(frag);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Move to caret marker\\n\\t\\t\\t\\tcaretNode = self.dom.get('__caret');\\n\\n\\t\\t\\t\\t// Make sure we wrap it compleatly, Opera fails with a simple select call\\n\\t\\t\\t\\trng = doc.createRange();\\n\\t\\t\\t\\trng.setStartBefore(caretNode);\\n\\t\\t\\t\\trng.setEndBefore(caretNode);\\n\\t\\t\\t\\tself.setRng(rng);\\n\\n\\t\\t\\t\\t// Remove the caret position\\n\\t\\t\\t\\tself.dom.remove('__caret');\\n\\n\\t\\t\\t\\ttry {\\n\\t\\t\\t\\t\\tself.setRng(rng);\\n\\t\\t\\t\\t} catch (ex) {\\n\\t\\t\\t\\t\\t// Might fail on Opera for some odd reason\\n\\t\\t\\t\\t}\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tif (rng.item) {\\n\\t\\t\\t\\t\\t// Delete content and get caret text selection\\n\\t\\t\\t\\t\\tdoc.execCommand('Delete', false, null);\\n\\t\\t\\t\\t\\trng = self.getRng();\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Explorer removes spaces from the beginning of pasted contents\\n\\t\\t\\t\\tif (/^\\\\s+/.test(content)) {\\n\\t\\t\\t\\t\\trng.pasteHTML('<span id=\\\"__mce_tmp\\\">_</span>' + content);\\n\\t\\t\\t\\t\\tself.dom.remove('__mce_tmp');\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\trng.pasteHTML(content);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Dispatch set content event\\n\\t\\t\\tif (!args.no_events) {\\n\\t\\t\\t\\tself.editor.fire('SetContent', args);\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns the start element of a selection range. If the start is in a text\\n\\t\\t * node the parent element will be returned.\\n\\t\\t *\\n\\t\\t * @method getStart\\n\\t\\t * @param {Boolean} real Optional state to get the real parent when the selection is collapsed not the closest element.\\n\\t\\t * @return {Element} Start element of selection range.\\n\\t\\t */\\n\\t\\tgetStart: function(real) {\\n\\t\\t\\tvar self = this, rng = self.getRng(), startElement, parentElement, checkRng, node;\\n\\n\\t\\t\\tif (rng.duplicate || rng.item) {\\n\\t\\t\\t\\t// Control selection, return first item\\n\\t\\t\\t\\tif (rng.item) {\\n\\t\\t\\t\\t\\treturn rng.item(0);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Get start element\\n\\t\\t\\t\\tcheckRng = rng.duplicate();\\n\\t\\t\\t\\tcheckRng.collapse(1);\\n\\t\\t\\t\\tstartElement = checkRng.parentElement();\\n\\t\\t\\t\\tif (startElement.ownerDocument !== self.dom.doc) {\\n\\t\\t\\t\\t\\tstartElement = self.dom.getRoot();\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Check if range parent is inside the start element, then return the inner parent element\\n\\t\\t\\t\\t// This will fix issues when a single element is selected, IE would otherwise return the wrong start element\\n\\t\\t\\t\\tparentElement = node = rng.parentElement();\\n\\t\\t\\t\\twhile ((node = node.parentNode)) {\\n\\t\\t\\t\\t\\tif (node == startElement) {\\n\\t\\t\\t\\t\\t\\tstartElement = parentElement;\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn startElement;\\n\\t\\t\\t}\\n\\n\\t\\t\\tstartElement = rng.startContainer;\\n\\n\\t\\t\\tif (startElement.nodeType == 1 && startElement.hasChildNodes()) {\\n\\t\\t\\t\\tif (!real || !rng.collapsed) {\\n\\t\\t\\t\\t\\tstartElement = startElement.childNodes[Math.min(startElement.childNodes.length - 1, rng.startOffset)];\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (startElement && startElement.nodeType == 3) {\\n\\t\\t\\t\\treturn startElement.parentNode;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn startElement;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns the end element of a selection range. If the end is in a text\\n\\t\\t * node the parent element will be returned.\\n\\t\\t *\\n\\t\\t * @method getEnd\\n\\t\\t * @param {Boolean} real Optional state to get the real parent when the selection is collapsed not the closest element.\\n\\t\\t * @return {Element} End element of selection range.\\n\\t\\t */\\n\\t\\tgetEnd: function(real) {\\n\\t\\t\\tvar self = this, rng = self.getRng(), endElement, endOffset;\\n\\n\\t\\t\\tif (rng.duplicate || rng.item) {\\n\\t\\t\\t\\tif (rng.item) {\\n\\t\\t\\t\\t\\treturn rng.item(0);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\trng = rng.duplicate();\\n\\t\\t\\t\\trng.collapse(0);\\n\\t\\t\\t\\tendElement = rng.parentElement();\\n\\t\\t\\t\\tif (endElement.ownerDocument !== self.dom.doc) {\\n\\t\\t\\t\\t\\tendElement = self.dom.getRoot();\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (endElement && endElement.nodeName == 'BODY') {\\n\\t\\t\\t\\t\\treturn endElement.lastChild || endElement;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn endElement;\\n\\t\\t\\t}\\n\\n\\t\\t\\tendElement = rng.endContainer;\\n\\t\\t\\tendOffset = rng.endOffset;\\n\\n\\t\\t\\tif (endElement.nodeType == 1 && endElement.hasChildNodes()) {\\n\\t\\t\\t\\tif (!real || !rng.collapsed) {\\n\\t\\t\\t\\t\\tendElement = endElement.childNodes[endOffset > 0 ? endOffset - 1 : endOffset];\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (endElement && endElement.nodeType == 3) {\\n\\t\\t\\t\\treturn endElement.parentNode;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn endElement;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns a bookmark location for the current selection. This bookmark object\\n\\t\\t * can then be used to restore the selection after some content modification to the document.\\n\\t\\t *\\n\\t\\t * @method getBookmark\\n\\t\\t * @param {Number} type Optional state if the bookmark should be simple or not. Default is complex.\\n\\t\\t * @param {Boolean} normalized Optional state that enables you to get a position that it would be after normalization.\\n\\t\\t * @return {Object} Bookmark object, use moveToBookmark with this object to restore the selection.\\n\\t\\t * @example\\n\\t\\t * // Stores a bookmark of the current selection\\n\\t\\t * var bm = tinymce.activeEditor.selection.getBookmark();\\n\\t\\t *\\n\\t\\t * tinymce.activeEditor.setContent(tinymce.activeEditor.getContent() + 'Some new content');\\n\\t\\t *\\n\\t\\t * // Restore the selection bookmark\\n\\t\\t * tinymce.activeEditor.selection.moveToBookmark(bm);\\n\\t\\t */\\n\\t\\tgetBookmark: function(type, normalized) {\\n\\t\\t\\treturn this.bookmarkManager.getBookmark(type, normalized);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Restores the selection to the specified bookmark.\\n\\t\\t *\\n\\t\\t * @method moveToBookmark\\n\\t\\t * @param {Object} bookmark Bookmark to restore selection from.\\n\\t\\t * @return {Boolean} true/false if it was successful or not.\\n\\t\\t * @example\\n\\t\\t * // Stores a bookmark of the current selection\\n\\t\\t * var bm = tinymce.activeEditor.selection.getBookmark();\\n\\t\\t *\\n\\t\\t * tinymce.activeEditor.setContent(tinymce.activeEditor.getContent() + 'Some new content');\\n\\t\\t *\\n\\t\\t * // Restore the selection bookmark\\n\\t\\t * tinymce.activeEditor.selection.moveToBookmark(bm);\\n\\t\\t */\\n\\t\\tmoveToBookmark: function(bookmark) {\\n\\t\\t\\treturn this.bookmarkManager.moveToBookmark(bookmark);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Selects the specified element. This will place the start and end of the selection range around the element.\\n\\t\\t *\\n\\t\\t * @method select\\n\\t\\t * @param {Element} node HTML DOM element to select.\\n\\t\\t * @param {Boolean} content Optional bool state if the contents should be selected or not on non IE browser.\\n\\t\\t * @return {Element} Selected element the same element as the one that got passed in.\\n\\t\\t * @example\\n\\t\\t * // Select the first paragraph in the active editor\\n\\t\\t * tinymce.activeEditor.selection.select(tinymce.activeEditor.dom.select('p')[0]);\\n\\t\\t */\\n\\t\\tselect: function(node, content) {\\n\\t\\t\\tvar self = this, dom = self.dom, rng = dom.createRng(), idx;\\n\\n\\t\\t\\t// Clear stored range set by FocusManager\\n\\t\\t\\tself.lastFocusBookmark = null;\\n\\n\\t\\t\\tif (node) {\\n\\t\\t\\t\\tif (!content && self.controlSelection.controlSelect(node)) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tidx = dom.nodeIndex(node);\\n\\t\\t\\t\\trng.setStart(node.parentNode, idx);\\n\\t\\t\\t\\trng.setEnd(node.parentNode, idx + 1);\\n\\n\\t\\t\\t\\t// Find first/last text node or BR element\\n\\t\\t\\t\\tif (content) {\\n\\t\\t\\t\\t\\tself._moveEndPoint(rng, node, true);\\n\\t\\t\\t\\t\\tself._moveEndPoint(rng, node);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tself.setRng(rng);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn node;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns true/false if the selection range is collapsed or not. Collapsed means if it's a caret or a larger selection.\\n\\t\\t *\\n\\t\\t * @method isCollapsed\\n\\t\\t * @return {Boolean} true/false state if the selection range is collapsed or not.\\n\\t\\t * Collapsed means if it's a caret or a larger selection.\\n\\t\\t */\\n\\t\\tisCollapsed: function() {\\n\\t\\t\\tvar self = this, rng = self.getRng(), sel = self.getSel();\\n\\n\\t\\t\\tif (!rng || rng.item) {\\n\\t\\t\\t\\treturn false;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (rng.compareEndPoints) {\\n\\t\\t\\t\\treturn rng.compareEndPoints('StartToEnd', rng) === 0;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn !sel || rng.collapsed;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Collapse the selection to start or end of range.\\n\\t\\t *\\n\\t\\t * @method collapse\\n\\t\\t * @param {Boolean} toStart Optional boolean state if to collapse to end or not. Defaults to false.\\n\\t\\t */\\n\\t\\tcollapse: function(toStart) {\\n\\t\\t\\tvar self = this, rng = self.getRng(), node;\\n\\n\\t\\t\\t// Control range on IE\\n\\t\\t\\tif (rng.item) {\\n\\t\\t\\t\\tnode = rng.item(0);\\n\\t\\t\\t\\trng = self.win.document.body.createTextRange();\\n\\t\\t\\t\\trng.moveToElementText(node);\\n\\t\\t\\t}\\n\\n\\t\\t\\trng.collapse(!!toStart);\\n\\t\\t\\tself.setRng(rng);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns the browsers internal selection object.\\n\\t\\t *\\n\\t\\t * @method getSel\\n\\t\\t * @return {Selection} Internal browser selection object.\\n\\t\\t */\\n\\t\\tgetSel: function() {\\n\\t\\t\\tvar win = this.win;\\n\\n\\t\\t\\treturn win.getSelection ? win.getSelection() : win.document.selection;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns the browsers internal range object.\\n\\t\\t *\\n\\t\\t * @method getRng\\n\\t\\t * @param {Boolean} w3c Forces a compatible W3C range on IE.\\n\\t\\t * @return {Range} Internal browser range object.\\n\\t\\t * @see http://www.quirksmode.org/dom/range_intro.html\\n\\t\\t * @see http://www.dotvoid.com/2001/03/using-the-range-object-in-mozilla/\\n\\t\\t */\\n\\t\\tgetRng: function(w3c) {\\n\\t\\t\\tvar self = this, selection, rng, elm, doc, ieRng, evt;\\n\\n\\t\\t\\tfunction tryCompareBoundaryPoints(how, sourceRange, destinationRange) {\\n\\t\\t\\t\\ttry {\\n\\t\\t\\t\\t\\treturn sourceRange.compareBoundaryPoints(how, destinationRange);\\n\\t\\t\\t\\t} catch (ex) {\\n\\t\\t\\t\\t\\t// Gecko throws wrong document exception if the range points\\n\\t\\t\\t\\t\\t// to nodes that where removed from the dom #6690\\n\\t\\t\\t\\t\\t// Browsers should mutate existing DOMRange instances so that they always point\\n\\t\\t\\t\\t\\t// to something in the document this is not the case in Gecko works fine in IE/WebKit/Blink\\n\\t\\t\\t\\t\\t// For performance reasons just return -1\\n\\t\\t\\t\\t\\treturn -1;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!self.win) {\\n\\t\\t\\t\\treturn null;\\n\\t\\t\\t}\\n\\n\\t\\t\\tdoc = self.win.document;\\n\\n\\t\\t\\tif (typeof doc === 'undefined' || doc === null) {\\n\\t\\t\\t\\treturn null;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Use last rng passed from FocusManager if it's available this enables\\n\\t\\t\\t// calls to editor.selection.getStart() to work when caret focus is lost on IE\\n\\t\\t\\tif (!w3c && self.lastFocusBookmark) {\\n\\t\\t\\t\\tvar bookmark = self.lastFocusBookmark;\\n\\n\\t\\t\\t\\t// Convert bookmark to range IE 11 fix\\n\\t\\t\\t\\tif (bookmark.startContainer) {\\n\\t\\t\\t\\t\\trng = doc.createRange();\\n\\t\\t\\t\\t\\trng.setStart(bookmark.startContainer, bookmark.startOffset);\\n\\t\\t\\t\\t\\trng.setEnd(bookmark.endContainer, bookmark.endOffset);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\trng = bookmark;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn rng;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Found tridentSel object then we need to use that one\\n\\t\\t\\tif (w3c && self.tridentSel) {\\n\\t\\t\\t\\treturn self.tridentSel.getRangeAt(0);\\n\\t\\t\\t}\\n\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tif ((selection = self.getSel())) {\\n\\t\\t\\t\\t\\tif (selection.rangeCount > 0) {\\n\\t\\t\\t\\t\\t\\trng = selection.getRangeAt(0);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\trng = selection.createRange ? selection.createRange() : doc.createRange();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t} catch (ex) {\\n\\t\\t\\t\\t// IE throws unspecified error here if TinyMCE is placed in a frame/iframe\\n\\t\\t\\t}\\n\\n\\t\\t\\tevt = self.editor.fire('GetSelectionRange', {range: rng});\\n\\t\\t\\tif (evt.range !== rng) {\\n\\t\\t\\t\\treturn evt.range;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// We have W3C ranges and it's IE then fake control selection since IE9 doesn't handle that correctly yet\\n\\t\\t\\t// IE 11 doesn't support the selection object so we check for that as well\\n\\t\\t\\tif (isIE && rng && rng.setStart && doc.selection) {\\n\\t\\t\\t\\ttry {\\n\\t\\t\\t\\t\\t// IE will sometimes throw an exception here\\n\\t\\t\\t\\t\\tieRng = doc.selection.createRange();\\n\\t\\t\\t\\t} catch (ex) {\\n\\t\\t\\t\\t\\t// Ignore\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (ieRng && ieRng.item) {\\n\\t\\t\\t\\t\\telm = ieRng.item(0);\\n\\t\\t\\t\\t\\trng = doc.createRange();\\n\\t\\t\\t\\t\\trng.setStartBefore(elm);\\n\\t\\t\\t\\t\\trng.setEndAfter(elm);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// No range found then create an empty one\\n\\t\\t\\t// This can occur when the editor is placed in a hidden container element on Gecko\\n\\t\\t\\t// Or on IE when there was an exception\\n\\t\\t\\tif (!rng) {\\n\\t\\t\\t\\trng = doc.createRange ? doc.createRange() : doc.body.createTextRange();\\n\\t\\t\\t}\\n\\n\\t\\t\\t// If range is at start of document then move it to start of body\\n\\t\\t\\tif (rng.setStart && rng.startContainer.nodeType === 9 && rng.collapsed) {\\n\\t\\t\\t\\telm = self.dom.getRoot();\\n\\t\\t\\t\\trng.setStart(elm, 0);\\n\\t\\t\\t\\trng.setEnd(elm, 0);\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (self.selectedRange && self.explicitRange) {\\n\\t\\t\\t\\tif (tryCompareBoundaryPoints(rng.START_TO_START, rng, self.selectedRange) === 0 &&\\n\\t\\t\\t\\t\\ttryCompareBoundaryPoints(rng.END_TO_END, rng, self.selectedRange) === 0) {\\n\\t\\t\\t\\t\\t// Safari, Opera and Chrome only ever select text which causes the range to change.\\n\\t\\t\\t\\t\\t// This lets us use the originally set range if the selection hasn't been changed by the user.\\n\\t\\t\\t\\t\\trng = self.explicitRange;\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tself.selectedRange = null;\\n\\t\\t\\t\\t\\tself.explicitRange = null;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn rng;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Changes the selection to the specified DOM range.\\n\\t\\t *\\n\\t\\t * @method setRng\\n\\t\\t * @param {Range} rng Range to select.\\n\\t\\t * @param {Boolean} forward Optional boolean if the selection is forwards or backwards.\\n\\t\\t */\\n\\t\\tsetRng: function(rng, forward) {\\n\\t\\t\\tvar self = this, sel, node, evt;\\n\\n\\t\\t\\tif (!rng) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Is IE specific range\\n\\t\\t\\tif (rng.select) {\\n\\t\\t\\t\\tself.explicitRange = null;\\n\\n\\t\\t\\t\\ttry {\\n\\t\\t\\t\\t\\trng.select();\\n\\t\\t\\t\\t} catch (ex) {\\n\\t\\t\\t\\t\\t// Needed for some odd IE bug #1843306\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!self.tridentSel) {\\n\\t\\t\\t\\tsel = self.getSel();\\n\\n\\t\\t\\t\\tevt = self.editor.fire('SetSelectionRange', {range: rng});\\n\\t\\t\\t\\trng = evt.range;\\n\\n\\t\\t\\t\\tif (sel) {\\n\\t\\t\\t\\t\\tself.explicitRange = rng;\\n\\n\\t\\t\\t\\t\\ttry {\\n\\t\\t\\t\\t\\t\\tsel.removeAllRanges();\\n\\t\\t\\t\\t\\t\\tsel.addRange(rng);\\n\\t\\t\\t\\t\\t} catch (ex) {\\n\\t\\t\\t\\t\\t\\t// IE might throw errors here if the editor is within a hidden container and selection is changed\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Forward is set to false and we have an extend function\\n\\t\\t\\t\\t\\tif (forward === false && sel.extend) {\\n\\t\\t\\t\\t\\t\\tsel.collapse(rng.endContainer, rng.endOffset);\\n\\t\\t\\t\\t\\t\\tsel.extend(rng.startContainer, rng.startOffset);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// adding range isn't always successful so we need to check range count otherwise an exception can occur\\n\\t\\t\\t\\t\\tself.selectedRange = sel.rangeCount > 0 ? sel.getRangeAt(0) : null;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// WebKit egde case selecting images works better using setBaseAndExtent when the image is floated\\n\\t\\t\\t\\tif (!rng.collapsed && rng.startContainer == rng.endContainer && sel.setBaseAndExtent && !Env.ie) {\\n\\t\\t\\t\\t\\tif (rng.endOffset - rng.startOffset < 2) {\\n\\t\\t\\t\\t\\t\\tif (rng.startContainer.hasChildNodes()) {\\n\\t\\t\\t\\t\\t\\t\\tnode = rng.startContainer.childNodes[rng.startOffset];\\n\\t\\t\\t\\t\\t\\t\\tif (node && node.tagName == 'IMG') {\\n\\t\\t\\t\\t\\t\\t\\t\\tsel.setBaseAndExtent(\\n\\t\\t\\t\\t\\t\\t\\t\\t\\trng.startContainer,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\trng.startOffset,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\trng.endContainer,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\trng.endOffset\\n\\t\\t\\t\\t\\t\\t\\t\\t);\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t// Since the setBaseAndExtent is fixed in more recent Blink versions we\\n\\t\\t\\t\\t\\t\\t\\t\\t// need to detect if it's doing the wrong thing and falling back to the\\n\\t\\t\\t\\t\\t\\t\\t\\t// crazy incorrect behavior api call since that seems to be the only way\\n\\t\\t\\t\\t\\t\\t\\t\\t// to get it to work on Safari WebKit as of 2017-02-23\\n\\t\\t\\t\\t\\t\\t\\t\\tif (sel.anchorNode !== rng.startContainer) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tsel.setBaseAndExtent(node, 0, node, 1);\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tself.editor.fire('AfterSetSelectionRange', {range: rng});\\n\\t\\t\\t} else {\\n\\t\\t\\t\\t// Is W3C Range fake range on IE\\n\\t\\t\\t\\tif (rng.cloneRange) {\\n\\t\\t\\t\\t\\ttry {\\n\\t\\t\\t\\t\\t\\tself.tridentSel.addRange(rng);\\n\\t\\t\\t\\t\\t} catch (ex) {\\n\\t\\t\\t\\t\\t\\t//IE9 throws an error here if called before selection is placed in the editor\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Sets the current selection to the specified DOM element.\\n\\t\\t *\\n\\t\\t * @method setNode\\n\\t\\t * @param {Element} elm Element to set as the contents of the selection.\\n\\t\\t * @return {Element} Returns the element that got passed in.\\n\\t\\t * @example\\n\\t\\t * // Inserts a DOM node at current selection/caret location\\n\\t\\t * tinymce.activeEditor.selection.setNode(tinymce.activeEditor.dom.create('img', {src: 'some.gif', title: 'some title'}));\\n\\t\\t */\\n\\t\\tsetNode: function(elm) {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tself.setContent(self.dom.getOuterHTML(elm));\\n\\n\\t\\t\\treturn elm;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns the currently selected element or the common ancestor element for both start and end of the selection.\\n\\t\\t *\\n\\t\\t * @method getNode\\n\\t\\t * @return {Element} Currently selected element or common ancestor element.\\n\\t\\t * @example\\n\\t\\t * // Alerts the currently selected elements node name\\n\\t\\t * alert(tinymce.activeEditor.selection.getNode().nodeName);\\n\\t\\t */\\n\\t\\tgetNode: function() {\\n\\t\\t\\tvar self = this, rng = self.getRng(), elm;\\n\\t\\t\\tvar startContainer, endContainer, startOffset, endOffset, root = self.dom.getRoot();\\n\\n\\t\\t\\tfunction skipEmptyTextNodes(node, forwards) {\\n\\t\\t\\t\\tvar orig = node;\\n\\n\\t\\t\\t\\twhile (node && node.nodeType === 3 && node.length === 0) {\\n\\t\\t\\t\\t\\tnode = forwards ? node.nextSibling : node.previousSibling;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn node || orig;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Range maybe lost after the editor is made visible again\\n\\t\\t\\tif (!rng) {\\n\\t\\t\\t\\treturn root;\\n\\t\\t\\t}\\n\\n\\t\\t\\tstartContainer = rng.startContainer;\\n\\t\\t\\tendContainer = rng.endContainer;\\n\\t\\t\\tstartOffset = rng.startOffset;\\n\\t\\t\\tendOffset = rng.endOffset;\\n\\n\\t\\t\\tif (rng.setStart) {\\n\\t\\t\\t\\telm = rng.commonAncestorContainer;\\n\\n\\t\\t\\t\\t// Handle selection a image or other control like element such as anchors\\n\\t\\t\\t\\tif (!rng.collapsed) {\\n\\t\\t\\t\\t\\tif (startContainer == endContainer) {\\n\\t\\t\\t\\t\\t\\tif (endOffset - startOffset < 2) {\\n\\t\\t\\t\\t\\t\\t\\tif (startContainer.hasChildNodes()) {\\n\\t\\t\\t\\t\\t\\t\\t\\telm = startContainer.childNodes[startOffset];\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// If the anchor node is a element instead of a text node then return this element\\n\\t\\t\\t\\t\\t//if (tinymce.isWebKit && sel.anchorNode && sel.anchorNode.nodeType == 1)\\n\\t\\t\\t\\t\\t//\\treturn sel.anchorNode.childNodes[sel.anchorOffset];\\n\\n\\t\\t\\t\\t\\t// Handle cases where the selection is immediately wrapped around a node and return that node instead of it's parent.\\n\\t\\t\\t\\t\\t// This happens when you double click an underlined word in FireFox.\\n\\t\\t\\t\\t\\tif (startContainer.nodeType === 3 && endContainer.nodeType === 3) {\\n\\t\\t\\t\\t\\t\\tif (startContainer.length === startOffset) {\\n\\t\\t\\t\\t\\t\\t\\tstartContainer = skipEmptyTextNodes(startContainer.nextSibling, true);\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\tstartContainer = startContainer.parentNode;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tif (endOffset === 0) {\\n\\t\\t\\t\\t\\t\\t\\tendContainer = skipEmptyTextNodes(endContainer.previousSibling, false);\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\tendContainer = endContainer.parentNode;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tif (startContainer && startContainer === endContainer) {\\n\\t\\t\\t\\t\\t\\t\\treturn startContainer;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (elm && elm.nodeType == 3) {\\n\\t\\t\\t\\t\\treturn elm.parentNode;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn elm;\\n\\t\\t\\t}\\n\\n\\t\\t\\telm = rng.item ? rng.item(0) : rng.parentElement();\\n\\n\\t\\t\\t// IE 7 might return elements outside the iframe\\n\\t\\t\\tif (elm.ownerDocument !== self.win.document) {\\n\\t\\t\\t\\telm = root;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn elm;\\n\\t\\t},\\n\\n\\t\\tgetSelectedBlocks: function(startElm, endElm) {\\n\\t\\t\\tvar self = this, dom = self.dom, node, root, selectedBlocks = [];\\n\\n\\t\\t\\troot = dom.getRoot();\\n\\t\\t\\tstartElm = dom.getParent(startElm || self.getStart(), dom.isBlock);\\n\\t\\t\\tendElm = dom.getParent(endElm || self.getEnd(), dom.isBlock);\\n\\n\\t\\t\\tif (startElm && startElm != root) {\\n\\t\\t\\t\\tselectedBlocks.push(startElm);\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (startElm && endElm && startElm != endElm) {\\n\\t\\t\\t\\tnode = startElm;\\n\\n\\t\\t\\t\\tvar walker = new TreeWalker(startElm, root);\\n\\t\\t\\t\\twhile ((node = walker.next()) && node != endElm) {\\n\\t\\t\\t\\t\\tif (dom.isBlock(node)) {\\n\\t\\t\\t\\t\\t\\tselectedBlocks.push(node);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (endElm && startElm != endElm && endElm != root) {\\n\\t\\t\\t\\tselectedBlocks.push(endElm);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn selectedBlocks;\\n\\t\\t},\\n\\n\\t\\tisForward: function() {\\n\\t\\t\\tvar dom = this.dom, sel = this.getSel(), anchorRange, focusRange;\\n\\n\\t\\t\\t// No support for selection direction then always return true\\n\\t\\t\\tif (!sel || !sel.anchorNode || !sel.focusNode) {\\n\\t\\t\\t\\treturn true;\\n\\t\\t\\t}\\n\\n\\t\\t\\tanchorRange = dom.createRng();\\n\\t\\t\\tanchorRange.setStart(sel.anchorNode, sel.anchorOffset);\\n\\t\\t\\tanchorRange.collapse(true);\\n\\n\\t\\t\\tfocusRange = dom.createRng();\\n\\t\\t\\tfocusRange.setStart(sel.focusNode, sel.focusOffset);\\n\\t\\t\\tfocusRange.collapse(true);\\n\\n\\t\\t\\treturn anchorRange.compareBoundaryPoints(anchorRange.START_TO_START, focusRange) <= 0;\\n\\t\\t},\\n\\n\\t\\tnormalize: function() {\\n\\t\\t\\tvar self = this, rng = self.getRng();\\n\\n\\t\\t\\tif (Env.range && new RangeUtils(self.dom).normalize(rng)) {\\n\\t\\t\\t\\tself.setRng(rng, self.isForward());\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn rng;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Executes callback when the current selection starts/stops matching the specified selector. The current\\n\\t\\t * state will be passed to the callback as it's first argument.\\n\\t\\t *\\n\\t\\t * @method selectorChanged\\n\\t\\t * @param {String} selector CSS selector to check for.\\n\\t\\t * @param {function} callback Callback with state and args when the selector is matches or not.\\n\\t\\t */\\n\\t\\tselectorChanged: function(selector, callback) {\\n\\t\\t\\tvar self = this, currentSelectors;\\n\\n\\t\\t\\tif (!self.selectorChangedData) {\\n\\t\\t\\t\\tself.selectorChangedData = {};\\n\\t\\t\\t\\tcurrentSelectors = {};\\n\\n\\t\\t\\t\\tself.editor.on('NodeChange', function(e) {\\n\\t\\t\\t\\t\\tvar node = e.element, dom = self.dom, parents = dom.getParents(node, null, dom.getRoot()), matchedSelectors = {};\\n\\n\\t\\t\\t\\t\\t// Check for new matching selectors\\n\\t\\t\\t\\t\\teach(self.selectorChangedData, function(callbacks, selector) {\\n\\t\\t\\t\\t\\t\\teach(parents, function(node) {\\n\\t\\t\\t\\t\\t\\t\\tif (dom.is(node, selector)) {\\n\\t\\t\\t\\t\\t\\t\\t\\tif (!currentSelectors[selector]) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t// Execute callbacks\\n\\t\\t\\t\\t\\t\\t\\t\\t\\teach(callbacks, function(callback) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tcallback(true, {node: node, selector: selector, parents: parents});\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tcurrentSelectors[selector] = callbacks;\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t\\tmatchedSelectors[selector] = callbacks;\\n\\t\\t\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\t// Check if current selectors still match\\n\\t\\t\\t\\t\\teach(currentSelectors, function(callbacks, selector) {\\n\\t\\t\\t\\t\\t\\tif (!matchedSelectors[selector]) {\\n\\t\\t\\t\\t\\t\\t\\tdelete currentSelectors[selector];\\n\\n\\t\\t\\t\\t\\t\\t\\teach(callbacks, function(callback) {\\n\\t\\t\\t\\t\\t\\t\\t\\tcallback(false, {node: node, selector: selector, parents: parents});\\n\\t\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Add selector listeners\\n\\t\\t\\tif (!self.selectorChangedData[selector]) {\\n\\t\\t\\t\\tself.selectorChangedData[selector] = [];\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.selectorChangedData[selector].push(callback);\\n\\n\\t\\t\\treturn self;\\n\\t\\t},\\n\\n\\t\\tgetScrollContainer: function() {\\n\\t\\t\\tvar scrollContainer, node = this.dom.getRoot();\\n\\n\\t\\t\\twhile (node && node.nodeName != 'BODY') {\\n\\t\\t\\t\\tif (node.scrollHeight > node.clientHeight) {\\n\\t\\t\\t\\t\\tscrollContainer = node;\\n\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tnode = node.parentNode;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn scrollContainer;\\n\\t\\t},\\n\\n\\t\\tscrollIntoView: function(elm, alignToTop) {\\n\\t\\t\\tvar y, viewPort, self = this, dom = self.dom, root = dom.getRoot(), viewPortY, viewPortH, offsetY = 0;\\n\\n\\t\\t\\tfunction getPos(elm) {\\n\\t\\t\\t\\tvar x = 0, y = 0;\\n\\n\\t\\t\\t\\tvar offsetParent = elm;\\n\\t\\t\\t\\twhile (offsetParent && offsetParent.nodeType) {\\n\\t\\t\\t\\t\\tx += offsetParent.offsetLeft || 0;\\n\\t\\t\\t\\t\\ty += offsetParent.offsetTop || 0;\\n\\t\\t\\t\\t\\toffsetParent = offsetParent.offsetParent;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn {x: x, y: y};\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!NodeType.isElement(elm)) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (alignToTop === false) {\\n\\t\\t\\t\\toffsetY = elm.offsetHeight;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (root.nodeName != 'BODY') {\\n\\t\\t\\t\\tvar scrollContainer = self.getScrollContainer();\\n\\t\\t\\t\\tif (scrollContainer) {\\n\\t\\t\\t\\t\\ty = getPos(elm).y - getPos(scrollContainer).y + offsetY;\\n\\t\\t\\t\\t\\tviewPortH = scrollContainer.clientHeight;\\n\\t\\t\\t\\t\\tviewPortY = scrollContainer.scrollTop;\\n\\t\\t\\t\\t\\tif (y < viewPortY || y + 25 > viewPortY + viewPortH) {\\n\\t\\t\\t\\t\\t\\tscrollContainer.scrollTop = y < viewPortY ? y : y - viewPortH + 25;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tviewPort = dom.getViewPort(self.editor.getWin());\\n\\t\\t\\ty = dom.getPos(elm).y + offsetY;\\n\\t\\t\\tviewPortY = viewPort.y;\\n\\t\\t\\tviewPortH = viewPort.h;\\n\\t\\t\\tif (y < viewPort.y || y + 25 > viewPortY + viewPortH) {\\n\\t\\t\\t\\tself.editor.getWin().scrollTo(0, y < viewPortY ? y : y - viewPortH + 25);\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\tplaceCaretAt: function(clientX, clientY) {\\n\\t\\t\\tthis.setRng(RangeUtils.getCaretRangeFromPoint(clientX, clientY, this.editor.getDoc()));\\n\\t\\t},\\n\\n\\t\\t_moveEndPoint: function(rng, node, start) {\\n\\t\\t\\tvar root = node, walker = new TreeWalker(node, root);\\n\\t\\t\\tvar nonEmptyElementsMap = this.dom.schema.getNonEmptyElements();\\n\\n\\t\\t\\tdo {\\n\\t\\t\\t\\t// Text node\\n\\t\\t\\t\\tif (node.nodeType == 3 && trim(node.nodeValue).length !== 0) {\\n\\t\\t\\t\\t\\tif (start) {\\n\\t\\t\\t\\t\\t\\trng.setStart(node, 0);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\trng.setEnd(node, node.nodeValue.length);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// BR/IMG/INPUT elements but not table cells\\n\\t\\t\\t\\tif (nonEmptyElementsMap[node.nodeName] && !/^(TD|TH)$/.test(node.nodeName)) {\\n\\t\\t\\t\\t\\tif (start) {\\n\\t\\t\\t\\t\\t\\trng.setStartBefore(node);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tif (node.nodeName == 'BR') {\\n\\t\\t\\t\\t\\t\\t\\trng.setEndBefore(node);\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\trng.setEndAfter(node);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Found empty text block old IE can place the selection inside those\\n\\t\\t\\t\\tif (Env.ie && Env.ie < 11 && this.dom.isBlock(node) && this.dom.isEmpty(node)) {\\n\\t\\t\\t\\t\\tif (start) {\\n\\t\\t\\t\\t\\t\\trng.setStart(node, 0);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\trng.setEnd(node, 0);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\t\\t\\t} while ((node = (start ? walker.next() : walker.prev())));\\n\\n\\t\\t\\t// Failed to find any text node or other suitable location then move to the root of body\\n\\t\\t\\tif (root.nodeName == 'BODY') {\\n\\t\\t\\t\\tif (start) {\\n\\t\\t\\t\\t\\trng.setStart(root, 0);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\trng.setEnd(root, root.childNodes.length);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\tgetBoundingClientRect:  function() {\\n\\t\\t\\tvar rng = this.getRng();\\n\\t\\t\\treturn rng.collapsed ? CaretPosition.fromRangeStart(rng).getClientRects()[0] : rng.getBoundingClientRect();\\n\\t\\t},\\n\\n\\t\\tdestroy: function() {\\n\\t\\t\\tthis.win = null;\\n\\t\\t\\tthis.controlSelection.destroy();\\n\\t\\t}\\n\\t};\\n\\n\\treturn Selection;\\n});\\n\\n// Included from: js/tinymce/classes/dom/ElementUtils.js\\n\\n/**\\n * ElementUtils.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Utility class for various element specific functions.\\n *\\n * @private\\n * @class tinymce.dom.ElementUtils\\n */\\ndefine(\\\"tinymce/dom/ElementUtils\\\", [\\n\\t\\\"tinymce/dom/BookmarkManager\\\",\\n\\t\\\"tinymce/util/Tools\\\"\\n], function(BookmarkManager, Tools) {\\n\\tvar each = Tools.each;\\n\\n\\tfunction ElementUtils(dom) {\\n\\t\\t/**\\n\\t\\t * Compares two nodes and checks if it's attributes and styles matches.\\n\\t\\t * This doesn't compare classes as items since their order is significant.\\n\\t\\t *\\n\\t\\t * @method compare\\n\\t\\t * @param {Node} node1 First node to compare with.\\n\\t\\t * @param {Node} node2 Second node to compare with.\\n\\t\\t * @return {boolean} True/false if the nodes are the same or not.\\n\\t\\t */\\n\\t\\tthis.compare = function(node1, node2) {\\n\\t\\t\\t// Not the same name\\n\\t\\t\\tif (node1.nodeName != node2.nodeName) {\\n\\t\\t\\t\\treturn false;\\n\\t\\t\\t}\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Returns all the nodes attributes excluding internal ones, styles and classes.\\n\\t\\t\\t *\\n\\t\\t\\t * @private\\n\\t\\t\\t * @param {Node} node Node to get attributes from.\\n\\t\\t\\t * @return {Object} Name/value object with attributes and attribute values.\\n\\t\\t\\t */\\n\\t\\t\\tfunction getAttribs(node) {\\n\\t\\t\\t\\tvar attribs = {};\\n\\n\\t\\t\\t\\teach(dom.getAttribs(node), function(attr) {\\n\\t\\t\\t\\t\\tvar name = attr.nodeName.toLowerCase();\\n\\n\\t\\t\\t\\t\\t// Don't compare internal attributes or style\\n\\t\\t\\t\\t\\tif (name.indexOf('_') !== 0 && name !== 'style' && name.indexOf('data-') !== 0) {\\n\\t\\t\\t\\t\\t\\tattribs[name] = dom.getAttrib(node, name);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\treturn attribs;\\n\\t\\t\\t}\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Compares two objects checks if it's key + value exists in the other one.\\n\\t\\t\\t *\\n\\t\\t\\t * @private\\n\\t\\t\\t * @param {Object} obj1 First object to compare.\\n\\t\\t\\t * @param {Object} obj2 Second object to compare.\\n\\t\\t\\t * @return {boolean} True/false if the objects matches or not.\\n\\t\\t\\t */\\n\\t\\t\\tfunction compareObjects(obj1, obj2) {\\n\\t\\t\\t\\tvar value, name;\\n\\n\\t\\t\\t\\tfor (name in obj1) {\\n\\t\\t\\t\\t\\t// Obj1 has item obj2 doesn't have\\n\\t\\t\\t\\t\\tif (obj1.hasOwnProperty(name)) {\\n\\t\\t\\t\\t\\t\\tvalue = obj2[name];\\n\\n\\t\\t\\t\\t\\t\\t// Obj2 doesn't have obj1 item\\n\\t\\t\\t\\t\\t\\tif (typeof value == \\\"undefined\\\") {\\n\\t\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Obj2 item has a different value\\n\\t\\t\\t\\t\\t\\tif (obj1[name] != value) {\\n\\t\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Delete similar value\\n\\t\\t\\t\\t\\t\\tdelete obj2[name];\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Check if obj 2 has something obj 1 doesn't have\\n\\t\\t\\t\\tfor (name in obj2) {\\n\\t\\t\\t\\t\\t// Obj2 has item obj1 doesn't have\\n\\t\\t\\t\\t\\tif (obj2.hasOwnProperty(name)) {\\n\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn true;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Attribs are not the same\\n\\t\\t\\tif (!compareObjects(getAttribs(node1), getAttribs(node2))) {\\n\\t\\t\\t\\treturn false;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Styles are not the same\\n\\t\\t\\tif (!compareObjects(dom.parseStyle(dom.getAttrib(node1, 'style')), dom.parseStyle(dom.getAttrib(node2, 'style')))) {\\n\\t\\t\\t\\treturn false;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn !BookmarkManager.isBookmarkNode(node1) && !BookmarkManager.isBookmarkNode(node2);\\n\\t\\t};\\n\\t}\\n\\n\\treturn ElementUtils;\\n});\\n\\n// Included from: js/tinymce/classes/fmt/Preview.js\\n\\n/**\\n * Preview.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Internal class for generating previews styles for formats.\\n *\\n * Example:\\n *  Preview.getCssText(editor, 'bold');\\n *\\n * @private\\n * @class tinymce.fmt.Preview\\n */\\ndefine(\\\"tinymce/fmt/Preview\\\", [\\n\\t\\\"tinymce/dom/DOMUtils\\\",\\n\\t\\\"tinymce/util/Tools\\\",\\n\\t\\\"tinymce/html/Schema\\\"\\n], function(DOMUtils, Tools, Schema) {\\n\\tvar each = Tools.each;\\n\\tvar dom = DOMUtils.DOM;\\n\\n\\tfunction parsedSelectorToHtml(ancestry, editor) {\\n\\t\\tvar elm, item, fragment;\\n\\t\\tvar schema = editor && editor.schema || new Schema({});\\n\\n\\t\\tfunction decorate(elm, item) {\\n\\t\\t\\tif (item.classes.length) {\\n\\t\\t\\t\\tdom.addClass(elm, item.classes.join(' '));\\n\\t\\t\\t}\\n\\t\\t\\tdom.setAttribs(elm, item.attrs);\\n\\t\\t}\\n\\n\\t\\tfunction createElement(sItem) {\\n\\t\\t\\tvar elm;\\n\\n\\t\\t\\titem = typeof sItem === 'string' ? {\\n\\t\\t\\t\\tname: sItem,\\n\\t\\t\\t\\tclasses: [],\\n\\t\\t\\t\\tattrs: {}\\n\\t\\t\\t} : sItem;\\n\\n\\t\\t\\telm = dom.create(item.name);\\n\\t\\t\\tdecorate(elm, item);\\n\\t\\t\\treturn elm;\\n\\t\\t}\\n\\n\\t\\tfunction getRequiredParent(elm, candidate) {\\n\\t\\t\\tvar name = typeof elm !== 'string' ? elm.nodeName.toLowerCase() : elm;\\n\\t\\t\\tvar elmRule = schema.getElementRule(name);\\n\\t\\t\\tvar parentsRequired = elmRule.parentsRequired;\\n\\n\\t\\t\\tif (parentsRequired && parentsRequired.length) {\\n\\t\\t\\t\\treturn candidate && Tools.inArray(parentsRequired, candidate) !== -1 ? candidate : parentsRequired[0];\\n\\t\\t\\t} else {\\n\\t\\t\\t\\treturn false;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction wrapInHtml(elm, ancestry, siblings) {\\n\\t\\t\\tvar parent, parentCandidate, parentRequired;\\n\\t\\t\\tvar ancestor = ancestry.length && ancestry[0];\\n\\t\\t\\tvar ancestorName = ancestor && ancestor.name;\\n\\n\\t\\t\\tparentRequired = getRequiredParent(elm, ancestorName);\\n\\n\\t\\t\\tif (parentRequired) {\\n\\t\\t\\t\\tif (ancestorName == parentRequired) {\\n\\t\\t\\t\\t\\tparentCandidate = ancestry[0];\\n\\t\\t\\t\\t\\tancestry = ancestry.slice(1);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tparentCandidate = parentRequired;\\n\\t\\t\\t\\t}\\n\\t\\t\\t} else if (ancestor) {\\n\\t\\t\\t\\tparentCandidate = ancestry[0];\\n\\t\\t\\t\\tancestry = ancestry.slice(1);\\n\\t\\t\\t} else if (!siblings) {\\n\\t\\t\\t\\treturn elm;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (parentCandidate) {\\n\\t\\t\\t\\tparent = createElement(parentCandidate);\\n\\t\\t\\t\\tparent.appendChild(elm);\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (siblings) {\\n\\t\\t\\t\\tif (!parent) {\\n\\t\\t\\t\\t\\t// if no more ancestry, wrap in generic div\\n\\t\\t\\t\\t\\tparent = dom.create('div');\\n\\t\\t\\t\\t\\tparent.appendChild(elm);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tTools.each(siblings, function(sibling) {\\n\\t\\t\\t\\t\\tvar siblingElm = createElement(sibling);\\n\\t\\t\\t\\t\\tparent.insertBefore(siblingElm, elm);\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn wrapInHtml(parent, ancestry, parentCandidate && parentCandidate.siblings);\\n\\t\\t}\\n\\n\\t\\tif (ancestry && ancestry.length) {\\n\\t\\t\\titem = ancestry[0];\\n\\t\\t\\telm = createElement(item);\\n\\t\\t\\tfragment = dom.create('div');\\n\\t\\t\\tfragment.appendChild(wrapInHtml(elm, ancestry.slice(1), item.siblings));\\n\\t\\t\\treturn fragment;\\n\\t\\t} else {\\n\\t\\t\\treturn '';\\n\\t\\t}\\n\\t}\\n\\n\\n\\tfunction selectorToHtml(selector, editor) {\\n\\t\\treturn parsedSelectorToHtml(parseSelector(selector), editor);\\n\\t}\\n\\n\\n\\tfunction parseSelectorItem(item) {\\n\\t\\tvar tagName;\\n\\t\\tvar obj = {\\n\\t\\t\\tclasses: [],\\n\\t\\t\\tattrs: {}\\n\\t\\t};\\n\\n\\t\\titem = obj.selector = Tools.trim(item);\\n\\n\\t\\tif (item !== '*') {\\n\\t\\t\\t// matching IDs, CLASSes, ATTRIBUTES and PSEUDOs\\n\\t\\t\\ttagName = item.replace(/(?:([#\\\\.]|::?)([\\\\w\\\\-]+)|(\\\\[)([^\\\\]]+)\\\\]?)/g, function($0, $1, $2, $3, $4) {\\n\\t\\t\\t\\tswitch ($1) {\\n\\t\\t\\t\\t\\tcase '#':\\n\\t\\t\\t\\t\\t\\tobj.attrs.id = $2;\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\t\\tcase '.':\\n\\t\\t\\t\\t\\t\\tobj.classes.push($2);\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\t\\tcase ':':\\n\\t\\t\\t\\t\\t\\tif (Tools.inArray('checked disabled enabled read-only required'.split(' '), $2) !== -1) {\\n\\t\\t\\t\\t\\t\\t\\tobj.attrs[$2] = $2;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// atribute matched\\n\\t\\t\\t\\tif ($3 == '[') {\\n\\t\\t\\t\\t\\tvar m = $4.match(/([\\\\w\\\\-]+)(?:\\\\=\\\\\\\"([^\\\\\\\"]+))?/);\\n\\t\\t\\t\\t\\tif (m) {\\n\\t\\t\\t\\t\\t\\tobj.attrs[m[1]] = m[2];\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn '';\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\tobj.name = tagName || 'div';\\n\\t\\treturn obj;\\n\\t}\\n\\n\\n\\tfunction parseSelector(selector) {\\n\\t\\tif (!selector || typeof selector !== 'string') {\\n\\t\\t\\treturn [];\\n\\t\\t}\\n\\n\\t\\t// take into account only first one\\n\\t\\tselector = selector.split(/\\\\s*,\\\\s*/)[0];\\n\\n\\t\\t// tighten\\n\\t\\tselector = selector.replace(/\\\\s*(~\\\\+|~|\\\\+|>)\\\\s*/g, '$1');\\n\\n\\t\\t// split either on > or on space, but not the one inside brackets\\n\\t\\treturn Tools.map(selector.split(/(?:>|\\\\s+(?![^\\\\[\\\\]]+\\\\]))/), function(item) {\\n\\t\\t\\t// process each sibling selector separately\\n\\t\\t\\tvar siblings = Tools.map(item.split(/(?:~\\\\+|~|\\\\+)/), parseSelectorItem);\\n\\t\\t\\tvar obj = siblings.pop(); // the last one is our real target\\n\\n\\t\\t\\tif (siblings.length) {\\n\\t\\t\\t\\tobj.siblings = siblings;\\n\\t\\t\\t}\\n\\t\\t\\treturn obj;\\n\\t\\t}).reverse();\\n\\t}\\n\\n\\n\\tfunction getCssText(editor, format) {\\n\\t\\tvar name, previewFrag, previewElm, items;\\n\\t\\tvar previewCss = '', parentFontSize, previewStyles;\\n\\n\\t\\tpreviewStyles = editor.settings.preview_styles;\\n\\n\\t\\t// No preview forced\\n\\t\\tif (previewStyles === false) {\\n\\t\\t\\treturn '';\\n\\t\\t}\\n\\n\\t\\t// Default preview\\n\\t\\tif (typeof previewStyles !== 'string') {\\n\\t\\t\\tpreviewStyles = 'font-family font-size font-weight font-style text-decoration ' +\\n\\t\\t\\t\\t'text-transform color background-color border border-radius outline text-shadow';\\n\\t\\t}\\n\\n\\t\\t// Removes any variables since these can't be previewed\\n\\t\\tfunction removeVars(val) {\\n\\t\\t\\treturn val.replace(/%(\\\\w+)/g, '');\\n\\t\\t}\\n\\n\\t\\t// Create block/inline element to use for preview\\n\\t\\tif (typeof format == \\\"string\\\") {\\n\\t\\t\\tformat = editor.formatter.get(format);\\n\\t\\t\\tif (!format) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tformat = format[0];\\n\\t\\t}\\n\\n\\t\\t// Format specific preview override\\n\\t\\t// TODO: This should probably be further reduced by the previewStyles option\\n\\t\\tif ('preview' in format) {\\n\\t\\t\\tpreviewStyles = format.preview;\\n\\t\\t\\tif (previewStyles === false) {\\n\\t\\t\\t\\treturn '';\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tname = format.block || format.inline || 'span';\\n\\n\\t\\titems = parseSelector(format.selector);\\n\\t\\tif (items.length) {\\n\\t\\t\\tif (!items[0].name) { // e.g. something like ul > .someClass was provided\\n\\t\\t\\t\\titems[0].name = name;\\n\\t\\t\\t}\\n\\t\\t\\tname = format.selector;\\n\\t\\t\\tpreviewFrag = parsedSelectorToHtml(items, editor);\\n\\t\\t} else {\\n\\t\\t\\tpreviewFrag = parsedSelectorToHtml([name], editor);\\n\\t\\t}\\n\\n\\t\\tpreviewElm = dom.select(name, previewFrag)[0] || previewFrag.firstChild;\\n\\n\\t\\t// Add format styles to preview element\\n\\t\\teach(format.styles, function(value, name) {\\n\\t\\t\\tvalue = removeVars(value);\\n\\n\\t\\t\\tif (value) {\\n\\t\\t\\t\\tdom.setStyle(previewElm, name, value);\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\t// Add attributes to preview element\\n\\t\\teach(format.attributes, function(value, name) {\\n\\t\\t\\tvalue = removeVars(value);\\n\\n\\t\\t\\tif (value) {\\n\\t\\t\\t\\tdom.setAttrib(previewElm, name, value);\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\t// Add classes to preview element\\n\\t\\teach(format.classes, function(value) {\\n\\t\\t\\tvalue = removeVars(value);\\n\\n\\t\\t\\tif (!dom.hasClass(previewElm, value)) {\\n\\t\\t\\t\\tdom.addClass(previewElm, value);\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\teditor.fire('PreviewFormats');\\n\\n\\t\\t// Add the previewElm outside the visual area\\n\\t\\tdom.setStyles(previewFrag, {position: 'absolute', left: -0xFFFF});\\n\\t\\teditor.getBody().appendChild(previewFrag);\\n\\n\\t\\t// Get parent container font size so we can compute px values out of em/% for older IE:s\\n\\t\\tparentFontSize = dom.getStyle(editor.getBody(), 'fontSize', true);\\n\\t\\tparentFontSize = /px$/.test(parentFontSize) ? parseInt(parentFontSize, 10) : 0;\\n\\n\\t\\teach(previewStyles.split(' '), function(name) {\\n\\t\\t\\tvar value = dom.getStyle(previewElm, name, true);\\n\\n\\t\\t\\t// If background is transparent then check if the body has a background color we can use\\n\\t\\t\\tif (name == 'background-color' && /transparent|rgba\\\\s*\\\\([^)]+,\\\\s*0\\\\)/.test(value)) {\\n\\t\\t\\t\\tvalue = dom.getStyle(editor.getBody(), name, true);\\n\\n\\t\\t\\t\\t// Ignore white since it's the default color, not the nicest fix\\n\\t\\t\\t\\t// TODO: Fix this by detecting runtime style\\n\\t\\t\\t\\tif (dom.toHex(value).toLowerCase() == '#ffffff') {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (name == 'color') {\\n\\t\\t\\t\\t// Ignore black since it's the default color, not the nicest fix\\n\\t\\t\\t\\t// TODO: Fix this by detecting runtime style\\n\\t\\t\\t\\tif (dom.toHex(value).toLowerCase() == '#000000') {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Old IE won't calculate the font size so we need to do that manually\\n\\t\\t\\tif (name == 'font-size') {\\n\\t\\t\\t\\tif (/em|%$/.test(value)) {\\n\\t\\t\\t\\t\\tif (parentFontSize === 0) {\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Convert font size from em/% to px\\n\\t\\t\\t\\t\\tvalue = parseFloat(value, 10) / (/%$/.test(value) ? 100 : 1);\\n\\t\\t\\t\\t\\tvalue = (value * parentFontSize) + 'px';\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (name == \\\"border\\\" && value) {\\n\\t\\t\\t\\tpreviewCss += 'padding:0 2px;';\\n\\t\\t\\t}\\n\\n\\t\\t\\tpreviewCss += name + ':' + value + ';';\\n\\t\\t});\\n\\n\\t\\teditor.fire('AfterPreviewFormats');\\n\\n\\t\\t//previewCss += 'line-height:normal';\\n\\n\\t\\tdom.remove(previewFrag);\\n\\n\\t\\treturn previewCss;\\n\\t}\\n\\n\\treturn {\\n\\t\\tgetCssText: getCssText,\\n\\t\\tparseSelector: parseSelector,\\n\\t\\tselectorToHtml: selectorToHtml\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/fmt/Hooks.js\\n\\n/**\\n * Hooks.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2016 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Internal class for overriding formatting.\\n *\\n * @private\\n * @class tinymce.fmt.Hooks\\n */\\ndefine(\\\"tinymce/fmt/Hooks\\\", [\\n\\t\\\"tinymce/util/Arr\\\",\\n\\t\\\"tinymce/dom/NodeType\\\",\\n\\t\\\"tinymce/dom/DomQuery\\\"\\n], function(Arr, NodeType, $) {\\n\\tvar postProcessHooks = {}, filter = Arr.filter, each = Arr.each;\\n\\n\\tfunction addPostProcessHook(name, hook) {\\n\\t\\tvar hooks = postProcessHooks[name];\\n\\n\\t\\tif (!hooks) {\\n\\t\\t\\tpostProcessHooks[name] = hooks = [];\\n\\t\\t}\\n\\n\\t\\tpostProcessHooks[name].push(hook);\\n\\t}\\n\\n\\tfunction postProcess(name, editor) {\\n\\t\\teach(postProcessHooks[name], function(hook) {\\n\\t\\t\\thook(editor);\\n\\t\\t});\\n\\t}\\n\\n\\taddPostProcessHook(\\\"pre\\\", function(editor) {\\n\\t\\tvar rng = editor.selection.getRng(), isPre, blocks;\\n\\n\\t\\tfunction hasPreSibling(pre) {\\n\\t\\t\\treturn isPre(pre.previousSibling) && Arr.indexOf(blocks, pre.previousSibling) != -1;\\n\\t\\t}\\n\\n\\t\\tfunction joinPre(pre1, pre2) {\\n\\t\\t\\t$(pre2).remove();\\n\\t\\t\\t$(pre1).append('<br><br>').append(pre2.childNodes);\\n\\t\\t}\\n\\n\\t\\tisPre = NodeType.matchNodeNames('pre');\\n\\n\\t\\tif (!rng.collapsed) {\\n\\t\\t\\tblocks = editor.selection.getSelectedBlocks();\\n\\n\\t\\t\\teach(filter(filter(blocks, isPre), hasPreSibling), function(pre) {\\n\\t\\t\\t\\tjoinPre(pre.previousSibling, pre);\\n\\t\\t\\t});\\n\\t\\t}\\n\\t});\\n\\n\\treturn {\\n\\t\\tpostProcess: postProcess\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/Formatter.js\\n\\n/**\\n * Formatter.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Text formatter engine class. This class is used to apply formats like bold, italic, font size\\n * etc to the current selection or specific nodes. This engine was built to replace the browser's\\n * default formatting logic for execCommand due to its inconsistent and buggy behavior.\\n *\\n * @class tinymce.Formatter\\n * @example\\n *  tinymce.activeEditor.formatter.register('mycustomformat', {\\n *    inline: 'span',\\n *    styles: {color: '#ff0000'}\\n *  });\\n *\\n *  tinymce.activeEditor.formatter.apply('mycustomformat');\\n */\\ndefine(\\\"tinymce/Formatter\\\", [\\n\\t\\\"tinymce/dom/TreeWalker\\\",\\n\\t\\\"tinymce/dom/RangeUtils\\\",\\n\\t\\\"tinymce/dom/BookmarkManager\\\",\\n\\t\\\"tinymce/dom/ElementUtils\\\",\\n\\t\\\"tinymce/util/Fun\\\",\\n\\t\\\"tinymce/util/Tools\\\",\\n\\t\\\"tinymce/fmt/Preview\\\",\\n\\t\\\"tinymce/fmt/Hooks\\\"\\n], function(TreeWalker, RangeUtils, BookmarkManager, ElementUtils, Fun, Tools, Preview, Hooks) {\\n\\t/**\\n\\t * Constructs a new formatter instance.\\n\\t *\\n\\t * @constructor Formatter\\n\\t * @param {tinymce.Editor} ed Editor instance to construct the formatter engine to.\\n\\t */\\n\\treturn function(ed) {\\n\\t\\tvar formats = {},\\n\\t\\t\\tdom = ed.dom,\\n\\t\\t\\tselection = ed.selection,\\n\\t\\t\\trangeUtils = new RangeUtils(dom),\\n\\t\\t\\tisValid = ed.schema.isValidChild,\\n\\t\\t\\tisBlock = dom.isBlock,\\n\\t\\t\\tforcedRootBlock = ed.settings.forced_root_block,\\n\\t\\t\\tnodeIndex = dom.nodeIndex,\\n\\t\\t\\tINVISIBLE_CHAR = '\\\\uFEFF',\\n\\t\\t\\tMCE_ATTR_RE = /^(src|href|style)$/,\\n\\t\\t\\tFALSE = false,\\n\\t\\t\\tTRUE = true,\\n\\t\\t\\tformatChangeData,\\n\\t\\t\\tundef,\\n\\t\\t\\tgetContentEditable = dom.getContentEditable,\\n\\t\\t\\tdisableCaretContainer,\\n\\t\\t\\tmarkCaretContainersBogus,\\n\\t\\t\\tisBookmarkNode = BookmarkManager.isBookmarkNode;\\n\\n\\t\\tvar each = Tools.each,\\n\\t\\t\\tgrep = Tools.grep,\\n\\t\\t\\twalk = Tools.walk,\\n\\t\\t\\textend = Tools.extend;\\n\\n\\t\\tfunction isTextBlock(name) {\\n\\t\\t\\tif (name.nodeType) {\\n\\t\\t\\t\\tname = name.nodeName;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn !!ed.schema.getTextBlockElements()[name.toLowerCase()];\\n\\t\\t}\\n\\n\\t\\tfunction isTableCell(node) {\\n\\t\\t\\treturn /^(TH|TD)$/.test(node.nodeName);\\n\\t\\t}\\n\\n\\t\\tfunction isInlineBlock(node) {\\n\\t\\t\\treturn node && /^(IMG)$/.test(node.nodeName);\\n\\t\\t}\\n\\n\\t\\tfunction getParents(node, selector) {\\n\\t\\t\\treturn dom.getParents(node, selector, dom.getRoot());\\n\\t\\t}\\n\\n\\t\\tfunction isCaretNode(node) {\\n\\t\\t\\treturn node.nodeType === 1 && node.id === '_mce_caret';\\n\\t\\t}\\n\\n\\t\\tfunction defaultFormats() {\\n\\t\\t\\tregister({\\n\\t\\t\\t\\tvaligntop: [\\n\\t\\t\\t\\t\\t{selector: 'td,th', styles: {'verticalAlign': 'top'}}\\n\\t\\t\\t\\t],\\n\\n\\t\\t\\t\\tvalignmiddle: [\\n\\t\\t\\t\\t\\t{selector: 'td,th', styles: {'verticalAlign': 'middle'}}\\n\\t\\t\\t\\t],\\n\\n\\t\\t\\t\\tvalignbottom: [\\n\\t\\t\\t\\t\\t{selector: 'td,th', styles: {'verticalAlign': 'bottom'}}\\n\\t\\t\\t\\t],\\n\\n\\t\\t\\t\\talignleft: [\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\tselector: 'figure.image',\\n\\t\\t\\t\\t\\t\\tcollapsed: false,\\n\\t\\t\\t\\t\\t\\tclasses: 'align-left',\\n\\t\\t\\t\\t\\t\\tceFalseOverride: true,\\n\\t\\t\\t\\t\\t\\tpreview: 'font-family font-size'\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\tselector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',\\n\\t\\t\\t\\t\\t\\tstyles: {\\n\\t\\t\\t\\t\\t\\t\\ttextAlign: 'left'\\n\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\tinherit: false,\\n\\t\\t\\t\\t\\t\\tpreview: false,\\n\\t\\t\\t\\t\\t\\tdefaultBlock: 'div'\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t{selector: 'img,table', collapsed: false, styles: {'float': 'left'}, preview: 'font-family font-size'}\\n\\t\\t\\t\\t],\\n\\n\\t\\t\\t\\taligncenter: [\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\tselector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',\\n\\t\\t\\t\\t\\t\\tstyles: {\\n\\t\\t\\t\\t\\t\\t\\ttextAlign: 'center'\\n\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\tinherit: false,\\n\\t\\t\\t\\t\\t\\tpreview: false,\\n\\t\\t\\t\\t\\t\\tdefaultBlock: 'div'\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\tselector: 'figure.image',\\n\\t\\t\\t\\t\\t\\tcollapsed: false,\\n\\t\\t\\t\\t\\t\\tclasses: 'align-center',\\n\\t\\t\\t\\t\\t\\tceFalseOverride: true,\\n\\t\\t\\t\\t\\t\\tpreview: 'font-family font-size'\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\tselector: 'img',\\n\\t\\t\\t\\t\\t\\tcollapsed: false,\\n\\t\\t\\t\\t\\t\\tstyles: {\\n\\t\\t\\t\\t\\t\\t\\tdisplay: 'block',\\n\\t\\t\\t\\t\\t\\t\\tmarginLeft: 'auto',\\n\\t\\t\\t\\t\\t\\t\\tmarginRight: 'auto'\\n\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\tpreview: false\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\tselector: 'table',\\n\\t\\t\\t\\t\\t\\tcollapsed: false,\\n\\t\\t\\t\\t\\t\\tstyles: {\\n\\t\\t\\t\\t\\t\\t\\tmarginLeft: 'auto',\\n\\t\\t\\t\\t\\t\\t\\tmarginRight: 'auto'\\n\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\tpreview: 'font-family font-size'\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t],\\n\\n\\t\\t\\t\\talignright: [\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\tselector: 'figure.image',\\n\\t\\t\\t\\t\\t\\tcollapsed: false,\\n\\t\\t\\t\\t\\t\\tclasses: 'align-right',\\n\\t\\t\\t\\t\\t\\tceFalseOverride: true,\\n\\t\\t\\t\\t\\t\\tpreview: 'font-family font-size'\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\tselector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',\\n\\t\\t\\t\\t\\t\\tstyles: {\\n\\t\\t\\t\\t\\t\\t\\ttextAlign: 'right'\\n\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\tinherit: false,\\n\\t\\t\\t\\t\\t\\tpreview: 'font-family font-size',\\n\\t\\t\\t\\t\\t\\tdefaultBlock: 'div'\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\tselector: 'img,table',\\n\\t\\t\\t\\t\\t\\tcollapsed: false,\\n\\t\\t\\t\\t\\t\\tstyles: {\\n\\t\\t\\t\\t\\t\\t\\t'float': 'right'\\n\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\tpreview: 'font-family font-size'\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t],\\n\\n\\t\\t\\t\\talignjustify: [\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\tselector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',\\n\\t\\t\\t\\t\\t\\tstyles: {\\n\\t\\t\\t\\t\\t\\t\\ttextAlign: 'justify'\\n\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\tinherit: false,\\n\\t\\t\\t\\t\\t\\tdefaultBlock: 'div',\\n\\t\\t\\t\\t\\t\\tpreview: 'font-family font-size'\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t],\\n\\n\\t\\t\\t\\tbold: [\\n\\t\\t\\t\\t\\t{inline: 'strong', remove: 'all'},\\n\\t\\t\\t\\t\\t{inline: 'span', styles: {fontWeight: 'bold'}},\\n\\t\\t\\t\\t\\t{inline: 'b', remove: 'all'}\\n\\t\\t\\t\\t],\\n\\n\\t\\t\\t\\titalic: [\\n\\t\\t\\t\\t\\t{inline: 'em', remove: 'all'},\\n\\t\\t\\t\\t\\t{inline: 'span', styles: {fontStyle: 'italic'}},\\n\\t\\t\\t\\t\\t{inline: 'i', remove: 'all'}\\n\\t\\t\\t\\t],\\n\\n\\t\\t\\t\\tunderline: [\\n\\t\\t\\t\\t\\t{inline: 'span', styles: {textDecoration: 'underline'}, exact: true},\\n\\t\\t\\t\\t\\t{inline: 'u', remove: 'all'}\\n\\t\\t\\t\\t],\\n\\n\\t\\t\\t\\tstrikethrough: [\\n\\t\\t\\t\\t\\t{inline: 'span', styles: {textDecoration: 'line-through'}, exact: true},\\n\\t\\t\\t\\t\\t{inline: 'strike', remove: 'all'}\\n\\t\\t\\t\\t],\\n\\n\\t\\t\\t\\tforecolor: {inline: 'span', styles: {color: '%value'}, links: true, remove_similar: true},\\n\\t\\t\\t\\thilitecolor: {inline: 'span', styles: {backgroundColor: '%value'}, links: true, remove_similar: true},\\n\\t\\t\\t\\tfontname: {inline: 'span', styles: {fontFamily: '%value'}},\\n\\t\\t\\t\\tfontsize: {inline: 'span', styles: {fontSize: '%value'}},\\n\\t\\t\\t\\tfontsize_class: {inline: 'span', attributes: {'class': '%value'}},\\n\\t\\t\\t\\tblockquote: {block: 'blockquote', wrapper: 1, remove: 'all'},\\n\\t\\t\\t\\tsubscript: {inline: 'sub'},\\n\\t\\t\\t\\tsuperscript: {inline: 'sup'},\\n\\t\\t\\t\\tcode: {inline: 'code'},\\n\\n\\t\\t\\t\\tlink: {inline: 'a', selector: 'a', remove: 'all', split: true, deep: true,\\n\\t\\t\\t\\t\\tonmatch: function() {\\n\\t\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\t\\tonformat: function(elm, fmt, vars) {\\n\\t\\t\\t\\t\\t\\teach(vars, function(value, key) {\\n\\t\\t\\t\\t\\t\\t\\tdom.setAttrib(elm, key, value);\\n\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\tremoveformat: [\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\tselector: 'b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins',\\n\\t\\t\\t\\t\\t\\tremove: 'all',\\n\\t\\t\\t\\t\\t\\tsplit: true,\\n\\t\\t\\t\\t\\t\\texpand: false,\\n\\t\\t\\t\\t\\t\\tblock_expand: true,\\n\\t\\t\\t\\t\\t\\tdeep: true\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t{selector: 'span', attributes: ['style', 'class'], remove: 'empty', split: true, expand: false, deep: true},\\n\\t\\t\\t\\t\\t{selector: '*', attributes: ['style', 'class'], split: false, expand: false, deep: true}\\n\\t\\t\\t\\t]\\n\\t\\t\\t});\\n\\n\\t\\t\\t// Register default block formats\\n\\t\\t\\teach('p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp'.split(/\\\\s/), function(name) {\\n\\t\\t\\t\\tregister(name, {block: name, remove: 'all'});\\n\\t\\t\\t});\\n\\n\\t\\t\\t// Register user defined formats\\n\\t\\t\\tregister(ed.settings.formats);\\n\\t\\t}\\n\\n\\t\\tfunction addKeyboardShortcuts() {\\n\\t\\t\\t// Add some inline shortcuts\\n\\t\\t\\ted.addShortcut('meta+b', 'bold_desc', 'Bold');\\n\\t\\t\\ted.addShortcut('meta+i', 'italic_desc', 'Italic');\\n\\t\\t\\ted.addShortcut('meta+u', 'underline_desc', 'Underline');\\n\\n\\t\\t\\t// BlockFormat shortcuts keys\\n\\t\\t\\tfor (var i = 1; i <= 6; i++) {\\n\\t\\t\\t\\ted.addShortcut('access+' + i, '', ['FormatBlock', false, 'h' + i]);\\n\\t\\t\\t}\\n\\n\\t\\t\\ted.addShortcut('access+7', '', ['FormatBlock', false, 'p']);\\n\\t\\t\\ted.addShortcut('access+8', '', ['FormatBlock', false, 'div']);\\n\\t\\t\\ted.addShortcut('access+9', '', ['FormatBlock', false, 'address']);\\n\\t\\t}\\n\\n\\t\\t// Public functions\\n\\n\\t\\t/**\\n\\t\\t * Returns the format by name or all formats if no name is specified.\\n\\t\\t *\\n\\t\\t * @method get\\n\\t\\t * @param {String} name Optional name to retrieve by.\\n\\t\\t * @return {Array/Object} Array/Object with all registered formats or a specific format.\\n\\t\\t */\\n\\t\\tfunction get(name) {\\n\\t\\t\\treturn name ? formats[name] : formats;\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Registers a specific format by name.\\n\\t\\t *\\n\\t\\t * @method register\\n\\t\\t * @param {Object/String} name Name of the format for example \\\"bold\\\".\\n\\t\\t * @param {Object/Array} format Optional format object or array of format variants\\n\\t\\t * can only be omitted if the first arg is an object.\\n\\t\\t */\\n\\t\\tfunction register(name, format) {\\n\\t\\t\\tif (name) {\\n\\t\\t\\t\\tif (typeof name !== 'string') {\\n\\t\\t\\t\\t\\teach(name, function(format, name) {\\n\\t\\t\\t\\t\\t\\tregister(name, format);\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t// Force format into array and add it to internal collection\\n\\t\\t\\t\\t\\tformat = format.length ? format : [format];\\n\\n\\t\\t\\t\\t\\teach(format, function(format) {\\n\\t\\t\\t\\t\\t\\t// Set deep to false by default on selector formats this to avoid removing\\n\\t\\t\\t\\t\\t\\t// alignment on images inside paragraphs when alignment is changed on paragraphs\\n\\t\\t\\t\\t\\t\\tif (format.deep === undef) {\\n\\t\\t\\t\\t\\t\\t\\tformat.deep = !format.selector;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Default to true\\n\\t\\t\\t\\t\\t\\tif (format.split === undef) {\\n\\t\\t\\t\\t\\t\\t\\tformat.split = !format.selector || format.inline;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Default to true\\n\\t\\t\\t\\t\\t\\tif (format.remove === undef && format.selector && !format.inline) {\\n\\t\\t\\t\\t\\t\\t\\tformat.remove = 'none';\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Mark format as a mixed format inline + block level\\n\\t\\t\\t\\t\\t\\tif (format.selector && format.inline) {\\n\\t\\t\\t\\t\\t\\t\\tformat.mixed = true;\\n\\t\\t\\t\\t\\t\\t\\tformat.block_expand = true;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Split classes if needed\\n\\t\\t\\t\\t\\t\\tif (typeof format.classes === 'string') {\\n\\t\\t\\t\\t\\t\\t\\tformat.classes = format.classes.split(/\\\\s+/);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\tformats[name] = format;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Unregister a specific format by name.\\n\\t\\t *\\n\\t\\t * @method unregister\\n\\t\\t * @param {String} name Name of the format for example \\\"bold\\\".\\n\\t\\t */\\n\\t\\tfunction unregister(name) {\\n\\t\\t\\tif (name && formats[name]) {\\n\\t\\t\\t\\tdelete formats[name];\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn formats;\\n\\t\\t}\\n\\n\\t\\tfunction matchesUnInheritedFormatSelector(node, name) {\\n\\t\\t\\tvar formatList = get(name);\\n\\n\\t\\t\\tif (formatList) {\\n\\t\\t\\t\\tfor (var i = 0; i < formatList.length; i++) {\\n\\t\\t\\t\\t\\tif (formatList[i].inherit === false && dom.is(node, formatList[i].selector)) {\\n\\t\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn false;\\n\\t\\t}\\n\\n\\t\\tfunction getTextDecoration(node) {\\n\\t\\t\\tvar decoration;\\n\\n\\t\\t\\ted.dom.getParent(node, function(n) {\\n\\t\\t\\t\\tdecoration = ed.dom.getStyle(n, 'text-decoration');\\n\\t\\t\\t\\treturn decoration && decoration !== 'none';\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn decoration;\\n\\t\\t}\\n\\n\\t\\tfunction processUnderlineAndColor(node) {\\n\\t\\t\\tvar textDecoration;\\n\\t\\t\\tif (node.nodeType === 1 && node.parentNode && node.parentNode.nodeType === 1) {\\n\\t\\t\\t\\ttextDecoration = getTextDecoration(node.parentNode);\\n\\t\\t\\t\\tif (ed.dom.getStyle(node, 'color') && textDecoration) {\\n\\t\\t\\t\\t\\ted.dom.setStyle(node, 'text-decoration', textDecoration);\\n\\t\\t\\t\\t} else if (ed.dom.getStyle(node, 'text-decoration') === textDecoration) {\\n\\t\\t\\t\\t\\ted.dom.setStyle(node, 'text-decoration', null);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Applies the specified format to the current selection or specified node.\\n\\t\\t *\\n\\t\\t * @method apply\\n\\t\\t * @param {String} name Name of format to apply.\\n\\t\\t * @param {Object} vars Optional list of variables to replace within format before applying it.\\n\\t\\t * @param {Node} node Optional node to apply the format to defaults to current selection.\\n\\t\\t */\\n\\t\\tfunction apply(name, vars, node) {\\n\\t\\t\\tvar formatList = get(name), format = formatList[0], bookmark, rng, isCollapsed = !node && selection.isCollapsed();\\n\\n\\t\\t\\tfunction setElementFormat(elm, fmt) {\\n\\t\\t\\t\\tfmt = fmt || format;\\n\\n\\t\\t\\t\\tif (elm) {\\n\\t\\t\\t\\t\\tif (fmt.onformat) {\\n\\t\\t\\t\\t\\t\\tfmt.onformat(elm, fmt, vars, node);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\teach(fmt.styles, function(value, name) {\\n\\t\\t\\t\\t\\t\\tdom.setStyle(elm, name, replaceVars(value, vars));\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\t// Needed for the WebKit span spam bug\\n\\t\\t\\t\\t\\t// TODO: Remove this once WebKit/Blink fixes this\\n\\t\\t\\t\\t\\tif (fmt.styles) {\\n\\t\\t\\t\\t\\t\\tvar styleVal = dom.getAttrib(elm, 'style');\\n\\n\\t\\t\\t\\t\\t\\tif (styleVal) {\\n\\t\\t\\t\\t\\t\\t\\telm.setAttribute('data-mce-style', styleVal);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\teach(fmt.attributes, function(value, name) {\\n\\t\\t\\t\\t\\t\\tdom.setAttrib(elm, name, replaceVars(value, vars));\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\teach(fmt.classes, function(value) {\\n\\t\\t\\t\\t\\t\\tvalue = replaceVars(value, vars);\\n\\n\\t\\t\\t\\t\\t\\tif (!dom.hasClass(elm, value)) {\\n\\t\\t\\t\\t\\t\\t\\tdom.addClass(elm, value);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction applyNodeStyle(formatList, node) {\\n\\t\\t\\t\\tvar found = false;\\n\\n\\t\\t\\t\\tif (!format.selector) {\\n\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Look for matching formats\\n\\t\\t\\t\\teach(formatList, function(format) {\\n\\t\\t\\t\\t\\t// Check collapsed state if it exists\\n\\t\\t\\t\\t\\tif ('collapsed' in format && format.collapsed !== isCollapsed) {\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (dom.is(node, format.selector) && !isCaretNode(node)) {\\n\\t\\t\\t\\t\\t\\tsetElementFormat(node, format);\\n\\t\\t\\t\\t\\t\\tfound = true;\\n\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\treturn found;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// This converts: <p>[a</p><p>]b</p> -> <p>[a]</p><p>b</p>\\n\\t\\t\\tfunction adjustSelectionToVisibleSelection() {\\n\\t\\t\\t\\tfunction findSelectionEnd(start, end) {\\n\\t\\t\\t\\t\\tvar walker = new TreeWalker(end);\\n\\t\\t\\t\\t\\tfor (node = walker.prev2(); node; node = walker.prev2()) {\\n\\t\\t\\t\\t\\t\\tif (node.nodeType == 3 && node.data.length > 0) {\\n\\t\\t\\t\\t\\t\\t\\treturn node;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tif (node.childNodes.length > 1 || node == start || node.tagName == 'BR') {\\n\\t\\t\\t\\t\\t\\t\\treturn node;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Adjust selection so that a end container with a end offset of zero is not included in the selection\\n\\t\\t\\t\\t// as this isn't visible to the user.\\n\\t\\t\\t\\tvar rng = ed.selection.getRng();\\n\\t\\t\\t\\tvar start = rng.startContainer;\\n\\t\\t\\t\\tvar end = rng.endContainer;\\n\\n\\t\\t\\t\\tif (start != end && rng.endOffset === 0) {\\n\\t\\t\\t\\t\\tvar newEnd = findSelectionEnd(start, end);\\n\\t\\t\\t\\t\\tvar endOffset = newEnd.nodeType == 3 ? newEnd.data.length : newEnd.childNodes.length;\\n\\n\\t\\t\\t\\t\\trng.setEnd(newEnd, endOffset);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn rng;\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction applyRngStyle(rng, bookmark, node_specific) {\\n\\t\\t\\t\\tvar newWrappers = [], wrapName, wrapElm, contentEditable = true;\\n\\n\\t\\t\\t\\t// Setup wrapper element\\n\\t\\t\\t\\twrapName = format.inline || format.block;\\n\\t\\t\\t\\twrapElm = dom.create(wrapName);\\n\\t\\t\\t\\tsetElementFormat(wrapElm);\\n\\n\\t\\t\\t\\trangeUtils.walk(rng, function(nodes) {\\n\\t\\t\\t\\t\\tvar currentWrapElm;\\n\\n\\t\\t\\t\\t\\t/**\\n\\t\\t\\t\\t\\t * Process a list of nodes wrap them.\\n\\t\\t\\t\\t\\t */\\n\\t\\t\\t\\t\\tfunction process(node) {\\n\\t\\t\\t\\t\\t\\tvar nodeName, parentName, hasContentEditableState, lastContentEditable;\\n\\n\\t\\t\\t\\t\\t\\tlastContentEditable = contentEditable;\\n\\t\\t\\t\\t\\t\\tnodeName = node.nodeName.toLowerCase();\\n\\t\\t\\t\\t\\t\\tparentName = node.parentNode.nodeName.toLowerCase();\\n\\n\\t\\t\\t\\t\\t\\t// Node has a contentEditable value\\n\\t\\t\\t\\t\\t\\tif (node.nodeType === 1 && getContentEditable(node)) {\\n\\t\\t\\t\\t\\t\\t\\tlastContentEditable = contentEditable;\\n\\t\\t\\t\\t\\t\\t\\tcontentEditable = getContentEditable(node) === \\\"true\\\";\\n\\t\\t\\t\\t\\t\\t\\thasContentEditableState = true; // We don't want to wrap the container only it's children\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Stop wrapping on br elements\\n\\t\\t\\t\\t\\t\\tif (isEq(nodeName, 'br')) {\\n\\t\\t\\t\\t\\t\\t\\tcurrentWrapElm = 0;\\n\\n\\t\\t\\t\\t\\t\\t\\t// Remove any br elements when we wrap things\\n\\t\\t\\t\\t\\t\\t\\tif (format.block) {\\n\\t\\t\\t\\t\\t\\t\\t\\tdom.remove(node);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// If node is wrapper type\\n\\t\\t\\t\\t\\t\\tif (format.wrapper && matchNode(node, name, vars)) {\\n\\t\\t\\t\\t\\t\\t\\tcurrentWrapElm = 0;\\n\\t\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Can we rename the block\\n\\t\\t\\t\\t\\t\\t// TODO: Break this if up, too complex\\n\\t\\t\\t\\t\\t\\tif (contentEditable && !hasContentEditableState && format.block &&\\n\\t\\t\\t\\t\\t\\t\\t!format.wrapper && isTextBlock(nodeName) && isValid(parentName, wrapName)) {\\n\\t\\t\\t\\t\\t\\t\\tnode = dom.rename(node, wrapName);\\n\\t\\t\\t\\t\\t\\t\\tsetElementFormat(node);\\n\\t\\t\\t\\t\\t\\t\\tnewWrappers.push(node);\\n\\t\\t\\t\\t\\t\\t\\tcurrentWrapElm = 0;\\n\\t\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Handle selector patterns\\n\\t\\t\\t\\t\\t\\tif (format.selector) {\\n\\t\\t\\t\\t\\t\\t\\tvar found = applyNodeStyle(formatList, node);\\n\\n\\t\\t\\t\\t\\t\\t\\t// Continue processing if a selector match wasn't found and a inline element is defined\\n\\t\\t\\t\\t\\t\\t\\tif (!format.inline || found) {\\n\\t\\t\\t\\t\\t\\t\\t\\tcurrentWrapElm = 0;\\n\\t\\t\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Is it valid to wrap this item\\n\\t\\t\\t\\t\\t\\t// TODO: Break this if up, too complex\\n\\t\\t\\t\\t\\t\\tif (contentEditable && !hasContentEditableState && isValid(wrapName, nodeName) && isValid(parentName, wrapName) &&\\n\\t\\t\\t\\t\\t\\t\\t\\t!(!node_specific && node.nodeType === 3 &&\\n\\t\\t\\t\\t\\t\\t\\t\\tnode.nodeValue.length === 1 &&\\n\\t\\t\\t\\t\\t\\t\\t\\tnode.nodeValue.charCodeAt(0) === 65279) &&\\n\\t\\t\\t\\t\\t\\t\\t\\t!isCaretNode(node) &&\\n\\t\\t\\t\\t\\t\\t\\t\\t(!format.inline || !isBlock(node))) {\\n\\t\\t\\t\\t\\t\\t\\t// Start wrapping\\n\\t\\t\\t\\t\\t\\t\\tif (!currentWrapElm) {\\n\\t\\t\\t\\t\\t\\t\\t\\t// Wrap the node\\n\\t\\t\\t\\t\\t\\t\\t\\tcurrentWrapElm = dom.clone(wrapElm, FALSE);\\n\\t\\t\\t\\t\\t\\t\\t\\tnode.parentNode.insertBefore(currentWrapElm, node);\\n\\t\\t\\t\\t\\t\\t\\t\\tnewWrappers.push(currentWrapElm);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tcurrentWrapElm.appendChild(node);\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\t// Start a new wrapper for possible children\\n\\t\\t\\t\\t\\t\\t\\tcurrentWrapElm = 0;\\n\\n\\t\\t\\t\\t\\t\\t\\teach(grep(node.childNodes), process);\\n\\n\\t\\t\\t\\t\\t\\t\\tif (hasContentEditableState) {\\n\\t\\t\\t\\t\\t\\t\\t\\tcontentEditable = lastContentEditable; // Restore last contentEditable state from stack\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t// End the last wrapper\\n\\t\\t\\t\\t\\t\\t\\tcurrentWrapElm = 0;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Process siblings from range\\n\\t\\t\\t\\t\\teach(nodes, process);\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t// Apply formats to links as well to get the color of the underline to change as well\\n\\t\\t\\t\\tif (format.links === true) {\\n\\t\\t\\t\\t\\teach(newWrappers, function(node) {\\n\\t\\t\\t\\t\\t\\tfunction process(node) {\\n\\t\\t\\t\\t\\t\\t\\tif (node.nodeName === 'A') {\\n\\t\\t\\t\\t\\t\\t\\t\\tsetElementFormat(node, format);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\teach(grep(node.childNodes), process);\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tprocess(node);\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Cleanup\\n\\t\\t\\t\\teach(newWrappers, function(node) {\\n\\t\\t\\t\\t\\tvar childCount;\\n\\n\\t\\t\\t\\t\\tfunction getChildCount(node) {\\n\\t\\t\\t\\t\\t\\tvar count = 0;\\n\\n\\t\\t\\t\\t\\t\\teach(node.childNodes, function(node) {\\n\\t\\t\\t\\t\\t\\t\\tif (!isWhiteSpaceNode(node) && !isBookmarkNode(node)) {\\n\\t\\t\\t\\t\\t\\t\\t\\tcount++;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\t\\treturn count;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tfunction getChildElementNode(root) {\\n\\t\\t\\t\\t\\t\\tvar child = false;\\n\\t\\t\\t\\t\\t\\teach(root.childNodes, function(node) {\\n\\t\\t\\t\\t\\t\\t\\tif (isElementNode(node)) {\\n\\t\\t\\t\\t\\t\\t\\t\\tchild = node;\\n\\t\\t\\t\\t\\t\\t\\t\\treturn false; // break loop\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t\\treturn child;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tfunction matchNestedWrapper(node, filter) {\\n\\t\\t\\t\\t\\t\\tdo {\\n\\t\\t\\t\\t\\t\\t\\tif (getChildCount(node) !== 1) {\\n\\t\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tnode = getChildElementNode(node);\\n\\t\\t\\t\\t\\t\\t\\tif (!node) {\\n\\t\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t\\t\\t} else if (filter(node)) {\\n\\t\\t\\t\\t\\t\\t\\t\\treturn node;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t} while (node);\\n\\n\\t\\t\\t\\t\\t\\treturn null;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tfunction mergeStyles(node) {\\n\\t\\t\\t\\t\\t\\tvar child, clone;\\n\\n\\t\\t\\t\\t\\t\\tchild = getChildElementNode(node);\\n\\n\\t\\t\\t\\t\\t\\t// If child was found and of the same type as the current node\\n\\t\\t\\t\\t\\t\\tif (child && !isBookmarkNode(child) && matchName(child, format)) {\\n\\t\\t\\t\\t\\t\\t\\tclone = dom.clone(child, FALSE);\\n\\t\\t\\t\\t\\t\\t\\tsetElementFormat(clone);\\n\\n\\t\\t\\t\\t\\t\\t\\tdom.replace(clone, node, TRUE);\\n\\t\\t\\t\\t\\t\\t\\tdom.remove(child, 1);\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\treturn clone || node;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tchildCount = getChildCount(node);\\n\\n\\t\\t\\t\\t\\t// Remove empty nodes but only if there is multiple wrappers and they are not block\\n\\t\\t\\t\\t\\t// elements so never remove single <h1></h1> since that would remove the\\n\\t\\t\\t\\t\\t// current empty block element where the caret is at\\n\\t\\t\\t\\t\\tif ((newWrappers.length > 1 || !isBlock(node)) && childCount === 0) {\\n\\t\\t\\t\\t\\t\\tdom.remove(node, 1);\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// fontSize defines the line height for the whole branch of nested style wrappers,\\n\\t\\t\\t\\t\\t// therefore it should be set on the outermost wrapper\\n\\t\\t\\t\\t\\tif (!isBlock(node) && !getStyle(node, 'fontSize')) {\\n\\t\\t\\t\\t\\t\\tvar styleNode = matchNestedWrapper(node, hasStyle('fontSize'));\\n\\t\\t\\t\\t\\t\\tif (styleNode) {\\n\\t\\t\\t\\t\\t\\t\\tapply('fontsize', {value: getStyle(styleNode, 'fontSize')}, node);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (format.inline || format.wrapper) {\\n\\t\\t\\t\\t\\t\\t// Merges the current node with it's children of similar type to reduce the number of elements\\n\\t\\t\\t\\t\\t\\tif (!format.exact && childCount === 1) {\\n\\t\\t\\t\\t\\t\\t\\tnode = mergeStyles(node);\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Remove/merge children\\n\\t\\t\\t\\t\\t\\teach(formatList, function(format) {\\n\\t\\t\\t\\t\\t\\t\\t// Merge all children of similar type will move styles from child to parent\\n\\t\\t\\t\\t\\t\\t\\t// this: <span style=\\\"color:red\\\"><b><span style=\\\"color:red; font-size:10px\\\">text</span></b></span>\\n\\t\\t\\t\\t\\t\\t\\t// will become: <span style=\\\"color:red\\\"><b><span style=\\\"font-size:10px\\\">text</span></b></span>\\n\\t\\t\\t\\t\\t\\t\\teach(dom.select(format.inline, node), function(child) {\\n\\t\\t\\t\\t\\t\\t\\t\\tif (isBookmarkNode(child)) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t\\tremoveFormat(format, vars, child, format.exact ? child : null);\\n\\t\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\t\\t// Remove format if direct parent already has the same format\\n\\t\\t\\t\\t\\t\\tif (matchNode(node.parentNode, name, vars)) {\\n\\t\\t\\t\\t\\t\\t\\tif (removeFormat(format, vars, node)) {\\n\\t\\t\\t\\t\\t\\t\\t\\tnode = 0;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Remove format if any ancestor already has the same format\\n\\t\\t\\t\\t\\t\\tif (format.merge_with_parents) {\\n\\t\\t\\t\\t\\t\\t\\tdom.getParent(node.parentNode, function(parent) {\\n\\t\\t\\t\\t\\t\\t\\t\\tif (matchNode(parent, name, vars)) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tif (removeFormat(format, vars, node)) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tnode = 0;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\treturn TRUE;\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Merge next and previous siblings if they are similar <b>text</b><b>text</b> becomes <b>texttext</b>\\n\\t\\t\\t\\t\\t\\tif (node && format.merge_siblings !== false) {\\n\\t\\t\\t\\t\\t\\t\\tnode = mergeSiblings(getNonWhiteSpaceSibling(node), node);\\n\\t\\t\\t\\t\\t\\t\\tnode = mergeSiblings(node, getNonWhiteSpaceSibling(node, TRUE));\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (getContentEditable(selection.getNode()) === \\\"false\\\") {\\n\\t\\t\\t\\tnode = selection.getNode();\\n\\t\\t\\t\\tfor (var i = 0, l = formatList.length; i < l; i++) {\\n\\t\\t\\t\\t\\tif (formatList[i].ceFalseOverride && dom.is(node, formatList[i].selector)) {\\n\\t\\t\\t\\t\\t\\tsetElementFormat(node, formatList[i]);\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (format) {\\n\\t\\t\\t\\tif (node) {\\n\\t\\t\\t\\t\\tif (node.nodeType) {\\n\\t\\t\\t\\t\\t\\tif (!applyNodeStyle(formatList, node)) {\\n\\t\\t\\t\\t\\t\\t\\trng = dom.createRng();\\n\\t\\t\\t\\t\\t\\t\\trng.setStartBefore(node);\\n\\t\\t\\t\\t\\t\\t\\trng.setEndAfter(node);\\n\\t\\t\\t\\t\\t\\t\\tapplyRngStyle(expandRng(rng, formatList), null, true);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tapplyRngStyle(node, null, true);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tif (!isCollapsed || !format.inline || dom.select('td[data-mce-selected],th[data-mce-selected]').length) {\\n\\t\\t\\t\\t\\t\\t// Obtain selection node before selection is unselected by applyRngStyle()\\n\\t\\t\\t\\t\\t\\tvar curSelNode = ed.selection.getNode();\\n\\n\\t\\t\\t\\t\\t\\t// If the formats have a default block and we can't find a parent block then\\n\\t\\t\\t\\t\\t\\t// start wrapping it with a DIV this is for forced_root_blocks: false\\n\\t\\t\\t\\t\\t\\t// It's kind of a hack but people should be using the default block type P since all desktop editors work that way\\n\\t\\t\\t\\t\\t\\tif (!forcedRootBlock && formatList[0].defaultBlock && !dom.getParent(curSelNode, dom.isBlock)) {\\n\\t\\t\\t\\t\\t\\t\\tapply(formatList[0].defaultBlock);\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Apply formatting to selection\\n\\t\\t\\t\\t\\t\\ted.selection.setRng(adjustSelectionToVisibleSelection());\\n\\t\\t\\t\\t\\t\\tbookmark = selection.getBookmark();\\n\\t\\t\\t\\t\\t\\tapplyRngStyle(expandRng(selection.getRng(TRUE), formatList), bookmark);\\n\\n\\t\\t\\t\\t\\t\\tif (format.styles) {\\n\\t\\t\\t\\t\\t\\t\\t// Colored nodes should be underlined so that the color of the underline matches the text color.\\n\\t\\t\\t\\t\\t\\t\\tif (format.styles.color || format.styles.textDecoration) {\\n\\t\\t\\t\\t\\t\\t\\t\\twalk(curSelNode, processUnderlineAndColor, 'childNodes');\\n\\t\\t\\t\\t\\t\\t\\t\\tprocessUnderlineAndColor(curSelNode);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t// nodes with font-size should have their own background color as well to fit the line-height (see TINY-882)\\n\\t\\t\\t\\t\\t\\t\\tif (format.styles.backgroundColor) {\\n\\t\\t\\t\\t\\t\\t\\t\\tprocessChildElements(curSelNode,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\thasStyle('fontSize'),\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tapplyStyle('backgroundColor', replaceVars(format.styles.backgroundColor, vars))\\n\\t\\t\\t\\t\\t\\t\\t\\t);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tselection.moveToBookmark(bookmark);\\n\\t\\t\\t\\t\\t\\tmoveStart(selection.getRng(TRUE));\\n\\t\\t\\t\\t\\t\\ted.nodeChanged();\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tperformCaretAction('apply', name, vars);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tHooks.postProcess(name, ed);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Removes the specified format from the current selection or specified node.\\n\\t\\t *\\n\\t\\t * @method remove\\n\\t\\t * @param {String} name Name of format to remove.\\n\\t\\t * @param {Object} vars Optional list of variables to replace within format before removing it.\\n\\t\\t * @param {Node/Range} node Optional node or DOM range to remove the format from defaults to current selection.\\n\\t\\t */\\n\\t\\tfunction remove(name, vars, node, similar) {\\n\\t\\t\\tvar formatList = get(name), format = formatList[0], bookmark, rng, contentEditable = true;\\n\\n\\t\\t\\t// Merges the styles for each node\\n\\t\\t\\tfunction process(node) {\\n\\t\\t\\t\\tvar children, i, l, lastContentEditable, hasContentEditableState;\\n\\n\\t\\t\\t\\t// Node has a contentEditable value\\n\\t\\t\\t\\tif (node.nodeType === 1 && getContentEditable(node)) {\\n\\t\\t\\t\\t\\tlastContentEditable = contentEditable;\\n\\t\\t\\t\\t\\tcontentEditable = getContentEditable(node) === \\\"true\\\";\\n\\t\\t\\t\\t\\thasContentEditableState = true; // We don't want to wrap the container only it's children\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Grab the children first since the nodelist might be changed\\n\\t\\t\\t\\tchildren = grep(node.childNodes);\\n\\n\\t\\t\\t\\t// Process current node\\n\\t\\t\\t\\tif (contentEditable && !hasContentEditableState) {\\n\\t\\t\\t\\t\\tfor (i = 0, l = formatList.length; i < l; i++) {\\n\\t\\t\\t\\t\\t\\tif (removeFormat(formatList[i], vars, node, node)) {\\n\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Process the children\\n\\t\\t\\t\\tif (format.deep) {\\n\\t\\t\\t\\t\\tif (children.length) {\\n\\t\\t\\t\\t\\t\\tfor (i = 0, l = children.length; i < l; i++) {\\n\\t\\t\\t\\t\\t\\t\\tprocess(children[i]);\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tif (hasContentEditableState) {\\n\\t\\t\\t\\t\\t\\t\\tcontentEditable = lastContentEditable; // Restore last contentEditable state from stack\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction findFormatRoot(container) {\\n\\t\\t\\t\\tvar formatRoot;\\n\\n\\t\\t\\t\\t// Find format root\\n\\t\\t\\t\\teach(getParents(container.parentNode).reverse(), function(parent) {\\n\\t\\t\\t\\t\\tvar format;\\n\\n\\t\\t\\t\\t\\t// Find format root element\\n\\t\\t\\t\\t\\tif (!formatRoot && parent.id != '_start' && parent.id != '_end') {\\n\\t\\t\\t\\t\\t\\t// Is the node matching the format we are looking for\\n\\t\\t\\t\\t\\t\\tformat = matchNode(parent, name, vars, similar);\\n\\t\\t\\t\\t\\t\\tif (format && format.split !== false) {\\n\\t\\t\\t\\t\\t\\t\\tformatRoot = parent;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\treturn formatRoot;\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction wrapAndSplit(formatRoot, container, target, split) {\\n\\t\\t\\t\\tvar parent, clone, lastClone, firstClone, i, formatRootParent;\\n\\n\\t\\t\\t\\t// Format root found then clone formats and split it\\n\\t\\t\\t\\tif (formatRoot) {\\n\\t\\t\\t\\t\\tformatRootParent = formatRoot.parentNode;\\n\\n\\t\\t\\t\\t\\tfor (parent = container.parentNode; parent && parent != formatRootParent; parent = parent.parentNode) {\\n\\t\\t\\t\\t\\t\\tclone = dom.clone(parent, FALSE);\\n\\n\\t\\t\\t\\t\\t\\tfor (i = 0; i < formatList.length; i++) {\\n\\t\\t\\t\\t\\t\\t\\tif (removeFormat(formatList[i], vars, clone, clone)) {\\n\\t\\t\\t\\t\\t\\t\\t\\tclone = 0;\\n\\t\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Build wrapper node\\n\\t\\t\\t\\t\\t\\tif (clone) {\\n\\t\\t\\t\\t\\t\\t\\tif (lastClone) {\\n\\t\\t\\t\\t\\t\\t\\t\\tclone.appendChild(lastClone);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tif (!firstClone) {\\n\\t\\t\\t\\t\\t\\t\\t\\tfirstClone = clone;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tlastClone = clone;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Never split block elements if the format is mixed\\n\\t\\t\\t\\t\\tif (split && (!format.mixed || !isBlock(formatRoot))) {\\n\\t\\t\\t\\t\\t\\tcontainer = dom.split(formatRoot, container);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Wrap container in cloned formats\\n\\t\\t\\t\\t\\tif (lastClone) {\\n\\t\\t\\t\\t\\t\\ttarget.parentNode.insertBefore(lastClone, target);\\n\\t\\t\\t\\t\\t\\tfirstClone.appendChild(target);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn container;\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction splitToFormatRoot(container) {\\n\\t\\t\\t\\treturn wrapAndSplit(findFormatRoot(container), container, container, true);\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction unwrap(start) {\\n\\t\\t\\t\\tvar node = dom.get(start ? '_start' : '_end'),\\n\\t\\t\\t\\t\\tout = node[start ? 'firstChild' : 'lastChild'];\\n\\n\\t\\t\\t\\t// If the end is placed within the start the result will be removed\\n\\t\\t\\t\\t// So this checks if the out node is a bookmark node if it is it\\n\\t\\t\\t\\t// checks for another more suitable node\\n\\t\\t\\t\\tif (isBookmarkNode(out)) {\\n\\t\\t\\t\\t\\tout = out[start ? 'firstChild' : 'lastChild'];\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Since dom.remove removes empty text nodes then we need to try to find a better node\\n\\t\\t\\t\\tif (out.nodeType == 3 && out.data.length === 0) {\\n\\t\\t\\t\\t\\tout = start ? node.previousSibling || node.nextSibling : node.nextSibling || node.previousSibling;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tdom.remove(node, true);\\n\\n\\t\\t\\t\\treturn out;\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction removeRngStyle(rng) {\\n\\t\\t\\t\\tvar startContainer, endContainer;\\n\\t\\t\\t\\tvar commonAncestorContainer = rng.commonAncestorContainer;\\n\\n\\t\\t\\t\\trng = expandRng(rng, formatList, TRUE);\\n\\n\\t\\t\\t\\tif (format.split) {\\n\\t\\t\\t\\t\\tstartContainer = getContainer(rng, TRUE);\\n\\t\\t\\t\\t\\tendContainer = getContainer(rng);\\n\\n\\t\\t\\t\\t\\tif (startContainer != endContainer) {\\n\\t\\t\\t\\t\\t\\t// WebKit will render the table incorrectly if we wrap a TH or TD in a SPAN\\n\\t\\t\\t\\t\\t\\t// so let's see if we can use the first child instead\\n\\t\\t\\t\\t\\t\\t// This will happen if you triple click a table cell and use remove formatting\\n\\t\\t\\t\\t\\t\\tif (/^(TR|TH|TD)$/.test(startContainer.nodeName) && startContainer.firstChild) {\\n\\t\\t\\t\\t\\t\\t\\tif (startContainer.nodeName == \\\"TR\\\") {\\n\\t\\t\\t\\t\\t\\t\\t\\tstartContainer = startContainer.firstChild.firstChild || startContainer;\\n\\t\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\t\\tstartContainer = startContainer.firstChild || startContainer;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Try to adjust endContainer as well if cells on the same row were selected - bug #6410\\n\\t\\t\\t\\t\\t\\tif (commonAncestorContainer &&\\n\\t\\t\\t\\t\\t\\t\\t/^T(HEAD|BODY|FOOT|R)$/.test(commonAncestorContainer.nodeName) &&\\n\\t\\t\\t\\t\\t\\t\\tisTableCell(endContainer) && endContainer.firstChild) {\\n\\t\\t\\t\\t\\t\\t\\tendContainer = endContainer.firstChild || endContainer;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tif (dom.isChildOf(startContainer, endContainer) && !isBlock(endContainer) &&\\n\\t\\t\\t\\t\\t\\t\\t!isTableCell(startContainer) && !isTableCell(endContainer)) {\\n\\t\\t\\t\\t\\t\\t\\tstartContainer = wrap(startContainer, 'span', {id: '_start', 'data-mce-type': 'bookmark'});\\n\\t\\t\\t\\t\\t\\t\\tsplitToFormatRoot(startContainer);\\n\\t\\t\\t\\t\\t\\t\\tstartContainer = unwrap(TRUE);\\n\\t\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Wrap start/end nodes in span element since these might be cloned/moved\\n\\t\\t\\t\\t\\t\\tstartContainer = wrap(startContainer, 'span', {id: '_start', 'data-mce-type': 'bookmark'});\\n\\t\\t\\t\\t\\t\\tendContainer = wrap(endContainer, 'span', {id: '_end', 'data-mce-type': 'bookmark'});\\n\\n\\t\\t\\t\\t\\t\\t// Split start/end\\n\\t\\t\\t\\t\\t\\tsplitToFormatRoot(startContainer);\\n\\t\\t\\t\\t\\t\\tsplitToFormatRoot(endContainer);\\n\\n\\t\\t\\t\\t\\t\\t// Unwrap start/end to get real elements again\\n\\t\\t\\t\\t\\t\\tstartContainer = unwrap(TRUE);\\n\\t\\t\\t\\t\\t\\tendContainer = unwrap();\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tstartContainer = endContainer = splitToFormatRoot(startContainer);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Update range positions since they might have changed after the split operations\\n\\t\\t\\t\\t\\trng.startContainer = startContainer.parentNode ? startContainer.parentNode : startContainer;\\n\\t\\t\\t\\t\\trng.startOffset = nodeIndex(startContainer);\\n\\t\\t\\t\\t\\trng.endContainer = endContainer.parentNode ? endContainer.parentNode : endContainer;\\n\\t\\t\\t\\t\\trng.endOffset = nodeIndex(endContainer) + 1;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Remove items between start/end\\n\\t\\t\\t\\trangeUtils.walk(rng, function(nodes) {\\n\\t\\t\\t\\t\\teach(nodes, function(node) {\\n\\t\\t\\t\\t\\t\\tprocess(node);\\n\\n\\t\\t\\t\\t\\t\\t// Remove parent span if it only contains text-decoration: underline, yet a parent node is also underlined.\\n\\t\\t\\t\\t\\t\\tif (node.nodeType === 1 && ed.dom.getStyle(node, 'text-decoration') === 'underline' &&\\n\\t\\t\\t\\t\\t\\t\\tnode.parentNode && getTextDecoration(node.parentNode) === 'underline') {\\n\\t\\t\\t\\t\\t\\t\\tremoveFormat({\\n\\t\\t\\t\\t\\t\\t\\t\\t'deep': false,\\n\\t\\t\\t\\t\\t\\t\\t\\t'exact': true,\\n\\t\\t\\t\\t\\t\\t\\t\\t'inline': 'span',\\n\\t\\t\\t\\t\\t\\t\\t\\t'styles': {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t'textDecoration': 'underline'\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t}, null, node);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Handle node\\n\\t\\t\\tif (node) {\\n\\t\\t\\t\\tif (node.nodeType) {\\n\\t\\t\\t\\t\\trng = dom.createRng();\\n\\t\\t\\t\\t\\trng.setStartBefore(node);\\n\\t\\t\\t\\t\\trng.setEndAfter(node);\\n\\t\\t\\t\\t\\tremoveRngStyle(rng);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tremoveRngStyle(node);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (getContentEditable(selection.getNode()) === \\\"false\\\") {\\n\\t\\t\\t\\tnode = selection.getNode();\\n\\t\\t\\t\\tfor (var i = 0, l = formatList.length; i < l; i++) {\\n\\t\\t\\t\\t\\tif (formatList[i].ceFalseOverride) {\\n\\t\\t\\t\\t\\t\\tif (removeFormat(formatList[i], vars, node, node)) {\\n\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!selection.isCollapsed() || !format.inline || dom.select('td[data-mce-selected],th[data-mce-selected]').length) {\\n\\t\\t\\t\\tbookmark = selection.getBookmark();\\n\\t\\t\\t\\tremoveRngStyle(selection.getRng(TRUE));\\n\\t\\t\\t\\tselection.moveToBookmark(bookmark);\\n\\n\\t\\t\\t\\t// Check if start element still has formatting then we are at: \\\"<b>text|</b>text\\\"\\n\\t\\t\\t\\t// and need to move the start into the next text node\\n\\t\\t\\t\\tif (format.inline && match(name, vars, selection.getStart())) {\\n\\t\\t\\t\\t\\tmoveStart(selection.getRng(true));\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\ted.nodeChanged();\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tperformCaretAction('remove', name, vars, similar);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Toggles the specified format on/off.\\n\\t\\t *\\n\\t\\t * @method toggle\\n\\t\\t * @param {String} name Name of format to apply/remove.\\n\\t\\t * @param {Object} vars Optional list of variables to replace within format before applying/removing it.\\n\\t\\t * @param {Node} node Optional node to apply the format to or remove from. Defaults to current selection.\\n\\t\\t */\\n\\t\\tfunction toggle(name, vars, node) {\\n\\t\\t\\tvar fmt = get(name);\\n\\n\\t\\t\\tif (match(name, vars, node) && (!('toggle' in fmt[0]) || fmt[0].toggle)) {\\n\\t\\t\\t\\tremove(name, vars, node);\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tapply(name, vars, node);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Return true/false if the specified node has the specified format.\\n\\t\\t *\\n\\t\\t * @method matchNode\\n\\t\\t * @param {Node} node Node to check the format on.\\n\\t\\t * @param {String} name Format name to check.\\n\\t\\t * @param {Object} vars Optional list of variables to replace before checking it.\\n\\t\\t * @param {Boolean} similar Match format that has similar properties.\\n\\t\\t * @return {Object} Returns the format object it matches or undefined if it doesn't match.\\n\\t\\t */\\n\\t\\tfunction matchNode(node, name, vars, similar) {\\n\\t\\t\\tvar formatList = get(name), format, i, classes;\\n\\n\\t\\t\\tfunction matchItems(node, format, item_name) {\\n\\t\\t\\t\\tvar key, value, items = format[item_name], i;\\n\\n\\t\\t\\t\\t// Custom match\\n\\t\\t\\t\\tif (format.onmatch) {\\n\\t\\t\\t\\t\\treturn format.onmatch(node, format, item_name);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Check all items\\n\\t\\t\\t\\tif (items) {\\n\\t\\t\\t\\t\\t// Non indexed object\\n\\t\\t\\t\\t\\tif (items.length === undef) {\\n\\t\\t\\t\\t\\t\\tfor (key in items) {\\n\\t\\t\\t\\t\\t\\t\\tif (items.hasOwnProperty(key)) {\\n\\t\\t\\t\\t\\t\\t\\t\\tif (item_name === 'attributes') {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tvalue = dom.getAttrib(node, key);\\n\\t\\t\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tvalue = getStyle(node, key);\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t\\tif (similar && !value && !format.exact) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t\\tif ((!similar || format.exact) && !isEq(value, normalizeStyleValue(replaceVars(items[key], vars), key))) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t// Only one match needed for indexed arrays\\n\\t\\t\\t\\t\\t\\tfor (i = 0; i < items.length; i++) {\\n\\t\\t\\t\\t\\t\\t\\tif (item_name === 'attributes' ? dom.getAttrib(node, items[i]) : getStyle(node, items[i])) {\\n\\t\\t\\t\\t\\t\\t\\t\\treturn format;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn format;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (formatList && node) {\\n\\t\\t\\t\\t// Check each format in list\\n\\t\\t\\t\\tfor (i = 0; i < formatList.length; i++) {\\n\\t\\t\\t\\t\\tformat = formatList[i];\\n\\n\\t\\t\\t\\t\\t// Name name, attributes, styles and classes\\n\\t\\t\\t\\t\\tif (matchName(node, format) && matchItems(node, format, 'attributes') && matchItems(node, format, 'styles')) {\\n\\t\\t\\t\\t\\t\\t// Match classes\\n\\t\\t\\t\\t\\t\\tif ((classes = format.classes)) {\\n\\t\\t\\t\\t\\t\\t\\tfor (i = 0; i < classes.length; i++) {\\n\\t\\t\\t\\t\\t\\t\\t\\tif (!dom.hasClass(node, classes[i])) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\treturn format;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Matches the current selection or specified node against the specified format name.\\n\\t\\t *\\n\\t\\t * @method match\\n\\t\\t * @param {String} name Name of format to match.\\n\\t\\t * @param {Object} vars Optional list of variables to replace before checking it.\\n\\t\\t * @param {Node} node Optional node to check.\\n\\t\\t * @return {boolean} true/false if the specified selection/node matches the format.\\n\\t\\t */\\n\\t\\tfunction match(name, vars, node) {\\n\\t\\t\\tvar startNode;\\n\\n\\t\\t\\tfunction matchParents(node) {\\n\\t\\t\\t\\tvar root = dom.getRoot();\\n\\n\\t\\t\\t\\tif (node === root) {\\n\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Find first node with similar format settings\\n\\t\\t\\t\\tnode = dom.getParent(node, function(node) {\\n\\t\\t\\t\\t\\tif (matchesUnInheritedFormatSelector(node, name)) {\\n\\t\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\treturn node.parentNode === root || !!matchNode(node, name, vars, true);\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t// Do an exact check on the similar format element\\n\\t\\t\\t\\treturn matchNode(node, name, vars);\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Check specified node\\n\\t\\t\\tif (node) {\\n\\t\\t\\t\\treturn matchParents(node);\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Check selected node\\n\\t\\t\\tnode = selection.getNode();\\n\\t\\t\\tif (matchParents(node)) {\\n\\t\\t\\t\\treturn TRUE;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Check start node if it's different\\n\\t\\t\\tstartNode = selection.getStart();\\n\\t\\t\\tif (startNode != node) {\\n\\t\\t\\t\\tif (matchParents(startNode)) {\\n\\t\\t\\t\\t\\treturn TRUE;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn FALSE;\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Matches the current selection against the array of formats and returns a new array with matching formats.\\n\\t\\t *\\n\\t\\t * @method matchAll\\n\\t\\t * @param {Array} names Name of format to match.\\n\\t\\t * @param {Object} vars Optional list of variables to replace before checking it.\\n\\t\\t * @return {Array} Array with matched formats.\\n\\t\\t */\\n\\t\\tfunction matchAll(names, vars) {\\n\\t\\t\\tvar startElement, matchedFormatNames = [], checkedMap = {};\\n\\n\\t\\t\\t// Check start of selection for formats\\n\\t\\t\\tstartElement = selection.getStart();\\n\\t\\t\\tdom.getParent(startElement, function(node) {\\n\\t\\t\\t\\tvar i, name;\\n\\n\\t\\t\\t\\tfor (i = 0; i < names.length; i++) {\\n\\t\\t\\t\\t\\tname = names[i];\\n\\n\\t\\t\\t\\t\\tif (!checkedMap[name] && matchNode(node, name, vars)) {\\n\\t\\t\\t\\t\\t\\tcheckedMap[name] = true;\\n\\t\\t\\t\\t\\t\\tmatchedFormatNames.push(name);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}, dom.getRoot());\\n\\n\\t\\t\\treturn matchedFormatNames;\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Returns true/false if the specified format can be applied to the current selection or not. It\\n\\t\\t * will currently only check the state for selector formats, it returns true on all other format types.\\n\\t\\t *\\n\\t\\t * @method canApply\\n\\t\\t * @param {String} name Name of format to check.\\n\\t\\t * @return {boolean} true/false if the specified format can be applied to the current selection/node.\\n\\t\\t */\\n\\t\\tfunction canApply(name) {\\n\\t\\t\\tvar formatList = get(name), startNode, parents, i, x, selector;\\n\\n\\t\\t\\tif (formatList) {\\n\\t\\t\\t\\tstartNode = selection.getStart();\\n\\t\\t\\t\\tparents = getParents(startNode);\\n\\n\\t\\t\\t\\tfor (x = formatList.length - 1; x >= 0; x--) {\\n\\t\\t\\t\\t\\tselector = formatList[x].selector;\\n\\n\\t\\t\\t\\t\\t// Format is not selector based then always return TRUE\\n\\t\\t\\t\\t\\t// Is it has a defaultBlock then it's likely it can be applied for example align on a non block element line\\n\\t\\t\\t\\t\\tif (!selector || formatList[x].defaultBlock) {\\n\\t\\t\\t\\t\\t\\treturn TRUE;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tfor (i = parents.length - 1; i >= 0; i--) {\\n\\t\\t\\t\\t\\t\\tif (dom.is(parents[i], selector)) {\\n\\t\\t\\t\\t\\t\\t\\treturn TRUE;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn FALSE;\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Executes the specified callback when the current selection matches the formats or not.\\n\\t\\t *\\n\\t\\t * @method formatChanged\\n\\t\\t * @param {String} formats Comma separated list of formats to check for.\\n\\t\\t * @param {function} callback Callback with state and args when the format is changed/toggled on/off.\\n\\t\\t * @param {Boolean} similar True/false state if the match should handle similar or exact formats.\\n\\t\\t */\\n\\t\\tfunction formatChanged(formats, callback, similar) {\\n\\t\\t\\tvar currentFormats;\\n\\n\\t\\t\\t// Setup format node change logic\\n\\t\\t\\tif (!formatChangeData) {\\n\\t\\t\\t\\tformatChangeData = {};\\n\\t\\t\\t\\tcurrentFormats = {};\\n\\n\\t\\t\\t\\ted.on('NodeChange', function(e) {\\n\\t\\t\\t\\t\\tvar parents = getParents(e.element), matchedFormats = {};\\n\\n\\t\\t\\t\\t\\t// Ignore bogus nodes like the <a> tag created by moveStart()\\n\\t\\t\\t\\t\\tparents = Tools.grep(parents, function(node) {\\n\\t\\t\\t\\t\\t\\treturn node.nodeType == 1 && !node.getAttribute('data-mce-bogus');\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\t// Check for new formats\\n\\t\\t\\t\\t\\teach(formatChangeData, function(callbacks, format) {\\n\\t\\t\\t\\t\\t\\teach(parents, function(node) {\\n\\t\\t\\t\\t\\t\\t\\tif (matchNode(node, format, {}, callbacks.similar)) {\\n\\t\\t\\t\\t\\t\\t\\t\\tif (!currentFormats[format]) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t// Execute callbacks\\n\\t\\t\\t\\t\\t\\t\\t\\t\\teach(callbacks, function(callback) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tcallback(true, {node: node, format: format, parents: parents});\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tcurrentFormats[format] = callbacks;\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t\\tmatchedFormats[format] = callbacks;\\n\\t\\t\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tif (matchesUnInheritedFormatSelector(node, format)) {\\n\\t\\t\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\t// Check if current formats still match\\n\\t\\t\\t\\t\\teach(currentFormats, function(callbacks, format) {\\n\\t\\t\\t\\t\\t\\tif (!matchedFormats[format]) {\\n\\t\\t\\t\\t\\t\\t\\tdelete currentFormats[format];\\n\\n\\t\\t\\t\\t\\t\\t\\teach(callbacks, function(callback) {\\n\\t\\t\\t\\t\\t\\t\\t\\tcallback(false, {node: e.element, format: format, parents: parents});\\n\\t\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Add format listeners\\n\\t\\t\\teach(formats.split(','), function(format) {\\n\\t\\t\\t\\tif (!formatChangeData[format]) {\\n\\t\\t\\t\\t\\tformatChangeData[format] = [];\\n\\t\\t\\t\\t\\tformatChangeData[format].similar = similar;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tformatChangeData[format].push(callback);\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn this;\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Returns a preview css text for the specified format.\\n\\t\\t *\\n\\t\\t * @method getCssText\\n\\t\\t * @param {String/Object} format Format to generate preview css text for.\\n\\t\\t * @return {String} Css text for the specified format.\\n\\t\\t * @example\\n\\t\\t * var cssText1 = editor.formatter.getCssText('bold');\\n\\t\\t * var cssText2 = editor.formatter.getCssText({inline: 'b'});\\n\\t\\t */\\n\\t\\tfunction getCssText(format) {\\n\\t\\t\\treturn Preview.getCssText(ed, format);\\n\\t\\t}\\n\\n\\t\\t// Expose to public\\n\\t\\textend(this, {\\n\\t\\t\\tget: get,\\n\\t\\t\\tregister: register,\\n\\t\\t\\tunregister: unregister,\\n\\t\\t\\tapply: apply,\\n\\t\\t\\tremove: remove,\\n\\t\\t\\ttoggle: toggle,\\n\\t\\t\\tmatch: match,\\n\\t\\t\\tmatchAll: matchAll,\\n\\t\\t\\tmatchNode: matchNode,\\n\\t\\t\\tcanApply: canApply,\\n\\t\\t\\tformatChanged: formatChanged,\\n\\t\\t\\tgetCssText: getCssText\\n\\t\\t});\\n\\n\\t\\t// Initialize\\n\\t\\tdefaultFormats();\\n\\t\\taddKeyboardShortcuts();\\n\\t\\ted.on('BeforeGetContent', function(e) {\\n\\t\\t\\tif (markCaretContainersBogus && e.format != 'raw') {\\n\\t\\t\\t\\tmarkCaretContainersBogus();\\n\\t\\t\\t}\\n\\t\\t});\\n\\t\\ted.on('mouseup keydown', function(e) {\\n\\t\\t\\tif (disableCaretContainer) {\\n\\t\\t\\t\\tdisableCaretContainer(e);\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\t// Private functions\\n\\n\\t\\t/**\\n\\t\\t * Checks if the specified nodes name matches the format inline/block or selector.\\n\\t\\t *\\n\\t\\t * @private\\n\\t\\t * @param {Node} node Node to match against the specified format.\\n\\t\\t * @param {Object} format Format object o match with.\\n\\t\\t * @return {boolean} true/false if the format matches.\\n\\t\\t */\\n\\t\\tfunction matchName(node, format) {\\n\\t\\t\\t// Check for inline match\\n\\t\\t\\tif (isEq(node, format.inline)) {\\n\\t\\t\\t\\treturn TRUE;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Check for block match\\n\\t\\t\\tif (isEq(node, format.block)) {\\n\\t\\t\\t\\treturn TRUE;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Check for selector match\\n\\t\\t\\tif (format.selector) {\\n\\t\\t\\t\\treturn node.nodeType == 1 && dom.is(node, format.selector);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Compares two string/nodes regardless of their case.\\n\\t\\t *\\n\\t\\t * @private\\n\\t\\t * @param {String/Node} str1 Node or string to compare.\\n\\t\\t * @param {String/Node} str2 Node or string to compare.\\n\\t\\t * @return {boolean} True/false if they match.\\n\\t\\t */\\n\\t\\tfunction isEq(str1, str2) {\\n\\t\\t\\tstr1 = str1 || '';\\n\\t\\t\\tstr2 = str2 || '';\\n\\n\\t\\t\\tstr1 = '' + (str1.nodeName || str1);\\n\\t\\t\\tstr2 = '' + (str2.nodeName || str2);\\n\\n\\t\\t\\treturn str1.toLowerCase() == str2.toLowerCase();\\n\\t\\t}\\n\\n\\t\\tfunction processChildElements(node, filter, process) {\\n\\t\\t\\teach(node.childNodes, function(node) {\\n\\t\\t\\t\\tif (isElementNode(node)) {\\n\\t\\t\\t\\t\\tif (filter(node)) {\\n\\t\\t\\t\\t\\t\\tprocess(node);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\tif (node.hasChildNodes()) {\\n\\t\\t\\t\\t\\t\\tprocessChildElements(node, filter, process);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\tfunction isElementNode(node) {\\n\\t\\t\\treturn node.nodeType == 1 && !isBookmarkNode(node) && !isWhiteSpaceNode(node) && !isCaretNode(node);\\n\\t\\t}\\n\\n\\t\\tfunction hasStyle(name) {\\n\\t\\t\\treturn Fun.curry(function(name, node) {\\n\\t\\t\\t\\treturn !!(node && getStyle(node, name));\\n\\t\\t\\t}, name);\\n\\t\\t}\\n\\n\\t\\tfunction applyStyle(name, value) {\\n\\t\\t\\treturn Fun.curry(function(name, value, node) {\\n\\t\\t\\t\\tdom.setStyle(node, name, value);\\n\\t\\t\\t}, name, value);\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Returns the style by name on the specified node. This method modifies the style\\n\\t\\t * contents to make it more easy to match. This will resolve a few browser issues.\\n\\t\\t *\\n\\t\\t * @private\\n\\t\\t * @param {Node} node to get style from.\\n\\t\\t * @param {String} name Style name to get.\\n\\t\\t * @return {String} Style item value.\\n\\t\\t */\\n\\t\\tfunction getStyle(node, name) {\\n\\t\\t\\treturn normalizeStyleValue(dom.getStyle(node, name), name);\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Normalize style value by name. This method modifies the style contents\\n\\t\\t * to make it more easy to match. This will resolve a few browser issues.\\n\\t\\t *\\n\\t\\t * @private\\n\\t\\t * @param {String} value Value to get style from.\\n\\t\\t * @param {String} name Style name to get.\\n\\t\\t * @return {String} Style item value.\\n\\t\\t */\\n\\t\\tfunction normalizeStyleValue(value, name) {\\n\\t\\t\\t// Force the format to hex\\n\\t\\t\\tif (name == 'color' || name == 'backgroundColor') {\\n\\t\\t\\t\\tvalue = dom.toHex(value);\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Opera will return bold as 700\\n\\t\\t\\tif (name == 'fontWeight' && value == 700) {\\n\\t\\t\\t\\tvalue = 'bold';\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Normalize fontFamily so \\\"'Font name', Font\\\" becomes: \\\"Font name,Font\\\"\\n\\t\\t\\tif (name == 'fontFamily') {\\n\\t\\t\\t\\tvalue = value.replace(/[\\\\'\\\\\\\"]/g, '').replace(/,\\\\s+/g, ',');\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn '' + value;\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Replaces variables in the value. The variable format is %var.\\n\\t\\t *\\n\\t\\t * @private\\n\\t\\t * @param {String} value Value to replace variables in.\\n\\t\\t * @param {Object} vars Name/value array with variables to replace.\\n\\t\\t * @return {String} New value with replaced variables.\\n\\t\\t */\\n\\t\\tfunction replaceVars(value, vars) {\\n\\t\\t\\tif (typeof value != \\\"string\\\") {\\n\\t\\t\\t\\tvalue = value(vars);\\n\\t\\t\\t} else if (vars) {\\n\\t\\t\\t\\tvalue = value.replace(/%(\\\\w+)/g, function(str, name) {\\n\\t\\t\\t\\t\\treturn vars[name] || str;\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn value;\\n\\t\\t}\\n\\n\\t\\tfunction isWhiteSpaceNode(node) {\\n\\t\\t\\treturn node && node.nodeType === 3 && /^([\\\\t \\\\r\\\\n]+|)$/.test(node.nodeValue);\\n\\t\\t}\\n\\n\\t\\tfunction wrap(node, name, attrs) {\\n\\t\\t\\tvar wrapper = dom.create(name, attrs);\\n\\n\\t\\t\\tnode.parentNode.insertBefore(wrapper, node);\\n\\t\\t\\twrapper.appendChild(node);\\n\\n\\t\\t\\treturn wrapper;\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Expands the specified range like object to depending on format.\\n\\t\\t *\\n\\t\\t * For example on block formats it will move the start/end position\\n\\t\\t * to the beginning of the current block.\\n\\t\\t *\\n\\t\\t * @private\\n\\t\\t * @param {Object} rng Range like object.\\n\\t\\t * @param {Array} format Array with formats to expand by.\\n\\t\\t * @param {Boolean} remove\\n\\t\\t * @return {Object} Expanded range like object.\\n\\t\\t */\\n\\t\\tfunction expandRng(rng, format, remove) {\\n\\t\\t\\tvar lastIdx, leaf, endPoint,\\n\\t\\t\\t\\tstartContainer = rng.startContainer,\\n\\t\\t\\t\\tstartOffset = rng.startOffset,\\n\\t\\t\\t\\tendContainer = rng.endContainer,\\n\\t\\t\\t\\tendOffset = rng.endOffset;\\n\\n\\t\\t\\t// This function walks up the tree if there is no siblings before/after the node\\n\\t\\t\\tfunction findParentContainer(start) {\\n\\t\\t\\t\\tvar container, parent, sibling, siblingName, root;\\n\\n\\t\\t\\t\\tcontainer = parent = start ? startContainer : endContainer;\\n\\t\\t\\t\\tsiblingName = start ? 'previousSibling' : 'nextSibling';\\n\\t\\t\\t\\troot = dom.getRoot();\\n\\n\\t\\t\\t\\tfunction isBogusBr(node) {\\n\\t\\t\\t\\t\\treturn node.nodeName == \\\"BR\\\" && node.getAttribute('data-mce-bogus') && !node.nextSibling;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// If it's a text node and the offset is inside the text\\n\\t\\t\\t\\tif (container.nodeType == 3 && !isWhiteSpaceNode(container)) {\\n\\t\\t\\t\\t\\tif (start ? startOffset > 0 : endOffset < container.nodeValue.length) {\\n\\t\\t\\t\\t\\t\\treturn container;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t/*eslint no-constant-condition:0 */\\n\\t\\t\\t\\twhile (true) {\\n\\t\\t\\t\\t\\t// Stop expanding on block elements\\n\\t\\t\\t\\t\\tif (!format[0].block_expand && isBlock(parent)) {\\n\\t\\t\\t\\t\\t\\treturn parent;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Walk left/right\\n\\t\\t\\t\\t\\tfor (sibling = parent[siblingName]; sibling; sibling = sibling[siblingName]) {\\n\\t\\t\\t\\t\\t\\tif (!isBookmarkNode(sibling) && !isWhiteSpaceNode(sibling) && !isBogusBr(sibling)) {\\n\\t\\t\\t\\t\\t\\t\\treturn parent;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Check if we can move up are we at root level or body level\\n\\t\\t\\t\\t\\tif (parent == root || parent.parentNode == root) {\\n\\t\\t\\t\\t\\t\\tcontainer = parent;\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tparent = parent.parentNode;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn container;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// This function walks down the tree to find the leaf at the selection.\\n\\t\\t\\t// The offset is also returned as if node initially a leaf, the offset may be in the middle of the text node.\\n\\t\\t\\tfunction findLeaf(node, offset) {\\n\\t\\t\\t\\tif (offset === undef) {\\n\\t\\t\\t\\t\\toffset = node.nodeType === 3 ? node.length : node.childNodes.length;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\twhile (node && node.hasChildNodes()) {\\n\\t\\t\\t\\t\\tnode = node.childNodes[offset];\\n\\t\\t\\t\\t\\tif (node) {\\n\\t\\t\\t\\t\\t\\toffset = node.nodeType === 3 ? node.length : node.childNodes.length;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\treturn {node: node, offset: offset};\\n\\t\\t\\t}\\n\\n\\t\\t\\t// If index based start position then resolve it\\n\\t\\t\\tif (startContainer.nodeType == 1 && startContainer.hasChildNodes()) {\\n\\t\\t\\t\\tlastIdx = startContainer.childNodes.length - 1;\\n\\t\\t\\t\\tstartContainer = startContainer.childNodes[startOffset > lastIdx ? lastIdx : startOffset];\\n\\n\\t\\t\\t\\tif (startContainer.nodeType == 3) {\\n\\t\\t\\t\\t\\tstartOffset = 0;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// If index based end position then resolve it\\n\\t\\t\\tif (endContainer.nodeType == 1 && endContainer.hasChildNodes()) {\\n\\t\\t\\t\\tlastIdx = endContainer.childNodes.length - 1;\\n\\t\\t\\t\\tendContainer = endContainer.childNodes[endOffset > lastIdx ? lastIdx : endOffset - 1];\\n\\n\\t\\t\\t\\tif (endContainer.nodeType == 3) {\\n\\t\\t\\t\\t\\tendOffset = endContainer.nodeValue.length;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Expands the node to the closes contentEditable false element if it exists\\n\\t\\t\\tfunction findParentContentEditable(node) {\\n\\t\\t\\t\\tvar parent = node;\\n\\n\\t\\t\\t\\twhile (parent) {\\n\\t\\t\\t\\t\\tif (parent.nodeType === 1 && getContentEditable(parent)) {\\n\\t\\t\\t\\t\\t\\treturn getContentEditable(parent) === \\\"false\\\" ? parent : node;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tparent = parent.parentNode;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn node;\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction findWordEndPoint(container, offset, start) {\\n\\t\\t\\t\\tvar walker, node, pos, lastTextNode;\\n\\n\\t\\t\\t\\tfunction findSpace(node, offset) {\\n\\t\\t\\t\\t\\tvar pos, pos2, str = node.nodeValue;\\n\\n\\t\\t\\t\\t\\tif (typeof offset == \\\"undefined\\\") {\\n\\t\\t\\t\\t\\t\\toffset = start ? str.length : 0;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (start) {\\n\\t\\t\\t\\t\\t\\tpos = str.lastIndexOf(' ', offset);\\n\\t\\t\\t\\t\\t\\tpos2 = str.lastIndexOf('\\\\u00a0', offset);\\n\\t\\t\\t\\t\\t\\tpos = pos > pos2 ? pos : pos2;\\n\\n\\t\\t\\t\\t\\t\\t// Include the space on remove to avoid tag soup\\n\\t\\t\\t\\t\\t\\tif (pos !== -1 && !remove) {\\n\\t\\t\\t\\t\\t\\t\\tpos++;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tpos = str.indexOf(' ', offset);\\n\\t\\t\\t\\t\\t\\tpos2 = str.indexOf('\\\\u00a0', offset);\\n\\t\\t\\t\\t\\t\\tpos = pos !== -1 && (pos2 === -1 || pos < pos2) ? pos : pos2;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\treturn pos;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (container.nodeType === 3) {\\n\\t\\t\\t\\t\\tpos = findSpace(container, offset);\\n\\n\\t\\t\\t\\t\\tif (pos !== -1) {\\n\\t\\t\\t\\t\\t\\treturn {container: container, offset: pos};\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tlastTextNode = container;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Walk the nodes inside the block\\n\\t\\t\\t\\twalker = new TreeWalker(container, dom.getParent(container, isBlock) || ed.getBody());\\n\\t\\t\\t\\twhile ((node = walker[start ? 'prev' : 'next']())) {\\n\\t\\t\\t\\t\\tif (node.nodeType === 3) {\\n\\t\\t\\t\\t\\t\\tlastTextNode = node;\\n\\t\\t\\t\\t\\t\\tpos = findSpace(node);\\n\\n\\t\\t\\t\\t\\t\\tif (pos !== -1) {\\n\\t\\t\\t\\t\\t\\t\\treturn {container: node, offset: pos};\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t} else if (isBlock(node)) {\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (lastTextNode) {\\n\\t\\t\\t\\t\\tif (start) {\\n\\t\\t\\t\\t\\t\\toffset = 0;\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\toffset = lastTextNode.length;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\treturn {container: lastTextNode, offset: offset};\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction findSelectorEndPoint(container, sibling_name) {\\n\\t\\t\\t\\tvar parents, i, y, curFormat;\\n\\n\\t\\t\\t\\tif (container.nodeType == 3 && container.nodeValue.length === 0 && container[sibling_name]) {\\n\\t\\t\\t\\t\\tcontainer = container[sibling_name];\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tparents = getParents(container);\\n\\t\\t\\t\\tfor (i = 0; i < parents.length; i++) {\\n\\t\\t\\t\\t\\tfor (y = 0; y < format.length; y++) {\\n\\t\\t\\t\\t\\t\\tcurFormat = format[y];\\n\\n\\t\\t\\t\\t\\t\\t// If collapsed state is set then skip formats that doesn't match that\\n\\t\\t\\t\\t\\t\\tif (\\\"collapsed\\\" in curFormat && curFormat.collapsed !== rng.collapsed) {\\n\\t\\t\\t\\t\\t\\t\\tcontinue;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tif (dom.is(parents[i], curFormat.selector)) {\\n\\t\\t\\t\\t\\t\\t\\treturn parents[i];\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn container;\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction findBlockEndPoint(container, sibling_name) {\\n\\t\\t\\t\\tvar node, root = dom.getRoot();\\n\\n\\t\\t\\t\\t// Expand to block of similar type\\n\\t\\t\\t\\tif (!format[0].wrapper) {\\n\\t\\t\\t\\t\\tnode = dom.getParent(container, format[0].block, root);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Expand to first wrappable block element or any block element\\n\\t\\t\\t\\tif (!node) {\\n\\t\\t\\t\\t\\tnode = dom.getParent(container.nodeType == 3 ? container.parentNode : container, function(node) {\\n\\t\\t\\t\\t\\t\\t// Fixes #6183 where it would expand to editable parent element in inline mode\\n\\t\\t\\t\\t\\t\\treturn node != root && isTextBlock(node);\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Exclude inner lists from wrapping\\n\\t\\t\\t\\tif (node && format[0].wrapper) {\\n\\t\\t\\t\\t\\tnode = getParents(node, 'ul,ol').reverse()[0] || node;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Didn't find a block element look for first/last wrappable element\\n\\t\\t\\t\\tif (!node) {\\n\\t\\t\\t\\t\\tnode = container;\\n\\n\\t\\t\\t\\t\\twhile (node[sibling_name] && !isBlock(node[sibling_name])) {\\n\\t\\t\\t\\t\\t\\tnode = node[sibling_name];\\n\\n\\t\\t\\t\\t\\t\\t// Break on BR but include it will be removed later on\\n\\t\\t\\t\\t\\t\\t// we can't remove it now since we need to check if it can be wrapped\\n\\t\\t\\t\\t\\t\\tif (isEq(node, 'br')) {\\n\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn node || container;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Expand to closest contentEditable element\\n\\t\\t\\tstartContainer = findParentContentEditable(startContainer);\\n\\t\\t\\tendContainer = findParentContentEditable(endContainer);\\n\\n\\t\\t\\t// Exclude bookmark nodes if possible\\n\\t\\t\\tif (isBookmarkNode(startContainer.parentNode) || isBookmarkNode(startContainer)) {\\n\\t\\t\\t\\tstartContainer = isBookmarkNode(startContainer) ? startContainer : startContainer.parentNode;\\n\\t\\t\\t\\tstartContainer = startContainer.nextSibling || startContainer;\\n\\n\\t\\t\\t\\tif (startContainer.nodeType == 3) {\\n\\t\\t\\t\\t\\tstartOffset = 0;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (isBookmarkNode(endContainer.parentNode) || isBookmarkNode(endContainer)) {\\n\\t\\t\\t\\tendContainer = isBookmarkNode(endContainer) ? endContainer : endContainer.parentNode;\\n\\t\\t\\t\\tendContainer = endContainer.previousSibling || endContainer;\\n\\n\\t\\t\\t\\tif (endContainer.nodeType == 3) {\\n\\t\\t\\t\\t\\tendOffset = endContainer.length;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (format[0].inline) {\\n\\t\\t\\t\\tif (rng.collapsed) {\\n\\t\\t\\t\\t\\t// Expand left to closest word boundary\\n\\t\\t\\t\\t\\tendPoint = findWordEndPoint(startContainer, startOffset, true);\\n\\t\\t\\t\\t\\tif (endPoint) {\\n\\t\\t\\t\\t\\t\\tstartContainer = endPoint.container;\\n\\t\\t\\t\\t\\t\\tstartOffset = endPoint.offset;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Expand right to closest word boundary\\n\\t\\t\\t\\t\\tendPoint = findWordEndPoint(endContainer, endOffset);\\n\\t\\t\\t\\t\\tif (endPoint) {\\n\\t\\t\\t\\t\\t\\tendContainer = endPoint.container;\\n\\t\\t\\t\\t\\t\\tendOffset = endPoint.offset;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Avoid applying formatting to a trailing space.\\n\\t\\t\\t\\tleaf = findLeaf(endContainer, endOffset);\\n\\t\\t\\t\\tif (leaf.node) {\\n\\t\\t\\t\\t\\twhile (leaf.node && leaf.offset === 0 && leaf.node.previousSibling) {\\n\\t\\t\\t\\t\\t\\tleaf = findLeaf(leaf.node.previousSibling);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (leaf.node && leaf.offset > 0 && leaf.node.nodeType === 3 &&\\n\\t\\t\\t\\t\\t\\t\\tleaf.node.nodeValue.charAt(leaf.offset - 1) === ' ') {\\n\\n\\t\\t\\t\\t\\t\\tif (leaf.offset > 1) {\\n\\t\\t\\t\\t\\t\\t\\tendContainer = leaf.node;\\n\\t\\t\\t\\t\\t\\t\\tendContainer.splitText(leaf.offset - 1);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Move start/end point up the tree if the leaves are sharp and if we are in different containers\\n\\t\\t\\t// Example * becomes !: !<p><b><i>*text</i><i>text*</i></b></p>!\\n\\t\\t\\t// This will reduce the number of wrapper elements that needs to be created\\n\\t\\t\\t// Move start point up the tree\\n\\t\\t\\tif (format[0].inline || format[0].block_expand) {\\n\\t\\t\\t\\tif (!format[0].inline || (startContainer.nodeType != 3 || startOffset === 0)) {\\n\\t\\t\\t\\t\\tstartContainer = findParentContainer(true);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (!format[0].inline || (endContainer.nodeType != 3 || endOffset === endContainer.nodeValue.length)) {\\n\\t\\t\\t\\t\\tendContainer = findParentContainer();\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Expand start/end container to matching selector\\n\\t\\t\\tif (format[0].selector && format[0].expand !== FALSE && !format[0].inline) {\\n\\t\\t\\t\\t// Find new startContainer/endContainer if there is better one\\n\\t\\t\\t\\tstartContainer = findSelectorEndPoint(startContainer, 'previousSibling');\\n\\t\\t\\t\\tendContainer = findSelectorEndPoint(endContainer, 'nextSibling');\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Expand start/end container to matching block element or text node\\n\\t\\t\\tif (format[0].block || format[0].selector) {\\n\\t\\t\\t\\t// Find new startContainer/endContainer if there is better one\\n\\t\\t\\t\\tstartContainer = findBlockEndPoint(startContainer, 'previousSibling');\\n\\t\\t\\t\\tendContainer = findBlockEndPoint(endContainer, 'nextSibling');\\n\\n\\t\\t\\t\\t// Non block element then try to expand up the leaf\\n\\t\\t\\t\\tif (format[0].block) {\\n\\t\\t\\t\\t\\tif (!isBlock(startContainer)) {\\n\\t\\t\\t\\t\\t\\tstartContainer = findParentContainer(true);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (!isBlock(endContainer)) {\\n\\t\\t\\t\\t\\t\\tendContainer = findParentContainer();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Setup index for startContainer\\n\\t\\t\\tif (startContainer.nodeType == 1) {\\n\\t\\t\\t\\tstartOffset = nodeIndex(startContainer);\\n\\t\\t\\t\\tstartContainer = startContainer.parentNode;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Setup index for endContainer\\n\\t\\t\\tif (endContainer.nodeType == 1) {\\n\\t\\t\\t\\tendOffset = nodeIndex(endContainer) + 1;\\n\\t\\t\\t\\tendContainer = endContainer.parentNode;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Return new range like object\\n\\t\\t\\treturn {\\n\\t\\t\\t\\tstartContainer: startContainer,\\n\\t\\t\\t\\tstartOffset: startOffset,\\n\\t\\t\\t\\tendContainer: endContainer,\\n\\t\\t\\t\\tendOffset: endOffset\\n\\t\\t\\t};\\n\\t\\t}\\n\\n\\t\\tfunction isColorFormatAndAnchor(node, format) {\\n\\t\\t\\treturn format.links && node.tagName == 'A';\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Removes the specified format for the specified node. It will also remove the node if it doesn't have\\n\\t\\t * any attributes if the format specifies it to do so.\\n\\t\\t *\\n\\t\\t * @private\\n\\t\\t * @param {Object} format Format object with items to remove from node.\\n\\t\\t * @param {Object} vars Name/value object with variables to apply to format.\\n\\t\\t * @param {Node} node Node to remove the format styles on.\\n\\t\\t * @param {Node} compare_node Optional compare node, if specified the styles will be compared to that node.\\n\\t\\t * @return {Boolean} True/false if the node was removed or not.\\n\\t\\t */\\n\\t\\tfunction removeFormat(format, vars, node, compare_node) {\\n\\t\\t\\tvar i, attrs, stylesModified;\\n\\n\\t\\t\\t// Check if node matches format\\n\\t\\t\\tif (!matchName(node, format) && !isColorFormatAndAnchor(node, format)) {\\n\\t\\t\\t\\treturn FALSE;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Should we compare with format attribs and styles\\n\\t\\t\\tif (format.remove != 'all') {\\n\\t\\t\\t\\t// Remove styles\\n\\t\\t\\t\\teach(format.styles, function(value, name) {\\n\\t\\t\\t\\t\\tvalue = normalizeStyleValue(replaceVars(value, vars), name);\\n\\n\\t\\t\\t\\t\\t// Indexed array\\n\\t\\t\\t\\t\\tif (typeof name === 'number') {\\n\\t\\t\\t\\t\\t\\tname = value;\\n\\t\\t\\t\\t\\t\\tcompare_node = 0;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (format.remove_similar || (!compare_node || isEq(getStyle(compare_node, name), value))) {\\n\\t\\t\\t\\t\\t\\tdom.setStyle(node, name, '');\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tstylesModified = 1;\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t// Remove style attribute if it's empty\\n\\t\\t\\t\\tif (stylesModified && dom.getAttrib(node, 'style') === '') {\\n\\t\\t\\t\\t\\tnode.removeAttribute('style');\\n\\t\\t\\t\\t\\tnode.removeAttribute('data-mce-style');\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Remove attributes\\n\\t\\t\\t\\teach(format.attributes, function(value, name) {\\n\\t\\t\\t\\t\\tvar valueOut;\\n\\n\\t\\t\\t\\t\\tvalue = replaceVars(value, vars);\\n\\n\\t\\t\\t\\t\\t// Indexed array\\n\\t\\t\\t\\t\\tif (typeof name === 'number') {\\n\\t\\t\\t\\t\\t\\tname = value;\\n\\t\\t\\t\\t\\t\\tcompare_node = 0;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (!compare_node || isEq(dom.getAttrib(compare_node, name), value)) {\\n\\t\\t\\t\\t\\t\\t// Keep internal classes\\n\\t\\t\\t\\t\\t\\tif (name == 'class') {\\n\\t\\t\\t\\t\\t\\t\\tvalue = dom.getAttrib(node, name);\\n\\t\\t\\t\\t\\t\\t\\tif (value) {\\n\\t\\t\\t\\t\\t\\t\\t\\t// Build new class value where everything is removed except the internal prefixed classes\\n\\t\\t\\t\\t\\t\\t\\t\\tvalueOut = '';\\n\\t\\t\\t\\t\\t\\t\\t\\teach(value.split(/\\\\s+/), function(cls) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tif (/mce\\\\-\\\\w+/.test(cls)) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tvalueOut += (valueOut ? ' ' : '') + cls;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t// We got some internal classes left\\n\\t\\t\\t\\t\\t\\t\\t\\tif (valueOut) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tdom.setAttrib(node, name, valueOut);\\n\\t\\t\\t\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// IE6 has a bug where the attribute doesn't get removed correctly\\n\\t\\t\\t\\t\\t\\tif (name == \\\"class\\\") {\\n\\t\\t\\t\\t\\t\\t\\tnode.removeAttribute('className');\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Remove mce prefixed attributes\\n\\t\\t\\t\\t\\t\\tif (MCE_ATTR_RE.test(name)) {\\n\\t\\t\\t\\t\\t\\t\\tnode.removeAttribute('data-mce-' + name);\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tnode.removeAttribute(name);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t// Remove classes\\n\\t\\t\\t\\teach(format.classes, function(value) {\\n\\t\\t\\t\\t\\tvalue = replaceVars(value, vars);\\n\\n\\t\\t\\t\\t\\tif (!compare_node || dom.hasClass(compare_node, value)) {\\n\\t\\t\\t\\t\\t\\tdom.removeClass(node, value);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t// Check for non internal attributes\\n\\t\\t\\t\\tattrs = dom.getAttribs(node);\\n\\t\\t\\t\\tfor (i = 0; i < attrs.length; i++) {\\n\\t\\t\\t\\t\\tvar attrName = attrs[i].nodeName;\\n\\t\\t\\t\\t\\tif (attrName.indexOf('_') !== 0 && attrName.indexOf('data-') !== 0) {\\n\\t\\t\\t\\t\\t\\treturn FALSE;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Remove the inline child if it's empty for example <b> or <span>\\n\\t\\t\\tif (format.remove != 'none') {\\n\\t\\t\\t\\tremoveNode(node, format);\\n\\t\\t\\t\\treturn TRUE;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Removes the node and wrap it's children in paragraphs before doing so or\\n\\t\\t * appends BR elements to the beginning/end of the block element if forcedRootBlocks is disabled.\\n\\t\\t *\\n\\t\\t * If the div in the node below gets removed:\\n\\t\\t *  text<div>text</div>text\\n\\t\\t *\\n\\t\\t * Output becomes:\\n\\t\\t *  text<div><br />text<br /></div>text\\n\\t\\t *\\n\\t\\t * So when the div is removed the result is:\\n\\t\\t *  text<br />text<br />text\\n\\t\\t *\\n\\t\\t * @private\\n\\t\\t * @param {Node} node Node to remove + apply BR/P elements to.\\n\\t\\t * @param {Object} format Format rule.\\n\\t\\t * @return {Node} Input node.\\n\\t\\t */\\n\\t\\tfunction removeNode(node, format) {\\n\\t\\t\\tvar parentNode = node.parentNode, rootBlockElm;\\n\\n\\t\\t\\tfunction find(node, next, inc) {\\n\\t\\t\\t\\tnode = getNonWhiteSpaceSibling(node, next, inc);\\n\\n\\t\\t\\t\\treturn !node || (node.nodeName == 'BR' || isBlock(node));\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (format.block) {\\n\\t\\t\\t\\tif (!forcedRootBlock) {\\n\\t\\t\\t\\t\\t// Append BR elements if needed before we remove the block\\n\\t\\t\\t\\t\\tif (isBlock(node) && !isBlock(parentNode)) {\\n\\t\\t\\t\\t\\t\\tif (!find(node, FALSE) && !find(node.firstChild, TRUE, 1)) {\\n\\t\\t\\t\\t\\t\\t\\tnode.insertBefore(dom.create('br'), node.firstChild);\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tif (!find(node, TRUE) && !find(node.lastChild, FALSE, 1)) {\\n\\t\\t\\t\\t\\t\\t\\tnode.appendChild(dom.create('br'));\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t// Wrap the block in a forcedRootBlock if we are at the root of document\\n\\t\\t\\t\\t\\tif (parentNode == dom.getRoot()) {\\n\\t\\t\\t\\t\\t\\tif (!format.list_block || !isEq(node, format.list_block)) {\\n\\t\\t\\t\\t\\t\\t\\teach(grep(node.childNodes), function(node) {\\n\\t\\t\\t\\t\\t\\t\\t\\tif (isValid(forcedRootBlock, node.nodeName.toLowerCase())) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tif (!rootBlockElm) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\trootBlockElm = wrap(node, forcedRootBlock);\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tdom.setAttribs(rootBlockElm, ed.settings.forced_root_block_attrs);\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\trootBlockElm.appendChild(node);\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\trootBlockElm = 0;\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Never remove nodes that isn't the specified inline element if a selector is specified too\\n\\t\\t\\tif (format.selector && format.inline && !isEq(format.inline, node)) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tdom.remove(node, 1);\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Returns the next/previous non whitespace node.\\n\\t\\t *\\n\\t\\t * @private\\n\\t\\t * @param {Node} node Node to start at.\\n\\t\\t * @param {boolean} next (Optional) Include next or previous node defaults to previous.\\n\\t\\t * @param {boolean} inc (Optional) Include the current node in checking. Defaults to false.\\n\\t\\t * @return {Node} Next or previous node or undefined if it wasn't found.\\n\\t\\t */\\n\\t\\tfunction getNonWhiteSpaceSibling(node, next, inc) {\\n\\t\\t\\tif (node) {\\n\\t\\t\\t\\tnext = next ? 'nextSibling' : 'previousSibling';\\n\\n\\t\\t\\t\\tfor (node = inc ? node : node[next]; node; node = node[next]) {\\n\\t\\t\\t\\t\\tif (node.nodeType == 1 || !isWhiteSpaceNode(node)) {\\n\\t\\t\\t\\t\\t\\treturn node;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Merges the next/previous sibling element if they match.\\n\\t\\t *\\n\\t\\t * @private\\n\\t\\t * @param {Node} prev Previous node to compare/merge.\\n\\t\\t * @param {Node} next Next node to compare/merge.\\n\\t\\t * @return {Node} Next node if we didn't merge and prev node if we did.\\n\\t\\t */\\n\\t\\tfunction mergeSiblings(prev, next) {\\n\\t\\t\\tvar sibling, tmpSibling, elementUtils = new ElementUtils(dom);\\n\\n\\t\\t\\tfunction findElementSibling(node, sibling_name) {\\n\\t\\t\\t\\tfor (sibling = node; sibling; sibling = sibling[sibling_name]) {\\n\\t\\t\\t\\t\\tif (sibling.nodeType == 3 && sibling.nodeValue.length !== 0) {\\n\\t\\t\\t\\t\\t\\treturn node;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (sibling.nodeType == 1 && !isBookmarkNode(sibling)) {\\n\\t\\t\\t\\t\\t\\treturn sibling;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn node;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Check if next/prev exists and that they are elements\\n\\t\\t\\tif (prev && next) {\\n\\t\\t\\t\\t// If previous sibling is empty then jump over it\\n\\t\\t\\t\\tprev = findElementSibling(prev, 'previousSibling');\\n\\t\\t\\t\\tnext = findElementSibling(next, 'nextSibling');\\n\\n\\t\\t\\t\\t// Compare next and previous nodes\\n\\t\\t\\t\\tif (elementUtils.compare(prev, next)) {\\n\\t\\t\\t\\t\\t// Append nodes between\\n\\t\\t\\t\\t\\tfor (sibling = prev.nextSibling; sibling && sibling != next;) {\\n\\t\\t\\t\\t\\t\\ttmpSibling = sibling;\\n\\t\\t\\t\\t\\t\\tsibling = sibling.nextSibling;\\n\\t\\t\\t\\t\\t\\tprev.appendChild(tmpSibling);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Remove next node\\n\\t\\t\\t\\t\\tdom.remove(next);\\n\\n\\t\\t\\t\\t\\t// Move children into prev node\\n\\t\\t\\t\\t\\teach(grep(next.childNodes), function(node) {\\n\\t\\t\\t\\t\\t\\tprev.appendChild(node);\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\treturn prev;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn next;\\n\\t\\t}\\n\\n\\t\\tfunction getContainer(rng, start) {\\n\\t\\t\\tvar container, offset, lastIdx;\\n\\n\\t\\t\\tcontainer = rng[start ? 'startContainer' : 'endContainer'];\\n\\t\\t\\toffset = rng[start ? 'startOffset' : 'endOffset'];\\n\\n\\t\\t\\tif (container.nodeType == 1) {\\n\\t\\t\\t\\tlastIdx = container.childNodes.length - 1;\\n\\n\\t\\t\\t\\tif (!start && offset) {\\n\\t\\t\\t\\t\\toffset--;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tcontainer = container.childNodes[offset > lastIdx ? lastIdx : offset];\\n\\t\\t\\t}\\n\\n\\t\\t\\t// If start text node is excluded then walk to the next node\\n\\t\\t\\tif (container.nodeType === 3 && start && offset >= container.nodeValue.length) {\\n\\t\\t\\t\\tcontainer = new TreeWalker(container, ed.getBody()).next() || container;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// If end text node is excluded then walk to the previous node\\n\\t\\t\\tif (container.nodeType === 3 && !start && offset === 0) {\\n\\t\\t\\t\\tcontainer = new TreeWalker(container, ed.getBody()).prev() || container;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn container;\\n\\t\\t}\\n\\n\\t\\tfunction performCaretAction(type, name, vars, similar) {\\n\\t\\t\\tvar caretContainerId = '_mce_caret', debug = ed.settings.caret_debug;\\n\\n\\t\\t\\t// Creates a caret container bogus element\\n\\t\\t\\tfunction createCaretContainer(fill) {\\n\\t\\t\\t\\tvar caretContainer = dom.create('span', {id: caretContainerId, 'data-mce-bogus': true, style: debug ? 'color:red' : ''});\\n\\n\\t\\t\\t\\tif (fill) {\\n\\t\\t\\t\\t\\tcaretContainer.appendChild(ed.getDoc().createTextNode(INVISIBLE_CHAR));\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn caretContainer;\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction isCaretContainerEmpty(node, nodes) {\\n\\t\\t\\t\\twhile (node) {\\n\\t\\t\\t\\t\\tif ((node.nodeType === 3 && node.nodeValue !== INVISIBLE_CHAR) || node.childNodes.length > 1) {\\n\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Collect nodes\\n\\t\\t\\t\\t\\tif (nodes && node.nodeType === 1) {\\n\\t\\t\\t\\t\\t\\tnodes.push(node);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tnode = node.firstChild;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn true;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Returns any parent caret container element\\n\\t\\t\\tfunction getParentCaretContainer(node) {\\n\\t\\t\\t\\twhile (node) {\\n\\t\\t\\t\\t\\tif (node.id === caretContainerId) {\\n\\t\\t\\t\\t\\t\\treturn node;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tnode = node.parentNode;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Finds the first text node in the specified node\\n\\t\\t\\tfunction findFirstTextNode(node) {\\n\\t\\t\\t\\tvar walker;\\n\\n\\t\\t\\t\\tif (node) {\\n\\t\\t\\t\\t\\twalker = new TreeWalker(node, node);\\n\\n\\t\\t\\t\\t\\tfor (node = walker.current(); node; node = walker.next()) {\\n\\t\\t\\t\\t\\t\\tif (node.nodeType === 3) {\\n\\t\\t\\t\\t\\t\\t\\treturn node;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Removes the caret container for the specified node or all on the current document\\n\\t\\t\\tfunction removeCaretContainer(node, move_caret) {\\n\\t\\t\\t\\tvar child, rng;\\n\\n\\t\\t\\t\\tif (!node) {\\n\\t\\t\\t\\t\\tnode = getParentCaretContainer(selection.getStart());\\n\\n\\t\\t\\t\\t\\tif (!node) {\\n\\t\\t\\t\\t\\t\\twhile ((node = dom.get(caretContainerId))) {\\n\\t\\t\\t\\t\\t\\t\\tremoveCaretContainer(node, false);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\trng = selection.getRng(true);\\n\\n\\t\\t\\t\\t\\tif (isCaretContainerEmpty(node)) {\\n\\t\\t\\t\\t\\t\\tif (move_caret !== false) {\\n\\t\\t\\t\\t\\t\\t\\trng.setStartBefore(node);\\n\\t\\t\\t\\t\\t\\t\\trng.setEndBefore(node);\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tdom.remove(node);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tchild = findFirstTextNode(node);\\n\\n\\t\\t\\t\\t\\t\\tif (child.nodeValue.charAt(0) === INVISIBLE_CHAR) {\\n\\t\\t\\t\\t\\t\\t\\tchild.deleteData(0, 1);\\n\\n\\t\\t\\t\\t\\t\\t\\t// Fix for bug #6976\\n\\t\\t\\t\\t\\t\\t\\tif (rng.startContainer == child && rng.startOffset > 0) {\\n\\t\\t\\t\\t\\t\\t\\t\\trng.setStart(child, rng.startOffset - 1);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tif (rng.endContainer == child && rng.endOffset > 0) {\\n\\t\\t\\t\\t\\t\\t\\t\\trng.setEnd(child, rng.endOffset - 1);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tdom.remove(node, 1);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tselection.setRng(rng);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Applies formatting to the caret position\\n\\t\\t\\tfunction applyCaretFormat() {\\n\\t\\t\\t\\tvar rng, caretContainer, textNode, offset, bookmark, container, text;\\n\\n\\t\\t\\t\\trng = selection.getRng(true);\\n\\t\\t\\t\\toffset = rng.startOffset;\\n\\t\\t\\t\\tcontainer = rng.startContainer;\\n\\t\\t\\t\\ttext = container.nodeValue;\\n\\n\\t\\t\\t\\tcaretContainer = getParentCaretContainer(selection.getStart());\\n\\t\\t\\t\\tif (caretContainer) {\\n\\t\\t\\t\\t\\ttextNode = findFirstTextNode(caretContainer);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Expand to word if caret is in the middle of a text node and the char before/after is a alpha numeric character\\n\\t\\t\\t\\tvar wordcharRegex = /[^\\\\s\\\\u00a0\\\\u00ad\\\\u200b\\\\ufeff]/;\\n\\t\\t\\t\\tif (text && offset > 0 && offset < text.length &&\\n\\t\\t\\t\\t\\twordcharRegex.test(text.charAt(offset)) && wordcharRegex.test(text.charAt(offset - 1))) {\\n\\t\\t\\t\\t\\t// Get bookmark of caret position\\n\\t\\t\\t\\t\\tbookmark = selection.getBookmark();\\n\\n\\t\\t\\t\\t\\t// Collapse bookmark range (WebKit)\\n\\t\\t\\t\\t\\trng.collapse(true);\\n\\n\\t\\t\\t\\t\\t// Expand the range to the closest word and split it at those points\\n\\t\\t\\t\\t\\trng = expandRng(rng, get(name));\\n\\t\\t\\t\\t\\trng = rangeUtils.split(rng);\\n\\n\\t\\t\\t\\t\\t// Apply the format to the range\\n\\t\\t\\t\\t\\tapply(name, vars, rng);\\n\\n\\t\\t\\t\\t\\t// Move selection back to caret position\\n\\t\\t\\t\\t\\tselection.moveToBookmark(bookmark);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tif (!caretContainer || textNode.nodeValue !== INVISIBLE_CHAR) {\\n\\t\\t\\t\\t\\t\\tcaretContainer = createCaretContainer(true);\\n\\t\\t\\t\\t\\t\\ttextNode = caretContainer.firstChild;\\n\\n\\t\\t\\t\\t\\t\\trng.insertNode(caretContainer);\\n\\t\\t\\t\\t\\t\\toffset = 1;\\n\\n\\t\\t\\t\\t\\t\\tapply(name, vars, caretContainer);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tapply(name, vars, caretContainer);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Move selection to text node\\n\\t\\t\\t\\t\\tselection.setCursorLocation(textNode, offset);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction removeCaretFormat() {\\n\\t\\t\\t\\tvar rng = selection.getRng(true), container, offset, bookmark,\\n\\t\\t\\t\\t\\thasContentAfter, node, formatNode, parents = [], i, caretContainer;\\n\\n\\t\\t\\t\\tcontainer = rng.startContainer;\\n\\t\\t\\t\\toffset = rng.startOffset;\\n\\t\\t\\t\\tnode = container;\\n\\n\\t\\t\\t\\tif (container.nodeType == 3) {\\n\\t\\t\\t\\t\\tif (offset != container.nodeValue.length) {\\n\\t\\t\\t\\t\\t\\thasContentAfter = true;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tnode = node.parentNode;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\twhile (node) {\\n\\t\\t\\t\\t\\tif (matchNode(node, name, vars, similar)) {\\n\\t\\t\\t\\t\\t\\tformatNode = node;\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (node.nextSibling) {\\n\\t\\t\\t\\t\\t\\thasContentAfter = true;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tparents.push(node);\\n\\t\\t\\t\\t\\tnode = node.parentNode;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Node doesn't have the specified format\\n\\t\\t\\t\\tif (!formatNode) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Is there contents after the caret then remove the format on the element\\n\\t\\t\\t\\tif (hasContentAfter) {\\n\\t\\t\\t\\t\\t// Get bookmark of caret position\\n\\t\\t\\t\\t\\tbookmark = selection.getBookmark();\\n\\n\\t\\t\\t\\t\\t// Collapse bookmark range (WebKit)\\n\\t\\t\\t\\t\\trng.collapse(true);\\n\\n\\t\\t\\t\\t\\t// Expand the range to the closest word and split it at those points\\n\\t\\t\\t\\t\\trng = expandRng(rng, get(name), true);\\n\\t\\t\\t\\t\\trng = rangeUtils.split(rng);\\n\\n\\t\\t\\t\\t\\t// Remove the format from the range\\n\\t\\t\\t\\t\\tremove(name, vars, rng);\\n\\n\\t\\t\\t\\t\\t// Move selection back to caret position\\n\\t\\t\\t\\t\\tselection.moveToBookmark(bookmark);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tcaretContainer = createCaretContainer();\\n\\n\\t\\t\\t\\t\\tnode = caretContainer;\\n\\t\\t\\t\\t\\tfor (i = parents.length - 1; i >= 0; i--) {\\n\\t\\t\\t\\t\\t\\tnode.appendChild(dom.clone(parents[i], false));\\n\\t\\t\\t\\t\\t\\tnode = node.firstChild;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Insert invisible character into inner most format element\\n\\t\\t\\t\\t\\tnode.appendChild(dom.doc.createTextNode(INVISIBLE_CHAR));\\n\\t\\t\\t\\t\\tnode = node.firstChild;\\n\\n\\t\\t\\t\\t\\tvar block = dom.getParent(formatNode, isTextBlock);\\n\\n\\t\\t\\t\\t\\tif (block && dom.isEmpty(block)) {\\n\\t\\t\\t\\t\\t\\t// Replace formatNode with caretContainer when removing format from empty block like <p><b>|</b></p>\\n\\t\\t\\t\\t\\t\\tformatNode.parentNode.replaceChild(caretContainer, formatNode);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t// Insert caret container after the formatted node\\n\\t\\t\\t\\t\\t\\tdom.insertAfter(caretContainer, formatNode);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Move selection to text node\\n\\t\\t\\t\\t\\tselection.setCursorLocation(node, 1);\\n\\n\\t\\t\\t\\t\\t// If the formatNode is empty, we can remove it safely.\\n\\t\\t\\t\\t\\tif (dom.isEmpty(formatNode)) {\\n\\t\\t\\t\\t\\t\\tdom.remove(formatNode);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Checks if the parent caret container node isn't empty if that is the case it\\n\\t\\t\\t// will remove the bogus state on all children that isn't empty\\n\\t\\t\\tfunction unmarkBogusCaretParents() {\\n\\t\\t\\t\\tvar caretContainer;\\n\\n\\t\\t\\t\\tcaretContainer = getParentCaretContainer(selection.getStart());\\n\\t\\t\\t\\tif (caretContainer && !dom.isEmpty(caretContainer)) {\\n\\t\\t\\t\\t\\twalk(caretContainer, function(node) {\\n\\t\\t\\t\\t\\t\\tif (node.nodeType == 1 && node.id !== caretContainerId && !dom.isEmpty(node)) {\\n\\t\\t\\t\\t\\t\\t\\tdom.setAttrib(node, 'data-mce-bogus', null);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}, 'childNodes');\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Only bind the caret events once\\n\\t\\t\\tif (!ed._hasCaretEvents) {\\n\\t\\t\\t\\t// Mark current caret container elements as bogus when getting the contents so we don't end up with empty elements\\n\\t\\t\\t\\tmarkCaretContainersBogus = function() {\\n\\t\\t\\t\\t\\tvar nodes = [], i;\\n\\n\\t\\t\\t\\t\\tif (isCaretContainerEmpty(getParentCaretContainer(selection.getStart()), nodes)) {\\n\\t\\t\\t\\t\\t\\t// Mark children\\n\\t\\t\\t\\t\\t\\ti = nodes.length;\\n\\t\\t\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\t\\t\\tdom.setAttrib(nodes[i], 'data-mce-bogus', '1');\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t};\\n\\n\\t\\t\\t\\tdisableCaretContainer = function(e) {\\n\\t\\t\\t\\t\\tvar keyCode = e.keyCode;\\n\\n\\t\\t\\t\\t\\tremoveCaretContainer();\\n\\n\\t\\t\\t\\t\\t// Remove caret container if it's empty\\n\\t\\t\\t\\t\\tif (keyCode == 8 && selection.isCollapsed() && selection.getStart().innerHTML == INVISIBLE_CHAR) {\\n\\t\\t\\t\\t\\t\\tremoveCaretContainer(getParentCaretContainer(selection.getStart()));\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Remove caret container on keydown and it's left/right arrow keys\\n\\t\\t\\t\\t\\tif (keyCode == 37 || keyCode == 39) {\\n\\t\\t\\t\\t\\t\\tremoveCaretContainer(getParentCaretContainer(selection.getStart()));\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tunmarkBogusCaretParents();\\n\\t\\t\\t\\t};\\n\\n\\t\\t\\t\\t// Remove bogus state if they got filled by contents using editor.selection.setContent\\n\\t\\t\\t\\ted.on('SetContent', function(e) {\\n\\t\\t\\t\\t\\tif (e.selection) {\\n\\t\\t\\t\\t\\t\\tunmarkBogusCaretParents();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\t\\t\\t\\ted._hasCaretEvents = true;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Do apply or remove caret format\\n\\t\\t\\tif (type == \\\"apply\\\") {\\n\\t\\t\\t\\tapplyCaretFormat();\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tremoveCaretFormat();\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Moves the start to the first suitable text node.\\n\\t\\t */\\n\\t\\tfunction moveStart(rng) {\\n\\t\\t\\tvar container = rng.startContainer,\\n\\t\\t\\t\\t\\toffset = rng.startOffset, isAtEndOfText,\\n\\t\\t\\t\\t\\twalker, node, nodes, tmpNode;\\n\\n\\t\\t\\tif (rng.startContainer == rng.endContainer) {\\n\\t\\t\\t\\tif (isInlineBlock(rng.startContainer.childNodes[rng.startOffset])) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Convert text node into index if possible\\n\\t\\t\\tif (container.nodeType == 3 && offset >= container.nodeValue.length) {\\n\\t\\t\\t\\t// Get the parent container location and walk from there\\n\\t\\t\\t\\toffset = nodeIndex(container);\\n\\t\\t\\t\\tcontainer = container.parentNode;\\n\\t\\t\\t\\tisAtEndOfText = true;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Move startContainer/startOffset in to a suitable node\\n\\t\\t\\tif (container.nodeType == 1) {\\n\\t\\t\\t\\tnodes = container.childNodes;\\n\\t\\t\\t\\tcontainer = nodes[Math.min(offset, nodes.length - 1)];\\n\\t\\t\\t\\twalker = new TreeWalker(container, dom.getParent(container, dom.isBlock));\\n\\n\\t\\t\\t\\t// If offset is at end of the parent node walk to the next one\\n\\t\\t\\t\\tif (offset > nodes.length - 1 || isAtEndOfText) {\\n\\t\\t\\t\\t\\twalker.next();\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfor (node = walker.current(); node; node = walker.next()) {\\n\\t\\t\\t\\t\\tif (node.nodeType == 3 && !isWhiteSpaceNode(node)) {\\n\\t\\t\\t\\t\\t\\t// IE has a \\\"neat\\\" feature where it moves the start node into the closest element\\n\\t\\t\\t\\t\\t\\t// we can avoid this by inserting an element before it and then remove it after we set the selection\\n\\t\\t\\t\\t\\t\\ttmpNode = dom.create('a', {'data-mce-bogus': 'all'}, INVISIBLE_CHAR);\\n\\t\\t\\t\\t\\t\\tnode.parentNode.insertBefore(tmpNode, node);\\n\\n\\t\\t\\t\\t\\t\\t// Set selection and remove tmpNode\\n\\t\\t\\t\\t\\t\\trng.setStart(node, 0);\\n\\t\\t\\t\\t\\t\\tselection.setRng(rng);\\n\\t\\t\\t\\t\\t\\tdom.remove(tmpNode);\\n\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/undo/Diff.js\\n\\n/**\\n * Diff.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2016 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * JS Implementation of the O(ND) Difference Algorithm by Eugene W. Myers.\\n *\\n * @class tinymce.undo.Diff\\n * @private\\n */\\ndefine(\\\"tinymce/undo/Diff\\\", [\\n], function () {\\n\\tvar KEEP = 0, INSERT = 1, DELETE = 2;\\n\\n\\tvar diff = function (left, right) {\\n\\t\\tvar size = left.length + right.length + 2;\\n\\t\\tvar vDown = new Array(size);\\n\\t\\tvar vUp = new Array(size);\\n\\n\\t\\tvar snake = function (start, end, diag) {\\n\\t\\t\\treturn {\\n\\t\\t\\t\\tstart: start,\\n\\t\\t\\t\\tend: end,\\n\\t\\t\\t\\tdiag: diag\\n\\t\\t\\t};\\n\\t\\t};\\n\\n\\t\\tvar buildScript = function (start1, end1, start2, end2, script) {\\n\\t\\t\\tvar middle = getMiddleSnake(start1, end1, start2, end2);\\n\\n\\t\\t\\tif (middle === null || middle.start === end1 && middle.diag === end1 - end2 ||\\n\\t\\t\\t\\tmiddle.end === start1 && middle.diag === start1 - start2) {\\n\\t\\t\\t\\tvar i = start1;\\n\\t\\t\\t\\tvar j = start2;\\n\\t\\t\\t\\twhile (i < end1 || j < end2) {\\n\\t\\t\\t\\t\\tif (i < end1 && j < end2 && left[i] === right[j]) {\\n\\t\\t\\t\\t\\t\\tscript.push([KEEP, left[i]]);\\n\\t\\t\\t\\t\\t\\t++i;\\n\\t\\t\\t\\t\\t\\t++j;\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tif (end1 - start1 > end2 - start2) {\\n\\t\\t\\t\\t\\t\\t\\tscript.push([DELETE, left[i]]);\\n\\t\\t\\t\\t\\t\\t\\t++i;\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\tscript.push([INSERT, right[j]]);\\n\\t\\t\\t\\t\\t\\t\\t++j;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tbuildScript(start1, middle.start, start2, middle.start - middle.diag, script);\\n\\t\\t\\t\\tfor (var i2 = middle.start; i2 < middle.end; ++i2) {\\n\\t\\t\\t\\t\\tscript.push([KEEP, left[i2]]);\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tbuildScript(middle.end, end1, middle.end - middle.diag, end2, script);\\n\\t\\t\\t}\\n\\t\\t};\\n\\n\\t\\tvar buildSnake = function (start, diag, end1, end2) {\\n\\t\\t\\tvar end = start;\\n\\t\\t\\twhile (end - diag < end2 && end < end1 && left[end] === right[end - diag]) {\\n\\t\\t\\t\\t++end;\\n\\t\\t\\t}\\n\\t\\t\\treturn snake(start, end, diag);\\n\\t\\t};\\n\\n\\t\\tvar getMiddleSnake = function (start1, end1, start2, end2) {\\n\\t\\t\\t// Myers Algorithm\\n\\t\\t\\t// Initialisations\\n\\t\\t\\tvar m = end1 - start1;\\n\\t\\t\\tvar n = end2 - start2;\\n\\t\\t\\tif (m === 0 || n === 0) {\\n\\t\\t\\t\\treturn null;\\n\\t\\t\\t}\\n\\n\\t\\t\\tvar delta = m - n;\\n\\t\\t\\tvar sum = n + m;\\n\\t\\t\\tvar offset = (sum % 2 === 0 ? sum : sum + 1) / 2;\\n\\t\\t\\tvDown[1 + offset] = start1;\\n\\t\\t\\tvUp[1 + offset] = end1 + 1;\\n\\n\\t\\t\\tfor (var d = 0; d <= offset; ++d) {\\n\\t\\t\\t\\t// Down\\n\\t\\t\\t\\tfor (var k = -d; k <= d; k += 2) {\\n\\t\\t\\t\\t\\t// First step\\n\\n\\t\\t\\t\\t\\tvar i = k + offset;\\n\\t\\t\\t\\t\\tif (k === -d || k != d && vDown[i - 1] < vDown[i + 1]) {\\n\\t\\t\\t\\t\\t\\tvDown[i] = vDown[i + 1];\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tvDown[i] = vDown[i - 1] + 1;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tvar x = vDown[i];\\n\\t\\t\\t\\t\\tvar y = x - start1 + start2 - k;\\n\\n\\t\\t\\t\\t\\twhile (x < end1 && y < end2 && left[x] === right[y]) {\\n\\t\\t\\t\\t\\t\\tvDown[i] = ++x;\\n\\t\\t\\t\\t\\t\\t++y;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t// Second step\\n\\t\\t\\t\\t\\tif (delta % 2 != 0 && delta - d <= k && k <= delta + d) {\\n\\t\\t\\t\\t\\t\\tif (vUp[i - delta] <= vDown[i]) {\\n\\t\\t\\t\\t\\t\\t\\treturn buildSnake(vUp[i - delta], k + start1 - start2, end1, end2);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Up\\n\\t\\t\\t\\tfor (k = delta - d; k <= delta + d; k += 2) {\\n\\t\\t\\t\\t\\t// First step\\n\\t\\t\\t\\t\\ti = k + offset - delta;\\n\\t\\t\\t\\t\\tif (k === delta - d || k != delta + d && vUp[i + 1] <= vUp[i - 1]) {\\n\\t\\t\\t\\t\\t\\tvUp[i] = vUp[i + 1] - 1;\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tvUp[i] = vUp[i - 1];\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tx = vUp[i] - 1;\\n\\t\\t\\t\\t\\ty = x - start1 + start2 - k;\\n\\t\\t\\t\\t\\twhile (x >= start1 && y >= start2 && left[x] === right[y]) {\\n\\t\\t\\t\\t\\t\\tvUp[i] = x--;\\n\\t\\t\\t\\t\\t\\ty--;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t// Second step\\n\\t\\t\\t\\t\\tif (delta % 2 === 0 && -d <= k && k <= d) {\\n\\t\\t\\t\\t\\t\\tif (vUp[i] <= vDown[i + delta]) {\\n\\t\\t\\t\\t\\t\\t\\treturn buildSnake(vUp[i], k + start1 - start2, end1, end2);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t};\\n\\n\\t\\tvar script = [];\\n\\t\\tbuildScript(0, left.length, 0, right.length, script);\\n\\t\\treturn script;\\n\\t};\\n\\n\\treturn {\\n\\t\\tKEEP: KEEP,\\n\\t\\tDELETE: DELETE,\\n\\t\\tINSERT: INSERT,\\n\\t\\tdiff: diff\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/undo/Fragments.js\\n\\n/**\\n * Fragments.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2016 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This module reads and applies html fragments from/to dom nodes.\\n *\\n * @class tinymce.undo.Fragments\\n * @private\\n */\\ndefine(\\\"tinymce/undo/Fragments\\\", [\\n\\t\\\"tinymce/util/Arr\\\",\\n\\t\\\"tinymce/html/Entities\\\",\\n\\t\\\"tinymce/undo/Diff\\\"\\n], function (Arr, Entities, Diff) {\\n\\tvar getOuterHtml = function (elm) {\\n\\t\\tif (elm.nodeType === 1) {\\n\\t\\t\\treturn elm.outerHTML;\\n\\t\\t} else if (elm.nodeType === 3) {\\n\\t\\t\\treturn Entities.encodeRaw(elm.data, false);\\n\\t\\t} else if (elm.nodeType === 8) {\\n\\t\\t\\treturn '<!--' + elm.data + '-->';\\n\\t\\t}\\n\\n\\t\\treturn '';\\n\\t};\\n\\n\\tvar createFragment = function(html) {\\n\\t\\tvar frag, node, container;\\n\\n\\t\\tcontainer = document.createElement(\\\"div\\\");\\n\\t\\tfrag = document.createDocumentFragment();\\n\\n\\t\\tif (html) {\\n\\t\\t\\tcontainer.innerHTML = html;\\n\\t\\t}\\n\\n\\t\\twhile ((node = container.firstChild)) {\\n\\t\\t\\tfrag.appendChild(node);\\n\\t\\t}\\n\\n\\t\\treturn frag;\\n\\t};\\n\\n\\tvar insertAt = function (elm, html, index) {\\n\\t\\tvar fragment = createFragment(html);\\n\\t\\tif (elm.hasChildNodes() && index < elm.childNodes.length) {\\n\\t\\t\\tvar target = elm.childNodes[index];\\n\\t\\t\\ttarget.parentNode.insertBefore(fragment, target);\\n\\t\\t} else {\\n\\t\\t\\telm.appendChild(fragment);\\n\\t\\t}\\n\\t};\\n\\n\\tvar removeAt = function (elm, index) {\\n\\t\\tif (elm.hasChildNodes() && index < elm.childNodes.length) {\\n\\t\\t\\tvar target = elm.childNodes[index];\\n\\t\\t\\ttarget.parentNode.removeChild(target);\\n\\t\\t}\\n\\t};\\n\\n\\tvar applyDiff = function (diff, elm) {\\n\\t\\tvar index = 0;\\n\\t\\tArr.each(diff, function (action) {\\n\\t\\t\\tif (action[0] === Diff.KEEP) {\\n\\t\\t\\t\\tindex++;\\n\\t\\t\\t} else if (action[0] === Diff.INSERT) {\\n\\t\\t\\t\\tinsertAt(elm, action[1], index);\\n\\t\\t\\t\\tindex++;\\n\\t\\t\\t} else if (action[0] === Diff.DELETE) {\\n\\t\\t\\t\\tremoveAt(elm, index);\\n\\t\\t\\t}\\n\\t\\t});\\n\\t};\\n\\n\\tvar read = function (elm) {\\n\\t\\treturn Arr.map(elm.childNodes, getOuterHtml);\\n\\t};\\n\\n\\tvar write = function (fragments, elm) {\\n\\t\\tvar currentFragments = Arr.map(elm.childNodes, getOuterHtml);\\n\\t\\tapplyDiff(Diff.diff(currentFragments, fragments), elm);\\n\\t\\treturn elm;\\n\\t};\\n\\n\\treturn {\\n\\t\\tread: read,\\n\\t\\twrite: write\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/undo/Levels.js\\n\\n/**\\n * Levels.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2016 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This module handles getting/setting undo levels to/from editor instances.\\n *\\n * @class tinymce.undo.Levels\\n * @private\\n */\\ndefine(\\\"tinymce/undo/Levels\\\", [\\n\\t\\\"tinymce/util/Arr\\\",\\n\\t\\\"tinymce/undo/Fragments\\\"\\n], function (Arr, Fragments) {\\n\\tvar hasIframes = function (html) {\\n\\t\\treturn html.indexOf('</iframe>') !== -1;\\n\\t};\\n\\n\\tvar createFragmentedLevel = function (fragments) {\\n\\t\\treturn {\\n\\t\\t\\ttype: 'fragmented',\\n\\t\\t\\tfragments: fragments,\\n\\t\\t\\tcontent: '',\\n\\t\\t\\tbookmark: null,\\n\\t\\t\\tbeforeBookmark: null\\n\\t\\t};\\n\\t};\\n\\n\\tvar createCompleteLevel = function (content) {\\n\\t\\treturn {\\n\\t\\t\\ttype: 'complete',\\n\\t\\t\\tfragments: null,\\n\\t\\t\\tcontent: content,\\n\\t\\t\\tbookmark: null,\\n\\t\\t\\tbeforeBookmark: null\\n\\t\\t};\\n\\t};\\n\\n\\tvar createFromEditor = function (editor) {\\n\\t\\tvar fragments, content, trimmedFragments;\\n\\n\\t\\tfragments = Fragments.read(editor.getBody());\\n\\t\\ttrimmedFragments = Arr.map(fragments, function (html) {\\n\\t\\t\\treturn editor.serializer.trimContent(html);\\n\\t\\t});\\n\\t\\tcontent = trimmedFragments.join('');\\n\\n\\t\\treturn hasIframes(content) ? createFragmentedLevel(trimmedFragments) : createCompleteLevel(content);\\n\\t};\\n\\n\\tvar applyToEditor = function (editor, level, before) {\\n\\t\\tif (level.type === 'fragmented') {\\n\\t\\t\\tFragments.write(level.fragments, editor.getBody());\\n\\t\\t} else {\\n\\t\\t\\teditor.setContent(level.content, {format: 'raw'});\\n\\t\\t}\\n\\n\\t\\teditor.selection.moveToBookmark(before ? level.beforeBookmark : level.bookmark);\\n\\t};\\n\\n\\tvar getLevelContent = function (level) {\\n\\t\\treturn level.type === 'fragmented' ? level.fragments.join('') : level.content;\\n\\t};\\n\\n\\tvar isEq = function (level1, level2) {\\n\\t\\treturn getLevelContent(level1) === getLevelContent(level2);\\n\\t};\\n\\n\\treturn {\\n\\t\\tcreateFragmentedLevel: createFragmentedLevel,\\n\\t\\tcreateCompleteLevel: createCompleteLevel,\\n\\t\\tcreateFromEditor: createFromEditor,\\n\\t\\tapplyToEditor: applyToEditor,\\n\\t\\tisEq: isEq\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/UndoManager.js\\n\\n/**\\n * UndoManager.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class handles the undo/redo history levels for the editor. Since the built-in undo/redo has major drawbacks a custom one was needed.\\n *\\n * @class tinymce.UndoManager\\n */\\ndefine(\\\"tinymce/UndoManager\\\", [\\n\\t\\\"tinymce/util/VK\\\",\\n\\t\\\"tinymce/util/Tools\\\",\\n\\t\\\"tinymce/undo/Levels\\\"\\n], function(VK, Tools, Levels) {\\n\\treturn function(editor) {\\n\\t\\tvar self = this, index = 0, data = [], beforeBookmark, isFirstTypedCharacter, locks = 0;\\n\\n\\t\\tfunction setDirty(state) {\\n\\t\\t\\teditor.setDirty(state);\\n\\t\\t}\\n\\n\\t\\tfunction addNonTypingUndoLevel(e) {\\n\\t\\t\\tself.typing = false;\\n\\t\\t\\tself.add({}, e);\\n\\t\\t}\\n\\n\\t\\tfunction endTyping() {\\n\\t\\t\\tif (self.typing) {\\n\\t\\t\\t\\tself.typing = false;\\n\\t\\t\\t\\tself.add();\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t// Add initial undo level when the editor is initialized\\n\\t\\teditor.on('init', function() {\\n\\t\\t\\tself.add();\\n\\t\\t});\\n\\n\\t\\t// Get position before an execCommand is processed\\n\\t\\teditor.on('BeforeExecCommand', function(e) {\\n\\t\\t\\tvar cmd = e.command;\\n\\n\\t\\t\\tif (cmd !== 'Undo' && cmd !== 'Redo' && cmd !== 'mceRepaint') {\\n\\t\\t\\t\\tendTyping();\\n\\t\\t\\t\\tself.beforeChange();\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\t// Add undo level after an execCommand call was made\\n\\t\\teditor.on('ExecCommand', function(e) {\\n\\t\\t\\tvar cmd = e.command;\\n\\n\\t\\t\\tif (cmd !== 'Undo' && cmd !== 'Redo' && cmd !== 'mceRepaint') {\\n\\t\\t\\t\\taddNonTypingUndoLevel(e);\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\teditor.on('ObjectResizeStart Cut', function() {\\n\\t\\t\\tself.beforeChange();\\n\\t\\t});\\n\\n\\t\\teditor.on('SaveContent ObjectResized blur', addNonTypingUndoLevel);\\n\\t\\teditor.on('DragEnd', addNonTypingUndoLevel);\\n\\n\\t\\teditor.on('KeyUp', function(e) {\\n\\t\\t\\tvar keyCode = e.keyCode;\\n\\n\\t\\t\\t// If key is prevented then don't add undo level\\n\\t\\t\\t// This would happen on keyboard shortcuts for example\\n\\t\\t\\tif (e.isDefaultPrevented()) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif ((keyCode >= 33 && keyCode <= 36) || (keyCode >= 37 && keyCode <= 40) || keyCode === 45 || e.ctrlKey) {\\n\\t\\t\\t\\taddNonTypingUndoLevel();\\n\\t\\t\\t\\teditor.nodeChanged();\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (keyCode === 46 || keyCode === 8) {\\n\\t\\t\\t\\teditor.nodeChanged();\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Fire a TypingUndo event on the first character entered\\n\\t\\t\\tif (isFirstTypedCharacter && self.typing) {\\n\\t\\t\\t\\t// Make it dirty if the content was changed after typing the first character\\n\\t\\t\\t\\tif (!editor.isDirty()) {\\n\\t\\t\\t\\t\\tsetDirty(data[0] && !Levels.isEq(Levels.createFromEditor(editor), data[0]));\\n\\n\\t\\t\\t\\t\\t// Fire initial change event\\n\\t\\t\\t\\t\\tif (editor.isDirty()) {\\n\\t\\t\\t\\t\\t\\teditor.fire('change', {level: data[0], lastLevel: null});\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\teditor.fire('TypingUndo');\\n\\t\\t\\t\\tisFirstTypedCharacter = false;\\n\\t\\t\\t\\teditor.nodeChanged();\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\teditor.on('KeyDown', function(e) {\\n\\t\\t\\tvar keyCode = e.keyCode;\\n\\n\\t\\t\\t// If key is prevented then don't add undo level\\n\\t\\t\\t// This would happen on keyboard shortcuts for example\\n\\t\\t\\tif (e.isDefaultPrevented()) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Is character position keys left,right,up,down,home,end,pgdown,pgup,enter\\n\\t\\t\\tif ((keyCode >= 33 && keyCode <= 36) || (keyCode >= 37 && keyCode <= 40) || keyCode === 45) {\\n\\t\\t\\t\\tif (self.typing) {\\n\\t\\t\\t\\t\\taddNonTypingUndoLevel(e);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// If key isn't Ctrl+Alt/AltGr\\n\\t\\t\\tvar modKey = (e.ctrlKey && !e.altKey) || e.metaKey;\\n\\t\\t\\tif ((keyCode < 16 || keyCode > 20) && keyCode !== 224 && keyCode !== 91 && !self.typing && !modKey) {\\n\\t\\t\\t\\tself.beforeChange();\\n\\t\\t\\t\\tself.typing = true;\\n\\t\\t\\t\\tself.add({}, e);\\n\\t\\t\\t\\tisFirstTypedCharacter = true;\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\teditor.on('MouseDown', function(e) {\\n\\t\\t\\tif (self.typing) {\\n\\t\\t\\t\\taddNonTypingUndoLevel(e);\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\t// Add keyboard shortcuts for undo/redo keys\\n\\t\\teditor.addShortcut('meta+z', '', 'Undo');\\n\\t\\teditor.addShortcut('meta+y,meta+shift+z', '', 'Redo');\\n\\n\\t\\teditor.on('AddUndo Undo Redo ClearUndos', function(e) {\\n\\t\\t\\tif (!e.isDefaultPrevented()) {\\n\\t\\t\\t\\teditor.nodeChanged();\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\t/*eslint consistent-this:0 */\\n\\t\\tself = {\\n\\t\\t\\t// Explode for debugging reasons\\n\\t\\t\\tdata: data,\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * State if the user is currently typing or not. This will add a typing operation into one undo\\n\\t\\t\\t * level instead of one new level for each keystroke.\\n\\t\\t\\t *\\n\\t\\t\\t * @field {Boolean} typing\\n\\t\\t\\t */\\n\\t\\t\\ttyping: false,\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Stores away a bookmark to be used when performing an undo action so that the selection is before\\n\\t\\t\\t * the change has been made.\\n\\t\\t\\t *\\n\\t\\t\\t * @method beforeChange\\n\\t\\t\\t */\\n\\t\\t\\tbeforeChange: function() {\\n\\t\\t\\t\\tif (!locks) {\\n\\t\\t\\t\\t\\tbeforeBookmark = editor.selection.getBookmark(2, true);\\n\\t\\t\\t\\t}\\n\\t\\t\\t},\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Adds a new undo level/snapshot to the undo list.\\n\\t\\t\\t *\\n\\t\\t\\t * @method add\\n\\t\\t\\t * @param {Object} level Optional undo level object to add.\\n\\t\\t\\t * @param {DOMEvent} event Optional event responsible for the creation of the undo level.\\n\\t\\t\\t * @return {Object} Undo level that got added or null it a level wasn't needed.\\n\\t\\t\\t */\\n\\t\\t\\tadd: function(level, event) {\\n\\t\\t\\t\\tvar i, settings = editor.settings, lastLevel, currentLevel;\\n\\n\\t\\t\\t\\tcurrentLevel = Levels.createFromEditor(editor);\\n\\t\\t\\t\\tlevel = level || {};\\n\\t\\t\\t\\tlevel = Tools.extend(level, currentLevel);\\n\\n\\t\\t\\t\\tif (locks || editor.removed) {\\n\\t\\t\\t\\t\\treturn null;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tlastLevel = data[index];\\n\\t\\t\\t\\tif (editor.fire('BeforeAddUndo', {level: level, lastLevel: lastLevel, originalEvent: event}).isDefaultPrevented()) {\\n\\t\\t\\t\\t\\treturn null;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Add undo level if needed\\n\\t\\t\\t\\tif (lastLevel && Levels.isEq(lastLevel, level)) {\\n\\t\\t\\t\\t\\treturn null;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Set before bookmark on previous level\\n\\t\\t\\t\\tif (data[index]) {\\n\\t\\t\\t\\t\\tdata[index].beforeBookmark = beforeBookmark;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Time to compress\\n\\t\\t\\t\\tif (settings.custom_undo_redo_levels) {\\n\\t\\t\\t\\t\\tif (data.length > settings.custom_undo_redo_levels) {\\n\\t\\t\\t\\t\\t\\tfor (i = 0; i < data.length - 1; i++) {\\n\\t\\t\\t\\t\\t\\t\\tdata[i] = data[i + 1];\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tdata.length--;\\n\\t\\t\\t\\t\\t\\tindex = data.length;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Get a non intrusive normalized bookmark\\n\\t\\t\\t\\tlevel.bookmark = editor.selection.getBookmark(2, true);\\n\\n\\t\\t\\t\\t// Crop array if needed\\n\\t\\t\\t\\tif (index < data.length - 1) {\\n\\t\\t\\t\\t\\tdata.length = index + 1;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tdata.push(level);\\n\\t\\t\\t\\tindex = data.length - 1;\\n\\n\\t\\t\\t\\tvar args = {level: level, lastLevel: lastLevel, originalEvent: event};\\n\\n\\t\\t\\t\\teditor.fire('AddUndo', args);\\n\\n\\t\\t\\t\\tif (index > 0) {\\n\\t\\t\\t\\t\\tsetDirty(true);\\n\\t\\t\\t\\t\\teditor.fire('change', args);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn level;\\n\\t\\t\\t},\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Undoes the last action.\\n\\t\\t\\t *\\n\\t\\t\\t * @method undo\\n\\t\\t\\t * @return {Object} Undo level or null if no undo was performed.\\n\\t\\t\\t */\\n\\t\\t\\tundo: function() {\\n\\t\\t\\t\\tvar level;\\n\\n\\t\\t\\t\\tif (self.typing) {\\n\\t\\t\\t\\t\\tself.add();\\n\\t\\t\\t\\t\\tself.typing = false;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (index > 0) {\\n\\t\\t\\t\\t\\tlevel = data[--index];\\n\\t\\t\\t\\t\\tLevels.applyToEditor(editor, level, true);\\n\\t\\t\\t\\t\\tsetDirty(true);\\n\\t\\t\\t\\t\\teditor.fire('undo', {level: level});\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn level;\\n\\t\\t\\t},\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Redoes the last action.\\n\\t\\t\\t *\\n\\t\\t\\t * @method redo\\n\\t\\t\\t * @return {Object} Redo level or null if no redo was performed.\\n\\t\\t\\t */\\n\\t\\t\\tredo: function() {\\n\\t\\t\\t\\tvar level;\\n\\n\\t\\t\\t\\tif (index < data.length - 1) {\\n\\t\\t\\t\\t\\tlevel = data[++index];\\n\\t\\t\\t\\t\\tLevels.applyToEditor(editor, level, false);\\n\\t\\t\\t\\t\\tsetDirty(true);\\n\\t\\t\\t\\t\\teditor.fire('redo', {level: level});\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn level;\\n\\t\\t\\t},\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Removes all undo levels.\\n\\t\\t\\t *\\n\\t\\t\\t * @method clear\\n\\t\\t\\t */\\n\\t\\t\\tclear: function() {\\n\\t\\t\\t\\tdata = [];\\n\\t\\t\\t\\tindex = 0;\\n\\t\\t\\t\\tself.typing = false;\\n\\t\\t\\t\\tself.data = data;\\n\\t\\t\\t\\teditor.fire('ClearUndos');\\n\\t\\t\\t},\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Returns true/false if the undo manager has any undo levels.\\n\\t\\t\\t *\\n\\t\\t\\t * @method hasUndo\\n\\t\\t\\t * @return {Boolean} true/false if the undo manager has any undo levels.\\n\\t\\t\\t */\\n\\t\\t\\thasUndo: function() {\\n\\t\\t\\t\\t// Has undo levels or typing and content isn't the same as the initial level\\n\\t\\t\\t\\treturn index > 0 || (self.typing && data[0] && !Levels.isEq(Levels.createFromEditor(editor), data[0]));\\n\\t\\t\\t},\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Returns true/false if the undo manager has any redo levels.\\n\\t\\t\\t *\\n\\t\\t\\t * @method hasRedo\\n\\t\\t\\t * @return {Boolean} true/false if the undo manager has any redo levels.\\n\\t\\t\\t */\\n\\t\\t\\thasRedo: function() {\\n\\t\\t\\t\\treturn index < data.length - 1 && !self.typing;\\n\\t\\t\\t},\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Executes the specified mutator function as an undo transaction. The selection\\n\\t\\t\\t * before the modification will be stored to the undo stack and if the DOM changes\\n\\t\\t\\t * it will add a new undo level. Any methods within the translation that adds undo levels will\\n\\t\\t\\t * be ignored. So a translation can include calls to execCommand or editor.insertContent.\\n\\t\\t\\t *\\n\\t\\t\\t * @method transact\\n\\t\\t\\t * @param {function} callback Function that gets executed and has dom manipulation logic in it.\\n\\t\\t\\t * @return {Object} Undo level that got added or null it a level wasn't needed.\\n\\t\\t\\t */\\n\\t\\t\\ttransact: function(callback) {\\n\\t\\t\\t\\tendTyping();\\n\\t\\t\\t\\tself.beforeChange();\\n\\n\\t\\t\\t\\ttry {\\n\\t\\t\\t\\t\\tlocks++;\\n\\t\\t\\t\\t\\tcallback();\\n\\t\\t\\t\\t} finally {\\n\\t\\t\\t\\t\\tlocks--;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn self.add();\\n\\t\\t\\t},\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Adds an extra \\\"hidden\\\" undo level by first applying the first mutation and store that to the undo stack\\n\\t\\t\\t * then roll back that change and do the second mutation on top of the stack. This will produce an extra\\n\\t\\t\\t * undo level that the user doesn't see until they undo.\\n\\t\\t\\t *\\n\\t\\t\\t * @method extra\\n\\t\\t\\t * @param {function} callback1 Function that does mutation but gets stored as a \\\"hidden\\\" extra undo level.\\n\\t\\t\\t * @param {function} callback2 Function that does mutation but gets displayed to the user.\\n\\t\\t\\t */\\n\\t\\t\\textra: function (callback1, callback2) {\\n\\t\\t\\t\\tvar lastLevel, bookmark;\\n\\n\\t\\t\\t\\tif (self.transact(callback1)) {\\n\\t\\t\\t\\t\\tbookmark = data[index].bookmark;\\n\\t\\t\\t\\t\\tlastLevel = data[index - 1];\\n\\t\\t\\t\\t\\tLevels.applyToEditor(editor, lastLevel, true);\\n\\n\\t\\t\\t\\t\\tif (self.transact(callback2)) {\\n\\t\\t\\t\\t\\t\\tdata[index - 1].beforeBookmark = bookmark;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t};\\n\\n\\t\\treturn self;\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/EnterKey.js\\n\\n/**\\n * EnterKey.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Contains logic for handling the enter key to split/generate block elements.\\n *\\n * @private\\n * @class tinymce.EnterKey\\n */\\ndefine(\\\"tinymce/EnterKey\\\", [\\n\\t\\\"tinymce/dom/TreeWalker\\\",\\n\\t\\\"tinymce/dom/RangeUtils\\\",\\n\\t\\\"tinymce/caret/CaretContainer\\\",\\n\\t\\\"tinymce/Env\\\"\\n], function(TreeWalker, RangeUtils, CaretContainer, Env) {\\n\\tvar isIE = Env.ie && Env.ie < 11;\\n\\n\\treturn function(editor) {\\n\\t\\tvar dom = editor.dom, selection = editor.selection, settings = editor.settings;\\n\\t\\tvar undoManager = editor.undoManager, schema = editor.schema, nonEmptyElementsMap = schema.getNonEmptyElements(),\\n\\t\\t\\tmoveCaretBeforeOnEnterElementsMap = schema.getMoveCaretBeforeOnEnterElements();\\n\\n\\t\\tfunction handleEnterKey(evt) {\\n\\t\\t\\tvar rng, tmpRng, editableRoot, container, offset, parentBlock, documentMode, shiftKey,\\n\\t\\t\\t\\tnewBlock, fragment, containerBlock, parentBlockName, containerBlockName, newBlockName, isAfterLastNodeInContainer;\\n\\n\\t\\t\\t// Returns true if the block can be split into two blocks or not\\n\\t\\t\\tfunction canSplitBlock(node) {\\n\\t\\t\\t\\treturn node &&\\n\\t\\t\\t\\t\\tdom.isBlock(node) &&\\n\\t\\t\\t\\t\\t!/^(TD|TH|CAPTION|FORM)$/.test(node.nodeName) &&\\n\\t\\t\\t\\t\\t!/^(fixed|absolute)/i.test(node.style.position) &&\\n\\t\\t\\t\\t\\tdom.getContentEditable(node) !== \\\"true\\\";\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction isTableCell(node) {\\n\\t\\t\\t\\treturn node && /^(TD|TH|CAPTION)$/.test(node.nodeName);\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Renders empty block on IE\\n\\t\\t\\tfunction renderBlockOnIE(block) {\\n\\t\\t\\t\\tvar oldRng;\\n\\n\\t\\t\\t\\tif (dom.isBlock(block)) {\\n\\t\\t\\t\\t\\toldRng = selection.getRng();\\n\\t\\t\\t\\t\\tblock.appendChild(dom.create('span', null, '\\\\u00a0'));\\n\\t\\t\\t\\t\\tselection.select(block);\\n\\t\\t\\t\\t\\tblock.lastChild.outerHTML = '';\\n\\t\\t\\t\\t\\tselection.setRng(oldRng);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Remove the first empty inline element of the block so this: <p><b><em></em></b>x</p> becomes this: <p>x</p>\\n\\t\\t\\tfunction trimInlineElementsOnLeftSideOfBlock(block) {\\n\\t\\t\\t\\tvar node = block, firstChilds = [], i;\\n\\n\\t\\t\\t\\tif (!node) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Find inner most first child ex: <p><i><b>*</b></i></p>\\n\\t\\t\\t\\twhile ((node = node.firstChild)) {\\n\\t\\t\\t\\t\\tif (dom.isBlock(node)) {\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (node.nodeType == 1 && !nonEmptyElementsMap[node.nodeName.toLowerCase()]) {\\n\\t\\t\\t\\t\\t\\tfirstChilds.push(node);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\ti = firstChilds.length;\\n\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\tnode = firstChilds[i];\\n\\t\\t\\t\\t\\tif (!node.hasChildNodes() || (node.firstChild == node.lastChild && node.firstChild.nodeValue === '')) {\\n\\t\\t\\t\\t\\t\\tdom.remove(node);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t// Remove <a> </a> see #5381\\n\\t\\t\\t\\t\\t\\tif (node.nodeName == \\\"A\\\" && (node.innerText || node.textContent) === ' ') {\\n\\t\\t\\t\\t\\t\\t\\tdom.remove(node);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Moves the caret to a suitable position within the root for example in the first non\\n\\t\\t\\t// pure whitespace text node or before an image\\n\\t\\t\\tfunction moveToCaretPosition(root) {\\n\\t\\t\\t\\tvar walker, node, rng, lastNode = root, tempElm;\\n\\t\\t\\t\\tfunction firstNonWhiteSpaceNodeSibling(node) {\\n\\t\\t\\t\\t\\twhile (node) {\\n\\t\\t\\t\\t\\t\\tif (node.nodeType == 1 || (node.nodeType == 3 && node.data && /[\\\\r\\\\n\\\\s]/.test(node.data))) {\\n\\t\\t\\t\\t\\t\\t\\treturn node;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tnode = node.nextSibling;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (!root) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Old IE versions doesn't properly render blocks with br elements in them\\n\\t\\t\\t\\t// For example <p><br></p> wont be rendered correctly in a contentEditable area\\n\\t\\t\\t\\t// until you remove the br producing <p></p>\\n\\t\\t\\t\\tif (Env.ie && Env.ie < 9 && parentBlock && parentBlock.firstChild) {\\n\\t\\t\\t\\t\\tif (parentBlock.firstChild == parentBlock.lastChild && parentBlock.firstChild.tagName == 'BR') {\\n\\t\\t\\t\\t\\t\\tdom.remove(parentBlock.firstChild);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (/^(LI|DT|DD)$/.test(root.nodeName)) {\\n\\t\\t\\t\\t\\tvar firstChild = firstNonWhiteSpaceNodeSibling(root.firstChild);\\n\\n\\t\\t\\t\\t\\tif (firstChild && /^(UL|OL|DL)$/.test(firstChild.nodeName)) {\\n\\t\\t\\t\\t\\t\\troot.insertBefore(dom.doc.createTextNode('\\\\u00a0'), root.firstChild);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\trng = dom.createRng();\\n\\n\\t\\t\\t\\t// Normalize whitespace to remove empty text nodes. Fix for: #6904\\n\\t\\t\\t\\t// Gecko will be able to place the caret in empty text nodes but it won't render propery\\n\\t\\t\\t\\t// Older IE versions will sometimes crash so for now ignore all IE versions\\n\\t\\t\\t\\tif (!Env.ie) {\\n\\t\\t\\t\\t\\troot.normalize();\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (root.hasChildNodes()) {\\n\\t\\t\\t\\t\\twalker = new TreeWalker(root, root);\\n\\n\\t\\t\\t\\t\\twhile ((node = walker.current())) {\\n\\t\\t\\t\\t\\t\\tif (node.nodeType == 3) {\\n\\t\\t\\t\\t\\t\\t\\trng.setStart(node, 0);\\n\\t\\t\\t\\t\\t\\t\\trng.setEnd(node, 0);\\n\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tif (moveCaretBeforeOnEnterElementsMap[node.nodeName.toLowerCase()]) {\\n\\t\\t\\t\\t\\t\\t\\trng.setStartBefore(node);\\n\\t\\t\\t\\t\\t\\t\\trng.setEndBefore(node);\\n\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tlastNode = node;\\n\\t\\t\\t\\t\\t\\tnode = walker.next();\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (!node) {\\n\\t\\t\\t\\t\\t\\trng.setStart(lastNode, 0);\\n\\t\\t\\t\\t\\t\\trng.setEnd(lastNode, 0);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tif (root.nodeName == 'BR') {\\n\\t\\t\\t\\t\\t\\tif (root.nextSibling && dom.isBlock(root.nextSibling)) {\\n\\t\\t\\t\\t\\t\\t\\t// Trick on older IE versions to render the caret before the BR between two lists\\n\\t\\t\\t\\t\\t\\t\\tif (!documentMode || documentMode < 9) {\\n\\t\\t\\t\\t\\t\\t\\t\\ttempElm = dom.create('br');\\n\\t\\t\\t\\t\\t\\t\\t\\troot.parentNode.insertBefore(tempElm, root);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\trng.setStartBefore(root);\\n\\t\\t\\t\\t\\t\\t\\trng.setEndBefore(root);\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\trng.setStartAfter(root);\\n\\t\\t\\t\\t\\t\\t\\trng.setEndAfter(root);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\trng.setStart(root, 0);\\n\\t\\t\\t\\t\\t\\trng.setEnd(root, 0);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tselection.setRng(rng);\\n\\n\\t\\t\\t\\t// Remove tempElm created for old IE:s\\n\\t\\t\\t\\tdom.remove(tempElm);\\n\\t\\t\\t\\tselection.scrollIntoView(root);\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction setForcedBlockAttrs(node) {\\n\\t\\t\\t\\tvar forcedRootBlockName = settings.forced_root_block;\\n\\n\\t\\t\\t\\tif (forcedRootBlockName && forcedRootBlockName.toLowerCase() === node.tagName.toLowerCase()) {\\n\\t\\t\\t\\t\\tdom.setAttribs(node, settings.forced_root_block_attrs);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction emptyBlock(elm) {\\n\\t\\t\\t\\t// BR is needed in empty blocks on non IE browsers\\n\\t\\t\\t\\telm.innerHTML = !isIE ? '<br data-mce-bogus=\\\"1\\\">' : '';\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Creates a new block element by cloning the current one or creating a new one if the name is specified\\n\\t\\t\\t// This function will also copy any text formatting from the parent block and add it to the new one\\n\\t\\t\\tfunction createNewBlock(name) {\\n\\t\\t\\t\\tvar node = container, block, clonedNode, caretNode, textInlineElements = schema.getTextInlineElements();\\n\\n\\t\\t\\t\\tif (name || parentBlockName == \\\"TABLE\\\") {\\n\\t\\t\\t\\t\\tblock = dom.create(name || newBlockName);\\n\\t\\t\\t\\t\\tsetForcedBlockAttrs(block);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tblock = parentBlock.cloneNode(false);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tcaretNode = block;\\n\\n\\t\\t\\t\\t// Clone any parent styles\\n\\t\\t\\t\\tif (settings.keep_styles !== false) {\\n\\t\\t\\t\\t\\tdo {\\n\\t\\t\\t\\t\\t\\tif (textInlineElements[node.nodeName]) {\\n\\t\\t\\t\\t\\t\\t\\t// Never clone a caret containers\\n\\t\\t\\t\\t\\t\\t\\tif (node.id == '_mce_caret') {\\n\\t\\t\\t\\t\\t\\t\\t\\tcontinue;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tclonedNode = node.cloneNode(false);\\n\\t\\t\\t\\t\\t\\t\\tdom.setAttrib(clonedNode, 'id', ''); // Remove ID since it needs to be document unique\\n\\n\\t\\t\\t\\t\\t\\t\\tif (block.hasChildNodes()) {\\n\\t\\t\\t\\t\\t\\t\\t\\tclonedNode.appendChild(block.firstChild);\\n\\t\\t\\t\\t\\t\\t\\t\\tblock.appendChild(clonedNode);\\n\\t\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\t\\tcaretNode = clonedNode;\\n\\t\\t\\t\\t\\t\\t\\t\\tblock.appendChild(clonedNode);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t} while ((node = node.parentNode) && node != editableRoot);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// BR is needed in empty blocks on non IE browsers\\n\\t\\t\\t\\tif (!isIE) {\\n\\t\\t\\t\\t\\tcaretNode.innerHTML = '<br data-mce-bogus=\\\"1\\\">';\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn block;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Returns true/false if the caret is at the start/end of the parent block element\\n\\t\\t\\tfunction isCaretAtStartOrEndOfBlock(start) {\\n\\t\\t\\t\\tvar walker, node, name;\\n\\n\\t\\t\\t\\t// Caret is in the middle of a text node like \\\"a|b\\\"\\n\\t\\t\\t\\tif (container.nodeType == 3 && (start ? offset > 0 : offset < container.nodeValue.length)) {\\n\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// If after the last element in block node edge case for #5091\\n\\t\\t\\t\\tif (container.parentNode == parentBlock && isAfterLastNodeInContainer && !start) {\\n\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// If the caret if before the first element in parentBlock\\n\\t\\t\\t\\tif (start && container.nodeType == 1 && container == parentBlock.firstChild) {\\n\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Caret can be before/after a table\\n\\t\\t\\t\\tif (container.nodeName === \\\"TABLE\\\" || (container.previousSibling && container.previousSibling.nodeName == \\\"TABLE\\\")) {\\n\\t\\t\\t\\t\\treturn (isAfterLastNodeInContainer && !start) || (!isAfterLastNodeInContainer && start);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Walk the DOM and look for text nodes or non empty elements\\n\\t\\t\\t\\twalker = new TreeWalker(container, parentBlock);\\n\\n\\t\\t\\t\\t// If caret is in beginning or end of a text block then jump to the next/previous node\\n\\t\\t\\t\\tif (container.nodeType == 3) {\\n\\t\\t\\t\\t\\tif (start && offset === 0) {\\n\\t\\t\\t\\t\\t\\twalker.prev();\\n\\t\\t\\t\\t\\t} else if (!start && offset == container.nodeValue.length) {\\n\\t\\t\\t\\t\\t\\twalker.next();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\twhile ((node = walker.current())) {\\n\\t\\t\\t\\t\\tif (node.nodeType === 1) {\\n\\t\\t\\t\\t\\t\\t// Ignore bogus elements\\n\\t\\t\\t\\t\\t\\tif (!node.getAttribute('data-mce-bogus')) {\\n\\t\\t\\t\\t\\t\\t\\t// Keep empty elements like <img /> <input /> but not trailing br:s like <p>text|<br></p>\\n\\t\\t\\t\\t\\t\\t\\tname = node.nodeName.toLowerCase();\\n\\t\\t\\t\\t\\t\\t\\tif (nonEmptyElementsMap[name] && name !== 'br') {\\n\\t\\t\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t} else if (node.nodeType === 3 && !/^[ \\\\t\\\\r\\\\n]*$/.test(node.nodeValue)) {\\n\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (start) {\\n\\t\\t\\t\\t\\t\\twalker.prev();\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\twalker.next();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn true;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Wraps any text nodes or inline elements in the specified forced root block name\\n\\t\\t\\tfunction wrapSelfAndSiblingsInDefaultBlock(container, offset) {\\n\\t\\t\\t\\tvar newBlock, parentBlock, startNode, node, next, rootBlockName, blockName = newBlockName || 'P';\\n\\n\\t\\t\\t\\t// Not in a block element or in a table cell or caption\\n\\t\\t\\t\\tparentBlock = dom.getParent(container, dom.isBlock);\\n\\t\\t\\t\\tif (!parentBlock || !canSplitBlock(parentBlock)) {\\n\\t\\t\\t\\t\\tparentBlock = parentBlock || editableRoot;\\n\\n\\t\\t\\t\\t\\tif (parentBlock == editor.getBody() || isTableCell(parentBlock)) {\\n\\t\\t\\t\\t\\t\\trootBlockName = parentBlock.nodeName.toLowerCase();\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\trootBlockName = parentBlock.parentNode.nodeName.toLowerCase();\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (!parentBlock.hasChildNodes()) {\\n\\t\\t\\t\\t\\t\\tnewBlock = dom.create(blockName);\\n\\t\\t\\t\\t\\t\\tsetForcedBlockAttrs(newBlock);\\n\\t\\t\\t\\t\\t\\tparentBlock.appendChild(newBlock);\\n\\t\\t\\t\\t\\t\\trng.setStart(newBlock, 0);\\n\\t\\t\\t\\t\\t\\trng.setEnd(newBlock, 0);\\n\\t\\t\\t\\t\\t\\treturn newBlock;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Find parent that is the first child of parentBlock\\n\\t\\t\\t\\t\\tnode = container;\\n\\t\\t\\t\\t\\twhile (node.parentNode != parentBlock) {\\n\\t\\t\\t\\t\\t\\tnode = node.parentNode;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Loop left to find start node start wrapping at\\n\\t\\t\\t\\t\\twhile (node && !dom.isBlock(node)) {\\n\\t\\t\\t\\t\\t\\tstartNode = node;\\n\\t\\t\\t\\t\\t\\tnode = node.previousSibling;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (startNode && schema.isValidChild(rootBlockName, blockName.toLowerCase())) {\\n\\t\\t\\t\\t\\t\\tnewBlock = dom.create(blockName);\\n\\t\\t\\t\\t\\t\\tsetForcedBlockAttrs(newBlock);\\n\\t\\t\\t\\t\\t\\tstartNode.parentNode.insertBefore(newBlock, startNode);\\n\\n\\t\\t\\t\\t\\t\\t// Start wrapping until we hit a block\\n\\t\\t\\t\\t\\t\\tnode = startNode;\\n\\t\\t\\t\\t\\t\\twhile (node && !dom.isBlock(node)) {\\n\\t\\t\\t\\t\\t\\t\\tnext = node.nextSibling;\\n\\t\\t\\t\\t\\t\\t\\tnewBlock.appendChild(node);\\n\\t\\t\\t\\t\\t\\t\\tnode = next;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Restore range to it's past location\\n\\t\\t\\t\\t\\t\\trng.setStart(container, offset);\\n\\t\\t\\t\\t\\t\\trng.setEnd(container, offset);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn container;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Inserts a block or br before/after or in the middle of a split list of the LI is empty\\n\\t\\t\\tfunction handleEmptyListItem() {\\n\\t\\t\\t\\tfunction isFirstOrLastLi(first) {\\n\\t\\t\\t\\t\\tvar node = containerBlock[first ? 'firstChild' : 'lastChild'];\\n\\n\\t\\t\\t\\t\\t// Find first/last element since there might be whitespace there\\n\\t\\t\\t\\t\\twhile (node) {\\n\\t\\t\\t\\t\\t\\tif (node.nodeType == 1) {\\n\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tnode = node[first ? 'nextSibling' : 'previousSibling'];\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\treturn node === parentBlock;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfunction getContainerBlock() {\\n\\t\\t\\t\\t\\tvar containerBlockParent = containerBlock.parentNode;\\n\\n\\t\\t\\t\\t\\tif (/^(LI|DT|DD)$/.test(containerBlockParent.nodeName)) {\\n\\t\\t\\t\\t\\t\\treturn containerBlockParent;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\treturn containerBlock;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (containerBlock == editor.getBody()) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Check if we are in an nested list\\n\\t\\t\\t\\tvar containerBlockParentName = containerBlock.parentNode.nodeName;\\n\\t\\t\\t\\tif (/^(OL|UL|LI)$/.test(containerBlockParentName)) {\\n\\t\\t\\t\\t\\tnewBlockName = 'LI';\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tnewBlock = newBlockName ? createNewBlock(newBlockName) : dom.create('BR');\\n\\n\\t\\t\\t\\tif (isFirstOrLastLi(true) && isFirstOrLastLi()) {\\n\\t\\t\\t\\t\\tif (containerBlockParentName == 'LI') {\\n\\t\\t\\t\\t\\t\\t// Nested list is inside a LI\\n\\t\\t\\t\\t\\t\\tdom.insertAfter(newBlock, getContainerBlock());\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t// Is first and last list item then replace the OL/UL with a text block\\n\\t\\t\\t\\t\\t\\tdom.replace(newBlock, containerBlock);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} else if (isFirstOrLastLi(true)) {\\n\\t\\t\\t\\t\\tif (containerBlockParentName == 'LI') {\\n\\t\\t\\t\\t\\t\\t// List nested in an LI then move the list to a new sibling LI\\n\\t\\t\\t\\t\\t\\tdom.insertAfter(newBlock, getContainerBlock());\\n\\t\\t\\t\\t\\t\\tnewBlock.appendChild(dom.doc.createTextNode(' ')); // Needed for IE so the caret can be placed\\n\\t\\t\\t\\t\\t\\tnewBlock.appendChild(containerBlock);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t// First LI in list then remove LI and add text block before list\\n\\t\\t\\t\\t\\t\\tcontainerBlock.parentNode.insertBefore(newBlock, containerBlock);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} else if (isFirstOrLastLi()) {\\n\\t\\t\\t\\t\\t// Last LI in list then remove LI and add text block after list\\n\\t\\t\\t\\t\\tdom.insertAfter(newBlock, getContainerBlock());\\n\\t\\t\\t\\t\\trenderBlockOnIE(newBlock);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t// Middle LI in list the split the list and insert a text block in the middle\\n\\t\\t\\t\\t\\t// Extract after fragment and insert it after the current block\\n\\t\\t\\t\\t\\tcontainerBlock = getContainerBlock();\\n\\t\\t\\t\\t\\ttmpRng = rng.cloneRange();\\n\\t\\t\\t\\t\\ttmpRng.setStartAfter(parentBlock);\\n\\t\\t\\t\\t\\ttmpRng.setEndAfter(containerBlock);\\n\\t\\t\\t\\t\\tfragment = tmpRng.extractContents();\\n\\n\\t\\t\\t\\t\\tif (newBlockName == 'LI' && fragment.firstChild.nodeName == 'LI') {\\n\\t\\t\\t\\t\\t\\tnewBlock = fragment.firstChild;\\n\\t\\t\\t\\t\\t\\tdom.insertAfter(fragment, containerBlock);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tdom.insertAfter(fragment, containerBlock);\\n\\t\\t\\t\\t\\t\\tdom.insertAfter(newBlock, containerBlock);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tdom.remove(parentBlock);\\n\\t\\t\\t\\tmoveToCaretPosition(newBlock);\\n\\t\\t\\t\\tundoManager.add();\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Inserts a BR element if the forced_root_block option is set to false or empty string\\n\\t\\t\\tfunction insertBr() {\\n\\t\\t\\t\\teditor.execCommand(\\\"InsertLineBreak\\\", false, evt);\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Trims any linebreaks at the beginning of node user for example when pressing enter in a PRE element\\n\\t\\t\\tfunction trimLeadingLineBreaks(node) {\\n\\t\\t\\t\\tdo {\\n\\t\\t\\t\\t\\tif (node.nodeType === 3) {\\n\\t\\t\\t\\t\\t\\tnode.nodeValue = node.nodeValue.replace(/^[\\\\r\\\\n]+/, '');\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tnode = node.firstChild;\\n\\t\\t\\t\\t} while (node);\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction getEditableRoot(node) {\\n\\t\\t\\t\\tvar root = dom.getRoot(), parent, editableRoot;\\n\\n\\t\\t\\t\\t// Get all parents until we hit a non editable parent or the root\\n\\t\\t\\t\\tparent = node;\\n\\t\\t\\t\\twhile (parent !== root && dom.getContentEditable(parent) !== \\\"false\\\") {\\n\\t\\t\\t\\t\\tif (dom.getContentEditable(parent) === \\\"true\\\") {\\n\\t\\t\\t\\t\\t\\teditableRoot = parent;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tparent = parent.parentNode;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn parent !== root ? editableRoot : root;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Adds a BR at the end of blocks that only contains an IMG or INPUT since\\n\\t\\t\\t// these might be floated and then they won't expand the block\\n\\t\\t\\tfunction addBrToBlockIfNeeded(block) {\\n\\t\\t\\t\\tvar lastChild;\\n\\n\\t\\t\\t\\t// IE will render the blocks correctly other browsers needs a BR\\n\\t\\t\\t\\tif (!isIE) {\\n\\t\\t\\t\\t\\tblock.normalize(); // Remove empty text nodes that got left behind by the extract\\n\\n\\t\\t\\t\\t\\t// Check if the block is empty or contains a floated last child\\n\\t\\t\\t\\t\\tlastChild = block.lastChild;\\n\\t\\t\\t\\t\\tif (!lastChild || (/^(left|right)$/gi.test(dom.getStyle(lastChild, 'float', true)))) {\\n\\t\\t\\t\\t\\t\\tdom.add(block, 'br');\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction insertNewBlockAfter() {\\n\\t\\t\\t\\t// If the caret is at the end of a header we produce a P tag after it similar to Word unless we are in a hgroup\\n\\t\\t\\t\\tif (/^(H[1-6]|PRE|FIGURE)$/.test(parentBlockName) && containerBlockName != 'HGROUP') {\\n\\t\\t\\t\\t\\tnewBlock = createNewBlock(newBlockName);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tnewBlock = createNewBlock();\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Split the current container block element if enter is pressed inside an empty inner block element\\n\\t\\t\\t\\tif (settings.end_container_on_empty_block && canSplitBlock(containerBlock) && dom.isEmpty(parentBlock)) {\\n\\t\\t\\t\\t\\t// Split container block for example a BLOCKQUOTE at the current blockParent location for example a P\\n\\t\\t\\t\\t\\tnewBlock = dom.split(containerBlock, parentBlock);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tdom.insertAfter(newBlock, parentBlock);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tmoveToCaretPosition(newBlock);\\n\\t\\t\\t}\\n\\n\\t\\t\\trng = selection.getRng(true);\\n\\n\\t\\t\\t// Event is blocked by some other handler for example the lists plugin\\n\\t\\t\\tif (evt.isDefaultPrevented()) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Delete any selected contents\\n\\t\\t\\tif (!rng.collapsed) {\\n\\t\\t\\t\\teditor.execCommand('Delete');\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Setup range items and newBlockName\\n\\t\\t\\tnew RangeUtils(dom).normalize(rng);\\n\\t\\t\\tcontainer = rng.startContainer;\\n\\t\\t\\toffset = rng.startOffset;\\n\\t\\t\\tnewBlockName = (settings.force_p_newlines ? 'p' : '') || settings.forced_root_block;\\n\\t\\t\\tnewBlockName = newBlockName ? newBlockName.toUpperCase() : '';\\n\\t\\t\\tdocumentMode = dom.doc.documentMode;\\n\\t\\t\\tshiftKey = evt.shiftKey;\\n\\n\\t\\t\\t// Resolve node index\\n\\t\\t\\tif (container.nodeType == 1 && container.hasChildNodes()) {\\n\\t\\t\\t\\tisAfterLastNodeInContainer = offset > container.childNodes.length - 1;\\n\\n\\t\\t\\t\\tcontainer = container.childNodes[Math.min(offset, container.childNodes.length - 1)] || container;\\n\\t\\t\\t\\tif (isAfterLastNodeInContainer && container.nodeType == 3) {\\n\\t\\t\\t\\t\\toffset = container.nodeValue.length;\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\toffset = 0;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Get editable root node, normally the body element but sometimes a div or span\\n\\t\\t\\teditableRoot = getEditableRoot(container);\\n\\n\\t\\t\\t// If there is no editable root then enter is done inside a contentEditable false element\\n\\t\\t\\tif (!editableRoot) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tundoManager.beforeChange();\\n\\n\\t\\t\\t// If editable root isn't block nor the root of the editor\\n\\t\\t\\tif (!dom.isBlock(editableRoot) && editableRoot != dom.getRoot()) {\\n\\t\\t\\t\\tif (!newBlockName || shiftKey) {\\n\\t\\t\\t\\t\\tinsertBr();\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Wrap the current node and it's sibling in a default block if it's needed.\\n\\t\\t\\t// for example this <td>text|<b>text2</b></td> will become this <td><p>text|<b>text2</p></b></td>\\n\\t\\t\\t// This won't happen if root blocks are disabled or the shiftKey is pressed\\n\\t\\t\\tif ((newBlockName && !shiftKey) || (!newBlockName && shiftKey)) {\\n\\t\\t\\t\\tcontainer = wrapSelfAndSiblingsInDefaultBlock(container, offset);\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Find parent block and setup empty block paddings\\n\\t\\t\\tparentBlock = dom.getParent(container, dom.isBlock);\\n\\t\\t\\tcontainerBlock = parentBlock ? dom.getParent(parentBlock.parentNode, dom.isBlock) : null;\\n\\n\\t\\t\\t// Setup block names\\n\\t\\t\\tparentBlockName = parentBlock ? parentBlock.nodeName.toUpperCase() : ''; // IE < 9 & HTML5\\n\\t\\t\\tcontainerBlockName = containerBlock ? containerBlock.nodeName.toUpperCase() : ''; // IE < 9 & HTML5\\n\\n\\t\\t\\t// Enter inside block contained within a LI then split or insert before/after LI\\n\\t\\t\\tif (containerBlockName == 'LI' && !evt.ctrlKey) {\\n\\t\\t\\t\\tparentBlock = containerBlock;\\n\\t\\t\\t\\tparentBlockName = containerBlockName;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (editor.undoManager.typing) {\\n\\t\\t\\t\\teditor.undoManager.typing = false;\\n\\t\\t\\t\\teditor.undoManager.add();\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Handle enter in list item\\n\\t\\t\\tif (/^(LI|DT|DD)$/.test(parentBlockName)) {\\n\\t\\t\\t\\tif (!newBlockName && shiftKey) {\\n\\t\\t\\t\\t\\tinsertBr();\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Handle enter inside an empty list item\\n\\t\\t\\t\\tif (dom.isEmpty(parentBlock)) {\\n\\t\\t\\t\\t\\thandleEmptyListItem();\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Don't split PRE tags but insert a BR instead easier when writing code samples etc\\n\\t\\t\\tif (parentBlockName == 'PRE' && settings.br_in_pre !== false) {\\n\\t\\t\\t\\tif (!shiftKey) {\\n\\t\\t\\t\\t\\tinsertBr();\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\t\\t\\t} else {\\n\\t\\t\\t\\t// If no root block is configured then insert a BR by default or if the shiftKey is pressed\\n\\t\\t\\t\\tif ((!newBlockName && !shiftKey && parentBlockName != 'LI') || (newBlockName && shiftKey)) {\\n\\t\\t\\t\\t\\tinsertBr();\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// If parent block is root then never insert new blocks\\n\\t\\t\\tif (newBlockName && parentBlock === editor.getBody()) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Default block name if it's not configured\\n\\t\\t\\tnewBlockName = newBlockName || 'P';\\n\\n\\t\\t\\t// Insert new block before/after the parent block depending on caret location\\n\\t\\t\\tif (CaretContainer.isCaretContainerBlock(parentBlock)) {\\n\\t\\t\\t\\tnewBlock = CaretContainer.showCaretContainerBlock(parentBlock);\\n\\t\\t\\t\\tif (dom.isEmpty(parentBlock)) {\\n\\t\\t\\t\\t\\temptyBlock(parentBlock);\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tmoveToCaretPosition(newBlock);\\n\\t\\t\\t} else if (isCaretAtStartOrEndOfBlock()) {\\n\\t\\t\\t\\tinsertNewBlockAfter();\\n\\t\\t\\t} else if (isCaretAtStartOrEndOfBlock(true)) {\\n\\t\\t\\t\\t// Insert new block before\\n\\t\\t\\t\\tnewBlock = parentBlock.parentNode.insertBefore(createNewBlock(), parentBlock);\\n\\t\\t\\t\\trenderBlockOnIE(newBlock);\\n\\t\\t\\t\\tmoveToCaretPosition(parentBlock);\\n\\t\\t\\t} else {\\n\\t\\t\\t\\t// Extract after fragment and insert it after the current block\\n\\t\\t\\t\\ttmpRng = rng.cloneRange();\\n\\t\\t\\t\\ttmpRng.setEndAfter(parentBlock);\\n\\t\\t\\t\\tfragment = tmpRng.extractContents();\\n\\t\\t\\t\\ttrimLeadingLineBreaks(fragment);\\n\\t\\t\\t\\tnewBlock = fragment.firstChild;\\n\\t\\t\\t\\tdom.insertAfter(fragment, parentBlock);\\n\\t\\t\\t\\ttrimInlineElementsOnLeftSideOfBlock(newBlock);\\n\\t\\t\\t\\taddBrToBlockIfNeeded(parentBlock);\\n\\n\\t\\t\\t\\tif (dom.isEmpty(parentBlock)) {\\n\\t\\t\\t\\t\\temptyBlock(parentBlock);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tnewBlock.normalize();\\n\\n\\t\\t\\t\\t// New block might become empty if it's <p><b>a |</b></p>\\n\\t\\t\\t\\tif (dom.isEmpty(newBlock)) {\\n\\t\\t\\t\\t\\tdom.remove(newBlock);\\n\\t\\t\\t\\t\\tinsertNewBlockAfter();\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tmoveToCaretPosition(newBlock);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tdom.setAttrib(newBlock, 'id', ''); // Remove ID since it needs to be document unique\\n\\n\\t\\t\\t// Allow custom handling of new blocks\\n\\t\\t\\teditor.fire('NewBlock', {newBlock: newBlock});\\n\\n\\t\\t\\tundoManager.typing = false;\\n\\t\\t\\tundoManager.add();\\n\\t\\t}\\n\\n\\t\\teditor.on('keydown', function(evt) {\\n\\t\\t\\tif (evt.keyCode == 13) {\\n\\t\\t\\t\\tif (handleEnterKey(evt) !== false) {\\n\\t\\t\\t\\t\\tevt.preventDefault();\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t});\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/ForceBlocks.js\\n\\n/**\\n * ForceBlocks.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Makes sure that everything gets wrapped in paragraphs.\\n *\\n * @private\\n * @class tinymce.ForceBlocks\\n */\\ndefine(\\\"tinymce/ForceBlocks\\\", [], function() {\\n\\treturn function(editor) {\\n\\t\\tvar settings = editor.settings, dom = editor.dom, selection = editor.selection;\\n\\t\\tvar schema = editor.schema, blockElements = schema.getBlockElements();\\n\\n\\t\\tfunction addRootBlocks() {\\n\\t\\t\\tvar node = selection.getStart(), rootNode = editor.getBody(), rng;\\n\\t\\t\\tvar startContainer, startOffset, endContainer, endOffset, rootBlockNode;\\n\\t\\t\\tvar tempNode, offset = -0xFFFFFF, wrapped, restoreSelection;\\n\\t\\t\\tvar tmpRng, rootNodeName, forcedRootBlock;\\n\\n\\t\\t\\tforcedRootBlock = settings.forced_root_block;\\n\\n\\t\\t\\tif (!node || node.nodeType !== 1 || !forcedRootBlock) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Check if node is wrapped in block\\n\\t\\t\\twhile (node && node != rootNode) {\\n\\t\\t\\t\\tif (blockElements[node.nodeName]) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tnode = node.parentNode;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Get current selection\\n\\t\\t\\trng = selection.getRng();\\n\\t\\t\\tif (rng.setStart) {\\n\\t\\t\\t\\tstartContainer = rng.startContainer;\\n\\t\\t\\t\\tstartOffset = rng.startOffset;\\n\\t\\t\\t\\tendContainer = rng.endContainer;\\n\\t\\t\\t\\tendOffset = rng.endOffset;\\n\\n\\t\\t\\t\\ttry {\\n\\t\\t\\t\\t\\trestoreSelection = editor.getDoc().activeElement === rootNode;\\n\\t\\t\\t\\t} catch (ex) {\\n\\t\\t\\t\\t\\t// IE throws unspecified error here sometimes\\n\\t\\t\\t\\t}\\n\\t\\t\\t} else {\\n\\t\\t\\t\\t// Force control range into text range\\n\\t\\t\\t\\tif (rng.item) {\\n\\t\\t\\t\\t\\tnode = rng.item(0);\\n\\t\\t\\t\\t\\trng = editor.getDoc().body.createTextRange();\\n\\t\\t\\t\\t\\trng.moveToElementText(node);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\trestoreSelection = rng.parentElement().ownerDocument === editor.getDoc();\\n\\t\\t\\t\\ttmpRng = rng.duplicate();\\n\\t\\t\\t\\ttmpRng.collapse(true);\\n\\t\\t\\t\\tstartOffset = tmpRng.move('character', offset) * -1;\\n\\n\\t\\t\\t\\tif (!tmpRng.collapsed) {\\n\\t\\t\\t\\t\\ttmpRng = rng.duplicate();\\n\\t\\t\\t\\t\\ttmpRng.collapse(false);\\n\\t\\t\\t\\t\\tendOffset = (tmpRng.move('character', offset) * -1) - startOffset;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Wrap non block elements and text nodes\\n\\t\\t\\tnode = rootNode.firstChild;\\n\\t\\t\\trootNodeName = rootNode.nodeName.toLowerCase();\\n\\t\\t\\twhile (node) {\\n\\t\\t\\t\\t// TODO: Break this up, too complex\\n\\t\\t\\t\\tif (((node.nodeType === 3 || (node.nodeType == 1 && !blockElements[node.nodeName]))) &&\\n\\t\\t\\t\\t\\tschema.isValidChild(rootNodeName, forcedRootBlock.toLowerCase())) {\\n\\t\\t\\t\\t\\t// Remove empty text nodes\\n\\t\\t\\t\\t\\tif (node.nodeType === 3 && node.nodeValue.length === 0) {\\n\\t\\t\\t\\t\\t\\ttempNode = node;\\n\\t\\t\\t\\t\\t\\tnode = node.nextSibling;\\n\\t\\t\\t\\t\\t\\tdom.remove(tempNode);\\n\\t\\t\\t\\t\\t\\tcontinue;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (!rootBlockNode) {\\n\\t\\t\\t\\t\\t\\trootBlockNode = dom.create(forcedRootBlock, editor.settings.forced_root_block_attrs);\\n\\t\\t\\t\\t\\t\\tnode.parentNode.insertBefore(rootBlockNode, node);\\n\\t\\t\\t\\t\\t\\twrapped = true;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\ttempNode = node;\\n\\t\\t\\t\\t\\tnode = node.nextSibling;\\n\\t\\t\\t\\t\\trootBlockNode.appendChild(tempNode);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\trootBlockNode = null;\\n\\t\\t\\t\\t\\tnode = node.nextSibling;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (wrapped && restoreSelection) {\\n\\t\\t\\t\\tif (rng.setStart) {\\n\\t\\t\\t\\t\\trng.setStart(startContainer, startOffset);\\n\\t\\t\\t\\t\\trng.setEnd(endContainer, endOffset);\\n\\t\\t\\t\\t\\tselection.setRng(rng);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t// Only select if the previous selection was inside the document to prevent auto focus in quirks mode\\n\\t\\t\\t\\t\\ttry {\\n\\t\\t\\t\\t\\t\\trng = editor.getDoc().body.createTextRange();\\n\\t\\t\\t\\t\\t\\trng.moveToElementText(rootNode);\\n\\t\\t\\t\\t\\t\\trng.collapse(true);\\n\\t\\t\\t\\t\\t\\trng.moveStart('character', startOffset);\\n\\n\\t\\t\\t\\t\\t\\tif (endOffset > 0) {\\n\\t\\t\\t\\t\\t\\t\\trng.moveEnd('character', endOffset);\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\trng.select();\\n\\t\\t\\t\\t\\t} catch (ex) {\\n\\t\\t\\t\\t\\t\\t// Ignore\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\teditor.nodeChanged();\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t// Force root blocks\\n\\t\\tif (settings.forced_root_block) {\\n\\t\\t\\teditor.on('NodeChange', addRootBlocks);\\n\\t\\t}\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/caret/CaretUtils.js\\n\\n/**\\n * CaretUtils.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Utility functions shared by the caret logic.\\n *\\n * @private\\n * @class tinymce.caret.CaretUtils\\n */\\ndefine(\\\"tinymce/caret/CaretUtils\\\", [\\n\\t\\\"tinymce/util/Fun\\\",\\n\\t\\\"tinymce/dom/TreeWalker\\\",\\n\\t\\\"tinymce/dom/NodeType\\\",\\n\\t\\\"tinymce/caret/CaretPosition\\\",\\n\\t\\\"tinymce/caret/CaretContainer\\\",\\n\\t\\\"tinymce/caret/CaretCandidate\\\"\\n], function(Fun, TreeWalker, NodeType, CaretPosition, CaretContainer, CaretCandidate) {\\n\\tvar isContentEditableTrue = NodeType.isContentEditableTrue,\\n\\t\\tisContentEditableFalse = NodeType.isContentEditableFalse,\\n\\t\\tisBlockLike = NodeType.matchStyleValues('display', 'block table table-cell table-caption'),\\n\\t\\tisCaretContainer = CaretContainer.isCaretContainer,\\n\\t\\tisCaretContainerBlock = CaretContainer.isCaretContainerBlock,\\n\\t\\tcurry = Fun.curry,\\n\\t\\tisElement = NodeType.isElement,\\n\\t\\tisCaretCandidate = CaretCandidate.isCaretCandidate;\\n\\n\\tfunction isForwards(direction) {\\n\\t\\treturn direction > 0;\\n\\t}\\n\\n\\tfunction isBackwards(direction) {\\n\\t\\treturn direction < 0;\\n\\t}\\n\\n\\tfunction skipCaretContainers(walk, shallow) {\\n\\t\\tvar node;\\n\\n\\t\\twhile ((node = walk(shallow))) {\\n\\t\\t\\tif (!isCaretContainerBlock(node)) {\\n\\t\\t\\t\\treturn node;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\treturn null;\\n\\t}\\n\\n\\tfunction findNode(node, direction, predicateFn, rootNode, shallow) {\\n\\t\\tvar walker = new TreeWalker(node, rootNode);\\n\\n\\t\\tif (isBackwards(direction)) {\\n\\t\\t\\tif (isContentEditableFalse(node) || isCaretContainerBlock(node)) {\\n\\t\\t\\t\\tnode = skipCaretContainers(walker.prev, true);\\n\\t\\t\\t\\tif (predicateFn(node)) {\\n\\t\\t\\t\\t\\treturn node;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\twhile ((node = skipCaretContainers(walker.prev, shallow))) {\\n\\t\\t\\t\\tif (predicateFn(node)) {\\n\\t\\t\\t\\t\\treturn node;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tif (isForwards(direction)) {\\n\\t\\t\\tif (isContentEditableFalse(node) || isCaretContainerBlock(node)) {\\n\\t\\t\\t\\tnode = skipCaretContainers(walker.next, true);\\n\\t\\t\\t\\tif (predicateFn(node)) {\\n\\t\\t\\t\\t\\treturn node;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\twhile ((node = skipCaretContainers(walker.next, shallow))) {\\n\\t\\t\\t\\tif (predicateFn(node)) {\\n\\t\\t\\t\\t\\treturn node;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\treturn null;\\n\\t}\\n\\n\\tfunction getEditingHost(node, rootNode) {\\n\\t\\tfor (node = node.parentNode; node && node != rootNode; node = node.parentNode) {\\n\\t\\t\\tif (isContentEditableTrue(node)) {\\n\\t\\t\\t\\treturn node;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\treturn rootNode;\\n\\t}\\n\\n\\tfunction getParentBlock(node, rootNode) {\\n\\t\\twhile (node && node != rootNode) {\\n\\t\\t\\tif (isBlockLike(node)) {\\n\\t\\t\\t\\treturn node;\\n\\t\\t\\t}\\n\\n\\t\\t\\tnode = node.parentNode;\\n\\t\\t}\\n\\n\\t\\treturn null;\\n\\t}\\n\\n\\tfunction isInSameBlock(caretPosition1, caretPosition2, rootNode) {\\n\\t\\treturn getParentBlock(caretPosition1.container(), rootNode) == getParentBlock(caretPosition2.container(), rootNode);\\n\\t}\\n\\n\\tfunction isInSameEditingHost(caretPosition1, caretPosition2, rootNode) {\\n\\t\\treturn getEditingHost(caretPosition1.container(), rootNode) == getEditingHost(caretPosition2.container(), rootNode);\\n\\t}\\n\\n\\tfunction getChildNodeAtRelativeOffset(relativeOffset, caretPosition) {\\n\\t\\tvar container, offset;\\n\\n\\t\\tif (!caretPosition) {\\n\\t\\t\\treturn null;\\n\\t\\t}\\n\\n\\t\\tcontainer = caretPosition.container();\\n\\t\\toffset = caretPosition.offset();\\n\\n\\t\\tif (!isElement(container)) {\\n\\t\\t\\treturn null;\\n\\t\\t}\\n\\n\\t\\treturn container.childNodes[offset + relativeOffset];\\n\\t}\\n\\n\\tfunction beforeAfter(before, node) {\\n\\t\\tvar range = node.ownerDocument.createRange();\\n\\n\\t\\tif (before) {\\n\\t\\t\\trange.setStartBefore(node);\\n\\t\\t\\trange.setEndBefore(node);\\n\\t\\t} else {\\n\\t\\t\\trange.setStartAfter(node);\\n\\t\\t\\trange.setEndAfter(node);\\n\\t\\t}\\n\\n\\t\\treturn range;\\n\\t}\\n\\n\\tfunction isNodesInSameBlock(rootNode, node1, node2) {\\n\\t\\treturn getParentBlock(node1, rootNode) == getParentBlock(node2, rootNode);\\n\\t}\\n\\n\\tfunction lean(left, rootNode, node) {\\n\\t\\tvar sibling, siblingName;\\n\\n\\t\\tif (left) {\\n\\t\\t\\tsiblingName = 'previousSibling';\\n\\t\\t} else {\\n\\t\\t\\tsiblingName = 'nextSibling';\\n\\t\\t}\\n\\n\\t\\twhile (node && node != rootNode) {\\n\\t\\t\\tsibling = node[siblingName];\\n\\n\\t\\t\\tif (isCaretContainer(sibling)) {\\n\\t\\t\\t\\tsibling = sibling[siblingName];\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (isContentEditableFalse(sibling)) {\\n\\t\\t\\t\\tif (isNodesInSameBlock(rootNode, sibling, node)) {\\n\\t\\t\\t\\t\\treturn sibling;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tbreak;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (isCaretCandidate(sibling)) {\\n\\t\\t\\t\\tbreak;\\n\\t\\t\\t}\\n\\n\\t\\t\\tnode = node.parentNode;\\n\\t\\t}\\n\\n\\t\\treturn null;\\n\\t}\\n\\n\\tvar before = curry(beforeAfter, true);\\n\\tvar after = curry(beforeAfter, false);\\n\\n\\tfunction normalizeRange(direction, rootNode, range) {\\n\\t\\tvar node, container, offset, location;\\n\\t\\tvar leanLeft = curry(lean, true, rootNode);\\n\\t\\tvar leanRight = curry(lean, false, rootNode);\\n\\n\\t\\tcontainer = range.startContainer;\\n\\t\\toffset = range.startOffset;\\n\\n\\t\\tif (CaretContainer.isCaretContainerBlock(container)) {\\n\\t\\t\\tif (!isElement(container)) {\\n\\t\\t\\t\\tcontainer = container.parentNode;\\n\\t\\t\\t}\\n\\n\\t\\t\\tlocation = container.getAttribute('data-mce-caret');\\n\\n\\t\\t\\tif (location == 'before') {\\n\\t\\t\\t\\tnode = container.nextSibling;\\n\\t\\t\\t\\tif (isContentEditableFalse(node)) {\\n\\t\\t\\t\\t\\treturn before(node);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (location == 'after') {\\n\\t\\t\\t\\tnode = container.previousSibling;\\n\\t\\t\\t\\tif (isContentEditableFalse(node)) {\\n\\t\\t\\t\\t\\treturn after(node);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tif (!range.collapsed) {\\n\\t\\t\\treturn range;\\n\\t\\t}\\n\\n\\t\\tif (NodeType.isText(container)) {\\n\\t\\t\\tif (isCaretContainer(container)) {\\n\\t\\t\\t\\tif (direction === 1) {\\n\\t\\t\\t\\t\\tnode = leanRight(container);\\n\\t\\t\\t\\t\\tif (node) {\\n\\t\\t\\t\\t\\t\\treturn before(node);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tnode = leanLeft(container);\\n\\t\\t\\t\\t\\tif (node) {\\n\\t\\t\\t\\t\\t\\treturn after(node);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (direction === -1) {\\n\\t\\t\\t\\t\\tnode = leanLeft(container);\\n\\t\\t\\t\\t\\tif (node) {\\n\\t\\t\\t\\t\\t\\treturn after(node);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tnode = leanRight(container);\\n\\t\\t\\t\\t\\tif (node) {\\n\\t\\t\\t\\t\\t\\treturn before(node);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn range;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (CaretContainer.endsWithCaretContainer(container) && offset >= container.data.length - 1) {\\n\\t\\t\\t\\tif (direction === 1) {\\n\\t\\t\\t\\t\\tnode = leanRight(container);\\n\\t\\t\\t\\t\\tif (node) {\\n\\t\\t\\t\\t\\t\\treturn before(node);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn range;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (CaretContainer.startsWithCaretContainer(container) && offset <= 1) {\\n\\t\\t\\t\\tif (direction === -1) {\\n\\t\\t\\t\\t\\tnode = leanLeft(container);\\n\\t\\t\\t\\t\\tif (node) {\\n\\t\\t\\t\\t\\t\\treturn after(node);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn range;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (offset === container.data.length) {\\n\\t\\t\\t\\tnode = leanRight(container);\\n\\t\\t\\t\\tif (node) {\\n\\t\\t\\t\\t\\treturn before(node);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn range;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (offset === 0) {\\n\\t\\t\\t\\tnode = leanLeft(container);\\n\\t\\t\\t\\tif (node) {\\n\\t\\t\\t\\t\\treturn after(node);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn range;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\treturn range;\\n\\t}\\n\\n\\tfunction isNextToContentEditableFalse(relativeOffset, caretPosition) {\\n\\t\\treturn isContentEditableFalse(getChildNodeAtRelativeOffset(relativeOffset, caretPosition));\\n\\t}\\n\\n\\treturn {\\n\\t\\tisForwards: isForwards,\\n\\t\\tisBackwards: isBackwards,\\n\\t\\tfindNode: findNode,\\n\\t\\tgetEditingHost: getEditingHost,\\n\\t\\tgetParentBlock: getParentBlock,\\n\\t\\tisInSameBlock: isInSameBlock,\\n\\t\\tisInSameEditingHost: isInSameEditingHost,\\n\\t\\tisBeforeContentEditableFalse: curry(isNextToContentEditableFalse, 0),\\n\\t\\tisAfterContentEditableFalse: curry(isNextToContentEditableFalse, -1),\\n\\t\\tnormalizeRange: normalizeRange\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/caret/CaretWalker.js\\n\\n/**\\n * CaretWalker.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This module contains logic for moving around a virtual caret in logical order within a DOM element.\\n *\\n * It ignores the most obvious invalid caret locations such as within a script element or within a\\n * contentEditable=false element but it will return locations that isn't possible to render visually.\\n *\\n * @private\\n * @class tinymce.caret.CaretWalker\\n * @example\\n * var caretWalker = new CaretWalker(rootElm);\\n *\\n * var prevLogicalCaretPosition = caretWalker.prev(CaretPosition.fromRangeStart(range));\\n * var nextLogicalCaretPosition = caretWalker.next(CaretPosition.fromRangeEnd(range));\\n */\\ndefine(\\\"tinymce/caret/CaretWalker\\\", [\\n\\t\\\"tinymce/dom/NodeType\\\",\\n\\t\\\"tinymce/caret/CaretCandidate\\\",\\n\\t\\\"tinymce/caret/CaretPosition\\\",\\n\\t\\\"tinymce/caret/CaretUtils\\\",\\n\\t\\\"tinymce/util/Arr\\\",\\n\\t\\\"tinymce/util/Fun\\\"\\n], function(NodeType, CaretCandidate, CaretPosition, CaretUtils, Arr, Fun) {\\n\\tvar isContentEditableFalse = NodeType.isContentEditableFalse,\\n\\t\\tisText = NodeType.isText,\\n\\t\\tisElement = NodeType.isElement,\\n\\t\\tisBr = NodeType.isBr,\\n\\t\\tisForwards = CaretUtils.isForwards,\\n\\t\\tisBackwards = CaretUtils.isBackwards,\\n\\t\\tisCaretCandidate = CaretCandidate.isCaretCandidate,\\n\\t\\tisAtomic = CaretCandidate.isAtomic,\\n\\t\\tisEditableCaretCandidate = CaretCandidate.isEditableCaretCandidate;\\n\\n\\tfunction getParents(node, rootNode) {\\n\\t\\tvar parents = [];\\n\\n\\t\\twhile (node && node != rootNode) {\\n\\t\\t\\tparents.push(node);\\n\\t\\t\\tnode = node.parentNode;\\n\\t\\t}\\n\\n\\t\\treturn parents;\\n\\t}\\n\\n\\tfunction nodeAtIndex(container, offset) {\\n\\t\\tif (container.hasChildNodes() && offset < container.childNodes.length) {\\n\\t\\t\\treturn container.childNodes[offset];\\n\\t\\t}\\n\\n\\t\\treturn null;\\n\\t}\\n\\n\\tfunction getCaretCandidatePosition(direction, node) {\\n\\t\\tif (isForwards(direction)) {\\n\\t\\t\\tif (isCaretCandidate(node.previousSibling) && !isText(node.previousSibling)) {\\n\\t\\t\\t\\treturn CaretPosition.before(node);\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (isText(node)) {\\n\\t\\t\\t\\treturn CaretPosition(node, 0);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tif (isBackwards(direction)) {\\n\\t\\t\\tif (isCaretCandidate(node.nextSibling) && !isText(node.nextSibling)) {\\n\\t\\t\\t\\treturn CaretPosition.after(node);\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (isText(node)) {\\n\\t\\t\\t\\treturn CaretPosition(node, node.data.length);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tif (isBackwards(direction)) {\\n\\t\\t\\tif (isBr(node)) {\\n\\t\\t\\t\\treturn CaretPosition.before(node);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn CaretPosition.after(node);\\n\\t\\t}\\n\\n\\t\\treturn CaretPosition.before(node);\\n\\t}\\n\\n\\t// Jumps over BR elements <p>|<br></p><p>a</p> -> <p><br></p><p>|a</p>\\n\\tfunction isBrBeforeBlock(node, rootNode) {\\n\\t\\tvar next;\\n\\n\\t\\tif (!NodeType.isBr(node)) {\\n\\t\\t\\treturn false;\\n\\t\\t}\\n\\n\\t\\tnext = findCaretPosition(1, CaretPosition.after(node), rootNode);\\n\\t\\tif (!next) {\\n\\t\\t\\treturn false;\\n\\t\\t}\\n\\n\\t\\treturn !CaretUtils.isInSameBlock(CaretPosition.before(node), CaretPosition.before(next), rootNode);\\n\\t}\\n\\n\\tfunction findCaretPosition(direction, startCaretPosition, rootNode) {\\n\\t\\tvar container, offset, node, nextNode, innerNode,\\n\\t\\t\\trootContentEditableFalseElm, caretPosition;\\n\\n\\t\\tif (!isElement(rootNode) || !startCaretPosition) {\\n\\t\\t\\treturn null;\\n\\t\\t}\\n\\n\\t\\tcaretPosition = startCaretPosition;\\n\\t\\tcontainer = caretPosition.container();\\n\\t\\toffset = caretPosition.offset();\\n\\n\\t\\tif (isText(container)) {\\n\\t\\t\\tif (isBackwards(direction) && offset > 0) {\\n\\t\\t\\t\\treturn CaretPosition(container, --offset);\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (isForwards(direction) && offset < container.length) {\\n\\t\\t\\t\\treturn CaretPosition(container, ++offset);\\n\\t\\t\\t}\\n\\n\\t\\t\\tnode = container;\\n\\t\\t} else {\\n\\t\\t\\tif (isBackwards(direction) && offset > 0) {\\n\\t\\t\\t\\tnextNode = nodeAtIndex(container, offset - 1);\\n\\t\\t\\t\\tif (isCaretCandidate(nextNode)) {\\n\\t\\t\\t\\t\\tif (!isAtomic(nextNode)) {\\n\\t\\t\\t\\t\\t\\tinnerNode = CaretUtils.findNode(nextNode, direction, isEditableCaretCandidate, nextNode);\\n\\t\\t\\t\\t\\t\\tif (innerNode) {\\n\\t\\t\\t\\t\\t\\t\\tif (isText(innerNode)) {\\n\\t\\t\\t\\t\\t\\t\\t\\treturn CaretPosition(innerNode, innerNode.data.length);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\treturn CaretPosition.after(innerNode);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (isText(nextNode)) {\\n\\t\\t\\t\\t\\t\\treturn CaretPosition(nextNode, nextNode.data.length);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\treturn CaretPosition.before(nextNode);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (isForwards(direction) && offset < container.childNodes.length) {\\n\\t\\t\\t\\tnextNode = nodeAtIndex(container, offset);\\n\\t\\t\\t\\tif (isCaretCandidate(nextNode)) {\\n\\t\\t\\t\\t\\tif (isBrBeforeBlock(nextNode, rootNode)) {\\n\\t\\t\\t\\t\\t\\treturn findCaretPosition(direction, CaretPosition.after(nextNode), rootNode);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (!isAtomic(nextNode)) {\\n\\t\\t\\t\\t\\t\\tinnerNode = CaretUtils.findNode(nextNode, direction, isEditableCaretCandidate, nextNode);\\n\\t\\t\\t\\t\\t\\tif (innerNode) {\\n\\t\\t\\t\\t\\t\\t\\tif (isText(innerNode)) {\\n\\t\\t\\t\\t\\t\\t\\t\\treturn CaretPosition(innerNode, 0);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\treturn CaretPosition.before(innerNode);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (isText(nextNode)) {\\n\\t\\t\\t\\t\\t\\treturn CaretPosition(nextNode, 0);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\treturn CaretPosition.after(nextNode);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tnode = caretPosition.getNode();\\n\\t\\t}\\n\\n\\t\\tif ((isForwards(direction) && caretPosition.isAtEnd()) || (isBackwards(direction) && caretPosition.isAtStart())) {\\n\\t\\t\\tnode = CaretUtils.findNode(node, direction, Fun.constant(true), rootNode, true);\\n\\t\\t\\tif (isEditableCaretCandidate(node)) {\\n\\t\\t\\t\\treturn getCaretCandidatePosition(direction, node);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tnextNode = CaretUtils.findNode(node, direction, isEditableCaretCandidate, rootNode);\\n\\n\\t\\trootContentEditableFalseElm = Arr.last(Arr.filter(getParents(container, rootNode), isContentEditableFalse));\\n\\t\\tif (rootContentEditableFalseElm && (!nextNode || !rootContentEditableFalseElm.contains(nextNode))) {\\n\\t\\t\\tif (isForwards(direction)) {\\n\\t\\t\\t\\tcaretPosition = CaretPosition.after(rootContentEditableFalseElm);\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tcaretPosition = CaretPosition.before(rootContentEditableFalseElm);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn caretPosition;\\n\\t\\t}\\n\\n\\t\\tif (nextNode) {\\n\\t\\t\\treturn getCaretCandidatePosition(direction, nextNode);\\n\\t\\t}\\n\\n\\t\\treturn null;\\n\\t}\\n\\n\\treturn function(rootNode) {\\n\\t\\treturn {\\n\\t\\t\\t/**\\n\\t\\t\\t * Returns the next logical caret position from the specificed input\\n\\t\\t\\t * caretPoisiton or null if there isn't any more positions left for example\\n\\t\\t\\t * at the end specified root element.\\n\\t\\t\\t *\\n\\t\\t\\t * @method next\\n\\t\\t\\t * @param {tinymce.caret.CaretPosition} caretPosition Caret position to start from.\\n\\t\\t\\t * @return {tinymce.caret.CaretPosition} CaretPosition or null if no position was found.\\n\\t\\t\\t */\\n\\t\\t\\tnext: function(caretPosition) {\\n\\t\\t\\t\\treturn findCaretPosition(1, caretPosition, rootNode);\\n\\t\\t\\t},\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Returns the previous logical caret position from the specificed input\\n\\t\\t\\t * caretPoisiton or null if there isn't any more positions left for example\\n\\t\\t\\t * at the end specified root element.\\n\\t\\t\\t *\\n\\t\\t\\t * @method prev\\n\\t\\t\\t * @param {tinymce.caret.CaretPosition} caretPosition Caret position to start from.\\n\\t\\t\\t * @return {tinymce.caret.CaretPosition} CaretPosition or null if no position was found.\\n\\t\\t\\t */\\n\\t\\t\\tprev: function(caretPosition) {\\n\\t\\t\\t\\treturn findCaretPosition(-1, caretPosition, rootNode);\\n\\t\\t\\t}\\n\\t\\t};\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/InsertList.js\\n\\n/**\\n * InsertList.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2016 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Handles inserts of lists into the editor instance.\\n *\\n * @class tinymce.InsertList\\n * @private\\n */\\ndefine(\\\"tinymce/InsertList\\\", [\\n\\t\\\"tinymce/util/Tools\\\",\\n\\t\\\"tinymce/caret/CaretWalker\\\",\\n\\t\\\"tinymce/caret/CaretPosition\\\"\\n], function(Tools, CaretWalker, CaretPosition) {\\n\\tvar isListFragment = function(fragment) {\\n\\t\\tvar firstChild = fragment.firstChild;\\n\\t\\tvar lastChild = fragment.lastChild;\\n\\n\\t\\t// Skip meta since it's likely <meta><ul>..</ul>\\n\\t\\tif (firstChild && firstChild.name === 'meta') {\\n\\t\\t\\tfirstChild = firstChild.next;\\n\\t\\t}\\n\\n\\t\\t// Skip mce_marker since it's likely <ul>..</ul><span id=\\\"mce_marker\\\"></span>\\n\\t\\tif (lastChild && lastChild.attr('id') === 'mce_marker') {\\n\\t\\t\\tlastChild = lastChild.prev;\\n\\t\\t}\\n\\n\\t\\tif (!firstChild || firstChild !== lastChild) {\\n\\t\\t\\treturn false;\\n\\t\\t}\\n\\n\\t\\treturn firstChild.name === 'ul' || firstChild.name === 'ol';\\n\\t};\\n\\n\\tvar cleanupDomFragment = function (domFragment) {\\n\\t\\tvar firstChild = domFragment.firstChild;\\n\\t\\tvar lastChild = domFragment.lastChild;\\n\\n\\t\\t// TODO: remove the meta tag from paste logic\\n\\t\\tif (firstChild && firstChild.nodeName === 'META') {\\n\\t\\t\\tfirstChild.parentNode.removeChild(firstChild);\\n\\t\\t}\\n\\n\\t\\tif (lastChild && lastChild.id === 'mce_marker') {\\n\\t\\t\\tlastChild.parentNode.removeChild(lastChild);\\n\\t\\t}\\n\\n\\t\\treturn domFragment;\\n\\t};\\n\\n\\tvar toDomFragment = function(dom, serializer, fragment) {\\n\\t\\tvar html = serializer.serialize(fragment);\\n\\t\\tvar domFragment = dom.createFragment(html);\\n\\n\\t\\treturn cleanupDomFragment(domFragment);\\n\\t};\\n\\n\\tvar listItems = function(elm) {\\n\\t\\treturn Tools.grep(elm.childNodes, function(child) {\\n\\t\\t\\treturn child.nodeName === 'LI';\\n\\t\\t});\\n\\t};\\n\\n\\tvar isEmpty = function (elm) {\\n\\t\\treturn !elm.firstChild;\\n\\t};\\n\\n\\tvar trimListItems = function(elms) {\\n\\t\\treturn elms.length > 0 && isEmpty(elms[elms.length - 1]) ? elms.slice(0, -1) : elms;\\n\\t};\\n\\n\\tvar getParentLi = function(dom, node) {\\n\\t\\tvar parentBlock = dom.getParent(node, dom.isBlock);\\n\\t\\treturn parentBlock && parentBlock.nodeName === 'LI' ? parentBlock : null;\\n\\t};\\n\\n\\tvar isParentBlockLi = function(dom, node) {\\n\\t\\treturn !!getParentLi(dom, node);\\n\\t};\\n\\n\\tvar getSplit = function(parentNode, rng) {\\n\\t\\tvar beforeRng = rng.cloneRange();\\n\\t\\tvar afterRng = rng.cloneRange();\\n\\n\\t\\tbeforeRng.setStartBefore(parentNode);\\n\\t\\tafterRng.setEndAfter(parentNode);\\n\\n\\t\\treturn [\\n\\t\\t\\tbeforeRng.cloneContents(),\\n\\t\\t\\tafterRng.cloneContents()\\n\\t\\t];\\n\\t};\\n\\n\\tvar findFirstIn = function(node, rootNode) {\\n\\t\\tvar caretPos = CaretPosition.before(node);\\n\\t\\tvar caretWalker = new CaretWalker(rootNode);\\n\\t\\tvar newCaretPos = caretWalker.next(caretPos);\\n\\n\\t\\treturn newCaretPos ? newCaretPos.toRange() : null;\\n\\t};\\n\\n\\tvar findLastOf = function(node, rootNode) {\\n\\t\\tvar caretPos = CaretPosition.after(node);\\n\\t\\tvar caretWalker = new CaretWalker(rootNode);\\n\\t\\tvar newCaretPos = caretWalker.prev(caretPos);\\n\\n\\t\\treturn newCaretPos ? newCaretPos.toRange() : null;\\n\\t};\\n\\n\\tvar insertMiddle = function(target, elms, rootNode, rng) {\\n\\t\\tvar parts = getSplit(target, rng);\\n\\t\\tvar parentElm = target.parentNode;\\n\\n\\t\\tparentElm.insertBefore(parts[0], target);\\n\\t\\tTools.each(elms, function(li) {\\n\\t\\t\\tparentElm.insertBefore(li, target);\\n\\t\\t});\\n\\t\\tparentElm.insertBefore(parts[1], target);\\n\\t\\tparentElm.removeChild(target);\\n\\n\\t\\treturn findLastOf(elms[elms.length - 1], rootNode);\\n\\t};\\n\\n\\tvar insertBefore = function(target, elms, rootNode) {\\n\\t\\tvar parentElm = target.parentNode;\\n\\n\\t\\tTools.each(elms, function(elm) {\\n\\t\\t\\tparentElm.insertBefore(elm, target);\\n\\t\\t});\\n\\n\\t\\treturn findFirstIn(target, rootNode);\\n\\t};\\n\\n\\tvar insertAfter = function(target, elms, rootNode, dom) {\\n\\t\\tdom.insertAfter(elms.reverse(), target);\\n\\t\\treturn findLastOf(elms[0], rootNode);\\n\\t};\\n\\n\\tvar insertAtCaret = function(serializer, dom, rng, fragment) {\\n\\t\\tvar domFragment = toDomFragment(dom, serializer, fragment);\\n\\t\\tvar liTarget = getParentLi(dom, rng.startContainer);\\n\\t\\tvar liElms = trimListItems(listItems(domFragment.firstChild));\\n\\t\\tvar BEGINNING = 1, END = 2;\\n\\t\\tvar rootNode = dom.getRoot();\\n\\n\\t\\tvar isAt = function(location) {\\n\\t\\t\\tvar caretPos = CaretPosition.fromRangeStart(rng);\\n\\t\\t\\tvar caretWalker = new CaretWalker(dom.getRoot());\\n\\t\\t\\tvar newPos = location === BEGINNING ? caretWalker.prev(caretPos) : caretWalker.next(caretPos);\\n\\n\\t\\t\\treturn newPos ? getParentLi(dom, newPos.getNode()) !== liTarget : true;\\n\\t\\t};\\n\\n\\t\\tif (isAt(BEGINNING)) {\\n\\t\\t\\treturn insertBefore(liTarget, liElms, rootNode);\\n\\t\\t} else if (isAt(END)) {\\n\\t\\t\\treturn insertAfter(liTarget, liElms, rootNode, dom);\\n\\t\\t}\\n\\n\\t\\treturn insertMiddle(liTarget, liElms, rootNode, rng);\\n\\t};\\n\\n\\treturn {\\n\\t\\tisListFragment: isListFragment,\\n\\t\\tinsertAtCaret: insertAtCaret,\\n\\t\\tisParentBlockLi: isParentBlockLi,\\n\\t\\ttrimListItems: trimListItems,\\n\\t\\tlistItems: listItems\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/InsertContent.js\\n\\n/**\\n * InsertContent.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2016 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Handles inserts of contents into the editor instance.\\n *\\n * @class tinymce.InsertContent\\n * @private\\n */\\ndefine(\\\"tinymce/InsertContent\\\", [\\n\\t\\\"tinymce/Env\\\",\\n\\t\\\"tinymce/util/Tools\\\",\\n\\t\\\"tinymce/html/Serializer\\\",\\n\\t\\\"tinymce/caret/CaretWalker\\\",\\n\\t\\\"tinymce/caret/CaretPosition\\\",\\n\\t\\\"tinymce/dom/ElementUtils\\\",\\n\\t\\\"tinymce/dom/NodeType\\\",\\n\\t\\\"tinymce/InsertList\\\"\\n], function(Env, Tools, Serializer, CaretWalker, CaretPosition, ElementUtils, NodeType, InsertList) {\\n\\tvar isTableCell = NodeType.matchNodeNames('td th');\\n\\n\\tvar validInsertion = function (editor, value, parentNode) {\\n\\t\\t// Should never insert content into bogus elements, since these can\\n\\t\\t// be resize handles or similar\\n\\t\\tif (parentNode.getAttribute('data-mce-bogus') === 'all') {\\n\\t\\t\\tparentNode.parentNode.insertBefore(editor.dom.createFragment(value), parentNode);\\n\\t\\t} else {\\n\\t\\t\\t// Check if parent is empty or only has one BR element then set the innerHTML of that parent\\n\\t\\t\\tvar node = parentNode.firstChild;\\n\\t\\t\\tvar node2 = parentNode.lastChild;\\n\\t\\t\\tif (!node || (node === node2 && node.nodeName === 'BR')) {///\\n\\t\\t\\t\\teditor.dom.setHTML(parentNode, value);\\n\\t\\t\\t} else {\\n\\t\\t\\t\\teditor.selection.setContent(value);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t};\\n\\n\\tvar insertHtmlAtCaret = function(editor, value, details) {\\n\\t\\tvar parser, serializer, parentNode, rootNode, fragment, args;\\n\\t\\tvar marker, rng, node, node2, bookmarkHtml, merge;\\n\\t\\tvar textInlineElements = editor.schema.getTextInlineElements();\\n\\t\\tvar selection = editor.selection, dom = editor.dom;\\n\\n\\t\\tfunction trimOrPaddLeftRight(html) {\\n\\t\\t\\tvar rng, container, offset;\\n\\n\\t\\t\\trng = selection.getRng(true);\\n\\t\\t\\tcontainer = rng.startContainer;\\n\\t\\t\\toffset = rng.startOffset;\\n\\n\\t\\t\\tfunction hasSiblingText(siblingName) {\\n\\t\\t\\t\\treturn container[siblingName] && container[siblingName].nodeType == 3;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (container.nodeType == 3) {\\n\\t\\t\\t\\tif (offset > 0) {\\n\\t\\t\\t\\t\\thtml = html.replace(/^&nbsp;/, ' ');\\n\\t\\t\\t\\t} else if (!hasSiblingText('previousSibling')) {\\n\\t\\t\\t\\t\\thtml = html.replace(/^ /, '&nbsp;');\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (offset < container.length) {\\n\\t\\t\\t\\t\\thtml = html.replace(/&nbsp;(<br>|)$/, ' ');\\n\\t\\t\\t\\t} else if (!hasSiblingText('nextSibling')) {\\n\\t\\t\\t\\t\\thtml = html.replace(/(&nbsp;| )(<br>|)$/, '&nbsp;');\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn html;\\n\\t\\t}\\n\\n\\t\\t// Removes &nbsp; from a [b] c -> a &nbsp;c -> a c\\n\\t\\tfunction trimNbspAfterDeleteAndPaddValue() {\\n\\t\\t\\tvar rng, container, offset;\\n\\n\\t\\t\\trng = selection.getRng(true);\\n\\t\\t\\tcontainer = rng.startContainer;\\n\\t\\t\\toffset = rng.startOffset;\\n\\n\\t\\t\\tif (container.nodeType == 3 && rng.collapsed) {\\n\\t\\t\\t\\tif (container.data[offset] === '\\\\u00a0') {\\n\\t\\t\\t\\t\\tcontainer.deleteData(offset, 1);\\n\\n\\t\\t\\t\\t\\tif (!/[\\\\u00a0| ]$/.test(value)) {\\n\\t\\t\\t\\t\\t\\tvalue += ' ';\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} else if (container.data[offset - 1] === '\\\\u00a0') {\\n\\t\\t\\t\\t\\tcontainer.deleteData(offset - 1, 1);\\n\\n\\t\\t\\t\\t\\tif (!/[\\\\u00a0| ]$/.test(value)) {\\n\\t\\t\\t\\t\\t\\tvalue = ' ' + value;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction reduceInlineTextElements() {\\n\\t\\t\\tif (merge) {\\n\\t\\t\\t\\tvar root = editor.getBody(), elementUtils = new ElementUtils(dom);\\n\\n\\t\\t\\t\\tTools.each(dom.select('*[data-mce-fragment]'), function(node) {\\n\\t\\t\\t\\t\\tfor (var testNode = node.parentNode; testNode && testNode != root; testNode = testNode.parentNode) {\\n\\t\\t\\t\\t\\t\\tif (textInlineElements[node.nodeName.toLowerCase()] && elementUtils.compare(testNode, node)) {\\n\\t\\t\\t\\t\\t\\t\\tdom.remove(node, true);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction markFragmentElements(fragment) {\\n\\t\\t\\tvar node = fragment;\\n\\n\\t\\t\\twhile ((node = node.walk())) {\\n\\t\\t\\t\\tif (node.type === 1) {\\n\\t\\t\\t\\t\\tnode.attr('data-mce-fragment', '1');\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction umarkFragmentElements(elm) {\\n\\t\\t\\tTools.each(elm.getElementsByTagName('*'), function(elm) {\\n\\t\\t\\t\\telm.removeAttribute('data-mce-fragment');\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\tfunction isPartOfFragment(node) {\\n\\t\\t\\treturn !!node.getAttribute('data-mce-fragment');\\n\\t\\t}\\n\\n\\t\\tfunction canHaveChildren(node) {\\n\\t\\t\\treturn node && !editor.schema.getShortEndedElements()[node.nodeName];\\n\\t\\t}\\n\\n\\t\\tfunction moveSelectionToMarker(marker) {\\n\\t\\t\\tvar parentEditableFalseElm, parentBlock, nextRng;\\n\\n\\t\\t\\tfunction getContentEditableFalseParent(node) {\\n\\t\\t\\t\\tvar root = editor.getBody();\\n\\n\\t\\t\\t\\tfor (; node && node !== root; node = node.parentNode) {\\n\\t\\t\\t\\t\\tif (editor.dom.getContentEditable(node) === 'false') {\\n\\t\\t\\t\\t\\t\\treturn node;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn null;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!marker) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tselection.scrollIntoView(marker);\\n\\n\\t\\t\\t// If marker is in cE=false then move selection to that element instead\\n\\t\\t\\tparentEditableFalseElm = getContentEditableFalseParent(marker);\\n\\t\\t\\tif (parentEditableFalseElm) {\\n\\t\\t\\t\\tdom.remove(marker);\\n\\t\\t\\t\\tselection.select(parentEditableFalseElm);\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Move selection before marker and remove it\\n\\t\\t\\trng = dom.createRng();\\n\\n\\t\\t\\t// If previous sibling is a text node set the selection to the end of that node\\n\\t\\t\\tnode = marker.previousSibling;\\n\\t\\t\\tif (node && node.nodeType == 3) {\\n\\t\\t\\t\\trng.setStart(node, node.nodeValue.length);\\n\\n\\t\\t\\t\\t// TODO: Why can't we normalize on IE\\n\\t\\t\\t\\tif (!Env.ie) {\\n\\t\\t\\t\\t\\tnode2 = marker.nextSibling;\\n\\t\\t\\t\\t\\tif (node2 && node2.nodeType == 3) {\\n\\t\\t\\t\\t\\t\\tnode.appendData(node2.data);\\n\\t\\t\\t\\t\\t\\tnode2.parentNode.removeChild(node2);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t} else {\\n\\t\\t\\t\\t// If the previous sibling isn't a text node or doesn't exist set the selection before the marker node\\n\\t\\t\\t\\trng.setStartBefore(marker);\\n\\t\\t\\t\\trng.setEndBefore(marker);\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction findNextCaretRng(rng) {\\n\\t\\t\\t\\tvar caretPos = CaretPosition.fromRangeStart(rng);\\n\\t\\t\\t\\tvar caretWalker = new CaretWalker(editor.getBody());\\n\\n\\t\\t\\t\\tcaretPos = caretWalker.next(caretPos);\\n\\t\\t\\t\\tif (caretPos) {\\n\\t\\t\\t\\t\\treturn caretPos.toRange();\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Remove the marker node and set the new range\\n\\t\\t\\tparentBlock = dom.getParent(marker, dom.isBlock);\\n\\t\\t\\tdom.remove(marker);\\n\\n\\t\\t\\tif (parentBlock && dom.isEmpty(parentBlock)) {\\n\\t\\t\\t\\teditor.$(parentBlock).empty();\\n\\n\\t\\t\\t\\trng.setStart(parentBlock, 0);\\n\\t\\t\\t\\trng.setEnd(parentBlock, 0);\\n\\n\\t\\t\\t\\tif (!isTableCell(parentBlock) && !isPartOfFragment(parentBlock) && (nextRng = findNextCaretRng(rng))) {\\n\\t\\t\\t\\t\\trng = nextRng;\\n\\t\\t\\t\\t\\tdom.remove(parentBlock);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tdom.add(parentBlock, dom.create('br', {'data-mce-bogus': '1'}));\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tselection.setRng(rng);\\n\\t\\t}\\n\\n\\t\\t// Check for whitespace before/after value\\n\\t\\tif (/^ | $/.test(value)) {\\n\\t\\t\\tvalue = trimOrPaddLeftRight(value);\\n\\t\\t}\\n\\n\\t\\t// Setup parser and serializer\\n\\t\\tparser = editor.parser;\\n\\t\\tmerge = details.merge;\\n\\n\\t\\tserializer = new Serializer({\\n\\t\\t\\tvalidate: editor.settings.validate\\n\\t\\t}, editor.schema);\\n\\t\\tbookmarkHtml = '<span id=\\\"mce_marker\\\" data-mce-type=\\\"bookmark\\\">&#xFEFF;&#x200B;</span>';\\n\\n\\t\\t// Run beforeSetContent handlers on the HTML to be inserted\\n\\t\\targs = {content: value, format: 'html', selection: true};\\n\\t\\teditor.fire('BeforeSetContent', args);\\n\\t\\tvalue = args.content;\\n\\n\\t\\t// Add caret at end of contents if it's missing\\n\\t\\tif (value.indexOf('{$caret}') == -1) {\\n\\t\\t\\tvalue += '{$caret}';\\n\\t\\t}\\n\\n\\t\\t// Replace the caret marker with a span bookmark element\\n\\t\\tvalue = value.replace(/\\\\{\\\\$caret\\\\}/, bookmarkHtml);\\n\\n\\t\\t// If selection is at <body>|<p></p> then move it into <body><p>|</p>\\n\\t\\trng = selection.getRng();\\n\\t\\tvar caretElement = rng.startContainer || (rng.parentElement ? rng.parentElement() : null);\\n\\t\\tvar body = editor.getBody();\\n\\t\\tif (caretElement === body && selection.isCollapsed()) {\\n\\t\\t\\tif (dom.isBlock(body.firstChild) && canHaveChildren(body.firstChild) && dom.isEmpty(body.firstChild)) {\\n\\t\\t\\t\\trng = dom.createRng();\\n\\t\\t\\t\\trng.setStart(body.firstChild, 0);\\n\\t\\t\\t\\trng.setEnd(body.firstChild, 0);\\n\\t\\t\\t\\tselection.setRng(rng);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t// Insert node maker where we will insert the new HTML and get it's parent\\n\\t\\tif (!selection.isCollapsed()) {\\n\\t\\t\\t// Fix for #2595 seems that delete removes one extra character on\\n\\t\\t\\t// WebKit for some odd reason if you double click select a word\\n\\t\\t\\teditor.selection.setRng(editor.selection.getRng());\\n\\t\\t\\teditor.getDoc().execCommand('Delete', false, null);\\n\\t\\t\\ttrimNbspAfterDeleteAndPaddValue();\\n\\t\\t}\\n\\n\\t\\tparentNode = selection.getNode();\\n\\n\\t\\t// Parse the fragment within the context of the parent node\\n\\t\\tvar parserArgs = {context: parentNode.nodeName.toLowerCase(), data: details.data};\\n\\t\\tfragment = parser.parse(value, parserArgs);\\n\\n\\t\\t// Custom handling of lists\\n\\t\\tif (details.paste === true && InsertList.isListFragment(fragment) && InsertList.isParentBlockLi(dom, parentNode)) {\\n\\t\\t\\trng = InsertList.insertAtCaret(serializer, dom, editor.selection.getRng(true), fragment);\\n\\t\\t\\teditor.selection.setRng(rng);\\n\\t\\t\\teditor.fire('SetContent', args);\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tmarkFragmentElements(fragment);\\n\\n\\t\\t// Move the caret to a more suitable location\\n\\t\\tnode = fragment.lastChild;\\n\\t\\tif (node.attr('id') == 'mce_marker') {\\n\\t\\t\\tmarker = node;\\n\\n\\t\\t\\tfor (node = node.prev; node; node = node.walk(true)) {\\n\\t\\t\\t\\tif (node.type == 3 || !dom.isBlock(node.name)) {\\n\\t\\t\\t\\t\\tif (editor.schema.isValidChild(node.parent.name, 'span')) {\\n\\t\\t\\t\\t\\t\\tnode.parent.insert(marker, node, node.name === 'br');\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\teditor._selectionOverrides.showBlockCaretContainer(parentNode);\\n\\n\\t\\t// If parser says valid we can insert the contents into that parent\\n\\t\\tif (!parserArgs.invalid) {\\n\\t\\t\\tvalue = serializer.serialize(fragment);\\n\\t\\t\\tvalidInsertion(editor, value, parentNode);\\n\\t\\t} else {\\n\\t\\t\\t// If the fragment was invalid within that context then we need\\n\\t\\t\\t// to parse and process the parent it's inserted into\\n\\n\\t\\t\\t// Insert bookmark node and get the parent\\n\\t\\t\\tselection.setContent(bookmarkHtml);\\n\\t\\t\\tparentNode = selection.getNode();\\n\\t\\t\\trootNode = editor.getBody();\\n\\n\\t\\t\\t// Opera will return the document node when selection is in root\\n\\t\\t\\tif (parentNode.nodeType == 9) {\\n\\t\\t\\t\\tparentNode = node = rootNode;\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tnode = parentNode;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Find the ancestor just before the root element\\n\\t\\t\\twhile (node !== rootNode) {\\n\\t\\t\\t\\tparentNode = node;\\n\\t\\t\\t\\tnode = node.parentNode;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Get the outer/inner HTML depending on if we are in the root and parser and serialize that\\n\\t\\t\\tvalue = parentNode == rootNode ? rootNode.innerHTML : dom.getOuterHTML(parentNode);\\n\\t\\t\\tvalue = serializer.serialize(\\n\\t\\t\\t\\tparser.parse(\\n\\t\\t\\t\\t\\t// Need to replace by using a function since $ in the contents would otherwise be a problem\\n\\t\\t\\t\\t\\tvalue.replace(/<span (id=\\\"mce_marker\\\"|id=mce_marker).+?<\\\\/span>/i, function() {\\n\\t\\t\\t\\t\\t\\treturn serializer.serialize(fragment);\\n\\t\\t\\t\\t\\t})\\n\\t\\t\\t\\t)\\n\\t\\t\\t);\\n\\n\\t\\t\\t// Set the inner/outer HTML depending on if we are in the root or not\\n\\t\\t\\tif (parentNode == rootNode) {\\n\\t\\t\\t\\tdom.setHTML(rootNode, value);\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tdom.setOuterHTML(parentNode, value);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\treduceInlineTextElements();\\n\\t\\tmoveSelectionToMarker(dom.get('mce_marker'));\\n\\t\\tumarkFragmentElements(editor.getBody());\\n\\t\\teditor.fire('SetContent', args);\\n\\t\\teditor.addVisual();\\n\\t};\\n\\n\\tvar processValue = function (value) {\\n\\t\\tvar details;\\n\\n\\t\\tif (typeof value !== 'string') {\\n\\t\\t\\tdetails = Tools.extend({\\n\\t\\t\\t\\tpaste: value.paste,\\n\\t\\t\\t\\tdata: {\\n\\t\\t\\t\\t\\tpaste: value.paste\\n\\t\\t\\t\\t}\\n\\t\\t\\t}, value);\\n\\n\\t\\t\\treturn {\\n\\t\\t\\t\\tcontent: value.content,\\n\\t\\t\\t\\tdetails: details\\n\\t\\t\\t};\\n\\t\\t}\\n\\n\\t\\treturn {\\n\\t\\t\\tcontent: value,\\n\\t\\t\\tdetails: {}\\n\\t\\t};\\n\\t};\\n\\n\\tvar insertAtCaret = function (editor, value) {\\n\\t\\tvar result = processValue(value);\\n\\t\\tinsertHtmlAtCaret(editor, result.content, result.details);\\n\\t};\\n\\n\\treturn {\\n\\t\\tinsertAtCaret: insertAtCaret\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/EditorCommands.js\\n\\n/**\\n * EditorCommands.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class enables you to add custom editor commands and it contains\\n * overrides for native browser commands to address various bugs and issues.\\n *\\n * @class tinymce.EditorCommands\\n */\\ndefine(\\\"tinymce/EditorCommands\\\", [\\n\\t\\\"tinymce/Env\\\",\\n\\t\\\"tinymce/util/Tools\\\",\\n\\t\\\"tinymce/dom/RangeUtils\\\",\\n\\t\\\"tinymce/dom/TreeWalker\\\",\\n\\t\\\"tinymce/InsertContent\\\",\\n\\t\\\"tinymce/dom/NodeType\\\"\\n], function(Env, Tools, RangeUtils, TreeWalker, InsertContent, NodeType) {\\n\\t// Added for compression purposes\\n\\tvar each = Tools.each, extend = Tools.extend;\\n\\tvar map = Tools.map, inArray = Tools.inArray, explode = Tools.explode;\\n\\tvar isOldIE = Env.ie && Env.ie < 11;\\n\\tvar TRUE = true, FALSE = false;\\n\\n\\treturn function(editor) {\\n\\t\\tvar dom, selection, formatter,\\n\\t\\t\\tcommands = {state: {}, exec: {}, value: {}},\\n\\t\\t\\tsettings = editor.settings,\\n\\t\\t\\tbookmark;\\n\\n\\t\\teditor.on('PreInit', function() {\\n\\t\\t\\tdom = editor.dom;\\n\\t\\t\\tselection = editor.selection;\\n\\t\\t\\tsettings = editor.settings;\\n\\t\\t\\tformatter = editor.formatter;\\n\\t\\t});\\n\\n\\t\\t/**\\n\\t\\t * Executes the specified command.\\n\\t\\t *\\n\\t\\t * @method execCommand\\n\\t\\t * @param {String} command Command to execute.\\n\\t\\t * @param {Boolean} ui Optional user interface state.\\n\\t\\t * @param {Object} value Optional value for command.\\n\\t\\t * @param {Object} args Optional extra arguments to the execCommand.\\n\\t\\t * @return {Boolean} true/false if the command was found or not.\\n\\t\\t */\\n\\t\\tfunction execCommand(command, ui, value, args) {\\n\\t\\t\\tvar func, customCommand, state = 0;\\n\\n\\t\\t\\tif (!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(command) && (!args || !args.skip_focus)) {\\n\\t\\t\\t\\teditor.focus();\\n\\t\\t\\t}\\n\\n\\t\\t\\targs = editor.fire('BeforeExecCommand', {command: command, ui: ui, value: value});\\n\\t\\t\\tif (args.isDefaultPrevented()) {\\n\\t\\t\\t\\treturn false;\\n\\t\\t\\t}\\n\\n\\t\\t\\tcustomCommand = command.toLowerCase();\\n\\t\\t\\tif ((func = commands.exec[customCommand])) {\\n\\t\\t\\t\\tfunc(customCommand, ui, value);\\n\\t\\t\\t\\teditor.fire('ExecCommand', {command: command, ui: ui, value: value});\\n\\t\\t\\t\\treturn true;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Plugin commands\\n\\t\\t\\teach(editor.plugins, function(p) {\\n\\t\\t\\t\\tif (p.execCommand && p.execCommand(command, ui, value)) {\\n\\t\\t\\t\\t\\teditor.fire('ExecCommand', {command: command, ui: ui, value: value});\\n\\t\\t\\t\\t\\tstate = true;\\n\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\tif (state) {\\n\\t\\t\\t\\treturn state;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Theme commands\\n\\t\\t\\tif (editor.theme && editor.theme.execCommand && editor.theme.execCommand(command, ui, value)) {\\n\\t\\t\\t\\teditor.fire('ExecCommand', {command: command, ui: ui, value: value});\\n\\t\\t\\t\\treturn true;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Browser commands\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tstate = editor.getDoc().execCommand(command, ui, value);\\n\\t\\t\\t} catch (ex) {\\n\\t\\t\\t\\t// Ignore old IE errors\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (state) {\\n\\t\\t\\t\\teditor.fire('ExecCommand', {command: command, ui: ui, value: value});\\n\\t\\t\\t\\treturn true;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn false;\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Queries the current state for a command for example if the current selection is \\\"bold\\\".\\n\\t\\t *\\n\\t\\t * @method queryCommandState\\n\\t\\t * @param {String} command Command to check the state of.\\n\\t\\t * @return {Boolean/Number} true/false if the selected contents is bold or not, -1 if it's not found.\\n\\t\\t */\\n\\t\\tfunction queryCommandState(command) {\\n\\t\\t\\tvar func;\\n\\n\\t\\t\\t// Is hidden then return undefined\\n\\t\\t\\tif (editor.quirks.isHidden()) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tcommand = command.toLowerCase();\\n\\t\\t\\tif ((func = commands.state[command])) {\\n\\t\\t\\t\\treturn func(command);\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Browser commands\\n\\t\\t\\ttry {\\n\\t\\t\\t\\treturn editor.getDoc().queryCommandState(command);\\n\\t\\t\\t} catch (ex) {\\n\\t\\t\\t\\t// Fails sometimes see bug: 1896577\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn false;\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Queries the command value for example the current fontsize.\\n\\t\\t *\\n\\t\\t * @method queryCommandValue\\n\\t\\t * @param {String} command Command to check the value of.\\n\\t\\t * @return {Object} Command value of false if it's not found.\\n\\t\\t */\\n\\t\\tfunction queryCommandValue(command) {\\n\\t\\t\\tvar func;\\n\\n\\t\\t\\t// Is hidden then return undefined\\n\\t\\t\\tif (editor.quirks.isHidden()) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tcommand = command.toLowerCase();\\n\\t\\t\\tif ((func = commands.value[command])) {\\n\\t\\t\\t\\treturn func(command);\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Browser commands\\n\\t\\t\\ttry {\\n\\t\\t\\t\\treturn editor.getDoc().queryCommandValue(command);\\n\\t\\t\\t} catch (ex) {\\n\\t\\t\\t\\t// Fails sometimes see bug: 1896577\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Adds commands to the command collection.\\n\\t\\t *\\n\\t\\t * @method addCommands\\n\\t\\t * @param {Object} command_list Name/value collection with commands to add, the names can also be comma separated.\\n\\t\\t * @param {String} type Optional type to add, defaults to exec. Can be value or state as well.\\n\\t\\t */\\n\\t\\tfunction addCommands(command_list, type) {\\n\\t\\t\\ttype = type || 'exec';\\n\\n\\t\\t\\teach(command_list, function(callback, command) {\\n\\t\\t\\t\\teach(command.toLowerCase().split(','), function(command) {\\n\\t\\t\\t\\t\\tcommands[type][command] = callback;\\n\\t\\t\\t\\t});\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\tfunction addCommand(command, callback, scope) {\\n\\t\\t\\tcommand = command.toLowerCase();\\n\\t\\t\\tcommands.exec[command] = function(command, ui, value, args) {\\n\\t\\t\\t\\treturn callback.call(scope || editor, ui, value, args);\\n\\t\\t\\t};\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Returns true/false if the command is supported or not.\\n\\t\\t *\\n\\t\\t * @method queryCommandSupported\\n\\t\\t * @param {String} command Command that we check support for.\\n\\t\\t * @return {Boolean} true/false if the command is supported or not.\\n\\t\\t */\\n\\t\\tfunction queryCommandSupported(command) {\\n\\t\\t\\tcommand = command.toLowerCase();\\n\\n\\t\\t\\tif (commands.exec[command]) {\\n\\t\\t\\t\\treturn true;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Browser commands\\n\\t\\t\\ttry {\\n\\t\\t\\t\\treturn editor.getDoc().queryCommandSupported(command);\\n\\t\\t\\t} catch (ex) {\\n\\t\\t\\t\\t// Fails sometimes see bug: 1896577\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn false;\\n\\t\\t}\\n\\n\\t\\tfunction addQueryStateHandler(command, callback, scope) {\\n\\t\\t\\tcommand = command.toLowerCase();\\n\\t\\t\\tcommands.state[command] = function() {\\n\\t\\t\\t\\treturn callback.call(scope || editor);\\n\\t\\t\\t};\\n\\t\\t}\\n\\n\\t\\tfunction addQueryValueHandler(command, callback, scope) {\\n\\t\\t\\tcommand = command.toLowerCase();\\n\\t\\t\\tcommands.value[command] = function() {\\n\\t\\t\\t\\treturn callback.call(scope || editor);\\n\\t\\t\\t};\\n\\t\\t}\\n\\n\\t\\tfunction hasCustomCommand(command) {\\n\\t\\t\\tcommand = command.toLowerCase();\\n\\t\\t\\treturn !!commands.exec[command];\\n\\t\\t}\\n\\n\\t\\t// Expose public methods\\n\\t\\textend(this, {\\n\\t\\t\\texecCommand: execCommand,\\n\\t\\t\\tqueryCommandState: queryCommandState,\\n\\t\\t\\tqueryCommandValue: queryCommandValue,\\n\\t\\t\\tqueryCommandSupported: queryCommandSupported,\\n\\t\\t\\taddCommands: addCommands,\\n\\t\\t\\taddCommand: addCommand,\\n\\t\\t\\taddQueryStateHandler: addQueryStateHandler,\\n\\t\\t\\taddQueryValueHandler: addQueryValueHandler,\\n\\t\\t\\thasCustomCommand: hasCustomCommand\\n\\t\\t});\\n\\n\\t\\t// Private methods\\n\\n\\t\\tfunction execNativeCommand(command, ui, value) {\\n\\t\\t\\tif (ui === undefined) {\\n\\t\\t\\t\\tui = FALSE;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (value === undefined) {\\n\\t\\t\\t\\tvalue = null;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn editor.getDoc().execCommand(command, ui, value);\\n\\t\\t}\\n\\n\\t\\tfunction isFormatMatch(name) {\\n\\t\\t\\treturn formatter.match(name);\\n\\t\\t}\\n\\n\\t\\tfunction toggleFormat(name, value) {\\n\\t\\t\\tformatter.toggle(name, value ? {value: value} : undefined);\\n\\t\\t\\teditor.nodeChanged();\\n\\t\\t}\\n\\n\\t\\tfunction storeSelection(type) {\\n\\t\\t\\tbookmark = selection.getBookmark(type);\\n\\t\\t}\\n\\n\\t\\tfunction restoreSelection() {\\n\\t\\t\\tselection.moveToBookmark(bookmark);\\n\\t\\t}\\n\\n\\t\\t// Add execCommand overrides\\n\\t\\taddCommands({\\n\\t\\t\\t// Ignore these, added for compatibility\\n\\t\\t\\t'mceResetDesignMode,mceBeginUndoLevel': function() {},\\n\\n\\t\\t\\t// Add undo manager logic\\n\\t\\t\\t'mceEndUndoLevel,mceAddUndoLevel': function() {\\n\\t\\t\\t\\teditor.undoManager.add();\\n\\t\\t\\t},\\n\\n\\t\\t\\t'Cut,Copy,Paste': function(command) {\\n\\t\\t\\t\\tvar doc = editor.getDoc(), failed;\\n\\n\\t\\t\\t\\t// Try executing the native command\\n\\t\\t\\t\\ttry {\\n\\t\\t\\t\\t\\texecNativeCommand(command);\\n\\t\\t\\t\\t} catch (ex) {\\n\\t\\t\\t\\t\\t// Command failed\\n\\t\\t\\t\\t\\tfailed = TRUE;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Chrome reports the paste command as supported however older IE:s will return false for cut/paste\\n\\t\\t\\t\\tif (command === 'paste' && !doc.queryCommandEnabled(command)) {\\n\\t\\t\\t\\t\\tfailed = true;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Present alert message about clipboard access not being available\\n\\t\\t\\t\\tif (failed || !doc.queryCommandSupported(command)) {\\n\\t\\t\\t\\t\\tvar msg = editor.translate(\\n\\t\\t\\t\\t\\t\\t\\\"Your browser doesn't support direct access to the clipboard. \\\" +\\n\\t\\t\\t\\t\\t\\t\\\"Please use the Ctrl+X/C/V keyboard shortcuts instead.\\\"\\n\\t\\t\\t\\t\\t);\\n\\n\\t\\t\\t\\t\\tif (Env.mac) {\\n\\t\\t\\t\\t\\t\\tmsg = msg.replace(/Ctrl\\\\+/g, '\\\\u2318+');\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\teditor.notificationManager.open({text: msg, type: 'error'});\\n\\t\\t\\t\\t}\\n\\t\\t\\t},\\n\\n\\t\\t\\t// Override unlink command\\n\\t\\t\\tunlink: function() {\\n\\t\\t\\t\\tif (selection.isCollapsed()) {\\n\\t\\t\\t\\t\\tvar elm = editor.dom.getParent(editor.selection.getStart(), 'a');\\n\\t\\t\\t\\t\\tif (elm) {\\n\\t\\t\\t\\t\\t\\teditor.dom.remove(elm, true);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tformatter.remove(\\\"link\\\");\\n\\t\\t\\t},\\n\\n\\t\\t\\t// Override justify commands to use the text formatter engine\\n\\t\\t\\t'JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone': function(command) {\\n\\t\\t\\t\\tvar align = command.substring(7);\\n\\n\\t\\t\\t\\tif (align == 'full') {\\n\\t\\t\\t\\t\\talign = 'justify';\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Remove all other alignments first\\n\\t\\t\\t\\teach('left,center,right,justify'.split(','), function(name) {\\n\\t\\t\\t\\t\\tif (align != name) {\\n\\t\\t\\t\\t\\t\\tformatter.remove('align' + name);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\tif (align != 'none') {\\n\\t\\t\\t\\t\\ttoggleFormat('align' + align);\\n\\t\\t\\t\\t}\\n\\t\\t\\t},\\n\\n\\t\\t\\t// Override list commands to fix WebKit bug\\n\\t\\t\\t'InsertUnorderedList,InsertOrderedList': function(command) {\\n\\t\\t\\t\\tvar listElm, listParent;\\n\\n\\t\\t\\t\\texecNativeCommand(command);\\n\\n\\t\\t\\t\\t// WebKit produces lists within block elements so we need to split them\\n\\t\\t\\t\\t// we will replace the native list creation logic to custom logic later on\\n\\t\\t\\t\\t// TODO: Remove this when the list creation logic is removed\\n\\t\\t\\t\\tlistElm = dom.getParent(selection.getNode(), 'ol,ul');\\n\\t\\t\\t\\tif (listElm) {\\n\\t\\t\\t\\t\\tlistParent = listElm.parentNode;\\n\\n\\t\\t\\t\\t\\t// If list is within a text block then split that block\\n\\t\\t\\t\\t\\tif (/^(H[1-6]|P|ADDRESS|PRE)$/.test(listParent.nodeName)) {\\n\\t\\t\\t\\t\\t\\tstoreSelection();\\n\\t\\t\\t\\t\\t\\tdom.split(listParent, listElm);\\n\\t\\t\\t\\t\\t\\trestoreSelection();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t},\\n\\n\\t\\t\\t// Override commands to use the text formatter engine\\n\\t\\t\\t'Bold,Italic,Underline,Strikethrough,Superscript,Subscript': function(command) {\\n\\t\\t\\t\\ttoggleFormat(command);\\n\\t\\t\\t},\\n\\n\\t\\t\\t// Override commands to use the text formatter engine\\n\\t\\t\\t'ForeColor,HiliteColor,FontName': function(command, ui, value) {\\n\\t\\t\\t\\ttoggleFormat(command, value);\\n\\t\\t\\t},\\n\\n\\t\\t\\tFontSize: function(command, ui, value) {\\n\\t\\t\\t\\tvar fontClasses, fontSizes;\\n\\n\\t\\t\\t\\t// Convert font size 1-7 to styles\\n\\t\\t\\t\\tif (value >= 1 && value <= 7) {\\n\\t\\t\\t\\t\\tfontSizes = explode(settings.font_size_style_values);\\n\\t\\t\\t\\t\\tfontClasses = explode(settings.font_size_classes);\\n\\n\\t\\t\\t\\t\\tif (fontClasses) {\\n\\t\\t\\t\\t\\t\\tvalue = fontClasses[value - 1] || value;\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tvalue = fontSizes[value - 1] || value;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\ttoggleFormat(command, value);\\n\\t\\t\\t},\\n\\n\\t\\t\\tRemoveFormat: function(command) {\\n\\t\\t\\t\\tformatter.remove(command);\\n\\t\\t\\t},\\n\\n\\t\\t\\tmceBlockQuote: function() {\\n\\t\\t\\t\\ttoggleFormat('blockquote');\\n\\t\\t\\t},\\n\\n\\t\\t\\tFormatBlock: function(command, ui, value) {\\n\\t\\t\\t\\treturn toggleFormat(value || 'p');\\n\\t\\t\\t},\\n\\n\\t\\t\\tmceCleanup: function() {\\n\\t\\t\\t\\tvar bookmark = selection.getBookmark();\\n\\n\\t\\t\\t\\teditor.setContent(editor.getContent({cleanup: TRUE}), {cleanup: TRUE});\\n\\n\\t\\t\\t\\tselection.moveToBookmark(bookmark);\\n\\t\\t\\t},\\n\\n\\t\\t\\tmceRemoveNode: function(command, ui, value) {\\n\\t\\t\\t\\tvar node = value || selection.getNode();\\n\\n\\t\\t\\t\\t// Make sure that the body node isn't removed\\n\\t\\t\\t\\tif (node != editor.getBody()) {\\n\\t\\t\\t\\t\\tstoreSelection();\\n\\t\\t\\t\\t\\teditor.dom.remove(node, TRUE);\\n\\t\\t\\t\\t\\trestoreSelection();\\n\\t\\t\\t\\t}\\n\\t\\t\\t},\\n\\n\\t\\t\\tmceSelectNodeDepth: function(command, ui, value) {\\n\\t\\t\\t\\tvar counter = 0;\\n\\n\\t\\t\\t\\tdom.getParent(selection.getNode(), function(node) {\\n\\t\\t\\t\\t\\tif (node.nodeType == 1 && counter++ == value) {\\n\\t\\t\\t\\t\\t\\tselection.select(node);\\n\\t\\t\\t\\t\\t\\treturn FALSE;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}, editor.getBody());\\n\\t\\t\\t},\\n\\n\\t\\t\\tmceSelectNode: function(command, ui, value) {\\n\\t\\t\\t\\tselection.select(value);\\n\\t\\t\\t},\\n\\n\\t\\t\\tmceInsertContent: function(command, ui, value) {\\n\\t\\t\\t\\tInsertContent.insertAtCaret(editor, value);\\n\\t\\t\\t},\\n\\n\\t\\t\\tmceInsertRawHTML: function(command, ui, value) {\\n\\t\\t\\t\\tselection.setContent('tiny_mce_marker');\\n\\t\\t\\t\\teditor.setContent(\\n\\t\\t\\t\\t\\teditor.getContent().replace(/tiny_mce_marker/g, function() {\\n\\t\\t\\t\\t\\t\\treturn value;\\n\\t\\t\\t\\t\\t})\\n\\t\\t\\t\\t);\\n\\t\\t\\t},\\n\\n\\t\\t\\tmceToggleFormat: function(command, ui, value) {\\n\\t\\t\\t\\ttoggleFormat(value);\\n\\t\\t\\t},\\n\\n\\t\\t\\tmceSetContent: function(command, ui, value) {\\n\\t\\t\\t\\teditor.setContent(value);\\n\\t\\t\\t},\\n\\n\\t\\t\\t'Indent,Outdent': function(command) {\\n\\t\\t\\t\\tvar intentValue, indentUnit, value;\\n\\n\\t\\t\\t\\t// Setup indent level\\n\\t\\t\\t\\tintentValue = settings.indentation;\\n\\t\\t\\t\\tindentUnit = /[a-z%]+$/i.exec(intentValue);\\n\\t\\t\\t\\tintentValue = parseInt(intentValue, 10);\\n\\n\\t\\t\\t\\tif (!queryCommandState('InsertUnorderedList') && !queryCommandState('InsertOrderedList')) {\\n\\t\\t\\t\\t\\t// If forced_root_blocks is set to false we don't have a block to indent so lets create a div\\n\\t\\t\\t\\t\\tif (!settings.forced_root_block && !dom.getParent(selection.getNode(), dom.isBlock)) {\\n\\t\\t\\t\\t\\t\\tformatter.apply('div');\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\teach(selection.getSelectedBlocks(), function(element) {\\n\\t\\t\\t\\t\\t\\tif (dom.getContentEditable(element) === \\\"false\\\") {\\n\\t\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tif (element.nodeName !== \\\"LI\\\") {\\n\\t\\t\\t\\t\\t\\t\\tvar indentStyleName = editor.getParam('indent_use_margin', false) ? 'margin' : 'padding';\\n\\t\\t\\t\\t\\t\\t\\tindentStyleName = element.nodeName === 'TABLE' ? 'margin' : indentStyleName;\\n\\t\\t\\t\\t\\t\\t\\tindentStyleName += dom.getStyle(element, 'direction', true) == 'rtl' ? 'Right' : 'Left';\\n\\n\\t\\t\\t\\t\\t\\t\\tif (command == 'outdent') {\\n\\t\\t\\t\\t\\t\\t\\t\\tvalue = Math.max(0, parseInt(element.style[indentStyleName] || 0, 10) - intentValue);\\n\\t\\t\\t\\t\\t\\t\\t\\tdom.setStyle(element, indentStyleName, value ? value + indentUnit : '');\\n\\t\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\t\\tvalue = (parseInt(element.style[indentStyleName] || 0, 10) + intentValue) + indentUnit;\\n\\t\\t\\t\\t\\t\\t\\t\\tdom.setStyle(element, indentStyleName, value);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\texecNativeCommand(command);\\n\\t\\t\\t\\t}\\n\\t\\t\\t},\\n\\n\\t\\t\\tmceRepaint: function() {\\n\\t\\t\\t},\\n\\n\\t\\t\\tInsertHorizontalRule: function() {\\n\\t\\t\\t\\teditor.execCommand('mceInsertContent', false, '<hr />');\\n\\t\\t\\t},\\n\\n\\t\\t\\tmceToggleVisualAid: function() {\\n\\t\\t\\t\\teditor.hasVisual = !editor.hasVisual;\\n\\t\\t\\t\\teditor.addVisual();\\n\\t\\t\\t},\\n\\n\\t\\t\\tmceReplaceContent: function(command, ui, value) {\\n\\t\\t\\t\\teditor.execCommand('mceInsertContent', false, value.replace(/\\\\{\\\\$selection\\\\}/g, selection.getContent({format: 'text'})));\\n\\t\\t\\t},\\n\\n\\t\\t\\tmceInsertLink: function(command, ui, value) {\\n\\t\\t\\t\\tvar anchor;\\n\\n\\t\\t\\t\\tif (typeof value == 'string') {\\n\\t\\t\\t\\t\\tvalue = {href: value};\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tanchor = dom.getParent(selection.getNode(), 'a');\\n\\n\\t\\t\\t\\t// Spaces are never valid in URLs and it's a very common mistake for people to make so we fix it here.\\n\\t\\t\\t\\tvalue.href = value.href.replace(' ', '%20');\\n\\n\\t\\t\\t\\t// Remove existing links if there could be child links or that the href isn't specified\\n\\t\\t\\t\\tif (!anchor || !value.href) {\\n\\t\\t\\t\\t\\tformatter.remove('link');\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Apply new link to selection\\n\\t\\t\\t\\tif (value.href) {\\n\\t\\t\\t\\t\\tformatter.apply('link', value, anchor);\\n\\t\\t\\t\\t}\\n\\t\\t\\t},\\n\\n\\t\\t\\tselectAll: function() {\\n\\t\\t\\t\\tvar root = dom.getRoot(), rng;\\n\\n\\t\\t\\t\\tif (selection.getRng().setStart) {\\n\\t\\t\\t\\t\\tvar editingHost = dom.getParent(selection.getStart(), NodeType.isContentEditableTrue);\\n\\t\\t\\t\\t\\tif (editingHost) {\\n\\t\\t\\t\\t\\t\\trng = dom.createRng();\\n\\t\\t\\t\\t\\t\\trng.selectNodeContents(editingHost);\\n\\t\\t\\t\\t\\t\\tselection.setRng(rng);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t// IE will render it's own root level block elements and sometimes\\n\\t\\t\\t\\t\\t// even put font elements in them when the user starts typing. So we need to\\n\\t\\t\\t\\t\\t// move the selection to a more suitable element from this:\\n\\t\\t\\t\\t\\t// <body>|<p></p></body> to this: <body><p>|</p></body>\\n\\t\\t\\t\\t\\trng = selection.getRng();\\n\\t\\t\\t\\t\\tif (!rng.item) {\\n\\t\\t\\t\\t\\t\\trng.moveToElementText(root);\\n\\t\\t\\t\\t\\t\\trng.select();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t},\\n\\n\\t\\t\\t\\\"delete\\\": function() {\\n\\t\\t\\t\\texecNativeCommand(\\\"Delete\\\");\\n\\n\\t\\t\\t\\t// Check if body is empty after the delete call if so then set the contents\\n\\t\\t\\t\\t// to an empty string and move the caret to any block produced by that operation\\n\\t\\t\\t\\t// this fixes the issue with root blocks not being properly produced after a delete call on IE\\n\\t\\t\\t\\tvar body = editor.getBody();\\n\\n\\t\\t\\t\\tif (dom.isEmpty(body)) {\\n\\t\\t\\t\\t\\teditor.setContent('');\\n\\n\\t\\t\\t\\t\\tif (body.firstChild && dom.isBlock(body.firstChild)) {\\n\\t\\t\\t\\t\\t\\teditor.selection.setCursorLocation(body.firstChild, 0);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\teditor.selection.setCursorLocation(body, 0);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t},\\n\\n\\t\\t\\tmceNewDocument: function() {\\n\\t\\t\\t\\teditor.setContent('');\\n\\t\\t\\t},\\n\\n\\t\\t\\tInsertLineBreak: function(command, ui, value) {\\n\\t\\t\\t\\t// We load the current event in from EnterKey.js when appropriate to heed\\n\\t\\t\\t\\t// certain event-specific variations such as ctrl-enter in a list\\n\\t\\t\\t\\tvar evt = value;\\n\\t\\t\\t\\tvar brElm, extraBr, marker;\\n\\t\\t\\t\\tvar rng = selection.getRng(true);\\n\\t\\t\\t\\tnew RangeUtils(dom).normalize(rng);\\n\\n\\t\\t\\t\\tvar offset = rng.startOffset;\\n\\t\\t\\t\\tvar container = rng.startContainer;\\n\\n\\t\\t\\t\\t// Resolve node index\\n\\t\\t\\t\\tif (container.nodeType == 1 && container.hasChildNodes()) {\\n\\t\\t\\t\\t\\tvar isAfterLastNodeInContainer = offset > container.childNodes.length - 1;\\n\\n\\t\\t\\t\\t\\tcontainer = container.childNodes[Math.min(offset, container.childNodes.length - 1)] || container;\\n\\t\\t\\t\\t\\tif (isAfterLastNodeInContainer && container.nodeType == 3) {\\n\\t\\t\\t\\t\\t\\toffset = container.nodeValue.length;\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\toffset = 0;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tvar parentBlock = dom.getParent(container, dom.isBlock);\\n\\t\\t\\t\\tvar parentBlockName = parentBlock ? parentBlock.nodeName.toUpperCase() : ''; // IE < 9 & HTML5\\n\\t\\t\\t\\tvar containerBlock = parentBlock ? dom.getParent(parentBlock.parentNode, dom.isBlock) : null;\\n\\t\\t\\t\\tvar containerBlockName = containerBlock ? containerBlock.nodeName.toUpperCase() : ''; // IE < 9 & HTML5\\n\\n\\t\\t\\t\\t// Enter inside block contained within a LI then split or insert before/after LI\\n\\t\\t\\t\\tvar isControlKey = evt && evt.ctrlKey;\\n\\t\\t\\t\\tif (containerBlockName == 'LI' && !isControlKey) {\\n\\t\\t\\t\\t\\tparentBlock = containerBlock;\\n\\t\\t\\t\\t\\tparentBlockName = containerBlockName;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Walks the parent block to the right and look for BR elements\\n\\t\\t\\t\\tfunction hasRightSideContent() {\\n\\t\\t\\t\\t\\tvar walker = new TreeWalker(container, parentBlock), node;\\n\\t\\t\\t\\t\\tvar nonEmptyElementsMap = editor.schema.getNonEmptyElements();\\n\\n\\t\\t\\t\\t\\twhile ((node = walker.next())) {\\n\\t\\t\\t\\t\\t\\tif (nonEmptyElementsMap[node.nodeName.toLowerCase()] || node.length > 0) {\\n\\t\\t\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (container && container.nodeType == 3 && offset >= container.nodeValue.length) {\\n\\t\\t\\t\\t\\t// Insert extra BR element at the end block elements\\n\\t\\t\\t\\t\\tif (!isOldIE && !hasRightSideContent()) {\\n\\t\\t\\t\\t\\t\\tbrElm = dom.create('br');\\n\\t\\t\\t\\t\\t\\trng.insertNode(brElm);\\n\\t\\t\\t\\t\\t\\trng.setStartAfter(brElm);\\n\\t\\t\\t\\t\\t\\trng.setEndAfter(brElm);\\n\\t\\t\\t\\t\\t\\textraBr = true;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tbrElm = dom.create('br');\\n\\t\\t\\t\\trng.insertNode(brElm);\\n\\n\\t\\t\\t\\t// Rendering modes below IE8 doesn't display BR elements in PRE unless we have a \\\\n before it\\n\\t\\t\\t\\tvar documentMode = dom.doc.documentMode;\\n\\t\\t\\t\\tif (isOldIE && parentBlockName == 'PRE' && (!documentMode || documentMode < 8)) {\\n\\t\\t\\t\\t\\tbrElm.parentNode.insertBefore(dom.doc.createTextNode('\\\\r'), brElm);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Insert temp marker and scroll to that\\n\\t\\t\\t\\tmarker = dom.create('span', {}, '&nbsp;');\\n\\t\\t\\t\\tbrElm.parentNode.insertBefore(marker, brElm);\\n\\t\\t\\t\\tselection.scrollIntoView(marker);\\n\\t\\t\\t\\tdom.remove(marker);\\n\\n\\t\\t\\t\\tif (!extraBr) {\\n\\t\\t\\t\\t\\trng.setStartAfter(brElm);\\n\\t\\t\\t\\t\\trng.setEndAfter(brElm);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\trng.setStartBefore(brElm);\\n\\t\\t\\t\\t\\trng.setEndBefore(brElm);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tselection.setRng(rng);\\n\\t\\t\\t\\teditor.undoManager.add();\\n\\n\\t\\t\\t\\treturn TRUE;\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\t// Add queryCommandState overrides\\n\\t\\taddCommands({\\n\\t\\t\\t// Override justify commands\\n\\t\\t\\t'JustifyLeft,JustifyCenter,JustifyRight,JustifyFull': function(command) {\\n\\t\\t\\t\\tvar name = 'align' + command.substring(7);\\n\\t\\t\\t\\tvar nodes = selection.isCollapsed() ? [dom.getParent(selection.getNode(), dom.isBlock)] : selection.getSelectedBlocks();\\n\\t\\t\\t\\tvar matches = map(nodes, function(node) {\\n\\t\\t\\t\\t\\treturn !!formatter.matchNode(node, name);\\n\\t\\t\\t\\t});\\n\\t\\t\\t\\treturn inArray(matches, TRUE) !== -1;\\n\\t\\t\\t},\\n\\n\\t\\t\\t'Bold,Italic,Underline,Strikethrough,Superscript,Subscript': function(command) {\\n\\t\\t\\t\\treturn isFormatMatch(command);\\n\\t\\t\\t},\\n\\n\\t\\t\\tmceBlockQuote: function() {\\n\\t\\t\\t\\treturn isFormatMatch('blockquote');\\n\\t\\t\\t},\\n\\n\\t\\t\\tOutdent: function() {\\n\\t\\t\\t\\tvar node;\\n\\n\\t\\t\\t\\tif (settings.inline_styles) {\\n\\t\\t\\t\\t\\tif ((node = dom.getParent(selection.getStart(), dom.isBlock)) && parseInt(node.style.paddingLeft, 10) > 0) {\\n\\t\\t\\t\\t\\t\\treturn TRUE;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif ((node = dom.getParent(selection.getEnd(), dom.isBlock)) && parseInt(node.style.paddingLeft, 10) > 0) {\\n\\t\\t\\t\\t\\t\\treturn TRUE;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn (\\n\\t\\t\\t\\t\\tqueryCommandState('InsertUnorderedList') ||\\n\\t\\t\\t\\t\\tqueryCommandState('InsertOrderedList') ||\\n\\t\\t\\t\\t\\t(!settings.inline_styles && !!dom.getParent(selection.getNode(), 'BLOCKQUOTE'))\\n\\t\\t\\t\\t);\\n\\t\\t\\t},\\n\\n\\t\\t\\t'InsertUnorderedList,InsertOrderedList': function(command) {\\n\\t\\t\\t\\tvar list = dom.getParent(selection.getNode(), 'ul,ol');\\n\\n\\t\\t\\t\\treturn list &&\\n\\t\\t\\t\\t\\t(\\n\\t\\t\\t\\t\\t\\tcommand === 'insertunorderedlist' && list.tagName === 'UL' ||\\n\\t\\t\\t\\t\\t\\tcommand === 'insertorderedlist' && list.tagName === 'OL'\\n\\t\\t\\t\\t\\t);\\n\\t\\t\\t}\\n\\t\\t}, 'state');\\n\\n\\t\\t// Add queryCommandValue overrides\\n\\t\\taddCommands({\\n\\t\\t\\t'FontSize,FontName': function(command) {\\n\\t\\t\\t\\tvar value = 0, parent;\\n\\n\\t\\t\\t\\tif ((parent = dom.getParent(selection.getNode(), 'span'))) {\\n\\t\\t\\t\\t\\tif (command == 'fontsize') {\\n\\t\\t\\t\\t\\t\\tvalue = parent.style.fontSize;\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tvalue = parent.style.fontFamily.replace(/, /g, ',').replace(/[\\\\'\\\\\\\"]/g, '').toLowerCase();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn value;\\n\\t\\t\\t}\\n\\t\\t}, 'value');\\n\\n\\t\\t// Add undo manager logic\\n\\t\\taddCommands({\\n\\t\\t\\tUndo: function() {\\n\\t\\t\\t\\teditor.undoManager.undo();\\n\\t\\t\\t},\\n\\n\\t\\t\\tRedo: function() {\\n\\t\\t\\t\\teditor.undoManager.redo();\\n\\t\\t\\t}\\n\\t\\t});\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/util/URI.js\\n\\n/**\\n * URI.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class handles parsing, modification and serialization of URI/URL strings.\\n * @class tinymce.util.URI\\n */\\ndefine(\\\"tinymce/util/URI\\\", [\\n\\t\\\"tinymce/util/Tools\\\"\\n], function(Tools) {\\n\\tvar each = Tools.each, trim = Tools.trim;\\n\\tvar queryParts = \\\"source protocol authority userInfo user password host port relative path directory file query anchor\\\".split(' ');\\n\\tvar DEFAULT_PORTS = {\\n\\t\\t'ftp': 21,\\n\\t\\t'http': 80,\\n\\t\\t'https': 443,\\n\\t\\t'mailto': 25\\n\\t};\\n\\n\\t/**\\n\\t * Constructs a new URI instance.\\n\\t *\\n\\t * @constructor\\n\\t * @method URI\\n\\t * @param {String} url URI string to parse.\\n\\t * @param {Object} settings Optional settings object.\\n\\t */\\n\\tfunction URI(url, settings) {\\n\\t\\tvar self = this, baseUri, base_url;\\n\\n\\t\\turl = trim(url);\\n\\t\\tsettings = self.settings = settings || {};\\n\\t\\tbaseUri = settings.base_uri;\\n\\n\\t\\t// Strange app protocol that isn't http/https or local anchor\\n\\t\\t// For example: mailto,skype,tel etc.\\n\\t\\tif (/^([\\\\w\\\\-]+):([^\\\\/]{2})/i.test(url) || /^\\\\s*#/.test(url)) {\\n\\t\\t\\tself.source = url;\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tvar isProtocolRelative = url.indexOf('//') === 0;\\n\\n\\t\\t// Absolute path with no host, fake host and protocol\\n\\t\\tif (url.indexOf('/') === 0 && !isProtocolRelative) {\\n\\t\\t\\turl = (baseUri ? baseUri.protocol || 'http' : 'http') + '://mce_host' + url;\\n\\t\\t}\\n\\n\\t\\t// Relative path http:// or protocol relative //path\\n\\t\\tif (!/^[\\\\w\\\\-]*:?\\\\/\\\\//.test(url)) {\\n\\t\\t\\tbase_url = settings.base_uri ? settings.base_uri.path : new URI(location.href).directory;\\n\\t\\t\\tif (settings.base_uri.protocol === \\\"\\\") {\\n\\t\\t\\t\\turl = '//mce_host' + self.toAbsPath(base_url, url);\\n\\t\\t\\t} else {\\n\\t\\t\\t\\turl = /([^#?]*)([#?]?.*)/.exec(url);\\n\\t\\t\\t\\turl = ((baseUri && baseUri.protocol) || 'http') + '://mce_host' + self.toAbsPath(base_url, url[1]) + url[2];\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t// Parse URL (Credits goes to Steave, http://blog.stevenlevithan.com/archives/parseuri)\\n\\t\\turl = url.replace(/@@/g, '(mce_at)'); // Zope 3 workaround, they use @@something\\n\\n\\t\\t/*jshint maxlen: 255 */\\n\\t\\t/*eslint max-len: 0 */\\n\\t\\turl = /^(?:(?![^:@]+:[^:@\\\\/]*@)([^:\\\\/?#.]+):)?(?:\\\\/\\\\/)?((?:(([^:@\\\\/]*):?([^:@\\\\/]*))?@)?([^:\\\\/?#]*)(?::(\\\\d*))?)(((\\\\/(?:[^?#](?![^?#\\\\/]*\\\\.[^?#\\\\/.]+(?:[?#]|$)))*\\\\/?)?([^?#\\\\/]*))(?:\\\\?([^#]*))?(?:#(.*))?)/.exec(url);\\n\\n\\t\\teach(queryParts, function(v, i) {\\n\\t\\t\\tvar part = url[i];\\n\\n\\t\\t\\t// Zope 3 workaround, they use @@something\\n\\t\\t\\tif (part) {\\n\\t\\t\\t\\tpart = part.replace(/\\\\(mce_at\\\\)/g, '@@');\\n\\t\\t\\t}\\n\\n\\t\\t\\tself[v] = part;\\n\\t\\t});\\n\\n\\t\\tif (baseUri) {\\n\\t\\t\\tif (!self.protocol) {\\n\\t\\t\\t\\tself.protocol = baseUri.protocol;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!self.userInfo) {\\n\\t\\t\\t\\tself.userInfo = baseUri.userInfo;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!self.port && self.host === 'mce_host') {\\n\\t\\t\\t\\tself.port = baseUri.port;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!self.host || self.host === 'mce_host') {\\n\\t\\t\\t\\tself.host = baseUri.host;\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.source = '';\\n\\t\\t}\\n\\n\\t\\tif (isProtocolRelative) {\\n\\t\\t\\tself.protocol = '';\\n\\t\\t}\\n\\n\\t\\t//t.path = t.path || '/';\\n\\t}\\n\\n\\tURI.prototype = {\\n\\t\\t/**\\n\\t\\t * Sets the internal path part of the URI.\\n\\t\\t *\\n\\t\\t * @method setPath\\n\\t\\t * @param {string} path Path string to set.\\n\\t\\t */\\n\\t\\tsetPath: function(path) {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tpath = /^(.*?)\\\\/?(\\\\w+)?$/.exec(path);\\n\\n\\t\\t\\t// Update path parts\\n\\t\\t\\tself.path = path[0];\\n\\t\\t\\tself.directory = path[1];\\n\\t\\t\\tself.file = path[2];\\n\\n\\t\\t\\t// Rebuild source\\n\\t\\t\\tself.source = '';\\n\\t\\t\\tself.getURI();\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Converts the specified URI into a relative URI based on the current URI instance location.\\n\\t\\t *\\n\\t\\t * @method toRelative\\n\\t\\t * @param {String} uri URI to convert into a relative path/URI.\\n\\t\\t * @return {String} Relative URI from the point specified in the current URI instance.\\n\\t\\t * @example\\n\\t\\t * // Converts an absolute URL to an relative URL url will be somedir/somefile.htm\\n\\t\\t * var url = new tinymce.util.URI('http://www.site.com/dir/').toRelative('http://www.site.com/dir/somedir/somefile.htm');\\n\\t\\t */\\n\\t\\ttoRelative: function(uri) {\\n\\t\\t\\tvar self = this, output;\\n\\n\\t\\t\\tif (uri === \\\"./\\\") {\\n\\t\\t\\t\\treturn uri;\\n\\t\\t\\t}\\n\\n\\t\\t\\turi = new URI(uri, {base_uri: self});\\n\\n\\t\\t\\t// Not on same domain/port or protocol\\n\\t\\t\\tif ((uri.host != 'mce_host' && self.host != uri.host && uri.host) || self.port != uri.port ||\\n\\t\\t\\t\\t(self.protocol != uri.protocol && uri.protocol !== \\\"\\\")) {\\n\\t\\t\\t\\treturn uri.getURI();\\n\\t\\t\\t}\\n\\n\\t\\t\\tvar tu = self.getURI(), uu = uri.getURI();\\n\\n\\t\\t\\t// Allow usage of the base_uri when relative_urls = true\\n\\t\\t\\tif (tu == uu || (tu.charAt(tu.length - 1) == \\\"/\\\" && tu.substr(0, tu.length - 1) == uu)) {\\n\\t\\t\\t\\treturn tu;\\n\\t\\t\\t}\\n\\n\\t\\t\\toutput = self.toRelPath(self.path, uri.path);\\n\\n\\t\\t\\t// Add query\\n\\t\\t\\tif (uri.query) {\\n\\t\\t\\t\\toutput += '?' + uri.query;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Add anchor\\n\\t\\t\\tif (uri.anchor) {\\n\\t\\t\\t\\toutput += '#' + uri.anchor;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn output;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Converts the specified URI into a absolute URI based on the current URI instance location.\\n\\t\\t *\\n\\t\\t * @method toAbsolute\\n\\t\\t * @param {String} uri URI to convert into a relative path/URI.\\n\\t\\t * @param {Boolean} noHost No host and protocol prefix.\\n\\t\\t * @return {String} Absolute URI from the point specified in the current URI instance.\\n\\t\\t * @example\\n\\t\\t * // Converts an relative URL to an absolute URL url will be http://www.site.com/dir/somedir/somefile.htm\\n\\t\\t * var url = new tinymce.util.URI('http://www.site.com/dir/').toAbsolute('somedir/somefile.htm');\\n\\t\\t */\\n\\t\\ttoAbsolute: function(uri, noHost) {\\n\\t\\t\\turi = new URI(uri, {base_uri: this});\\n\\n\\t\\t\\treturn uri.getURI(noHost && this.isSameOrigin(uri));\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Determine whether the given URI has the same origin as this URI.  Based on RFC-6454.\\n\\t\\t * Supports default ports for protocols listed in DEFAULT_PORTS.  Unsupported protocols will fail safe: they\\n\\t\\t * won't match, if the port specifications differ.\\n\\t\\t *\\n\\t\\t * @method isSameOrigin\\n\\t\\t * @param {tinymce.util.URI} uri Uri instance to compare.\\n\\t\\t * @returns {Boolean} True if the origins are the same.\\n\\t\\t */\\n\\t\\tisSameOrigin: function(uri) {\\n\\t\\t\\tif (this.host == uri.host && this.protocol == uri.protocol) {\\n\\t\\t\\t\\tif (this.port == uri.port) {\\n\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tvar defaultPort = DEFAULT_PORTS[this.protocol];\\n\\t\\t\\t\\tif (defaultPort && ((this.port || defaultPort) == (uri.port || defaultPort))) {\\n\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn false;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Converts a absolute path into a relative path.\\n\\t\\t *\\n\\t\\t * @method toRelPath\\n\\t\\t * @param {String} base Base point to convert the path from.\\n\\t\\t * @param {String} path Absolute path to convert into a relative path.\\n\\t\\t */\\n\\t\\ttoRelPath: function(base, path) {\\n\\t\\t\\tvar items, breakPoint = 0, out = '', i, l;\\n\\n\\t\\t\\t// Split the paths\\n\\t\\t\\tbase = base.substring(0, base.lastIndexOf('/'));\\n\\t\\t\\tbase = base.split('/');\\n\\t\\t\\titems = path.split('/');\\n\\n\\t\\t\\tif (base.length >= items.length) {\\n\\t\\t\\t\\tfor (i = 0, l = base.length; i < l; i++) {\\n\\t\\t\\t\\t\\tif (i >= items.length || base[i] != items[i]) {\\n\\t\\t\\t\\t\\t\\tbreakPoint = i + 1;\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (base.length < items.length) {\\n\\t\\t\\t\\tfor (i = 0, l = items.length; i < l; i++) {\\n\\t\\t\\t\\t\\tif (i >= base.length || base[i] != items[i]) {\\n\\t\\t\\t\\t\\t\\tbreakPoint = i + 1;\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (breakPoint === 1) {\\n\\t\\t\\t\\treturn path;\\n\\t\\t\\t}\\n\\n\\t\\t\\tfor (i = 0, l = base.length - (breakPoint - 1); i < l; i++) {\\n\\t\\t\\t\\tout += \\\"../\\\";\\n\\t\\t\\t}\\n\\n\\t\\t\\tfor (i = breakPoint - 1, l = items.length; i < l; i++) {\\n\\t\\t\\t\\tif (i != breakPoint - 1) {\\n\\t\\t\\t\\t\\tout += \\\"/\\\" + items[i];\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tout += items[i];\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn out;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Converts a relative path into a absolute path.\\n\\t\\t *\\n\\t\\t * @method toAbsPath\\n\\t\\t * @param {String} base Base point to convert the path from.\\n\\t\\t * @param {String} path Relative path to convert into an absolute path.\\n\\t\\t */\\n\\t\\ttoAbsPath: function(base, path) {\\n\\t\\t\\tvar i, nb = 0, o = [], tr, outPath;\\n\\n\\t\\t\\t// Split paths\\n\\t\\t\\ttr = /\\\\/$/.test(path) ? '/' : '';\\n\\t\\t\\tbase = base.split('/');\\n\\t\\t\\tpath = path.split('/');\\n\\n\\t\\t\\t// Remove empty chunks\\n\\t\\t\\teach(base, function(k) {\\n\\t\\t\\t\\tif (k) {\\n\\t\\t\\t\\t\\to.push(k);\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\tbase = o;\\n\\n\\t\\t\\t// Merge relURLParts chunks\\n\\t\\t\\tfor (i = path.length - 1, o = []; i >= 0; i--) {\\n\\t\\t\\t\\t// Ignore empty or .\\n\\t\\t\\t\\tif (path[i].length === 0 || path[i] === \\\".\\\") {\\n\\t\\t\\t\\t\\tcontinue;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Is parent\\n\\t\\t\\t\\tif (path[i] === '..') {\\n\\t\\t\\t\\t\\tnb++;\\n\\t\\t\\t\\t\\tcontinue;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Move up\\n\\t\\t\\t\\tif (nb > 0) {\\n\\t\\t\\t\\t\\tnb--;\\n\\t\\t\\t\\t\\tcontinue;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\to.push(path[i]);\\n\\t\\t\\t}\\n\\n\\t\\t\\ti = base.length - nb;\\n\\n\\t\\t\\t// If /a/b/c or /\\n\\t\\t\\tif (i <= 0) {\\n\\t\\t\\t\\toutPath = o.reverse().join('/');\\n\\t\\t\\t} else {\\n\\t\\t\\t\\toutPath = base.slice(0, i).join('/') + '/' + o.reverse().join('/');\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Add front / if it's needed\\n\\t\\t\\tif (outPath.indexOf('/') !== 0) {\\n\\t\\t\\t\\toutPath = '/' + outPath;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Add traling / if it's needed\\n\\t\\t\\tif (tr && outPath.lastIndexOf('/') !== outPath.length - 1) {\\n\\t\\t\\t\\toutPath += tr;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn outPath;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns the full URI of the internal structure.\\n\\t\\t *\\n\\t\\t * @method getURI\\n\\t\\t * @param {Boolean} noProtoHost Optional no host and protocol part. Defaults to false.\\n\\t\\t */\\n\\t\\tgetURI: function(noProtoHost) {\\n\\t\\t\\tvar s, self = this;\\n\\n\\t\\t\\t// Rebuild source\\n\\t\\t\\tif (!self.source || noProtoHost) {\\n\\t\\t\\t\\ts = '';\\n\\n\\t\\t\\t\\tif (!noProtoHost) {\\n\\t\\t\\t\\t\\tif (self.protocol) {\\n\\t\\t\\t\\t\\t\\ts += self.protocol + '://';\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\ts += '//';\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (self.userInfo) {\\n\\t\\t\\t\\t\\t\\ts += self.userInfo + '@';\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (self.host) {\\n\\t\\t\\t\\t\\t\\ts += self.host;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (self.port) {\\n\\t\\t\\t\\t\\t\\ts += ':' + self.port;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (self.path) {\\n\\t\\t\\t\\t\\ts += self.path;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (self.query) {\\n\\t\\t\\t\\t\\ts += '?' + self.query;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (self.anchor) {\\n\\t\\t\\t\\t\\ts += '#' + self.anchor;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tself.source = s;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn self.source;\\n\\t\\t}\\n\\t};\\n\\n\\tURI.parseDataUri = function(uri) {\\n\\t\\tvar type, matches;\\n\\n\\t\\turi = decodeURIComponent(uri).split(',');\\n\\n\\t\\tmatches = /data:([^;]+)/.exec(uri[0]);\\n\\t\\tif (matches) {\\n\\t\\t\\ttype = matches[1];\\n\\t\\t}\\n\\n\\t\\treturn {\\n\\t\\t\\ttype: type,\\n\\t\\t\\tdata: uri[1]\\n\\t\\t};\\n\\t};\\n\\n\\tURI.getDocumentBaseUrl = function(loc) {\\n\\t\\tvar baseUrl;\\n\\n\\t\\t// Pass applewebdata:// and other non web protocols though\\n\\t\\tif (loc.protocol.indexOf('http') !== 0 && loc.protocol !== 'file:') {\\n\\t\\t\\tbaseUrl = loc.href;\\n\\t\\t} else {\\n\\t\\t\\tbaseUrl = loc.protocol + '//' + loc.host + loc.pathname;\\n\\t\\t}\\n\\n\\t\\tif (/^[^:]+:\\\\/\\\\/\\\\/?[^\\\\/]+\\\\//.test(baseUrl)) {\\n\\t\\t\\tbaseUrl = baseUrl.replace(/[\\\\?#].*$/, '').replace(/[\\\\/\\\\\\\\][^\\\\/]+$/, '');\\n\\n\\t\\t\\tif (!/[\\\\/\\\\\\\\]$/.test(baseUrl)) {\\n\\t\\t\\t\\tbaseUrl += '/';\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\treturn baseUrl;\\n\\t};\\n\\n\\treturn URI;\\n});\\n\\n// Included from: js/tinymce/classes/util/Class.js\\n\\n/**\\n * Class.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This utilitiy class is used for easier inheritance.\\n *\\n * Features:\\n * * Exposed super functions: this._super();\\n * * Mixins\\n * * Dummy functions\\n * * Property functions: var value = object.value(); and object.value(newValue);\\n * * Static functions\\n * * Defaults settings\\n */\\ndefine(\\\"tinymce/util/Class\\\", [\\n\\t\\\"tinymce/util/Tools\\\"\\n], function(Tools) {\\n\\tvar each = Tools.each, extend = Tools.extend;\\n\\n\\tvar extendClass, initializing;\\n\\n\\tfunction Class() {\\n\\t}\\n\\n\\t// Provides classical inheritance, based on code made by John Resig\\n\\tClass.extend = extendClass = function(prop) {\\n\\t\\tvar self = this, _super = self.prototype, prototype, name, member;\\n\\n\\t\\t// The dummy class constructor\\n\\t\\tfunction Class() {\\n\\t\\t\\tvar i, mixins, mixin, self = this;\\n\\n\\t\\t\\t// All construction is actually done in the init method\\n\\t\\t\\tif (!initializing) {\\n\\t\\t\\t\\t// Run class constuctor\\n\\t\\t\\t\\tif (self.init) {\\n\\t\\t\\t\\t\\tself.init.apply(self, arguments);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Run mixin constructors\\n\\t\\t\\t\\tmixins = self.Mixins;\\n\\t\\t\\t\\tif (mixins) {\\n\\t\\t\\t\\t\\ti = mixins.length;\\n\\t\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\t\\tmixin = mixins[i];\\n\\t\\t\\t\\t\\t\\tif (mixin.init) {\\n\\t\\t\\t\\t\\t\\t\\tmixin.init.apply(self, arguments);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t// Dummy function, needs to be extended in order to provide functionality\\n\\t\\tfunction dummy() {\\n\\t\\t\\treturn this;\\n\\t\\t}\\n\\n\\t\\t// Creates a overloaded method for the class\\n\\t\\t// this enables you to use this._super(); to call the super function\\n\\t\\tfunction createMethod(name, fn) {\\n\\t\\t\\treturn function() {\\n\\t\\t\\t\\tvar self = this, tmp = self._super, ret;\\n\\n\\t\\t\\t\\tself._super = _super[name];\\n\\t\\t\\t\\tret = fn.apply(self, arguments);\\n\\t\\t\\t\\tself._super = tmp;\\n\\n\\t\\t\\t\\treturn ret;\\n\\t\\t\\t};\\n\\t\\t}\\n\\n\\t\\t// Instantiate a base class (but only create the instance,\\n\\t\\t// don't run the init constructor)\\n\\t\\tinitializing = true;\\n\\n\\t\\t/*eslint new-cap:0 */\\n\\t\\tprototype = new self();\\n\\t\\tinitializing = false;\\n\\n\\t\\t// Add mixins\\n\\t\\tif (prop.Mixins) {\\n\\t\\t\\teach(prop.Mixins, function(mixin) {\\n\\t\\t\\t\\tfor (var name in mixin) {\\n\\t\\t\\t\\t\\tif (name !== \\\"init\\\") {\\n\\t\\t\\t\\t\\t\\tprop[name] = mixin[name];\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\tif (_super.Mixins) {\\n\\t\\t\\t\\tprop.Mixins = _super.Mixins.concat(prop.Mixins);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t// Generate dummy methods\\n\\t\\tif (prop.Methods) {\\n\\t\\t\\teach(prop.Methods.split(','), function(name) {\\n\\t\\t\\t\\tprop[name] = dummy;\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\t// Generate property methods\\n\\t\\tif (prop.Properties) {\\n\\t\\t\\teach(prop.Properties.split(','), function(name) {\\n\\t\\t\\t\\tvar fieldName = '_' + name;\\n\\n\\t\\t\\t\\tprop[name] = function(value) {\\n\\t\\t\\t\\t\\tvar self = this, undef;\\n\\n\\t\\t\\t\\t\\t// Set value\\n\\t\\t\\t\\t\\tif (value !== undef) {\\n\\t\\t\\t\\t\\t\\tself[fieldName] = value;\\n\\n\\t\\t\\t\\t\\t\\treturn self;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Get value\\n\\t\\t\\t\\t\\treturn self[fieldName];\\n\\t\\t\\t\\t};\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\t// Static functions\\n\\t\\tif (prop.Statics) {\\n\\t\\t\\teach(prop.Statics, function(func, name) {\\n\\t\\t\\t\\tClass[name] = func;\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\t// Default settings\\n\\t\\tif (prop.Defaults && _super.Defaults) {\\n\\t\\t\\tprop.Defaults = extend({}, _super.Defaults, prop.Defaults);\\n\\t\\t}\\n\\n\\t\\t// Copy the properties over onto the new prototype\\n\\t\\tfor (name in prop) {\\n\\t\\t\\tmember = prop[name];\\n\\n\\t\\t\\tif (typeof member == \\\"function\\\" && _super[name]) {\\n\\t\\t\\t\\tprototype[name] = createMethod(name, member);\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tprototype[name] = member;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t// Populate our constructed prototype object\\n\\t\\tClass.prototype = prototype;\\n\\n\\t\\t// Enforce the constructor to be what we expect\\n\\t\\tClass.constructor = Class;\\n\\n\\t\\t// And make this class extendible\\n\\t\\tClass.extend = extendClass;\\n\\n\\t\\treturn Class;\\n\\t};\\n\\n\\treturn Class;\\n});\\n\\n// Included from: js/tinymce/classes/util/EventDispatcher.js\\n\\n/**\\n * EventDispatcher.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class lets you add/remove and fire events by name on the specified scope. This makes\\n * it easy to add event listener logic to any class.\\n *\\n * @class tinymce.util.EventDispatcher\\n * @example\\n *  var eventDispatcher = new EventDispatcher();\\n *\\n *  eventDispatcher.on('click', function() {console.log('data');});\\n *  eventDispatcher.fire('click', {data: 123});\\n */\\ndefine(\\\"tinymce/util/EventDispatcher\\\", [\\n\\t\\\"tinymce/util/Tools\\\"\\n], function(Tools) {\\n\\tvar nativeEvents = Tools.makeMap(\\n\\t\\t\\\"focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange \\\" +\\n\\t\\t\\\"mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover \\\" +\\n\\t\\t\\\"draggesture dragdrop drop drag submit \\\" +\\n\\t\\t\\\"compositionstart compositionend compositionupdate touchstart touchmove touchend\\\",\\n\\t\\t' '\\n\\t);\\n\\n\\tfunction Dispatcher(settings) {\\n\\t\\tvar self = this, scope, bindings = {}, toggleEvent;\\n\\n\\t\\tfunction returnFalse() {\\n\\t\\t\\treturn false;\\n\\t\\t}\\n\\n\\t\\tfunction returnTrue() {\\n\\t\\t\\treturn true;\\n\\t\\t}\\n\\n\\t\\tsettings = settings || {};\\n\\t\\tscope = settings.scope || self;\\n\\t\\ttoggleEvent = settings.toggleEvent || returnFalse;\\n\\n\\t\\t/**\\n\\t\\t * Fires the specified event by name.\\n\\t\\t *\\n\\t\\t * @method fire\\n\\t\\t * @param {String} name Name of the event to fire.\\n\\t\\t * @param {Object?} args Event arguments.\\n\\t\\t * @return {Object} Event args instance passed in.\\n\\t\\t * @example\\n\\t\\t * instance.fire('event', {...});\\n\\t\\t */\\n\\t\\tfunction fire(name, args) {\\n\\t\\t\\tvar handlers, i, l, callback;\\n\\n\\t\\t\\tname = name.toLowerCase();\\n\\t\\t\\targs = args || {};\\n\\t\\t\\targs.type = name;\\n\\n\\t\\t\\t// Setup target is there isn't one\\n\\t\\t\\tif (!args.target) {\\n\\t\\t\\t\\targs.target = scope;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Add event delegation methods if they are missing\\n\\t\\t\\tif (!args.preventDefault) {\\n\\t\\t\\t\\t// Add preventDefault method\\n\\t\\t\\t\\targs.preventDefault = function() {\\n\\t\\t\\t\\t\\targs.isDefaultPrevented = returnTrue;\\n\\t\\t\\t\\t};\\n\\n\\t\\t\\t\\t// Add stopPropagation\\n\\t\\t\\t\\targs.stopPropagation = function() {\\n\\t\\t\\t\\t\\targs.isPropagationStopped = returnTrue;\\n\\t\\t\\t\\t};\\n\\n\\t\\t\\t\\t// Add stopImmediatePropagation\\n\\t\\t\\t\\targs.stopImmediatePropagation = function() {\\n\\t\\t\\t\\t\\targs.isImmediatePropagationStopped = returnTrue;\\n\\t\\t\\t\\t};\\n\\n\\t\\t\\t\\t// Add event delegation states\\n\\t\\t\\t\\targs.isDefaultPrevented = returnFalse;\\n\\t\\t\\t\\targs.isPropagationStopped = returnFalse;\\n\\t\\t\\t\\targs.isImmediatePropagationStopped = returnFalse;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (settings.beforeFire) {\\n\\t\\t\\t\\tsettings.beforeFire(args);\\n\\t\\t\\t}\\n\\n\\t\\t\\thandlers = bindings[name];\\n\\t\\t\\tif (handlers) {\\n\\t\\t\\t\\tfor (i = 0, l = handlers.length; i < l; i++) {\\n\\t\\t\\t\\t\\tcallback = handlers[i];\\n\\n\\t\\t\\t\\t\\t// Unbind handlers marked with \\\"once\\\"\\n\\t\\t\\t\\t\\tif (callback.once) {\\n\\t\\t\\t\\t\\t\\toff(name, callback.func);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Stop immediate propagation if needed\\n\\t\\t\\t\\t\\tif (args.isImmediatePropagationStopped()) {\\n\\t\\t\\t\\t\\t\\targs.stopPropagation();\\n\\t\\t\\t\\t\\t\\treturn args;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// If callback returns false then prevent default and stop all propagation\\n\\t\\t\\t\\t\\tif (callback.func.call(scope, args) === false) {\\n\\t\\t\\t\\t\\t\\targs.preventDefault();\\n\\t\\t\\t\\t\\t\\treturn args;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn args;\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Binds an event listener to a specific event by name.\\n\\t\\t *\\n\\t\\t * @method on\\n\\t\\t * @param {String} name Event name or space separated list of events to bind.\\n\\t\\t * @param {callback} callback Callback to be executed when the event occurs.\\n\\t\\t * @param {Boolean} first Optional flag if the event should be prepended. Use this with care.\\n\\t\\t * @return {Object} Current class instance.\\n\\t\\t * @example\\n\\t\\t * instance.on('event', function(e) {\\n\\t\\t *     // Callback logic\\n\\t\\t * });\\n\\t\\t */\\n\\t\\tfunction on(name, callback, prepend, extra) {\\n\\t\\t\\tvar handlers, names, i;\\n\\n\\t\\t\\tif (callback === false) {\\n\\t\\t\\t\\tcallback = returnFalse;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (callback) {\\n\\t\\t\\t\\tcallback = {\\n\\t\\t\\t\\t\\tfunc: callback\\n\\t\\t\\t\\t};\\n\\n\\t\\t\\t\\tif (extra) {\\n\\t\\t\\t\\t\\tTools.extend(callback, extra);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tnames = name.toLowerCase().split(' ');\\n\\t\\t\\t\\ti = names.length;\\n\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\tname = names[i];\\n\\t\\t\\t\\t\\thandlers = bindings[name];\\n\\t\\t\\t\\t\\tif (!handlers) {\\n\\t\\t\\t\\t\\t\\thandlers = bindings[name] = [];\\n\\t\\t\\t\\t\\t\\ttoggleEvent(name, true);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (prepend) {\\n\\t\\t\\t\\t\\t\\thandlers.unshift(callback);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\thandlers.push(callback);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn self;\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Unbinds an event listener to a specific event by name.\\n\\t\\t *\\n\\t\\t * @method off\\n\\t\\t * @param {String?} name Name of the event to unbind.\\n\\t\\t * @param {callback?} callback Callback to unbind.\\n\\t\\t * @return {Object} Current class instance.\\n\\t\\t * @example\\n\\t\\t * // Unbind specific callback\\n\\t\\t * instance.off('event', handler);\\n\\t\\t *\\n\\t\\t * // Unbind all listeners by name\\n\\t\\t * instance.off('event');\\n\\t\\t *\\n\\t\\t * // Unbind all events\\n\\t\\t * instance.off();\\n\\t\\t */\\n\\t\\tfunction off(name, callback) {\\n\\t\\t\\tvar i, handlers, bindingName, names, hi;\\n\\n\\t\\t\\tif (name) {\\n\\t\\t\\t\\tnames = name.toLowerCase().split(' ');\\n\\t\\t\\t\\ti = names.length;\\n\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\tname = names[i];\\n\\t\\t\\t\\t\\thandlers = bindings[name];\\n\\n\\t\\t\\t\\t\\t// Unbind all handlers\\n\\t\\t\\t\\t\\tif (!name) {\\n\\t\\t\\t\\t\\t\\tfor (bindingName in bindings) {\\n\\t\\t\\t\\t\\t\\t\\ttoggleEvent(bindingName, false);\\n\\t\\t\\t\\t\\t\\t\\tdelete bindings[bindingName];\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\treturn self;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (handlers) {\\n\\t\\t\\t\\t\\t\\t// Unbind all by name\\n\\t\\t\\t\\t\\t\\tif (!callback) {\\n\\t\\t\\t\\t\\t\\t\\thandlers.length = 0;\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\t// Unbind specific ones\\n\\t\\t\\t\\t\\t\\t\\thi = handlers.length;\\n\\t\\t\\t\\t\\t\\t\\twhile (hi--) {\\n\\t\\t\\t\\t\\t\\t\\t\\tif (handlers[hi].func === callback) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\thandlers = handlers.slice(0, hi).concat(handlers.slice(hi + 1));\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tbindings[name] = handlers;\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tif (!handlers.length) {\\n\\t\\t\\t\\t\\t\\t\\ttoggleEvent(name, false);\\n\\t\\t\\t\\t\\t\\t\\tdelete bindings[name];\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tfor (name in bindings) {\\n\\t\\t\\t\\t\\ttoggleEvent(name, false);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tbindings = {};\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn self;\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Binds an event listener to a specific event by name\\n\\t\\t * and automatically unbind the event once the callback fires.\\n\\t\\t *\\n\\t\\t * @method once\\n\\t\\t * @param {String} name Event name or space separated list of events to bind.\\n\\t\\t * @param {callback} callback Callback to be executed when the event occurs.\\n\\t\\t * @param {Boolean} first Optional flag if the event should be prepended. Use this with care.\\n\\t\\t * @return {Object} Current class instance.\\n\\t\\t * @example\\n\\t\\t * instance.once('event', function(e) {\\n\\t\\t *     // Callback logic\\n\\t\\t * });\\n\\t\\t */\\n\\t\\tfunction once(name, callback, prepend) {\\n\\t\\t\\treturn on(name, callback, prepend, {once: true});\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Returns true/false if the dispatcher has a event of the specified name.\\n\\t\\t *\\n\\t\\t * @method has\\n\\t\\t * @param {String} name Name of the event to check for.\\n\\t\\t * @return {Boolean} true/false if the event exists or not.\\n\\t\\t */\\n\\t\\tfunction has(name) {\\n\\t\\t\\tname = name.toLowerCase();\\n\\t\\t\\treturn !(!bindings[name] || bindings[name].length === 0);\\n\\t\\t}\\n\\n\\t\\t// Expose\\n\\t\\tself.fire = fire;\\n\\t\\tself.on = on;\\n\\t\\tself.off = off;\\n\\t\\tself.once = once;\\n\\t\\tself.has = has;\\n\\t}\\n\\n\\t/**\\n\\t * Returns true/false if the specified event name is a native browser event or not.\\n\\t *\\n\\t * @method isNative\\n\\t * @param {String} name Name to check if it's native.\\n\\t * @return {Boolean} true/false if the event is native or not.\\n\\t * @static\\n\\t */\\n\\tDispatcher.isNative = function(name) {\\n\\t\\treturn !!nativeEvents[name.toLowerCase()];\\n\\t};\\n\\n\\treturn Dispatcher;\\n});\\n\\n// Included from: js/tinymce/classes/data/Binding.js\\n\\n/**\\n * Binding.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class gets dynamically extended to provide a binding between two models. This makes it possible to\\n * sync the state of two properties in two models by a layer of abstraction.\\n *\\n * @private\\n * @class tinymce.data.Binding\\n */\\ndefine(\\\"tinymce/data/Binding\\\", [], function() {\\n\\t/**\\n\\t * Constructs a new bidning.\\n\\t *\\n\\t * @constructor\\n\\t * @method Binding\\n\\t * @param {Object} settings Settings to the binding.\\n\\t */\\n\\tfunction Binding(settings) {\\n\\t\\tthis.create = settings.create;\\n\\t}\\n\\n\\t/**\\n\\t * Creates a binding for a property on a model.\\n\\t *\\n\\t * @method create\\n\\t * @param {tinymce.data.ObservableObject} model Model to create binding to.\\n\\t * @param {String} name Name of property to bind.\\n\\t * @return {tinymce.data.Binding} Binding instance.\\n\\t */\\n\\tBinding.create = function(model, name) {\\n\\t\\treturn new Binding({\\n\\t\\t\\tcreate: function(otherModel, otherName) {\\n\\t\\t\\t\\tvar bindings;\\n\\n\\t\\t\\t\\tfunction fromSelfToOther(e) {\\n\\t\\t\\t\\t\\totherModel.set(otherName, e.value);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfunction fromOtherToSelf(e) {\\n\\t\\t\\t\\t\\tmodel.set(name, e.value);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\totherModel.on('change:' + otherName, fromOtherToSelf);\\n\\t\\t\\t\\tmodel.on('change:' + name, fromSelfToOther);\\n\\n\\t\\t\\t\\t// Keep track of the bindings\\n\\t\\t\\t\\tbindings = otherModel._bindings;\\n\\n\\t\\t\\t\\tif (!bindings) {\\n\\t\\t\\t\\t\\tbindings = otherModel._bindings = [];\\n\\n\\t\\t\\t\\t\\totherModel.on('destroy', function() {\\n\\t\\t\\t\\t\\t\\tvar i = bindings.length;\\n\\n\\t\\t\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\t\\t\\tbindings[i]();\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tbindings.push(function() {\\n\\t\\t\\t\\t\\tmodel.off('change:' + name, fromSelfToOther);\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\treturn model.get(name);\\n\\t\\t\\t}\\n\\t\\t});\\n\\t};\\n\\n\\treturn Binding;\\n});\\n\\n// Included from: js/tinymce/classes/util/Observable.js\\n\\n/**\\n * Observable.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This mixin will add event binding logic to classes.\\n *\\n * @mixin tinymce.util.Observable\\n */\\ndefine(\\\"tinymce/util/Observable\\\", [\\n\\t\\\"tinymce/util/EventDispatcher\\\"\\n], function(EventDispatcher) {\\n\\tfunction getEventDispatcher(obj) {\\n\\t\\tif (!obj._eventDispatcher) {\\n\\t\\t\\tobj._eventDispatcher = new EventDispatcher({\\n\\t\\t\\t\\tscope: obj,\\n\\t\\t\\t\\ttoggleEvent: function(name, state) {\\n\\t\\t\\t\\t\\tif (EventDispatcher.isNative(name) && obj.toggleNativeEvent) {\\n\\t\\t\\t\\t\\t\\tobj.toggleNativeEvent(name, state);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\treturn obj._eventDispatcher;\\n\\t}\\n\\n\\treturn {\\n\\t\\t/**\\n\\t\\t * Fires the specified event by name. Consult the\\n\\t\\t * <a href=\\\"/docs/advanced/events\\\">event reference</a> for more details on each event.\\n\\t\\t *\\n\\t\\t * @method fire\\n\\t\\t * @param {String} name Name of the event to fire.\\n\\t\\t * @param {Object?} args Event arguments.\\n\\t\\t * @param {Boolean?} bubble True/false if the event is to be bubbled.\\n\\t\\t * @return {Object} Event args instance passed in.\\n\\t\\t * @example\\n\\t\\t * instance.fire('event', {...});\\n\\t\\t */\\n\\t\\tfire: function(name, args, bubble) {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\t// Prevent all events except the remove event after the instance has been removed\\n\\t\\t\\tif (self.removed && name !== \\\"remove\\\") {\\n\\t\\t\\t\\treturn args;\\n\\t\\t\\t}\\n\\n\\t\\t\\targs = getEventDispatcher(self).fire(name, args, bubble);\\n\\n\\t\\t\\t// Bubble event up to parents\\n\\t\\t\\tif (bubble !== false && self.parent) {\\n\\t\\t\\t\\tvar parent = self.parent();\\n\\t\\t\\t\\twhile (parent && !args.isPropagationStopped()) {\\n\\t\\t\\t\\t\\tparent.fire(name, args, false);\\n\\t\\t\\t\\t\\tparent = parent.parent();\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn args;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Binds an event listener to a specific event by name. Consult the\\n\\t\\t * <a href=\\\"/docs/advanced/events\\\">event reference</a> for more details on each event.\\n\\t\\t *\\n\\t\\t * @method on\\n\\t\\t * @param {String} name Event name or space separated list of events to bind.\\n\\t\\t * @param {callback} callback Callback to be executed when the event occurs.\\n\\t\\t * @param {Boolean} first Optional flag if the event should be prepended. Use this with care.\\n\\t\\t * @return {Object} Current class instance.\\n\\t\\t * @example\\n\\t\\t * instance.on('event', function(e) {\\n\\t\\t *     // Callback logic\\n\\t\\t * });\\n\\t\\t */\\n\\t\\ton: function(name, callback, prepend) {\\n\\t\\t\\treturn getEventDispatcher(this).on(name, callback, prepend);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Unbinds an event listener to a specific event by name. Consult the\\n\\t\\t * <a href=\\\"/docs/advanced/events\\\">event reference</a> for more details on each event.\\n\\t\\t *\\n\\t\\t * @method off\\n\\t\\t * @param {String?} name Name of the event to unbind.\\n\\t\\t * @param {callback?} callback Callback to unbind.\\n\\t\\t * @return {Object} Current class instance.\\n\\t\\t * @example\\n\\t\\t * // Unbind specific callback\\n\\t\\t * instance.off('event', handler);\\n\\t\\t *\\n\\t\\t * // Unbind all listeners by name\\n\\t\\t * instance.off('event');\\n\\t\\t *\\n\\t\\t * // Unbind all events\\n\\t\\t * instance.off();\\n\\t\\t */\\n\\t\\toff: function(name, callback) {\\n\\t\\t\\treturn getEventDispatcher(this).off(name, callback);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Bind the event callback and once it fires the callback is removed. Consult the\\n\\t\\t * <a href=\\\"/docs/advanced/events\\\">event reference</a> for more details on each event.\\n\\t\\t *\\n\\t\\t * @method once\\n\\t\\t * @param {String} name Name of the event to bind.\\n\\t\\t * @param {callback} callback Callback to bind only once.\\n\\t\\t * @return {Object} Current class instance.\\n\\t\\t */\\n\\t\\tonce: function(name, callback) {\\n\\t\\t\\treturn getEventDispatcher(this).once(name, callback);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns true/false if the object has a event of the specified name.\\n\\t\\t *\\n\\t\\t * @method hasEventListeners\\n\\t\\t * @param {String} name Name of the event to check for.\\n\\t\\t * @return {Boolean} true/false if the event exists or not.\\n\\t\\t */\\n\\t\\thasEventListeners: function(name) {\\n\\t\\t\\treturn getEventDispatcher(this).has(name);\\n\\t\\t}\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/data/ObservableObject.js\\n\\n/**\\n * ObservableObject.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class is a object that is observable when properties changes a change event gets emitted.\\n *\\n * @private\\n * @class tinymce.data.ObservableObject\\n */\\ndefine(\\\"tinymce/data/ObservableObject\\\", [\\n\\t\\\"tinymce/data/Binding\\\",\\n\\t\\\"tinymce/util/Observable\\\",\\n\\t\\\"tinymce/util/Class\\\",\\n\\t\\\"tinymce/util/Tools\\\"\\n], function(Binding, Observable, Class, Tools) {\\n\\tfunction isNode(node) {\\n\\t\\treturn node.nodeType > 0;\\n\\t}\\n\\n\\t// Todo: Maybe this should be shallow compare since it might be huge object references\\n\\tfunction isEqual(a, b) {\\n\\t\\tvar k, checked;\\n\\n\\t\\t// Strict equals\\n\\t\\tif (a === b) {\\n\\t\\t\\treturn true;\\n\\t\\t}\\n\\n\\t\\t// Compare null\\n\\t\\tif (a === null || b === null) {\\n\\t\\t\\treturn a === b;\\n\\t\\t}\\n\\n\\t\\t// Compare number, boolean, string, undefined\\n\\t\\tif (typeof a !== \\\"object\\\" || typeof b !== \\\"object\\\") {\\n\\t\\t\\treturn a === b;\\n\\t\\t}\\n\\n\\t\\t// Compare arrays\\n\\t\\tif (Tools.isArray(b)) {\\n\\t\\t\\tif (a.length !== b.length) {\\n\\t\\t\\t\\treturn false;\\n\\t\\t\\t}\\n\\n\\t\\t\\tk = a.length;\\n\\t\\t\\twhile (k--) {\\n\\t\\t\\t\\tif (!isEqual(a[k], b[k])) {\\n\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t// Shallow compare nodes\\n\\t\\tif (isNode(a) || isNode(b)) {\\n\\t\\t\\treturn a === b;\\n\\t\\t}\\n\\n\\t\\t// Compare objects\\n\\t\\tchecked = {};\\n\\t\\tfor (k in b) {\\n\\t\\t\\tif (!isEqual(a[k], b[k])) {\\n\\t\\t\\t\\treturn false;\\n\\t\\t\\t}\\n\\n\\t\\t\\tchecked[k] = true;\\n\\t\\t}\\n\\n\\t\\tfor (k in a) {\\n\\t\\t\\tif (!checked[k] && !isEqual(a[k], b[k])) {\\n\\t\\t\\t\\treturn false;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\treturn true;\\n\\t}\\n\\n\\treturn Class.extend({\\n\\t\\tMixins: [Observable],\\n\\n\\t\\t/**\\n\\t\\t * Constructs a new observable object instance.\\n\\t\\t *\\n\\t\\t * @constructor\\n\\t\\t * @param {Object} data Initial data for the object.\\n\\t\\t */\\n\\t\\tinit: function(data) {\\n\\t\\t\\tvar name, value;\\n\\n\\t\\t\\tdata = data || {};\\n\\n\\t\\t\\tfor (name in data) {\\n\\t\\t\\t\\tvalue = data[name];\\n\\n\\t\\t\\t\\tif (value instanceof Binding) {\\n\\t\\t\\t\\t\\tdata[name] = value.create(this, name);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tthis.data = data;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Sets a property on the value this will call\\n\\t\\t * observers if the value is a change from the current value.\\n\\t\\t *\\n\\t\\t * @method set\\n\\t\\t * @param {String/object} name Name of the property to set or a object of items to set.\\n\\t\\t * @param {Object} value Value to set for the property.\\n\\t\\t * @return {tinymce.data.ObservableObject} Observable object instance.\\n\\t\\t */\\n\\t\\tset: function(name, value) {\\n\\t\\t\\tvar key, args, oldValue = this.data[name];\\n\\n\\t\\t\\tif (value instanceof Binding) {\\n\\t\\t\\t\\tvalue = value.create(this, name);\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (typeof name === \\\"object\\\") {\\n\\t\\t\\t\\tfor (key in name) {\\n\\t\\t\\t\\t\\tthis.set(key, name[key]);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn this;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!isEqual(oldValue, value)) {\\n\\t\\t\\t\\tthis.data[name] = value;\\n\\n\\t\\t\\t\\targs = {\\n\\t\\t\\t\\t\\ttarget: this,\\n\\t\\t\\t\\t\\tname: name,\\n\\t\\t\\t\\t\\tvalue: value,\\n\\t\\t\\t\\t\\toldValue: oldValue\\n\\t\\t\\t\\t};\\n\\n\\t\\t\\t\\tthis.fire('change:' + name, args);\\n\\t\\t\\t\\tthis.fire('change', args);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn this;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Gets a property by name.\\n\\t\\t *\\n\\t\\t * @method get\\n\\t\\t * @param {String} name Name of the property to get.\\n\\t\\t * @return {Object} Object value of propery.\\n\\t\\t */\\n\\t\\tget: function(name) {\\n\\t\\t\\treturn this.data[name];\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns true/false if the specified property exists.\\n\\t\\t *\\n\\t\\t * @method has\\n\\t\\t * @param {String} name Name of the property to check for.\\n\\t\\t * @return {Boolean} true/false if the item exists.\\n\\t\\t */\\n\\t\\thas: function(name) {\\n\\t\\t\\treturn name in this.data;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns a dynamic property binding for the specified property name. This makes\\n\\t\\t * it possible to sync the state of two properties in two ObservableObject instances.\\n\\t\\t *\\n\\t\\t * @method bind\\n\\t\\t * @param {String} name Name of the property to sync with the property it's inserted to.\\n\\t\\t * @return {tinymce.data.Binding} Data binding instance.\\n\\t\\t */\\n\\t\\tbind: function(name) {\\n\\t\\t\\treturn Binding.create(this, name);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Destroys the observable object and fires the \\\"destroy\\\"\\n\\t\\t * event and clean up any internal resources.\\n\\t\\t *\\n\\t\\t * @method destroy\\n\\t\\t */\\n\\t\\tdestroy: function() {\\n\\t\\t\\tthis.fire('destroy');\\n\\t\\t}\\n\\t});\\n});\\n\\n// Included from: js/tinymce/classes/ui/Selector.js\\n\\n/**\\n * Selector.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/*eslint no-nested-ternary:0 */\\n\\n/**\\n * Selector engine, enables you to select controls by using CSS like expressions.\\n * We currently only support basic CSS expressions to reduce the size of the core\\n * and the ones we support should be enough for most cases.\\n *\\n * @example\\n * Supported expressions:\\n *  element\\n *  element#name\\n *  element.class\\n *  element[attr]\\n *  element[attr*=value]\\n *  element[attr~=value]\\n *  element[attr!=value]\\n *  element[attr^=value]\\n *  element[attr$=value]\\n *  element:<state>\\n *  element:not(<expression>)\\n *  element:first\\n *  element:last\\n *  element:odd\\n *  element:even\\n *  element element\\n *  element > element\\n *\\n * @class tinymce.ui.Selector\\n */\\ndefine(\\\"tinymce/ui/Selector\\\", [\\n\\t\\\"tinymce/util/Class\\\"\\n], function(Class) {\\n\\t\\\"use strict\\\";\\n\\n\\t/**\\n\\t * Produces an array with a unique set of objects. It will not compare the values\\n\\t * but the references of the objects.\\n\\t *\\n\\t * @private\\n\\t * @method unqiue\\n\\t * @param {Array} array Array to make into an array with unique items.\\n\\t * @return {Array} Array with unique items.\\n\\t */\\n\\tfunction unique(array) {\\n\\t\\tvar uniqueItems = [], i = array.length, item;\\n\\n\\t\\twhile (i--) {\\n\\t\\t\\titem = array[i];\\n\\n\\t\\t\\tif (!item.__checked) {\\n\\t\\t\\t\\tuniqueItems.push(item);\\n\\t\\t\\t\\titem.__checked = 1;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\ti = uniqueItems.length;\\n\\t\\twhile (i--) {\\n\\t\\t\\tdelete uniqueItems[i].__checked;\\n\\t\\t}\\n\\n\\t\\treturn uniqueItems;\\n\\t}\\n\\n\\tvar expression = /^([\\\\w\\\\\\\\*]+)?(?:#([\\\\w\\\\-\\\\\\\\]+))?(?:\\\\.([\\\\w\\\\\\\\\\\\.]+))?(?:\\\\[\\\\@?([\\\\w\\\\\\\\]+)([\\\\^\\\\$\\\\*!~]?=)([\\\\w\\\\\\\\]+)\\\\])?(?:\\\\:(.+))?/i;\\n\\n\\t/*jshint maxlen:255 */\\n\\t/*eslint max-len:0 */\\n\\tvar chunker = /((?:\\\\((?:\\\\([^()]+\\\\)|[^()]+)+\\\\)|\\\\[(?:\\\\[[^\\\\[\\\\]]*\\\\]|['\\\"][^'\\\"]*['\\\"]|[^\\\\[\\\\]'\\\"]+)+\\\\]|\\\\\\\\.|[^ >+~,(\\\\[\\\\\\\\]+)+|[>+~])(\\\\s*,\\\\s*)?((?:.|\\\\r|\\\\n)*)/g,\\n\\t\\twhiteSpace = /^\\\\s*|\\\\s*$/g,\\n\\t\\tCollection;\\n\\n\\tvar Selector = Class.extend({\\n\\t\\t/**\\n\\t\\t * Constructs a new Selector instance.\\n\\t\\t *\\n\\t\\t * @constructor\\n\\t\\t * @method init\\n\\t\\t * @param {String} selector CSS like selector expression.\\n\\t\\t */\\n\\t\\tinit: function(selector) {\\n\\t\\t\\tvar match = this.match;\\n\\n\\t\\t\\tfunction compileNameFilter(name) {\\n\\t\\t\\t\\tif (name) {\\n\\t\\t\\t\\t\\tname = name.toLowerCase();\\n\\n\\t\\t\\t\\t\\treturn function(item) {\\n\\t\\t\\t\\t\\t\\treturn name === '*' || item.type === name;\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction compileIdFilter(id) {\\n\\t\\t\\t\\tif (id) {\\n\\t\\t\\t\\t\\treturn function(item) {\\n\\t\\t\\t\\t\\t\\treturn item._name === id;\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction compileClassesFilter(classes) {\\n\\t\\t\\t\\tif (classes) {\\n\\t\\t\\t\\t\\tclasses = classes.split('.');\\n\\n\\t\\t\\t\\t\\treturn function(item) {\\n\\t\\t\\t\\t\\t\\tvar i = classes.length;\\n\\n\\t\\t\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\t\\t\\tif (!item.classes.contains(classes[i])) {\\n\\t\\t\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction compileAttrFilter(name, cmp, check) {\\n\\t\\t\\t\\tif (name) {\\n\\t\\t\\t\\t\\treturn function(item) {\\n\\t\\t\\t\\t\\t\\tvar value = item[name] ? item[name]() : '';\\n\\n\\t\\t\\t\\t\\t\\treturn !cmp ? !!check :\\n\\t\\t\\t\\t\\t\\t\\tcmp === \\\"=\\\" ? value === check :\\n\\t\\t\\t\\t\\t\\t\\tcmp === \\\"*=\\\" ? value.indexOf(check) >= 0 :\\n\\t\\t\\t\\t\\t\\t\\tcmp === \\\"~=\\\" ? (\\\" \\\" + value + \\\" \\\").indexOf(\\\" \\\" + check + \\\" \\\") >= 0 :\\n\\t\\t\\t\\t\\t\\t\\tcmp === \\\"!=\\\" ? value != check :\\n\\t\\t\\t\\t\\t\\t\\tcmp === \\\"^=\\\" ? value.indexOf(check) === 0 :\\n\\t\\t\\t\\t\\t\\t\\tcmp === \\\"$=\\\" ? value.substr(value.length - check.length) === check :\\n\\t\\t\\t\\t\\t\\t\\tfalse;\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction compilePsuedoFilter(name) {\\n\\t\\t\\t\\tvar notSelectors;\\n\\n\\t\\t\\t\\tif (name) {\\n\\t\\t\\t\\t\\tname = /(?:not\\\\((.+)\\\\))|(.+)/i.exec(name);\\n\\n\\t\\t\\t\\t\\tif (!name[1]) {\\n\\t\\t\\t\\t\\t\\tname = name[2];\\n\\n\\t\\t\\t\\t\\t\\treturn function(item, index, length) {\\n\\t\\t\\t\\t\\t\\t\\treturn name === 'first' ? index === 0 :\\n\\t\\t\\t\\t\\t\\t\\t\\tname === 'last' ? index === length - 1 :\\n\\t\\t\\t\\t\\t\\t\\t\\tname === 'even' ? index % 2 === 0 :\\n\\t\\t\\t\\t\\t\\t\\t\\tname === 'odd' ? index % 2 === 1 :\\n\\t\\t\\t\\t\\t\\t\\t\\titem[name] ? item[name]() :\\n\\t\\t\\t\\t\\t\\t\\t\\tfalse;\\n\\t\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Compile not expression\\n\\t\\t\\t\\t\\tnotSelectors = parseChunks(name[1], []);\\n\\n\\t\\t\\t\\t\\treturn function(item) {\\n\\t\\t\\t\\t\\t\\treturn !match(item, notSelectors);\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction compile(selector, filters, direct) {\\n\\t\\t\\t\\tvar parts;\\n\\n\\t\\t\\t\\tfunction add(filter) {\\n\\t\\t\\t\\t\\tif (filter) {\\n\\t\\t\\t\\t\\t\\tfilters.push(filter);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Parse expression into parts\\n\\t\\t\\t\\tparts = expression.exec(selector.replace(whiteSpace, ''));\\n\\n\\t\\t\\t\\tadd(compileNameFilter(parts[1]));\\n\\t\\t\\t\\tadd(compileIdFilter(parts[2]));\\n\\t\\t\\t\\tadd(compileClassesFilter(parts[3]));\\n\\t\\t\\t\\tadd(compileAttrFilter(parts[4], parts[5], parts[6]));\\n\\t\\t\\t\\tadd(compilePsuedoFilter(parts[7]));\\n\\n\\t\\t\\t\\t// Mark the filter with pseudo for performance\\n\\t\\t\\t\\tfilters.pseudo = !!parts[7];\\n\\t\\t\\t\\tfilters.direct = direct;\\n\\n\\t\\t\\t\\treturn filters;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Parser logic based on Sizzle by John Resig\\n\\t\\t\\tfunction parseChunks(selector, selectors) {\\n\\t\\t\\t\\tvar parts = [], extra, matches, i;\\n\\n\\t\\t\\t\\tdo {\\n\\t\\t\\t\\t\\tchunker.exec(\\\"\\\");\\n\\t\\t\\t\\t\\tmatches = chunker.exec(selector);\\n\\n\\t\\t\\t\\t\\tif (matches) {\\n\\t\\t\\t\\t\\t\\tselector = matches[3];\\n\\t\\t\\t\\t\\t\\tparts.push(matches[1]);\\n\\n\\t\\t\\t\\t\\t\\tif (matches[2]) {\\n\\t\\t\\t\\t\\t\\t\\textra = matches[3];\\n\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} while (matches);\\n\\n\\t\\t\\t\\tif (extra) {\\n\\t\\t\\t\\t\\tparseChunks(extra, selectors);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tselector = [];\\n\\t\\t\\t\\tfor (i = 0; i < parts.length; i++) {\\n\\t\\t\\t\\t\\tif (parts[i] != '>') {\\n\\t\\t\\t\\t\\t\\tselector.push(compile(parts[i], [], parts[i - 1] === '>'));\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tselectors.push(selector);\\n\\n\\t\\t\\t\\treturn selectors;\\n\\t\\t\\t}\\n\\n\\t\\t\\tthis._selectors = parseChunks(selector, []);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns true/false if the selector matches the specified control.\\n\\t\\t *\\n\\t\\t * @method match\\n\\t\\t * @param {tinymce.ui.Control} control Control to match against the selector.\\n\\t\\t * @param {Array} selectors Optional array of selectors, mostly used internally.\\n\\t\\t * @return {Boolean} true/false state if the control matches or not.\\n\\t\\t */\\n\\t\\tmatch: function(control, selectors) {\\n\\t\\t\\tvar i, l, si, sl, selector, fi, fl, filters, index, length, siblings, count, item;\\n\\n\\t\\t\\tselectors = selectors || this._selectors;\\n\\t\\t\\tfor (i = 0, l = selectors.length; i < l; i++) {\\n\\t\\t\\t\\tselector = selectors[i];\\n\\t\\t\\t\\tsl = selector.length;\\n\\t\\t\\t\\titem = control;\\n\\t\\t\\t\\tcount = 0;\\n\\n\\t\\t\\t\\tfor (si = sl - 1; si >= 0; si--) {\\n\\t\\t\\t\\t\\tfilters = selector[si];\\n\\n\\t\\t\\t\\t\\twhile (item) {\\n\\t\\t\\t\\t\\t\\t// Find the index and length since a pseudo filter like :first needs it\\n\\t\\t\\t\\t\\t\\tif (filters.pseudo) {\\n\\t\\t\\t\\t\\t\\t\\tsiblings = item.parent().items();\\n\\t\\t\\t\\t\\t\\t\\tindex = length = siblings.length;\\n\\t\\t\\t\\t\\t\\t\\twhile (index--) {\\n\\t\\t\\t\\t\\t\\t\\t\\tif (siblings[index] === item) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tfor (fi = 0, fl = filters.length; fi < fl; fi++) {\\n\\t\\t\\t\\t\\t\\t\\tif (!filters[fi](item, index, length)) {\\n\\t\\t\\t\\t\\t\\t\\t\\tfi = fl + 1;\\n\\t\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tif (fi === fl) {\\n\\t\\t\\t\\t\\t\\t\\tcount++;\\n\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\t// If it didn't match the right most expression then\\n\\t\\t\\t\\t\\t\\t\\t// break since it's no point looking at the parents\\n\\t\\t\\t\\t\\t\\t\\tif (si === sl - 1) {\\n\\t\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\titem = item.parent();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// If we found all selectors then return true otherwise continue looking\\n\\t\\t\\t\\tif (count === sl) {\\n\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn false;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns a tinymce.ui.Collection with matches of the specified selector inside the specified container.\\n\\t\\t *\\n\\t\\t * @method find\\n\\t\\t * @param {tinymce.ui.Control} container Container to look for items in.\\n\\t\\t * @return {tinymce.ui.Collection} Collection with matched elements.\\n\\t\\t */\\n\\t\\tfind: function(container) {\\n\\t\\t\\tvar matches = [], i, l, selectors = this._selectors;\\n\\n\\t\\t\\tfunction collect(items, selector, index) {\\n\\t\\t\\t\\tvar i, l, fi, fl, item, filters = selector[index];\\n\\n\\t\\t\\t\\tfor (i = 0, l = items.length; i < l; i++) {\\n\\t\\t\\t\\t\\titem = items[i];\\n\\n\\t\\t\\t\\t\\t// Run each filter against the item\\n\\t\\t\\t\\t\\tfor (fi = 0, fl = filters.length; fi < fl; fi++) {\\n\\t\\t\\t\\t\\t\\tif (!filters[fi](item, i, l)) {\\n\\t\\t\\t\\t\\t\\t\\tfi = fl + 1;\\n\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// All filters matched the item\\n\\t\\t\\t\\t\\tif (fi === fl) {\\n\\t\\t\\t\\t\\t\\t// Matched item is on the last expression like: panel toolbar [button]\\n\\t\\t\\t\\t\\t\\tif (index == selector.length - 1) {\\n\\t\\t\\t\\t\\t\\t\\tmatches.push(item);\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\t// Collect next expression type\\n\\t\\t\\t\\t\\t\\t\\tif (item.items) {\\n\\t\\t\\t\\t\\t\\t\\t\\tcollect(item.items(), selector, index + 1);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t} else if (filters.direct) {\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Collect child items\\n\\t\\t\\t\\t\\tif (item.items) {\\n\\t\\t\\t\\t\\t\\tcollect(item.items(), selector, index);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (container.items) {\\n\\t\\t\\t\\tfor (i = 0, l = selectors.length; i < l; i++) {\\n\\t\\t\\t\\t\\tcollect(container.items(), selectors[i], 0);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Unique the matches if needed\\n\\t\\t\\t\\tif (l > 1) {\\n\\t\\t\\t\\t\\tmatches = unique(matches);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Fix for circular reference\\n\\t\\t\\tif (!Collection) {\\n\\t\\t\\t\\t// TODO: Fix me!\\n\\t\\t\\t\\tCollection = Selector.Collection;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn new Collection(matches);\\n\\t\\t}\\n\\t});\\n\\n\\treturn Selector;\\n});\\n\\n// Included from: js/tinymce/classes/ui/Collection.js\\n\\n/**\\n * Collection.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Control collection, this class contains control instances and it enables you to\\n * perform actions on all the contained items. This is very similar to how jQuery works.\\n *\\n * @example\\n * someCollection.show().disabled(true);\\n *\\n * @class tinymce.ui.Collection\\n */\\ndefine(\\\"tinymce/ui/Collection\\\", [\\n\\t\\\"tinymce/util/Tools\\\",\\n\\t\\\"tinymce/ui/Selector\\\",\\n\\t\\\"tinymce/util/Class\\\"\\n], function(Tools, Selector, Class) {\\n\\t\\\"use strict\\\";\\n\\n\\tvar Collection, proto, push = Array.prototype.push, slice = Array.prototype.slice;\\n\\n\\tproto = {\\n\\t\\t/**\\n\\t\\t * Current number of contained control instances.\\n\\t\\t *\\n\\t\\t * @field length\\n\\t\\t * @type Number\\n\\t\\t */\\n\\t\\tlength: 0,\\n\\n\\t\\t/**\\n\\t\\t * Constructor for the collection.\\n\\t\\t *\\n\\t\\t * @constructor\\n\\t\\t * @method init\\n\\t\\t * @param {Array} items Optional array with items to add.\\n\\t\\t */\\n\\t\\tinit: function(items) {\\n\\t\\t\\tif (items) {\\n\\t\\t\\t\\tthis.add(items);\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Adds new items to the control collection.\\n\\t\\t *\\n\\t\\t * @method add\\n\\t\\t * @param {Array} items Array if items to add to collection.\\n\\t\\t * @return {tinymce.ui.Collection} Current collection instance.\\n\\t\\t */\\n\\t\\tadd: function(items) {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\t// Force single item into array\\n\\t\\t\\tif (!Tools.isArray(items)) {\\n\\t\\t\\t\\tif (items instanceof Collection) {\\n\\t\\t\\t\\t\\tself.add(items.toArray());\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tpush.call(self, items);\\n\\t\\t\\t\\t}\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tpush.apply(self, items);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn self;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Sets the contents of the collection. This will remove any existing items\\n\\t\\t * and replace them with the ones specified in the input array.\\n\\t\\t *\\n\\t\\t * @method set\\n\\t\\t * @param {Array} items Array with items to set into the Collection.\\n\\t\\t * @return {tinymce.ui.Collection} Collection instance.\\n\\t\\t */\\n\\t\\tset: function(items) {\\n\\t\\t\\tvar self = this, len = self.length, i;\\n\\n\\t\\t\\tself.length = 0;\\n\\t\\t\\tself.add(items);\\n\\n\\t\\t\\t// Remove old entries\\n\\t\\t\\tfor (i = self.length; i < len; i++) {\\n\\t\\t\\t\\tdelete self[i];\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn self;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Filters the collection item based on the specified selector expression or selector function.\\n\\t\\t *\\n\\t\\t * @method filter\\n\\t\\t * @param {String} selector Selector expression to filter items by.\\n\\t\\t * @return {tinymce.ui.Collection} Collection containing the filtered items.\\n\\t\\t */\\n\\t\\tfilter: function(selector) {\\n\\t\\t\\tvar self = this, i, l, matches = [], item, match;\\n\\n\\t\\t\\t// Compile string into selector expression\\n\\t\\t\\tif (typeof selector === \\\"string\\\") {\\n\\t\\t\\t\\tselector = new Selector(selector);\\n\\n\\t\\t\\t\\tmatch = function(item) {\\n\\t\\t\\t\\t\\treturn selector.match(item);\\n\\t\\t\\t\\t};\\n\\t\\t\\t} else {\\n\\t\\t\\t\\t// Use selector as matching function\\n\\t\\t\\t\\tmatch = selector;\\n\\t\\t\\t}\\n\\n\\t\\t\\tfor (i = 0, l = self.length; i < l; i++) {\\n\\t\\t\\t\\titem = self[i];\\n\\n\\t\\t\\t\\tif (match(item)) {\\n\\t\\t\\t\\t\\tmatches.push(item);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn new Collection(matches);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Slices the items within the collection.\\n\\t\\t *\\n\\t\\t * @method slice\\n\\t\\t * @param {Number} index Index to slice at.\\n\\t\\t * @param {Number} len Optional length to slice.\\n\\t\\t * @return {tinymce.ui.Collection} Current collection.\\n\\t\\t */\\n\\t\\tslice: function() {\\n\\t\\t\\treturn new Collection(slice.apply(this, arguments));\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Makes the current collection equal to the specified index.\\n\\t\\t *\\n\\t\\t * @method eq\\n\\t\\t * @param {Number} index Index of the item to set the collection to.\\n\\t\\t * @return {tinymce.ui.Collection} Current collection.\\n\\t\\t */\\n\\t\\teq: function(index) {\\n\\t\\t\\treturn index === -1 ? this.slice(index) : this.slice(index, +index + 1);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Executes the specified callback on each item in collection.\\n\\t\\t *\\n\\t\\t * @method each\\n\\t\\t * @param {function} callback Callback to execute for each item in collection.\\n\\t\\t * @return {tinymce.ui.Collection} Current collection instance.\\n\\t\\t */\\n\\t\\teach: function(callback) {\\n\\t\\t\\tTools.each(this, callback);\\n\\n\\t\\t\\treturn this;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns an JavaScript array object of the contents inside the collection.\\n\\t\\t *\\n\\t\\t * @method toArray\\n\\t\\t * @return {Array} Array with all items from collection.\\n\\t\\t */\\n\\t\\ttoArray: function() {\\n\\t\\t\\treturn Tools.toArray(this);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Finds the index of the specified control or return -1 if it isn't in the collection.\\n\\t\\t *\\n\\t\\t * @method indexOf\\n\\t\\t * @param {Control} ctrl Control instance to look for.\\n\\t\\t * @return {Number} Index of the specified control or -1.\\n\\t\\t */\\n\\t\\tindexOf: function(ctrl) {\\n\\t\\t\\tvar self = this, i = self.length;\\n\\n\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\tif (self[i] === ctrl) {\\n\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn i;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns a new collection of the contents in reverse order.\\n\\t\\t *\\n\\t\\t * @method reverse\\n\\t\\t * @return {tinymce.ui.Collection} Collection instance with reversed items.\\n\\t\\t */\\n\\t\\treverse: function() {\\n\\t\\t\\treturn new Collection(Tools.toArray(this).reverse());\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns true/false if the class exists or not.\\n\\t\\t *\\n\\t\\t * @method hasClass\\n\\t\\t * @param {String} cls Class to check for.\\n\\t\\t * @return {Boolean} true/false state if the class exists or not.\\n\\t\\t */\\n\\t\\thasClass: function(cls) {\\n\\t\\t\\treturn this[0] ? this[0].classes.contains(cls) : false;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Sets/gets the specific property on the items in the collection. The same as executing control.<property>(<value>);\\n\\t\\t *\\n\\t\\t * @method prop\\n\\t\\t * @param {String} name Property name to get/set.\\n\\t\\t * @param {Object} value Optional object value to set.\\n\\t\\t * @return {tinymce.ui.Collection} Current collection instance or value of the first item on a get operation.\\n\\t\\t */\\n\\t\\tprop: function(name, value) {\\n\\t\\t\\tvar self = this, undef, item;\\n\\n\\t\\t\\tif (value !== undef) {\\n\\t\\t\\t\\tself.each(function(item) {\\n\\t\\t\\t\\t\\tif (item[name]) {\\n\\t\\t\\t\\t\\t\\titem[name](value);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\treturn self;\\n\\t\\t\\t}\\n\\n\\t\\t\\titem = self[0];\\n\\n\\t\\t\\tif (item && item[name]) {\\n\\t\\t\\t\\treturn item[name]();\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Executes the specific function name with optional arguments an all items in collection if it exists.\\n\\t\\t *\\n\\t\\t * @example collection.exec(\\\"myMethod\\\", arg1, arg2, arg3);\\n\\t\\t * @method exec\\n\\t\\t * @param {String} name Name of the function to execute.\\n\\t\\t * @param {Object} ... Multiple arguments to pass to each function.\\n\\t\\t * @return {tinymce.ui.Collection} Current collection.\\n\\t\\t */\\n\\t\\texec: function(name) {\\n\\t\\t\\tvar self = this, args = Tools.toArray(arguments).slice(1);\\n\\n\\t\\t\\tself.each(function(item) {\\n\\t\\t\\t\\tif (item[name]) {\\n\\t\\t\\t\\t\\titem[name].apply(item, args);\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn self;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Remove all items from collection and DOM.\\n\\t\\t *\\n\\t\\t * @method remove\\n\\t\\t * @return {tinymce.ui.Collection} Current collection.\\n\\t\\t */\\n\\t\\tremove: function() {\\n\\t\\t\\tvar i = this.length;\\n\\n\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\tthis[i].remove();\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn this;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Adds a class to all items in the collection.\\n\\t\\t *\\n\\t\\t * @method addClass\\n\\t\\t * @param {String} cls Class to add to each item.\\n\\t\\t * @return {tinymce.ui.Collection} Current collection instance.\\n\\t\\t */\\n\\t\\taddClass: function(cls) {\\n\\t\\t\\treturn this.each(function(item) {\\n\\t\\t\\t\\titem.classes.add(cls);\\n\\t\\t\\t});\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Removes the specified class from all items in collection.\\n\\t\\t *\\n\\t\\t * @method removeClass\\n\\t\\t * @param {String} cls Class to remove from each item.\\n\\t\\t * @return {tinymce.ui.Collection} Current collection instance.\\n\\t\\t */\\n\\t\\tremoveClass: function(cls) {\\n\\t\\t\\treturn this.each(function(item) {\\n\\t\\t\\t\\titem.classes.remove(cls);\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Fires the specified event by name and arguments on the control. This will execute all\\n\\t\\t * bound event handlers.\\n\\t\\t *\\n\\t\\t * @method fire\\n\\t\\t * @param {String} name Name of the event to fire.\\n\\t\\t * @param {Object} args Optional arguments to pass to the event.\\n\\t\\t * @return {tinymce.ui.Collection} Current collection instance.\\n\\t\\t */\\n\\t\\t// fire: function(event, args) {}, -- Generated by code below\\n\\n\\t\\t/**\\n\\t\\t * Binds a callback to the specified event. This event can both be\\n\\t\\t * native browser events like \\\"click\\\" or custom ones like PostRender.\\n\\t\\t *\\n\\t\\t * The callback function will have two parameters the first one being the control that received the event\\n\\t\\t * the second one will be the event object either the browsers native event object or a custom JS object.\\n\\t\\t *\\n\\t\\t * @method on\\n\\t\\t * @param {String} name Name of the event to bind. For example \\\"click\\\".\\n\\t\\t * @param {String/function} callback Callback function to execute ones the event occurs.\\n\\t\\t * @return {tinymce.ui.Collection} Current collection instance.\\n\\t\\t */\\n\\t\\t// on: function(name, callback) {}, -- Generated by code below\\n\\n\\t\\t/**\\n\\t\\t * Unbinds the specified event and optionally a specific callback. If you omit the name\\n\\t\\t * parameter all event handlers will be removed. If you omit the callback all event handles\\n\\t\\t * by the specified name will be removed.\\n\\t\\t *\\n\\t\\t * @method off\\n\\t\\t * @param {String} name Optional name for the event to unbind.\\n\\t\\t * @param {function} callback Optional callback function to unbind.\\n\\t\\t * @return {tinymce.ui.Collection} Current collection instance.\\n\\t\\t */\\n\\t\\t// off: function(name, callback) {}, -- Generated by code below\\n\\n\\t\\t/**\\n\\t\\t * Shows the items in the current collection.\\n\\t\\t *\\n\\t\\t * @method show\\n\\t\\t * @return {tinymce.ui.Collection} Current collection instance.\\n\\t\\t */\\n\\t\\t// show: function() {}, -- Generated by code below\\n\\n\\t\\t/**\\n\\t\\t * Hides the items in the current collection.\\n\\t\\t *\\n\\t\\t * @method hide\\n\\t\\t * @return {tinymce.ui.Collection} Current collection instance.\\n\\t\\t */\\n\\t\\t// hide: function() {}, -- Generated by code below\\n\\n\\t\\t/**\\n\\t\\t * Sets/gets the text contents of the items in the current collection.\\n\\t\\t *\\n\\t\\t * @method text\\n\\t\\t * @return {tinymce.ui.Collection} Current collection instance or text value of the first item on a get operation.\\n\\t\\t */\\n\\t\\t// text: function(value) {}, -- Generated by code below\\n\\n\\t\\t/**\\n\\t\\t * Sets/gets the name contents of the items in the current collection.\\n\\t\\t *\\n\\t\\t * @method name\\n\\t\\t * @return {tinymce.ui.Collection} Current collection instance or name value of the first item on a get operation.\\n\\t\\t */\\n\\t\\t// name: function(value) {}, -- Generated by code below\\n\\n\\t\\t/**\\n\\t\\t * Sets/gets the disabled state on the items in the current collection.\\n\\t\\t *\\n\\t\\t * @method disabled\\n\\t\\t * @return {tinymce.ui.Collection} Current collection instance or disabled state of the first item on a get operation.\\n\\t\\t */\\n\\t\\t// disabled: function(state) {}, -- Generated by code below\\n\\n\\t\\t/**\\n\\t\\t * Sets/gets the active state on the items in the current collection.\\n\\t\\t *\\n\\t\\t * @method active\\n\\t\\t * @return {tinymce.ui.Collection} Current collection instance or active state of the first item on a get operation.\\n\\t\\t */\\n\\t\\t// active: function(state) {}, -- Generated by code below\\n\\n\\t\\t/**\\n\\t\\t * Sets/gets the selected state on the items in the current collection.\\n\\t\\t *\\n\\t\\t * @method selected\\n\\t\\t * @return {tinymce.ui.Collection} Current collection instance or selected state of the first item on a get operation.\\n\\t\\t */\\n\\t\\t// selected: function(state) {}, -- Generated by code below\\n\\n\\t\\t/**\\n\\t\\t * Sets/gets the selected state on the items in the current collection.\\n\\t\\t *\\n\\t\\t * @method visible\\n\\t\\t * @return {tinymce.ui.Collection} Current collection instance or visible state of the first item on a get operation.\\n\\t\\t */\\n\\t\\t// visible: function(state) {}, -- Generated by code below\\n\\t};\\n\\n\\t// Extend tinymce.ui.Collection prototype with some generated control specific methods\\n\\tTools.each('fire on off show hide append prepend before after reflow'.split(' '), function(name) {\\n\\t\\tproto[name] = function() {\\n\\t\\t\\tvar args = Tools.toArray(arguments);\\n\\n\\t\\t\\tthis.each(function(ctrl) {\\n\\t\\t\\t\\tif (name in ctrl) {\\n\\t\\t\\t\\t\\tctrl[name].apply(ctrl, args);\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn this;\\n\\t\\t};\\n\\t});\\n\\n\\t// Extend tinymce.ui.Collection prototype with some property methods\\n\\tTools.each('text name disabled active selected checked visible parent value data'.split(' '), function(name) {\\n\\t\\tproto[name] = function(value) {\\n\\t\\t\\treturn this.prop(name, value);\\n\\t\\t};\\n\\t});\\n\\n\\t// Create class based on the new prototype\\n\\tCollection = Class.extend(proto);\\n\\n\\t// Stick Collection into Selector to prevent circual references\\n\\tSelector.Collection = Collection;\\n\\n\\treturn Collection;\\n});\\n\\n// Included from: js/tinymce/classes/ui/DomUtils.js\\n\\n/**\\n * DomUtils.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Private UI DomUtils proxy.\\n *\\n * @private\\n * @class tinymce.ui.DomUtils\\n */\\ndefine(\\\"tinymce/ui/DomUtils\\\", [\\n\\t\\\"tinymce/Env\\\",\\n\\t\\\"tinymce/util/Tools\\\",\\n\\t\\\"tinymce/dom/DOMUtils\\\"\\n], function(Env, Tools, DOMUtils) {\\n\\t\\\"use strict\\\";\\n\\n\\tvar count = 0;\\n\\n\\tvar funcs = {\\n\\t\\tid: function() {\\n\\t\\t\\treturn 'mceu_' + (count++);\\n\\t\\t},\\n\\n\\t\\tcreate: function(name, attrs, children) {\\n\\t\\t\\tvar elm = document.createElement(name);\\n\\n\\t\\t\\tDOMUtils.DOM.setAttribs(elm, attrs);\\n\\n\\t\\t\\tif (typeof children === 'string') {\\n\\t\\t\\t\\telm.innerHTML = children;\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tTools.each(children, function(child) {\\n\\t\\t\\t\\t\\tif (child.nodeType) {\\n\\t\\t\\t\\t\\t\\telm.appendChild(child);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn elm;\\n\\t\\t},\\n\\n\\t\\tcreateFragment: function(html) {\\n\\t\\t\\treturn DOMUtils.DOM.createFragment(html);\\n\\t\\t},\\n\\n\\t\\tgetWindowSize: function() {\\n\\t\\t\\treturn DOMUtils.DOM.getViewPort();\\n\\t\\t},\\n\\n\\t\\tgetSize: function(elm) {\\n\\t\\t\\tvar width, height;\\n\\n\\t\\t\\tif (elm.getBoundingClientRect) {\\n\\t\\t\\t\\tvar rect = elm.getBoundingClientRect();\\n\\n\\t\\t\\t\\twidth = Math.max(rect.width || (rect.right - rect.left), elm.offsetWidth);\\n\\t\\t\\t\\theight = Math.max(rect.height || (rect.bottom - rect.bottom), elm.offsetHeight);\\n\\t\\t\\t} else {\\n\\t\\t\\t\\twidth = elm.offsetWidth;\\n\\t\\t\\t\\theight = elm.offsetHeight;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn {width: width, height: height};\\n\\t\\t},\\n\\n\\t\\tgetPos: function(elm, root) {\\n\\t\\t\\treturn DOMUtils.DOM.getPos(elm, root || funcs.getContainer());\\n\\t\\t},\\n\\n\\t\\tgetContainer: function () {\\n\\t\\t\\treturn Env.container ? Env.container : document.body;\\n\\t\\t},\\n\\n\\t\\tgetViewPort: function(win) {\\n\\t\\t\\treturn DOMUtils.DOM.getViewPort(win);\\n\\t\\t},\\n\\n\\t\\tget: function(id) {\\n\\t\\t\\treturn document.getElementById(id);\\n\\t\\t},\\n\\n\\t\\taddClass: function(elm, cls) {\\n\\t\\t\\treturn DOMUtils.DOM.addClass(elm, cls);\\n\\t\\t},\\n\\n\\t\\tremoveClass: function(elm, cls) {\\n\\t\\t\\treturn DOMUtils.DOM.removeClass(elm, cls);\\n\\t\\t},\\n\\n\\t\\thasClass: function(elm, cls) {\\n\\t\\t\\treturn DOMUtils.DOM.hasClass(elm, cls);\\n\\t\\t},\\n\\n\\t\\ttoggleClass: function(elm, cls, state) {\\n\\t\\t\\treturn DOMUtils.DOM.toggleClass(elm, cls, state);\\n\\t\\t},\\n\\n\\t\\tcss: function(elm, name, value) {\\n\\t\\t\\treturn DOMUtils.DOM.setStyle(elm, name, value);\\n\\t\\t},\\n\\n\\t\\tgetRuntimeStyle: function(elm, name) {\\n\\t\\t\\treturn DOMUtils.DOM.getStyle(elm, name, true);\\n\\t\\t},\\n\\n\\t\\ton: function(target, name, callback, scope) {\\n\\t\\t\\treturn DOMUtils.DOM.bind(target, name, callback, scope);\\n\\t\\t},\\n\\n\\t\\toff: function(target, name, callback) {\\n\\t\\t\\treturn DOMUtils.DOM.unbind(target, name, callback);\\n\\t\\t},\\n\\n\\t\\tfire: function(target, name, args) {\\n\\t\\t\\treturn DOMUtils.DOM.fire(target, name, args);\\n\\t\\t},\\n\\n\\t\\tinnerHtml: function(elm, html) {\\n\\t\\t\\t// Workaround for <div> in <p> bug on IE 8 #6178\\n\\t\\t\\tDOMUtils.DOM.setHTML(elm, html);\\n\\t\\t}\\n\\t};\\n\\n\\treturn funcs;\\n});\\n\\n// Included from: js/tinymce/classes/ui/BoxUtils.js\\n\\n/**\\n * BoxUtils.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Utility class for box parsing and measuring.\\n *\\n * @private\\n * @class tinymce.ui.BoxUtils\\n */\\ndefine(\\\"tinymce/ui/BoxUtils\\\", [\\n], function() {\\n\\t\\\"use strict\\\";\\n\\n\\treturn {\\n\\t\\t/**\\n\\t\\t * Parses the specified box value. A box value contains 1-4 properties in clockwise order.\\n\\t\\t *\\n\\t\\t * @method parseBox\\n\\t\\t * @param {String/Number} value Box value \\\"0 1 2 3\\\" or \\\"0\\\" etc.\\n\\t\\t * @return {Object} Object with top/right/bottom/left properties.\\n\\t\\t * @private\\n\\t\\t */\\n\\t\\tparseBox: function(value) {\\n\\t\\t\\tvar len, radix = 10;\\n\\n\\t\\t\\tif (!value) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (typeof value === \\\"number\\\") {\\n\\t\\t\\t\\tvalue = value || 0;\\n\\n\\t\\t\\t\\treturn {\\n\\t\\t\\t\\t\\ttop: value,\\n\\t\\t\\t\\t\\tleft: value,\\n\\t\\t\\t\\t\\tbottom: value,\\n\\t\\t\\t\\t\\tright: value\\n\\t\\t\\t\\t};\\n\\t\\t\\t}\\n\\n\\t\\t\\tvalue = value.split(' ');\\n\\t\\t\\tlen = value.length;\\n\\n\\t\\t\\tif (len === 1) {\\n\\t\\t\\t\\tvalue[1] = value[2] = value[3] = value[0];\\n\\t\\t\\t} else if (len === 2) {\\n\\t\\t\\t\\tvalue[2] = value[0];\\n\\t\\t\\t\\tvalue[3] = value[1];\\n\\t\\t\\t} else if (len === 3) {\\n\\t\\t\\t\\tvalue[3] = value[1];\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn {\\n\\t\\t\\t\\ttop: parseInt(value[0], radix) || 0,\\n\\t\\t\\t\\tright: parseInt(value[1], radix) || 0,\\n\\t\\t\\t\\tbottom: parseInt(value[2], radix) || 0,\\n\\t\\t\\t\\tleft: parseInt(value[3], radix) || 0\\n\\t\\t\\t};\\n\\t\\t},\\n\\n\\t\\tmeasureBox: function(elm, prefix) {\\n\\t\\t\\tfunction getStyle(name) {\\n\\t\\t\\t\\tvar defaultView = document.defaultView;\\n\\n\\t\\t\\t\\tif (defaultView) {\\n\\t\\t\\t\\t\\t// Remove camelcase\\n\\t\\t\\t\\t\\tname = name.replace(/[A-Z]/g, function(a) {\\n\\t\\t\\t\\t\\t\\treturn '-' + a;\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\treturn defaultView.getComputedStyle(elm, null).getPropertyValue(name);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn elm.currentStyle[name];\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction getSide(name) {\\n\\t\\t\\t\\tvar val = parseFloat(getStyle(name), 10);\\n\\n\\t\\t\\t\\treturn isNaN(val) ? 0 : val;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn {\\n\\t\\t\\t\\ttop: getSide(prefix + \\\"TopWidth\\\"),\\n\\t\\t\\t\\tright: getSide(prefix + \\\"RightWidth\\\"),\\n\\t\\t\\t\\tbottom: getSide(prefix + \\\"BottomWidth\\\"),\\n\\t\\t\\t\\tleft: getSide(prefix + \\\"LeftWidth\\\")\\n\\t\\t\\t};\\n\\t\\t}\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/ui/ClassList.js\\n\\n/**\\n * ClassList.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Handles adding and removal of classes.\\n *\\n * @private\\n * @class tinymce.ui.ClassList\\n */\\ndefine(\\\"tinymce/ui/ClassList\\\", [\\n\\t\\\"tinymce/util/Tools\\\"\\n], function(Tools) {\\n\\t\\\"use strict\\\";\\n\\n\\tfunction noop() {\\n\\t}\\n\\n\\t/**\\n\\t * Constructs a new class list the specified onchange\\n\\t * callback will be executed when the class list gets modifed.\\n\\t *\\n\\t * @constructor ClassList\\n\\t * @param {function} onchange Onchange callback to be executed.\\n\\t */\\n\\tfunction ClassList(onchange) {\\n\\t\\tthis.cls = [];\\n\\t\\tthis.cls._map = {};\\n\\t\\tthis.onchange = onchange || noop;\\n\\t\\tthis.prefix = '';\\n\\t}\\n\\n\\tTools.extend(ClassList.prototype, {\\n\\t\\t/**\\n\\t\\t * Adds a new class to the class list.\\n\\t\\t *\\n\\t\\t * @method add\\n\\t\\t * @param {String} cls Class to be added.\\n\\t\\t * @return {tinymce.ui.ClassList} Current class list instance.\\n\\t\\t */\\n\\t\\tadd: function(cls) {\\n\\t\\t\\tif (cls && !this.contains(cls)) {\\n\\t\\t\\t\\tthis.cls._map[cls] = true;\\n\\t\\t\\t\\tthis.cls.push(cls);\\n\\t\\t\\t\\tthis._change();\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn this;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Removes the specified class from the class list.\\n\\t\\t *\\n\\t\\t * @method remove\\n\\t\\t * @param {String} cls Class to be removed.\\n\\t\\t * @return {tinymce.ui.ClassList} Current class list instance.\\n\\t\\t */\\n\\t\\tremove: function(cls) {\\n\\t\\t\\tif (this.contains(cls)) {\\n\\t\\t\\t\\tfor (var i = 0; i < this.cls.length; i++) {\\n\\t\\t\\t\\t\\tif (this.cls[i] === cls) {\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tthis.cls.splice(i, 1);\\n\\t\\t\\t\\tdelete this.cls._map[cls];\\n\\t\\t\\t\\tthis._change();\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn this;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Toggles a class in the class list.\\n\\t\\t *\\n\\t\\t * @method toggle\\n\\t\\t * @param {String} cls Class to be added/removed.\\n\\t\\t * @param {Boolean} state Optional state if it should be added/removed.\\n\\t\\t * @return {tinymce.ui.ClassList} Current class list instance.\\n\\t\\t */\\n\\t\\ttoggle: function(cls, state) {\\n\\t\\t\\tvar curState = this.contains(cls);\\n\\n\\t\\t\\tif (curState !== state) {\\n\\t\\t\\t\\tif (curState) {\\n\\t\\t\\t\\t\\tthis.remove(cls);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tthis.add(cls);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tthis._change();\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn this;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns true if the class list has the specified class.\\n\\t\\t *\\n\\t\\t * @method contains\\n\\t\\t * @param {String} cls Class to look for.\\n\\t\\t * @return {Boolean} true/false if the class exists or not.\\n\\t\\t */\\n\\t\\tcontains: function(cls) {\\n\\t\\t\\treturn !!this.cls._map[cls];\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns a space separated list of classes.\\n\\t\\t *\\n\\t\\t * @method toString\\n\\t\\t * @return {String} Space separated list of classes.\\n\\t\\t */\\n\\n\\t\\t_change: function() {\\n\\t\\t\\tdelete this.clsValue;\\n\\t\\t\\tthis.onchange.call(this);\\n\\t\\t}\\n\\t});\\n\\n\\t// IE 8 compatibility\\n\\tClassList.prototype.toString = function() {\\n\\t\\tvar value;\\n\\n\\t\\tif (this.clsValue) {\\n\\t\\t\\treturn this.clsValue;\\n\\t\\t}\\n\\n\\t\\tvalue = '';\\n\\t\\tfor (var i = 0; i < this.cls.length; i++) {\\n\\t\\t\\tif (i > 0) {\\n\\t\\t\\t\\tvalue += ' ';\\n\\t\\t\\t}\\n\\n\\t\\t\\tvalue += this.prefix + this.cls[i];\\n\\t\\t}\\n\\n\\t\\treturn value;\\n\\t};\\n\\n\\treturn ClassList;\\n});\\n\\n// Included from: js/tinymce/classes/ui/ReflowQueue.js\\n\\n/**\\n * ReflowQueue.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class will automatically reflow controls on the next animation frame within a few milliseconds on older browsers.\\n * If the user manually reflows then the automatic reflow will be cancelled. This class is used internally when various control states\\n * changes that triggers a reflow.\\n *\\n * @class tinymce.ui.ReflowQueue\\n * @static\\n */\\ndefine(\\\"tinymce/ui/ReflowQueue\\\", [\\n\\t\\\"tinymce/util/Delay\\\"\\n], function(Delay) {\\n\\tvar dirtyCtrls = {}, animationFrameRequested;\\n\\n\\treturn {\\n\\t\\t/**\\n\\t\\t * Adds a control to the next automatic reflow call. This is the control that had a state\\n\\t\\t * change for example if the control was hidden/shown.\\n\\t\\t *\\n\\t\\t * @method add\\n\\t\\t * @param {tinymce.ui.Control} ctrl Control to add to queue.\\n\\t\\t */\\n\\t\\tadd: function(ctrl) {\\n\\t\\t\\tvar parent = ctrl.parent();\\n\\n\\t\\t\\tif (parent) {\\n\\t\\t\\t\\tif (!parent._layout || parent._layout.isNative()) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (!dirtyCtrls[parent._id]) {\\n\\t\\t\\t\\t\\tdirtyCtrls[parent._id] = parent;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (!animationFrameRequested) {\\n\\t\\t\\t\\t\\tanimationFrameRequested = true;\\n\\n\\t\\t\\t\\t\\tDelay.requestAnimationFrame(function() {\\n\\t\\t\\t\\t\\t\\tvar id, ctrl;\\n\\n\\t\\t\\t\\t\\t\\tanimationFrameRequested = false;\\n\\n\\t\\t\\t\\t\\t\\tfor (id in dirtyCtrls) {\\n\\t\\t\\t\\t\\t\\t\\tctrl = dirtyCtrls[id];\\n\\n\\t\\t\\t\\t\\t\\t\\tif (ctrl.state.get('rendered')) {\\n\\t\\t\\t\\t\\t\\t\\t\\tctrl.reflow();\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tdirtyCtrls = {};\\n\\t\\t\\t\\t\\t}, document.body);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Removes the specified control from the automatic reflow. This will happen when for example the user\\n\\t\\t * manually triggers a reflow.\\n\\t\\t *\\n\\t\\t * @method remove\\n\\t\\t * @param {tinymce.ui.Control} ctrl Control to remove from queue.\\n\\t\\t */\\n\\t\\tremove: function(ctrl) {\\n\\t\\t\\tif (dirtyCtrls[ctrl._id]) {\\n\\t\\t\\t\\tdelete dirtyCtrls[ctrl._id];\\n\\t\\t\\t}\\n\\t\\t}\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/ui/Control.js\\n\\n/**\\n * Control.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/*eslint consistent-this:0 */\\n\\n/**\\n * This is the base class for all controls and containers. All UI control instances inherit\\n * from this one as it has the base logic needed by all of them.\\n *\\n * @class tinymce.ui.Control\\n */\\ndefine(\\\"tinymce/ui/Control\\\", [\\n\\t\\\"tinymce/util/Class\\\",\\n\\t\\\"tinymce/util/Tools\\\",\\n\\t\\\"tinymce/util/EventDispatcher\\\",\\n\\t\\\"tinymce/data/ObservableObject\\\",\\n\\t\\\"tinymce/ui/Collection\\\",\\n\\t\\\"tinymce/ui/DomUtils\\\",\\n\\t\\\"tinymce/dom/DomQuery\\\",\\n\\t\\\"tinymce/ui/BoxUtils\\\",\\n\\t\\\"tinymce/ui/ClassList\\\",\\n\\t\\\"tinymce/ui/ReflowQueue\\\"\\n], function(Class, Tools, EventDispatcher, ObservableObject, Collection, DomUtils, $, BoxUtils, ClassList, ReflowQueue) {\\n\\t\\\"use strict\\\";\\n\\n\\tvar hasMouseWheelEventSupport = \\\"onmousewheel\\\" in document;\\n\\tvar hasWheelEventSupport = false;\\n\\tvar classPrefix = \\\"mce-\\\";\\n\\tvar Control, idCounter = 0;\\n\\n\\tvar proto = {\\n\\t\\tStatics: {\\n\\t\\t\\tclassPrefix: classPrefix\\n\\t\\t},\\n\\n\\t\\tisRtl: function() {\\n\\t\\t\\treturn Control.rtl;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Class/id prefix to use for all controls.\\n\\t\\t *\\n\\t\\t * @final\\n\\t\\t * @field {String} classPrefix\\n\\t\\t */\\n\\t\\tclassPrefix: classPrefix,\\n\\n\\t\\t/**\\n\\t\\t * Constructs a new control instance with the specified settings.\\n\\t\\t *\\n\\t\\t * @constructor\\n\\t\\t * @param {Object} settings Name/value object with settings.\\n\\t\\t * @setting {String} style Style CSS properties to add.\\n\\t\\t * @setting {String} border Border box values example: 1 1 1 1\\n\\t\\t * @setting {String} padding Padding box values example: 1 1 1 1\\n\\t\\t * @setting {String} margin Margin box values example: 1 1 1 1\\n\\t\\t * @setting {Number} minWidth Minimal width for the control.\\n\\t\\t * @setting {Number} minHeight Minimal height for the control.\\n\\t\\t * @setting {String} classes Space separated list of classes to add.\\n\\t\\t * @setting {String} role WAI-ARIA role to use for control.\\n\\t\\t * @setting {Boolean} hidden Is the control hidden by default.\\n\\t\\t * @setting {Boolean} disabled Is the control disabled by default.\\n\\t\\t * @setting {String} name Name of the control instance.\\n\\t\\t */\\n\\t\\tinit: function(settings) {\\n\\t\\t\\tvar self = this, classes, defaultClasses;\\n\\n\\t\\t\\tfunction applyClasses(classes) {\\n\\t\\t\\t\\tvar i;\\n\\n\\t\\t\\t\\tclasses = classes.split(' ');\\n\\t\\t\\t\\tfor (i = 0; i < classes.length; i++) {\\n\\t\\t\\t\\t\\tself.classes.add(classes[i]);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.settings = settings = Tools.extend({}, self.Defaults, settings);\\n\\n\\t\\t\\t// Initial states\\n\\t\\t\\tself._id = settings.id || ('mceu_' + (idCounter++));\\n\\t\\t\\tself._aria = {role: settings.role};\\n\\t\\t\\tself._elmCache = {};\\n\\t\\t\\tself.$ = $;\\n\\n\\t\\t\\tself.state = new ObservableObject({\\n\\t\\t\\t\\tvisible: true,\\n\\t\\t\\t\\tactive: false,\\n\\t\\t\\t\\tdisabled: false,\\n\\t\\t\\t\\tvalue: ''\\n\\t\\t\\t});\\n\\n\\t\\t\\tself.data = new ObservableObject(settings.data);\\n\\n\\t\\t\\tself.classes = new ClassList(function() {\\n\\t\\t\\t\\tif (self.state.get('rendered')) {\\n\\t\\t\\t\\t\\tself.getEl().className = this.toString();\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t\\tself.classes.prefix = self.classPrefix;\\n\\n\\t\\t\\t// Setup classes\\n\\t\\t\\tclasses = settings.classes;\\n\\t\\t\\tif (classes) {\\n\\t\\t\\t\\tif (self.Defaults) {\\n\\t\\t\\t\\t\\tdefaultClasses = self.Defaults.classes;\\n\\n\\t\\t\\t\\t\\tif (defaultClasses && classes != defaultClasses) {\\n\\t\\t\\t\\t\\t\\tapplyClasses(defaultClasses);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tapplyClasses(classes);\\n\\t\\t\\t}\\n\\n\\t\\t\\tTools.each('title text name visible disabled active value'.split(' '), function(name) {\\n\\t\\t\\t\\tif (name in settings) {\\n\\t\\t\\t\\t\\tself[name](settings[name]);\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\tself.on('click', function() {\\n\\t\\t\\t\\tif (self.disabled()) {\\n\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Name/value object with settings for the current control.\\n\\t\\t\\t *\\n\\t\\t\\t * @field {Object} settings\\n\\t\\t\\t */\\n\\t\\t\\tself.settings = settings;\\n\\n\\t\\t\\tself.borderBox = BoxUtils.parseBox(settings.border);\\n\\t\\t\\tself.paddingBox = BoxUtils.parseBox(settings.padding);\\n\\t\\t\\tself.marginBox = BoxUtils.parseBox(settings.margin);\\n\\n\\t\\t\\tif (settings.hidden) {\\n\\t\\t\\t\\tself.hide();\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\t// Will generate getter/setter methods for these properties\\n\\t\\tProperties: 'parent,name',\\n\\n\\t\\t/**\\n\\t\\t * Returns the root element to render controls into.\\n\\t\\t *\\n\\t\\t * @method getContainerElm\\n\\t\\t * @return {Element} HTML DOM element to render into.\\n\\t\\t */\\n\\t\\tgetContainerElm: function() {\\n\\t\\t\\treturn DomUtils.getContainer();\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns a control instance for the current DOM element.\\n\\t\\t *\\n\\t\\t * @method getParentCtrl\\n\\t\\t * @param {Element} elm HTML dom element to get parent control from.\\n\\t\\t * @return {tinymce.ui.Control} Control instance or undefined.\\n\\t\\t */\\n\\t\\tgetParentCtrl: function(elm) {\\n\\t\\t\\tvar ctrl, lookup = this.getRoot().controlIdLookup;\\n\\n\\t\\t\\twhile (elm && lookup) {\\n\\t\\t\\t\\tctrl = lookup[elm.id];\\n\\t\\t\\t\\tif (ctrl) {\\n\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\telm = elm.parentNode;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn ctrl;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Initializes the current controls layout rect.\\n\\t\\t * This will be executed by the layout managers to determine the\\n\\t\\t * default minWidth/minHeight etc.\\n\\t\\t *\\n\\t\\t * @method initLayoutRect\\n\\t\\t * @return {Object} Layout rect instance.\\n\\t\\t */\\n\\t\\tinitLayoutRect: function() {\\n\\t\\t\\tvar self = this, settings = self.settings, borderBox, layoutRect;\\n\\t\\t\\tvar elm = self.getEl(), width, height, minWidth, minHeight, autoResize;\\n\\t\\t\\tvar startMinWidth, startMinHeight, initialSize;\\n\\n\\t\\t\\t// Measure the current element\\n\\t\\t\\tborderBox = self.borderBox = self.borderBox || BoxUtils.measureBox(elm, 'border');\\n\\t\\t\\tself.paddingBox = self.paddingBox || BoxUtils.measureBox(elm, 'padding');\\n\\t\\t\\tself.marginBox = self.marginBox || BoxUtils.measureBox(elm, 'margin');\\n\\t\\t\\tinitialSize = DomUtils.getSize(elm);\\n\\n\\t\\t\\t// Setup minWidth/minHeight and width/height\\n\\t\\t\\tstartMinWidth = settings.minWidth;\\n\\t\\t\\tstartMinHeight = settings.minHeight;\\n\\t\\t\\tminWidth = startMinWidth || initialSize.width;\\n\\t\\t\\tminHeight = startMinHeight || initialSize.height;\\n\\t\\t\\twidth = settings.width;\\n\\t\\t\\theight = settings.height;\\n\\t\\t\\tautoResize = settings.autoResize;\\n\\t\\t\\tautoResize = typeof autoResize != \\\"undefined\\\" ? autoResize : !width && !height;\\n\\n\\t\\t\\twidth = width || minWidth;\\n\\t\\t\\theight = height || minHeight;\\n\\n\\t\\t\\tvar deltaW = borderBox.left + borderBox.right;\\n\\t\\t\\tvar deltaH = borderBox.top + borderBox.bottom;\\n\\n\\t\\t\\tvar maxW = settings.maxWidth || 0xFFFF;\\n\\t\\t\\tvar maxH = settings.maxHeight || 0xFFFF;\\n\\n\\t\\t\\t// Setup initial layout rect\\n\\t\\t\\tself._layoutRect = layoutRect = {\\n\\t\\t\\t\\tx: settings.x || 0,\\n\\t\\t\\t\\ty: settings.y || 0,\\n\\t\\t\\t\\tw: width,\\n\\t\\t\\t\\th: height,\\n\\t\\t\\t\\tdeltaW: deltaW,\\n\\t\\t\\t\\tdeltaH: deltaH,\\n\\t\\t\\t\\tcontentW: width - deltaW,\\n\\t\\t\\t\\tcontentH: height - deltaH,\\n\\t\\t\\t\\tinnerW: width - deltaW,\\n\\t\\t\\t\\tinnerH: height - deltaH,\\n\\t\\t\\t\\tstartMinWidth: startMinWidth || 0,\\n\\t\\t\\t\\tstartMinHeight: startMinHeight || 0,\\n\\t\\t\\t\\tminW: Math.min(minWidth, maxW),\\n\\t\\t\\t\\tminH: Math.min(minHeight, maxH),\\n\\t\\t\\t\\tmaxW: maxW,\\n\\t\\t\\t\\tmaxH: maxH,\\n\\t\\t\\t\\tautoResize: autoResize,\\n\\t\\t\\t\\tscrollW: 0\\n\\t\\t\\t};\\n\\n\\t\\t\\tself._lastLayoutRect = {};\\n\\n\\t\\t\\treturn layoutRect;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Getter/setter for the current layout rect.\\n\\t\\t *\\n\\t\\t * @method layoutRect\\n\\t\\t * @param {Object} [newRect] Optional new layout rect.\\n\\t\\t * @return {tinymce.ui.Control/Object} Current control or rect object.\\n\\t\\t */\\n\\t\\tlayoutRect: function(newRect) {\\n\\t\\t\\tvar self = this, curRect = self._layoutRect, lastLayoutRect, size, deltaWidth, deltaHeight, undef, repaintControls;\\n\\n\\t\\t\\t// Initialize default layout rect\\n\\t\\t\\tif (!curRect) {\\n\\t\\t\\t\\tcurRect = self.initLayoutRect();\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Set new rect values\\n\\t\\t\\tif (newRect) {\\n\\t\\t\\t\\t// Calc deltas between inner and outer sizes\\n\\t\\t\\t\\tdeltaWidth = curRect.deltaW;\\n\\t\\t\\t\\tdeltaHeight = curRect.deltaH;\\n\\n\\t\\t\\t\\t// Set x position\\n\\t\\t\\t\\tif (newRect.x !== undef) {\\n\\t\\t\\t\\t\\tcurRect.x = newRect.x;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Set y position\\n\\t\\t\\t\\tif (newRect.y !== undef) {\\n\\t\\t\\t\\t\\tcurRect.y = newRect.y;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Set minW\\n\\t\\t\\t\\tif (newRect.minW !== undef) {\\n\\t\\t\\t\\t\\tcurRect.minW = newRect.minW;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Set minH\\n\\t\\t\\t\\tif (newRect.minH !== undef) {\\n\\t\\t\\t\\t\\tcurRect.minH = newRect.minH;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Set new width and calculate inner width\\n\\t\\t\\t\\tsize = newRect.w;\\n\\t\\t\\t\\tif (size !== undef) {\\n\\t\\t\\t\\t\\tsize = size < curRect.minW ? curRect.minW : size;\\n\\t\\t\\t\\t\\tsize = size > curRect.maxW ? curRect.maxW : size;\\n\\t\\t\\t\\t\\tcurRect.w = size;\\n\\t\\t\\t\\t\\tcurRect.innerW = size - deltaWidth;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Set new height and calculate inner height\\n\\t\\t\\t\\tsize = newRect.h;\\n\\t\\t\\t\\tif (size !== undef) {\\n\\t\\t\\t\\t\\tsize = size < curRect.minH ? curRect.minH : size;\\n\\t\\t\\t\\t\\tsize = size > curRect.maxH ? curRect.maxH : size;\\n\\t\\t\\t\\t\\tcurRect.h = size;\\n\\t\\t\\t\\t\\tcurRect.innerH = size - deltaHeight;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Set new inner width and calculate width\\n\\t\\t\\t\\tsize = newRect.innerW;\\n\\t\\t\\t\\tif (size !== undef) {\\n\\t\\t\\t\\t\\tsize = size < curRect.minW - deltaWidth ? curRect.minW - deltaWidth : size;\\n\\t\\t\\t\\t\\tsize = size > curRect.maxW - deltaWidth ? curRect.maxW - deltaWidth : size;\\n\\t\\t\\t\\t\\tcurRect.innerW = size;\\n\\t\\t\\t\\t\\tcurRect.w = size + deltaWidth;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Set new height and calculate inner height\\n\\t\\t\\t\\tsize = newRect.innerH;\\n\\t\\t\\t\\tif (size !== undef) {\\n\\t\\t\\t\\t\\tsize = size < curRect.minH - deltaHeight ? curRect.minH - deltaHeight : size;\\n\\t\\t\\t\\t\\tsize = size > curRect.maxH - deltaHeight ? curRect.maxH - deltaHeight : size;\\n\\t\\t\\t\\t\\tcurRect.innerH = size;\\n\\t\\t\\t\\t\\tcurRect.h = size + deltaHeight;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Set new contentW\\n\\t\\t\\t\\tif (newRect.contentW !== undef) {\\n\\t\\t\\t\\t\\tcurRect.contentW = newRect.contentW;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Set new contentH\\n\\t\\t\\t\\tif (newRect.contentH !== undef) {\\n\\t\\t\\t\\t\\tcurRect.contentH = newRect.contentH;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Compare last layout rect with the current one to see if we need to repaint or not\\n\\t\\t\\t\\tlastLayoutRect = self._lastLayoutRect;\\n\\t\\t\\t\\tif (lastLayoutRect.x !== curRect.x || lastLayoutRect.y !== curRect.y ||\\n\\t\\t\\t\\t\\tlastLayoutRect.w !== curRect.w || lastLayoutRect.h !== curRect.h) {\\n\\t\\t\\t\\t\\trepaintControls = Control.repaintControls;\\n\\n\\t\\t\\t\\t\\tif (repaintControls) {\\n\\t\\t\\t\\t\\t\\tif (repaintControls.map && !repaintControls.map[self._id]) {\\n\\t\\t\\t\\t\\t\\t\\trepaintControls.push(self);\\n\\t\\t\\t\\t\\t\\t\\trepaintControls.map[self._id] = true;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tlastLayoutRect.x = curRect.x;\\n\\t\\t\\t\\t\\tlastLayoutRect.y = curRect.y;\\n\\t\\t\\t\\t\\tlastLayoutRect.w = curRect.w;\\n\\t\\t\\t\\t\\tlastLayoutRect.h = curRect.h;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn self;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn curRect;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Repaints the control after a layout operation.\\n\\t\\t *\\n\\t\\t * @method repaint\\n\\t\\t */\\n\\t\\trepaint: function() {\\n\\t\\t\\tvar self = this, style, bodyStyle, bodyElm, rect, borderBox;\\n\\t\\t\\tvar borderW, borderH, lastRepaintRect, round, value;\\n\\n\\t\\t\\t// Use Math.round on all values on IE < 9\\n\\t\\t\\tround = !document.createRange ? Math.round : function(value) {\\n\\t\\t\\t\\treturn value;\\n\\t\\t\\t};\\n\\n\\t\\t\\tstyle = self.getEl().style;\\n\\t\\t\\trect = self._layoutRect;\\n\\t\\t\\tlastRepaintRect = self._lastRepaintRect || {};\\n\\n\\t\\t\\tborderBox = self.borderBox;\\n\\t\\t\\tborderW = borderBox.left + borderBox.right;\\n\\t\\t\\tborderH = borderBox.top + borderBox.bottom;\\n\\n\\t\\t\\tif (rect.x !== lastRepaintRect.x) {\\n\\t\\t\\t\\tstyle.left = round(rect.x) + 'px';\\n\\t\\t\\t\\tlastRepaintRect.x = rect.x;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (rect.y !== lastRepaintRect.y) {\\n\\t\\t\\t\\tstyle.top = round(rect.y) + 'px';\\n\\t\\t\\t\\tlastRepaintRect.y = rect.y;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (rect.w !== lastRepaintRect.w) {\\n\\t\\t\\t\\tvalue = round(rect.w - borderW);\\n\\t\\t\\t\\tstyle.width = (value >= 0 ? value : 0) + 'px';\\n\\t\\t\\t\\tlastRepaintRect.w = rect.w;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (rect.h !== lastRepaintRect.h) {\\n\\t\\t\\t\\tvalue = round(rect.h - borderH);\\n\\t\\t\\t\\tstyle.height = (value >= 0 ? value : 0) + 'px';\\n\\t\\t\\t\\tlastRepaintRect.h = rect.h;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Update body if needed\\n\\t\\t\\tif (self._hasBody && rect.innerW !== lastRepaintRect.innerW) {\\n\\t\\t\\t\\tvalue = round(rect.innerW);\\n\\n\\t\\t\\t\\tbodyElm = self.getEl('body');\\n\\t\\t\\t\\tif (bodyElm) {\\n\\t\\t\\t\\t\\tbodyStyle = bodyElm.style;\\n\\t\\t\\t\\t\\tbodyStyle.width = (value >= 0 ? value : 0) + 'px';\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tlastRepaintRect.innerW = rect.innerW;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (self._hasBody && rect.innerH !== lastRepaintRect.innerH) {\\n\\t\\t\\t\\tvalue = round(rect.innerH);\\n\\n\\t\\t\\t\\tbodyElm = bodyElm || self.getEl('body');\\n\\t\\t\\t\\tif (bodyElm) {\\n\\t\\t\\t\\t\\tbodyStyle = bodyStyle || bodyElm.style;\\n\\t\\t\\t\\t\\tbodyStyle.height = (value >= 0 ? value : 0) + 'px';\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tlastRepaintRect.innerH = rect.innerH;\\n\\t\\t\\t}\\n\\n\\t\\t\\tself._lastRepaintRect = lastRepaintRect;\\n\\t\\t\\tself.fire('repaint', {}, false);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Updates the controls layout rect by re-measuing it.\\n\\t\\t */\\n\\t\\tupdateLayoutRect: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tself.parent()._lastRect = null;\\n\\n\\t\\t\\tDomUtils.css(self.getEl(), {width: '', height: ''});\\n\\n\\t\\t\\tself._layoutRect = self._lastRepaintRect = self._lastLayoutRect = null;\\n\\t\\t\\tself.initLayoutRect();\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Binds a callback to the specified event. This event can both be\\n\\t\\t * native browser events like \\\"click\\\" or custom ones like PostRender.\\n\\t\\t *\\n\\t\\t * The callback function will be passed a DOM event like object that enables yout do stop propagation.\\n\\t\\t *\\n\\t\\t * @method on\\n\\t\\t * @param {String} name Name of the event to bind. For example \\\"click\\\".\\n\\t\\t * @param {String/function} callback Callback function to execute ones the event occurs.\\n\\t\\t * @return {tinymce.ui.Control} Current control object.\\n\\t\\t */\\n\\t\\ton: function(name, callback) {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tfunction resolveCallbackName(name) {\\n\\t\\t\\t\\tvar callback, scope;\\n\\n\\t\\t\\t\\tif (typeof name != 'string') {\\n\\t\\t\\t\\t\\treturn name;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn function(e) {\\n\\t\\t\\t\\t\\tif (!callback) {\\n\\t\\t\\t\\t\\t\\tself.parentsAndSelf().each(function(ctrl) {\\n\\t\\t\\t\\t\\t\\t\\tvar callbacks = ctrl.settings.callbacks;\\n\\n\\t\\t\\t\\t\\t\\t\\tif (callbacks && (callback = callbacks[name])) {\\n\\t\\t\\t\\t\\t\\t\\t\\tscope = ctrl;\\n\\t\\t\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (!callback) {\\n\\t\\t\\t\\t\\t\\te.action = name;\\n\\t\\t\\t\\t\\t\\tthis.fire('execute', e);\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\treturn callback.call(scope, e);\\n\\t\\t\\t\\t};\\n\\t\\t\\t}\\n\\n\\t\\t\\tgetEventDispatcher(self).on(name, resolveCallbackName(callback));\\n\\n\\t\\t\\treturn self;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Unbinds the specified event and optionally a specific callback. If you omit the name\\n\\t\\t * parameter all event handlers will be removed. If you omit the callback all event handles\\n\\t\\t * by the specified name will be removed.\\n\\t\\t *\\n\\t\\t * @method off\\n\\t\\t * @param {String} [name] Name for the event to unbind.\\n\\t\\t * @param {function} [callback] Callback function to unbind.\\n\\t\\t * @return {tinymce.ui.Control} Current control object.\\n\\t\\t */\\n\\t\\toff: function(name, callback) {\\n\\t\\t\\tgetEventDispatcher(this).off(name, callback);\\n\\t\\t\\treturn this;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Fires the specified event by name and arguments on the control. This will execute all\\n\\t\\t * bound event handlers.\\n\\t\\t *\\n\\t\\t * @method fire\\n\\t\\t * @param {String} name Name of the event to fire.\\n\\t\\t * @param {Object} [args] Arguments to pass to the event.\\n\\t\\t * @param {Boolean} [bubble] Value to control bubbling. Defaults to true.\\n\\t\\t * @return {Object} Current arguments object.\\n\\t\\t */\\n\\t\\tfire: function(name, args, bubble) {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\targs = args || {};\\n\\n\\t\\t\\tif (!args.control) {\\n\\t\\t\\t\\targs.control = self;\\n\\t\\t\\t}\\n\\n\\t\\t\\targs = getEventDispatcher(self).fire(name, args);\\n\\n\\t\\t\\t// Bubble event up to parents\\n\\t\\t\\tif (bubble !== false && self.parent) {\\n\\t\\t\\t\\tvar parent = self.parent();\\n\\t\\t\\t\\twhile (parent && !args.isPropagationStopped()) {\\n\\t\\t\\t\\t\\tparent.fire(name, args, false);\\n\\t\\t\\t\\t\\tparent = parent.parent();\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn args;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns true/false if the specified event has any listeners.\\n\\t\\t *\\n\\t\\t * @method hasEventListeners\\n\\t\\t * @param {String} name Name of the event to check for.\\n\\t\\t * @return {Boolean} True/false state if the event has listeners.\\n\\t\\t */\\n\\t\\thasEventListeners: function(name) {\\n\\t\\t\\treturn getEventDispatcher(this).has(name);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns a control collection with all parent controls.\\n\\t\\t *\\n\\t\\t * @method parents\\n\\t\\t * @param {String} selector Optional selector expression to find parents.\\n\\t\\t * @return {tinymce.ui.Collection} Collection with all parent controls.\\n\\t\\t */\\n\\t\\tparents: function(selector) {\\n\\t\\t\\tvar self = this, ctrl, parents = new Collection();\\n\\n\\t\\t\\t// Add each parent to collection\\n\\t\\t\\tfor (ctrl = self.parent(); ctrl; ctrl = ctrl.parent()) {\\n\\t\\t\\t\\tparents.add(ctrl);\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Filter away everything that doesn't match the selector\\n\\t\\t\\tif (selector) {\\n\\t\\t\\t\\tparents = parents.filter(selector);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn parents;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns the current control and it's parents.\\n\\t\\t *\\n\\t\\t * @method parentsAndSelf\\n\\t\\t * @param {String} selector Optional selector expression to find parents.\\n\\t\\t * @return {tinymce.ui.Collection} Collection with all parent controls.\\n\\t\\t */\\n\\t\\tparentsAndSelf: function(selector) {\\n\\t\\t\\treturn new Collection(this).add(this.parents(selector));\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns the control next to the current control.\\n\\t\\t *\\n\\t\\t * @method next\\n\\t\\t * @return {tinymce.ui.Control} Next control instance.\\n\\t\\t */\\n\\t\\tnext: function() {\\n\\t\\t\\tvar parentControls = this.parent().items();\\n\\n\\t\\t\\treturn parentControls[parentControls.indexOf(this) + 1];\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns the control previous to the current control.\\n\\t\\t *\\n\\t\\t * @method prev\\n\\t\\t * @return {tinymce.ui.Control} Previous control instance.\\n\\t\\t */\\n\\t\\tprev: function() {\\n\\t\\t\\tvar parentControls = this.parent().items();\\n\\n\\t\\t\\treturn parentControls[parentControls.indexOf(this) - 1];\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Sets the inner HTML of the control element.\\n\\t\\t *\\n\\t\\t * @method innerHtml\\n\\t\\t * @param {String} html Html string to set as inner html.\\n\\t\\t * @return {tinymce.ui.Control} Current control object.\\n\\t\\t */\\n\\t\\tinnerHtml: function(html) {\\n\\t\\t\\tthis.$el.html(html);\\n\\t\\t\\treturn this;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns the control DOM element or sub element.\\n\\t\\t *\\n\\t\\t * @method getEl\\n\\t\\t * @param {String} [suffix] Suffix to get element by.\\n\\t\\t * @return {Element} HTML DOM element for the current control or it's children.\\n\\t\\t */\\n\\t\\tgetEl: function(suffix) {\\n\\t\\t\\tvar id = suffix ? this._id + '-' + suffix : this._id;\\n\\n\\t\\t\\tif (!this._elmCache[id]) {\\n\\t\\t\\t\\tthis._elmCache[id] = $('#' + id)[0];\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn this._elmCache[id];\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Sets the visible state to true.\\n\\t\\t *\\n\\t\\t * @method show\\n\\t\\t * @return {tinymce.ui.Control} Current control instance.\\n\\t\\t */\\n\\t\\tshow: function() {\\n\\t\\t\\treturn this.visible(true);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Sets the visible state to false.\\n\\t\\t *\\n\\t\\t * @method hide\\n\\t\\t * @return {tinymce.ui.Control} Current control instance.\\n\\t\\t */\\n\\t\\thide: function() {\\n\\t\\t\\treturn this.visible(false);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Focuses the current control.\\n\\t\\t *\\n\\t\\t * @method focus\\n\\t\\t * @return {tinymce.ui.Control} Current control instance.\\n\\t\\t */\\n\\t\\tfocus: function() {\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tthis.getEl().focus();\\n\\t\\t\\t} catch (ex) {\\n\\t\\t\\t\\t// Ignore IE error\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn this;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Blurs the current control.\\n\\t\\t *\\n\\t\\t * @method blur\\n\\t\\t * @return {tinymce.ui.Control} Current control instance.\\n\\t\\t */\\n\\t\\tblur: function() {\\n\\t\\t\\tthis.getEl().blur();\\n\\n\\t\\t\\treturn this;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Sets the specified aria property.\\n\\t\\t *\\n\\t\\t * @method aria\\n\\t\\t * @param {String} name Name of the aria property to set.\\n\\t\\t * @param {String} value Value of the aria property.\\n\\t\\t * @return {tinymce.ui.Control} Current control instance.\\n\\t\\t */\\n\\t\\taria: function(name, value) {\\n\\t\\t\\tvar self = this, elm = self.getEl(self.ariaTarget);\\n\\n\\t\\t\\tif (typeof value === \\\"undefined\\\") {\\n\\t\\t\\t\\treturn self._aria[name];\\n\\t\\t\\t}\\n\\n\\t\\t\\tself._aria[name] = value;\\n\\n\\t\\t\\tif (self.state.get('rendered')) {\\n\\t\\t\\t\\telm.setAttribute(name == 'role' ? name : 'aria-' + name, value);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn self;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Encodes the specified string with HTML entities. It will also\\n\\t\\t * translate the string to different languages.\\n\\t\\t *\\n\\t\\t * @method encode\\n\\t\\t * @param {String/Object/Array} text Text to entity encode.\\n\\t\\t * @param {Boolean} [translate=true] False if the contents shouldn't be translated.\\n\\t\\t * @return {String} Encoded and possible traslated string.\\n\\t\\t */\\n\\t\\tencode: function(text, translate) {\\n\\t\\t\\tif (translate !== false) {\\n\\t\\t\\t\\ttext = this.translate(text);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn (text || '').replace(/[&<>\\\"]/g, function(match) {\\n\\t\\t\\t\\treturn '&#' + match.charCodeAt(0) + ';';\\n\\t\\t\\t});\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns the translated string.\\n\\t\\t *\\n\\t\\t * @method translate\\n\\t\\t * @param {String} text Text to translate.\\n\\t\\t * @return {String} Translated string or the same as the input.\\n\\t\\t */\\n\\t\\ttranslate: function(text) {\\n\\t\\t\\treturn Control.translate ? Control.translate(text) : text;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Adds items before the current control.\\n\\t\\t *\\n\\t\\t * @method before\\n\\t\\t * @param {Array/tinymce.ui.Collection} items Array of items to prepend before this control.\\n\\t\\t * @return {tinymce.ui.Control} Current control instance.\\n\\t\\t */\\n\\t\\tbefore: function(items) {\\n\\t\\t\\tvar self = this, parent = self.parent();\\n\\n\\t\\t\\tif (parent) {\\n\\t\\t\\t\\tparent.insert(items, parent.items().indexOf(self), true);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn self;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Adds items after the current control.\\n\\t\\t *\\n\\t\\t * @method after\\n\\t\\t * @param {Array/tinymce.ui.Collection} items Array of items to append after this control.\\n\\t\\t * @return {tinymce.ui.Control} Current control instance.\\n\\t\\t */\\n\\t\\tafter: function(items) {\\n\\t\\t\\tvar self = this, parent = self.parent();\\n\\n\\t\\t\\tif (parent) {\\n\\t\\t\\t\\tparent.insert(items, parent.items().indexOf(self));\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn self;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Removes the current control from DOM and from UI collections.\\n\\t\\t *\\n\\t\\t * @method remove\\n\\t\\t * @return {tinymce.ui.Control} Current control instance.\\n\\t\\t */\\n\\t\\tremove: function() {\\n\\t\\t\\tvar self = this, elm = self.getEl(), parent = self.parent(), newItems, i;\\n\\n\\t\\t\\tif (self.items) {\\n\\t\\t\\t\\tvar controls = self.items().toArray();\\n\\t\\t\\t\\ti = controls.length;\\n\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\tcontrols[i].remove();\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (parent && parent.items) {\\n\\t\\t\\t\\tnewItems = [];\\n\\n\\t\\t\\t\\tparent.items().each(function(item) {\\n\\t\\t\\t\\t\\tif (item !== self) {\\n\\t\\t\\t\\t\\t\\tnewItems.push(item);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\tparent.items().set(newItems);\\n\\t\\t\\t\\tparent._lastRect = null;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (self._eventsRoot && self._eventsRoot == self) {\\n\\t\\t\\t\\t$(elm).off();\\n\\t\\t\\t}\\n\\n\\t\\t\\tvar lookup = self.getRoot().controlIdLookup;\\n\\t\\t\\tif (lookup) {\\n\\t\\t\\t\\tdelete lookup[self._id];\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (elm && elm.parentNode) {\\n\\t\\t\\t\\telm.parentNode.removeChild(elm);\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.state.set('rendered', false);\\n\\t\\t\\tself.state.destroy();\\n\\n\\t\\t\\tself.fire('remove');\\n\\n\\t\\t\\treturn self;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Renders the control before the specified element.\\n\\t\\t *\\n\\t\\t * @method renderBefore\\n\\t\\t * @param {Element} elm Element to render before.\\n\\t\\t * @return {tinymce.ui.Control} Current control instance.\\n\\t\\t */\\n\\t\\trenderBefore: function(elm) {\\n\\t\\t\\t$(elm).before(this.renderHtml());\\n\\t\\t\\tthis.postRender();\\n\\t\\t\\treturn this;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Renders the control to the specified element.\\n\\t\\t *\\n\\t\\t * @method renderBefore\\n\\t\\t * @param {Element} elm Element to render to.\\n\\t\\t * @return {tinymce.ui.Control} Current control instance.\\n\\t\\t */\\n\\t\\trenderTo: function(elm) {\\n\\t\\t\\t$(elm || this.getContainerElm()).append(this.renderHtml());\\n\\t\\t\\tthis.postRender();\\n\\t\\t\\treturn this;\\n\\t\\t},\\n\\n\\t\\tpreRender: function() {\\n\\t\\t},\\n\\n\\t\\trender: function() {\\n\\t\\t},\\n\\n\\t\\trenderHtml: function() {\\n\\t\\t\\treturn '<div id=\\\"' + this._id + '\\\" class=\\\"' + this.classes + '\\\"></div>';\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Post render method. Called after the control has been rendered to the target.\\n\\t\\t *\\n\\t\\t * @method postRender\\n\\t\\t * @return {tinymce.ui.Control} Current control instance.\\n\\t\\t */\\n\\t\\tpostRender: function() {\\n\\t\\t\\tvar self = this, settings = self.settings, elm, box, parent, name, parentEventsRoot;\\n\\n\\t\\t\\tself.$el = $(self.getEl());\\n\\t\\t\\tself.state.set('rendered', true);\\n\\n\\t\\t\\t// Bind on<event> settings\\n\\t\\t\\tfor (name in settings) {\\n\\t\\t\\t\\tif (name.indexOf(\\\"on\\\") === 0) {\\n\\t\\t\\t\\t\\tself.on(name.substr(2), settings[name]);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (self._eventsRoot) {\\n\\t\\t\\t\\tfor (parent = self.parent(); !parentEventsRoot && parent; parent = parent.parent()) {\\n\\t\\t\\t\\t\\tparentEventsRoot = parent._eventsRoot;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (parentEventsRoot) {\\n\\t\\t\\t\\t\\tfor (name in parentEventsRoot._nativeEvents) {\\n\\t\\t\\t\\t\\t\\tself._nativeEvents[name] = true;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tbindPendingEvents(self);\\n\\n\\t\\t\\tif (settings.style) {\\n\\t\\t\\t\\telm = self.getEl();\\n\\t\\t\\t\\tif (elm) {\\n\\t\\t\\t\\t\\telm.setAttribute('style', settings.style);\\n\\t\\t\\t\\t\\telm.style.cssText = settings.style;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (self.settings.border) {\\n\\t\\t\\t\\tbox = self.borderBox;\\n\\t\\t\\t\\tself.$el.css({\\n\\t\\t\\t\\t\\t'border-top-width': box.top,\\n\\t\\t\\t\\t\\t'border-right-width': box.right,\\n\\t\\t\\t\\t\\t'border-bottom-width': box.bottom,\\n\\t\\t\\t\\t\\t'border-left-width': box.left\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Add instance to lookup\\n\\t\\t\\tvar root = self.getRoot();\\n\\t\\t\\tif (!root.controlIdLookup) {\\n\\t\\t\\t\\troot.controlIdLookup = {};\\n\\t\\t\\t}\\n\\n\\t\\t\\troot.controlIdLookup[self._id] = self;\\n\\n\\t\\t\\tfor (var key in self._aria) {\\n\\t\\t\\t\\tself.aria(key, self._aria[key]);\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (self.state.get('visible') === false) {\\n\\t\\t\\t\\tself.getEl().style.display = 'none';\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.bindStates();\\n\\n\\t\\t\\tself.state.on('change:visible', function(e) {\\n\\t\\t\\t\\tvar state = e.value, parentCtrl;\\n\\n\\t\\t\\t\\tif (self.state.get('rendered')) {\\n\\t\\t\\t\\t\\tself.getEl().style.display = state === false ? 'none' : '';\\n\\n\\t\\t\\t\\t\\t// Need to force a reflow here on IE 8\\n\\t\\t\\t\\t\\tself.getEl().getBoundingClientRect();\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Parent container needs to reflow\\n\\t\\t\\t\\tparentCtrl = self.parent();\\n\\t\\t\\t\\tif (parentCtrl) {\\n\\t\\t\\t\\t\\tparentCtrl._lastRect = null;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tself.fire(state ? 'show' : 'hide');\\n\\n\\t\\t\\t\\tReflowQueue.add(self);\\n\\t\\t\\t});\\n\\n\\t\\t\\tself.fire('postrender', {}, false);\\n\\t\\t},\\n\\n\\t\\tbindStates: function() {\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Scrolls the current control into view.\\n\\t\\t *\\n\\t\\t * @method scrollIntoView\\n\\t\\t * @param {String} align Alignment in view top|center|bottom.\\n\\t\\t * @return {tinymce.ui.Control} Current control instance.\\n\\t\\t */\\n\\t\\tscrollIntoView: function(align) {\\n\\t\\t\\tfunction getOffset(elm, rootElm) {\\n\\t\\t\\t\\tvar x, y, parent = elm;\\n\\n\\t\\t\\t\\tx = y = 0;\\n\\t\\t\\t\\twhile (parent && parent != rootElm && parent.nodeType) {\\n\\t\\t\\t\\t\\tx += parent.offsetLeft || 0;\\n\\t\\t\\t\\t\\ty += parent.offsetTop || 0;\\n\\t\\t\\t\\t\\tparent = parent.offsetParent;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn {x: x, y: y};\\n\\t\\t\\t}\\n\\n\\t\\t\\tvar elm = this.getEl(), parentElm = elm.parentNode;\\n\\t\\t\\tvar x, y, width, height, parentWidth, parentHeight;\\n\\t\\t\\tvar pos = getOffset(elm, parentElm);\\n\\n\\t\\t\\tx = pos.x;\\n\\t\\t\\ty = pos.y;\\n\\t\\t\\twidth = elm.offsetWidth;\\n\\t\\t\\theight = elm.offsetHeight;\\n\\t\\t\\tparentWidth = parentElm.clientWidth;\\n\\t\\t\\tparentHeight = parentElm.clientHeight;\\n\\n\\t\\t\\tif (align == \\\"end\\\") {\\n\\t\\t\\t\\tx -= parentWidth - width;\\n\\t\\t\\t\\ty -= parentHeight - height;\\n\\t\\t\\t} else if (align == \\\"center\\\") {\\n\\t\\t\\t\\tx -= (parentWidth / 2) - (width / 2);\\n\\t\\t\\t\\ty -= (parentHeight / 2) - (height / 2);\\n\\t\\t\\t}\\n\\n\\t\\t\\tparentElm.scrollLeft = x;\\n\\t\\t\\tparentElm.scrollTop = y;\\n\\n\\t\\t\\treturn this;\\n\\t\\t},\\n\\n\\t\\tgetRoot: function() {\\n\\t\\t\\tvar ctrl = this, rootControl, parents = [];\\n\\n\\t\\t\\twhile (ctrl) {\\n\\t\\t\\t\\tif (ctrl.rootControl) {\\n\\t\\t\\t\\t\\trootControl = ctrl.rootControl;\\n\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tparents.push(ctrl);\\n\\t\\t\\t\\trootControl = ctrl;\\n\\t\\t\\t\\tctrl = ctrl.parent();\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!rootControl) {\\n\\t\\t\\t\\trootControl = this;\\n\\t\\t\\t}\\n\\n\\t\\t\\tvar i = parents.length;\\n\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\tparents[i].rootControl = rootControl;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn rootControl;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Reflows the current control and it's parents.\\n\\t\\t * This should be used after you for example append children to the current control so\\n\\t\\t * that the layout managers know that they need to reposition everything.\\n\\t\\t *\\n\\t\\t * @example\\n\\t\\t * container.append({type: 'button', text: 'My button'}).reflow();\\n\\t\\t *\\n\\t\\t * @method reflow\\n\\t\\t * @return {tinymce.ui.Control} Current control instance.\\n\\t\\t */\\n\\t\\treflow: function() {\\n\\t\\t\\tReflowQueue.remove(this);\\n\\n\\t\\t\\tvar parent = this.parent();\\n\\t\\t\\tif (parent._layout && !parent._layout.isNative()) {\\n\\t\\t\\t\\tparent.reflow();\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn this;\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Sets/gets the parent container for the control.\\n\\t\\t *\\n\\t\\t * @method parent\\n\\t\\t * @param {tinymce.ui.Container} parent Optional parent to set.\\n\\t\\t * @return {tinymce.ui.Control} Parent control or the current control on a set action.\\n\\t\\t */\\n\\t\\t// parent: function(parent) {} -- Generated\\n\\n\\t\\t/**\\n\\t\\t * Sets/gets the text for the control.\\n\\t\\t *\\n\\t\\t * @method text\\n\\t\\t * @param {String} value Value to set to control.\\n\\t\\t * @return {String/tinymce.ui.Control} Current control on a set operation or current value on a get.\\n\\t\\t */\\n\\t\\t// text: function(value) {} -- Generated\\n\\n\\t\\t/**\\n\\t\\t * Sets/gets the disabled state on the control.\\n\\t\\t *\\n\\t\\t * @method disabled\\n\\t\\t * @param {Boolean} state Value to set to control.\\n\\t\\t * @return {Boolean/tinymce.ui.Control} Current control on a set operation or current state on a get.\\n\\t\\t */\\n\\t\\t// disabled: function(state) {} -- Generated\\n\\n\\t\\t/**\\n\\t\\t * Sets/gets the active for the control.\\n\\t\\t *\\n\\t\\t * @method active\\n\\t\\t * @param {Boolean} state Value to set to control.\\n\\t\\t * @return {Boolean/tinymce.ui.Control} Current control on a set operation or current state on a get.\\n\\t\\t */\\n\\t\\t// active: function(state) {} -- Generated\\n\\n\\t\\t/**\\n\\t\\t * Sets/gets the name for the control.\\n\\t\\t *\\n\\t\\t * @method name\\n\\t\\t * @param {String} value Value to set to control.\\n\\t\\t * @return {String/tinymce.ui.Control} Current control on a set operation or current value on a get.\\n\\t\\t */\\n\\t\\t// name: function(value) {} -- Generated\\n\\n\\t\\t/**\\n\\t\\t * Sets/gets the title for the control.\\n\\t\\t *\\n\\t\\t * @method title\\n\\t\\t * @param {String} value Value to set to control.\\n\\t\\t * @return {String/tinymce.ui.Control} Current control on a set operation or current value on a get.\\n\\t\\t */\\n\\t\\t// title: function(value) {} -- Generated\\n\\n\\t\\t/**\\n\\t\\t * Sets/gets the visible for the control.\\n\\t\\t *\\n\\t\\t * @method visible\\n\\t\\t * @param {Boolean} state Value to set to control.\\n\\t\\t * @return {Boolean/tinymce.ui.Control} Current control on a set operation or current state on a get.\\n\\t\\t */\\n\\t\\t// visible: function(value) {} -- Generated\\n\\t};\\n\\n\\t/**\\n\\t * Setup state properties.\\n\\t */\\n\\tTools.each('text title visible disabled active value'.split(' '), function(name) {\\n\\t\\tproto[name] = function(value) {\\n\\t\\t\\tif (arguments.length === 0) {\\n\\t\\t\\t\\treturn this.state.get(name);\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (typeof value != \\\"undefined\\\") {\\n\\t\\t\\t\\tthis.state.set(name, value);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn this;\\n\\t\\t};\\n\\t});\\n\\n\\tControl = Class.extend(proto);\\n\\n\\tfunction getEventDispatcher(obj) {\\n\\t\\tif (!obj._eventDispatcher) {\\n\\t\\t\\tobj._eventDispatcher = new EventDispatcher({\\n\\t\\t\\t\\tscope: obj,\\n\\t\\t\\t\\ttoggleEvent: function(name, state) {\\n\\t\\t\\t\\t\\tif (state && EventDispatcher.isNative(name)) {\\n\\t\\t\\t\\t\\t\\tif (!obj._nativeEvents) {\\n\\t\\t\\t\\t\\t\\t\\tobj._nativeEvents = {};\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tobj._nativeEvents[name] = true;\\n\\n\\t\\t\\t\\t\\t\\tif (obj.state.get('rendered')) {\\n\\t\\t\\t\\t\\t\\t\\tbindPendingEvents(obj);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\treturn obj._eventDispatcher;\\n\\t}\\n\\n\\tfunction bindPendingEvents(eventCtrl) {\\n\\t\\tvar i, l, parents, eventRootCtrl, nativeEvents, name;\\n\\n\\t\\tfunction delegate(e) {\\n\\t\\t\\tvar control = eventCtrl.getParentCtrl(e.target);\\n\\n\\t\\t\\tif (control) {\\n\\t\\t\\t\\tcontrol.fire(e.type, e);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction mouseLeaveHandler() {\\n\\t\\t\\tvar ctrl = eventRootCtrl._lastHoverCtrl;\\n\\n\\t\\t\\tif (ctrl) {\\n\\t\\t\\t\\tctrl.fire(\\\"mouseleave\\\", {target: ctrl.getEl()});\\n\\n\\t\\t\\t\\tctrl.parents().each(function(ctrl) {\\n\\t\\t\\t\\t\\tctrl.fire(\\\"mouseleave\\\", {target: ctrl.getEl()});\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\teventRootCtrl._lastHoverCtrl = null;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction mouseEnterHandler(e) {\\n\\t\\t\\tvar ctrl = eventCtrl.getParentCtrl(e.target), lastCtrl = eventRootCtrl._lastHoverCtrl, idx = 0, i, parents, lastParents;\\n\\n\\t\\t\\t// Over on a new control\\n\\t\\t\\tif (ctrl !== lastCtrl) {\\n\\t\\t\\t\\teventRootCtrl._lastHoverCtrl = ctrl;\\n\\n\\t\\t\\t\\tparents = ctrl.parents().toArray().reverse();\\n\\t\\t\\t\\tparents.push(ctrl);\\n\\n\\t\\t\\t\\tif (lastCtrl) {\\n\\t\\t\\t\\t\\tlastParents = lastCtrl.parents().toArray().reverse();\\n\\t\\t\\t\\t\\tlastParents.push(lastCtrl);\\n\\n\\t\\t\\t\\t\\tfor (idx = 0; idx < lastParents.length; idx++) {\\n\\t\\t\\t\\t\\t\\tif (parents[idx] !== lastParents[idx]) {\\n\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tfor (i = lastParents.length - 1; i >= idx; i--) {\\n\\t\\t\\t\\t\\t\\tlastCtrl = lastParents[i];\\n\\t\\t\\t\\t\\t\\tlastCtrl.fire(\\\"mouseleave\\\", {\\n\\t\\t\\t\\t\\t\\t\\ttarget: lastCtrl.getEl()\\n\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfor (i = idx; i < parents.length; i++) {\\n\\t\\t\\t\\t\\tctrl = parents[i];\\n\\t\\t\\t\\t\\tctrl.fire(\\\"mouseenter\\\", {\\n\\t\\t\\t\\t\\t\\ttarget: ctrl.getEl()\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction fixWheelEvent(e) {\\n\\t\\t\\te.preventDefault();\\n\\n\\t\\t\\tif (e.type == \\\"mousewheel\\\") {\\n\\t\\t\\t\\te.deltaY = -1 / 40 * e.wheelDelta;\\n\\n\\t\\t\\t\\tif (e.wheelDeltaX) {\\n\\t\\t\\t\\t\\te.deltaX = -1 / 40 * e.wheelDeltaX;\\n\\t\\t\\t\\t}\\n\\t\\t\\t} else {\\n\\t\\t\\t\\te.deltaX = 0;\\n\\t\\t\\t\\te.deltaY = e.detail;\\n\\t\\t\\t}\\n\\n\\t\\t\\te = eventCtrl.fire(\\\"wheel\\\", e);\\n\\t\\t}\\n\\n\\t\\tnativeEvents = eventCtrl._nativeEvents;\\n\\t\\tif (nativeEvents) {\\n\\t\\t\\t// Find event root element if it exists\\n\\t\\t\\tparents = eventCtrl.parents().toArray();\\n\\t\\t\\tparents.unshift(eventCtrl);\\n\\t\\t\\tfor (i = 0, l = parents.length; !eventRootCtrl && i < l; i++) {\\n\\t\\t\\t\\teventRootCtrl = parents[i]._eventsRoot;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Event root wasn't found the use the root control\\n\\t\\t\\tif (!eventRootCtrl) {\\n\\t\\t\\t\\teventRootCtrl = parents[parents.length - 1] || eventCtrl;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Set the eventsRoot property on children that didn't have it\\n\\t\\t\\teventCtrl._eventsRoot = eventRootCtrl;\\n\\t\\t\\tfor (l = i, i = 0; i < l; i++) {\\n\\t\\t\\t\\tparents[i]._eventsRoot = eventRootCtrl;\\n\\t\\t\\t}\\n\\n\\t\\t\\tvar eventRootDelegates = eventRootCtrl._delegates;\\n\\t\\t\\tif (!eventRootDelegates) {\\n\\t\\t\\t\\teventRootDelegates = eventRootCtrl._delegates = {};\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Bind native event delegates\\n\\t\\t\\tfor (name in nativeEvents) {\\n\\t\\t\\t\\tif (!nativeEvents) {\\n\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (name === \\\"wheel\\\" && !hasWheelEventSupport) {\\n\\t\\t\\t\\t\\tif (hasMouseWheelEventSupport) {\\n\\t\\t\\t\\t\\t\\t$(eventCtrl.getEl()).on(\\\"mousewheel\\\", fixWheelEvent);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t$(eventCtrl.getEl()).on(\\\"DOMMouseScroll\\\", fixWheelEvent);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tcontinue;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Special treatment for mousenter/mouseleave since these doesn't bubble\\n\\t\\t\\t\\tif (name === \\\"mouseenter\\\" || name === \\\"mouseleave\\\") {\\n\\t\\t\\t\\t\\t// Fake mousenter/mouseleave\\n\\t\\t\\t\\t\\tif (!eventRootCtrl._hasMouseEnter) {\\n\\t\\t\\t\\t\\t\\t$(eventRootCtrl.getEl()).on(\\\"mouseleave\\\", mouseLeaveHandler).on(\\\"mouseover\\\", mouseEnterHandler);\\n\\t\\t\\t\\t\\t\\teventRootCtrl._hasMouseEnter = 1;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} else if (!eventRootDelegates[name]) {\\n\\t\\t\\t\\t\\t$(eventRootCtrl.getEl()).on(name, delegate);\\n\\t\\t\\t\\t\\teventRootDelegates[name] = true;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Remove the event once it's bound\\n\\t\\t\\t\\tnativeEvents[name] = false;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\treturn Control;\\n});\\n\\n// Included from: js/tinymce/classes/ui/Factory.js\\n\\n/**\\n * Factory.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/*global tinymce:true */\\n\\n/**\\n * This class is a factory for control instances. This enables you\\n * to create instances of controls without having to require the UI controls directly.\\n *\\n * It also allow you to override or add new control types.\\n *\\n * @class tinymce.ui.Factory\\n */\\ndefine(\\\"tinymce/ui/Factory\\\", [], function() {\\n\\t\\\"use strict\\\";\\n\\n\\tvar types = {}, namespaceInit;\\n\\n\\treturn {\\n\\t\\t/**\\n\\t\\t * Adds a new control instance type to the factory.\\n\\t\\t *\\n\\t\\t * @method add\\n\\t\\t * @param {String} type Type name for example \\\"button\\\".\\n\\t\\t * @param {function} typeClass Class type function.\\n\\t\\t */\\n\\t\\tadd: function(type, typeClass) {\\n\\t\\t\\ttypes[type.toLowerCase()] = typeClass;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns true/false if the specified type exists or not.\\n\\t\\t *\\n\\t\\t * @method has\\n\\t\\t * @param {String} type Type to look for.\\n\\t\\t * @return {Boolean} true/false if the control by name exists.\\n\\t\\t */\\n\\t\\thas: function(type) {\\n\\t\\t\\treturn !!types[type.toLowerCase()];\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Creates a new control instance based on the settings provided. The instance created will be\\n\\t\\t * based on the specified type property it can also create whole structures of components out of\\n\\t\\t * the specified JSON object.\\n\\t\\t *\\n\\t\\t * @example\\n\\t\\t * tinymce.ui.Factory.create({\\n\\t\\t *     type: 'button',\\n\\t\\t *     text: 'Hello world!'\\n\\t\\t * });\\n\\t\\t *\\n\\t\\t * @method create\\n\\t\\t * @param {Object/String} settings Name/Value object with items used to create the type.\\n\\t\\t * @return {tinymce.ui.Control} Control instance based on the specified type.\\n\\t\\t */\\n\\t\\tcreate: function(type, settings) {\\n\\t\\t\\tvar ControlType, name, namespace;\\n\\n\\t\\t\\t// Build type lookup\\n\\t\\t\\tif (!namespaceInit) {\\n\\t\\t\\t\\tnamespace = tinymce.ui;\\n\\n\\t\\t\\t\\tfor (name in namespace) {\\n\\t\\t\\t\\t\\ttypes[name.toLowerCase()] = namespace[name];\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tnamespaceInit = true;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// If string is specified then use it as the type\\n\\t\\t\\tif (typeof type == 'string') {\\n\\t\\t\\t\\tsettings = settings || {};\\n\\t\\t\\t\\tsettings.type = type;\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tsettings = type;\\n\\t\\t\\t\\ttype = settings.type;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Find control type\\n\\t\\t\\ttype = type.toLowerCase();\\n\\t\\t\\tControlType = types[type];\\n\\n\\t\\t\\t// #if debug\\n\\n\\t\\t\\tif (!ControlType) {\\n\\t\\t\\t\\tthrow new Error(\\\"Could not find control by type: \\\" + type);\\n\\t\\t\\t}\\n\\n\\t\\t\\t// #endif\\n\\n\\t\\t\\tControlType = new ControlType(settings);\\n\\t\\t\\tControlType.type = type; // Set the type on the instance, this will be used by the Selector engine\\n\\n\\t\\t\\treturn ControlType;\\n\\t\\t}\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/ui/KeyboardNavigation.js\\n\\n/**\\n * KeyboardNavigation.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class handles keyboard navigation of controls and elements.\\n *\\n * @class tinymce.ui.KeyboardNavigation\\n */\\ndefine(\\\"tinymce/ui/KeyboardNavigation\\\", [\\n], function() {\\n\\t\\\"use strict\\\";\\n\\n\\t/**\\n\\t * This class handles all keyboard navigation for WAI-ARIA support. Each root container\\n\\t * gets an instance of this class.\\n\\t *\\n\\t * @constructor\\n\\t */\\n\\treturn function(settings) {\\n\\t\\tvar root = settings.root, focusedElement, focusedControl;\\n\\n\\t\\tfunction isElement(node) {\\n\\t\\t\\treturn node && node.nodeType === 1;\\n\\t\\t}\\n\\n\\t\\ttry {\\n\\t\\t\\tfocusedElement = document.activeElement;\\n\\t\\t} catch (ex) {\\n\\t\\t\\t// IE sometimes fails to return a proper element\\n\\t\\t\\tfocusedElement = document.body;\\n\\t\\t}\\n\\n\\t\\tfocusedControl = root.getParentCtrl(focusedElement);\\n\\n\\t\\t/**\\n\\t\\t * Returns the currently focused elements wai aria role of the currently\\n\\t\\t * focused element or specified element.\\n\\t\\t *\\n\\t\\t * @private\\n\\t\\t * @param {Element} elm Optional element to get role from.\\n\\t\\t * @return {String} Role of specified element.\\n\\t\\t */\\n\\t\\tfunction getRole(elm) {\\n\\t\\t\\telm = elm || focusedElement;\\n\\n\\t\\t\\tif (isElement(elm)) {\\n\\t\\t\\t\\treturn elm.getAttribute('role');\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn null;\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Returns the wai role of the parent element of the currently\\n\\t\\t * focused element or specified element.\\n\\t\\t *\\n\\t\\t * @private\\n\\t\\t * @param {Element} elm Optional element to get parent role from.\\n\\t\\t * @return {String} Role of the first parent that has a role.\\n\\t\\t */\\n\\t\\tfunction getParentRole(elm) {\\n\\t\\t\\tvar role, parent = elm || focusedElement;\\n\\n\\t\\t\\twhile ((parent = parent.parentNode)) {\\n\\t\\t\\t\\tif ((role = getRole(parent))) {\\n\\t\\t\\t\\t\\treturn role;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Returns a wai aria property by name for example aria-selected.\\n\\t\\t *\\n\\t\\t * @private\\n\\t\\t * @param {String} name Name of the aria property to get for example \\\"disabled\\\".\\n\\t\\t * @return {String} Aria property value.\\n\\t\\t */\\n\\t\\tfunction getAriaProp(name) {\\n\\t\\t\\tvar elm = focusedElement;\\n\\n\\t\\t\\tif (isElement(elm)) {\\n\\t\\t\\t\\treturn elm.getAttribute('aria-' + name);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Is the element a text input element or not.\\n\\t\\t *\\n\\t\\t * @private\\n\\t\\t * @param {Element} elm Element to check if it's an text input element or not.\\n\\t\\t * @return {Boolean} True/false if the element is a text element or not.\\n\\t\\t */\\n\\t\\tfunction isTextInputElement(elm) {\\n\\t\\t\\tvar tagName = elm.tagName.toUpperCase();\\n\\n\\t\\t\\t// Notice: since type can be \\\"email\\\" etc we don't check the type\\n\\t\\t\\t// So all input elements gets treated as text input elements\\n\\t\\t\\treturn tagName == \\\"INPUT\\\" || tagName == \\\"TEXTAREA\\\" || tagName == \\\"SELECT\\\";\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Returns true/false if the specified element can be focused or not.\\n\\t\\t *\\n\\t\\t * @private\\n\\t\\t * @param {Element} elm DOM element to check if it can be focused or not.\\n\\t\\t * @return {Boolean} True/false if the element can have focus.\\n\\t\\t */\\n\\t\\tfunction canFocus(elm) {\\n\\t\\t\\tif (isTextInputElement(elm) && !elm.hidden) {\\n\\t\\t\\t\\treturn true;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(getRole(elm))) {\\n\\t\\t\\t\\treturn true;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn false;\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Returns an array of focusable visible elements within the specified container element.\\n\\t\\t *\\n\\t\\t * @private\\n\\t\\t * @param {Element} elm DOM element to find focusable elements within.\\n\\t\\t * @return {Array} Array of focusable elements.\\n\\t\\t */\\n\\t\\tfunction getFocusElements(elm) {\\n\\t\\t\\tvar elements = [];\\n\\n\\t\\t\\tfunction collect(elm) {\\n\\t\\t\\t\\tif (elm.nodeType != 1 || elm.style.display == 'none' || elm.disabled) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (canFocus(elm)) {\\n\\t\\t\\t\\t\\telements.push(elm);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfor (var i = 0; i < elm.childNodes.length; i++) {\\n\\t\\t\\t\\t\\tcollect(elm.childNodes[i]);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tcollect(elm || root.getEl());\\n\\n\\t\\t\\treturn elements;\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Returns the navigation root control for the specified control. The navigation root\\n\\t\\t * is the control that the keyboard navigation gets scoped to for example a menubar or toolbar group.\\n\\t\\t * It will look for parents of the specified target control or the currently focused control if this option is omitted.\\n\\t\\t *\\n\\t\\t * @private\\n\\t\\t * @param {tinymce.ui.Control} targetControl Optional target control to find root of.\\n\\t\\t * @return {tinymce.ui.Control} Navigation root control.\\n\\t\\t */\\n\\t\\tfunction getNavigationRoot(targetControl) {\\n\\t\\t\\tvar navigationRoot, controls;\\n\\n\\t\\t\\ttargetControl = targetControl || focusedControl;\\n\\t\\t\\tcontrols = targetControl.parents().toArray();\\n\\t\\t\\tcontrols.unshift(targetControl);\\n\\n\\t\\t\\tfor (var i = 0; i < controls.length; i++) {\\n\\t\\t\\t\\tnavigationRoot = controls[i];\\n\\n\\t\\t\\t\\tif (navigationRoot.settings.ariaRoot) {\\n\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn navigationRoot;\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Focuses the first item in the specified targetControl element or the last aria index if the\\n\\t\\t * navigation root has the ariaRemember option enabled.\\n\\t\\t *\\n\\t\\t * @private\\n\\t\\t * @param {tinymce.ui.Control} targetControl Target control to focus the first item in.\\n\\t\\t */\\n\\t\\tfunction focusFirst(targetControl) {\\n\\t\\t\\tvar navigationRoot = getNavigationRoot(targetControl);\\n\\t\\t\\tvar focusElements = getFocusElements(navigationRoot.getEl());\\n\\n\\t\\t\\tif (navigationRoot.settings.ariaRemember && \\\"lastAriaIndex\\\" in navigationRoot) {\\n\\t\\t\\t\\tmoveFocusToIndex(navigationRoot.lastAriaIndex, focusElements);\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tmoveFocusToIndex(0, focusElements);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Moves the focus to the specified index within the elements list.\\n\\t\\t * This will scope the index to the size of the element list if it changed.\\n\\t\\t *\\n\\t\\t * @private\\n\\t\\t * @param {Number} idx Specified index to move to.\\n\\t\\t * @param {Array} elements Array with dom elements to move focus within.\\n\\t\\t * @return {Number} Input index or a changed index if it was out of range.\\n\\t\\t */\\n\\t\\tfunction moveFocusToIndex(idx, elements) {\\n\\t\\t\\tif (idx < 0) {\\n\\t\\t\\t\\tidx = elements.length - 1;\\n\\t\\t\\t} else if (idx >= elements.length) {\\n\\t\\t\\t\\tidx = 0;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (elements[idx]) {\\n\\t\\t\\t\\telements[idx].focus();\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn idx;\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Moves the focus forwards or backwards.\\n\\t\\t *\\n\\t\\t * @private\\n\\t\\t * @param {Number} dir Direction to move in positive means forward, negative means backwards.\\n\\t\\t * @param {Array} elements Optional array of elements to move within defaults to the current navigation roots elements.\\n\\t\\t */\\n\\t\\tfunction moveFocus(dir, elements) {\\n\\t\\t\\tvar idx = -1, navigationRoot = getNavigationRoot();\\n\\n\\t\\t\\telements = elements || getFocusElements(navigationRoot.getEl());\\n\\n\\t\\t\\tfor (var i = 0; i < elements.length; i++) {\\n\\t\\t\\t\\tif (elements[i] === focusedElement) {\\n\\t\\t\\t\\t\\tidx = i;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tidx += dir;\\n\\t\\t\\tnavigationRoot.lastAriaIndex = moveFocusToIndex(idx, elements);\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Moves the focus to the left this is called by the left key.\\n\\t\\t *\\n\\t\\t * @private\\n\\t\\t */\\n\\t\\tfunction left() {\\n\\t\\t\\tvar parentRole = getParentRole();\\n\\n\\t\\t\\tif (parentRole == \\\"tablist\\\") {\\n\\t\\t\\t\\tmoveFocus(-1, getFocusElements(focusedElement.parentNode));\\n\\t\\t\\t} else if (focusedControl.parent().submenu) {\\n\\t\\t\\t\\tcancel();\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tmoveFocus(-1);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Moves the focus to the right this is called by the right key.\\n\\t\\t *\\n\\t\\t * @private\\n\\t\\t */\\n\\t\\tfunction right() {\\n\\t\\t\\tvar role = getRole(), parentRole = getParentRole();\\n\\n\\t\\t\\tif (parentRole == \\\"tablist\\\") {\\n\\t\\t\\t\\tmoveFocus(1, getFocusElements(focusedElement.parentNode));\\n\\t\\t\\t} else if (role == \\\"menuitem\\\" && parentRole == \\\"menu\\\" && getAriaProp('haspopup')) {\\n\\t\\t\\t\\tenter();\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tmoveFocus(1);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Moves the focus to the up this is called by the up key.\\n\\t\\t *\\n\\t\\t * @private\\n\\t\\t */\\n\\t\\tfunction up() {\\n\\t\\t\\tmoveFocus(-1);\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Moves the focus to the up this is called by the down key.\\n\\t\\t *\\n\\t\\t * @private\\n\\t\\t */\\n\\t\\tfunction down() {\\n\\t\\t\\tvar role = getRole(), parentRole = getParentRole();\\n\\n\\t\\t\\tif (role == \\\"menuitem\\\" && parentRole == \\\"menubar\\\") {\\n\\t\\t\\t\\tenter();\\n\\t\\t\\t} else if (role == \\\"button\\\" && getAriaProp('haspopup')) {\\n\\t\\t\\t\\tenter({key: 'down'});\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tmoveFocus(1);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Moves the focus to the next item or previous item depending on shift key.\\n\\t\\t *\\n\\t\\t * @private\\n\\t\\t * @param {DOMEvent} e DOM event object.\\n\\t\\t */\\n\\t\\tfunction tab(e) {\\n\\t\\t\\tvar parentRole = getParentRole();\\n\\n\\t\\t\\tif (parentRole == \\\"tablist\\\") {\\n\\t\\t\\t\\tvar elm = getFocusElements(focusedControl.getEl('body'))[0];\\n\\n\\t\\t\\t\\tif (elm) {\\n\\t\\t\\t\\t\\telm.focus();\\n\\t\\t\\t\\t}\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tmoveFocus(e.shiftKey ? -1 : 1);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Calls the cancel event on the currently focused control. This is normally done using the Esc key.\\n\\t\\t *\\n\\t\\t * @private\\n\\t\\t */\\n\\t\\tfunction cancel() {\\n\\t\\t\\tfocusedControl.fire('cancel');\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Calls the click event on the currently focused control. This is normally done using the Enter/Space keys.\\n\\t\\t *\\n\\t\\t * @private\\n\\t\\t * @param {Object} aria Optional aria data to pass along with the enter event.\\n\\t\\t */\\n\\t\\tfunction enter(aria) {\\n\\t\\t\\taria = aria || {};\\n\\t\\t\\tfocusedControl.fire('click', {target: focusedElement, aria: aria});\\n\\t\\t}\\n\\n\\t\\troot.on('keydown', function(e) {\\n\\t\\t\\tfunction handleNonTabOrEscEvent(e, handler) {\\n\\t\\t\\t\\t// Ignore non tab keys for text elements\\n\\t\\t\\t\\tif (isTextInputElement(focusedElement)) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (getRole(focusedElement) === 'slider') {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (handler(e) !== false) {\\n\\t\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (e.isDefaultPrevented()) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tswitch (e.keyCode) {\\n\\t\\t\\t\\tcase 37: // DOM_VK_LEFT\\n\\t\\t\\t\\t\\thandleNonTabOrEscEvent(e, left);\\n\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\tcase 39: // DOM_VK_RIGHT\\n\\t\\t\\t\\t\\thandleNonTabOrEscEvent(e, right);\\n\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\tcase 38: // DOM_VK_UP\\n\\t\\t\\t\\t\\thandleNonTabOrEscEvent(e, up);\\n\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\tcase 40: // DOM_VK_DOWN\\n\\t\\t\\t\\t\\thandleNonTabOrEscEvent(e, down);\\n\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\tcase 27: // DOM_VK_ESCAPE\\n\\t\\t\\t\\t\\tcancel();\\n\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\tcase 14: // DOM_VK_ENTER\\n\\t\\t\\t\\tcase 13: // DOM_VK_RETURN\\n\\t\\t\\t\\tcase 32: // DOM_VK_SPACE\\n\\t\\t\\t\\t\\thandleNonTabOrEscEvent(e, enter);\\n\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\tcase 9: // DOM_VK_TAB\\n\\t\\t\\t\\t\\tif (tab(e) !== false) {\\n\\t\\t\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\troot.on('focusin', function(e) {\\n\\t\\t\\tfocusedElement = e.target;\\n\\t\\t\\tfocusedControl = e.control;\\n\\t\\t});\\n\\n\\t\\treturn {\\n\\t\\t\\tfocusFirst: focusFirst\\n\\t\\t};\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/ui/Container.js\\n\\n/**\\n * Container.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Container control. This is extended by all controls that can have\\n * children such as panels etc. You can also use this class directly as an\\n * generic container instance. The container doesn't have any specific role or style.\\n *\\n * @-x-less Container.less\\n * @class tinymce.ui.Container\\n * @extends tinymce.ui.Control\\n */\\ndefine(\\\"tinymce/ui/Container\\\", [\\n\\t\\\"tinymce/ui/Control\\\",\\n\\t\\\"tinymce/ui/Collection\\\",\\n\\t\\\"tinymce/ui/Selector\\\",\\n\\t\\\"tinymce/ui/Factory\\\",\\n\\t\\\"tinymce/ui/KeyboardNavigation\\\",\\n\\t\\\"tinymce/util/Tools\\\",\\n\\t\\\"tinymce/dom/DomQuery\\\",\\n\\t\\\"tinymce/ui/ClassList\\\",\\n\\t\\\"tinymce/ui/ReflowQueue\\\"\\n], function(Control, Collection, Selector, Factory, KeyboardNavigation, Tools, $, ClassList, ReflowQueue) {\\n\\t\\\"use strict\\\";\\n\\n\\tvar selectorCache = {};\\n\\n\\treturn Control.extend({\\n\\t\\t/**\\n\\t\\t * Constructs a new control instance with the specified settings.\\n\\t\\t *\\n\\t\\t * @constructor\\n\\t\\t * @param {Object} settings Name/value object with settings.\\n\\t\\t * @setting {Array} items Items to add to container in JSON format or control instances.\\n\\t\\t * @setting {String} layout Layout manager by name to use.\\n\\t\\t * @setting {Object} defaults Default settings to apply to all items.\\n\\t\\t */\\n\\t\\tinit: function(settings) {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tself._super(settings);\\n\\t\\t\\tsettings = self.settings;\\n\\n\\t\\t\\tif (settings.fixed) {\\n\\t\\t\\t\\tself.state.set('fixed', true);\\n\\t\\t\\t}\\n\\n\\t\\t\\tself._items = new Collection();\\n\\n\\t\\t\\tif (self.isRtl()) {\\n\\t\\t\\t\\tself.classes.add('rtl');\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.bodyClasses = new ClassList(function() {\\n\\t\\t\\t\\tif (self.state.get('rendered')) {\\n\\t\\t\\t\\t\\tself.getEl('body').className = this.toString();\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t\\tself.bodyClasses.prefix = self.classPrefix;\\n\\n\\t\\t\\tself.classes.add('container');\\n\\t\\t\\tself.bodyClasses.add('container-body');\\n\\n\\t\\t\\tif (settings.containerCls) {\\n\\t\\t\\t\\tself.classes.add(settings.containerCls);\\n\\t\\t\\t}\\n\\n\\t\\t\\tself._layout = Factory.create((settings.layout || '') + 'layout');\\n\\n\\t\\t\\tif (self.settings.items) {\\n\\t\\t\\t\\tself.add(self.settings.items);\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tself.add(self.render());\\n\\t\\t\\t}\\n\\n\\t\\t\\t// TODO: Fix this!\\n\\t\\t\\tself._hasBody = true;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns a collection of child items that the container currently have.\\n\\t\\t *\\n\\t\\t * @method items\\n\\t\\t * @return {tinymce.ui.Collection} Control collection direct child controls.\\n\\t\\t */\\n\\t\\titems: function() {\\n\\t\\t\\treturn this._items;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Find child controls by selector.\\n\\t\\t *\\n\\t\\t * @method find\\n\\t\\t * @param {String} selector Selector CSS pattern to find children by.\\n\\t\\t * @return {tinymce.ui.Collection} Control collection with child controls.\\n\\t\\t */\\n\\t\\tfind: function(selector) {\\n\\t\\t\\tselector = selectorCache[selector] = selectorCache[selector] || new Selector(selector);\\n\\n\\t\\t\\treturn selector.find(this);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Adds one or many items to the current container. This will create instances of\\n\\t\\t * the object representations if needed.\\n\\t\\t *\\n\\t\\t * @method add\\n\\t\\t * @param {Array/Object/tinymce.ui.Control} items Array or item that will be added to the container.\\n\\t\\t * @return {tinymce.ui.Collection} Current collection control.\\n\\t\\t */\\n\\t\\tadd: function(items) {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tself.items().add(self.create(items)).parent(self);\\n\\n\\t\\t\\treturn self;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Focuses the current container instance. This will look\\n\\t\\t * for the first control in the container and focus that.\\n\\t\\t *\\n\\t\\t * @method focus\\n\\t\\t * @param {Boolean} keyboard Optional true/false if the focus was a keyboard focus or not.\\n\\t\\t * @return {tinymce.ui.Collection} Current instance.\\n\\t\\t */\\n\\t\\tfocus: function(keyboard) {\\n\\t\\t\\tvar self = this, focusCtrl, keyboardNav, items;\\n\\n\\t\\t\\tif (keyboard) {\\n\\t\\t\\t\\tkeyboardNav = self.keyboardNav || self.parents().eq(-1)[0].keyboardNav;\\n\\n\\t\\t\\t\\tif (keyboardNav) {\\n\\t\\t\\t\\t\\tkeyboardNav.focusFirst(self);\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\titems = self.find('*');\\n\\n\\t\\t\\t// TODO: Figure out a better way to auto focus alert dialog buttons\\n\\t\\t\\tif (self.statusbar) {\\n\\t\\t\\t\\titems.add(self.statusbar.items());\\n\\t\\t\\t}\\n\\n\\t\\t\\titems.each(function(ctrl) {\\n\\t\\t\\t\\tif (ctrl.settings.autofocus) {\\n\\t\\t\\t\\t\\tfocusCtrl = null;\\n\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (ctrl.canFocus) {\\n\\t\\t\\t\\t\\tfocusCtrl = focusCtrl || ctrl;\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\tif (focusCtrl) {\\n\\t\\t\\t\\tfocusCtrl.focus();\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn self;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Replaces the specified child control with a new control.\\n\\t\\t *\\n\\t\\t * @method replace\\n\\t\\t * @param {tinymce.ui.Control} oldItem Old item to be replaced.\\n\\t\\t * @param {tinymce.ui.Control} newItem New item to be inserted.\\n\\t\\t */\\n\\t\\treplace: function(oldItem, newItem) {\\n\\t\\t\\tvar ctrlElm, items = this.items(), i = items.length;\\n\\n\\t\\t\\t// Replace the item in collection\\n\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\tif (items[i] === oldItem) {\\n\\t\\t\\t\\t\\titems[i] = newItem;\\n\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (i >= 0) {\\n\\t\\t\\t\\t// Remove new item from DOM\\n\\t\\t\\t\\tctrlElm = newItem.getEl();\\n\\t\\t\\t\\tif (ctrlElm) {\\n\\t\\t\\t\\t\\tctrlElm.parentNode.removeChild(ctrlElm);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Remove old item from DOM\\n\\t\\t\\t\\tctrlElm = oldItem.getEl();\\n\\t\\t\\t\\tif (ctrlElm) {\\n\\t\\t\\t\\t\\tctrlElm.parentNode.removeChild(ctrlElm);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Adopt the item\\n\\t\\t\\tnewItem.parent(this);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Creates the specified items. If any of the items is plain JSON style objects\\n\\t\\t * it will convert these into real tinymce.ui.Control instances.\\n\\t\\t *\\n\\t\\t * @method create\\n\\t\\t * @param {Array} items Array of items to convert into control instances.\\n\\t\\t * @return {Array} Array with control instances.\\n\\t\\t */\\n\\t\\tcreate: function(items) {\\n\\t\\t\\tvar self = this, settings, ctrlItems = [];\\n\\n\\t\\t\\t// Non array structure, then force it into an array\\n\\t\\t\\tif (!Tools.isArray(items)) {\\n\\t\\t\\t\\titems = [items];\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Add default type to each child control\\n\\t\\t\\tTools.each(items, function(item) {\\n\\t\\t\\t\\tif (item) {\\n\\t\\t\\t\\t\\t// Construct item if needed\\n\\t\\t\\t\\t\\tif (!(item instanceof Control)) {\\n\\t\\t\\t\\t\\t\\t// Name only then convert it to an object\\n\\t\\t\\t\\t\\t\\tif (typeof item == \\\"string\\\") {\\n\\t\\t\\t\\t\\t\\t\\titem = {type: item};\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Create control instance based on input settings and default settings\\n\\t\\t\\t\\t\\t\\tsettings = Tools.extend({}, self.settings.defaults, item);\\n\\t\\t\\t\\t\\t\\titem.type = settings.type = settings.type || item.type || self.settings.defaultType ||\\n\\t\\t\\t\\t\\t\\t\\t(settings.defaults ? settings.defaults.type : null);\\n\\t\\t\\t\\t\\t\\titem = Factory.create(settings);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tctrlItems.push(item);\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn ctrlItems;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Renders new control instances.\\n\\t\\t *\\n\\t\\t * @private\\n\\t\\t */\\n\\t\\trenderNew: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\t// Render any new items\\n\\t\\t\\tself.items().each(function(ctrl, index) {\\n\\t\\t\\t\\tvar containerElm;\\n\\n\\t\\t\\t\\tctrl.parent(self);\\n\\n\\t\\t\\t\\tif (!ctrl.state.get('rendered')) {\\n\\t\\t\\t\\t\\tcontainerElm = self.getEl('body');\\n\\n\\t\\t\\t\\t\\t// Insert or append the item\\n\\t\\t\\t\\t\\tif (containerElm.hasChildNodes() && index <= containerElm.childNodes.length - 1) {\\n\\t\\t\\t\\t\\t\\t$(containerElm.childNodes[index]).before(ctrl.renderHtml());\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t$(containerElm).append(ctrl.renderHtml());\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tctrl.postRender();\\n\\t\\t\\t\\t\\tReflowQueue.add(ctrl);\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\tself._layout.applyClasses(self.items().filter(':visible'));\\n\\t\\t\\tself._lastRect = null;\\n\\n\\t\\t\\treturn self;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Appends new instances to the current container.\\n\\t\\t *\\n\\t\\t * @method append\\n\\t\\t * @param {Array/tinymce.ui.Collection} items Array if controls to append.\\n\\t\\t * @return {tinymce.ui.Container} Current container instance.\\n\\t\\t */\\n\\t\\tappend: function(items) {\\n\\t\\t\\treturn this.add(items).renderNew();\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Prepends new instances to the current container.\\n\\t\\t *\\n\\t\\t * @method prepend\\n\\t\\t * @param {Array/tinymce.ui.Collection} items Array if controls to prepend.\\n\\t\\t * @return {tinymce.ui.Container} Current container instance.\\n\\t\\t */\\n\\t\\tprepend: function(items) {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tself.items().set(self.create(items).concat(self.items().toArray()));\\n\\n\\t\\t\\treturn self.renderNew();\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Inserts an control at a specific index.\\n\\t\\t *\\n\\t\\t * @method insert\\n\\t\\t * @param {Array/tinymce.ui.Collection} items Array if controls to insert.\\n\\t\\t * @param {Number} index Index to insert controls at.\\n\\t\\t * @param {Boolean} [before=false] Inserts controls before the index.\\n\\t\\t */\\n\\t\\tinsert: function(items, index, before) {\\n\\t\\t\\tvar self = this, curItems, beforeItems, afterItems;\\n\\n\\t\\t\\titems = self.create(items);\\n\\t\\t\\tcurItems = self.items();\\n\\n\\t\\t\\tif (!before && index < curItems.length - 1) {\\n\\t\\t\\t\\tindex += 1;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (index >= 0 && index < curItems.length) {\\n\\t\\t\\t\\tbeforeItems = curItems.slice(0, index).toArray();\\n\\t\\t\\t\\tafterItems = curItems.slice(index).toArray();\\n\\t\\t\\t\\tcurItems.set(beforeItems.concat(items, afterItems));\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn self.renderNew();\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Populates the form fields from the specified JSON data object.\\n\\t\\t *\\n\\t\\t * Control items in the form that matches the data will have it's value set.\\n\\t\\t *\\n\\t\\t * @method fromJSON\\n\\t\\t * @param {Object} data JSON data object to set control values by.\\n\\t\\t * @return {tinymce.ui.Container} Current form instance.\\n\\t\\t */\\n\\t\\tfromJSON: function(data) {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tfor (var name in data) {\\n\\t\\t\\t\\tself.find('#' + name).value(data[name]);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn self;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Serializes the form into a JSON object by getting all items\\n\\t\\t * that has a name and a value.\\n\\t\\t *\\n\\t\\t * @method toJSON\\n\\t\\t * @return {Object} JSON object with form data.\\n\\t\\t */\\n\\t\\ttoJSON: function() {\\n\\t\\t\\tvar self = this, data = {};\\n\\n\\t\\t\\tself.find('*').each(function(ctrl) {\\n\\t\\t\\t\\tvar name = ctrl.name(), value = ctrl.value();\\n\\n\\t\\t\\t\\tif (name && typeof value != \\\"undefined\\\") {\\n\\t\\t\\t\\t\\tdata[name] = value;\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn data;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Renders the control as a HTML string.\\n\\t\\t *\\n\\t\\t * @method renderHtml\\n\\t\\t * @return {String} HTML representing the control.\\n\\t\\t */\\n\\t\\trenderHtml: function() {\\n\\t\\t\\tvar self = this, layout = self._layout, role = this.settings.role;\\n\\n\\t\\t\\tself.preRender();\\n\\t\\t\\tlayout.preRender(self);\\n\\n\\t\\t\\treturn (\\n\\t\\t\\t\\t'<div id=\\\"' + self._id + '\\\" class=\\\"' + self.classes + '\\\"' + (role ? ' role=\\\"' + this.settings.role + '\\\"' : '') + '>' +\\n\\t\\t\\t\\t\\t'<div id=\\\"' + self._id + '-body\\\" class=\\\"' + self.bodyClasses + '\\\">' +\\n\\t\\t\\t\\t\\t\\t(self.settings.html || '') + layout.renderHtml(self) +\\n\\t\\t\\t\\t\\t'</div>' +\\n\\t\\t\\t\\t'</div>'\\n\\t\\t\\t);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Post render method. Called after the control has been rendered to the target.\\n\\t\\t *\\n\\t\\t * @method postRender\\n\\t\\t * @return {tinymce.ui.Container} Current combobox instance.\\n\\t\\t */\\n\\t\\tpostRender: function() {\\n\\t\\t\\tvar self = this, box;\\n\\n\\t\\t\\tself.items().exec('postRender');\\n\\t\\t\\tself._super();\\n\\n\\t\\t\\tself._layout.postRender(self);\\n\\t\\t\\tself.state.set('rendered', true);\\n\\n\\t\\t\\tif (self.settings.style) {\\n\\t\\t\\t\\tself.$el.css(self.settings.style);\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (self.settings.border) {\\n\\t\\t\\t\\tbox = self.borderBox;\\n\\t\\t\\t\\tself.$el.css({\\n\\t\\t\\t\\t\\t'border-top-width': box.top,\\n\\t\\t\\t\\t\\t'border-right-width': box.right,\\n\\t\\t\\t\\t\\t'border-bottom-width': box.bottom,\\n\\t\\t\\t\\t\\t'border-left-width': box.left\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!self.parent()) {\\n\\t\\t\\t\\tself.keyboardNav = new KeyboardNavigation({\\n\\t\\t\\t\\t\\troot: self\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn self;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Initializes the current controls layout rect.\\n\\t\\t * This will be executed by the layout managers to determine the\\n\\t\\t * default minWidth/minHeight etc.\\n\\t\\t *\\n\\t\\t * @method initLayoutRect\\n\\t\\t * @return {Object} Layout rect instance.\\n\\t\\t */\\n\\t\\tinitLayoutRect: function() {\\n\\t\\t\\tvar self = this, layoutRect = self._super();\\n\\n\\t\\t\\t// Recalc container size by asking layout manager\\n\\t\\t\\tself._layout.recalc(self);\\n\\n\\t\\t\\treturn layoutRect;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Recalculates the positions of the controls in the current container.\\n\\t\\t * This is invoked by the reflow method and shouldn't be called directly.\\n\\t\\t *\\n\\t\\t * @method recalc\\n\\t\\t */\\n\\t\\trecalc: function() {\\n\\t\\t\\tvar self = this, rect = self._layoutRect, lastRect = self._lastRect;\\n\\n\\t\\t\\tif (!lastRect || lastRect.w != rect.w || lastRect.h != rect.h) {\\n\\t\\t\\t\\tself._layout.recalc(self);\\n\\t\\t\\t\\trect = self.layoutRect();\\n\\t\\t\\t\\tself._lastRect = {x: rect.x, y: rect.y, w: rect.w, h: rect.h};\\n\\t\\t\\t\\treturn true;\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Reflows the current container and it's children and possible parents.\\n\\t\\t * This should be used after you for example append children to the current control so\\n\\t\\t * that the layout managers know that they need to reposition everything.\\n\\t\\t *\\n\\t\\t * @example\\n\\t\\t * container.append({type: 'button', text: 'My button'}).reflow();\\n\\t\\t *\\n\\t\\t * @method reflow\\n\\t\\t * @return {tinymce.ui.Container} Current container instance.\\n\\t\\t */\\n\\t\\treflow: function() {\\n\\t\\t\\tvar i;\\n\\n\\t\\t\\tReflowQueue.remove(this);\\n\\n\\t\\t\\tif (this.visible()) {\\n\\t\\t\\t\\tControl.repaintControls = [];\\n\\t\\t\\t\\tControl.repaintControls.map = {};\\n\\n\\t\\t\\t\\tthis.recalc();\\n\\t\\t\\t\\ti = Control.repaintControls.length;\\n\\n\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\tControl.repaintControls[i].repaint();\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// TODO: Fix me!\\n\\t\\t\\t\\tif (this.settings.layout !== \\\"flow\\\" && this.settings.layout !== \\\"stack\\\") {\\n\\t\\t\\t\\t\\tthis.repaint();\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tControl.repaintControls = [];\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn this;\\n\\t\\t}\\n\\t});\\n});\\n\\n// Included from: js/tinymce/classes/ui/DragHelper.js\\n\\n/**\\n * DragHelper.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Drag/drop helper class.\\n *\\n * @example\\n * var dragHelper = new tinymce.ui.DragHelper('mydiv', {\\n *     start: function(evt) {\\n *     },\\n *\\n *     drag: function(evt) {\\n *     },\\n *\\n *     end: function(evt) {\\n *     }\\n * });\\n *\\n * @class tinymce.ui.DragHelper\\n */\\ndefine(\\\"tinymce/ui/DragHelper\\\", [\\n\\t\\\"tinymce/dom/DomQuery\\\"\\n], function($) {\\n\\t\\\"use strict\\\";\\n\\n\\tfunction getDocumentSize(doc) {\\n\\t\\tvar documentElement, body, scrollWidth, clientWidth;\\n\\t\\tvar offsetWidth, scrollHeight, clientHeight, offsetHeight, max = Math.max;\\n\\n\\t\\tdocumentElement = doc.documentElement;\\n\\t\\tbody = doc.body;\\n\\n\\t\\tscrollWidth = max(documentElement.scrollWidth, body.scrollWidth);\\n\\t\\tclientWidth = max(documentElement.clientWidth, body.clientWidth);\\n\\t\\toffsetWidth = max(documentElement.offsetWidth, body.offsetWidth);\\n\\n\\t\\tscrollHeight = max(documentElement.scrollHeight, body.scrollHeight);\\n\\t\\tclientHeight = max(documentElement.clientHeight, body.clientHeight);\\n\\t\\toffsetHeight = max(documentElement.offsetHeight, body.offsetHeight);\\n\\n\\t\\treturn {\\n\\t\\t\\twidth: scrollWidth < offsetWidth ? clientWidth : scrollWidth,\\n\\t\\t\\theight: scrollHeight < offsetHeight ? clientHeight : scrollHeight\\n\\t\\t};\\n\\t}\\n\\n\\tfunction updateWithTouchData(e) {\\n\\t\\tvar keys, i;\\n\\n\\t\\tif (e.changedTouches) {\\n\\t\\t\\tkeys = \\\"screenX screenY pageX pageY clientX clientY\\\".split(' ');\\n\\t\\t\\tfor (i = 0; i < keys.length; i++) {\\n\\t\\t\\t\\te[keys[i]] = e.changedTouches[0][keys[i]];\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\treturn function(id, settings) {\\n\\t\\tvar $eventOverlay, doc = settings.document || document, downButton, start, stop, drag, startX, startY;\\n\\n\\t\\tsettings = settings || {};\\n\\n\\t\\tfunction getHandleElm() {\\n\\t\\t\\treturn doc.getElementById(settings.handle || id);\\n\\t\\t}\\n\\n\\t\\tstart = function(e) {\\n\\t\\t\\tvar docSize = getDocumentSize(doc), handleElm, cursor;\\n\\n\\t\\t\\tupdateWithTouchData(e);\\n\\n\\t\\t\\te.preventDefault();\\n\\t\\t\\tdownButton = e.button;\\n\\t\\t\\thandleElm = getHandleElm();\\n\\t\\t\\tstartX = e.screenX;\\n\\t\\t\\tstartY = e.screenY;\\n\\n\\t\\t\\t// Grab cursor from handle so we can place it on overlay\\n\\t\\t\\tif (window.getComputedStyle) {\\n\\t\\t\\t\\tcursor = window.getComputedStyle(handleElm, null).getPropertyValue(\\\"cursor\\\");\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tcursor = handleElm.runtimeStyle.cursor;\\n\\t\\t\\t}\\n\\n\\t\\t\\t$eventOverlay = $('<div></div>').css({\\n\\t\\t\\t\\tposition: \\\"absolute\\\",\\n\\t\\t\\t\\ttop: 0, left: 0,\\n\\t\\t\\t\\twidth: docSize.width,\\n\\t\\t\\t\\theight: docSize.height,\\n\\t\\t\\t\\tzIndex: 0x7FFFFFFF,\\n\\t\\t\\t\\topacity: 0.0001,\\n\\t\\t\\t\\tcursor: cursor\\n\\t\\t\\t}).appendTo(doc.body);\\n\\n\\t\\t\\t$(doc).on('mousemove touchmove', drag).on('mouseup touchend', stop);\\n\\n\\t\\t\\tsettings.start(e);\\n\\t\\t};\\n\\n\\t\\tdrag = function(e) {\\n\\t\\t\\tupdateWithTouchData(e);\\n\\n\\t\\t\\tif (e.button !== downButton) {\\n\\t\\t\\t\\treturn stop(e);\\n\\t\\t\\t}\\n\\n\\t\\t\\te.deltaX = e.screenX - startX;\\n\\t\\t\\te.deltaY = e.screenY - startY;\\n\\n\\t\\t\\te.preventDefault();\\n\\t\\t\\tsettings.drag(e);\\n\\t\\t};\\n\\n\\t\\tstop = function(e) {\\n\\t\\t\\tupdateWithTouchData(e);\\n\\n\\t\\t\\t$(doc).off('mousemove touchmove', drag).off('mouseup touchend', stop);\\n\\n\\t\\t\\t$eventOverlay.remove();\\n\\n\\t\\t\\tif (settings.stop) {\\n\\t\\t\\t\\tsettings.stop(e);\\n\\t\\t\\t}\\n\\t\\t};\\n\\n\\t\\t/**\\n\\t\\t * Destroys the drag/drop helper instance.\\n\\t\\t *\\n\\t\\t * @method destroy\\n\\t\\t */\\n\\t\\tthis.destroy = function() {\\n\\t\\t\\t$(getHandleElm()).off();\\n\\t\\t};\\n\\n\\t\\t$(getHandleElm()).on('mousedown touchstart', start);\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/ui/Scrollable.js\\n\\n/**\\n * Scrollable.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This mixin makes controls scrollable using custom scrollbars.\\n *\\n * @-x-less Scrollable.less\\n * @mixin tinymce.ui.Scrollable\\n */\\ndefine(\\\"tinymce/ui/Scrollable\\\", [\\n\\t\\\"tinymce/dom/DomQuery\\\",\\n\\t\\\"tinymce/ui/DragHelper\\\"\\n], function($, DragHelper) {\\n\\t\\\"use strict\\\";\\n\\n\\treturn {\\n\\t\\tinit: function() {\\n\\t\\t\\tvar self = this;\\n\\t\\t\\tself.on('repaint', self.renderScroll);\\n\\t\\t},\\n\\n\\t\\trenderScroll: function() {\\n\\t\\t\\tvar self = this, margin = 2;\\n\\n\\t\\t\\tfunction repaintScroll() {\\n\\t\\t\\t\\tvar hasScrollH, hasScrollV, bodyElm;\\n\\n\\t\\t\\t\\tfunction repaintAxis(axisName, posName, sizeName, contentSizeName, hasScroll, ax) {\\n\\t\\t\\t\\t\\tvar containerElm, scrollBarElm, scrollThumbElm;\\n\\t\\t\\t\\t\\tvar containerSize, scrollSize, ratio, rect;\\n\\t\\t\\t\\t\\tvar posNameLower, sizeNameLower;\\n\\n\\t\\t\\t\\t\\tscrollBarElm = self.getEl('scroll' + axisName);\\n\\t\\t\\t\\t\\tif (scrollBarElm) {\\n\\t\\t\\t\\t\\t\\tposNameLower = posName.toLowerCase();\\n\\t\\t\\t\\t\\t\\tsizeNameLower = sizeName.toLowerCase();\\n\\n\\t\\t\\t\\t\\t\\t$(self.getEl('absend')).css(posNameLower, self.layoutRect()[contentSizeName] - 1);\\n\\n\\t\\t\\t\\t\\t\\tif (!hasScroll) {\\n\\t\\t\\t\\t\\t\\t\\t$(scrollBarElm).css('display', 'none');\\n\\t\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t$(scrollBarElm).css('display', 'block');\\n\\t\\t\\t\\t\\t\\tcontainerElm = self.getEl('body');\\n\\t\\t\\t\\t\\t\\tscrollThumbElm = self.getEl('scroll' + axisName + \\\"t\\\");\\n\\t\\t\\t\\t\\t\\tcontainerSize = containerElm[\\\"client\\\" + sizeName] - (margin * 2);\\n\\t\\t\\t\\t\\t\\tcontainerSize -= hasScrollH && hasScrollV ? scrollBarElm[\\\"client\\\" + ax] : 0;\\n\\t\\t\\t\\t\\t\\tscrollSize = containerElm[\\\"scroll\\\" + sizeName];\\n\\t\\t\\t\\t\\t\\tratio = containerSize / scrollSize;\\n\\n\\t\\t\\t\\t\\t\\trect = {};\\n\\t\\t\\t\\t\\t\\trect[posNameLower] = containerElm[\\\"offset\\\" + posName] + margin;\\n\\t\\t\\t\\t\\t\\trect[sizeNameLower] = containerSize;\\n\\t\\t\\t\\t\\t\\t$(scrollBarElm).css(rect);\\n\\n\\t\\t\\t\\t\\t\\trect = {};\\n\\t\\t\\t\\t\\t\\trect[posNameLower] = containerElm[\\\"scroll\\\" + posName] * ratio;\\n\\t\\t\\t\\t\\t\\trect[sizeNameLower] = containerSize * ratio;\\n\\t\\t\\t\\t\\t\\t$(scrollThumbElm).css(rect);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tbodyElm = self.getEl('body');\\n\\t\\t\\t\\thasScrollH = bodyElm.scrollWidth > bodyElm.clientWidth;\\n\\t\\t\\t\\thasScrollV = bodyElm.scrollHeight > bodyElm.clientHeight;\\n\\n\\t\\t\\t\\trepaintAxis(\\\"h\\\", \\\"Left\\\", \\\"Width\\\", \\\"contentW\\\", hasScrollH, \\\"Height\\\");\\n\\t\\t\\t\\trepaintAxis(\\\"v\\\", \\\"Top\\\", \\\"Height\\\", \\\"contentH\\\", hasScrollV, \\\"Width\\\");\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction addScroll() {\\n\\t\\t\\t\\tfunction addScrollAxis(axisName, posName, sizeName, deltaPosName, ax) {\\n\\t\\t\\t\\t\\tvar scrollStart, axisId = self._id + '-scroll' + axisName, prefix = self.classPrefix;\\n\\n\\t\\t\\t\\t\\t$(self.getEl()).append(\\n\\t\\t\\t\\t\\t\\t'<div id=\\\"' + axisId + '\\\" class=\\\"' + prefix + 'scrollbar ' + prefix + 'scrollbar-' + axisName + '\\\">' +\\n\\t\\t\\t\\t\\t\\t\\t'<div id=\\\"' + axisId + 't\\\" class=\\\"' + prefix + 'scrollbar-thumb\\\"></div>' +\\n\\t\\t\\t\\t\\t\\t'</div>'\\n\\t\\t\\t\\t\\t);\\n\\n\\t\\t\\t\\t\\tself.draghelper = new DragHelper(axisId + 't', {\\n\\t\\t\\t\\t\\t\\tstart: function() {\\n\\t\\t\\t\\t\\t\\t\\tscrollStart = self.getEl('body')[\\\"scroll\\\" + posName];\\n\\t\\t\\t\\t\\t\\t\\t$('#' + axisId).addClass(prefix + 'active');\\n\\t\\t\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\t\\t\\tdrag: function(e) {\\n\\t\\t\\t\\t\\t\\t\\tvar ratio, hasScrollH, hasScrollV, containerSize, layoutRect = self.layoutRect();\\n\\n\\t\\t\\t\\t\\t\\t\\thasScrollH = layoutRect.contentW > layoutRect.innerW;\\n\\t\\t\\t\\t\\t\\t\\thasScrollV = layoutRect.contentH > layoutRect.innerH;\\n\\t\\t\\t\\t\\t\\t\\tcontainerSize = self.getEl('body')[\\\"client\\\" + sizeName] - (margin * 2);\\n\\t\\t\\t\\t\\t\\t\\tcontainerSize -= hasScrollH && hasScrollV ? self.getEl('scroll' + axisName)[\\\"client\\\" + ax] : 0;\\n\\n\\t\\t\\t\\t\\t\\t\\tratio = containerSize / self.getEl('body')[\\\"scroll\\\" + sizeName];\\n\\t\\t\\t\\t\\t\\t\\tself.getEl('body')[\\\"scroll\\\" + posName] = scrollStart + (e[\\\"delta\\\" + deltaPosName] / ratio);\\n\\t\\t\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\t\\t\\tstop: function() {\\n\\t\\t\\t\\t\\t\\t\\t$('#' + axisId).removeClass(prefix + 'active');\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tself.classes.add('scroll');\\n\\n\\t\\t\\t\\taddScrollAxis(\\\"v\\\", \\\"Top\\\", \\\"Height\\\", \\\"Y\\\", \\\"Width\\\");\\n\\t\\t\\t\\taddScrollAxis(\\\"h\\\", \\\"Left\\\", \\\"Width\\\", \\\"X\\\", \\\"Height\\\");\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (self.settings.autoScroll) {\\n\\t\\t\\t\\tif (!self._hasScroll) {\\n\\t\\t\\t\\t\\tself._hasScroll = true;\\n\\t\\t\\t\\t\\taddScroll();\\n\\n\\t\\t\\t\\t\\tself.on('wheel', function(e) {\\n\\t\\t\\t\\t\\t\\tvar bodyEl = self.getEl('body');\\n\\n\\t\\t\\t\\t\\t\\tbodyEl.scrollLeft += (e.deltaX || 0) * 10;\\n\\t\\t\\t\\t\\t\\tbodyEl.scrollTop += e.deltaY * 10;\\n\\n\\t\\t\\t\\t\\t\\trepaintScroll();\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\t$(self.getEl('body')).on(\\\"scroll\\\", repaintScroll);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\trepaintScroll();\\n\\t\\t\\t}\\n\\t\\t}\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/ui/Panel.js\\n\\n/**\\n * Panel.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Creates a new panel.\\n *\\n * @-x-less Panel.less\\n * @class tinymce.ui.Panel\\n * @extends tinymce.ui.Container\\n * @mixes tinymce.ui.Scrollable\\n */\\ndefine(\\\"tinymce/ui/Panel\\\", [\\n\\t\\\"tinymce/ui/Container\\\",\\n\\t\\\"tinymce/ui/Scrollable\\\"\\n], function(Container, Scrollable) {\\n\\t\\\"use strict\\\";\\n\\n\\treturn Container.extend({\\n\\t\\tDefaults: {\\n\\t\\t\\tlayout: 'fit',\\n\\t\\t\\tcontainerCls: 'panel'\\n\\t\\t},\\n\\n\\t\\tMixins: [Scrollable],\\n\\n\\t\\t/**\\n\\t\\t * Renders the control as a HTML string.\\n\\t\\t *\\n\\t\\t * @method renderHtml\\n\\t\\t * @return {String} HTML representing the control.\\n\\t\\t */\\n\\t\\trenderHtml: function() {\\n\\t\\t\\tvar self = this, layout = self._layout, innerHtml = self.settings.html;\\n\\n\\t\\t\\tself.preRender();\\n\\t\\t\\tlayout.preRender(self);\\n\\n\\t\\t\\tif (typeof innerHtml == \\\"undefined\\\") {\\n\\t\\t\\t\\tinnerHtml = (\\n\\t\\t\\t\\t\\t'<div id=\\\"' + self._id + '-body\\\" class=\\\"' + self.bodyClasses + '\\\">' +\\n\\t\\t\\t\\t\\t\\tlayout.renderHtml(self) +\\n\\t\\t\\t\\t\\t'</div>'\\n\\t\\t\\t\\t);\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tif (typeof innerHtml == 'function') {\\n\\t\\t\\t\\t\\tinnerHtml = innerHtml.call(self);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tself._hasBody = false;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn (\\n\\t\\t\\t\\t'<div id=\\\"' + self._id + '\\\" class=\\\"' + self.classes + '\\\" hidefocus=\\\"1\\\" tabindex=\\\"-1\\\" role=\\\"group\\\">' +\\n\\t\\t\\t\\t\\t(self._preBodyHtml || '') +\\n\\t\\t\\t\\t\\tinnerHtml +\\n\\t\\t\\t\\t'</div>'\\n\\t\\t\\t);\\n\\t\\t}\\n\\t});\\n});\\n\\n// Included from: js/tinymce/classes/ui/Movable.js\\n\\n/**\\n * Movable.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Movable mixin. Makes controls movable absolute and relative to other elements.\\n *\\n * @mixin tinymce.ui.Movable\\n */\\ndefine(\\\"tinymce/ui/Movable\\\", [\\n\\t\\\"tinymce/ui/DomUtils\\\"\\n], function(DomUtils) {\\n\\t\\\"use strict\\\";\\n\\n\\tfunction calculateRelativePosition(ctrl, targetElm, rel) {\\n\\t\\tvar ctrlElm, pos, x, y, selfW, selfH, targetW, targetH, viewport, size;\\n\\n\\t\\tviewport = DomUtils.getViewPort();\\n\\n\\t\\t// Get pos of target\\n\\t\\tpos = DomUtils.getPos(targetElm);\\n\\t\\tx = pos.x;\\n\\t\\ty = pos.y;\\n\\n\\t\\tif (ctrl.state.get('fixed') && DomUtils.getRuntimeStyle(document.body, 'position') == 'static') {\\n\\t\\t\\tx -= viewport.x;\\n\\t\\t\\ty -= viewport.y;\\n\\t\\t}\\n\\n\\t\\t// Get size of self\\n\\t\\tctrlElm = ctrl.getEl();\\n\\t\\tsize = DomUtils.getSize(ctrlElm);\\n\\t\\tselfW = size.width;\\n\\t\\tselfH = size.height;\\n\\n\\t\\t// Get size of target\\n\\t\\tsize = DomUtils.getSize(targetElm);\\n\\t\\ttargetW = size.width;\\n\\t\\ttargetH = size.height;\\n\\n\\t\\t// Parse align string\\n\\t\\trel = (rel || '').split('');\\n\\n\\t\\t// Target corners\\n\\t\\tif (rel[0] === 'b') {\\n\\t\\t\\ty += targetH;\\n\\t\\t}\\n\\n\\t\\tif (rel[1] === 'r') {\\n\\t\\t\\tx += targetW;\\n\\t\\t}\\n\\n\\t\\tif (rel[0] === 'c') {\\n\\t\\t\\ty += Math.round(targetH / 2);\\n\\t\\t}\\n\\n\\t\\tif (rel[1] === 'c') {\\n\\t\\t\\tx += Math.round(targetW / 2);\\n\\t\\t}\\n\\n\\t\\t// Self corners\\n\\t\\tif (rel[3] === 'b') {\\n\\t\\t\\ty -= selfH;\\n\\t\\t}\\n\\n\\t\\tif (rel[4] === 'r') {\\n\\t\\t\\tx -= selfW;\\n\\t\\t}\\n\\n\\t\\tif (rel[3] === 'c') {\\n\\t\\t\\ty -= Math.round(selfH / 2);\\n\\t\\t}\\n\\n\\t\\tif (rel[4] === 'c') {\\n\\t\\t\\tx -= Math.round(selfW / 2);\\n\\t\\t}\\n\\n\\t\\treturn {\\n\\t\\t\\tx: x,\\n\\t\\t\\ty: y,\\n\\t\\t\\tw: selfW,\\n\\t\\t\\th: selfH\\n\\t\\t};\\n\\t}\\n\\n\\treturn {\\n\\t\\t/**\\n\\t\\t * Tests various positions to get the most suitable one.\\n\\t\\t *\\n\\t\\t * @method testMoveRel\\n\\t\\t * @param {DOMElement} elm Element to position against.\\n\\t\\t * @param {Array} rels Array with relative positions.\\n\\t\\t * @return {String} Best suitable relative position.\\n\\t\\t */\\n\\t\\ttestMoveRel: function(elm, rels) {\\n\\t\\t\\tvar viewPortRect = DomUtils.getViewPort();\\n\\n\\t\\t\\tfor (var i = 0; i < rels.length; i++) {\\n\\t\\t\\t\\tvar pos = calculateRelativePosition(this, elm, rels[i]);\\n\\n\\t\\t\\t\\tif (this.state.get('fixed')) {\\n\\t\\t\\t\\t\\tif (pos.x > 0 && pos.x + pos.w < viewPortRect.w && pos.y > 0 && pos.y + pos.h < viewPortRect.h) {\\n\\t\\t\\t\\t\\t\\treturn rels[i];\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tif (pos.x > viewPortRect.x && pos.x + pos.w < viewPortRect.w + viewPortRect.x &&\\n\\t\\t\\t\\t\\t\\tpos.y > viewPortRect.y && pos.y + pos.h < viewPortRect.h + viewPortRect.y) {\\n\\t\\t\\t\\t\\t\\treturn rels[i];\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn rels[0];\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Move relative to the specified element.\\n\\t\\t *\\n\\t\\t * @method moveRel\\n\\t\\t * @param {Element} elm Element to move relative to.\\n\\t\\t * @param {String} rel Relative mode. For example: br-tl.\\n\\t\\t * @return {tinymce.ui.Control} Current control instance.\\n\\t\\t */\\n\\t\\tmoveRel: function(elm, rel) {\\n\\t\\t\\tif (typeof rel != 'string') {\\n\\t\\t\\t\\trel = this.testMoveRel(elm, rel);\\n\\t\\t\\t}\\n\\n\\t\\t\\tvar pos = calculateRelativePosition(this, elm, rel);\\n\\t\\t\\treturn this.moveTo(pos.x, pos.y);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Move by a relative x, y values.\\n\\t\\t *\\n\\t\\t * @method moveBy\\n\\t\\t * @param {Number} dx Relative x position.\\n\\t\\t * @param {Number} dy Relative y position.\\n\\t\\t * @return {tinymce.ui.Control} Current control instance.\\n\\t\\t */\\n\\t\\tmoveBy: function(dx, dy) {\\n\\t\\t\\tvar self = this, rect = self.layoutRect();\\n\\n\\t\\t\\tself.moveTo(rect.x + dx, rect.y + dy);\\n\\n\\t\\t\\treturn self;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Move to absolute position.\\n\\t\\t *\\n\\t\\t * @method moveTo\\n\\t\\t * @param {Number} x Absolute x position.\\n\\t\\t * @param {Number} y Absolute y position.\\n\\t\\t * @return {tinymce.ui.Control} Current control instance.\\n\\t\\t */\\n\\t\\tmoveTo: function(x, y) {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\t// TODO: Move this to some global class\\n\\t\\t\\tfunction constrain(value, max, size) {\\n\\t\\t\\t\\tif (value < 0) {\\n\\t\\t\\t\\t\\treturn 0;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (value + size > max) {\\n\\t\\t\\t\\t\\tvalue = max - size;\\n\\t\\t\\t\\t\\treturn value < 0 ? 0 : value;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn value;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (self.settings.constrainToViewport) {\\n\\t\\t\\t\\tvar viewPortRect = DomUtils.getViewPort(window);\\n\\t\\t\\t\\tvar layoutRect = self.layoutRect();\\n\\n\\t\\t\\t\\tx = constrain(x, viewPortRect.w + viewPortRect.x, layoutRect.w);\\n\\t\\t\\t\\ty = constrain(y, viewPortRect.h + viewPortRect.y, layoutRect.h);\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (self.state.get('rendered')) {\\n\\t\\t\\t\\tself.layoutRect({x: x, y: y}).repaint();\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tself.settings.x = x;\\n\\t\\t\\t\\tself.settings.y = y;\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.fire('move', {x: x, y: y});\\n\\n\\t\\t\\treturn self;\\n\\t\\t}\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/ui/Resizable.js\\n\\n/**\\n * Resizable.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Resizable mixin. Enables controls to be resized.\\n *\\n * @mixin tinymce.ui.Resizable\\n */\\ndefine(\\\"tinymce/ui/Resizable\\\", [\\n\\t\\\"tinymce/ui/DomUtils\\\"\\n], function(DomUtils) {\\n\\t\\\"use strict\\\";\\n\\n\\treturn {\\n\\t\\t/**\\n\\t\\t * Resizes the control to contents.\\n\\t\\t *\\n\\t\\t * @method resizeToContent\\n\\t\\t */\\n\\t\\tresizeToContent: function() {\\n\\t\\t\\tthis._layoutRect.autoResize = true;\\n\\t\\t\\tthis._lastRect = null;\\n\\t\\t\\tthis.reflow();\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Resizes the control to a specific width/height.\\n\\t\\t *\\n\\t\\t * @method resizeTo\\n\\t\\t * @param {Number} w Control width.\\n\\t\\t * @param {Number} h Control height.\\n\\t\\t * @return {tinymce.ui.Control} Current control instance.\\n\\t\\t */\\n\\t\\tresizeTo: function(w, h) {\\n\\t\\t\\t// TODO: Fix hack\\n\\t\\t\\tif (w <= 1 || h <= 1) {\\n\\t\\t\\t\\tvar rect = DomUtils.getWindowSize();\\n\\n\\t\\t\\t\\tw = w <= 1 ? w * rect.w : w;\\n\\t\\t\\t\\th = h <= 1 ? h * rect.h : h;\\n\\t\\t\\t}\\n\\n\\t\\t\\tthis._layoutRect.autoResize = false;\\n\\t\\t\\treturn this.layoutRect({minW: w, minH: h, w: w, h: h}).reflow();\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Resizes the control to a specific relative width/height.\\n\\t\\t *\\n\\t\\t * @method resizeBy\\n\\t\\t * @param {Number} dw Relative control width.\\n\\t\\t * @param {Number} dh Relative control height.\\n\\t\\t * @return {tinymce.ui.Control} Current control instance.\\n\\t\\t */\\n\\t\\tresizeBy: function(dw, dh) {\\n\\t\\t\\tvar self = this, rect = self.layoutRect();\\n\\n\\t\\t\\treturn self.resizeTo(rect.w + dw, rect.h + dh);\\n\\t\\t}\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/ui/FloatPanel.js\\n\\n/**\\n * FloatPanel.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class creates a floating panel.\\n *\\n * @-x-less FloatPanel.less\\n * @class tinymce.ui.FloatPanel\\n * @extends tinymce.ui.Panel\\n * @mixes tinymce.ui.Movable\\n * @mixes tinymce.ui.Resizable\\n */\\ndefine(\\\"tinymce/ui/FloatPanel\\\", [\\n\\t\\\"tinymce/ui/Panel\\\",\\n\\t\\\"tinymce/ui/Movable\\\",\\n\\t\\\"tinymce/ui/Resizable\\\",\\n\\t\\\"tinymce/ui/DomUtils\\\",\\n\\t\\\"tinymce/dom/DomQuery\\\",\\n\\t\\\"tinymce/util/Delay\\\"\\n], function(Panel, Movable, Resizable, DomUtils, $, Delay) {\\n\\t\\\"use strict\\\";\\n\\n\\tvar documentClickHandler, documentScrollHandler, windowResizeHandler, visiblePanels = [];\\n\\tvar zOrder = [], hasModal;\\n\\n\\tfunction isChildOf(ctrl, parent) {\\n\\t\\twhile (ctrl) {\\n\\t\\t\\tif (ctrl == parent) {\\n\\t\\t\\t\\treturn true;\\n\\t\\t\\t}\\n\\n\\t\\t\\tctrl = ctrl.parent();\\n\\t\\t}\\n\\t}\\n\\n\\tfunction skipOrHidePanels(e) {\\n\\t\\t// Hide any float panel when a click/focus out is out side that float panel and the\\n\\t\\t// float panels direct parent for example a click on a menu button\\n\\t\\tvar i = visiblePanels.length;\\n\\n\\t\\twhile (i--) {\\n\\t\\t\\tvar panel = visiblePanels[i], clickCtrl = panel.getParentCtrl(e.target);\\n\\n\\t\\t\\tif (panel.settings.autohide) {\\n\\t\\t\\t\\tif (clickCtrl) {\\n\\t\\t\\t\\t\\tif (isChildOf(clickCtrl, panel) || panel.parent() === clickCtrl) {\\n\\t\\t\\t\\t\\t\\tcontinue;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\te = panel.fire('autohide', {target: e.target});\\n\\t\\t\\t\\tif (!e.isDefaultPrevented()) {\\n\\t\\t\\t\\t\\tpanel.hide();\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\tfunction bindDocumentClickHandler() {\\n\\n\\t\\tif (!documentClickHandler) {\\n\\t\\t\\tdocumentClickHandler = function(e) {\\n\\t\\t\\t\\t// Gecko fires click event and in the wrong order on Mac so lets normalize\\n\\t\\t\\t\\tif (e.button == 2) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tskipOrHidePanels(e);\\n\\t\\t\\t};\\n\\n\\t\\t\\t$(document).on('click touchstart', documentClickHandler);\\n\\t\\t}\\n\\t}\\n\\n\\tfunction bindDocumentScrollHandler() {\\n\\t\\tif (!documentScrollHandler) {\\n\\t\\t\\tdocumentScrollHandler = function() {\\n\\t\\t\\t\\tvar i;\\n\\n\\t\\t\\t\\ti = visiblePanels.length;\\n\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\trepositionPanel(visiblePanels[i]);\\n\\t\\t\\t\\t}\\n\\t\\t\\t};\\n\\n\\t\\t\\t$(window).on('scroll', documentScrollHandler);\\n\\t\\t}\\n\\t}\\n\\n\\tfunction bindWindowResizeHandler() {\\n\\t\\tif (!windowResizeHandler) {\\n\\t\\t\\tvar docElm = document.documentElement, clientWidth = docElm.clientWidth, clientHeight = docElm.clientHeight;\\n\\n\\t\\t\\twindowResizeHandler = function() {\\n\\t\\t\\t\\t// Workaround for #7065 IE 7 fires resize events event though the window wasn't resized\\n\\t\\t\\t\\tif (!document.all || clientWidth != docElm.clientWidth || clientHeight != docElm.clientHeight) {\\n\\t\\t\\t\\t\\tclientWidth = docElm.clientWidth;\\n\\t\\t\\t\\t\\tclientHeight = docElm.clientHeight;\\n\\t\\t\\t\\t\\tFloatPanel.hideAll();\\n\\t\\t\\t\\t}\\n\\t\\t\\t};\\n\\n\\t\\t\\t$(window).on('resize', windowResizeHandler);\\n\\t\\t}\\n\\t}\\n\\n\\t/**\\n\\t * Repositions the panel to the top of page if the panel is outside of the visual viewport. It will\\n\\t * also reposition all child panels of the current panel.\\n\\t */\\n\\tfunction repositionPanel(panel) {\\n\\t\\tvar scrollY = DomUtils.getViewPort().y;\\n\\n\\t\\tfunction toggleFixedChildPanels(fixed, deltaY) {\\n\\t\\t\\tvar parent;\\n\\n\\t\\t\\tfor (var i = 0; i < visiblePanels.length; i++) {\\n\\t\\t\\t\\tif (visiblePanels[i] != panel) {\\n\\t\\t\\t\\t\\tparent = visiblePanels[i].parent();\\n\\n\\t\\t\\t\\t\\twhile (parent && (parent = parent.parent())) {\\n\\t\\t\\t\\t\\t\\tif (parent == panel) {\\n\\t\\t\\t\\t\\t\\t\\tvisiblePanels[i].fixed(fixed).moveBy(0, deltaY).repaint();\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tif (panel.settings.autofix) {\\n\\t\\t\\tif (!panel.state.get('fixed')) {\\n\\t\\t\\t\\tpanel._autoFixY = panel.layoutRect().y;\\n\\n\\t\\t\\t\\tif (panel._autoFixY < scrollY) {\\n\\t\\t\\t\\t\\tpanel.fixed(true).layoutRect({y: 0}).repaint();\\n\\t\\t\\t\\t\\ttoggleFixedChildPanels(true, scrollY - panel._autoFixY);\\n\\t\\t\\t\\t}\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tif (panel._autoFixY > scrollY) {\\n\\t\\t\\t\\t\\tpanel.fixed(false).layoutRect({y: panel._autoFixY}).repaint();\\n\\t\\t\\t\\t\\ttoggleFixedChildPanels(false, panel._autoFixY - scrollY);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\tfunction addRemove(add, ctrl) {\\n\\t\\tvar i, zIndex = FloatPanel.zIndex || 0xFFFF, topModal;\\n\\n\\t\\tif (add) {\\n\\t\\t\\tzOrder.push(ctrl);\\n\\t\\t} else {\\n\\t\\t\\ti = zOrder.length;\\n\\n\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\tif (zOrder[i] === ctrl) {\\n\\t\\t\\t\\t\\tzOrder.splice(i, 1);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tif (zOrder.length) {\\n\\t\\t\\tfor (i = 0; i < zOrder.length; i++) {\\n\\t\\t\\t\\tif (zOrder[i].modal) {\\n\\t\\t\\t\\t\\tzIndex++;\\n\\t\\t\\t\\t\\ttopModal = zOrder[i];\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tzOrder[i].getEl().style.zIndex = zIndex;\\n\\t\\t\\t\\tzOrder[i].zIndex = zIndex;\\n\\t\\t\\t\\tzIndex++;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tvar modalBlockEl = $('#' + ctrl.classPrefix + 'modal-block', ctrl.getContainerElm())[0];\\n\\n\\t\\tif (topModal) {\\n\\t\\t\\t$(modalBlockEl).css('z-index', topModal.zIndex - 1);\\n\\t\\t} else if (modalBlockEl) {\\n\\t\\t\\tmodalBlockEl.parentNode.removeChild(modalBlockEl);\\n\\t\\t\\thasModal = false;\\n\\t\\t}\\n\\n\\t\\tFloatPanel.currentZIndex = zIndex;\\n\\t}\\n\\n\\tvar FloatPanel = Panel.extend({\\n\\t\\tMixins: [Movable, Resizable],\\n\\n\\t\\t/**\\n\\t\\t * Constructs a new control instance with the specified settings.\\n\\t\\t *\\n\\t\\t * @constructor\\n\\t\\t * @param {Object} settings Name/value object with settings.\\n\\t\\t * @setting {Boolean} autohide Automatically hide the panel.\\n\\t\\t */\\n\\t\\tinit: function(settings) {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tself._super(settings);\\n\\t\\t\\tself._eventsRoot = self;\\n\\n\\t\\t\\tself.classes.add('floatpanel');\\n\\n\\t\\t\\t// Hide floatpanes on click out side the root button\\n\\t\\t\\tif (settings.autohide) {\\n\\t\\t\\t\\tbindDocumentClickHandler();\\n\\t\\t\\t\\tbindWindowResizeHandler();\\n\\t\\t\\t\\tvisiblePanels.push(self);\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (settings.autofix) {\\n\\t\\t\\t\\tbindDocumentScrollHandler();\\n\\n\\t\\t\\t\\tself.on('move', function() {\\n\\t\\t\\t\\t\\trepositionPanel(this);\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.on('postrender show', function(e) {\\n\\t\\t\\t\\tif (e.control == self) {\\n\\t\\t\\t\\t\\tvar $modalBlockEl, prefix = self.classPrefix;\\n\\n\\t\\t\\t\\t\\tif (self.modal && !hasModal) {\\n\\t\\t\\t\\t\\t\\t$modalBlockEl = $('#' + prefix + 'modal-block', self.getContainerElm());\\n\\t\\t\\t\\t\\t\\tif (!$modalBlockEl[0]) {\\n\\t\\t\\t\\t\\t\\t\\t$modalBlockEl = $(\\n\\t\\t\\t\\t\\t\\t\\t\\t'<div id=\\\"' + prefix + 'modal-block\\\" class=\\\"' + prefix + 'reset ' + prefix + 'fade\\\"></div>'\\n\\t\\t\\t\\t\\t\\t\\t).appendTo(self.getContainerElm());\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tDelay.setTimeout(function() {\\n\\t\\t\\t\\t\\t\\t\\t$modalBlockEl.addClass(prefix + 'in');\\n\\t\\t\\t\\t\\t\\t\\t$(self.getEl()).addClass(prefix + 'in');\\n\\t\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\t\\thasModal = true;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\taddRemove(true, self);\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\tself.on('show', function() {\\n\\t\\t\\t\\tself.parents().each(function(ctrl) {\\n\\t\\t\\t\\t\\tif (ctrl.state.get('fixed')) {\\n\\t\\t\\t\\t\\t\\tself.fixed(true);\\n\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\t\\t\\t});\\n\\n\\t\\t\\tif (settings.popover) {\\n\\t\\t\\t\\tself._preBodyHtml = '<div class=\\\"' + self.classPrefix + 'arrow\\\"></div>';\\n\\t\\t\\t\\tself.classes.add('popover').add('bottom').add(self.isRtl() ? 'end' : 'start');\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.aria('label', settings.ariaLabel);\\n\\t\\t\\tself.aria('labelledby', self._id);\\n\\t\\t\\tself.aria('describedby', self.describedBy || self._id + '-none');\\n\\t\\t},\\n\\n\\t\\tfixed: function(state) {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tif (self.state.get('fixed') != state) {\\n\\t\\t\\t\\tif (self.state.get('rendered')) {\\n\\t\\t\\t\\t\\tvar viewport = DomUtils.getViewPort();\\n\\n\\t\\t\\t\\t\\tif (state) {\\n\\t\\t\\t\\t\\t\\tself.layoutRect().y -= viewport.y;\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tself.layoutRect().y += viewport.y;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tself.classes.toggle('fixed', state);\\n\\t\\t\\t\\tself.state.set('fixed', state);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn self;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Shows the current float panel.\\n\\t\\t *\\n\\t\\t * @method show\\n\\t\\t * @return {tinymce.ui.FloatPanel} Current floatpanel instance.\\n\\t\\t */\\n\\t\\tshow: function() {\\n\\t\\t\\tvar self = this, i, state = self._super();\\n\\n\\t\\t\\ti = visiblePanels.length;\\n\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\tif (visiblePanels[i] === self) {\\n\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (i === -1) {\\n\\t\\t\\t\\tvisiblePanels.push(self);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn state;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Hides the current float panel.\\n\\t\\t *\\n\\t\\t * @method hide\\n\\t\\t * @return {tinymce.ui.FloatPanel} Current floatpanel instance.\\n\\t\\t */\\n\\t\\thide: function() {\\n\\t\\t\\tremoveVisiblePanel(this);\\n\\t\\t\\taddRemove(false, this);\\n\\n\\t\\t\\treturn this._super();\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Hide all visible float panels with he autohide setting enabled. This is for\\n\\t\\t * manually hiding floating menus or panels.\\n\\t\\t *\\n\\t\\t * @method hideAll\\n\\t\\t */\\n\\t\\thideAll: function() {\\n\\t\\t\\tFloatPanel.hideAll();\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Closes the float panel. This will remove the float panel from page and fire the close event.\\n\\t\\t *\\n\\t\\t * @method close\\n\\t\\t */\\n\\t\\tclose: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tif (!self.fire('close').isDefaultPrevented()) {\\n\\t\\t\\t\\tself.remove();\\n\\t\\t\\t\\taddRemove(false, self);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn self;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Removes the float panel from page.\\n\\t\\t *\\n\\t\\t * @method remove\\n\\t\\t */\\n\\t\\tremove: function() {\\n\\t\\t\\tremoveVisiblePanel(this);\\n\\t\\t\\tthis._super();\\n\\t\\t},\\n\\n\\t\\tpostRender: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tif (self.settings.bodyRole) {\\n\\t\\t\\t\\tthis.getEl('body').setAttribute('role', self.settings.bodyRole);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn self._super();\\n\\t\\t}\\n\\t});\\n\\n\\t/**\\n\\t * Hide all visible float panels with he autohide setting enabled. This is for\\n\\t * manually hiding floating menus or panels.\\n\\t *\\n\\t * @static\\n\\t * @method hideAll\\n\\t */\\n\\tFloatPanel.hideAll = function() {\\n\\t\\tvar i = visiblePanels.length;\\n\\n\\t\\twhile (i--) {\\n\\t\\t\\tvar panel = visiblePanels[i];\\n\\n\\t\\t\\tif (panel && panel.settings.autohide) {\\n\\t\\t\\t\\tpanel.hide();\\n\\t\\t\\t\\tvisiblePanels.splice(i, 1);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t};\\n\\n\\tfunction removeVisiblePanel(panel) {\\n\\t\\tvar i;\\n\\n\\t\\ti = visiblePanels.length;\\n\\t\\twhile (i--) {\\n\\t\\t\\tif (visiblePanels[i] === panel) {\\n\\t\\t\\t\\tvisiblePanels.splice(i, 1);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\ti = zOrder.length;\\n\\t\\twhile (i--) {\\n\\t\\t\\tif (zOrder[i] === panel) {\\n\\t\\t\\t\\tzOrder.splice(i, 1);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\treturn FloatPanel;\\n});\\n\\n// Included from: js/tinymce/classes/ui/Window.js\\n\\n/**\\n * Window.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Creates a new window.\\n *\\n * @-x-less Window.less\\n * @class tinymce.ui.Window\\n * @extends tinymce.ui.FloatPanel\\n */\\ndefine(\\\"tinymce/ui/Window\\\", [\\n\\t\\\"tinymce/ui/FloatPanel\\\",\\n\\t\\\"tinymce/ui/Panel\\\",\\n\\t\\\"tinymce/ui/DomUtils\\\",\\n\\t\\\"tinymce/dom/DomQuery\\\",\\n\\t\\\"tinymce/ui/DragHelper\\\",\\n\\t\\\"tinymce/ui/BoxUtils\\\",\\n\\t\\\"tinymce/Env\\\",\\n\\t\\\"tinymce/util/Delay\\\"\\n], function(FloatPanel, Panel, DomUtils, $, DragHelper, BoxUtils, Env, Delay) {\\n\\t\\\"use strict\\\";\\n\\n\\tvar windows = [], oldMetaValue = '';\\n\\n\\tfunction toggleFullScreenState(state) {\\n\\t\\tvar noScaleMetaValue = 'width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0',\\n\\t\\t\\tviewport = $(\\\"meta[name=viewport]\\\")[0],\\n\\t\\t\\tcontentValue;\\n\\n\\t\\tif (Env.overrideViewPort === false) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tif (!viewport) {\\n\\t\\t\\tviewport = document.createElement('meta');\\n\\t\\t\\tviewport.setAttribute('name', 'viewport');\\n\\t\\t\\tdocument.getElementsByTagName('head')[0].appendChild(viewport);\\n\\t\\t}\\n\\n\\t\\tcontentValue = viewport.getAttribute('content');\\n\\t\\tif (contentValue && typeof oldMetaValue != 'undefined') {\\n\\t\\t\\toldMetaValue = contentValue;\\n\\t\\t}\\n\\n\\t\\tviewport.setAttribute('content', state ? noScaleMetaValue : oldMetaValue);\\n\\t}\\n\\n\\tfunction toggleBodyFullScreenClasses(classPrefix, state) {\\n\\t\\tif (checkFullscreenWindows() && state === false) {\\n\\t\\t\\t$([document.documentElement, document.body]).removeClass(classPrefix + 'fullscreen');\\n\\t\\t}\\n\\t}\\n\\n\\tfunction checkFullscreenWindows() {\\n\\t\\tfor (var i = 0; i < windows.length; i++) {\\n\\t\\t\\tif (windows[i]._fullscreen) {\\n\\t\\t\\t\\treturn true;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t\\treturn false;\\n\\t}\\n\\n\\tfunction handleWindowResize() {\\n\\t\\tif (!Env.desktop) {\\n\\t\\t\\tvar lastSize = {\\n\\t\\t\\t\\tw: window.innerWidth,\\n\\t\\t\\t\\th: window.innerHeight\\n\\t\\t\\t};\\n\\n\\t\\t\\tDelay.setInterval(function() {\\n\\t\\t\\t\\tvar w = window.innerWidth,\\n\\t\\t\\t\\t\\th = window.innerHeight;\\n\\n\\t\\t\\t\\tif (lastSize.w != w || lastSize.h != h) {\\n\\t\\t\\t\\t\\tlastSize = {\\n\\t\\t\\t\\t\\t\\tw: w,\\n\\t\\t\\t\\t\\t\\th: h\\n\\t\\t\\t\\t\\t};\\n\\n\\t\\t\\t\\t\\t$(window).trigger('resize');\\n\\t\\t\\t\\t}\\n\\t\\t\\t}, 100);\\n\\t\\t}\\n\\n\\t\\tfunction reposition() {\\n\\t\\t\\tvar i, rect = DomUtils.getWindowSize(), layoutRect;\\n\\n\\t\\t\\tfor (i = 0; i < windows.length; i++) {\\n\\t\\t\\t\\tlayoutRect = windows[i].layoutRect();\\n\\n\\t\\t\\t\\twindows[i].moveTo(\\n\\t\\t\\t\\t\\twindows[i].settings.x || Math.max(0, rect.w / 2 - layoutRect.w / 2),\\n\\t\\t\\t\\t\\twindows[i].settings.y || Math.max(0, rect.h / 2 - layoutRect.h / 2)\\n\\t\\t\\t\\t);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t$(window).on('resize', reposition);\\n\\t}\\n\\n\\tvar Window = FloatPanel.extend({\\n\\t\\tmodal: true,\\n\\n\\t\\tDefaults: {\\n\\t\\t\\tborder: 1,\\n\\t\\t\\tlayout: 'flex',\\n\\t\\t\\tcontainerCls: 'panel',\\n\\t\\t\\trole: 'dialog',\\n\\t\\t\\tcallbacks: {\\n\\t\\t\\t\\tsubmit: function() {\\n\\t\\t\\t\\t\\tthis.fire('submit', {data: this.toJSON()});\\n\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\tclose: function() {\\n\\t\\t\\t\\t\\tthis.close();\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Constructs a instance with the specified settings.\\n\\t\\t *\\n\\t\\t * @constructor\\n\\t\\t * @param {Object} settings Name/value object with settings.\\n\\t\\t */\\n\\t\\tinit: function(settings) {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tself._super(settings);\\n\\n\\t\\t\\tif (self.isRtl()) {\\n\\t\\t\\t\\tself.classes.add('rtl');\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.classes.add('window');\\n\\t\\t\\tself.bodyClasses.add('window-body');\\n\\t\\t\\tself.state.set('fixed', true);\\n\\n\\t\\t\\t// Create statusbar\\n\\t\\t\\tif (settings.buttons) {\\n\\t\\t\\t\\tself.statusbar = new Panel({\\n\\t\\t\\t\\t\\tlayout: 'flex',\\n\\t\\t\\t\\t\\tborder: '1 0 0 0',\\n\\t\\t\\t\\t\\tspacing: 3,\\n\\t\\t\\t\\t\\tpadding: 10,\\n\\t\\t\\t\\t\\talign: 'center',\\n\\t\\t\\t\\t\\tpack: self.isRtl() ? 'start' : 'end',\\n\\t\\t\\t\\t\\tdefaults: {\\n\\t\\t\\t\\t\\t\\ttype: 'button'\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\titems: settings.buttons\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\tself.statusbar.classes.add('foot');\\n\\t\\t\\t\\tself.statusbar.parent(self);\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.on('click', function(e) {\\n\\t\\t\\t\\tvar closeClass = self.classPrefix + 'close';\\n\\n\\t\\t\\t\\tif (DomUtils.hasClass(e.target, closeClass) || DomUtils.hasClass(e.target.parentNode, closeClass)) {\\n\\t\\t\\t\\t\\tself.close();\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\tself.on('cancel', function() {\\n\\t\\t\\t\\tself.close();\\n\\t\\t\\t});\\n\\n\\t\\t\\tself.aria('describedby', self.describedBy || self._id + '-none');\\n\\t\\t\\tself.aria('label', settings.title);\\n\\t\\t\\tself._fullscreen = false;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Recalculates the positions of the controls in the current container.\\n\\t\\t * This is invoked by the reflow method and shouldn't be called directly.\\n\\t\\t *\\n\\t\\t * @method recalc\\n\\t\\t */\\n\\t\\trecalc: function() {\\n\\t\\t\\tvar self = this, statusbar = self.statusbar, layoutRect, width, x, needsRecalc;\\n\\n\\t\\t\\tif (self._fullscreen) {\\n\\t\\t\\t\\tself.layoutRect(DomUtils.getWindowSize());\\n\\t\\t\\t\\tself.layoutRect().contentH = self.layoutRect().innerH;\\n\\t\\t\\t}\\n\\n\\t\\t\\tself._super();\\n\\n\\t\\t\\tlayoutRect = self.layoutRect();\\n\\n\\t\\t\\t// Resize window based on title width\\n\\t\\t\\tif (self.settings.title && !self._fullscreen) {\\n\\t\\t\\t\\twidth = layoutRect.headerW;\\n\\t\\t\\t\\tif (width > layoutRect.w) {\\n\\t\\t\\t\\t\\tx = layoutRect.x - Math.max(0, width / 2);\\n\\t\\t\\t\\t\\tself.layoutRect({w: width, x: x});\\n\\t\\t\\t\\t\\tneedsRecalc = true;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Resize window based on statusbar width\\n\\t\\t\\tif (statusbar) {\\n\\t\\t\\t\\tstatusbar.layoutRect({w: self.layoutRect().innerW}).recalc();\\n\\n\\t\\t\\t\\twidth = statusbar.layoutRect().minW + layoutRect.deltaW;\\n\\t\\t\\t\\tif (width > layoutRect.w) {\\n\\t\\t\\t\\t\\tx = layoutRect.x - Math.max(0, width - layoutRect.w);\\n\\t\\t\\t\\t\\tself.layoutRect({w: width, x: x});\\n\\t\\t\\t\\t\\tneedsRecalc = true;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Recalc body and disable auto resize\\n\\t\\t\\tif (needsRecalc) {\\n\\t\\t\\t\\tself.recalc();\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Initializes the current controls layout rect.\\n\\t\\t * This will be executed by the layout managers to determine the\\n\\t\\t * default minWidth/minHeight etc.\\n\\t\\t *\\n\\t\\t * @method initLayoutRect\\n\\t\\t * @return {Object} Layout rect instance.\\n\\t\\t */\\n\\t\\tinitLayoutRect: function() {\\n\\t\\t\\tvar self = this, layoutRect = self._super(), deltaH = 0, headEl;\\n\\n\\t\\t\\t// Reserve vertical space for title\\n\\t\\t\\tif (self.settings.title && !self._fullscreen) {\\n\\t\\t\\t\\theadEl = self.getEl('head');\\n\\n\\t\\t\\t\\tvar size = DomUtils.getSize(headEl);\\n\\n\\t\\t\\t\\tlayoutRect.headerW = size.width;\\n\\t\\t\\t\\tlayoutRect.headerH = size.height;\\n\\n\\t\\t\\t\\tdeltaH += layoutRect.headerH;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Reserve vertical space for statusbar\\n\\t\\t\\tif (self.statusbar) {\\n\\t\\t\\t\\tdeltaH += self.statusbar.layoutRect().h;\\n\\t\\t\\t}\\n\\n\\t\\t\\tlayoutRect.deltaH += deltaH;\\n\\t\\t\\tlayoutRect.minH += deltaH;\\n\\t\\t\\t//layoutRect.innerH -= deltaH;\\n\\t\\t\\tlayoutRect.h += deltaH;\\n\\n\\t\\t\\tvar rect = DomUtils.getWindowSize();\\n\\n\\t\\t\\tlayoutRect.x = self.settings.x || Math.max(0, rect.w / 2 - layoutRect.w / 2);\\n\\t\\t\\tlayoutRect.y = self.settings.y || Math.max(0, rect.h / 2 - layoutRect.h / 2);\\n\\n\\t\\t\\treturn layoutRect;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Renders the control as a HTML string.\\n\\t\\t *\\n\\t\\t * @method renderHtml\\n\\t\\t * @return {String} HTML representing the control.\\n\\t\\t */\\n\\t\\trenderHtml: function() {\\n\\t\\t\\tvar self = this, layout = self._layout, id = self._id, prefix = self.classPrefix;\\n\\t\\t\\tvar settings = self.settings, headerHtml = '', footerHtml = '', html = settings.html;\\n\\n\\t\\t\\tself.preRender();\\n\\t\\t\\tlayout.preRender(self);\\n\\n\\t\\t\\tif (settings.title) {\\n\\t\\t\\t\\theaderHtml = (\\n\\t\\t\\t\\t\\t'<div id=\\\"' + id + '-head\\\" class=\\\"' + prefix + 'window-head\\\">' +\\n\\t\\t\\t\\t\\t\\t'<div id=\\\"' + id + '-title\\\" class=\\\"' + prefix + 'title\\\">' + self.encode(settings.title) + '</div>' +\\n\\t\\t\\t\\t\\t\\t'<div id=\\\"' + id + '-dragh\\\" class=\\\"' + prefix + 'dragh\\\"></div>' +\\n\\t\\t\\t\\t\\t\\t'<button type=\\\"button\\\" class=\\\"' + prefix + 'close\\\" aria-hidden=\\\"true\\\">' +\\n\\t\\t\\t\\t\\t\\t\\t'<i class=\\\"mce-ico mce-i-remove\\\"></i>' +\\n\\t\\t\\t\\t\\t\\t'</button>' +\\n\\t\\t\\t\\t\\t'</div>'\\n\\t\\t\\t\\t);\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (settings.url) {\\n\\t\\t\\t\\thtml = '<iframe src=\\\"' + settings.url + '\\\" tabindex=\\\"-1\\\"></iframe>';\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (typeof html == \\\"undefined\\\") {\\n\\t\\t\\t\\thtml = layout.renderHtml(self);\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (self.statusbar) {\\n\\t\\t\\t\\tfooterHtml = self.statusbar.renderHtml();\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn (\\n\\t\\t\\t\\t'<div id=\\\"' + id + '\\\" class=\\\"' + self.classes + '\\\" hidefocus=\\\"1\\\">' +\\n\\t\\t\\t\\t\\t'<div class=\\\"' + self.classPrefix + 'reset\\\" role=\\\"application\\\">' +\\n\\t\\t\\t\\t\\t\\theaderHtml +\\n\\t\\t\\t\\t\\t\\t'<div id=\\\"' + id + '-body\\\" class=\\\"' + self.bodyClasses + '\\\">' +\\n\\t\\t\\t\\t\\t\\t\\thtml +\\n\\t\\t\\t\\t\\t\\t'</div>' +\\n\\t\\t\\t\\t\\t\\tfooterHtml +\\n\\t\\t\\t\\t\\t'</div>' +\\n\\t\\t\\t\\t'</div>'\\n\\t\\t\\t);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Switches the window fullscreen mode.\\n\\t\\t *\\n\\t\\t * @method fullscreen\\n\\t\\t * @param {Boolean} state True/false state.\\n\\t\\t * @return {tinymce.ui.Window} Current window instance.\\n\\t\\t */\\n\\t\\tfullscreen: function(state) {\\n\\t\\t\\tvar self = this, documentElement = document.documentElement, slowRendering, prefix = self.classPrefix, layoutRect;\\n\\n\\t\\t\\tif (state != self._fullscreen) {\\n\\t\\t\\t\\t$(window).on('resize', function() {\\n\\t\\t\\t\\t\\tvar time;\\n\\n\\t\\t\\t\\t\\tif (self._fullscreen) {\\n\\t\\t\\t\\t\\t\\t// Time the layout time if it's to slow use a timeout to not hog the CPU\\n\\t\\t\\t\\t\\t\\tif (!slowRendering) {\\n\\t\\t\\t\\t\\t\\t\\ttime = new Date().getTime();\\n\\n\\t\\t\\t\\t\\t\\t\\tvar rect = DomUtils.getWindowSize();\\n\\t\\t\\t\\t\\t\\t\\tself.moveTo(0, 0).resizeTo(rect.w, rect.h);\\n\\n\\t\\t\\t\\t\\t\\t\\tif ((new Date().getTime()) - time > 50) {\\n\\t\\t\\t\\t\\t\\t\\t\\tslowRendering = true;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\tif (!self._timer) {\\n\\t\\t\\t\\t\\t\\t\\t\\tself._timer = Delay.setTimeout(function() {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tvar rect = DomUtils.getWindowSize();\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tself.moveTo(0, 0).resizeTo(rect.w, rect.h);\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tself._timer = 0;\\n\\t\\t\\t\\t\\t\\t\\t\\t}, 50);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\tlayoutRect = self.layoutRect();\\n\\t\\t\\t\\tself._fullscreen = state;\\n\\n\\t\\t\\t\\tif (!state) {\\n\\t\\t\\t\\t\\tself.borderBox = BoxUtils.parseBox(self.settings.border);\\n\\t\\t\\t\\t\\tself.getEl('head').style.display = '';\\n\\t\\t\\t\\t\\tlayoutRect.deltaH += layoutRect.headerH;\\n\\t\\t\\t\\t\\t$([documentElement, document.body]).removeClass(prefix + 'fullscreen');\\n\\t\\t\\t\\t\\tself.classes.remove('fullscreen');\\n\\t\\t\\t\\t\\tself.moveTo(self._initial.x, self._initial.y).resizeTo(self._initial.w, self._initial.h);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tself._initial = {x: layoutRect.x, y: layoutRect.y, w: layoutRect.w, h: layoutRect.h};\\n\\n\\t\\t\\t\\t\\tself.borderBox = BoxUtils.parseBox('0');\\n\\t\\t\\t\\t\\tself.getEl('head').style.display = 'none';\\n\\t\\t\\t\\t\\tlayoutRect.deltaH -= layoutRect.headerH + 2;\\n\\t\\t\\t\\t\\t$([documentElement, document.body]).addClass(prefix + 'fullscreen');\\n\\t\\t\\t\\t\\tself.classes.add('fullscreen');\\n\\n\\t\\t\\t\\t\\tvar rect = DomUtils.getWindowSize();\\n\\t\\t\\t\\t\\tself.moveTo(0, 0).resizeTo(rect.w, rect.h);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn self.reflow();\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Called after the control has been rendered.\\n\\t\\t *\\n\\t\\t * @method postRender\\n\\t\\t */\\n\\t\\tpostRender: function() {\\n\\t\\t\\tvar self = this, startPos;\\n\\n\\t\\t\\tsetTimeout(function() {\\n\\t\\t\\t\\tself.classes.add('in');\\n\\t\\t\\t\\tself.fire('open');\\n\\t\\t\\t}, 0);\\n\\n\\t\\t\\tself._super();\\n\\n\\t\\t\\tif (self.statusbar) {\\n\\t\\t\\t\\tself.statusbar.postRender();\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.focus();\\n\\n\\t\\t\\tthis.dragHelper = new DragHelper(self._id + '-dragh', {\\n\\t\\t\\t\\tstart: function() {\\n\\t\\t\\t\\t\\tstartPos = {\\n\\t\\t\\t\\t\\t\\tx: self.layoutRect().x,\\n\\t\\t\\t\\t\\t\\ty: self.layoutRect().y\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\tdrag: function(e) {\\n\\t\\t\\t\\t\\tself.moveTo(startPos.x + e.deltaX, startPos.y + e.deltaY);\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\tself.on('submit', function(e) {\\n\\t\\t\\t\\tif (!e.isDefaultPrevented()) {\\n\\t\\t\\t\\t\\tself.close();\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\twindows.push(self);\\n\\t\\t\\ttoggleFullScreenState(true);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Fires a submit event with the serialized form.\\n\\t\\t *\\n\\t\\t * @method submit\\n\\t\\t * @return {Object} Event arguments object.\\n\\t\\t */\\n\\t\\tsubmit: function() {\\n\\t\\t\\treturn this.fire('submit', {data: this.toJSON()});\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Removes the current control from DOM and from UI collections.\\n\\t\\t *\\n\\t\\t * @method remove\\n\\t\\t * @return {tinymce.ui.Control} Current control instance.\\n\\t\\t */\\n\\t\\tremove: function() {\\n\\t\\t\\tvar self = this, i;\\n\\n\\t\\t\\tself.dragHelper.destroy();\\n\\t\\t\\tself._super();\\n\\n\\t\\t\\tif (self.statusbar) {\\n\\t\\t\\t\\tthis.statusbar.remove();\\n\\t\\t\\t}\\n\\n\\t\\t\\ttoggleBodyFullScreenClasses(self.classPrefix, false);\\n\\n\\t\\t\\ti = windows.length;\\n\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\tif (windows[i] === self) {\\n\\t\\t\\t\\t\\twindows.splice(i, 1);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\ttoggleFullScreenState(windows.length > 0);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns the contentWindow object of the iframe if it exists.\\n\\t\\t *\\n\\t\\t * @method getContentWindow\\n\\t\\t * @return {Window} window object or null.\\n\\t\\t */\\n\\t\\tgetContentWindow: function() {\\n\\t\\t\\tvar ifr = this.getEl().getElementsByTagName('iframe')[0];\\n\\t\\t\\treturn ifr ? ifr.contentWindow : null;\\n\\t\\t}\\n\\t});\\n\\n\\thandleWindowResize();\\n\\n\\treturn Window;\\n});\\n\\n// Included from: js/tinymce/classes/ui/MessageBox.js\\n\\n/**\\n * MessageBox.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class is used to create MessageBoxes like alerts/confirms etc.\\n *\\n * @class tinymce.ui.MessageBox\\n * @extends tinymce.ui.FloatPanel\\n */\\ndefine(\\\"tinymce/ui/MessageBox\\\", [\\n\\t\\\"tinymce/ui/Window\\\"\\n], function(Window) {\\n\\t\\\"use strict\\\";\\n\\n\\tvar MessageBox = Window.extend({\\n\\t\\t/**\\n\\t\\t * Constructs a instance with the specified settings.\\n\\t\\t *\\n\\t\\t * @constructor\\n\\t\\t * @param {Object} settings Name/value object with settings.\\n\\t\\t */\\n\\t\\tinit: function(settings) {\\n\\t\\t\\tsettings = {\\n\\t\\t\\t\\tborder: 1,\\n\\t\\t\\t\\tpadding: 20,\\n\\t\\t\\t\\tlayout: 'flex',\\n\\t\\t\\t\\tpack: \\\"center\\\",\\n\\t\\t\\t\\talign: \\\"center\\\",\\n\\t\\t\\t\\tcontainerCls: 'panel',\\n\\t\\t\\t\\tautoScroll: true,\\n\\t\\t\\t\\tbuttons: {type: \\\"button\\\", text: \\\"Ok\\\", action: \\\"ok\\\"},\\n\\t\\t\\t\\titems: {\\n\\t\\t\\t\\t\\ttype: \\\"label\\\",\\n\\t\\t\\t\\t\\tmultiline: true,\\n\\t\\t\\t\\t\\tmaxWidth: 500,\\n\\t\\t\\t\\t\\tmaxHeight: 200\\n\\t\\t\\t\\t}\\n\\t\\t\\t};\\n\\n\\t\\t\\tthis._super(settings);\\n\\t\\t},\\n\\n\\t\\tStatics: {\\n\\t\\t\\t/**\\n\\t\\t\\t * Ok buttons constant.\\n\\t\\t\\t *\\n\\t\\t\\t * @static\\n\\t\\t\\t * @final\\n\\t\\t\\t * @field {Number} OK\\n\\t\\t\\t */\\n\\t\\t\\tOK: 1,\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Ok/cancel buttons constant.\\n\\t\\t\\t *\\n\\t\\t\\t * @static\\n\\t\\t\\t * @final\\n\\t\\t\\t * @field {Number} OK_CANCEL\\n\\t\\t\\t */\\n\\t\\t\\tOK_CANCEL: 2,\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * yes/no buttons constant.\\n\\t\\t\\t *\\n\\t\\t\\t * @static\\n\\t\\t\\t * @final\\n\\t\\t\\t * @field {Number} YES_NO\\n\\t\\t\\t */\\n\\t\\t\\tYES_NO: 3,\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * yes/no/cancel buttons constant.\\n\\t\\t\\t *\\n\\t\\t\\t * @static\\n\\t\\t\\t * @final\\n\\t\\t\\t * @field {Number} YES_NO_CANCEL\\n\\t\\t\\t */\\n\\t\\t\\tYES_NO_CANCEL: 4,\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Constructs a new message box and renders it to the body element.\\n\\t\\t\\t *\\n\\t\\t\\t * @static\\n\\t\\t\\t * @method msgBox\\n\\t\\t\\t * @param {Object} settings Name/value object with settings.\\n\\t\\t\\t */\\n\\t\\t\\tmsgBox: function(settings) {\\n\\t\\t\\t\\tvar buttons, callback = settings.callback || function() {};\\n\\n\\t\\t\\t\\tfunction createButton(text, status, primary) {\\n\\t\\t\\t\\t\\treturn {\\n\\t\\t\\t\\t\\t\\ttype: \\\"button\\\",\\n\\t\\t\\t\\t\\t\\ttext: text,\\n\\t\\t\\t\\t\\t\\tsubtype: primary ? 'primary' : '',\\n\\t\\t\\t\\t\\t\\tonClick: function(e) {\\n\\t\\t\\t\\t\\t\\t\\te.control.parents()[1].close();\\n\\t\\t\\t\\t\\t\\t\\tcallback(status);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tswitch (settings.buttons) {\\n\\t\\t\\t\\t\\tcase MessageBox.OK_CANCEL:\\n\\t\\t\\t\\t\\t\\tbuttons = [\\n\\t\\t\\t\\t\\t\\t\\tcreateButton('Ok', true, true),\\n\\t\\t\\t\\t\\t\\t\\tcreateButton('Cancel', false)\\n\\t\\t\\t\\t\\t\\t];\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\t\\tcase MessageBox.YES_NO:\\n\\t\\t\\t\\t\\tcase MessageBox.YES_NO_CANCEL:\\n\\t\\t\\t\\t\\t\\tbuttons = [\\n\\t\\t\\t\\t\\t\\t\\tcreateButton('Yes', 1, true),\\n\\t\\t\\t\\t\\t\\t\\tcreateButton('No', 0)\\n\\t\\t\\t\\t\\t\\t];\\n\\n\\t\\t\\t\\t\\t\\tif (settings.buttons == MessageBox.YES_NO_CANCEL) {\\n\\t\\t\\t\\t\\t\\t\\tbuttons.push(createButton('Cancel', -1));\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\t\\tdefault:\\n\\t\\t\\t\\t\\t\\tbuttons = [\\n\\t\\t\\t\\t\\t\\t\\tcreateButton('Ok', true, true)\\n\\t\\t\\t\\t\\t\\t];\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn new Window({\\n\\t\\t\\t\\t\\tpadding: 20,\\n\\t\\t\\t\\t\\tx: settings.x,\\n\\t\\t\\t\\t\\ty: settings.y,\\n\\t\\t\\t\\t\\tminWidth: 300,\\n\\t\\t\\t\\t\\tminHeight: 100,\\n\\t\\t\\t\\t\\tlayout: \\\"flex\\\",\\n\\t\\t\\t\\t\\tpack: \\\"center\\\",\\n\\t\\t\\t\\t\\talign: \\\"center\\\",\\n\\t\\t\\t\\t\\tbuttons: buttons,\\n\\t\\t\\t\\t\\ttitle: settings.title,\\n\\t\\t\\t\\t\\trole: 'alertdialog',\\n\\t\\t\\t\\t\\titems: {\\n\\t\\t\\t\\t\\t\\ttype: \\\"label\\\",\\n\\t\\t\\t\\t\\t\\tmultiline: true,\\n\\t\\t\\t\\t\\t\\tmaxWidth: 500,\\n\\t\\t\\t\\t\\t\\tmaxHeight: 200,\\n\\t\\t\\t\\t\\t\\ttext: settings.text\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\tonPostRender: function() {\\n\\t\\t\\t\\t\\t\\tthis.aria('describedby', this.items()[0]._id);\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\tonClose: settings.onClose,\\n\\t\\t\\t\\t\\tonCancel: function() {\\n\\t\\t\\t\\t\\t\\tcallback(false);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}).renderTo(document.body).reflow();\\n\\t\\t\\t},\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Creates a new alert dialog.\\n\\t\\t\\t *\\n\\t\\t\\t * @method alert\\n\\t\\t\\t * @param {Object} settings Settings for the alert dialog.\\n\\t\\t\\t * @param {function} [callback] Callback to execute when the user makes a choice.\\n\\t\\t\\t */\\n\\t\\t\\talert: function(settings, callback) {\\n\\t\\t\\t\\tif (typeof settings == \\\"string\\\") {\\n\\t\\t\\t\\t\\tsettings = {text: settings};\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tsettings.callback = callback;\\n\\t\\t\\t\\treturn MessageBox.msgBox(settings);\\n\\t\\t\\t},\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Creates a new confirm dialog.\\n\\t\\t\\t *\\n\\t\\t\\t * @method confirm\\n\\t\\t\\t * @param {Object} settings Settings for the confirm dialog.\\n\\t\\t\\t * @param {function} [callback] Callback to execute when the user makes a choice.\\n\\t\\t\\t */\\n\\t\\t\\tconfirm: function(settings, callback) {\\n\\t\\t\\t\\tif (typeof settings == \\\"string\\\") {\\n\\t\\t\\t\\t\\tsettings = {text: settings};\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tsettings.callback = callback;\\n\\t\\t\\t\\tsettings.buttons = MessageBox.OK_CANCEL;\\n\\n\\t\\t\\t\\treturn MessageBox.msgBox(settings);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t});\\n\\n\\treturn MessageBox;\\n});\\n\\n// Included from: js/tinymce/classes/WindowManager.js\\n\\n/**\\n * WindowManager.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class handles the creation of native windows and dialogs. This class can be extended to provide for example inline dialogs.\\n *\\n * @class tinymce.WindowManager\\n * @example\\n * // Opens a new dialog with the file.htm file and the size 320x240\\n * // It also adds a custom parameter this can be retrieved by using tinyMCEPopup.getWindowArg inside the dialog.\\n * tinymce.activeEditor.windowManager.open({\\n *    url: 'file.htm',\\n *    width: 320,\\n *    height: 240\\n * }, {\\n *    custom_param: 1\\n * });\\n *\\n * // Displays an alert box using the active editors window manager instance\\n * tinymce.activeEditor.windowManager.alert('Hello world!');\\n *\\n * // Displays an confirm box and an alert message will be displayed depending on what you choose in the confirm\\n * tinymce.activeEditor.windowManager.confirm(\\\"Do you want to do something\\\", function(s) {\\n *    if (s)\\n *       tinymce.activeEditor.windowManager.alert(\\\"Ok\\\");\\n *    else\\n *       tinymce.activeEditor.windowManager.alert(\\\"Cancel\\\");\\n * });\\n */\\ndefine(\\\"tinymce/WindowManager\\\", [\\n\\t\\\"tinymce/ui/Window\\\",\\n\\t\\\"tinymce/ui/MessageBox\\\"\\n], function(Window, MessageBox) {\\n\\treturn function(editor) {\\n\\t\\tvar self = this, windows = [];\\n\\n\\t\\tfunction getTopMostWindow() {\\n\\t\\t\\tif (windows.length) {\\n\\t\\t\\t\\treturn windows[windows.length - 1];\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction fireOpenEvent(win) {\\n\\t\\t\\teditor.fire('OpenWindow', {\\n\\t\\t\\t\\twin: win\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\tfunction fireCloseEvent(win) {\\n\\t\\t\\teditor.fire('CloseWindow', {\\n\\t\\t\\t\\twin: win\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\tself.windows = windows;\\n\\n\\t\\teditor.on('remove', function() {\\n\\t\\t\\tvar i = windows.length;\\n\\n\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\twindows[i].close();\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\t/**\\n\\t\\t * Opens a new window.\\n\\t\\t *\\n\\t\\t * @method open\\n\\t\\t * @param {Object} args Optional name/value settings collection contains things like width/height/url etc.\\n\\t\\t * @param {Object} params Options like title, file, width, height etc.\\n\\t\\t * @option {String} title Window title.\\n\\t\\t * @option {String} file URL of the file to open in the window.\\n\\t\\t * @option {Number} width Width in pixels.\\n\\t\\t * @option {Number} height Height in pixels.\\n\\t\\t * @option {Boolean} autoScroll Specifies whether the popup window can have scrollbars if required (i.e. content\\n\\t\\t * larger than the popup size specified).\\n\\t\\t */\\n\\t\\tself.open = function(args, params) {\\n\\t\\t\\tvar win;\\n\\n\\t\\t\\teditor.editorManager.setActive(editor);\\n\\n\\t\\t\\targs.title = args.title || ' ';\\n\\n\\t\\t\\t// Handle URL\\n\\t\\t\\targs.url = args.url || args.file; // Legacy\\n\\t\\t\\tif (args.url) {\\n\\t\\t\\t\\targs.width = parseInt(args.width || 320, 10);\\n\\t\\t\\t\\targs.height = parseInt(args.height || 240, 10);\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Handle body\\n\\t\\t\\tif (args.body) {\\n\\t\\t\\t\\targs.items = {\\n\\t\\t\\t\\t\\tdefaults: args.defaults,\\n\\t\\t\\t\\t\\ttype: args.bodyType || 'form',\\n\\t\\t\\t\\t\\titems: args.body,\\n\\t\\t\\t\\t\\tdata: args.data,\\n\\t\\t\\t\\t\\tcallbacks: args.commands\\n\\t\\t\\t\\t};\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!args.url && !args.buttons) {\\n\\t\\t\\t\\targs.buttons = [\\n\\t\\t\\t\\t\\t{text: 'Ok', subtype: 'primary', onclick: function() {\\n\\t\\t\\t\\t\\t\\twin.find('form')[0].submit();\\n\\t\\t\\t\\t\\t}},\\n\\n\\t\\t\\t\\t\\t{text: 'Cancel', onclick: function() {\\n\\t\\t\\t\\t\\t\\twin.close();\\n\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t];\\n\\t\\t\\t}\\n\\n\\t\\t\\twin = new Window(args);\\n\\t\\t\\twindows.push(win);\\n\\n\\t\\t\\twin.on('close', function() {\\n\\t\\t\\t\\tvar i = windows.length;\\n\\n\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\tif (windows[i] === win) {\\n\\t\\t\\t\\t\\t\\twindows.splice(i, 1);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (!windows.length) {\\n\\t\\t\\t\\t\\teditor.focus();\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfireCloseEvent(win);\\n\\t\\t\\t});\\n\\n\\t\\t\\t// Handle data\\n\\t\\t\\tif (args.data) {\\n\\t\\t\\t\\twin.on('postRender', function() {\\n\\t\\t\\t\\t\\tthis.find('*').each(function(ctrl) {\\n\\t\\t\\t\\t\\t\\tvar name = ctrl.name();\\n\\n\\t\\t\\t\\t\\t\\tif (name in args.data) {\\n\\t\\t\\t\\t\\t\\t\\tctrl.value(args.data[name]);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\t// store args and parameters\\n\\t\\t\\twin.features = args || {};\\n\\t\\t\\twin.params = params || {};\\n\\n\\t\\t\\t// Takes a snapshot in the FocusManager of the selection before focus is lost to dialog\\n\\t\\t\\tif (windows.length === 1) {\\n\\t\\t\\t\\teditor.nodeChanged();\\n\\t\\t\\t}\\n\\n\\t\\t\\twin = win.renderTo().reflow();\\n\\n\\t\\t\\tfireOpenEvent(win);\\n\\n\\t\\t\\treturn win;\\n\\t\\t};\\n\\n\\t\\t/**\\n\\t\\t * Creates a alert dialog. Please don't use the blocking behavior of this\\n\\t\\t * native version use the callback method instead then it can be extended.\\n\\t\\t *\\n\\t\\t * @method alert\\n\\t\\t * @param {String} message Text to display in the new alert dialog.\\n\\t\\t * @param {function} callback Callback function to be executed after the user has selected ok.\\n\\t\\t * @param {Object} scope Optional scope to execute the callback in.\\n\\t\\t * @example\\n\\t\\t * // Displays an alert box using the active editors window manager instance\\n\\t\\t * tinymce.activeEditor.windowManager.alert('Hello world!');\\n\\t\\t */\\n\\t\\tself.alert = function(message, callback, scope) {\\n\\t\\t\\tvar win;\\n\\n\\t\\t\\twin = MessageBox.alert(message, function() {\\n\\t\\t\\t\\tif (callback) {\\n\\t\\t\\t\\t\\tcallback.call(scope || this);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\teditor.focus();\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\twin.on('close', function() {\\n\\t\\t\\t\\tfireCloseEvent(win);\\n\\t\\t\\t});\\n\\n\\t\\t\\tfireOpenEvent(win);\\n\\t\\t};\\n\\n\\t\\t/**\\n\\t\\t * Creates a confirm dialog. Please don't use the blocking behavior of this\\n\\t\\t * native version use the callback method instead then it can be extended.\\n\\t\\t *\\n\\t\\t * @method confirm\\n\\t\\t * @param {String} message Text to display in the new confirm dialog.\\n\\t\\t * @param {function} callback Callback function to be executed after the user has selected ok or cancel.\\n\\t\\t * @param {Object} scope Optional scope to execute the callback in.\\n\\t\\t * @example\\n\\t\\t * // Displays an confirm box and an alert message will be displayed depending on what you choose in the confirm\\n\\t\\t * tinymce.activeEditor.windowManager.confirm(\\\"Do you want to do something\\\", function(s) {\\n\\t\\t *    if (s)\\n\\t\\t *       tinymce.activeEditor.windowManager.alert(\\\"Ok\\\");\\n\\t\\t *    else\\n\\t\\t *       tinymce.activeEditor.windowManager.alert(\\\"Cancel\\\");\\n\\t\\t * });\\n\\t\\t */\\n\\t\\tself.confirm = function(message, callback, scope) {\\n\\t\\t\\tvar win;\\n\\n\\t\\t\\twin = MessageBox.confirm(message, function(state) {\\n\\t\\t\\t\\tcallback.call(scope || this, state);\\n\\t\\t\\t});\\n\\n\\t\\t\\twin.on('close', function() {\\n\\t\\t\\t\\tfireCloseEvent(win);\\n\\t\\t\\t});\\n\\n\\t\\t\\tfireOpenEvent(win);\\n\\t\\t};\\n\\n\\t\\t/**\\n\\t\\t * Closes the top most window.\\n\\t\\t *\\n\\t\\t * @method close\\n\\t\\t */\\n\\t\\tself.close = function() {\\n\\t\\t\\tif (getTopMostWindow()) {\\n\\t\\t\\t\\tgetTopMostWindow().close();\\n\\t\\t\\t}\\n\\t\\t};\\n\\n\\t\\t/**\\n\\t\\t * Returns the params of the last window open call. This can be used in iframe based\\n\\t\\t * dialog to get params passed from the tinymce plugin.\\n\\t\\t *\\n\\t\\t * @example\\n\\t\\t * var dialogArguments = top.tinymce.activeEditor.windowManager.getParams();\\n\\t\\t *\\n\\t\\t * @method getParams\\n\\t\\t * @return {Object} Name/value object with parameters passed from windowManager.open call.\\n\\t\\t */\\n\\t\\tself.getParams = function() {\\n\\t\\t\\treturn getTopMostWindow() ? getTopMostWindow().params : null;\\n\\t\\t};\\n\\n\\t\\t/**\\n\\t\\t * Sets the params of the last opened window.\\n\\t\\t *\\n\\t\\t * @method setParams\\n\\t\\t * @param {Object} params Params object to set for the last opened window.\\n\\t\\t */\\n\\t\\tself.setParams = function(params) {\\n\\t\\t\\tif (getTopMostWindow()) {\\n\\t\\t\\t\\tgetTopMostWindow().params = params;\\n\\t\\t\\t}\\n\\t\\t};\\n\\n\\t\\t/**\\n\\t\\t * Returns the currently opened window objects.\\n\\t\\t *\\n\\t\\t * @method getWindows\\n\\t\\t * @return {Array} Array of the currently opened windows.\\n\\t\\t */\\n\\t\\tself.getWindows = function() {\\n\\t\\t\\treturn windows;\\n\\t\\t};\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/ui/Tooltip.js\\n\\n/**\\n * Tooltip.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Creates a tooltip instance.\\n *\\n * @-x-less ToolTip.less\\n * @class tinymce.ui.ToolTip\\n * @extends tinymce.ui.Control\\n * @mixes tinymce.ui.Movable\\n */\\ndefine(\\\"tinymce/ui/Tooltip\\\", [\\n\\t\\\"tinymce/ui/Control\\\",\\n\\t\\\"tinymce/ui/Movable\\\"\\n], function(Control, Movable) {\\n\\treturn Control.extend({\\n\\t\\tMixins: [Movable],\\n\\n\\t\\tDefaults: {\\n\\t\\t\\tclasses: 'widget tooltip tooltip-n'\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Renders the control as a HTML string.\\n\\t\\t *\\n\\t\\t * @method renderHtml\\n\\t\\t * @return {String} HTML representing the control.\\n\\t\\t */\\n\\t\\trenderHtml: function() {\\n\\t\\t\\tvar self = this, prefix = self.classPrefix;\\n\\n\\t\\t\\treturn (\\n\\t\\t\\t\\t'<div id=\\\"' + self._id + '\\\" class=\\\"' + self.classes + '\\\" role=\\\"presentation\\\">' +\\n\\t\\t\\t\\t\\t'<div class=\\\"' + prefix + 'tooltip-arrow\\\"></div>' +\\n\\t\\t\\t\\t\\t'<div class=\\\"' + prefix + 'tooltip-inner\\\">' + self.encode(self.state.get('text')) + '</div>' +\\n\\t\\t\\t\\t'</div>'\\n\\t\\t\\t);\\n\\t\\t},\\n\\n\\t\\tbindStates: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tself.state.on('change:text', function(e) {\\n\\t\\t\\t\\tself.getEl().lastChild.innerHTML = self.encode(e.value);\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn self._super();\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Repaints the control after a layout operation.\\n\\t\\t *\\n\\t\\t * @method repaint\\n\\t\\t */\\n\\t\\trepaint: function() {\\n\\t\\t\\tvar self = this, style, rect;\\n\\n\\t\\t\\tstyle = self.getEl().style;\\n\\t\\t\\trect = self._layoutRect;\\n\\n\\t\\t\\tstyle.left = rect.x + 'px';\\n\\t\\t\\tstyle.top = rect.y + 'px';\\n\\t\\t\\tstyle.zIndex = 0xFFFF + 0xFFFF;\\n\\t\\t}\\n\\t});\\n});\\n\\n// Included from: js/tinymce/classes/ui/Widget.js\\n\\n/**\\n * Widget.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Widget base class a widget is a control that has a tooltip and some basic states.\\n *\\n * @class tinymce.ui.Widget\\n * @extends tinymce.ui.Control\\n */\\ndefine(\\\"tinymce/ui/Widget\\\", [\\n\\t\\\"tinymce/ui/Control\\\",\\n\\t\\\"tinymce/ui/Tooltip\\\"\\n], function(Control, Tooltip) {\\n\\t\\\"use strict\\\";\\n\\n\\tvar tooltip;\\n\\n\\tvar Widget = Control.extend({\\n\\t\\t/**\\n\\t\\t * Constructs a instance with the specified settings.\\n\\t\\t *\\n\\t\\t * @constructor\\n\\t\\t * @param {Object} settings Name/value object with settings.\\n\\t\\t * @setting {String} tooltip Tooltip text to display when hovering.\\n\\t\\t * @setting {Boolean} autofocus True if the control should be focused when rendered.\\n\\t\\t * @setting {String} text Text to display inside widget.\\n\\t\\t */\\n\\t\\tinit: function(settings) {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tself._super(settings);\\n\\t\\t\\tsettings = self.settings;\\n\\t\\t\\tself.canFocus = true;\\n\\n\\t\\t\\tif (settings.tooltip && Widget.tooltips !== false) {\\n\\t\\t\\t\\tself.on('mouseenter', function(e) {\\n\\t\\t\\t\\t\\tvar tooltip = self.tooltip().moveTo(-0xFFFF);\\n\\n\\t\\t\\t\\t\\tif (e.control == self) {\\n\\t\\t\\t\\t\\t\\tvar rel = tooltip.text(settings.tooltip).show().testMoveRel(self.getEl(), ['bc-tc', 'bc-tl', 'bc-tr']);\\n\\n\\t\\t\\t\\t\\t\\ttooltip.classes.toggle('tooltip-n', rel == 'bc-tc');\\n\\t\\t\\t\\t\\t\\ttooltip.classes.toggle('tooltip-nw', rel == 'bc-tl');\\n\\t\\t\\t\\t\\t\\ttooltip.classes.toggle('tooltip-ne', rel == 'bc-tr');\\n\\n\\t\\t\\t\\t\\t\\ttooltip.moveRel(self.getEl(), rel);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\ttooltip.hide();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\tself.on('mouseleave mousedown click', function() {\\n\\t\\t\\t\\t\\tself.tooltip().hide();\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.aria('label', settings.ariaLabel || settings.tooltip);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns the current tooltip instance.\\n\\t\\t *\\n\\t\\t * @method tooltip\\n\\t\\t * @return {tinymce.ui.Tooltip} Tooltip instance.\\n\\t\\t */\\n\\t\\ttooltip: function() {\\n\\t\\t\\tif (!tooltip) {\\n\\t\\t\\t\\ttooltip = new Tooltip({type: 'tooltip'});\\n\\t\\t\\t\\ttooltip.renderTo();\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn tooltip;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Called after the control has been rendered.\\n\\t\\t *\\n\\t\\t * @method postRender\\n\\t\\t */\\n\\t\\tpostRender: function() {\\n\\t\\t\\tvar self = this, settings = self.settings;\\n\\n\\t\\t\\tself._super();\\n\\n\\t\\t\\tif (!self.parent() && (settings.width || settings.height)) {\\n\\t\\t\\t\\tself.initLayoutRect();\\n\\t\\t\\t\\tself.repaint();\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (settings.autofocus) {\\n\\t\\t\\t\\tself.focus();\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\tbindStates: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tfunction disable(state) {\\n\\t\\t\\t\\tself.aria('disabled', state);\\n\\t\\t\\t\\tself.classes.toggle('disabled', state);\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction active(state) {\\n\\t\\t\\t\\tself.aria('pressed', state);\\n\\t\\t\\t\\tself.classes.toggle('active', state);\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.state.on('change:disabled', function(e) {\\n\\t\\t\\t\\tdisable(e.value);\\n\\t\\t\\t});\\n\\n\\t\\t\\tself.state.on('change:active', function(e) {\\n\\t\\t\\t\\tactive(e.value);\\n\\t\\t\\t});\\n\\n\\t\\t\\tif (self.state.get('disabled')) {\\n\\t\\t\\t\\tdisable(true);\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (self.state.get('active')) {\\n\\t\\t\\t\\tactive(true);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn self._super();\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Removes the current control from DOM and from UI collections.\\n\\t\\t *\\n\\t\\t * @method remove\\n\\t\\t * @return {tinymce.ui.Control} Current control instance.\\n\\t\\t */\\n\\t\\tremove: function() {\\n\\t\\t\\tthis._super();\\n\\n\\t\\t\\tif (tooltip) {\\n\\t\\t\\t\\ttooltip.remove();\\n\\t\\t\\t\\ttooltip = null;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t});\\n\\n\\treturn Widget;\\n});\\n\\n// Included from: js/tinymce/classes/ui/Progress.js\\n\\n/**\\n * Progress.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Progress control.\\n *\\n * @-x-less Progress.less\\n * @class tinymce.ui.Progress\\n * @extends tinymce.ui.Control\\n */\\ndefine(\\\"tinymce/ui/Progress\\\", [\\n\\t\\\"tinymce/ui/Widget\\\"\\n], function(Widget) {\\n\\t\\\"use strict\\\";\\n\\n\\treturn Widget.extend({\\n\\t\\tDefaults: {\\n\\t\\t\\tvalue: 0\\n\\t\\t},\\n\\n\\t\\tinit: function(settings) {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tself._super(settings);\\n\\t\\t\\tself.classes.add('progress');\\n\\n\\t\\t\\tif (!self.settings.filter) {\\n\\t\\t\\t\\tself.settings.filter = function(value) {\\n\\t\\t\\t\\t\\treturn Math.round(value);\\n\\t\\t\\t\\t};\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\trenderHtml: function() {\\n\\t\\t\\tvar self = this, id = self._id, prefix = this.classPrefix;\\n\\n\\t\\t\\treturn (\\n\\t\\t\\t\\t'<div id=\\\"' + id + '\\\" class=\\\"' + self.classes + '\\\">' +\\n\\t\\t\\t\\t\\t'<div class=\\\"' + prefix + 'bar-container\\\">' +\\n\\t\\t\\t\\t\\t\\t'<div class=\\\"' + prefix + 'bar\\\"></div>' +\\n\\t\\t\\t\\t\\t'</div>' +\\n\\t\\t\\t\\t\\t'<div class=\\\"' + prefix + 'text\\\">0%</div>' +\\n\\t\\t\\t\\t'</div>'\\n\\t\\t\\t);\\n\\t\\t},\\n\\n\\t\\tpostRender: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tself._super();\\n\\t\\t\\tself.value(self.settings.value);\\n\\n\\t\\t\\treturn self;\\n\\t\\t},\\n\\n\\t\\tbindStates: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tfunction setValue(value) {\\n\\t\\t\\t\\tvalue = self.settings.filter(value);\\n\\t\\t\\t\\tself.getEl().lastChild.innerHTML = value + '%';\\n\\t\\t\\t\\tself.getEl().firstChild.firstChild.style.width = value + '%';\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.state.on('change:value', function(e) {\\n\\t\\t\\t\\tsetValue(e.value);\\n\\t\\t\\t});\\n\\n\\t\\t\\tsetValue(self.state.get('value'));\\n\\n\\t\\t\\treturn self._super();\\n\\t\\t}\\n\\t});\\n});\\n\\n// Included from: js/tinymce/classes/ui/Notification.js\\n\\n/**\\n * Notification.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Creates a notification instance.\\n *\\n * @-x-less Notification.less\\n * @class tinymce.ui.Notification\\n * @extends tinymce.ui.Container\\n * @mixes tinymce.ui.Movable\\n */\\ndefine(\\\"tinymce/ui/Notification\\\", [\\n\\t\\\"tinymce/ui/Control\\\",\\n\\t\\\"tinymce/ui/Movable\\\",\\n\\t\\\"tinymce/ui/Progress\\\",\\n\\t\\\"tinymce/util/Delay\\\"\\n], function(Control, Movable, Progress, Delay) {\\n\\treturn Control.extend({\\n\\t\\tMixins: [Movable],\\n\\n\\t\\tDefaults: {\\n\\t\\t\\tclasses: 'widget notification'\\n\\t\\t},\\n\\n\\t\\tinit: function(settings) {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tself._super(settings);\\n\\n\\t\\t\\tif (settings.text) {\\n\\t\\t\\t\\tself.text(settings.text);\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (settings.icon) {\\n\\t\\t\\t\\tself.icon = settings.icon;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (settings.color) {\\n\\t\\t\\t\\tself.color = settings.color;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (settings.type) {\\n\\t\\t\\t\\tself.classes.add('notification-' + settings.type);\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (settings.timeout && (settings.timeout < 0 || settings.timeout > 0) && !settings.closeButton) {\\n\\t\\t\\t\\tself.closeButton = false;\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tself.classes.add('has-close');\\n\\t\\t\\t\\tself.closeButton = true;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (settings.progressBar) {\\n\\t\\t\\t\\tself.progressBar = new Progress();\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.on('click', function(e) {\\n\\t\\t\\t\\tif (e.target.className.indexOf(self.classPrefix + 'close') != -1) {\\n\\t\\t\\t\\t\\tself.close();\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Renders the control as a HTML string.\\n\\t\\t *\\n\\t\\t * @method renderHtml\\n\\t\\t * @return {String} HTML representing the control.\\n\\t\\t */\\n\\t\\trenderHtml: function() {\\n\\t\\t\\tvar self = this, prefix = self.classPrefix, icon = '', closeButton = '', progressBar = '', notificationStyle = '';\\n\\n\\t\\t\\tif (self.icon) {\\n\\t\\t\\t\\ticon = '<i class=\\\"' + prefix + 'ico' + ' ' + prefix + 'i-' + self.icon + '\\\"></i>';\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (self.color) {\\n\\t\\t\\t\\tnotificationStyle = ' style=\\\"background-color: ' + self.color + '\\\"';\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (self.closeButton) {\\n\\t\\t\\t\\tcloseButton = '<button type=\\\"button\\\" class=\\\"' + prefix + 'close\\\" aria-hidden=\\\"true\\\">\\\\u00d7</button>';\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (self.progressBar) {\\n\\t\\t\\t\\tprogressBar = self.progressBar.renderHtml();\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn (\\n\\t\\t\\t\\t'<div id=\\\"' + self._id + '\\\" class=\\\"' + self.classes + '\\\"' + notificationStyle + ' role=\\\"presentation\\\">' +\\n\\t\\t\\t\\t\\ticon +\\n\\t\\t\\t\\t\\t'<div class=\\\"' + prefix + 'notification-inner\\\">' + self.state.get('text') + '</div>' +\\n\\t\\t\\t\\t\\tprogressBar +\\n\\t\\t\\t\\t\\tcloseButton +\\n\\t\\t\\t\\t'</div>'\\n\\t\\t\\t);\\n\\t\\t},\\n\\n\\t\\tpostRender: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tDelay.setTimeout(function() {\\n\\t\\t\\t\\tself.$el.addClass(self.classPrefix + 'in');\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn self._super();\\n\\t\\t},\\n\\n\\t\\tbindStates: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tself.state.on('change:text', function(e) {\\n\\t\\t\\t\\tself.getEl().childNodes[1].innerHTML = e.value;\\n\\t\\t\\t});\\n\\t\\t\\tif (self.progressBar) {\\n\\t\\t\\t\\tself.progressBar.bindStates();\\n\\t\\t\\t}\\n\\t\\t\\treturn self._super();\\n\\t\\t},\\n\\n\\t\\tclose: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tif (!self.fire('close').isDefaultPrevented()) {\\n\\t\\t\\t\\tself.remove();\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn self;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Repaints the control after a layout operation.\\n\\t\\t *\\n\\t\\t * @method repaint\\n\\t\\t */\\n\\t\\trepaint: function() {\\n\\t\\t\\tvar self = this, style, rect;\\n\\n\\t\\t\\tstyle = self.getEl().style;\\n\\t\\t\\trect = self._layoutRect;\\n\\n\\t\\t\\tstyle.left = rect.x + 'px';\\n\\t\\t\\tstyle.top = rect.y + 'px';\\n\\n\\t\\t\\t// Hardcoded arbitrary z-value because we want the\\n\\t\\t\\t// notifications under the other windows\\n\\t\\t\\tstyle.zIndex = 0xFFFF - 1;\\n\\t\\t}\\n\\t});\\n});\\n\\n// Included from: js/tinymce/classes/NotificationManager.js\\n\\n/**\\n * NotificationManager.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class handles the creation of TinyMCE's notifications.\\n *\\n * @class tinymce.notificationManager\\n * @example\\n * // Opens a new notification of type \\\"error\\\" with text \\\"An error occurred.\\\"\\n * tinymce.activeEditor.notificationManager.open({\\n *    text: 'An error occurred.',\\n *    type: 'error'\\n * });\\n */\\ndefine(\\\"tinymce/NotificationManager\\\", [\\n\\t\\\"tinymce/ui/Notification\\\",\\n\\t\\\"tinymce/util/Delay\\\",\\n\\t\\\"tinymce/util/Tools\\\"\\n], function(Notification, Delay, Tools) {\\n\\treturn function(editor) {\\n\\t\\tvar self = this, notifications = [];\\n\\n\\t\\tfunction getLastNotification() {\\n\\t\\t\\tif (notifications.length) {\\n\\t\\t\\t\\treturn notifications[notifications.length - 1];\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tself.notifications = notifications;\\n\\n\\t\\tfunction resizeWindowEvent() {\\n\\t\\t\\tDelay.requestAnimationFrame(function() {\\n\\t\\t\\t\\tprePositionNotifications();\\n\\t\\t\\t\\tpositionNotifications();\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\t// Since the viewport will change based on the present notifications, we need to move them all to the\\n\\t\\t// top left of the viewport to give an accurate size measurement so we can position them later.\\n\\t\\tfunction prePositionNotifications() {\\n\\t\\t\\tfor (var i = 0; i < notifications.length; i++) {\\n\\t\\t\\t\\tnotifications[i].moveTo(0, 0);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction positionNotifications() {\\n\\t\\t\\tif (notifications.length > 0) {\\n\\t\\t\\t\\tvar firstItem = notifications.slice(0, 1)[0];\\n\\t\\t\\t\\tvar container = editor.inline ? editor.getElement() : editor.getContentAreaContainer();\\n\\t\\t\\t\\tfirstItem.moveRel(container, 'tc-tc');\\n\\t\\t\\t\\tif (notifications.length > 1) {\\n\\t\\t\\t\\t\\tfor (var i = 1; i < notifications.length; i++) {\\n\\t\\t\\t\\t\\t\\tnotifications[i].moveRel(notifications[i - 1].getEl(), 'bc-tc');\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\teditor.on('remove', function() {\\n\\t\\t\\tvar i = notifications.length;\\n\\n\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\tnotifications[i].close();\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\teditor.on('ResizeEditor', positionNotifications);\\n\\t\\teditor.on('ResizeWindow', resizeWindowEvent);\\n\\n\\t\\t/**\\n\\t\\t * Opens a new notification.\\n\\t\\t *\\n\\t\\t * @method open\\n\\t\\t * @param {Object} args Optional name/value settings collection contains things like timeout/color/message etc.\\n\\t\\t */\\n\\t\\tself.open = function(args) {\\n\\t\\t\\t// Never open notification if editor has been removed.\\n\\t\\t\\tif (editor.removed) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tvar notif;\\n\\n\\t\\t\\teditor.editorManager.setActive(editor);\\n\\n\\t\\t\\tvar duplicate = findDuplicateMessage(notifications, args);\\n\\n\\t\\t\\tif (duplicate === null) {\\n\\t\\t\\t\\tnotif = new Notification(args);\\n\\t\\t\\t\\tnotifications.push(notif);\\n\\n\\t\\t\\t\\t//If we have a timeout value\\n\\t\\t\\t\\tif (args.timeout > 0) {\\n\\t\\t\\t\\t\\t\\tnotif.timer = setTimeout(function() {\\n\\t\\t\\t\\t\\t\\t\\tnotif.close();\\n\\t\\t\\t\\t\\t\\t}, args.timeout);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tnotif.on('close', function() {\\n\\t\\t\\t\\t\\tvar i = notifications.length;\\n\\n\\t\\t\\t\\t\\tif (notif.timer) {\\n\\t\\t\\t\\t\\t\\teditor.getWin().clearTimeout(notif.timer);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\t\\tif (notifications[i] === notif) {\\n\\t\\t\\t\\t\\t\\t\\tnotifications.splice(i, 1);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tpositionNotifications();\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\tnotif.renderTo();\\n\\n\\t\\t\\t\\tpositionNotifications();\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tnotif = duplicate;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn notif;\\n\\t\\t};\\n\\n\\t\\t/**\\n\\t\\t * Closes the top most notification.\\n\\t\\t *\\n\\t\\t * @method close\\n\\t\\t */\\n\\t\\tself.close = function() {\\n\\t\\t\\tif (getLastNotification()) {\\n\\t\\t\\t\\tgetLastNotification().close();\\n\\t\\t\\t}\\n\\t\\t};\\n\\n\\t\\t/**\\n\\t\\t * Returns the currently opened notification objects.\\n\\t\\t *\\n\\t\\t * @method getNotifications\\n\\t\\t * @return {Array} Array of the currently opened notifications.\\n\\t\\t */\\n\\t\\tself.getNotifications = function() {\\n\\t\\t\\treturn notifications;\\n\\t\\t};\\n\\n\\t\\teditor.on('SkinLoaded', function() {\\n\\t\\t\\tvar serviceMessage = editor.settings.service_message;\\n\\n\\t\\t\\tif (serviceMessage) {\\n\\t\\t\\t\\teditor.notificationManager.open({\\n\\t\\t\\t\\t\\ttext: serviceMessage,\\n\\t\\t\\t\\t\\ttype: 'warning',\\n\\t\\t\\t\\t\\ttimeout: 0,\\n\\t\\t\\t\\t\\ticon: ''\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\t/**\\n\\t\\t * Finds any existing notification with the same properties as the new one.\\n\\t\\t * Returns either the found notification or null.\\n\\t\\t *\\n\\t\\t * @param {Notification[]} notificationArray - Array of current notifications\\n\\t\\t * @param {type: string, } newNotification - New notification object\\n\\t\\t * @returns {?Notification}\\n\\t\\t */\\n\\t\\tfunction findDuplicateMessage(notificationArray, newNotification) {\\n\\t\\t\\tif (!isPlainTextNotification(newNotification)) {\\n\\t\\t\\t\\treturn null;\\n\\t\\t\\t}\\n\\n\\t\\t\\tvar filteredNotifications = Tools.grep(notificationArray, function (notification) {\\n\\t\\t\\t\\treturn isSameNotification(newNotification, notification);\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn filteredNotifications.length === 0 ? null : filteredNotifications[0];\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Checks if the passed in args object has the same\\n\\t\\t * type and text properties as the sent in notification.\\n\\t\\t *\\n\\t\\t * @param {type: string, text: string} a - New notification args object\\n\\t\\t * @param {Notification} b - Old notification\\n\\t\\t * @returns {boolean}\\n\\t\\t */\\n\\t\\tfunction isSameNotification(a, b) {\\n\\t\\t\\treturn a.type === b.settings.type && a.text === b.settings.text;\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Checks that the notification does not have a progressBar\\n\\t\\t * or timeour property.\\n\\t\\t *\\n\\t\\t * @param {Notification} notification - Notification to check\\n\\t\\t * @returns {boolean}\\n\\t\\t */\\n\\t\\tfunction isPlainTextNotification(notification) {\\n\\t\\t\\treturn !notification.progressBar && !notification.timeout;\\n\\t\\t}\\n\\n\\t\\t//self.positionNotifications = positionNotifications;\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/dom/NodePath.js\\n\\n/**\\n * NodePath.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Handles paths of nodes within an element.\\n *\\n * @private\\n * @class tinymce.dom.NodePath\\n */\\ndefine(\\\"tinymce/dom/NodePath\\\", [\\n\\t\\\"tinymce/dom/DOMUtils\\\"\\n], function(DOMUtils) {\\n\\tfunction create(rootNode, targetNode, normalized) {\\n\\t\\tvar path = [];\\n\\n\\t\\tfor (; targetNode && targetNode != rootNode; targetNode = targetNode.parentNode) {\\n\\t\\t\\tpath.push(DOMUtils.nodeIndex(targetNode, normalized));\\n\\t\\t}\\n\\n\\t\\treturn path;\\n\\t}\\n\\n\\tfunction resolve(rootNode, path) {\\n\\t\\tvar i, node, children;\\n\\n\\t\\tfor (node = rootNode, i = path.length - 1; i >= 0; i--) {\\n\\t\\t\\tchildren = node.childNodes;\\n\\n\\t\\t\\tif (path[i] > children.length - 1) {\\n\\t\\t\\t\\treturn null;\\n\\t\\t\\t}\\n\\n\\t\\t\\tnode = children[path[i]];\\n\\t\\t}\\n\\n\\t\\treturn node;\\n\\t}\\n\\n\\treturn {\\n\\t\\tcreate: create,\\n\\t\\tresolve: resolve\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/util/Quirks.js\\n\\n/**\\n * Quirks.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n *\\n * @ignore-file\\n */\\n\\n/**\\n * This file includes fixes for various browser quirks it's made to make it easy to add/remove browser specific fixes.\\n *\\n * @private\\n * @class tinymce.util.Quirks\\n */\\ndefine(\\\"tinymce/util/Quirks\\\", [\\n\\t\\\"tinymce/util/VK\\\",\\n\\t\\\"tinymce/dom/RangeUtils\\\",\\n\\t\\\"tinymce/dom/TreeWalker\\\",\\n\\t\\\"tinymce/dom/NodePath\\\",\\n\\t\\\"tinymce/html/Node\\\",\\n\\t\\\"tinymce/html/Entities\\\",\\n\\t\\\"tinymce/Env\\\",\\n\\t\\\"tinymce/util/Tools\\\",\\n\\t\\\"tinymce/util/Delay\\\",\\n\\t\\\"tinymce/caret/CaretContainer\\\",\\n\\t\\\"tinymce/caret/CaretPosition\\\",\\n\\t\\\"tinymce/caret/CaretWalker\\\"\\n], function(VK, RangeUtils, TreeWalker, NodePath, Node, Entities, Env, Tools, Delay, CaretContainer, CaretPosition, CaretWalker) {\\n\\treturn function(editor) {\\n\\t\\tvar each = Tools.each, $ = editor.$;\\n\\t\\tvar BACKSPACE = VK.BACKSPACE, DELETE = VK.DELETE, dom = editor.dom, selection = editor.selection,\\n\\t\\t\\tsettings = editor.settings, parser = editor.parser, serializer = editor.serializer;\\n\\t\\tvar isGecko = Env.gecko, isIE = Env.ie, isWebKit = Env.webkit;\\n\\t\\tvar mceInternalUrlPrefix = 'data:text/mce-internal,';\\n\\t\\tvar mceInternalDataType = isIE ? 'Text' : 'URL';\\n\\n\\t\\t/**\\n\\t\\t * Executes a command with a specific state this can be to enable/disable browser editing features.\\n\\t\\t */\\n\\t\\tfunction setEditorCommandState(cmd, state) {\\n\\t\\t\\ttry {\\n\\t\\t\\t\\teditor.getDoc().execCommand(cmd, false, state);\\n\\t\\t\\t} catch (ex) {\\n\\t\\t\\t\\t// Ignore\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Returns current IE document mode.\\n\\t\\t */\\n\\t\\tfunction getDocumentMode() {\\n\\t\\t\\tvar documentMode = editor.getDoc().documentMode;\\n\\n\\t\\t\\treturn documentMode ? documentMode : 6;\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Returns true/false if the event is prevented or not.\\n\\t\\t *\\n\\t\\t * @private\\n\\t\\t * @param {Event} e Event object.\\n\\t\\t * @return {Boolean} true/false if the event is prevented or not.\\n\\t\\t */\\n\\t\\tfunction isDefaultPrevented(e) {\\n\\t\\t\\treturn e.isDefaultPrevented();\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Sets Text/URL data on the event's dataTransfer object to a special data:text/mce-internal url.\\n\\t\\t * This is to workaround the inability to set custom contentType on IE and Safari.\\n\\t\\t * The editor's selected content is encoded into this url so drag and drop between editors will work.\\n\\t\\t *\\n\\t\\t * @private\\n\\t\\t * @param {DragEvent} e Event object\\n\\t\\t */\\n\\t\\tfunction setMceInternalContent(e) {\\n\\t\\t\\tvar selectionHtml, internalContent;\\n\\n\\t\\t\\tif (e.dataTransfer) {\\n\\t\\t\\t\\tif (editor.selection.isCollapsed() && e.target.tagName == 'IMG') {\\n\\t\\t\\t\\t\\tselection.select(e.target);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tselectionHtml = editor.selection.getContent();\\n\\n\\t\\t\\t\\t// Safari/IE doesn't support custom dataTransfer items so we can only use URL and Text\\n\\t\\t\\t\\tif (selectionHtml.length > 0) {\\n\\t\\t\\t\\t\\tinternalContent = mceInternalUrlPrefix + escape(editor.id) + ',' + escape(selectionHtml);\\n\\t\\t\\t\\t\\te.dataTransfer.setData(mceInternalDataType, internalContent);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Gets content of special data:text/mce-internal url on the event's dataTransfer object.\\n\\t\\t * This is to workaround the inability to set custom contentType on IE and Safari.\\n\\t\\t * The editor's selected content is encoded into this url so drag and drop between editors will work.\\n\\t\\t *\\n\\t\\t * @private\\n\\t\\t * @param {DragEvent} e Event object\\n\\t\\t * @returns {String} mce-internal content\\n\\t\\t */\\n\\t\\tfunction getMceInternalContent(e) {\\n\\t\\t\\tvar internalContent;\\n\\n\\t\\t\\tif (e.dataTransfer) {\\n\\t\\t\\t\\tinternalContent = e.dataTransfer.getData(mceInternalDataType);\\n\\n\\t\\t\\t\\tif (internalContent && internalContent.indexOf(mceInternalUrlPrefix) >= 0) {\\n\\t\\t\\t\\t\\tinternalContent = internalContent.substr(mceInternalUrlPrefix.length).split(',');\\n\\n\\t\\t\\t\\t\\treturn {\\n\\t\\t\\t\\t\\t\\tid: unescape(internalContent[0]),\\n\\t\\t\\t\\t\\t\\thtml: unescape(internalContent[1])\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn null;\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Inserts contents using the paste clipboard command if it's available if it isn't it will fallback\\n\\t\\t * to the core command.\\n\\t\\t *\\n\\t\\t * @private\\n\\t\\t * @param {String} content Content to insert at selection.\\n\\t\\t */\\n\\t\\tfunction insertClipboardContents(content) {\\n\\t\\t\\tif (editor.queryCommandSupported('mceInsertClipboardContent')) {\\n\\t\\t\\t\\teditor.execCommand('mceInsertClipboardContent', false, {content: content});\\n\\t\\t\\t} else {\\n\\t\\t\\t\\teditor.execCommand('mceInsertContent', false, content);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Fixes a WebKit bug when deleting contents using backspace or delete key.\\n\\t\\t * WebKit will produce a span element if you delete across two block elements.\\n\\t\\t *\\n\\t\\t * Example:\\n\\t\\t * <h1>a</h1><p>|b</p>\\n\\t\\t *\\n\\t\\t * Will produce this on backspace:\\n\\t\\t * <h1>a<span style=\\\"<all runtime styles>\\\">b</span></p>\\n\\t\\t *\\n\\t\\t * This fixes the backspace to produce:\\n\\t\\t * <h1>a|b</p>\\n\\t\\t *\\n\\t\\t * See bug: https://bugs.webkit.org/show_bug.cgi?id=45784\\n\\t\\t *\\n\\t\\t * This fixes the following delete scenarios:\\n\\t\\t *  1. Delete by pressing backspace key.\\n\\t\\t *  2. Delete by pressing delete key.\\n\\t\\t *  3. Delete by pressing backspace key with ctrl/cmd (Word delete).\\n\\t\\t *  4. Delete by pressing delete key with ctrl/cmd (Word delete).\\n\\t\\t *  5. Delete by drag/dropping contents inside the editor.\\n\\t\\t *  6. Delete by using Cut Ctrl+X/Cmd+X.\\n\\t\\t *  7. Delete by selecting contents and writing a character.\\n\\t\\t *\\n\\t\\t * This code is a ugly hack since writing full custom delete logic for just this bug\\n\\t\\t * fix seemed like a huge task. I hope we can remove this before the year 2030.\\n\\t\\t */\\n\\t\\tfunction cleanupStylesWhenDeleting() {\\n\\t\\t\\tvar doc = editor.getDoc(), dom = editor.dom, selection = editor.selection;\\n\\t\\t\\tvar MutationObserver = window.MutationObserver, olderWebKit, dragStartRng;\\n\\n\\t\\t\\t// Add mini polyfill for older WebKits\\n\\t\\t\\t// TODO: Remove this when old Safari versions gets updated\\n\\t\\t\\tif (!MutationObserver) {\\n\\t\\t\\t\\tolderWebKit = true;\\n\\n\\t\\t\\t\\tMutationObserver = function() {\\n\\t\\t\\t\\t\\tvar records = [], target;\\n\\n\\t\\t\\t\\t\\tfunction nodeInsert(e) {\\n\\t\\t\\t\\t\\t\\tvar target = e.relatedNode || e.target;\\n\\t\\t\\t\\t\\t\\trecords.push({target: target, addedNodes: [target]});\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tfunction attrModified(e) {\\n\\t\\t\\t\\t\\t\\tvar target = e.relatedNode || e.target;\\n\\t\\t\\t\\t\\t\\trecords.push({target: target, attributeName: e.attrName});\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tthis.observe = function(node) {\\n\\t\\t\\t\\t\\t\\ttarget = node;\\n\\t\\t\\t\\t\\t\\ttarget.addEventListener('DOMSubtreeModified', nodeInsert, false);\\n\\t\\t\\t\\t\\t\\ttarget.addEventListener('DOMNodeInsertedIntoDocument', nodeInsert, false);\\n\\t\\t\\t\\t\\t\\ttarget.addEventListener('DOMNodeInserted', nodeInsert, false);\\n\\t\\t\\t\\t\\t\\ttarget.addEventListener('DOMAttrModified', attrModified, false);\\n\\t\\t\\t\\t\\t};\\n\\n\\t\\t\\t\\t\\tthis.disconnect = function() {\\n\\t\\t\\t\\t\\t\\ttarget.removeEventListener('DOMSubtreeModified', nodeInsert, false);\\n\\t\\t\\t\\t\\t\\ttarget.removeEventListener('DOMNodeInsertedIntoDocument', nodeInsert, false);\\n\\t\\t\\t\\t\\t\\ttarget.removeEventListener('DOMNodeInserted', nodeInsert, false);\\n\\t\\t\\t\\t\\t\\ttarget.removeEventListener('DOMAttrModified', attrModified, false);\\n\\t\\t\\t\\t\\t};\\n\\n\\t\\t\\t\\t\\tthis.takeRecords = function() {\\n\\t\\t\\t\\t\\t\\treturn records;\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t};\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction isTrailingBr(node) {\\n\\t\\t\\t\\tvar blockElements = dom.schema.getBlockElements(), rootNode = editor.getBody();\\n\\n\\t\\t\\t\\tif (node.nodeName != 'BR') {\\n\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfor (; node != rootNode && !blockElements[node.nodeName]; node = node.parentNode) {\\n\\t\\t\\t\\t\\tif (node.nextSibling) {\\n\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn true;\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction isSiblingsIgnoreWhiteSpace(node1, node2) {\\n\\t\\t\\t\\tvar node;\\n\\n\\t\\t\\t\\tfor (node = node1.nextSibling; node && node != node2; node = node.nextSibling) {\\n\\t\\t\\t\\t\\tif (node.nodeType == 3 && $.trim(node.data).length === 0) {\\n\\t\\t\\t\\t\\t\\tcontinue;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (node !== node2) {\\n\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn node === node2;\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction findCaretNode(node, forward, startNode) {\\n\\t\\t\\t\\tvar walker, current, nonEmptyElements;\\n\\n\\t\\t\\t\\t// Protect against the possibility we are asked to find a caret node relative\\n\\t\\t\\t\\t// to a node that is no longer in the DOM tree. In this case attempting to\\n\\t\\t\\t\\t// select on any match leads to a scenario where selection is completely removed\\n\\t\\t\\t\\t// from the editor. This scenario is met in real world at a minimum on\\n\\t\\t\\t\\t// WebKit browsers when selecting all and Cmd-X cutting to delete content.\\n\\t\\t\\t\\tif (!dom.isChildOf(node, editor.getBody())) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tnonEmptyElements = dom.schema.getNonEmptyElements();\\n\\n\\t\\t\\t\\twalker = new TreeWalker(startNode || node, node);\\n\\n\\t\\t\\t\\twhile ((current = walker[forward ? 'next' : 'prev']())) {\\n\\t\\t\\t\\t\\tif (nonEmptyElements[current.nodeName] && !isTrailingBr(current)) {\\n\\t\\t\\t\\t\\t\\treturn current;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (current.nodeType == 3 && current.data.length > 0) {\\n\\t\\t\\t\\t\\t\\treturn current;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction deleteRangeBetweenTextBlocks(rng) {\\n\\t\\t\\t\\tvar startBlock, endBlock, caretNodeBefore, caretNodeAfter, textBlockElements;\\n\\n\\t\\t\\t\\tif (rng.collapsed) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tstartBlock = dom.getParent(RangeUtils.getNode(rng.startContainer, rng.startOffset), dom.isBlock);\\n\\t\\t\\t\\tendBlock = dom.getParent(RangeUtils.getNode(rng.endContainer, rng.endOffset), dom.isBlock);\\n\\t\\t\\t\\ttextBlockElements = editor.schema.getTextBlockElements();\\n\\n\\t\\t\\t\\tif (startBlock == endBlock) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (!textBlockElements[startBlock.nodeName] || !textBlockElements[endBlock.nodeName]) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (dom.getContentEditable(startBlock) === \\\"false\\\" || dom.getContentEditable(endBlock) === \\\"false\\\") {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\trng.deleteContents();\\n\\n\\t\\t\\t\\tcaretNodeBefore = findCaretNode(startBlock, false);\\n\\t\\t\\t\\tcaretNodeAfter = findCaretNode(endBlock, true);\\n\\n\\t\\t\\t\\tif (!dom.isEmpty(endBlock)) {\\n\\t\\t\\t\\t\\t$(startBlock).append(endBlock.childNodes);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t$(endBlock).remove();\\n\\n\\t\\t\\t\\tif (caretNodeBefore) {\\n\\t\\t\\t\\t\\tif (caretNodeBefore.nodeType == 1) {\\n\\t\\t\\t\\t\\t\\tif (caretNodeBefore.nodeName == \\\"BR\\\") {\\n\\t\\t\\t\\t\\t\\t\\trng.setStartBefore(caretNodeBefore);\\n\\t\\t\\t\\t\\t\\t\\trng.setEndBefore(caretNodeBefore);\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\trng.setStartAfter(caretNodeBefore);\\n\\t\\t\\t\\t\\t\\t\\trng.setEndAfter(caretNodeBefore);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\trng.setStart(caretNodeBefore, caretNodeBefore.data.length);\\n\\t\\t\\t\\t\\t\\trng.setEnd(caretNodeBefore, caretNodeBefore.data.length);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} else if (caretNodeAfter) {\\n\\t\\t\\t\\t\\tif (caretNodeAfter.nodeType == 1) {\\n\\t\\t\\t\\t\\t\\trng.setStartBefore(caretNodeAfter);\\n\\t\\t\\t\\t\\t\\trng.setEndBefore(caretNodeAfter);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\trng.setStart(caretNodeAfter, 0);\\n\\t\\t\\t\\t\\t\\trng.setEnd(caretNodeAfter, 0);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tselection.setRng(rng);\\n\\n\\t\\t\\t\\treturn true;\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction expandBetweenBlocks(rng, isForward) {\\n\\t\\t\\t\\tvar caretNode, targetCaretNode, textBlock, targetTextBlock, container, offset;\\n\\n\\t\\t\\t\\tif (!rng.collapsed) {\\n\\t\\t\\t\\t\\treturn rng;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tcontainer = rng.startContainer;\\n\\t\\t\\t\\toffset = rng.startOffset;\\n\\n\\t\\t\\t\\tif (container.nodeType == 3) {\\n\\t\\t\\t\\t\\tif (isForward) {\\n\\t\\t\\t\\t\\t\\tif (offset < container.data.length) {\\n\\t\\t\\t\\t\\t\\t\\treturn rng;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tif (offset > 0) {\\n\\t\\t\\t\\t\\t\\t\\treturn rng;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tcaretNode = RangeUtils.getNode(container, offset);\\n\\t\\t\\t\\ttextBlock = dom.getParent(caretNode, dom.isBlock);\\n\\t\\t\\t\\ttargetCaretNode = findCaretNode(editor.getBody(), isForward, caretNode);\\n\\t\\t\\t\\ttargetTextBlock = dom.getParent(targetCaretNode, dom.isBlock);\\n\\t\\t\\t\\tvar isAfter = container.nodeType === 1 && offset > container.childNodes.length - 1;\\n\\n\\t\\t\\t\\tif (!caretNode || !targetCaretNode) {\\n\\t\\t\\t\\t\\treturn rng;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (targetTextBlock && textBlock != targetTextBlock) {\\n\\t\\t\\t\\t\\tif (!isForward) {\\n\\t\\t\\t\\t\\t\\tif (!isSiblingsIgnoreWhiteSpace(targetTextBlock, textBlock)) {\\n\\t\\t\\t\\t\\t\\t\\treturn rng;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tif (targetCaretNode.nodeType == 1) {\\n\\t\\t\\t\\t\\t\\t\\tif (targetCaretNode.nodeName == \\\"BR\\\") {\\n\\t\\t\\t\\t\\t\\t\\t\\trng.setStartBefore(targetCaretNode);\\n\\t\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\t\\trng.setStartAfter(targetCaretNode);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\trng.setStart(targetCaretNode, targetCaretNode.data.length);\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tif (caretNode.nodeType == 1) {\\n\\t\\t\\t\\t\\t\\t\\tif (isAfter) {\\n\\t\\t\\t\\t\\t\\t\\t\\trng.setEndAfter(caretNode);\\n\\t\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\t\\trng.setEndBefore(caretNode);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\trng.setEndBefore(caretNode);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tif (!isSiblingsIgnoreWhiteSpace(textBlock, targetTextBlock)) {\\n\\t\\t\\t\\t\\t\\t\\treturn rng;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tif (caretNode.nodeType == 1) {\\n\\t\\t\\t\\t\\t\\t\\tif (caretNode.nodeName == \\\"BR\\\") {\\n\\t\\t\\t\\t\\t\\t\\t\\trng.setStartBefore(caretNode);\\n\\t\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\t\\trng.setStartAfter(caretNode);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\trng.setStart(caretNode, caretNode.data.length);\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tif (targetCaretNode.nodeType == 1) {\\n\\t\\t\\t\\t\\t\\t\\trng.setEnd(targetCaretNode, 0);\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\trng.setEndBefore(targetCaretNode);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn rng;\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction handleTextBlockMergeDelete(isForward) {\\n\\t\\t\\t\\tvar rng = selection.getRng();\\n\\n\\t\\t\\t\\trng = expandBetweenBlocks(rng, isForward);\\n\\n\\t\\t\\t\\tif (deleteRangeBetweenTextBlocks(rng)) {\\n\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * This retains the formatting if the last character is to be deleted.\\n\\t\\t\\t *\\n\\t\\t\\t * Backspace on this: <p><b><i>a|</i></b></p> would become <p>|</p> in WebKit.\\n\\t\\t\\t * With this patch: <p><b><i>|<br></i></b></p>\\n\\t\\t\\t */\\n\\t\\t\\tfunction handleLastBlockCharacterDelete(isForward, rng) {\\n\\t\\t\\t\\tvar path, blockElm, newBlockElm, clonedBlockElm, sibling,\\n\\t\\t\\t\\t\\tcontainer, offset, br, currentFormatNodes;\\n\\n\\t\\t\\t\\tfunction cloneTextBlockWithFormats(blockElm, node) {\\n\\t\\t\\t\\t\\tcurrentFormatNodes = $(node).parents().filter(function(idx, node) {\\n\\t\\t\\t\\t\\t\\treturn !!editor.schema.getTextInlineElements()[node.nodeName];\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\tnewBlockElm = blockElm.cloneNode(false);\\n\\n\\t\\t\\t\\t\\tcurrentFormatNodes = Tools.map(currentFormatNodes, function(formatNode) {\\n\\t\\t\\t\\t\\t\\tformatNode = formatNode.cloneNode(false);\\n\\n\\t\\t\\t\\t\\t\\tif (newBlockElm.hasChildNodes()) {\\n\\t\\t\\t\\t\\t\\t\\tformatNode.appendChild(newBlockElm.firstChild);\\n\\t\\t\\t\\t\\t\\t\\tnewBlockElm.appendChild(formatNode);\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\tnewBlockElm.appendChild(formatNode);\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tnewBlockElm.appendChild(formatNode);\\n\\n\\t\\t\\t\\t\\t\\treturn formatNode;\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\tif (currentFormatNodes.length) {\\n\\t\\t\\t\\t\\t\\tbr = dom.create('br');\\n\\t\\t\\t\\t\\t\\tcurrentFormatNodes[0].appendChild(br);\\n\\t\\t\\t\\t\\t\\tdom.replace(newBlockElm, blockElm);\\n\\n\\t\\t\\t\\t\\t\\trng.setStartBefore(br);\\n\\t\\t\\t\\t\\t\\trng.setEndBefore(br);\\n\\t\\t\\t\\t\\t\\teditor.selection.setRng(rng);\\n\\n\\t\\t\\t\\t\\t\\treturn br;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\treturn null;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfunction isTextBlock(node) {\\n\\t\\t\\t\\t\\treturn node && editor.schema.getTextBlockElements()[node.tagName];\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (!rng.collapsed) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tcontainer = rng.startContainer;\\n\\t\\t\\t\\toffset = rng.startOffset;\\n\\t\\t\\t\\tblockElm = dom.getParent(container, dom.isBlock);\\n\\t\\t\\t\\tif (!isTextBlock(blockElm)) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (container.nodeType == 1) {\\n\\t\\t\\t\\t\\tcontainer = container.childNodes[offset];\\n\\t\\t\\t\\t\\tif (container && container.tagName != 'BR') {\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (isForward) {\\n\\t\\t\\t\\t\\t\\tsibling = blockElm.nextSibling;\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tsibling = blockElm.previousSibling;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (dom.isEmpty(blockElm) && isTextBlock(sibling) && dom.isEmpty(sibling)) {\\n\\t\\t\\t\\t\\t\\tif (cloneTextBlockWithFormats(blockElm, container)) {\\n\\t\\t\\t\\t\\t\\t\\tdom.remove(sibling);\\n\\t\\t\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} else if (container.nodeType == 3) {\\n\\t\\t\\t\\t\\tpath = NodePath.create(blockElm, container);\\n\\t\\t\\t\\t\\tclonedBlockElm = blockElm.cloneNode(true);\\n\\t\\t\\t\\t\\tcontainer = NodePath.resolve(clonedBlockElm, path);\\n\\n\\t\\t\\t\\t\\tif (isForward) {\\n\\t\\t\\t\\t\\t\\tif (offset >= container.data.length) {\\n\\t\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tcontainer.deleteData(offset, 1);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tif (offset <= 0) {\\n\\t\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tcontainer.deleteData(offset - 1, 1);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (dom.isEmpty(clonedBlockElm)) {\\n\\t\\t\\t\\t\\t\\treturn cloneTextBlockWithFormats(blockElm, container);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction customDelete(isForward) {\\n\\t\\t\\t\\tvar mutationObserver, rng, caretElement;\\n\\n\\t\\t\\t\\tif (handleTextBlockMergeDelete(isForward)) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tTools.each(editor.getBody().getElementsByTagName('*'), function(elm) {\\n\\t\\t\\t\\t\\t// Mark existing spans\\n\\t\\t\\t\\t\\tif (elm.tagName == 'SPAN') {\\n\\t\\t\\t\\t\\t\\telm.setAttribute('mce-data-marked', 1);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Make sure all elements has a data-mce-style attribute\\n\\t\\t\\t\\t\\tif (!elm.hasAttribute('data-mce-style') && elm.hasAttribute('style')) {\\n\\t\\t\\t\\t\\t\\teditor.dom.setAttrib(elm, 'style', editor.dom.getAttrib(elm, 'style'));\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t// Observe added nodes and style attribute changes\\n\\t\\t\\t\\tmutationObserver = new MutationObserver(function() {});\\n\\t\\t\\t\\tmutationObserver.observe(editor.getDoc(), {\\n\\t\\t\\t\\t\\tchildList: true,\\n\\t\\t\\t\\t\\tattributes: true,\\n\\t\\t\\t\\t\\tsubtree: true,\\n\\t\\t\\t\\t\\tattributeFilter: ['style']\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\teditor.getDoc().execCommand(isForward ? 'ForwardDelete' : 'Delete', false, null);\\n\\n\\t\\t\\t\\trng = editor.selection.getRng();\\n\\t\\t\\t\\tcaretElement = rng.startContainer.parentNode;\\n\\n\\t\\t\\t\\tTools.each(mutationObserver.takeRecords(), function(record) {\\n\\t\\t\\t\\t\\tif (!dom.isChildOf(record.target, editor.getBody())) {\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Restore style attribute to previous value\\n\\t\\t\\t\\t\\tif (record.attributeName == \\\"style\\\") {\\n\\t\\t\\t\\t\\t\\tvar oldValue = record.target.getAttribute('data-mce-style');\\n\\n\\t\\t\\t\\t\\t\\tif (oldValue) {\\n\\t\\t\\t\\t\\t\\t\\trecord.target.setAttribute(\\\"style\\\", oldValue);\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\trecord.target.removeAttribute(\\\"style\\\");\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Remove all spans that aren't marked and retain selection\\n\\t\\t\\t\\t\\tTools.each(record.addedNodes, function(node) {\\n\\t\\t\\t\\t\\t\\tif (node.nodeName == \\\"SPAN\\\" && !node.getAttribute('mce-data-marked')) {\\n\\t\\t\\t\\t\\t\\t\\tvar offset, container;\\n\\n\\t\\t\\t\\t\\t\\t\\tif (node == caretElement) {\\n\\t\\t\\t\\t\\t\\t\\t\\toffset = rng.startOffset;\\n\\t\\t\\t\\t\\t\\t\\t\\tcontainer = node.firstChild;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tdom.remove(node, true);\\n\\n\\t\\t\\t\\t\\t\\t\\tif (container) {\\n\\t\\t\\t\\t\\t\\t\\t\\trng.setStart(container, offset);\\n\\t\\t\\t\\t\\t\\t\\t\\trng.setEnd(container, offset);\\n\\t\\t\\t\\t\\t\\t\\t\\teditor.selection.setRng(rng);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\tmutationObserver.disconnect();\\n\\n\\t\\t\\t\\t// Remove any left over marks\\n\\t\\t\\t\\tTools.each(editor.dom.select('span[mce-data-marked]'), function(span) {\\n\\t\\t\\t\\t\\tspan.removeAttribute('mce-data-marked');\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction transactCustomDelete(isForward) {\\n\\t\\t\\t\\teditor.undoManager.transact(function () {\\n\\t\\t\\t\\t\\tcustomDelete(isForward);\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\teditor.on('keydown', function(e) {\\n\\t\\t\\t\\tvar isForward = e.keyCode == DELETE, isMetaOrCtrl = e.ctrlKey || e.metaKey;\\n\\n\\t\\t\\t\\tif (!isDefaultPrevented(e) && (isForward || e.keyCode == BACKSPACE)) {\\n\\t\\t\\t\\t\\tvar rng = editor.selection.getRng(), container = rng.startContainer, offset = rng.startOffset;\\n\\n\\t\\t\\t\\t\\t// Shift+Delete is cut\\n\\t\\t\\t\\t\\tif (isForward && e.shiftKey) {\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (handleLastBlockCharacterDelete(isForward, rng)) {\\n\\t\\t\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Ignore non meta delete in the where there is text before/after the caret\\n\\t\\t\\t\\t\\tif (!isMetaOrCtrl && rng.collapsed && container.nodeType == 3) {\\n\\t\\t\\t\\t\\t\\tif (isForward ? offset < container.data.length : offset > 0) {\\n\\t\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\te.preventDefault();\\n\\n\\t\\t\\t\\t\\tif (isMetaOrCtrl) {\\n\\t\\t\\t\\t\\t\\teditor.selection.getSel().modify(\\\"extend\\\", isForward ? \\\"forward\\\" : \\\"backward\\\", e.metaKey ? \\\"lineboundary\\\" : \\\"word\\\");\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tcustomDelete(isForward);\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\t// Handle case where text is deleted by typing over\\n\\t\\t\\teditor.on('keypress', function(e) {\\n\\t\\t\\t\\tif (!isDefaultPrevented(e) && !selection.isCollapsed() && e.charCode > 31 && !VK.metaKeyPressed(e)) {\\n\\t\\t\\t\\t\\tvar rng, currentFormatNodes, fragmentNode, blockParent, caretNode, charText;\\n\\n\\t\\t\\t\\t\\trng = editor.selection.getRng();\\n\\t\\t\\t\\t\\tcharText = String.fromCharCode(e.charCode);\\n\\t\\t\\t\\t\\te.preventDefault();\\n\\n\\t\\t\\t\\t\\t// Keep track of current format nodes\\n\\t\\t\\t\\t\\tcurrentFormatNodes = $(rng.startContainer).parents().filter(function(idx, node) {\\n\\t\\t\\t\\t\\t\\treturn !!editor.schema.getTextInlineElements()[node.nodeName];\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\tcustomDelete(true);\\n\\n\\t\\t\\t\\t\\t// Check if the browser removed them\\n\\t\\t\\t\\t\\tcurrentFormatNodes = currentFormatNodes.filter(function(idx, node) {\\n\\t\\t\\t\\t\\t\\treturn !$.contains(editor.getBody(), node);\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\t// Then re-add them\\n\\t\\t\\t\\t\\tif (currentFormatNodes.length) {\\n\\t\\t\\t\\t\\t\\tfragmentNode = dom.createFragment();\\n\\n\\t\\t\\t\\t\\t\\tcurrentFormatNodes.each(function(idx, formatNode) {\\n\\t\\t\\t\\t\\t\\t\\tformatNode = formatNode.cloneNode(false);\\n\\n\\t\\t\\t\\t\\t\\t\\tif (fragmentNode.hasChildNodes()) {\\n\\t\\t\\t\\t\\t\\t\\t\\tformatNode.appendChild(fragmentNode.firstChild);\\n\\t\\t\\t\\t\\t\\t\\t\\tfragmentNode.appendChild(formatNode);\\n\\t\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\t\\tcaretNode = formatNode;\\n\\t\\t\\t\\t\\t\\t\\t\\tfragmentNode.appendChild(formatNode);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tfragmentNode.appendChild(formatNode);\\n\\t\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\t\\tcaretNode.appendChild(editor.getDoc().createTextNode(charText));\\n\\n\\t\\t\\t\\t\\t\\t// Prevent edge case where older WebKit would add an extra BR element\\n\\t\\t\\t\\t\\t\\tblockParent = dom.getParent(rng.startContainer, dom.isBlock);\\n\\t\\t\\t\\t\\t\\tif (dom.isEmpty(blockParent)) {\\n\\t\\t\\t\\t\\t\\t\\t$(blockParent).empty().append(fragmentNode);\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\trng.insertNode(fragmentNode);\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\trng.setStart(caretNode.firstChild, 1);\\n\\t\\t\\t\\t\\t\\trng.setEnd(caretNode.firstChild, 1);\\n\\t\\t\\t\\t\\t\\teditor.selection.setRng(rng);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\teditor.selection.setContent(charText);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\teditor.addCommand('Delete', function() {\\n\\t\\t\\t\\tcustomDelete();\\n\\t\\t\\t});\\n\\n\\t\\t\\teditor.addCommand('ForwardDelete', function() {\\n\\t\\t\\t\\tcustomDelete(true);\\n\\t\\t\\t});\\n\\n\\t\\t\\t// Older WebKits doesn't properly handle the clipboard so we can't add the rest\\n\\t\\t\\tif (olderWebKit) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\teditor.on('dragstart', function(e) {\\n\\t\\t\\t\\tdragStartRng = selection.getRng();\\n\\t\\t\\t\\tsetMceInternalContent(e);\\n\\t\\t\\t});\\n\\n\\t\\t\\teditor.on('drop', function(e) {\\n\\t\\t\\t\\tif (!isDefaultPrevented(e)) {\\n\\t\\t\\t\\t\\tvar internalContent = getMceInternalContent(e);\\n\\n\\t\\t\\t\\t\\tif (internalContent) {\\n\\t\\t\\t\\t\\t\\te.preventDefault();\\n\\n\\t\\t\\t\\t\\t\\t// Safari has a weird issue where drag/dropping images sometimes\\n\\t\\t\\t\\t\\t\\t// produces a green plus icon. When this happens the caretRangeFromPoint\\n\\t\\t\\t\\t\\t\\t// will return \\\"null\\\" even though the x, y coordinate is correct.\\n\\t\\t\\t\\t\\t\\t// But if we detach the insert from the drop event we will get a proper range\\n\\t\\t\\t\\t\\t\\tDelay.setEditorTimeout(editor, function() {\\n\\t\\t\\t\\t\\t\\t\\tvar pointRng = RangeUtils.getCaretRangeFromPoint(e.x, e.y, doc);\\n\\n\\t\\t\\t\\t\\t\\t\\tif (dragStartRng) {\\n\\t\\t\\t\\t\\t\\t\\t\\tselection.setRng(dragStartRng);\\n\\t\\t\\t\\t\\t\\t\\t\\tdragStartRng = null;\\n\\t\\t\\t\\t\\t\\t\\t\\ttransactCustomDelete();\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tselection.setRng(pointRng);\\n\\t\\t\\t\\t\\t\\t\\tinsertClipboardContents(internalContent.html);\\n\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\teditor.on('cut', function(e) {\\n\\t\\t\\t\\tif (!isDefaultPrevented(e) && e.clipboardData && !editor.selection.isCollapsed()) {\\n\\t\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t\\t\\te.clipboardData.clearData();\\n\\t\\t\\t\\t\\te.clipboardData.setData('text/html', editor.selection.getContent());\\n\\t\\t\\t\\t\\te.clipboardData.setData('text/plain', editor.selection.getContent({format: 'text'}));\\n\\n\\t\\t\\t\\t\\t// Needed delay for https://code.google.com/p/chromium/issues/detail?id=363288#c3\\n\\t\\t\\t\\t\\t// Nested delete/forwardDelete not allowed on execCommand(\\\"cut\\\")\\n\\t\\t\\t\\t\\t// This is ugly but not sure how to work around it otherwise\\n\\t\\t\\t\\t\\tDelay.setEditorTimeout(editor, function() {\\n\\t\\t\\t\\t\\t\\ttransactCustomDelete(true);\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Makes sure that the editor body becomes empty when backspace or delete is pressed in empty editors.\\n\\t\\t *\\n\\t\\t * For example:\\n\\t\\t * <p><b>|</b></p>\\n\\t\\t *\\n\\t\\t * Or:\\n\\t\\t * <h1>|</h1>\\n\\t\\t *\\n\\t\\t * Or:\\n\\t\\t * [<h1></h1>]\\n\\t\\t */\\n\\t\\tfunction emptyEditorWhenDeleting() {\\n\\t\\t\\tfunction serializeRng(rng) {\\n\\t\\t\\t\\tvar body = dom.create(\\\"body\\\");\\n\\t\\t\\t\\tvar contents = rng.cloneContents();\\n\\t\\t\\t\\tbody.appendChild(contents);\\n\\t\\t\\t\\treturn selection.serializer.serialize(body, {format: 'html'});\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction allContentsSelected(rng) {\\n\\t\\t\\t\\tif (!rng.setStart) {\\n\\t\\t\\t\\t\\tif (rng.item) {\\n\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tvar bodyRng = rng.duplicate();\\n\\t\\t\\t\\t\\tbodyRng.moveToElementText(editor.getBody());\\n\\t\\t\\t\\t\\treturn RangeUtils.compareRanges(rng, bodyRng);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tvar selection = serializeRng(rng);\\n\\n\\t\\t\\t\\tvar allRng = dom.createRng();\\n\\t\\t\\t\\tallRng.selectNode(editor.getBody());\\n\\n\\t\\t\\t\\tvar allSelection = serializeRng(allRng);\\n\\t\\t\\t\\treturn selection === allSelection;\\n\\t\\t\\t}\\n\\n\\t\\t\\teditor.on('keydown', function(e) {\\n\\t\\t\\t\\tvar keyCode = e.keyCode, isCollapsed, body;\\n\\n\\t\\t\\t\\t// Empty the editor if it's needed for example backspace at <p><b>|</b></p>\\n\\t\\t\\t\\tif (!isDefaultPrevented(e) && (keyCode == DELETE || keyCode == BACKSPACE)) {\\n\\t\\t\\t\\t\\tisCollapsed = editor.selection.isCollapsed();\\n\\t\\t\\t\\t\\tbody = editor.getBody();\\n\\n\\t\\t\\t\\t\\t// Selection is collapsed but the editor isn't empty\\n\\t\\t\\t\\t\\tif (isCollapsed && !dom.isEmpty(body)) {\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Selection isn't collapsed but not all the contents is selected\\n\\t\\t\\t\\t\\tif (!isCollapsed && !allContentsSelected(editor.selection.getRng())) {\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Manually empty the editor\\n\\t\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t\\t\\teditor.setContent('');\\n\\n\\t\\t\\t\\t\\tif (body.firstChild && dom.isBlock(body.firstChild)) {\\n\\t\\t\\t\\t\\t\\teditor.selection.setCursorLocation(body.firstChild, 0);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\teditor.selection.setCursorLocation(body, 0);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\teditor.nodeChanged();\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * WebKit doesn't select all the nodes in the body when you press Ctrl+A.\\n\\t\\t * IE selects more than the contents <body>[<p>a</p>]</body> instead of <body><p>[a]</p]</body> see bug #6438\\n\\t\\t * This selects the whole body so that backspace/delete logic will delete everything\\n\\t\\t */\\n\\t\\tfunction selectAll() {\\n\\t\\t\\teditor.shortcuts.add('meta+a', null, 'SelectAll');\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * WebKit has a weird issue where it some times fails to properly convert keypresses to input method keystrokes.\\n\\t\\t * The IME on Mac doesn't initialize when it doesn't fire a proper focus event.\\n\\t\\t *\\n\\t\\t * This seems to happen when the user manages to click the documentElement element then the window doesn't get proper focus until\\n\\t\\t * you enter a character into the editor.\\n\\t\\t *\\n\\t\\t * It also happens when the first focus in made to the body.\\n\\t\\t *\\n\\t\\t * See: https://bugs.webkit.org/show_bug.cgi?id=83566\\n\\t\\t */\\n\\t\\tfunction inputMethodFocus() {\\n\\t\\t\\tif (!editor.settings.content_editable) {\\n\\t\\t\\t\\t// Case 1 IME doesn't initialize if you focus the document\\n\\t\\t\\t\\t// Disabled since it was interferring with the cE=false logic\\n\\t\\t\\t\\t// Also coultn't reproduce the issue on Safari 9\\n\\t\\t\\t\\t/*dom.bind(editor.getDoc(), 'focusin', function() {\\n\\t\\t\\t\\t\\tselection.setRng(selection.getRng());\\n\\t\\t\\t\\t});*/\\n\\n\\t\\t\\t\\t// Case 2 IME doesn't initialize if you click the documentElement it also doesn't properly fire the focusin event\\n\\t\\t\\t\\t// Needs to be both down/up due to weird rendering bug on Chrome Windows\\n\\t\\t\\t\\tdom.bind(editor.getDoc(), 'mousedown mouseup', function(e) {\\n\\t\\t\\t\\t\\tvar rng;\\n\\n\\t\\t\\t\\t\\tif (e.target == editor.getDoc().documentElement) {\\n\\t\\t\\t\\t\\t\\trng = selection.getRng();\\n\\t\\t\\t\\t\\t\\teditor.getBody().focus();\\n\\n\\t\\t\\t\\t\\t\\tif (e.type == 'mousedown') {\\n\\t\\t\\t\\t\\t\\t\\tif (CaretContainer.isCaretContainer(rng.startContainer)) {\\n\\t\\t\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t// Edge case for mousedown, drag select and mousedown again within selection on Chrome Windows to render caret\\n\\t\\t\\t\\t\\t\\t\\tselection.placeCaretAt(e.clientX, e.clientY);\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\tselection.setRng(rng);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Backspacing in FireFox/IE from a paragraph into a horizontal rule results in a floating text node because the\\n\\t\\t * browser just deletes the paragraph - the browser fails to merge the text node with a horizontal rule so it is\\n\\t\\t * left there. TinyMCE sees a floating text node and wraps it in a paragraph on the key up event (ForceBlocks.js\\n\\t\\t * addRootBlocks), meaning the action does nothing. With this code, FireFox/IE matche the behaviour of other\\n\\t\\t * browsers.\\n\\t\\t *\\n\\t\\t * It also fixes a bug on Firefox where it's impossible to delete HR elements.\\n\\t\\t */\\n\\t\\tfunction removeHrOnBackspace() {\\n\\t\\t\\teditor.on('keydown', function(e) {\\n\\t\\t\\t\\tif (!isDefaultPrevented(e) && e.keyCode === BACKSPACE) {\\n\\t\\t\\t\\t\\t// Check if there is any HR elements this is faster since getRng on IE 7 & 8 is slow\\n\\t\\t\\t\\t\\tif (!editor.getBody().getElementsByTagName('hr').length) {\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (selection.isCollapsed() && selection.getRng(true).startOffset === 0) {\\n\\t\\t\\t\\t\\t\\tvar node = selection.getNode();\\n\\t\\t\\t\\t\\t\\tvar previousSibling = node.previousSibling;\\n\\n\\t\\t\\t\\t\\t\\tif (node.nodeName == 'HR') {\\n\\t\\t\\t\\t\\t\\t\\tdom.remove(node);\\n\\t\\t\\t\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tif (previousSibling && previousSibling.nodeName && previousSibling.nodeName.toLowerCase() === \\\"hr\\\") {\\n\\t\\t\\t\\t\\t\\t\\tdom.remove(previousSibling);\\n\\t\\t\\t\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Firefox 3.x has an issue where the body element won't get proper focus if you click out\\n\\t\\t * side it's rectangle.\\n\\t\\t */\\n\\t\\tfunction focusBody() {\\n\\t\\t\\t// Fix for a focus bug in FF 3.x where the body element\\n\\t\\t\\t// wouldn't get proper focus if the user clicked on the HTML element\\n\\t\\t\\tif (!window.Range.prototype.getClientRects) { // Detect getClientRects got introduced in FF 4\\n\\t\\t\\t\\teditor.on('mousedown', function(e) {\\n\\t\\t\\t\\t\\tif (!isDefaultPrevented(e) && e.target.nodeName === \\\"HTML\\\") {\\n\\t\\t\\t\\t\\t\\tvar body = editor.getBody();\\n\\n\\t\\t\\t\\t\\t\\t// Blur the body it's focused but not correctly focused\\n\\t\\t\\t\\t\\t\\tbody.blur();\\n\\n\\t\\t\\t\\t\\t\\t// Refocus the body after a little while\\n\\t\\t\\t\\t\\t\\tDelay.setEditorTimeout(editor, function() {\\n\\t\\t\\t\\t\\t\\t\\tbody.focus();\\n\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * WebKit has a bug where it isn't possible to select image, hr or anchor elements\\n\\t\\t * by clicking on them so we need to fake that.\\n\\t\\t */\\n\\t\\tfunction selectControlElements() {\\n\\t\\t\\teditor.on('click', function(e) {\\n\\t\\t\\t\\tvar target = e.target;\\n\\n\\t\\t\\t\\t// Workaround for bug, http://bugs.webkit.org/show_bug.cgi?id=12250\\n\\t\\t\\t\\t// WebKit can't even do simple things like selecting an image\\n\\t\\t\\t\\tif (/^(IMG|HR)$/.test(target.nodeName) && dom.getContentEditableParent(target) !== \\\"false\\\") {\\n\\t\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t\\t\\tselection.select(target);\\n\\t\\t\\t\\t\\teditor.nodeChanged();\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (target.nodeName == 'A' && dom.hasClass(target, 'mce-item-anchor')) {\\n\\t\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t\\t\\tselection.select(target);\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Fixes a Gecko bug where the style attribute gets added to the wrong element when deleting between two block elements.\\n\\t\\t *\\n\\t\\t * Fixes do backspace/delete on this:\\n\\t\\t * <p>bla[ck</p><p style=\\\"color:red\\\">r]ed</p>\\n\\t\\t *\\n\\t\\t * Would become:\\n\\t\\t * <p>bla|ed</p>\\n\\t\\t *\\n\\t\\t * Instead of:\\n\\t\\t * <p style=\\\"color:red\\\">bla|ed</p>\\n\\t\\t */\\n\\t\\tfunction removeStylesWhenDeletingAcrossBlockElements() {\\n\\t\\t\\tfunction getAttributeApplyFunction() {\\n\\t\\t\\t\\tvar template = dom.getAttribs(selection.getStart().cloneNode(false));\\n\\n\\t\\t\\t\\treturn function() {\\n\\t\\t\\t\\t\\tvar target = selection.getStart();\\n\\n\\t\\t\\t\\t\\tif (target !== editor.getBody()) {\\n\\t\\t\\t\\t\\t\\tdom.setAttrib(target, \\\"style\\\", null);\\n\\n\\t\\t\\t\\t\\t\\teach(template, function(attr) {\\n\\t\\t\\t\\t\\t\\t\\ttarget.setAttributeNode(attr.cloneNode(true));\\n\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t};\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction isSelectionAcrossElements() {\\n\\t\\t\\t\\treturn !selection.isCollapsed() &&\\n\\t\\t\\t\\t\\tdom.getParent(selection.getStart(), dom.isBlock) != dom.getParent(selection.getEnd(), dom.isBlock);\\n\\t\\t\\t}\\n\\n\\t\\t\\teditor.on('keypress', function(e) {\\n\\t\\t\\t\\tvar applyAttributes;\\n\\n\\t\\t\\t\\tif (!isDefaultPrevented(e) && (e.keyCode == 8 || e.keyCode == 46) && isSelectionAcrossElements()) {\\n\\t\\t\\t\\t\\tapplyAttributes = getAttributeApplyFunction();\\n\\t\\t\\t\\t\\teditor.getDoc().execCommand('delete', false, null);\\n\\t\\t\\t\\t\\tapplyAttributes();\\n\\t\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\tdom.bind(editor.getDoc(), 'cut', function(e) {\\n\\t\\t\\t\\tvar applyAttributes;\\n\\n\\t\\t\\t\\tif (!isDefaultPrevented(e) && isSelectionAcrossElements()) {\\n\\t\\t\\t\\t\\tapplyAttributes = getAttributeApplyFunction();\\n\\n\\t\\t\\t\\t\\tDelay.setEditorTimeout(editor, function() {\\n\\t\\t\\t\\t\\t\\tapplyAttributes();\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Screen readers on IE needs to have the role application set on the body.\\n\\t\\t */\\n\\t\\tfunction ensureBodyHasRoleApplication() {\\n\\t\\t\\tdocument.body.setAttribute(\\\"role\\\", \\\"application\\\");\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Backspacing into a table behaves differently depending upon browser type.\\n\\t\\t * Therefore, disable Backspace when cursor immediately follows a table.\\n\\t\\t */\\n\\t\\tfunction disableBackspaceIntoATable() {\\n\\t\\t\\teditor.on('keydown', function(e) {\\n\\t\\t\\t\\tif (!isDefaultPrevented(e) && e.keyCode === BACKSPACE) {\\n\\t\\t\\t\\t\\tif (selection.isCollapsed() && selection.getRng(true).startOffset === 0) {\\n\\t\\t\\t\\t\\t\\tvar previousSibling = selection.getNode().previousSibling;\\n\\t\\t\\t\\t\\t\\tif (previousSibling && previousSibling.nodeName && previousSibling.nodeName.toLowerCase() === \\\"table\\\") {\\n\\t\\t\\t\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Old IE versions can't properly render BR elements in PRE tags white in contentEditable mode. So this\\n\\t\\t * logic adds a \\\\n before the BR so that it will get rendered.\\n\\t\\t */\\n\\t\\tfunction addNewLinesBeforeBrInPre() {\\n\\t\\t\\t// IE8+ rendering mode does the right thing with BR in PRE\\n\\t\\t\\tif (getDocumentMode() > 7) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Enable display: none in area and add a specific class that hides all BR elements in PRE to\\n\\t\\t\\t// avoid the caret from getting stuck at the BR elements while pressing the right arrow key\\n\\t\\t\\tsetEditorCommandState('RespectVisibilityInDesign', true);\\n\\t\\t\\teditor.contentStyles.push('.mceHideBrInPre pre br {display: none}');\\n\\t\\t\\tdom.addClass(editor.getBody(), 'mceHideBrInPre');\\n\\n\\t\\t\\t// Adds a \\\\n before all BR elements in PRE to get them visual\\n\\t\\t\\tparser.addNodeFilter('pre', function(nodes) {\\n\\t\\t\\t\\tvar i = nodes.length, brNodes, j, brElm, sibling;\\n\\n\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\tbrNodes = nodes[i].getAll('br');\\n\\t\\t\\t\\t\\tj = brNodes.length;\\n\\t\\t\\t\\t\\twhile (j--) {\\n\\t\\t\\t\\t\\t\\tbrElm = brNodes[j];\\n\\n\\t\\t\\t\\t\\t\\t// Add \\\\n before BR in PRE elements on older IE:s so the new lines get rendered\\n\\t\\t\\t\\t\\t\\tsibling = brElm.prev;\\n\\t\\t\\t\\t\\t\\tif (sibling && sibling.type === 3 && sibling.value.charAt(sibling.value - 1) != '\\\\n') {\\n\\t\\t\\t\\t\\t\\t\\tsibling.value += '\\\\n';\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\tbrElm.parent.insert(new Node('#text', 3), brElm, true).value = '\\\\n';\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\t// Removes any \\\\n before BR elements in PRE since other browsers and in contentEditable=false mode they will be visible\\n\\t\\t\\tserializer.addNodeFilter('pre', function(nodes) {\\n\\t\\t\\t\\tvar i = nodes.length, brNodes, j, brElm, sibling;\\n\\n\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\tbrNodes = nodes[i].getAll('br');\\n\\t\\t\\t\\t\\tj = brNodes.length;\\n\\t\\t\\t\\t\\twhile (j--) {\\n\\t\\t\\t\\t\\t\\tbrElm = brNodes[j];\\n\\t\\t\\t\\t\\t\\tsibling = brElm.prev;\\n\\t\\t\\t\\t\\t\\tif (sibling && sibling.type == 3) {\\n\\t\\t\\t\\t\\t\\t\\tsibling.value = sibling.value.replace(/\\\\r?\\\\n$/, '');\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Moves style width/height to attribute width/height when the user resizes an image on IE.\\n\\t\\t */\\n\\t\\tfunction removePreSerializedStylesWhenSelectingControls() {\\n\\t\\t\\tdom.bind(editor.getBody(), 'mouseup', function() {\\n\\t\\t\\t\\tvar value, node = selection.getNode();\\n\\n\\t\\t\\t\\t// Moved styles to attributes on IMG eements\\n\\t\\t\\t\\tif (node.nodeName == 'IMG') {\\n\\t\\t\\t\\t\\t// Convert style width to width attribute\\n\\t\\t\\t\\t\\tif ((value = dom.getStyle(node, 'width'))) {\\n\\t\\t\\t\\t\\t\\tdom.setAttrib(node, 'width', value.replace(/[^0-9%]+/g, ''));\\n\\t\\t\\t\\t\\t\\tdom.setStyle(node, 'width', '');\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Convert style height to height attribute\\n\\t\\t\\t\\t\\tif ((value = dom.getStyle(node, 'height'))) {\\n\\t\\t\\t\\t\\t\\tdom.setAttrib(node, 'height', value.replace(/[^0-9%]+/g, ''));\\n\\t\\t\\t\\t\\t\\tdom.setStyle(node, 'height', '');\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Removes a blockquote when backspace is pressed at the beginning of it.\\n\\t\\t *\\n\\t\\t * For example:\\n\\t\\t * <blockquote><p>|x</p></blockquote>\\n\\t\\t *\\n\\t\\t * Becomes:\\n\\t\\t * <p>|x</p>\\n\\t\\t */\\n\\t\\tfunction removeBlockQuoteOnBackSpace() {\\n\\t\\t\\t// Add block quote deletion handler\\n\\t\\t\\teditor.on('keydown', function(e) {\\n\\t\\t\\t\\tvar rng, container, offset, root, parent;\\n\\n\\t\\t\\t\\tif (isDefaultPrevented(e) || e.keyCode != VK.BACKSPACE) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\trng = selection.getRng();\\n\\t\\t\\t\\tcontainer = rng.startContainer;\\n\\t\\t\\t\\toffset = rng.startOffset;\\n\\t\\t\\t\\troot = dom.getRoot();\\n\\t\\t\\t\\tparent = container;\\n\\n\\t\\t\\t\\tif (!rng.collapsed || offset !== 0) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\twhile (parent && parent.parentNode && parent.parentNode.firstChild == parent && parent.parentNode != root) {\\n\\t\\t\\t\\t\\tparent = parent.parentNode;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Is the cursor at the beginning of a blockquote?\\n\\t\\t\\t\\tif (parent.tagName === 'BLOCKQUOTE') {\\n\\t\\t\\t\\t\\t// Remove the blockquote\\n\\t\\t\\t\\t\\teditor.formatter.toggle('blockquote', null, parent);\\n\\n\\t\\t\\t\\t\\t// Move the caret to the beginning of container\\n\\t\\t\\t\\t\\trng = dom.createRng();\\n\\t\\t\\t\\t\\trng.setStart(container, 0);\\n\\t\\t\\t\\t\\trng.setEnd(container, 0);\\n\\t\\t\\t\\t\\tselection.setRng(rng);\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Sets various Gecko editing options on mouse down and before a execCommand to disable inline table editing that is broken etc.\\n\\t\\t */\\n\\t\\tfunction setGeckoEditingOptions() {\\n\\t\\t\\tfunction setOpts() {\\n\\t\\t\\t\\trefreshContentEditable();\\n\\n\\t\\t\\t\\tsetEditorCommandState(\\\"StyleWithCSS\\\", false);\\n\\t\\t\\t\\tsetEditorCommandState(\\\"enableInlineTableEditing\\\", false);\\n\\n\\t\\t\\t\\tif (!settings.object_resizing) {\\n\\t\\t\\t\\t\\tsetEditorCommandState(\\\"enableObjectResizing\\\", false);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!settings.readonly) {\\n\\t\\t\\t\\teditor.on('BeforeExecCommand MouseDown', setOpts);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Fixes a gecko link bug, when a link is placed at the end of block elements there is\\n\\t\\t * no way to move the caret behind the link. This fix adds a bogus br element after the link.\\n\\t\\t *\\n\\t\\t * For example this:\\n\\t\\t * <p><b><a href=\\\"#\\\">x</a></b></p>\\n\\t\\t *\\n\\t\\t * Becomes this:\\n\\t\\t * <p><b><a href=\\\"#\\\">x</a></b><br></p>\\n\\t\\t */\\n\\t\\tfunction addBrAfterLastLinks() {\\n\\t\\t\\tfunction fixLinks() {\\n\\t\\t\\t\\teach(dom.select('a'), function(node) {\\n\\t\\t\\t\\t\\tvar parentNode = node.parentNode, root = dom.getRoot();\\n\\n\\t\\t\\t\\t\\tif (parentNode.lastChild === node) {\\n\\t\\t\\t\\t\\t\\twhile (parentNode && !dom.isBlock(parentNode)) {\\n\\t\\t\\t\\t\\t\\t\\tif (parentNode.parentNode.lastChild !== parentNode || parentNode === root) {\\n\\t\\t\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tparentNode = parentNode.parentNode;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tdom.add(parentNode, 'br', {'data-mce-bogus': 1});\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\teditor.on('SetContent ExecCommand', function(e) {\\n\\t\\t\\t\\tif (e.type == \\\"setcontent\\\" || e.command === 'mceInsertLink') {\\n\\t\\t\\t\\t\\tfixLinks();\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * WebKit will produce DIV elements here and there by default. But since TinyMCE uses paragraphs by\\n\\t\\t * default we want to change that behavior.\\n\\t\\t */\\n\\t\\tfunction setDefaultBlockType() {\\n\\t\\t\\tif (settings.forced_root_block) {\\n\\t\\t\\t\\teditor.on('init', function() {\\n\\t\\t\\t\\t\\tsetEditorCommandState('DefaultParagraphSeparator', settings.forced_root_block);\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Deletes the selected image on IE instead of navigating to previous page.\\n\\t\\t */\\n\\t\\tfunction deleteControlItemOnBackSpace() {\\n\\t\\t\\teditor.on('keydown', function(e) {\\n\\t\\t\\t\\tvar rng;\\n\\n\\t\\t\\t\\tif (!isDefaultPrevented(e) && e.keyCode == BACKSPACE) {\\n\\t\\t\\t\\t\\trng = editor.getDoc().selection.createRange();\\n\\t\\t\\t\\t\\tif (rng && rng.item) {\\n\\t\\t\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t\\t\\t\\teditor.undoManager.beforeChange();\\n\\t\\t\\t\\t\\t\\tdom.remove(rng.item(0));\\n\\t\\t\\t\\t\\t\\teditor.undoManager.add();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * IE10 doesn't properly render block elements with the right height until you add contents to them.\\n\\t\\t * This fixes that by adding a padding-right to all empty text block elements.\\n\\t\\t * See: https://connect.microsoft.com/IE/feedback/details/743881\\n\\t\\t */\\n\\t\\tfunction renderEmptyBlocksFix() {\\n\\t\\t\\tvar emptyBlocksCSS;\\n\\n\\t\\t\\t// IE10+\\n\\t\\t\\tif (getDocumentMode() >= 10) {\\n\\t\\t\\t\\temptyBlocksCSS = '';\\n\\t\\t\\t\\teach('p div h1 h2 h3 h4 h5 h6'.split(' '), function(name, i) {\\n\\t\\t\\t\\t\\temptyBlocksCSS += (i > 0 ? ',' : '') + name + ':empty';\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\teditor.contentStyles.push(emptyBlocksCSS + '{padding-right: 1px !important}');\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Old IE versions can't retain contents within noscript elements so this logic will store the contents\\n\\t\\t * as a attribute and the insert that value as it's raw text when the DOM is serialized.\\n\\t\\t */\\n\\t\\tfunction keepNoScriptContents() {\\n\\t\\t\\tif (getDocumentMode() < 9) {\\n\\t\\t\\t\\tparser.addNodeFilter('noscript', function(nodes) {\\n\\t\\t\\t\\t\\tvar i = nodes.length, node, textNode;\\n\\n\\t\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\t\\tnode = nodes[i];\\n\\t\\t\\t\\t\\t\\ttextNode = node.firstChild;\\n\\n\\t\\t\\t\\t\\t\\tif (textNode) {\\n\\t\\t\\t\\t\\t\\t\\tnode.attr('data-mce-innertext', textNode.value);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\tserializer.addNodeFilter('noscript', function(nodes) {\\n\\t\\t\\t\\t\\tvar i = nodes.length, node, textNode, value;\\n\\n\\t\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\t\\tnode = nodes[i];\\n\\t\\t\\t\\t\\t\\ttextNode = nodes[i].firstChild;\\n\\n\\t\\t\\t\\t\\t\\tif (textNode) {\\n\\t\\t\\t\\t\\t\\t\\ttextNode.value = Entities.decode(textNode.value);\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\t// Old IE can't retain noscript value so an attribute is used to store it\\n\\t\\t\\t\\t\\t\\t\\tvalue = node.attributes.map['data-mce-innertext'];\\n\\t\\t\\t\\t\\t\\t\\tif (value) {\\n\\t\\t\\t\\t\\t\\t\\t\\tnode.attr('data-mce-innertext', null);\\n\\t\\t\\t\\t\\t\\t\\t\\ttextNode = new Node('#text', 3);\\n\\t\\t\\t\\t\\t\\t\\t\\ttextNode.value = value;\\n\\t\\t\\t\\t\\t\\t\\t\\ttextNode.raw = true;\\n\\t\\t\\t\\t\\t\\t\\t\\tnode.append(textNode);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * IE has an issue where you can't select/move the caret by clicking outside the body if the document is in standards mode.\\n\\t\\t */\\n\\t\\tfunction fixCaretSelectionOfDocumentElementOnIe() {\\n\\t\\t\\tvar doc = dom.doc, body = doc.body, started, startRng, htmlElm;\\n\\n\\t\\t\\t// Return range from point or null if it failed\\n\\t\\t\\tfunction rngFromPoint(x, y) {\\n\\t\\t\\t\\tvar rng = body.createTextRange();\\n\\n\\t\\t\\t\\ttry {\\n\\t\\t\\t\\t\\trng.moveToPoint(x, y);\\n\\t\\t\\t\\t} catch (ex) {\\n\\t\\t\\t\\t\\t// IE sometimes throws and exception, so lets just ignore it\\n\\t\\t\\t\\t\\trng = null;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn rng;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Fires while the selection is changing\\n\\t\\t\\tfunction selectionChange(e) {\\n\\t\\t\\t\\tvar pointRng;\\n\\n\\t\\t\\t\\t// Check if the button is down or not\\n\\t\\t\\t\\tif (e.button) {\\n\\t\\t\\t\\t\\t// Create range from mouse position\\n\\t\\t\\t\\t\\tpointRng = rngFromPoint(e.x, e.y);\\n\\n\\t\\t\\t\\t\\tif (pointRng) {\\n\\t\\t\\t\\t\\t\\t// Check if pointRange is before/after selection then change the endPoint\\n\\t\\t\\t\\t\\t\\tif (pointRng.compareEndPoints('StartToStart', startRng) > 0) {\\n\\t\\t\\t\\t\\t\\t\\tpointRng.setEndPoint('StartToStart', startRng);\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\tpointRng.setEndPoint('EndToEnd', startRng);\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tpointRng.select();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tendSelection();\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Removes listeners\\n\\t\\t\\tfunction endSelection() {\\n\\t\\t\\t\\tvar rng = doc.selection.createRange();\\n\\n\\t\\t\\t\\t// If the range is collapsed then use the last start range\\n\\t\\t\\t\\tif (startRng && !rng.item && rng.compareEndPoints('StartToEnd', rng) === 0) {\\n\\t\\t\\t\\t\\tstartRng.select();\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tdom.unbind(doc, 'mouseup', endSelection);\\n\\t\\t\\t\\tdom.unbind(doc, 'mousemove', selectionChange);\\n\\t\\t\\t\\tstartRng = started = 0;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Make HTML element unselectable since we are going to handle selection by hand\\n\\t\\t\\tdoc.documentElement.unselectable = true;\\n\\n\\t\\t\\t// Detect when user selects outside BODY\\n\\t\\t\\tdom.bind(doc, 'mousedown contextmenu', function(e) {\\n\\t\\t\\t\\tif (e.target.nodeName === 'HTML') {\\n\\t\\t\\t\\t\\tif (started) {\\n\\t\\t\\t\\t\\t\\tendSelection();\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Detect vertical scrollbar, since IE will fire a mousedown on the scrollbar and have target set as HTML\\n\\t\\t\\t\\t\\thtmlElm = doc.documentElement;\\n\\t\\t\\t\\t\\tif (htmlElm.scrollHeight > htmlElm.clientHeight) {\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tstarted = 1;\\n\\t\\t\\t\\t\\t// Setup start position\\n\\t\\t\\t\\t\\tstartRng = rngFromPoint(e.x, e.y);\\n\\t\\t\\t\\t\\tif (startRng) {\\n\\t\\t\\t\\t\\t\\t// Listen for selection change events\\n\\t\\t\\t\\t\\t\\tdom.bind(doc, 'mouseup', endSelection);\\n\\t\\t\\t\\t\\t\\tdom.bind(doc, 'mousemove', selectionChange);\\n\\n\\t\\t\\t\\t\\t\\tdom.getRoot().focus();\\n\\t\\t\\t\\t\\t\\tstartRng.select();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Fixes selection issues where the caret can be placed between two inline elements like <b>a</b>|<b>b</b>\\n\\t\\t * this fix will lean the caret right into the closest inline element.\\n\\t\\t */\\n\\t\\tfunction normalizeSelection() {\\n\\t\\t\\t// Normalize selection for example <b>a</b><i>|a</i> becomes <b>a|</b><i>a</i> except for Ctrl+A since it selects everything\\n\\t\\t\\teditor.on('keyup focusin mouseup', function(e) {\\n\\t\\t\\t\\tif (e.keyCode != 65 || !VK.metaKeyPressed(e)) {\\n\\t\\t\\t\\t\\tselection.normalize();\\n\\t\\t\\t\\t}\\n\\t\\t\\t}, true);\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Forces Gecko to render a broken image icon if it fails to load an image.\\n\\t\\t */\\n\\t\\tfunction showBrokenImageIcon() {\\n\\t\\t\\teditor.contentStyles.push(\\n\\t\\t\\t\\t'img:-moz-broken {' +\\n\\t\\t\\t\\t\\t'-moz-force-broken-image-icon:1;' +\\n\\t\\t\\t\\t\\t'min-width:24px;' +\\n\\t\\t\\t\\t\\t'min-height:24px' +\\n\\t\\t\\t\\t'}'\\n\\t\\t\\t);\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * iOS has a bug where it's impossible to type if the document has a touchstart event\\n\\t\\t * bound and the user touches the document while having the on screen keyboard visible.\\n\\t\\t *\\n\\t\\t * The touch event moves the focus to the parent document while having the caret inside the iframe\\n\\t\\t * this fix moves the focus back into the iframe document.\\n\\t\\t */\\n\\t\\tfunction restoreFocusOnKeyDown() {\\n\\t\\t\\tif (!editor.inline) {\\n\\t\\t\\t\\teditor.on('keydown', function() {\\n\\t\\t\\t\\t\\tif (document.activeElement == document.body) {\\n\\t\\t\\t\\t\\t\\teditor.getWin().focus();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * IE 11 has an annoying issue where you can't move focus into the editor\\n\\t\\t * by clicking on the white area HTML element. We used to be able to to fix this with\\n\\t\\t * the fixCaretSelectionOfDocumentElementOnIe fix. But since M$ removed the selection\\n\\t\\t * object it's not possible anymore. So we need to hack in a ungly CSS to force the\\n\\t\\t * body to be at least 150px. If the user clicks the HTML element out side this 150px region\\n\\t\\t * we simply move the focus into the first paragraph. Not ideal since you loose the\\n\\t\\t * positioning of the caret but goot enough for most cases.\\n\\t\\t */\\n\\t\\tfunction bodyHeight() {\\n\\t\\t\\tif (!editor.inline) {\\n\\t\\t\\t\\teditor.contentStyles.push('body {min-height: 150px}');\\n\\t\\t\\t\\teditor.on('click', function(e) {\\n\\t\\t\\t\\t\\tvar rng;\\n\\n\\t\\t\\t\\t\\tif (e.target.nodeName == 'HTML') {\\n\\t\\t\\t\\t\\t\\t// Edge seems to only need focus if we set the range\\n\\t\\t\\t\\t\\t\\t// the caret will become invisible and moved out of the iframe!!\\n\\t\\t\\t\\t\\t\\tif (Env.ie > 11) {\\n\\t\\t\\t\\t\\t\\t\\teditor.getBody().focus();\\n\\t\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Need to store away non collapsed ranges since the focus call will mess that up see #7382\\n\\t\\t\\t\\t\\t\\trng = editor.selection.getRng();\\n\\t\\t\\t\\t\\t\\teditor.getBody().focus();\\n\\t\\t\\t\\t\\t\\teditor.selection.setRng(rng);\\n\\t\\t\\t\\t\\t\\teditor.selection.normalize();\\n\\t\\t\\t\\t\\t\\teditor.nodeChanged();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Firefox on Mac OS will move the browser back to the previous page if you press CMD+Left arrow.\\n\\t\\t * You might then loose all your work so we need to block that behavior and replace it with our own.\\n\\t\\t */\\n\\t\\tfunction blockCmdArrowNavigation() {\\n\\t\\t\\tif (Env.mac) {\\n\\t\\t\\t\\teditor.on('keydown', function(e) {\\n\\t\\t\\t\\t\\tif (VK.metaKeyPressed(e) && !e.shiftKey && (e.keyCode == 37 || e.keyCode == 39)) {\\n\\t\\t\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t\\t\\t\\teditor.selection.getSel().modify('move', e.keyCode == 37 ? 'backward' : 'forward', 'lineboundary');\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Disables the autolinking in IE 9+ this is then re-enabled by the autolink plugin.\\n\\t\\t */\\n\\t\\tfunction disableAutoUrlDetect() {\\n\\t\\t\\tsetEditorCommandState(\\\"AutoUrlDetect\\\", false);\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * iOS 7.1 introduced two new bugs:\\n\\t\\t * 1) It's possible to open links within a contentEditable area by clicking on them.\\n\\t\\t * 2) If you hold down the finger it will display the link/image touch callout menu.\\n\\t\\t */\\n\\t\\tfunction tapLinksAndImages() {\\n\\t\\t\\teditor.on('click', function(e) {\\n\\t\\t\\t\\tvar elm = e.target;\\n\\n\\t\\t\\t\\tdo {\\n\\t\\t\\t\\t\\tif (elm.tagName === 'A') {\\n\\t\\t\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} while ((elm = elm.parentNode));\\n\\t\\t\\t});\\n\\n\\t\\t\\teditor.contentStyles.push('.mce-content-body {-webkit-touch-callout: none}');\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * iOS Safari and possible other browsers have a bug where it won't fire\\n\\t\\t * a click event when a contentEditable is focused. This function fakes click events\\n\\t\\t * by using touchstart/touchend and measuring the time and distance travelled.\\n\\t\\t */\\n\\t\\t/*\\n\\t\\tfunction touchClickEvent() {\\n\\t\\t\\teditor.on('touchstart', function(e) {\\n\\t\\t\\t\\tvar elm, time, startTouch, changedTouches;\\n\\n\\t\\t\\t\\telm = e.target;\\n\\t\\t\\t\\ttime = new Date().getTime();\\n\\t\\t\\t\\tchangedTouches = e.changedTouches;\\n\\n\\t\\t\\t\\tif (!changedTouches || changedTouches.length > 1) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tstartTouch = changedTouches[0];\\n\\n\\t\\t\\t\\teditor.once('touchend', function(e) {\\n\\t\\t\\t\\t\\tvar endTouch = e.changedTouches[0], args;\\n\\n\\t\\t\\t\\t\\tif (new Date().getTime() - time > 500) {\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (Math.abs(startTouch.clientX - endTouch.clientX) > 5) {\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (Math.abs(startTouch.clientY - endTouch.clientY) > 5) {\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\targs = {\\n\\t\\t\\t\\t\\t\\ttarget: elm\\n\\t\\t\\t\\t\\t};\\n\\n\\t\\t\\t\\t\\teach('pageX pageY clientX clientY screenX screenY'.split(' '), function(key) {\\n\\t\\t\\t\\t\\t\\targs[key] = endTouch[key];\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\targs = editor.fire('click', args);\\n\\n\\t\\t\\t\\t\\tif (!args.isDefaultPrevented()) {\\n\\t\\t\\t\\t\\t\\t// iOS WebKit can't place the caret properly once\\n\\t\\t\\t\\t\\t\\t// you bind touch events so we need to do this manually\\n\\t\\t\\t\\t\\t\\t// TODO: Expand to the closest word? Touble tap still works.\\n\\t\\t\\t\\t\\t\\teditor.selection.placeCaretAt(endTouch.clientX, endTouch.clientY);\\n\\t\\t\\t\\t\\t\\teditor.nodeChanged();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\t\\t\\t});\\n\\t\\t}\\n\\t\\t*/\\n\\n\\t\\t/**\\n\\t\\t * WebKit has a bug where it will allow forms to be submitted if they are inside a contentEditable element.\\n\\t\\t * For example this: <form><button></form>\\n\\t\\t */\\n\\t\\tfunction blockFormSubmitInsideEditor() {\\n\\t\\t\\teditor.on('init', function() {\\n\\t\\t\\t\\teditor.dom.bind(editor.getBody(), 'submit', function(e) {\\n\\t\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t\\t});\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Sometimes WebKit/Blink generates BR elements with the Apple-interchange-newline class.\\n\\t\\t *\\n\\t\\t * Scenario:\\n\\t\\t *  1) Create a table 2x2.\\n\\t\\t *  2) Select and copy cells A2-B2.\\n\\t\\t *  3) Paste and it will add BR element to table cell.\\n\\t\\t */\\n\\t\\tfunction removeAppleInterchangeBrs() {\\n\\t\\t\\tparser.addNodeFilter('br', function(nodes) {\\n\\t\\t\\t\\tvar i = nodes.length;\\n\\n\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\tif (nodes[i].attr('class') == 'Apple-interchange-newline') {\\n\\t\\t\\t\\t\\t\\tnodes[i].remove();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * IE cannot set custom contentType's on drag events, and also does not properly drag/drop between\\n\\t\\t * editors. This uses a special data:text/mce-internal URL to pass data when drag/drop between editors.\\n\\t\\t */\\n\\t\\tfunction ieInternalDragAndDrop() {\\n\\t\\t\\teditor.on('dragstart', function(e) {\\n\\t\\t\\t\\tsetMceInternalContent(e);\\n\\t\\t\\t});\\n\\n\\t\\t\\teditor.on('drop', function(e) {\\n\\t\\t\\t\\tif (!isDefaultPrevented(e)) {\\n\\t\\t\\t\\t\\tvar internalContent = getMceInternalContent(e);\\n\\n\\t\\t\\t\\t\\tif (internalContent && internalContent.id != editor.id) {\\n\\t\\t\\t\\t\\t\\te.preventDefault();\\n\\n\\t\\t\\t\\t\\t\\tvar rng = RangeUtils.getCaretRangeFromPoint(e.x, e.y, editor.getDoc());\\n\\t\\t\\t\\t\\t\\tselection.setRng(rng);\\n\\t\\t\\t\\t\\t\\tinsertClipboardContents(internalContent.html);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\tfunction refreshContentEditable() {\\n\\t\\t\\t// No-op since Mozilla seems to have fixed the caret repaint issues\\n\\t\\t}\\n\\n\\t\\tfunction isHidden() {\\n\\t\\t\\tvar sel;\\n\\n\\t\\t\\tif (!isGecko) {\\n\\t\\t\\t\\treturn 0;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Weird, wheres that cursor selection?\\n\\t\\t\\tsel = editor.selection.getSel();\\n\\t\\t\\treturn (!sel || !sel.rangeCount || sel.rangeCount === 0);\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Properly empties the editor if all contents is selected and deleted this to\\n\\t\\t * prevent empty paragraphs from being produced at beginning/end of contents.\\n\\t\\t */\\n\\t\\tfunction emptyEditorOnDeleteEverything() {\\n\\t\\t\\tfunction isEverythingSelected(editor) {\\n\\t\\t\\t\\tvar caretWalker = new CaretWalker(editor.getBody());\\n\\t\\t\\t\\tvar rng = editor.selection.getRng();\\n\\t\\t\\t\\tvar startCaretPos = CaretPosition.fromRangeStart(rng);\\n\\t\\t\\t\\tvar endCaretPos = CaretPosition.fromRangeEnd(rng);\\n\\t\\t\\t\\tvar prev = caretWalker.prev(startCaretPos);\\n\\t\\t\\t\\tvar next = caretWalker.next(endCaretPos);\\n\\n\\t\\t\\t\\treturn !editor.selection.isCollapsed() &&\\n\\t\\t\\t\\t\\t(!prev || (prev.isAtStart() && startCaretPos.isEqual(prev))) &&\\n\\t\\t\\t\\t\\t(!next || (next.isAtEnd() && startCaretPos.isEqual(next)));\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Type over case delete and insert this won't cover typeover with a IME but at least it covers the common case\\n\\t\\t\\teditor.on('keypress', function (e) {\\n\\t\\t\\t\\tif (!isDefaultPrevented(e) && !selection.isCollapsed() && e.charCode > 31 && !VK.metaKeyPressed(e)) {\\n\\t\\t\\t\\t\\tif (isEverythingSelected(editor)) {\\n\\t\\t\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t\\t\\t\\teditor.setContent(String.fromCharCode(e.charCode));\\n\\t\\t\\t\\t\\t\\teditor.selection.select(editor.getBody(), true);\\n\\t\\t\\t\\t\\t\\teditor.selection.collapse(false);\\n\\t\\t\\t\\t\\t\\teditor.nodeChanged();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\teditor.on('keydown', function (e) {\\n\\t\\t\\t\\tvar keyCode = e.keyCode;\\n\\n\\t\\t\\t\\tif (!isDefaultPrevented(e) && (keyCode == DELETE || keyCode == BACKSPACE)) {\\n\\t\\t\\t\\t\\tif (isEverythingSelected(editor)) {\\n\\t\\t\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t\\t\\t\\teditor.setContent('');\\n\\t\\t\\t\\t\\t\\teditor.nodeChanged();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\t// All browsers\\n\\t\\tremoveBlockQuoteOnBackSpace();\\n\\t\\temptyEditorWhenDeleting();\\n\\n\\t\\t// Windows phone will return a range like [body, 0] on mousedown so\\n\\t\\t// it will always normalize to the wrong location\\n\\t\\tif (!Env.windowsPhone) {\\n\\t\\t\\tnormalizeSelection();\\n\\t\\t}\\n\\n\\t\\t// WebKit\\n\\t\\tif (isWebKit) {\\n\\t\\t\\temptyEditorOnDeleteEverything();\\n\\t\\t\\tcleanupStylesWhenDeleting();\\n\\t\\t\\tinputMethodFocus();\\n\\t\\t\\tselectControlElements();\\n\\t\\t\\tsetDefaultBlockType();\\n\\t\\t\\tblockFormSubmitInsideEditor();\\n\\t\\t\\tdisableBackspaceIntoATable();\\n\\t\\t\\tremoveAppleInterchangeBrs();\\n\\n\\t\\t\\t//touchClickEvent();\\n\\n\\t\\t\\t// iOS\\n\\t\\t\\tif (Env.iOS) {\\n\\t\\t\\t\\trestoreFocusOnKeyDown();\\n\\t\\t\\t\\tbodyHeight();\\n\\t\\t\\t\\ttapLinksAndImages();\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tselectAll();\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t// IE\\n\\t\\tif (isIE && Env.ie < 11) {\\n\\t\\t\\tremoveHrOnBackspace();\\n\\t\\t\\tensureBodyHasRoleApplication();\\n\\t\\t\\taddNewLinesBeforeBrInPre();\\n\\t\\t\\tremovePreSerializedStylesWhenSelectingControls();\\n\\t\\t\\tdeleteControlItemOnBackSpace();\\n\\t\\t\\trenderEmptyBlocksFix();\\n\\t\\t\\tkeepNoScriptContents();\\n\\t\\t\\tfixCaretSelectionOfDocumentElementOnIe();\\n\\t\\t}\\n\\n\\t\\tif (Env.ie >= 11) {\\n\\t\\t\\tbodyHeight();\\n\\t\\t\\tdisableBackspaceIntoATable();\\n\\t\\t}\\n\\n\\t\\tif (Env.ie) {\\n\\t\\t\\tselectAll();\\n\\t\\t\\tdisableAutoUrlDetect();\\n\\t\\t\\tieInternalDragAndDrop();\\n\\t\\t}\\n\\n\\t\\t// Gecko\\n\\t\\tif (isGecko) {\\n\\t\\t\\temptyEditorOnDeleteEverything();\\n\\t\\t\\tremoveHrOnBackspace();\\n\\t\\t\\tfocusBody();\\n\\t\\t\\tremoveStylesWhenDeletingAcrossBlockElements();\\n\\t\\t\\tsetGeckoEditingOptions();\\n\\t\\t\\taddBrAfterLastLinks();\\n\\t\\t\\tshowBrokenImageIcon();\\n\\t\\t\\tblockCmdArrowNavigation();\\n\\t\\t\\tdisableBackspaceIntoATable();\\n\\t\\t}\\n\\n\\t\\treturn {\\n\\t\\t\\trefreshContentEditable: refreshContentEditable,\\n\\t\\t\\tisHidden: isHidden\\n\\t\\t};\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/EditorObservable.js\\n\\n/**\\n * EditorObservable.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This mixin contains the event logic for the tinymce.Editor class.\\n *\\n * @mixin tinymce.EditorObservable\\n * @extends tinymce.util.Observable\\n */\\ndefine(\\\"tinymce/EditorObservable\\\", [\\n\\t\\\"tinymce/util/Observable\\\",\\n\\t\\\"tinymce/dom/DOMUtils\\\",\\n\\t\\\"tinymce/util/Tools\\\"\\n], function(Observable, DOMUtils, Tools) {\\n\\tvar DOM = DOMUtils.DOM, customEventRootDelegates;\\n\\n\\t/**\\n\\t * Returns the event target so for the specified event. Some events fire\\n\\t * only on document, some fire on documentElement etc. This also handles the\\n\\t * custom event root setting where it returns that element instead of the body.\\n\\t *\\n\\t * @private\\n\\t * @param {tinymce.Editor} editor Editor instance to get event target from.\\n\\t * @param {String} eventName Name of the event for example \\\"click\\\".\\n\\t * @return {Element/Document} HTML Element or document target to bind on.\\n\\t */\\n\\tfunction getEventTarget(editor, eventName) {\\n\\t\\tif (eventName == 'selectionchange') {\\n\\t\\t\\treturn editor.getDoc();\\n\\t\\t}\\n\\n\\t\\t// Need to bind mousedown/mouseup etc to document not body in iframe mode\\n\\t\\t// Since the user might click on the HTML element not the BODY\\n\\t\\tif (!editor.inline && /^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(eventName)) {\\n\\t\\t\\treturn editor.getDoc().documentElement;\\n\\t\\t}\\n\\n\\t\\t// Bind to event root instead of body if it's defined\\n\\t\\tif (editor.settings.event_root) {\\n\\t\\t\\tif (!editor.eventRoot) {\\n\\t\\t\\t\\teditor.eventRoot = DOM.select(editor.settings.event_root)[0];\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn editor.eventRoot;\\n\\t\\t}\\n\\n\\t\\treturn editor.getBody();\\n\\t}\\n\\n\\t/**\\n\\t * Binds a event delegate for the specified name this delegate will fire\\n\\t * the event to the editor dispatcher.\\n\\t *\\n\\t * @private\\n\\t * @param {tinymce.Editor} editor Editor instance to get event target from.\\n\\t * @param {String} eventName Name of the event for example \\\"click\\\".\\n\\t */\\n\\tfunction bindEventDelegate(editor, eventName) {\\n\\t\\tvar eventRootElm = getEventTarget(editor, eventName), delegate;\\n\\n\\t\\tfunction isListening(editor) {\\n\\t\\t\\treturn !editor.hidden && !editor.readonly;\\n\\t\\t}\\n\\n\\t\\tif (!editor.delegates) {\\n\\t\\t\\teditor.delegates = {};\\n\\t\\t}\\n\\n\\t\\tif (editor.delegates[eventName]) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tif (editor.settings.event_root) {\\n\\t\\t\\tif (!customEventRootDelegates) {\\n\\t\\t\\t\\tcustomEventRootDelegates = {};\\n\\t\\t\\t\\teditor.editorManager.on('removeEditor', function() {\\n\\t\\t\\t\\t\\tvar name;\\n\\n\\t\\t\\t\\t\\tif (!editor.editorManager.activeEditor) {\\n\\t\\t\\t\\t\\t\\tif (customEventRootDelegates) {\\n\\t\\t\\t\\t\\t\\t\\tfor (name in customEventRootDelegates) {\\n\\t\\t\\t\\t\\t\\t\\t\\teditor.dom.unbind(getEventTarget(editor, name));\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tcustomEventRootDelegates = null;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (customEventRootDelegates[eventName]) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tdelegate = function(e) {\\n\\t\\t\\t\\tvar target = e.target, editors = editor.editorManager.editors, i = editors.length;\\n\\n\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\tvar body = editors[i].getBody();\\n\\n\\t\\t\\t\\t\\tif (body === target || DOM.isChildOf(target, body)) {\\n\\t\\t\\t\\t\\t\\tif (isListening(editors[i])) {\\n\\t\\t\\t\\t\\t\\t\\teditors[i].fire(eventName, e);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t};\\n\\n\\t\\t\\tcustomEventRootDelegates[eventName] = delegate;\\n\\t\\t\\tDOM.bind(eventRootElm, eventName, delegate);\\n\\t\\t} else {\\n\\t\\t\\tdelegate = function(e) {\\n\\t\\t\\t\\tif (isListening(editor)) {\\n\\t\\t\\t\\t\\teditor.fire(eventName, e);\\n\\t\\t\\t\\t}\\n\\t\\t\\t};\\n\\n\\t\\t\\tDOM.bind(eventRootElm, eventName, delegate);\\n\\t\\t\\teditor.delegates[eventName] = delegate;\\n\\t\\t}\\n\\t}\\n\\n\\tvar EditorObservable = {\\n\\t\\t/**\\n\\t\\t * Bind any pending event delegates. This gets executed after the target body/document is created.\\n\\t\\t *\\n\\t\\t * @private\\n\\t\\t */\\n\\t\\tbindPendingEventDelegates: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tTools.each(self._pendingNativeEvents, function(name) {\\n\\t\\t\\t\\tbindEventDelegate(self, name);\\n\\t\\t\\t});\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Toggles a native event on/off this is called by the EventDispatcher when\\n\\t\\t * the first native event handler is added and when the last native event handler is removed.\\n\\t\\t *\\n\\t\\t * @private\\n\\t\\t */\\n\\t\\ttoggleNativeEvent: function(name, state) {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\t// Never bind focus/blur since the FocusManager fakes those\\n\\t\\t\\tif (name == \\\"focus\\\" || name == \\\"blur\\\") {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (state) {\\n\\t\\t\\t\\tif (self.initialized) {\\n\\t\\t\\t\\t\\tbindEventDelegate(self, name);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tif (!self._pendingNativeEvents) {\\n\\t\\t\\t\\t\\t\\tself._pendingNativeEvents = [name];\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tself._pendingNativeEvents.push(name);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t} else if (self.initialized) {\\n\\t\\t\\t\\tself.dom.unbind(getEventTarget(self, name), name, self.delegates[name]);\\n\\t\\t\\t\\tdelete self.delegates[name];\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Unbinds all native event handlers that means delegates, custom events bound using the Events API etc.\\n\\t\\t *\\n\\t\\t * @private\\n\\t\\t */\\n\\t\\tunbindAllNativeEvents: function() {\\n\\t\\t\\tvar self = this, name;\\n\\n\\t\\t\\tif (self.delegates) {\\n\\t\\t\\t\\tfor (name in self.delegates) {\\n\\t\\t\\t\\t\\tself.dom.unbind(getEventTarget(self, name), name, self.delegates[name]);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tdelete self.delegates;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!self.inline) {\\n\\t\\t\\t\\tself.getBody().onload = null;\\n\\t\\t\\t\\tself.dom.unbind(self.getWin());\\n\\t\\t\\t\\tself.dom.unbind(self.getDoc());\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.dom.unbind(self.getBody());\\n\\t\\t\\tself.dom.unbind(self.getContainer());\\n\\t\\t}\\n\\t};\\n\\n\\tEditorObservable = Tools.extend({}, Observable, EditorObservable);\\n\\n\\treturn EditorObservable;\\n});\\n\\n// Included from: js/tinymce/classes/Mode.js\\n\\n/**\\n * Mode.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Mode switcher logic.\\n *\\n * @private\\n * @class tinymce.Mode\\n */\\ndefine(\\\"tinymce/Mode\\\", [], function() {\\n\\tfunction setEditorCommandState(editor, cmd, state) {\\n\\t\\ttry {\\n\\t\\t\\teditor.getDoc().execCommand(cmd, false, state);\\n\\t\\t} catch (ex) {\\n\\t\\t\\t// Ignore\\n\\t\\t}\\n\\t}\\n\\n\\tfunction clickBlocker(editor) {\\n\\t\\tvar target, handler;\\n\\n\\t\\ttarget = editor.getBody();\\n\\n\\t\\thandler = function(e) {\\n\\t\\t\\tif (editor.dom.getParents(e.target, 'a').length > 0) {\\n\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t}\\n\\t\\t};\\n\\n\\t\\teditor.dom.bind(target, 'click', handler);\\n\\n\\t\\treturn {\\n\\t\\t\\tunbind: function() {\\n\\t\\t\\t\\teditor.dom.unbind(target, 'click', handler);\\n\\t\\t\\t}\\n\\t\\t};\\n\\t}\\n\\n\\tfunction toggleReadOnly(editor, state) {\\n\\t\\tif (editor._clickBlocker) {\\n\\t\\t\\teditor._clickBlocker.unbind();\\n\\t\\t\\teditor._clickBlocker = null;\\n\\t\\t}\\n\\n\\t\\tif (state) {\\n\\t\\t\\teditor._clickBlocker = clickBlocker(editor);\\n\\t\\t\\teditor.selection.controlSelection.hideResizeRect();\\n\\t\\t\\teditor.readonly = true;\\n\\t\\t\\teditor.getBody().contentEditable = false;\\n\\t\\t} else {\\n\\t\\t\\teditor.readonly = false;\\n\\t\\t\\teditor.getBody().contentEditable = true;\\n\\t\\t\\tsetEditorCommandState(editor, \\\"StyleWithCSS\\\", false);\\n\\t\\t\\tsetEditorCommandState(editor, \\\"enableInlineTableEditing\\\", false);\\n\\t\\t\\tsetEditorCommandState(editor, \\\"enableObjectResizing\\\", false);\\n\\t\\t\\teditor.focus();\\n\\t\\t\\teditor.nodeChanged();\\n\\t\\t}\\n\\t}\\n\\n\\tfunction setMode(editor, mode) {\\n\\t\\tvar currentMode = editor.readonly ? 'readonly' : 'design';\\n\\n\\t\\tif (mode == currentMode) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tif (editor.initialized) {\\n\\t\\t\\ttoggleReadOnly(editor, mode == 'readonly');\\n\\t\\t} else {\\n\\t\\t\\teditor.on('init', function() {\\n\\t\\t\\t\\ttoggleReadOnly(editor, mode == 'readonly');\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\t// Event is NOT preventable\\n\\t\\teditor.fire('SwitchMode', {mode: mode});\\n\\t}\\n\\n\\treturn {\\n\\t\\tsetMode: setMode\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/Shortcuts.js\\n\\n/**\\n * Shortcuts.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Contains all logic for handling of keyboard shortcuts.\\n *\\n * @class tinymce.Shortcuts\\n * @example\\n * editor.shortcuts.add('ctrl+a', function() {});\\n * editor.shortcuts.add('meta+a', function() {}); // \\\"meta\\\" maps to Command on Mac and Ctrl on PC\\n * editor.shortcuts.add('ctrl+alt+a', function() {});\\n * editor.shortcuts.add('access+a', function() {}); // \\\"access\\\" maps to ctrl+alt on Mac and shift+alt on PC\\n */\\ndefine(\\\"tinymce/Shortcuts\\\", [\\n\\t\\\"tinymce/util/Tools\\\",\\n\\t\\\"tinymce/Env\\\"\\n], function(Tools, Env) {\\n\\tvar each = Tools.each, explode = Tools.explode;\\n\\n\\tvar keyCodeLookup = {\\n\\t\\t\\\"f9\\\": 120,\\n\\t\\t\\\"f10\\\": 121,\\n\\t\\t\\\"f11\\\": 122\\n\\t};\\n\\n\\tvar modifierNames = Tools.makeMap('alt,ctrl,shift,meta,access');\\n\\n\\treturn function(editor) {\\n\\t\\tvar self = this, shortcuts = {}, pendingPatterns = [];\\n\\n\\t\\tfunction parseShortcut(pattern) {\\n\\t\\t\\tvar id, key, shortcut = {};\\n\\n\\t\\t\\t// Parse modifiers and keys ctrl+alt+b for example\\n\\t\\t\\teach(explode(pattern, '+'), function(value) {\\n\\t\\t\\t\\tif (value in modifierNames) {\\n\\t\\t\\t\\t\\tshortcut[value] = true;\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t// Allow numeric keycodes like ctrl+219 for ctrl+[\\n\\t\\t\\t\\t\\tif (/^[0-9]{2,}$/.test(value)) {\\n\\t\\t\\t\\t\\t\\tshortcut.keyCode = parseInt(value, 10);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tshortcut.charCode = value.charCodeAt(0);\\n\\t\\t\\t\\t\\t\\tshortcut.keyCode = keyCodeLookup[value] || value.toUpperCase().charCodeAt(0);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\t// Generate unique id for modifier combination and set default state for unused modifiers\\n\\t\\t\\tid = [shortcut.keyCode];\\n\\t\\t\\tfor (key in modifierNames) {\\n\\t\\t\\t\\tif (shortcut[key]) {\\n\\t\\t\\t\\t\\tid.push(key);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tshortcut[key] = false;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t\\tshortcut.id = id.join(',');\\n\\n\\t\\t\\t// Handle special access modifier differently depending on Mac/Win\\n\\t\\t\\tif (shortcut.access) {\\n\\t\\t\\t\\tshortcut.alt = true;\\n\\n\\t\\t\\t\\tif (Env.mac) {\\n\\t\\t\\t\\t\\tshortcut.ctrl = true;\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tshortcut.shift = true;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Handle special meta modifier differently depending on Mac/Win\\n\\t\\t\\tif (shortcut.meta) {\\n\\t\\t\\t\\tif (Env.mac) {\\n\\t\\t\\t\\t\\tshortcut.meta = true;\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tshortcut.ctrl = true;\\n\\t\\t\\t\\t\\tshortcut.meta = false;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn shortcut;\\n\\t\\t}\\n\\n\\t\\tfunction createShortcut(pattern, desc, cmdFunc, scope) {\\n\\t\\t\\tvar shortcuts;\\n\\n\\t\\t\\tshortcuts = Tools.map(explode(pattern, '>'), parseShortcut);\\n\\t\\t\\tshortcuts[shortcuts.length - 1] = Tools.extend(shortcuts[shortcuts.length - 1], {\\n\\t\\t\\t\\tfunc: cmdFunc,\\n\\t\\t\\t\\tscope: scope || editor\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn Tools.extend(shortcuts[0], {\\n\\t\\t\\t\\tdesc: editor.translate(desc),\\n\\t\\t\\t\\tsubpatterns: shortcuts.slice(1)\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\tfunction hasModifier(e) {\\n\\t\\t\\treturn e.altKey || e.ctrlKey || e.metaKey;\\n\\t\\t}\\n\\n\\t\\tfunction isFunctionKey(e) {\\n\\t\\t\\treturn e.type === \\\"keydown\\\" && e.keyCode >= 112 && e.keyCode <= 123;\\n\\t\\t}\\n\\n\\t\\tfunction matchShortcut(e, shortcut) {\\n\\t\\t\\tif (!shortcut) {\\n\\t\\t\\t\\treturn false;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (shortcut.ctrl != e.ctrlKey || shortcut.meta != e.metaKey) {\\n\\t\\t\\t\\treturn false;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (shortcut.alt != e.altKey || shortcut.shift != e.shiftKey) {\\n\\t\\t\\t\\treturn false;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (e.keyCode == shortcut.keyCode || (e.charCode && e.charCode == shortcut.charCode)) {\\n\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t\\treturn true;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn false;\\n\\t\\t}\\n\\n\\t\\tfunction executeShortcutAction(shortcut) {\\n\\t\\t\\treturn shortcut.func ? shortcut.func.call(shortcut.scope) : null;\\n\\t\\t}\\n\\n\\t\\teditor.on('keyup keypress keydown', function(e) {\\n\\t\\t\\tif ((hasModifier(e) || isFunctionKey(e)) && !e.isDefaultPrevented()) {\\n\\t\\t\\t\\teach(shortcuts, function(shortcut) {\\n\\t\\t\\t\\t\\tif (matchShortcut(e, shortcut)) {\\n\\t\\t\\t\\t\\t\\tpendingPatterns = shortcut.subpatterns.slice(0);\\n\\n\\t\\t\\t\\t\\t\\tif (e.type == \\\"keydown\\\") {\\n\\t\\t\\t\\t\\t\\t\\texecuteShortcutAction(shortcut);\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\tif (matchShortcut(e, pendingPatterns[0])) {\\n\\t\\t\\t\\t\\tif (pendingPatterns.length === 1) {\\n\\t\\t\\t\\t\\t\\tif (e.type == \\\"keydown\\\") {\\n\\t\\t\\t\\t\\t\\t\\texecuteShortcutAction(pendingPatterns[0]);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tpendingPatterns.shift();\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\t/**\\n\\t\\t * Adds a keyboard shortcut for some command or function.\\n\\t\\t *\\n\\t\\t * @method add\\n\\t\\t * @param {String} pattern Shortcut pattern. Like for example: ctrl+alt+o.\\n\\t\\t * @param {String} desc Text description for the command.\\n\\t\\t * @param {String/Function} cmdFunc Command name string or function to execute when the key is pressed.\\n\\t\\t * @param {Object} scope Optional scope to execute the function in.\\n\\t\\t * @return {Boolean} true/false state if the shortcut was added or not.\\n\\t\\t */\\n\\t\\tself.add = function(pattern, desc, cmdFunc, scope) {\\n\\t\\t\\tvar cmd;\\n\\n\\t\\t\\tcmd = cmdFunc;\\n\\n\\t\\t\\tif (typeof cmdFunc === 'string') {\\n\\t\\t\\t\\tcmdFunc = function() {\\n\\t\\t\\t\\t\\teditor.execCommand(cmd, false, null);\\n\\t\\t\\t\\t};\\n\\t\\t\\t} else if (Tools.isArray(cmd)) {\\n\\t\\t\\t\\tcmdFunc = function() {\\n\\t\\t\\t\\t\\teditor.execCommand(cmd[0], cmd[1], cmd[2]);\\n\\t\\t\\t\\t};\\n\\t\\t\\t}\\n\\n\\t\\t\\teach(explode(Tools.trim(pattern.toLowerCase())), function(pattern) {\\n\\t\\t\\t\\tvar shortcut = createShortcut(pattern, desc, cmdFunc, scope);\\n\\t\\t\\t\\tshortcuts[shortcut.id] = shortcut;\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn true;\\n\\t\\t};\\n\\n\\t\\t/**\\n\\t\\t * Remove a keyboard shortcut by pattern.\\n\\t\\t *\\n\\t\\t * @method remove\\n\\t\\t * @param {String} pattern Shortcut pattern. Like for example: ctrl+alt+o.\\n\\t\\t * @return {Boolean} true/false state if the shortcut was removed or not.\\n\\t\\t */\\n\\t\\tself.remove = function(pattern) {\\n\\t\\t\\tvar shortcut = createShortcut(pattern);\\n\\n\\t\\t\\tif (shortcuts[shortcut.id]) {\\n\\t\\t\\t\\tdelete shortcuts[shortcut.id];\\n\\t\\t\\t\\treturn true;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn false;\\n\\t\\t};\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/file/Uploader.js\\n\\n/**\\n * Uploader.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Upload blobs or blob infos to the specified URL or handler.\\n *\\n * @private\\n * @class tinymce.file.Uploader\\n * @example\\n * var uploader = new Uploader({\\n *     url: '/upload.php',\\n *     basePath: '/base/path',\\n *     credentials: true,\\n *     handler: function(data, success, failure) {\\n *         ...\\n *     }\\n * });\\n *\\n * uploader.upload(blobInfos).then(function(result) {\\n *     ...\\n * });\\n */\\ndefine(\\\"tinymce/file/Uploader\\\", [\\n\\t\\\"tinymce/util/Promise\\\",\\n\\t\\\"tinymce/util/Tools\\\",\\n\\t\\\"tinymce/util/Fun\\\"\\n], function(Promise, Tools, Fun) {\\n\\treturn function(uploadStatus, settings) {\\n\\t\\tvar pendingPromises = {};\\n\\n\\t\\tfunction filename(blobInfo) {\\n\\t\\t\\tvar ext, extensions;\\n\\n\\t\\t\\textensions = {\\n\\t\\t\\t\\t'image/jpeg': 'jpg',\\n\\t\\t\\t\\t'image/jpg': 'jpg',\\n\\t\\t\\t\\t'image/gif': 'gif',\\n\\t\\t\\t\\t'image/png': 'png'\\n\\t\\t\\t};\\n\\n\\t\\t\\text = extensions[blobInfo.blob().type.toLowerCase()] || 'dat';\\n\\n\\t\\t\\treturn blobInfo.filename() + '.' + ext;\\n\\t\\t}\\n\\n\\t\\tfunction pathJoin(path1, path2) {\\n\\t\\t\\tif (path1) {\\n\\t\\t\\t\\treturn path1.replace(/\\\\/$/, '') + '/' + path2.replace(/^\\\\//, '');\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn path2;\\n\\t\\t}\\n\\n\\t\\tfunction blobInfoToData(blobInfo) {\\n\\t\\t\\treturn {\\n\\t\\t\\t\\tid: blobInfo.id,\\n\\t\\t\\t\\tblob: blobInfo.blob,\\n\\t\\t\\t\\tbase64: blobInfo.base64,\\n\\t\\t\\t\\tfilename: Fun.constant(filename(blobInfo))\\n\\t\\t\\t};\\n\\t\\t}\\n\\n\\t\\tfunction defaultHandler(blobInfo, success, failure, progress) {\\n\\t\\t\\tvar xhr, formData;\\n\\n\\t\\t\\txhr = new XMLHttpRequest();\\n\\t\\t\\txhr.open('POST', settings.url);\\n\\t\\t\\txhr.withCredentials = settings.credentials;\\n\\n\\t\\t\\txhr.upload.onprogress = function(e) {\\n\\t\\t\\t\\tprogress(e.loaded / e.total * 100);\\n\\t\\t\\t};\\n\\n\\t\\t\\txhr.onerror = function() {\\n\\t\\t\\t\\tfailure(\\\"Image upload failed due to a XHR Transport error. Code: \\\" + xhr.status);\\n\\t\\t\\t};\\n\\n\\t\\t\\txhr.onload = function() {\\n\\t\\t\\t\\tvar json;\\n\\n\\t\\t\\t\\tif (xhr.status != 200) {\\n\\t\\t\\t\\t\\tfailure(\\\"HTTP Error: \\\" + xhr.status);\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tjson = JSON.parse(xhr.responseText);\\n\\n\\t\\t\\t\\tif (!json || typeof json.location != \\\"string\\\") {\\n\\t\\t\\t\\t\\tfailure(\\\"Invalid JSON: \\\" + xhr.responseText);\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tsuccess(pathJoin(settings.basePath, json.location));\\n\\t\\t\\t};\\n\\n\\t\\t\\tformData = new FormData();\\n\\t\\t\\tformData.append('file', blobInfo.blob(), blobInfo.filename());\\n\\n\\t\\t\\txhr.send(formData);\\n\\t\\t}\\n\\n\\t\\tfunction noUpload() {\\n\\t\\t\\treturn new Promise(function(resolve) {\\n\\t\\t\\t\\tresolve([]);\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\tfunction handlerSuccess(blobInfo, url) {\\n\\t\\t\\treturn {\\n\\t\\t\\t\\turl: url,\\n\\t\\t\\t\\tblobInfo: blobInfo,\\n\\t\\t\\t\\tstatus: true\\n\\t\\t\\t};\\n\\t\\t}\\n\\n\\t\\tfunction handlerFailure(blobInfo, error) {\\n\\t\\t\\treturn {\\n\\t\\t\\t\\turl: '',\\n\\t\\t\\t\\tblobInfo: blobInfo,\\n\\t\\t\\t\\tstatus: false,\\n\\t\\t\\t\\terror: error\\n\\t\\t\\t};\\n\\t\\t}\\n\\n\\t\\tfunction resolvePending(blobUri, result) {\\n\\t\\t\\tTools.each(pendingPromises[blobUri], function(resolve) {\\n\\t\\t\\t\\tresolve(result);\\n\\t\\t\\t});\\n\\n\\t\\t\\tdelete pendingPromises[blobUri];\\n\\t\\t}\\n\\n\\t\\tfunction uploadBlobInfo(blobInfo, handler, openNotification) {\\n\\t\\t\\tuploadStatus.markPending(blobInfo.blobUri());\\n\\n\\t\\t\\treturn new Promise(function(resolve) {\\n\\t\\t\\t\\tvar notification, progress;\\n\\n\\t\\t\\t\\tvar noop = function() {\\n\\t\\t\\t\\t};\\n\\n\\t\\t\\t\\ttry {\\n\\t\\t\\t\\t\\tvar closeNotification = function() {\\n\\t\\t\\t\\t\\t\\tif (notification) {\\n\\t\\t\\t\\t\\t\\t\\tnotification.close();\\n\\t\\t\\t\\t\\t\\t\\tprogress = noop; // Once it's closed it's closed\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t};\\n\\n\\t\\t\\t\\t\\tvar success = function(url) {\\n\\t\\t\\t\\t\\t\\tcloseNotification();\\n\\t\\t\\t\\t\\t\\tuploadStatus.markUploaded(blobInfo.blobUri(), url);\\n\\t\\t\\t\\t\\t\\tresolvePending(blobInfo.blobUri(), handlerSuccess(blobInfo, url));\\n\\t\\t\\t\\t\\t\\tresolve(handlerSuccess(blobInfo, url));\\n\\t\\t\\t\\t\\t};\\n\\n\\t\\t\\t\\t\\tvar failure = function(error) {\\n\\t\\t\\t\\t\\t\\tcloseNotification();\\n\\t\\t\\t\\t\\t\\tuploadStatus.removeFailed(blobInfo.blobUri());\\n\\t\\t\\t\\t\\t\\tresolvePending(blobInfo.blobUri(), handlerFailure(blobInfo, error));\\n\\t\\t\\t\\t\\t\\tresolve(handlerFailure(blobInfo, error));\\n\\t\\t\\t\\t\\t};\\n\\n\\t\\t\\t\\t\\tprogress = function(percent) {\\n\\t\\t\\t\\t\\t\\tif (percent < 0 || percent > 100) {\\n\\t\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tif (!notification) {\\n\\t\\t\\t\\t\\t\\t\\tnotification = openNotification();\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tnotification.progressBar.value(percent);\\n\\t\\t\\t\\t\\t};\\n\\n\\t\\t\\t\\t\\thandler(blobInfoToData(blobInfo), success, failure, progress);\\n\\t\\t\\t\\t} catch (ex) {\\n\\t\\t\\t\\t\\tresolve(handlerFailure(blobInfo, ex.message));\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\tfunction isDefaultHandler(handler) {\\n\\t\\t\\treturn handler === defaultHandler;\\n\\t\\t}\\n\\n\\t\\tfunction pendingUploadBlobInfo(blobInfo) {\\n\\t\\t\\tvar blobUri = blobInfo.blobUri();\\n\\n\\t\\t\\treturn new Promise(function(resolve) {\\n\\t\\t\\t\\tpendingPromises[blobUri] = pendingPromises[blobUri] || [];\\n\\t\\t\\t\\tpendingPromises[blobUri].push(resolve);\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\tfunction uploadBlobs(blobInfos, openNotification) {\\n\\t\\t\\tblobInfos = Tools.grep(blobInfos, function(blobInfo) {\\n\\t\\t\\t\\treturn !uploadStatus.isUploaded(blobInfo.blobUri());\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn Promise.all(Tools.map(blobInfos, function(blobInfo) {\\n\\t\\t\\t\\treturn uploadStatus.isPending(blobInfo.blobUri()) ?\\n\\t\\t\\t\\t\\tpendingUploadBlobInfo(blobInfo) : uploadBlobInfo(blobInfo, settings.handler, openNotification);\\n\\t\\t\\t}));\\n\\t\\t}\\n\\n\\t\\tfunction upload(blobInfos, openNotification) {\\n\\t\\t\\treturn (!settings.url && isDefaultHandler(settings.handler)) ? noUpload() : uploadBlobs(blobInfos, openNotification);\\n\\t\\t}\\n\\n\\t\\tsettings = Tools.extend({\\n\\t\\t\\tcredentials: false,\\n\\t\\t\\t// We are adding a notify argument to this (at the moment, until it doesn't work)\\n\\t\\t\\thandler: defaultHandler\\n\\t\\t}, settings);\\n\\n\\t\\treturn {\\n\\t\\t\\tupload: upload\\n\\t\\t};\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/file/Conversions.js\\n\\n/**\\n * Conversions.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Converts blob/uris back and forth.\\n *\\n * @private\\n * @class tinymce.file.Conversions\\n */\\ndefine(\\\"tinymce/file/Conversions\\\", [\\n\\t\\\"tinymce/util/Promise\\\"\\n], function(Promise) {\\n\\tfunction blobUriToBlob(url) {\\n\\t\\treturn new Promise(function(resolve) {\\n\\t\\t\\tvar xhr = new XMLHttpRequest();\\n\\n\\t\\t\\txhr.open('GET', url, true);\\n\\t\\t\\txhr.responseType = 'blob';\\n\\n\\t\\t\\txhr.onload = function() {\\n\\t\\t\\t\\tif (this.status == 200) {\\n\\t\\t\\t\\t\\tresolve(this.response);\\n\\t\\t\\t\\t}\\n\\t\\t\\t};\\n\\n\\t\\t\\txhr.send();\\n\\t\\t});\\n\\t}\\n\\n\\tfunction parseDataUri(uri) {\\n\\t\\tvar type, matches;\\n\\n\\t\\turi = decodeURIComponent(uri).split(',');\\n\\n\\t\\tmatches = /data:([^;]+)/.exec(uri[0]);\\n\\t\\tif (matches) {\\n\\t\\t\\ttype = matches[1];\\n\\t\\t}\\n\\n\\t\\treturn {\\n\\t\\t\\ttype: type,\\n\\t\\t\\tdata: uri[1]\\n\\t\\t};\\n\\t}\\n\\n\\tfunction dataUriToBlob(uri) {\\n\\t\\treturn new Promise(function(resolve) {\\n\\t\\t\\tvar str, arr, i;\\n\\n\\t\\t\\turi = parseDataUri(uri);\\n\\n\\t\\t\\t// Might throw error if data isn't proper base64\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tstr = atob(uri.data);\\n\\t\\t\\t} catch (e) {\\n\\t\\t\\t\\tresolve(new Blob([]));\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tarr = new Uint8Array(str.length);\\n\\n\\t\\t\\tfor (i = 0; i < arr.length; i++) {\\n\\t\\t\\t\\tarr[i] = str.charCodeAt(i);\\n\\t\\t\\t}\\n\\n\\t\\t\\tresolve(new Blob([arr], {type: uri.type}));\\n\\t\\t});\\n\\t}\\n\\n\\tfunction uriToBlob(url) {\\n\\t\\tif (url.indexOf('blob:') === 0) {\\n\\t\\t\\treturn blobUriToBlob(url);\\n\\t\\t}\\n\\n\\t\\tif (url.indexOf('data:') === 0) {\\n\\t\\t\\treturn dataUriToBlob(url);\\n\\t\\t}\\n\\n\\t\\treturn null;\\n\\t}\\n\\n\\tfunction blobToDataUri(blob) {\\n\\t\\treturn new Promise(function(resolve) {\\n\\t\\t\\tvar reader = new FileReader();\\n\\n\\t\\t\\treader.onloadend = function() {\\n\\t\\t\\t\\tresolve(reader.result);\\n\\t\\t\\t};\\n\\n\\t\\t\\treader.readAsDataURL(blob);\\n\\t\\t});\\n\\t}\\n\\n\\treturn {\\n\\t\\turiToBlob: uriToBlob,\\n\\t\\tblobToDataUri: blobToDataUri,\\n\\t\\tparseDataUri: parseDataUri\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/file/ImageScanner.js\\n\\n/**\\n * ImageScanner.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Finds images with data uris or blob uris. If data uris are found it will convert them into blob uris.\\n *\\n * @private\\n * @class tinymce.file.ImageScanner\\n */\\ndefine(\\\"tinymce/file/ImageScanner\\\", [\\n\\t\\\"tinymce/util/Promise\\\",\\n\\t\\\"tinymce/util/Arr\\\",\\n\\t\\\"tinymce/util/Fun\\\",\\n\\t\\\"tinymce/file/Conversions\\\",\\n\\t\\\"tinymce/Env\\\"\\n], function(Promise, Arr, Fun, Conversions, Env) {\\n\\tvar count = 0;\\n\\n\\tvar uniqueId = function(prefix) {\\n\\t\\treturn (prefix || 'blobid') + (count++);\\n\\t};\\n\\n\\treturn function(uploadStatus, blobCache) {\\n\\t\\tvar cachedPromises = {};\\n\\n\\t\\tfunction findAll(elm, predicate) {\\n\\t\\t\\tvar images, promises;\\n\\n\\t\\t\\tfunction imageToBlobInfo(img, resolve) {\\n\\t\\t\\t\\tvar base64, blobInfo;\\n\\n\\t\\t\\t\\tif (img.src.indexOf('blob:') === 0) {\\n\\t\\t\\t\\t\\tblobInfo = blobCache.getByUri(img.src);\\n\\n\\t\\t\\t\\t\\tif (blobInfo) {\\n\\t\\t\\t\\t\\t\\tresolve({\\n\\t\\t\\t\\t\\t\\t\\timage: img,\\n\\t\\t\\t\\t\\t\\t\\tblobInfo: blobInfo\\n\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tConversions.uriToBlob(img.src).then(function (blob) {\\n\\t\\t\\t\\t\\t\\t\\tConversions.blobToDataUri(blob).then(function (dataUri) {\\n\\t\\t\\t\\t\\t\\t\\t\\tbase64 = Conversions.parseDataUri(dataUri).data;\\n\\t\\t\\t\\t\\t\\t\\t\\tblobInfo = blobCache.create(uniqueId(), blob, base64);\\n\\t\\t\\t\\t\\t\\t\\t\\tblobCache.add(blobInfo);\\n\\n\\t\\t\\t\\t\\t\\t\\t\\tresolve({\\n\\t\\t\\t\\t\\t\\t\\t\\t\\timage: img,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tblobInfo: blobInfo\\n\\t\\t\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tbase64 = Conversions.parseDataUri(img.src).data;\\n\\t\\t\\t\\tblobInfo = blobCache.findFirst(function(cachedBlobInfo) {\\n\\t\\t\\t\\t\\treturn cachedBlobInfo.base64() === base64;\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\tif (blobInfo) {\\n\\t\\t\\t\\t\\tresolve({\\n\\t\\t\\t\\t\\t\\timage: img,\\n\\t\\t\\t\\t\\t\\tblobInfo: blobInfo\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tConversions.uriToBlob(img.src).then(function(blob) {\\n\\t\\t\\t\\t\\t\\tblobInfo = blobCache.create(uniqueId(), blob, base64);\\n\\t\\t\\t\\t\\t\\tblobCache.add(blobInfo);\\n\\n\\t\\t\\t\\t\\t\\tresolve({\\n\\t\\t\\t\\t\\t\\t\\timage: img,\\n\\t\\t\\t\\t\\t\\t\\tblobInfo: blobInfo\\n\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!predicate) {\\n\\t\\t\\t\\tpredicate = Fun.constant(true);\\n\\t\\t\\t}\\n\\n\\t\\t\\timages = Arr.filter(elm.getElementsByTagName('img'), function(img) {\\n\\t\\t\\t\\tvar src = img.src;\\n\\n\\t\\t\\t\\tif (!Env.fileApi) {\\n\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (img.hasAttribute('data-mce-bogus')) {\\n\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (img.hasAttribute('data-mce-placeholder')) {\\n\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (!src || src == Env.transparentSrc) {\\n\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (src.indexOf('blob:') === 0) {\\n\\t\\t\\t\\t\\treturn !uploadStatus.isUploaded(src);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (src.indexOf('data:') === 0) {\\n\\t\\t\\t\\t\\treturn predicate(img);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn false;\\n\\t\\t\\t});\\n\\n\\t\\t\\tpromises = Arr.map(images, function(img) {\\n\\t\\t\\t\\tvar newPromise;\\n\\n\\t\\t\\t\\tif (cachedPromises[img.src]) {\\n\\t\\t\\t\\t\\t// Since the cached promise will return the cached image\\n\\t\\t\\t\\t\\t// We need to wrap it and resolve with the actual image\\n\\t\\t\\t\\t\\treturn new Promise(function(resolve) {\\n\\t\\t\\t\\t\\t\\tcachedPromises[img.src].then(function(imageInfo) {\\n\\t\\t\\t\\t\\t\\t\\tresolve({\\n\\t\\t\\t\\t\\t\\t\\t\\timage: img,\\n\\t\\t\\t\\t\\t\\t\\t\\tblobInfo: imageInfo.blobInfo\\n\\t\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tnewPromise = new Promise(function(resolve) {\\n\\t\\t\\t\\t\\timageToBlobInfo(img, resolve);\\n\\t\\t\\t\\t}).then(function(result) {\\n\\t\\t\\t\\t\\tdelete cachedPromises[result.image.src];\\n\\t\\t\\t\\t\\treturn result;\\n\\t\\t\\t\\t})['catch'](function(error) {\\n\\t\\t\\t\\t\\tdelete cachedPromises[img.src];\\n\\t\\t\\t\\t\\treturn error;\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\tcachedPromises[img.src] = newPromise;\\n\\n\\t\\t\\t\\treturn newPromise;\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn Promise.all(promises);\\n\\t\\t}\\n\\n\\t\\treturn {\\n\\t\\t\\tfindAll: findAll\\n\\t\\t};\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/file/BlobCache.js\\n\\n/**\\n * BlobCache.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Hold blob info objects where a blob has extra internal information.\\n *\\n * @private\\n * @class tinymce.file.BlobCache\\n */\\ndefine(\\\"tinymce/file/BlobCache\\\", [\\n\\t\\\"tinymce/util/Arr\\\",\\n\\t\\\"tinymce/util/Fun\\\"\\n], function(Arr, Fun) {\\n\\treturn function() {\\n\\t\\tvar cache = [], constant = Fun.constant;\\n\\n\\t\\tfunction create(id, blob, base64, filename) {\\n\\t\\t\\treturn {\\n\\t\\t\\t\\tid: constant(id),\\n\\t\\t\\t\\tfilename: constant(filename || id),\\n\\t\\t\\t\\tblob: constant(blob),\\n\\t\\t\\t\\tbase64: constant(base64),\\n\\t\\t\\t\\tblobUri: constant(URL.createObjectURL(blob))\\n\\t\\t\\t};\\n\\t\\t}\\n\\n\\t\\tfunction add(blobInfo) {\\n\\t\\t\\tif (!get(blobInfo.id())) {\\n\\t\\t\\t\\tcache.push(blobInfo);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction get(id) {\\n\\t\\t\\treturn findFirst(function(cachedBlobInfo) {\\n\\t\\t\\t\\treturn cachedBlobInfo.id() === id;\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\tfunction findFirst(predicate) {\\n\\t\\t\\treturn Arr.filter(cache, predicate)[0];\\n\\t\\t}\\n\\n\\t\\tfunction getByUri(blobUri) {\\n\\t\\t\\treturn findFirst(function(blobInfo) {\\n\\t\\t\\t\\treturn blobInfo.blobUri() == blobUri;\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\tfunction removeByUri(blobUri) {\\n\\t\\t\\tcache = Arr.filter(cache, function(blobInfo) {\\n\\t\\t\\t\\tif (blobInfo.blobUri() === blobUri) {\\n\\t\\t\\t\\t\\tURL.revokeObjectURL(blobInfo.blobUri());\\n\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn true;\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\tfunction destroy() {\\n\\t\\t\\tArr.each(cache, function(cachedBlobInfo) {\\n\\t\\t\\t\\tURL.revokeObjectURL(cachedBlobInfo.blobUri());\\n\\t\\t\\t});\\n\\n\\t\\t\\tcache = [];\\n\\t\\t}\\n\\n\\t\\treturn {\\n\\t\\t\\tcreate: create,\\n\\t\\t\\tadd: add,\\n\\t\\t\\tget: get,\\n\\t\\t\\tgetByUri: getByUri,\\n\\t\\t\\tfindFirst: findFirst,\\n\\t\\t\\tremoveByUri: removeByUri,\\n\\t\\t\\tdestroy: destroy\\n\\t\\t};\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/file/UploadStatus.js\\n\\n/**\\n * UploadStatus.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2016 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Holds the current status of a blob uri, if it's pending or uploaded and what the result urls was.\\n *\\n * @private\\n * @class tinymce.file.UploadStatus\\n */\\ndefine(\\\"tinymce/file/UploadStatus\\\", [\\n], function() {\\n\\treturn function() {\\n\\t\\tvar PENDING = 1, UPLOADED = 2;\\n\\t\\tvar blobUriStatuses = {};\\n\\n\\t\\tfunction createStatus(status, resultUri) {\\n\\t\\t\\treturn {\\n\\t\\t\\t\\tstatus: status,\\n\\t\\t\\t\\tresultUri: resultUri\\n\\t\\t\\t};\\n\\t\\t}\\n\\n\\t\\tfunction hasBlobUri(blobUri) {\\n\\t\\t\\treturn blobUri in blobUriStatuses;\\n\\t\\t}\\n\\n\\t\\tfunction getResultUri(blobUri) {\\n\\t\\t\\tvar result = blobUriStatuses[blobUri];\\n\\n\\t\\t\\treturn result ? result.resultUri : null;\\n\\t\\t}\\n\\n\\t\\tfunction isPending(blobUri) {\\n\\t\\t\\treturn hasBlobUri(blobUri) ? blobUriStatuses[blobUri].status === PENDING : false;\\n\\t\\t}\\n\\n\\t\\tfunction isUploaded(blobUri) {\\n\\t\\t\\treturn hasBlobUri(blobUri) ? blobUriStatuses[blobUri].status === UPLOADED : false;\\n\\t\\t}\\n\\n\\t\\tfunction markPending(blobUri) {\\n\\t\\t\\tblobUriStatuses[blobUri] = createStatus(PENDING, null);\\n\\t\\t}\\n\\n\\t\\tfunction markUploaded(blobUri, resultUri) {\\n\\t\\t\\tblobUriStatuses[blobUri] = createStatus(UPLOADED, resultUri);\\n\\t\\t}\\n\\n\\t\\tfunction removeFailed(blobUri) {\\n\\t\\t\\tdelete blobUriStatuses[blobUri];\\n\\t\\t}\\n\\n\\t\\tfunction destroy() {\\n\\t\\t\\tblobUriStatuses = {};\\n\\t\\t}\\n\\n\\t\\treturn {\\n\\t\\t\\thasBlobUri: hasBlobUri,\\n\\t\\t\\tgetResultUri: getResultUri,\\n\\t\\t\\tisPending: isPending,\\n\\t\\t\\tisUploaded: isUploaded,\\n\\t\\t\\tmarkPending: markPending,\\n\\t\\t\\tmarkUploaded: markUploaded,\\n\\t\\t\\tremoveFailed: removeFailed,\\n\\t\\t\\tdestroy: destroy\\n\\t\\t};\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/ErrorReporter.js\\n\\n/**\\n * ErrorReporter.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2016 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Various error reporting helper functions.\\n *\\n * @class tinymce.ErrorReporter\\n * @private\\n */\\ndefine(\\\"tinymce/ErrorReporter\\\", [\\n\\t\\\"tinymce/AddOnManager\\\"\\n], function (AddOnManager) {\\n\\tvar PluginManager = AddOnManager.PluginManager;\\n\\n\\tvar resolvePluginName = function (targetUrl, suffix) {\\n\\t\\tfor (var name in PluginManager.urls) {\\n\\t\\t\\tvar matchUrl = PluginManager.urls[name] + '/plugin' + suffix + '.js';\\n\\t\\t\\tif (matchUrl === targetUrl) {\\n\\t\\t\\t\\treturn name;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\treturn null;\\n\\t};\\n\\n\\tvar pluginUrlToMessage = function (editor, url) {\\n\\t\\tvar plugin = resolvePluginName(url, editor.suffix);\\n\\t\\treturn plugin ?\\n\\t\\t\\t'Failed to load plugin: ' + plugin + ' from url ' + url :\\n\\t\\t\\t'Failed to load plugin url: ' + url;\\n\\t};\\n\\n\\tvar displayNotification = function (editor, message) {\\n\\t\\teditor.notificationManager.open({\\n\\t\\t\\ttype: 'error',\\n\\t\\t\\ttext: message\\n\\t\\t});\\n\\t};\\n\\n\\tvar displayError = function (editor, message) {\\n\\t\\tif (editor._skinLoaded) {\\n\\t\\t\\tdisplayNotification(editor, message);\\n\\t\\t} else {\\n\\t\\t\\teditor.on('SkinLoaded', function () {\\n\\t\\t\\t\\tdisplayNotification(editor, message);\\n\\t\\t\\t});\\n\\t\\t}\\n\\t};\\n\\n\\tvar uploadError = function (editor, message) {\\n\\t\\tdisplayError(editor, 'Failed to upload image: ' + message);\\n\\t};\\n\\n\\tvar pluginLoadError = function (editor, url) {\\n\\t\\tdisplayError(editor, pluginUrlToMessage(editor, url));\\n\\t};\\n\\n\\treturn {\\n\\t\\tpluginLoadError: pluginLoadError,\\n\\t\\tuploadError: uploadError\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/EditorUpload.js\\n\\n/**\\n * EditorUpload.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Handles image uploads, updates undo stack and patches over various internal functions.\\n *\\n * @private\\n * @class tinymce.EditorUpload\\n */\\ndefine(\\\"tinymce/EditorUpload\\\", [\\n\\t\\\"tinymce/util/Arr\\\",\\n\\t\\\"tinymce/file/Uploader\\\",\\n\\t\\\"tinymce/file/ImageScanner\\\",\\n\\t\\\"tinymce/file/BlobCache\\\",\\n\\t\\\"tinymce/file/UploadStatus\\\",\\n\\t\\\"tinymce/ErrorReporter\\\"\\n], function(Arr, Uploader, ImageScanner, BlobCache, UploadStatus, ErrorReporter) {\\n\\treturn function(editor) {\\n\\t\\tvar blobCache = new BlobCache(), uploader, imageScanner, settings = editor.settings;\\n\\t\\tvar uploadStatus = new UploadStatus();\\n\\n\\t\\tfunction aliveGuard(callback) {\\n\\t\\t\\treturn function(result) {\\n\\t\\t\\t\\tif (editor.selection) {\\n\\t\\t\\t\\t\\treturn callback(result);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn [];\\n\\t\\t\\t};\\n\\t\\t}\\n\\n\\t\\tfunction cacheInvalidator() {\\n\\t\\t\\treturn '?' + (new Date()).getTime();\\n\\t\\t}\\n\\n\\t\\t// Replaces strings without regexps to avoid FF regexp to big issue\\n\\t\\tfunction replaceString(content, search, replace) {\\n\\t\\t\\tvar index = 0;\\n\\n\\t\\t\\tdo {\\n\\t\\t\\t\\tindex = content.indexOf(search, index);\\n\\n\\t\\t\\t\\tif (index !== -1) {\\n\\t\\t\\t\\t\\tcontent = content.substring(0, index) + replace + content.substr(index + search.length);\\n\\t\\t\\t\\t\\tindex += replace.length - search.length + 1;\\n\\t\\t\\t\\t}\\n\\t\\t\\t} while (index !== -1);\\n\\n\\t\\t\\treturn content;\\n\\t\\t}\\n\\n\\t\\tfunction replaceImageUrl(content, targetUrl, replacementUrl) {\\n\\t\\t\\tcontent = replaceString(content, 'src=\\\"' + targetUrl + '\\\"', 'src=\\\"' + replacementUrl + '\\\"');\\n\\t\\t\\tcontent = replaceString(content, 'data-mce-src=\\\"' + targetUrl + '\\\"', 'data-mce-src=\\\"' + replacementUrl + '\\\"');\\n\\n\\t\\t\\treturn content;\\n\\t\\t}\\n\\n\\t\\tfunction replaceUrlInUndoStack(targetUrl, replacementUrl) {\\n\\t\\t\\tArr.each(editor.undoManager.data, function(level) {\\n\\t\\t\\t\\tif (level.type === 'fragmented') {\\n\\t\\t\\t\\t\\tlevel.fragments = Arr.map(level.fragments, function (fragment) {\\n\\t\\t\\t\\t\\t\\treturn replaceImageUrl(fragment, targetUrl, replacementUrl);\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tlevel.content = replaceImageUrl(level.content, targetUrl, replacementUrl);\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\tfunction openNotification() {\\n\\t\\t\\treturn editor.notificationManager.open({\\n\\t\\t\\t\\ttext: editor.translate('Image uploading...'),\\n\\t\\t\\t\\ttype: 'info',\\n\\t\\t\\t\\ttimeout: -1,\\n\\t\\t\\t\\tprogressBar: true\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\tfunction replaceImageUri(image, resultUri) {\\n\\t\\t\\tblobCache.removeByUri(image.src);\\n\\t\\t\\treplaceUrlInUndoStack(image.src, resultUri);\\n\\n\\t\\t\\teditor.$(image).attr({\\n\\t\\t\\t\\tsrc: settings.images_reuse_filename ? resultUri + cacheInvalidator() : resultUri,\\n\\t\\t\\t\\t'data-mce-src': editor.convertURL(resultUri, 'src')\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\tfunction uploadImages(callback) {\\n\\t\\t\\tif (!uploader) {\\n\\t\\t\\t\\tuploader = new Uploader(uploadStatus, {\\n\\t\\t\\t\\t\\turl: settings.images_upload_url,\\n\\t\\t\\t\\t\\tbasePath: settings.images_upload_base_path,\\n\\t\\t\\t\\t\\tcredentials: settings.images_upload_credentials,\\n\\t\\t\\t\\t\\thandler: settings.images_upload_handler\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn scanForImages().then(aliveGuard(function(imageInfos) {\\n\\t\\t\\t\\tvar blobInfos;\\n\\n\\t\\t\\t\\tblobInfos = Arr.map(imageInfos, function(imageInfo) {\\n\\t\\t\\t\\t\\treturn imageInfo.blobInfo;\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\treturn uploader.upload(blobInfos, openNotification).then(aliveGuard(function(result) {\\n\\t\\t\\t\\t\\tresult = Arr.map(result, function(uploadInfo, index) {\\n\\t\\t\\t\\t\\t\\tvar image = imageInfos[index].image;\\n\\n\\t\\t\\t\\t\\t\\tif (uploadInfo.status && editor.settings.images_replace_blob_uris !== false) {\\n\\t\\t\\t\\t\\t\\t\\treplaceImageUri(image, uploadInfo.url);\\n\\t\\t\\t\\t\\t\\t} else if (uploadInfo.error) {\\n\\t\\t\\t\\t\\t\\t\\tErrorReporter.uploadError(editor, uploadInfo.error);\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\treturn {\\n\\t\\t\\t\\t\\t\\t\\telement: image,\\n\\t\\t\\t\\t\\t\\t\\tstatus: uploadInfo.status\\n\\t\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\tif (callback) {\\n\\t\\t\\t\\t\\t\\tcallback(result);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\treturn result;\\n\\t\\t\\t\\t}));\\n\\t\\t\\t}));\\n\\t\\t}\\n\\n\\t\\tfunction uploadImagesAuto(callback) {\\n\\t\\t\\tif (settings.automatic_uploads !== false) {\\n\\t\\t\\t\\treturn uploadImages(callback);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction isValidDataUriImage(imgElm) {\\n\\t\\t\\treturn settings.images_dataimg_filter ? settings.images_dataimg_filter(imgElm) : true;\\n\\t\\t}\\n\\n\\t\\tfunction scanForImages() {\\n\\t\\t\\tif (!imageScanner) {\\n\\t\\t\\t\\timageScanner = new ImageScanner(uploadStatus, blobCache);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn imageScanner.findAll(editor.getBody(), isValidDataUriImage).then(aliveGuard(function(result) {\\n\\t\\t\\t\\tArr.each(result, function(resultItem) {\\n\\t\\t\\t\\t\\treplaceUrlInUndoStack(resultItem.image.src, resultItem.blobInfo.blobUri());\\n\\t\\t\\t\\t\\tresultItem.image.src = resultItem.blobInfo.blobUri();\\n\\t\\t\\t\\t\\tresultItem.image.removeAttribute('data-mce-src');\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\treturn result;\\n\\t\\t\\t}));\\n\\t\\t}\\n\\n\\t\\tfunction destroy() {\\n\\t\\t\\tblobCache.destroy();\\n\\t\\t\\tuploadStatus.destroy();\\n\\t\\t\\timageScanner = uploader = null;\\n\\t\\t}\\n\\n\\t\\tfunction replaceBlobUris(content) {\\n\\t\\t\\treturn content.replace(/src=\\\"(blob:[^\\\"]+)\\\"/g, function(match, blobUri) {\\n\\t\\t\\t\\tvar resultUri = uploadStatus.getResultUri(blobUri);\\n\\n\\t\\t\\t\\tif (resultUri) {\\n\\t\\t\\t\\t\\treturn 'src=\\\"' + resultUri + '\\\"';\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tvar blobInfo = blobCache.getByUri(blobUri);\\n\\n\\t\\t\\t\\tif (!blobInfo) {\\n\\t\\t\\t\\t\\tblobInfo = Arr.reduce(editor.editorManager.editors, function(result, editor) {\\n\\t\\t\\t\\t\\t\\treturn result || editor.editorUpload.blobCache.getByUri(blobUri);\\n\\t\\t\\t\\t\\t}, null);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (blobInfo) {\\n\\t\\t\\t\\t\\treturn 'src=\\\"data:' + blobInfo.blob().type + ';base64,' + blobInfo.base64() + '\\\"';\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn match;\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\teditor.on('setContent', function() {\\n\\t\\t\\tif (editor.settings.automatic_uploads !== false) {\\n\\t\\t\\t\\tuploadImagesAuto();\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tscanForImages();\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\teditor.on('RawSaveContent', function(e) {\\n\\t\\t\\te.content = replaceBlobUris(e.content);\\n\\t\\t});\\n\\n\\t\\teditor.on('getContent', function(e) {\\n\\t\\t\\tif (e.source_view || e.format == 'raw') {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\te.content = replaceBlobUris(e.content);\\n\\t\\t});\\n\\n\\t\\teditor.on('PostRender', function() {\\n\\t\\t\\teditor.parser.addNodeFilter('img', function(images) {\\n\\t\\t\\t\\tArr.each(images, function(img) {\\n\\t\\t\\t\\t\\tvar src = img.attr('src');\\n\\n\\t\\t\\t\\t\\tif (blobCache.getByUri(src)) {\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tvar resultUri = uploadStatus.getResultUri(src);\\n\\t\\t\\t\\t\\tif (resultUri) {\\n\\t\\t\\t\\t\\t\\timg.attr('src', resultUri);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\t\\t\\t});\\n\\t\\t});\\n\\n\\t\\treturn {\\n\\t\\t\\tblobCache: blobCache,\\n\\t\\t\\tuploadImages: uploadImages,\\n\\t\\t\\tuploadImagesAuto: uploadImagesAuto,\\n\\t\\t\\tscanForImages: scanForImages,\\n\\t\\t\\tdestroy: destroy\\n\\t\\t};\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/caret/FakeCaret.js\\n\\n/**\\n * FakeCaret.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This module contains logic for rendering a fake visual caret.\\n *\\n * @private\\n * @class tinymce.caret.FakeCaret\\n */\\ndefine(\\\"tinymce/caret/FakeCaret\\\", [\\n\\t\\\"tinymce/caret/CaretContainer\\\",\\n\\t\\\"tinymce/caret/CaretPosition\\\",\\n\\t\\\"tinymce/dom/NodeType\\\",\\n\\t\\\"tinymce/dom/RangeUtils\\\",\\n\\t\\\"tinymce/dom/DomQuery\\\",\\n\\t\\\"tinymce/geom/ClientRect\\\",\\n\\t\\\"tinymce/util/Delay\\\"\\n], function(CaretContainer, CaretPosition, NodeType, RangeUtils, $, ClientRect, Delay) {\\n\\tvar isContentEditableFalse = NodeType.isContentEditableFalse;\\n\\n\\treturn function(rootNode, isBlock) {\\n\\t\\tvar cursorInterval, $lastVisualCaret, caretContainerNode;\\n\\n\\t\\tfunction getAbsoluteClientRect(node, before) {\\n\\t\\t\\tvar clientRect = ClientRect.collapse(node.getBoundingClientRect(), before),\\n\\t\\t\\t\\tdocElm, scrollX, scrollY, margin, rootRect;\\n\\n\\t\\t\\tif (rootNode.tagName == 'BODY') {\\n\\t\\t\\t\\tdocElm = rootNode.ownerDocument.documentElement;\\n\\t\\t\\t\\tscrollX = rootNode.scrollLeft || docElm.scrollLeft;\\n\\t\\t\\t\\tscrollY = rootNode.scrollTop || docElm.scrollTop;\\n\\t\\t\\t} else {\\n\\t\\t\\t\\trootRect = rootNode.getBoundingClientRect();\\n\\t\\t\\t\\tscrollX = rootNode.scrollLeft - rootRect.left;\\n\\t\\t\\t\\tscrollY = rootNode.scrollTop - rootRect.top;\\n\\t\\t\\t}\\n\\n\\t\\t\\tclientRect.left += scrollX;\\n\\t\\t\\tclientRect.right += scrollX;\\n\\t\\t\\tclientRect.top += scrollY;\\n\\t\\t\\tclientRect.bottom += scrollY;\\n\\t\\t\\tclientRect.width = 1;\\n\\n\\t\\t\\tmargin = node.offsetWidth - node.clientWidth;\\n\\n\\t\\t\\tif (margin > 0) {\\n\\t\\t\\t\\tif (before) {\\n\\t\\t\\t\\t\\tmargin *= -1;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tclientRect.left += margin;\\n\\t\\t\\t\\tclientRect.right += margin;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn clientRect;\\n\\t\\t}\\n\\n\\t\\tfunction trimInlineCaretContainers() {\\n\\t\\t\\tvar contentEditableFalseNodes, node, sibling, i, data;\\n\\n\\t\\t\\tcontentEditableFalseNodes = $('*[contentEditable=false]', rootNode);\\n\\t\\t\\tfor (i = 0; i < contentEditableFalseNodes.length; i++) {\\n\\t\\t\\t\\tnode = contentEditableFalseNodes[i];\\n\\n\\t\\t\\t\\tsibling = node.previousSibling;\\n\\t\\t\\t\\tif (CaretContainer.endsWithCaretContainer(sibling)) {\\n\\t\\t\\t\\t\\tdata = sibling.data;\\n\\n\\t\\t\\t\\t\\tif (data.length == 1) {\\n\\t\\t\\t\\t\\t\\tsibling.parentNode.removeChild(sibling);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tsibling.deleteData(data.length - 1, 1);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tsibling = node.nextSibling;\\n\\t\\t\\t\\tif (CaretContainer.startsWithCaretContainer(sibling)) {\\n\\t\\t\\t\\t\\tdata = sibling.data;\\n\\n\\t\\t\\t\\t\\tif (data.length == 1) {\\n\\t\\t\\t\\t\\t\\tsibling.parentNode.removeChild(sibling);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tsibling.deleteData(0, 1);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn null;\\n\\t\\t}\\n\\n\\t\\tfunction show(before, node) {\\n\\t\\t\\tvar clientRect, rng;\\n\\n\\t\\t\\thide();\\n\\n\\t\\t\\tif (isBlock(node)) {\\n\\t\\t\\t\\tcaretContainerNode = CaretContainer.insertBlock('p', node, before);\\n\\t\\t\\t\\tclientRect = getAbsoluteClientRect(node, before);\\n\\t\\t\\t\\t$(caretContainerNode).css('top', clientRect.top);\\n\\n\\t\\t\\t\\t$lastVisualCaret = $('<div class=\\\"mce-visual-caret\\\" data-mce-bogus=\\\"all\\\"></div>').css(clientRect).appendTo(rootNode);\\n\\n\\t\\t\\t\\tif (before) {\\n\\t\\t\\t\\t\\t$lastVisualCaret.addClass('mce-visual-caret-before');\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tstartBlink();\\n\\n\\t\\t\\t\\trng = node.ownerDocument.createRange();\\n\\t\\t\\t\\trng.setStart(caretContainerNode, 0);\\n\\t\\t\\t\\trng.setEnd(caretContainerNode, 0);\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tcaretContainerNode = CaretContainer.insertInline(node, before);\\n\\t\\t\\t\\trng = node.ownerDocument.createRange();\\n\\n\\t\\t\\t\\tif (isContentEditableFalse(caretContainerNode.nextSibling)) {\\n\\t\\t\\t\\t\\trng.setStart(caretContainerNode, 0);\\n\\t\\t\\t\\t\\trng.setEnd(caretContainerNode, 0);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\trng.setStart(caretContainerNode, 1);\\n\\t\\t\\t\\t\\trng.setEnd(caretContainerNode, 1);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn rng;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn rng;\\n\\t\\t}\\n\\n\\t\\tfunction hide() {\\n\\t\\t\\ttrimInlineCaretContainers();\\n\\n\\t\\t\\tif (caretContainerNode) {\\n\\t\\t\\t\\tCaretContainer.remove(caretContainerNode);\\n\\t\\t\\t\\tcaretContainerNode = null;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif ($lastVisualCaret) {\\n\\t\\t\\t\\t$lastVisualCaret.remove();\\n\\t\\t\\t\\t$lastVisualCaret = null;\\n\\t\\t\\t}\\n\\n\\t\\t\\tclearInterval(cursorInterval);\\n\\t\\t}\\n\\n\\t\\tfunction startBlink() {\\n\\t\\t\\tcursorInterval = Delay.setInterval(function() {\\n\\t\\t\\t\\t$('div.mce-visual-caret', rootNode).toggleClass('mce-visual-caret-hidden');\\n\\t\\t\\t}, 500);\\n\\t\\t}\\n\\n\\t\\tfunction destroy() {\\n\\t\\t\\tDelay.clearInterval(cursorInterval);\\n\\t\\t}\\n\\n\\t\\tfunction getCss() {\\n\\t\\t\\treturn (\\n\\t\\t\\t\\t'.mce-visual-caret {' +\\n\\t\\t\\t\\t\\t'position: absolute;' +\\n\\t\\t\\t\\t\\t'background-color: black;' +\\n\\t\\t\\t\\t\\t'background-color: currentcolor;' +\\n\\t\\t\\t\\t'}' +\\n\\t\\t\\t\\t'.mce-visual-caret-hidden {' +\\n\\t\\t\\t\\t\\t'display: none;' +\\n\\t\\t\\t\\t'}' +\\n\\t\\t\\t\\t'*[data-mce-caret] {' +\\n\\t\\t\\t\\t\\t'position: absolute;' +\\n\\t\\t\\t\\t\\t'left: -1000px;' +\\n\\t\\t\\t\\t\\t'right: auto;' +\\n\\t\\t\\t\\t\\t'top: 0;' +\\n\\t\\t\\t\\t\\t'margin: 0;' +\\n\\t\\t\\t\\t\\t'padding: 0;' +\\n\\t\\t\\t\\t'}'\\n\\t\\t\\t);\\n\\t\\t}\\n\\n\\t\\treturn {\\n\\t\\t\\tshow: show,\\n\\t\\t\\thide: hide,\\n\\t\\t\\tgetCss: getCss,\\n\\t\\t\\tdestroy: destroy\\n\\t\\t};\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/dom/Dimensions.js\\n\\n/**\\n * Dimensions.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This module measures nodes and returns client rects. The client rects has an\\n * extra node property.\\n *\\n * @private\\n * @class tinymce.dom.Dimensions\\n */\\ndefine(\\\"tinymce/dom/Dimensions\\\", [\\n\\t\\\"tinymce/util/Arr\\\",\\n\\t\\\"tinymce/dom/NodeType\\\",\\n\\t\\\"tinymce/geom/ClientRect\\\"\\n], function(Arr, NodeType, ClientRect) {\\n\\n\\tfunction getClientRects(node) {\\n\\t\\tfunction toArrayWithNode(clientRects) {\\n\\t\\t\\treturn Arr.map(clientRects, function(clientRect) {\\n\\t\\t\\t\\tclientRect = ClientRect.clone(clientRect);\\n\\t\\t\\t\\tclientRect.node = node;\\n\\n\\t\\t\\t\\treturn clientRect;\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\tif (Arr.isArray(node)) {\\n\\t\\t\\treturn Arr.reduce(node, function(result, node) {\\n\\t\\t\\t\\treturn result.concat(getClientRects(node));\\n\\t\\t\\t}, []);\\n\\t\\t}\\n\\n\\t\\tif (NodeType.isElement(node)) {\\n\\t\\t\\treturn toArrayWithNode(node.getClientRects());\\n\\t\\t}\\n\\n\\t\\tif (NodeType.isText(node)) {\\n\\t\\t\\tvar rng = node.ownerDocument.createRange();\\n\\n\\t\\t\\trng.setStart(node, 0);\\n\\t\\t\\trng.setEnd(node, node.data.length);\\n\\n\\t\\t\\treturn toArrayWithNode(rng.getClientRects());\\n\\t\\t}\\n\\t}\\n\\n\\treturn {\\n\\t\\t/**\\n\\t\\t * Returns the client rects for a specific node.\\n\\t\\t *\\n\\t\\t * @method getClientRects\\n\\t\\t * @param {Array/DOMNode} node Node or array of nodes to get client rects on.\\n\\t\\t * @param {Array} Array of client rects with a extra node property.\\n\\t\\t */\\n\\t\\tgetClientRects: getClientRects\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/caret/LineWalker.js\\n\\n/**\\n * LineWalker.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This module lets you walk the document line by line\\n * returing nodes and client rects for each line.\\n *\\n * @private\\n * @class tinymce.caret.LineWalker\\n */\\ndefine(\\\"tinymce/caret/LineWalker\\\", [\\n\\t\\\"tinymce/util/Fun\\\",\\n\\t\\\"tinymce/util/Arr\\\",\\n\\t\\\"tinymce/dom/Dimensions\\\",\\n\\t\\\"tinymce/caret/CaretCandidate\\\",\\n\\t\\\"tinymce/caret/CaretUtils\\\",\\n\\t\\\"tinymce/caret/CaretWalker\\\",\\n\\t\\\"tinymce/caret/CaretPosition\\\",\\n\\t\\\"tinymce/geom/ClientRect\\\"\\n], function(Fun, Arr, Dimensions, CaretCandidate, CaretUtils, CaretWalker, CaretPosition, ClientRect) {\\n\\tvar curry = Fun.curry;\\n\\n\\tfunction findUntil(direction, rootNode, predicateFn, node) {\\n\\t\\twhile ((node = CaretUtils.findNode(node, direction, CaretCandidate.isEditableCaretCandidate, rootNode))) {\\n\\t\\t\\tif (predicateFn(node)) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\tfunction walkUntil(direction, isAboveFn, isBeflowFn, rootNode, predicateFn, caretPosition) {\\n\\t\\tvar line = 0, node, result = [], targetClientRect;\\n\\n\\t\\tfunction add(node) {\\n\\t\\t\\tvar i, clientRect, clientRects;\\n\\n\\t\\t\\tclientRects = Dimensions.getClientRects(node);\\n\\t\\t\\tif (direction == -1) {\\n\\t\\t\\t\\tclientRects = clientRects.reverse();\\n\\t\\t\\t}\\n\\n\\t\\t\\tfor (i = 0; i < clientRects.length; i++) {\\n\\t\\t\\t\\tclientRect = clientRects[i];\\n\\t\\t\\t\\tif (isBeflowFn(clientRect, targetClientRect)) {\\n\\t\\t\\t\\t\\tcontinue;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (result.length > 0 && isAboveFn(clientRect, Arr.last(result))) {\\n\\t\\t\\t\\t\\tline++;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tclientRect.line = line;\\n\\n\\t\\t\\t\\tif (predicateFn(clientRect)) {\\n\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tresult.push(clientRect);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\ttargetClientRect = Arr.last(caretPosition.getClientRects());\\n\\t\\tif (!targetClientRect) {\\n\\t\\t\\treturn result;\\n\\t\\t}\\n\\n\\t\\tnode = caretPosition.getNode();\\n\\t\\tadd(node);\\n\\t\\tfindUntil(direction, rootNode, add, node);\\n\\n\\t\\treturn result;\\n\\t}\\n\\n\\tfunction aboveLineNumber(lineNumber, clientRect) {\\n\\t\\treturn clientRect.line > lineNumber;\\n\\t}\\n\\n\\tfunction isLine(lineNumber, clientRect) {\\n\\t\\treturn clientRect.line === lineNumber;\\n\\t}\\n\\n\\tvar upUntil = curry(walkUntil, -1, ClientRect.isAbove, ClientRect.isBelow);\\n\\tvar downUntil = curry(walkUntil, 1, ClientRect.isBelow, ClientRect.isAbove);\\n\\n\\tfunction positionsUntil(direction, rootNode, predicateFn, node) {\\n\\t\\tvar caretWalker = new CaretWalker(rootNode), walkFn, isBelowFn, isAboveFn,\\n\\t\\t\\tcaretPosition, result = [], line = 0, clientRect, targetClientRect;\\n\\n\\t\\tfunction getClientRect(caretPosition) {\\n\\t\\t\\tif (direction == 1) {\\n\\t\\t\\t\\treturn Arr.last(caretPosition.getClientRects());\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn Arr.last(caretPosition.getClientRects());\\n\\t\\t}\\n\\n\\t\\tif (direction == 1) {\\n\\t\\t\\twalkFn = caretWalker.next;\\n\\t\\t\\tisBelowFn = ClientRect.isBelow;\\n\\t\\t\\tisAboveFn = ClientRect.isAbove;\\n\\t\\t\\tcaretPosition = CaretPosition.after(node);\\n\\t\\t} else {\\n\\t\\t\\twalkFn = caretWalker.prev;\\n\\t\\t\\tisBelowFn = ClientRect.isAbove;\\n\\t\\t\\tisAboveFn = ClientRect.isBelow;\\n\\t\\t\\tcaretPosition = CaretPosition.before(node);\\n\\t\\t}\\n\\n\\t\\ttargetClientRect = getClientRect(caretPosition);\\n\\n\\t\\tdo {\\n\\t\\t\\tif (!caretPosition.isVisible()) {\\n\\t\\t\\t\\tcontinue;\\n\\t\\t\\t}\\n\\n\\t\\t\\tclientRect = getClientRect(caretPosition);\\n\\n\\t\\t\\tif (isAboveFn(clientRect, targetClientRect)) {\\n\\t\\t\\t\\tcontinue;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (result.length > 0 && isBelowFn(clientRect, Arr.last(result))) {\\n\\t\\t\\t\\tline++;\\n\\t\\t\\t}\\n\\n\\t\\t\\tclientRect = ClientRect.clone(clientRect);\\n\\t\\t\\tclientRect.position = caretPosition;\\n\\t\\t\\tclientRect.line = line;\\n\\n\\t\\t\\tif (predicateFn(clientRect)) {\\n\\t\\t\\t\\treturn result;\\n\\t\\t\\t}\\n\\n\\t\\t\\tresult.push(clientRect);\\n\\t\\t} while ((caretPosition = walkFn(caretPosition)));\\n\\n\\t\\treturn result;\\n\\t}\\n\\n\\treturn {\\n\\t\\tupUntil: upUntil,\\n\\t\\tdownUntil: downUntil,\\n\\n\\t\\t/**\\n\\t\\t * Find client rects with line and caret position until the predicate returns true.\\n\\t\\t *\\n\\t\\t * @method positionsUntil\\n\\t\\t * @param {Number} direction Direction forward/backward 1/-1.\\n\\t\\t * @param {DOMNode} rootNode Root node to walk within.\\n\\t\\t * @param {function} predicateFn Gets the client rect as it's input.\\n\\t\\t * @param {DOMNode} node Node to start walking from.\\n\\t\\t * @return {Array} Array of client rects with line and position properties.\\n\\t\\t */\\n\\t\\tpositionsUntil: positionsUntil,\\n\\n\\t\\tisAboveLine: curry(aboveLineNumber),\\n\\t\\tisLine: curry(isLine)\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/caret/LineUtils.js\\n\\n/**\\n * LineUtils.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Utility functions for working with lines.\\n *\\n * @private\\n * @class tinymce.caret.LineUtils\\n */\\ndefine(\\\"tinymce/caret/LineUtils\\\", [\\n\\t\\\"tinymce/util/Fun\\\",\\n\\t\\\"tinymce/util/Arr\\\",\\n\\t\\\"tinymce/dom/NodeType\\\",\\n\\t\\\"tinymce/dom/Dimensions\\\",\\n\\t\\\"tinymce/geom/ClientRect\\\",\\n\\t\\\"tinymce/caret/CaretUtils\\\",\\n\\t\\\"tinymce/caret/CaretCandidate\\\"\\n], function(Fun, Arr, NodeType, Dimensions, ClientRect, CaretUtils, CaretCandidate) {\\n\\tvar isContentEditableFalse = NodeType.isContentEditableFalse,\\n\\t\\tfindNode = CaretUtils.findNode,\\n\\t\\tcurry = Fun.curry;\\n\\n\\tfunction distanceToRectLeft(clientRect, clientX) {\\n\\t\\treturn Math.abs(clientRect.left - clientX);\\n\\t}\\n\\n\\tfunction distanceToRectRight(clientRect, clientX) {\\n\\t\\treturn Math.abs(clientRect.right - clientX);\\n\\t}\\n\\n\\tfunction findClosestClientRect(clientRects, clientX) {\\n\\t\\tfunction isInside(clientX, clientRect) {\\n\\t\\t\\treturn clientX >= clientRect.left && clientX <= clientRect.right;\\n\\t\\t}\\n\\n\\t\\treturn Arr.reduce(clientRects, function(oldClientRect, clientRect) {\\n\\t\\t\\tvar oldDistance, newDistance;\\n\\n\\t\\t\\toldDistance = Math.min(distanceToRectLeft(oldClientRect, clientX), distanceToRectRight(oldClientRect, clientX));\\n\\t\\t\\tnewDistance = Math.min(distanceToRectLeft(clientRect, clientX), distanceToRectRight(clientRect, clientX));\\n\\n\\t\\t\\tif (isInside(clientX, clientRect)) {\\n\\t\\t\\t\\treturn clientRect;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (isInside(clientX, oldClientRect)) {\\n\\t\\t\\t\\treturn oldClientRect;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// cE=false has higher priority\\n\\t\\t\\tif (newDistance == oldDistance && isContentEditableFalse(clientRect.node)) {\\n\\t\\t\\t\\treturn clientRect;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (newDistance < oldDistance) {\\n\\t\\t\\t\\treturn clientRect;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn oldClientRect;\\n\\t\\t});\\n\\t}\\n\\n\\tfunction walkUntil(direction, rootNode, predicateFn, node) {\\n\\t\\twhile ((node = findNode(node, direction, CaretCandidate.isEditableCaretCandidate, rootNode))) {\\n\\t\\t\\tif (predicateFn(node)) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\tfunction findLineNodeRects(rootNode, targetNodeRect) {\\n\\t\\tvar clientRects = [];\\n\\n\\t\\tfunction collect(checkPosFn, node) {\\n\\t\\t\\tvar lineRects;\\n\\n\\t\\t\\tlineRects = Arr.filter(Dimensions.getClientRects(node), function(clientRect) {\\n\\t\\t\\t\\treturn !checkPosFn(clientRect, targetNodeRect);\\n\\t\\t\\t});\\n\\n\\t\\t\\tclientRects = clientRects.concat(lineRects);\\n\\n\\t\\t\\treturn lineRects.length === 0;\\n\\t\\t}\\n\\n\\t\\tclientRects.push(targetNodeRect);\\n\\t\\twalkUntil(-1, rootNode, curry(collect, ClientRect.isAbove), targetNodeRect.node);\\n\\t\\twalkUntil(1, rootNode, curry(collect, ClientRect.isBelow), targetNodeRect.node);\\n\\n\\t\\treturn clientRects;\\n\\t}\\n\\n\\tfunction getContentEditableFalseChildren(rootNode) {\\n\\t\\treturn Arr.filter(Arr.toArray(rootNode.getElementsByTagName('*')), isContentEditableFalse);\\n\\t}\\n\\n\\tfunction caretInfo(clientRect, clientX) {\\n\\t\\treturn {\\n\\t\\t\\tnode: clientRect.node,\\n\\t\\t\\tbefore: distanceToRectLeft(clientRect, clientX) < distanceToRectRight(clientRect, clientX)\\n\\t\\t};\\n\\t}\\n\\n\\tfunction closestCaret(rootNode, clientX, clientY) {\\n\\t\\tvar contentEditableFalseNodeRects, closestNodeRect;\\n\\n\\t\\tcontentEditableFalseNodeRects = Dimensions.getClientRects(getContentEditableFalseChildren(rootNode));\\n\\t\\tcontentEditableFalseNodeRects = Arr.filter(contentEditableFalseNodeRects, function(clientRect) {\\n\\t\\t\\treturn clientY >= clientRect.top && clientY <= clientRect.bottom;\\n\\t\\t});\\n\\n\\t\\tclosestNodeRect = findClosestClientRect(contentEditableFalseNodeRects, clientX);\\n\\t\\tif (closestNodeRect) {\\n\\t\\t\\tclosestNodeRect = findClosestClientRect(findLineNodeRects(rootNode, closestNodeRect), clientX);\\n\\t\\t\\tif (closestNodeRect && isContentEditableFalse(closestNodeRect.node)) {\\n\\t\\t\\t\\treturn caretInfo(closestNodeRect, clientX);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\treturn null;\\n\\t}\\n\\n\\treturn {\\n\\t\\tfindClosestClientRect: findClosestClientRect,\\n\\t\\tfindLineNodeRects: findLineNodeRects,\\n\\t\\tclosestCaret: closestCaret\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/dom/MousePosition.js\\n\\n/**\\n * MousePosition.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2016 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This module calculates an absolute coordinate inside the editor body for both local and global mouse events.\\n *\\n * @private\\n * @class tinymce.dom.MousePosition\\n */\\ndefine(\\\"tinymce/dom/MousePosition\\\", [\\n], function() {\\n\\tvar getAbsolutePosition = function (elm) {\\n\\t\\tvar doc, docElem, win, clientRect;\\n\\n\\t\\tclientRect = elm.getBoundingClientRect();\\n\\t\\tdoc = elm.ownerDocument;\\n\\t\\tdocElem = doc.documentElement;\\n\\t\\twin = doc.defaultView;\\n\\n\\t\\treturn {\\n\\t\\t\\ttop: clientRect.top + win.pageYOffset - docElem.clientTop,\\n\\t\\t\\tleft: clientRect.left + win.pageXOffset - docElem.clientLeft\\n\\t\\t};\\n\\t};\\n\\n\\tvar getBodyPosition = function (editor) {\\n\\t\\treturn editor.inline ? getAbsolutePosition(editor.getBody()) : {left: 0, top: 0};\\n\\t};\\n\\n\\tvar getScrollPosition = function (editor) {\\n\\t\\tvar body = editor.getBody();\\n\\t\\treturn editor.inline ? {left: body.scrollLeft, top: body.scrollTop} : {left: 0, top: 0};\\n\\t};\\n\\n\\tvar getBodyScroll = function (editor) {\\n\\t\\tvar body = editor.getBody(), docElm = editor.getDoc().documentElement;\\n\\t\\tvar inlineScroll = {left: body.scrollLeft, top: body.scrollTop};\\n\\t\\tvar iframeScroll = {left: body.scrollLeft || docElm.scrollLeft, top: body.scrollTop || docElm.scrollTop};\\n\\n\\t\\treturn editor.inline ? inlineScroll : iframeScroll;\\n\\t};\\n\\n\\tvar getMousePosition = function (editor, event) {\\n\\t\\tif (event.target.ownerDocument !== editor.getDoc()) {\\n\\t\\t\\tvar iframePosition = getAbsolutePosition(editor.getContentAreaContainer());\\n\\t\\t\\tvar scrollPosition = getBodyScroll(editor);\\n\\n\\t\\t\\treturn {\\n\\t\\t\\t\\tleft: event.pageX - iframePosition.left + scrollPosition.left,\\n\\t\\t\\t\\ttop: event.pageY - iframePosition.top + scrollPosition.top\\n\\t\\t\\t};\\n\\t\\t}\\n\\n\\t\\treturn {\\n\\t\\t\\tleft: event.pageX,\\n\\t\\t\\ttop: event.pageY\\n\\t\\t};\\n\\t};\\n\\n\\tvar calculatePosition = function (bodyPosition, scrollPosition, mousePosition) {\\n\\t\\treturn {\\n\\t\\t\\tpageX: (mousePosition.left - bodyPosition.left) + scrollPosition.left,\\n\\t\\t\\tpageY: (mousePosition.top - bodyPosition.top) + scrollPosition.top\\n\\t\\t};\\n\\t};\\n\\n\\tvar calc = function (editor, event) {\\n\\t\\treturn calculatePosition(getBodyPosition(editor), getScrollPosition(editor), getMousePosition(editor, event));\\n\\t};\\n\\n\\treturn {\\n\\t\\tcalc: calc\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/DragDropOverrides.js\\n\\n/**\\n * DragDropOverrides.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This module contains logic overriding the drag/drop logic of the editor.\\n *\\n * @private\\n * @class tinymce.DragDropOverrides\\n */\\ndefine(\\\"tinymce/DragDropOverrides\\\", [\\n\\t\\\"tinymce/dom/NodeType\\\",\\n\\t\\\"tinymce/util/Arr\\\",\\n\\t\\\"tinymce/util/Fun\\\",\\n\\t\\\"tinymce/util/Delay\\\",\\n\\t\\\"tinymce/dom/DOMUtils\\\",\\n\\t\\\"tinymce/dom/MousePosition\\\"\\n], function(\\n\\tNodeType, Arr, Fun, Delay, DOMUtils, MousePosition\\n) {\\n\\tvar isContentEditableFalse = NodeType.isContentEditableFalse,\\n\\t\\tisContentEditableTrue = NodeType.isContentEditableTrue;\\n\\n\\tvar isDraggable = function (rootElm, elm) {\\n\\t\\treturn isContentEditableFalse(elm) && elm !== rootElm;\\n\\t};\\n\\n\\tvar isValidDropTarget = function (editor, targetElement, dragElement) {\\n\\t\\tif (targetElement === dragElement || editor.dom.isChildOf(targetElement, dragElement)) {\\n\\t\\t\\treturn false;\\n\\t\\t}\\n\\n\\t\\tif (isContentEditableFalse(targetElement)) {\\n\\t\\t\\treturn false;\\n\\t\\t}\\n\\n\\t\\treturn true;\\n\\t};\\n\\n\\tvar cloneElement = function (elm) {\\n\\t\\tvar cloneElm = elm.cloneNode(true);\\n\\t\\tcloneElm.removeAttribute('data-mce-selected');\\n\\t\\treturn cloneElm;\\n\\t};\\n\\n\\tvar createGhost = function (editor, elm, width, height) {\\n\\t\\tvar clonedElm = elm.cloneNode(true);\\n\\n\\t\\teditor.dom.setStyles(clonedElm, {width: width, height: height});\\n\\t\\teditor.dom.setAttrib(clonedElm, 'data-mce-selected', null);\\n\\n\\t\\tvar ghostElm = editor.dom.create('div', {\\n\\t\\t\\t'class': 'mce-drag-container',\\n\\t\\t\\t'data-mce-bogus': 'all',\\n\\t\\t\\tunselectable: 'on',\\n\\t\\t\\tcontenteditable: 'false'\\n\\t\\t});\\n\\n\\t\\teditor.dom.setStyles(ghostElm, {\\n\\t\\t\\tposition: 'absolute',\\n\\t\\t\\topacity: 0.5,\\n\\t\\t\\toverflow: 'hidden',\\n\\t\\t\\tborder: 0,\\n\\t\\t\\tpadding: 0,\\n\\t\\t\\tmargin: 0,\\n\\t\\t\\twidth: width,\\n\\t\\t\\theight: height\\n\\t\\t});\\n\\n\\t\\teditor.dom.setStyles(clonedElm, {\\n\\t\\t\\tmargin: 0,\\n\\t\\t\\tboxSizing: 'border-box'\\n\\t\\t});\\n\\n\\t\\tghostElm.appendChild(clonedElm);\\n\\n\\t\\treturn ghostElm;\\n\\t};\\n\\n\\tvar appendGhostToBody = function (ghostElm, bodyElm) {\\n\\t\\tif (ghostElm.parentNode !== bodyElm) {\\n\\t\\t\\tbodyElm.appendChild(ghostElm);\\n\\t\\t}\\n\\t};\\n\\n\\tvar moveGhost = function (ghostElm, position, width, height, maxX, maxY) {\\n\\t\\tvar overflowX = 0, overflowY = 0;\\n\\n\\t\\tghostElm.style.left = position.pageX + 'px';\\n\\t\\tghostElm.style.top = position.pageY + 'px';\\n\\n\\t\\tif (position.pageX + width > maxX) {\\n\\t\\t\\toverflowX = (position.pageX + width) - maxX;\\n\\t\\t}\\n\\n\\t\\tif (position.pageY + height > maxY) {\\n\\t\\t\\toverflowY = (position.pageY + height) - maxY;\\n\\t\\t}\\n\\n\\t\\tghostElm.style.width = (width - overflowX) + 'px';\\n\\t\\tghostElm.style.height = (height - overflowY) + 'px';\\n\\t};\\n\\n\\tvar removeElement = function (elm) {\\n\\t\\tif (elm && elm.parentNode) {\\n\\t\\t\\telm.parentNode.removeChild(elm);\\n\\t\\t}\\n\\t};\\n\\n\\tvar isLeftMouseButtonPressed = function (e) {\\n\\t\\treturn e.button === 0;\\n\\t};\\n\\n\\tvar hasDraggableElement = function (state) {\\n\\t\\treturn state.element;\\n\\t};\\n\\n\\tvar applyRelPos = function (state, position) {\\n\\t\\treturn {\\n\\t\\t\\tpageX: position.pageX - state.relX,\\n\\t\\t\\tpageY: position.pageY + 5\\n\\t\\t};\\n\\t};\\n\\n\\tvar start = function (state, editor) {\\n\\t\\treturn function (e) {\\n\\t\\t\\tif (isLeftMouseButtonPressed(e)) {\\n\\t\\t\\t\\tvar ceElm = Arr.find(editor.dom.getParents(e.target), Fun.or(isContentEditableFalse, isContentEditableTrue));\\n\\n\\t\\t\\t\\tif (isDraggable(editor.getBody(), ceElm)) {\\n\\t\\t\\t\\t\\tvar elmPos = editor.dom.getPos(ceElm);\\n\\t\\t\\t\\t\\tvar bodyElm = editor.getBody();\\n\\t\\t\\t\\t\\tvar docElm = editor.getDoc().documentElement;\\n\\n\\t\\t\\t\\t\\tstate.element = ceElm;\\n\\t\\t\\t\\t\\tstate.screenX = e.screenX;\\n\\t\\t\\t\\t\\tstate.screenY = e.screenY;\\n\\t\\t\\t\\t\\tstate.maxX = (editor.inline ? bodyElm.scrollWidth : docElm.offsetWidth) - 2;\\n\\t\\t\\t\\t\\tstate.maxY = (editor.inline ? bodyElm.scrollHeight : docElm.offsetHeight) - 2;\\n\\t\\t\\t\\t\\tstate.relX = e.pageX - elmPos.x;\\n\\t\\t\\t\\t\\tstate.relY = e.pageY - elmPos.y;\\n\\t\\t\\t\\t\\tstate.width = ceElm.offsetWidth;\\n\\t\\t\\t\\t\\tstate.height = ceElm.offsetHeight;\\n\\t\\t\\t\\t\\tstate.ghost = createGhost(editor, ceElm, state.width, state.height);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t};\\n\\t};\\n\\n\\tvar move = function (state, editor) {\\n\\t\\t// Reduces laggy drag behavior on Gecko\\n\\t\\tvar throttledPlaceCaretAt = Delay.throttle(function (clientX, clientY) {\\n\\t\\t\\teditor._selectionOverrides.hideFakeCaret();\\n\\t\\t\\teditor.selection.placeCaretAt(clientX, clientY);\\n\\t\\t}, 0);\\n\\n\\t\\treturn function (e) {\\n\\t\\t\\tvar movement = Math.max(Math.abs(e.screenX - state.screenX), Math.abs(e.screenY - state.screenY));\\n\\n\\t\\t\\tif (hasDraggableElement(state) && !state.dragging && movement > 10) {\\n\\t\\t\\t\\tvar args = editor.fire('dragstart', {target: state.element});\\n\\t\\t\\t\\tif (args.isDefaultPrevented()) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tstate.dragging = true;\\n\\t\\t\\t\\teditor.focus();\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (state.dragging) {\\n\\t\\t\\t\\tvar targetPos = applyRelPos(state, MousePosition.calc(editor, e));\\n\\n\\t\\t\\t\\tappendGhostToBody(state.ghost, editor.getBody());\\n\\t\\t\\t\\tmoveGhost(state.ghost, targetPos, state.width, state.height, state.maxX, state.maxY);\\n\\n\\t\\t\\t\\tthrottledPlaceCaretAt(e.clientX, e.clientY);\\n\\t\\t\\t}\\n\\t\\t};\\n\\t};\\n\\n\\t// Returns the raw element instead of the fake cE=false element\\n\\tvar getRawTarget = function (selection) {\\n\\t\\tvar rng = selection.getSel().getRangeAt(0);\\n\\t\\tvar startContainer = rng.startContainer;\\n\\t\\treturn startContainer.nodeType === 3 ? startContainer.parentNode : startContainer;\\n\\t};\\n\\n\\tvar drop = function (state, editor) {\\n\\t\\treturn function (e) {\\n\\t\\t\\tif (state.dragging) {\\n\\t\\t\\t\\tif (isValidDropTarget(editor, getRawTarget(editor.selection), state.element)) {\\n\\t\\t\\t\\t\\tvar targetClone = cloneElement(state.element);\\n\\n\\t\\t\\t\\t\\tvar args = editor.fire('drop', {\\n\\t\\t\\t\\t\\t\\ttargetClone: targetClone,\\n\\t\\t\\t\\t\\t\\tclientX: e.clientX,\\n\\t\\t\\t\\t\\t\\tclientY: e.clientY\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\tif (!args.isDefaultPrevented()) {\\n\\t\\t\\t\\t\\t\\ttargetClone = args.targetClone;\\n\\n\\t\\t\\t\\t\\t\\teditor.undoManager.transact(function() {\\n\\t\\t\\t\\t\\t\\t\\tremoveElement(state.element);\\n\\t\\t\\t\\t\\t\\t\\teditor.insertContent(editor.dom.getOuterHTML(targetClone));\\n\\t\\t\\t\\t\\t\\t\\teditor._selectionOverrides.hideFakeCaret();\\n\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tremoveDragState(state);\\n\\t\\t};\\n\\t};\\n\\n\\tvar stop = function (state, editor) {\\n\\t\\treturn function () {\\n\\t\\t\\tremoveDragState(state);\\n\\t\\t\\tif (state.dragging) {\\n\\t\\t\\t\\teditor.fire('dragend');\\n\\t\\t\\t}\\n\\t\\t};\\n\\t};\\n\\n\\tvar removeDragState = function (state) {\\n\\t\\tstate.dragging = false;\\n\\t\\tstate.element = null;\\n\\t\\tremoveElement(state.ghost);\\n\\t};\\n\\n\\tvar bindFakeDragEvents = function (editor) {\\n\\t\\tvar state = {}, pageDom, dragStartHandler, dragHandler, dropHandler, dragEndHandler, rootDocument;\\n\\n\\t\\tpageDom = DOMUtils.DOM;\\n\\t\\trootDocument = document;\\n\\t\\tdragStartHandler = start(state, editor);\\n\\t\\tdragHandler = move(state, editor);\\n\\t\\tdropHandler = drop(state, editor);\\n\\t\\tdragEndHandler = stop(state, editor);\\n\\n\\t\\teditor.on('mousedown', dragStartHandler);\\n\\t\\teditor.on('mousemove', dragHandler);\\n\\t\\teditor.on('mouseup', dropHandler);\\n\\n\\t\\tpageDom.bind(rootDocument, 'mousemove', dragHandler);\\n\\t\\tpageDom.bind(rootDocument, 'mouseup', dragEndHandler);\\n\\n\\t\\teditor.on('remove', function () {\\n\\t\\t\\tpageDom.unbind(rootDocument, 'mousemove', dragHandler);\\n\\t\\t\\tpageDom.unbind(rootDocument, 'mouseup', dragEndHandler);\\n\\t\\t});\\n\\t};\\n\\n\\tvar blockIeDrop = function (editor) {\\n\\t\\teditor.on('drop', function(e) {\\n\\t\\t\\t// FF doesn't pass out clientX/clientY for drop since this is for IE we just use null instead\\n\\t\\t\\tvar realTarget = typeof e.clientX !== 'undefined' ? editor.getDoc().elementFromPoint(e.clientX, e.clientY) : null;\\n\\n\\t\\t\\tif (isContentEditableFalse(realTarget) || isContentEditableFalse(editor.dom.getContentEditableParent(realTarget))) {\\n\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t}\\n\\t\\t});\\n\\t};\\n\\n\\tvar init = function (editor) {\\n\\t\\tbindFakeDragEvents(editor);\\n\\t\\tblockIeDrop(editor);\\n\\t};\\n\\n\\treturn {\\n\\t\\tinit: init\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/SelectionOverrides.js\\n\\n/**\\n * SelectionOverrides.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This module contains logic overriding the selection with keyboard/mouse\\n * around contentEditable=false regions.\\n *\\n * @example\\n * // Disable the default cE=false selection\\n * tinymce.activeEditor.on('ShowCaret BeforeObjectSelected', function(e) {\\n *     e.preventDefault();\\n * });\\n *\\n * @private\\n * @class tinymce.SelectionOverrides\\n */\\ndefine(\\\"tinymce/SelectionOverrides\\\", [\\n\\t\\\"tinymce/Env\\\",\\n\\t\\\"tinymce/caret/CaretWalker\\\",\\n\\t\\\"tinymce/caret/CaretPosition\\\",\\n\\t\\\"tinymce/caret/CaretContainer\\\",\\n\\t\\\"tinymce/caret/CaretUtils\\\",\\n\\t\\\"tinymce/caret/FakeCaret\\\",\\n\\t\\\"tinymce/caret/LineWalker\\\",\\n\\t\\\"tinymce/caret/LineUtils\\\",\\n\\t\\\"tinymce/dom/NodeType\\\",\\n\\t\\\"tinymce/dom/RangeUtils\\\",\\n\\t\\\"tinymce/geom/ClientRect\\\",\\n\\t\\\"tinymce/util/VK\\\",\\n\\t\\\"tinymce/util/Fun\\\",\\n\\t\\\"tinymce/util/Arr\\\",\\n\\t\\\"tinymce/util/Delay\\\",\\n\\t\\\"tinymce/DragDropOverrides\\\"\\n], function(\\n\\tEnv, CaretWalker, CaretPosition, CaretContainer, CaretUtils, FakeCaret, LineWalker,\\n\\tLineUtils, NodeType, RangeUtils, ClientRect, VK, Fun, Arr, Delay, DragDropOverrides\\n) {\\n\\tvar curry = Fun.curry,\\n\\t\\tisContentEditableTrue = NodeType.isContentEditableTrue,\\n\\t\\tisContentEditableFalse = NodeType.isContentEditableFalse,\\n\\t\\tisElement = NodeType.isElement,\\n\\t\\tisAfterContentEditableFalse = CaretUtils.isAfterContentEditableFalse,\\n\\t\\tisBeforeContentEditableFalse = CaretUtils.isBeforeContentEditableFalse,\\n\\t\\tgetSelectedNode = RangeUtils.getSelectedNode;\\n\\n\\tfunction getVisualCaretPosition(walkFn, caretPosition) {\\n\\t\\twhile ((caretPosition = walkFn(caretPosition))) {\\n\\t\\t\\tif (caretPosition.isVisible()) {\\n\\t\\t\\t\\treturn caretPosition;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\treturn caretPosition;\\n\\t}\\n\\n\\tfunction SelectionOverrides(editor) {\\n\\t\\tvar rootNode = editor.getBody(), caretWalker = new CaretWalker(rootNode);\\n\\t\\tvar getNextVisualCaretPosition = curry(getVisualCaretPosition, caretWalker.next);\\n\\t\\tvar getPrevVisualCaretPosition = curry(getVisualCaretPosition, caretWalker.prev),\\n\\t\\t\\tfakeCaret = new FakeCaret(editor.getBody(), isBlock),\\n\\t\\t\\trealSelectionId = 'sel-' + editor.dom.uniqueId(),\\n\\t\\t\\tselectedContentEditableNode, $ = editor.$;\\n\\n\\t\\tfunction isFakeSelectionElement(elm) {\\n\\t\\t\\treturn editor.dom.hasClass(elm, 'mce-offscreen-selection');\\n\\t\\t}\\n\\n\\t\\tfunction getRealSelectionElement() {\\n\\t\\t\\tvar container = editor.dom.get(realSelectionId);\\n\\t\\t\\treturn container ? container.getElementsByTagName('*')[0] : container;\\n\\t\\t}\\n\\n\\t\\tfunction isBlock(node) {\\n\\t\\t\\treturn editor.dom.isBlock(node);\\n\\t\\t}\\n\\n\\t\\tfunction setRange(range) {\\n\\t\\t\\t//console.log('setRange', range);\\n\\t\\t\\tif (range) {\\n\\t\\t\\t\\teditor.selection.setRng(range);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction getRange() {\\n\\t\\t\\treturn editor.selection.getRng();\\n\\t\\t}\\n\\n\\t\\tfunction scrollIntoView(node, alignToTop) {\\n\\t\\t\\teditor.selection.scrollIntoView(node, alignToTop);\\n\\t\\t}\\n\\n\\t\\tfunction showCaret(direction, node, before) {\\n\\t\\t\\tvar e;\\n\\n\\t\\t\\te = editor.fire('ShowCaret', {\\n\\t\\t\\t\\ttarget: node,\\n\\t\\t\\t\\tdirection: direction,\\n\\t\\t\\t\\tbefore: before\\n\\t\\t\\t});\\n\\n\\t\\t\\tif (e.isDefaultPrevented()) {\\n\\t\\t\\t\\treturn null;\\n\\t\\t\\t}\\n\\n\\t\\t\\tscrollIntoView(node, direction === -1);\\n\\n\\t\\t\\treturn fakeCaret.show(before, node);\\n\\t\\t}\\n\\n\\t\\tfunction selectNode(node) {\\n\\t\\t\\tvar e;\\n\\n\\t\\t\\te = editor.fire('BeforeObjectSelected', {target: node});\\n\\t\\t\\tif (e.isDefaultPrevented()) {\\n\\t\\t\\t\\treturn null;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn getNodeRange(node);\\n\\t\\t}\\n\\n\\t\\tfunction getNodeRange(node) {\\n\\t\\t\\tvar rng = node.ownerDocument.createRange();\\n\\n\\t\\t\\trng.selectNode(node);\\n\\n\\t\\t\\treturn rng;\\n\\t\\t}\\n\\n\\t\\tfunction isMoveInsideSameBlock(fromCaretPosition, toCaretPosition) {\\n\\t\\t\\tvar inSameBlock = CaretUtils.isInSameBlock(fromCaretPosition, toCaretPosition);\\n\\n\\t\\t\\t// Handle bogus BR <p>abc|<br></p>\\n\\t\\t\\tif (!inSameBlock && NodeType.isBr(fromCaretPosition.getNode())) {\\n\\t\\t\\t\\treturn true;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn inSameBlock;\\n\\t\\t}\\n\\n\\t\\tfunction getNormalizedRangeEndPoint(direction, range) {\\n\\t\\t\\trange = CaretUtils.normalizeRange(direction, rootNode, range);\\n\\n\\t\\t\\tif (direction == -1) {\\n\\t\\t\\t\\treturn CaretPosition.fromRangeStart(range);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn CaretPosition.fromRangeEnd(range);\\n\\t\\t}\\n\\n\\t\\tfunction isRangeInCaretContainerBlock(range) {\\n\\t\\t\\treturn CaretContainer.isCaretContainerBlock(range.startContainer);\\n\\t\\t}\\n\\n\\t\\tfunction moveToCeFalseHorizontally(direction, getNextPosFn, isBeforeContentEditableFalseFn, range) {\\n\\t\\t\\tvar node, caretPosition, peekCaretPosition, rangeIsInContainerBlock;\\n\\n\\t\\t\\tif (!range.collapsed) {\\n\\t\\t\\t\\tnode = getSelectedNode(range);\\n\\t\\t\\t\\tif (isContentEditableFalse(node)) {\\n\\t\\t\\t\\t\\treturn showCaret(direction, node, direction == -1);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\trangeIsInContainerBlock = isRangeInCaretContainerBlock(range);\\n\\t\\t\\tcaretPosition = getNormalizedRangeEndPoint(direction, range);\\n\\n\\t\\t\\tif (isBeforeContentEditableFalseFn(caretPosition)) {\\n\\t\\t\\t\\treturn selectNode(caretPosition.getNode(direction == -1));\\n\\t\\t\\t}\\n\\n\\t\\t\\tcaretPosition = getNextPosFn(caretPosition);\\n\\t\\t\\tif (!caretPosition) {\\n\\t\\t\\t\\tif (rangeIsInContainerBlock) {\\n\\t\\t\\t\\t\\treturn range;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn null;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (isBeforeContentEditableFalseFn(caretPosition)) {\\n\\t\\t\\t\\treturn showCaret(direction, caretPosition.getNode(direction == -1), direction == 1);\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Peek ahead for handling of ab|c<span cE=false> -> abc|<span cE=false>\\n\\t\\t\\tpeekCaretPosition = getNextPosFn(caretPosition);\\n\\t\\t\\tif (isBeforeContentEditableFalseFn(peekCaretPosition)) {\\n\\t\\t\\t\\tif (isMoveInsideSameBlock(caretPosition, peekCaretPosition)) {\\n\\t\\t\\t\\t\\treturn showCaret(direction, peekCaretPosition.getNode(direction == -1), direction == 1);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (rangeIsInContainerBlock) {\\n\\t\\t\\t\\treturn renderRangeCaret(caretPosition.toRange());\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn null;\\n\\t\\t}\\n\\n\\t\\tfunction moveToCeFalseVertically(direction, walkerFn, range) {\\n\\t\\t\\tvar caretPosition, linePositions, nextLinePositions,\\n\\t\\t\\t\\tclosestNextLineRect, caretClientRect, clientX,\\n\\t\\t\\t\\tdist1, dist2, contentEditableFalseNode;\\n\\n\\t\\t\\tcontentEditableFalseNode = getSelectedNode(range);\\n\\t\\t\\tcaretPosition = getNormalizedRangeEndPoint(direction, range);\\n\\t\\t\\tlinePositions = walkerFn(rootNode, LineWalker.isAboveLine(1), caretPosition);\\n\\t\\t\\tnextLinePositions = Arr.filter(linePositions, LineWalker.isLine(1));\\n\\t\\t\\tcaretClientRect = Arr.last(caretPosition.getClientRects());\\n\\n\\t\\t\\tif (isBeforeContentEditableFalse(caretPosition)) {\\n\\t\\t\\t\\tcontentEditableFalseNode = caretPosition.getNode();\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (isAfterContentEditableFalse(caretPosition)) {\\n\\t\\t\\t\\tcontentEditableFalseNode = caretPosition.getNode(true);\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!caretClientRect) {\\n\\t\\t\\t\\treturn null;\\n\\t\\t\\t}\\n\\n\\t\\t\\tclientX = caretClientRect.left;\\n\\n\\t\\t\\tclosestNextLineRect = LineUtils.findClosestClientRect(nextLinePositions, clientX);\\n\\t\\t\\tif (closestNextLineRect) {\\n\\t\\t\\t\\tif (isContentEditableFalse(closestNextLineRect.node)) {\\n\\t\\t\\t\\t\\tdist1 = Math.abs(clientX - closestNextLineRect.left);\\n\\t\\t\\t\\t\\tdist2 = Math.abs(clientX - closestNextLineRect.right);\\n\\n\\t\\t\\t\\t\\treturn showCaret(direction, closestNextLineRect.node, dist1 < dist2);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (contentEditableFalseNode) {\\n\\t\\t\\t\\tvar caretPositions = LineWalker.positionsUntil(direction, rootNode, LineWalker.isAboveLine(1), contentEditableFalseNode);\\n\\n\\t\\t\\t\\tclosestNextLineRect = LineUtils.findClosestClientRect(Arr.filter(caretPositions, LineWalker.isLine(1)), clientX);\\n\\t\\t\\t\\tif (closestNextLineRect) {\\n\\t\\t\\t\\t\\treturn renderRangeCaret(closestNextLineRect.position.toRange());\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tclosestNextLineRect = Arr.last(Arr.filter(caretPositions, LineWalker.isLine(0)));\\n\\t\\t\\t\\tif (closestNextLineRect) {\\n\\t\\t\\t\\t\\treturn renderRangeCaret(closestNextLineRect.position.toRange());\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction exitPreBlock(direction, range) {\\n\\t\\t\\tvar pre, caretPos, newBlock;\\n\\n\\t\\t\\tfunction createTextBlock() {\\n\\t\\t\\t\\tvar textBlock = editor.dom.create(editor.settings.forced_root_block);\\n\\n\\t\\t\\t\\tif (!Env.ie || Env.ie >= 11) {\\n\\t\\t\\t\\t\\ttextBlock.innerHTML = '<br data-mce-bogus=\\\"1\\\">';\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn textBlock;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (range.collapsed && editor.settings.forced_root_block) {\\n\\t\\t\\t\\tpre = editor.dom.getParent(range.startContainer, 'PRE');\\n\\t\\t\\t\\tif (!pre) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (direction == 1) {\\n\\t\\t\\t\\t\\tcaretPos = getNextVisualCaretPosition(CaretPosition.fromRangeStart(range));\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tcaretPos = getPrevVisualCaretPosition(CaretPosition.fromRangeStart(range));\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (!caretPos) {\\n\\t\\t\\t\\t\\tnewBlock = createTextBlock();\\n\\n\\t\\t\\t\\t\\tif (direction == 1) {\\n\\t\\t\\t\\t\\t\\teditor.$(pre).after(newBlock);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\teditor.$(pre).before(newBlock);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\teditor.selection.select(newBlock, true);\\n\\t\\t\\t\\t\\teditor.selection.collapse();\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction moveH(direction, getNextPosFn, isBeforeContentEditableFalseFn, range) {\\n\\t\\t\\tvar newRange;\\n\\n\\t\\t\\tnewRange = moveToCeFalseHorizontally(direction, getNextPosFn, isBeforeContentEditableFalseFn, range);\\n\\t\\t\\tif (newRange) {\\n\\t\\t\\t\\treturn newRange;\\n\\t\\t\\t}\\n\\n\\t\\t\\tnewRange = exitPreBlock(direction, range);\\n\\t\\t\\tif (newRange) {\\n\\t\\t\\t\\treturn newRange;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn null;\\n\\t\\t}\\n\\n\\t\\tfunction moveV(direction, walkerFn, range) {\\n\\t\\t\\tvar newRange;\\n\\n\\t\\t\\tnewRange = moveToCeFalseVertically(direction, walkerFn, range);\\n\\t\\t\\tif (newRange) {\\n\\t\\t\\t\\treturn newRange;\\n\\t\\t\\t}\\n\\n\\t\\t\\tnewRange = exitPreBlock(direction, range);\\n\\t\\t\\tif (newRange) {\\n\\t\\t\\t\\treturn newRange;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn null;\\n\\t\\t}\\n\\n\\t\\tfunction getBlockCaretContainer() {\\n\\t\\t\\treturn $('*[data-mce-caret]')[0];\\n\\t\\t}\\n\\n\\t\\tfunction showBlockCaretContainer(blockCaretContainer) {\\n\\t\\t\\tif (blockCaretContainer.hasAttribute('data-mce-caret')) {\\n\\t\\t\\t\\tCaretContainer.showCaretContainerBlock(blockCaretContainer);\\n\\t\\t\\t\\tsetRange(getRange()); // Removes control rect on IE\\n\\t\\t\\t\\tscrollIntoView(blockCaretContainer[0]);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction renderCaretAtRange(range) {\\n\\t\\t\\tvar caretPosition, ceRoot;\\n\\n\\t\\t\\trange = CaretUtils.normalizeRange(1, rootNode, range);\\n\\t\\t\\tcaretPosition = CaretPosition.fromRangeStart(range);\\n\\n\\t\\t\\tif (isContentEditableFalse(caretPosition.getNode())) {\\n\\t\\t\\t\\treturn showCaret(1, caretPosition.getNode(), !caretPosition.isAtEnd());\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (isContentEditableFalse(caretPosition.getNode(true))) {\\n\\t\\t\\t\\treturn showCaret(1, caretPosition.getNode(true), false);\\n\\t\\t\\t}\\n\\n\\t\\t\\t// TODO: Should render caret before/after depending on where you click on the page forces after now\\n\\t\\t\\tceRoot = editor.dom.getParent(caretPosition.getNode(), Fun.or(isContentEditableFalse, isContentEditableTrue));\\n\\t\\t\\tif (isContentEditableFalse(ceRoot)) {\\n\\t\\t\\t\\treturn showCaret(1, ceRoot, false);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn null;\\n\\t\\t}\\n\\n\\t\\tfunction renderRangeCaret(range) {\\n\\t\\t\\tvar caretRange;\\n\\n\\t\\t\\tif (!range || !range.collapsed) {\\n\\t\\t\\t\\treturn range;\\n\\t\\t\\t}\\n\\n\\t\\t\\tcaretRange = renderCaretAtRange(range);\\n\\t\\t\\tif (caretRange) {\\n\\t\\t\\t\\treturn caretRange;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn range;\\n\\t\\t}\\n\\n\\t\\tfunction deleteContentEditableNode(node) {\\n\\t\\t\\tvar nextCaretPosition, prevCaretPosition, prevCeFalseElm, nextElement;\\n\\n\\t\\t\\tif (!isContentEditableFalse(node)) {\\n\\t\\t\\t\\treturn null;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (isContentEditableFalse(node.previousSibling)) {\\n\\t\\t\\t\\tprevCeFalseElm = node.previousSibling;\\n\\t\\t\\t}\\n\\n\\t\\t\\tprevCaretPosition = getPrevVisualCaretPosition(CaretPosition.before(node));\\n\\t\\t\\tif (!prevCaretPosition) {\\n\\t\\t\\t\\tnextCaretPosition = getNextVisualCaretPosition(CaretPosition.after(node));\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (nextCaretPosition && isElement(nextCaretPosition.getNode())) {\\n\\t\\t\\t\\tnextElement = nextCaretPosition.getNode();\\n\\t\\t\\t}\\n\\n\\t\\t\\tCaretContainer.remove(node.previousSibling);\\n\\t\\t\\tCaretContainer.remove(node.nextSibling);\\n\\t\\t\\teditor.dom.remove(node);\\n\\n\\t\\t\\tif (editor.dom.isEmpty(editor.getBody())) {\\n\\t\\t\\t\\teditor.setContent('');\\n\\t\\t\\t\\teditor.focus();\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (prevCeFalseElm) {\\n\\t\\t\\t\\treturn CaretPosition.after(prevCeFalseElm).toRange();\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (nextElement) {\\n\\t\\t\\t\\treturn CaretPosition.before(nextElement).toRange();\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (prevCaretPosition) {\\n\\t\\t\\t\\treturn prevCaretPosition.toRange();\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (nextCaretPosition) {\\n\\t\\t\\t\\treturn nextCaretPosition.toRange();\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn null;\\n\\t\\t}\\n\\n\\t\\tfunction isTextBlock(node) {\\n\\t\\t\\tvar textBlocks = editor.schema.getTextBlockElements();\\n\\t\\t\\treturn node.nodeName in textBlocks;\\n\\t\\t}\\n\\n\\t\\tfunction isEmpty(elm) {\\n\\t\\t\\treturn editor.dom.isEmpty(elm);\\n\\t\\t}\\n\\n\\t\\tfunction mergeTextBlocks(direction, fromCaretPosition, toCaretPosition) {\\n\\t\\t\\tvar dom = editor.dom, fromBlock, toBlock, node, ceTarget;\\n\\n\\t\\t\\tfromBlock = dom.getParent(fromCaretPosition.getNode(), dom.isBlock);\\n\\t\\t\\ttoBlock = dom.getParent(toCaretPosition.getNode(), dom.isBlock);\\n\\n\\t\\t\\tif (direction === -1) {\\n\\t\\t\\t\\tceTarget = toCaretPosition.getNode(true);\\n\\t\\t\\t\\tif (isAfterContentEditableFalse(toCaretPosition) && isBlock(ceTarget)) {\\n\\t\\t\\t\\t\\tif (isTextBlock(fromBlock)) {\\n\\t\\t\\t\\t\\t\\tif (isEmpty(fromBlock)) {\\n\\t\\t\\t\\t\\t\\t\\tdom.remove(fromBlock);\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\treturn CaretPosition.after(ceTarget).toRange();\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\treturn deleteContentEditableNode(toCaretPosition.getNode(true));\\n\\t\\t\\t\\t}\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tceTarget = fromCaretPosition.getNode();\\n\\t\\t\\t\\tif (isBeforeContentEditableFalse(fromCaretPosition) && isBlock(ceTarget)) {\\n\\t\\t\\t\\t\\tif (isTextBlock(toBlock)) {\\n\\t\\t\\t\\t\\t\\tif (isEmpty(toBlock)) {\\n\\t\\t\\t\\t\\t\\t\\tdom.remove(toBlock);\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\treturn CaretPosition.before(ceTarget).toRange();\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\treturn deleteContentEditableNode(fromCaretPosition.getNode());\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Verify that both blocks are text blocks\\n\\t\\t\\tif (fromBlock === toBlock || !isTextBlock(fromBlock) || !isTextBlock(toBlock)) {\\n\\t\\t\\t\\treturn null;\\n\\t\\t\\t}\\n\\n\\t\\t\\twhile ((node = fromBlock.firstChild)) {\\n\\t\\t\\t\\ttoBlock.appendChild(node);\\n\\t\\t\\t}\\n\\n\\t\\t\\teditor.dom.remove(fromBlock);\\n\\n\\t\\t\\treturn toCaretPosition.toRange();\\n\\t\\t}\\n\\n\\t\\tfunction backspaceDelete(direction, beforeFn, afterFn, range) {\\n\\t\\t\\tvar node, caretPosition, peekCaretPosition, newCaretPosition;\\n\\n\\t\\t\\tif (!range.collapsed) {\\n\\t\\t\\t\\tnode = getSelectedNode(range);\\n\\t\\t\\t\\tif (isContentEditableFalse(node)) {\\n\\t\\t\\t\\t\\treturn renderRangeCaret(deleteContentEditableNode(node));\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tcaretPosition = getNormalizedRangeEndPoint(direction, range);\\n\\n\\t\\t\\tif (afterFn(caretPosition) && CaretContainer.isCaretContainerBlock(range.startContainer)) {\\n\\t\\t\\t\\tnewCaretPosition = direction == -1 ? caretWalker.prev(caretPosition) : caretWalker.next(caretPosition);\\n\\t\\t\\t\\treturn newCaretPosition ? renderRangeCaret(newCaretPosition.toRange()) : range;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (beforeFn(caretPosition)) {\\n\\t\\t\\t\\treturn renderRangeCaret(deleteContentEditableNode(caretPosition.getNode(direction == -1)));\\n\\t\\t\\t}\\n\\n\\t\\t\\tpeekCaretPosition = direction == -1 ? caretWalker.prev(caretPosition) : caretWalker.next(caretPosition);\\n\\t\\t\\tif (beforeFn(peekCaretPosition)) {\\n\\t\\t\\t\\tif (direction === -1) {\\n\\t\\t\\t\\t\\treturn mergeTextBlocks(direction, caretPosition, peekCaretPosition);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn mergeTextBlocks(direction, peekCaretPosition, caretPosition);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction registerEvents() {\\n\\t\\t\\tvar right = curry(moveH, 1, getNextVisualCaretPosition, isBeforeContentEditableFalse);\\n\\t\\t\\tvar left = curry(moveH, -1, getPrevVisualCaretPosition, isAfterContentEditableFalse);\\n\\t\\t\\tvar deleteForward = curry(backspaceDelete, 1, isBeforeContentEditableFalse, isAfterContentEditableFalse);\\n\\t\\t\\tvar backspace = curry(backspaceDelete, -1, isAfterContentEditableFalse, isBeforeContentEditableFalse);\\n\\t\\t\\tvar up = curry(moveV, -1, LineWalker.upUntil);\\n\\t\\t\\tvar down = curry(moveV, 1, LineWalker.downUntil);\\n\\n\\t\\t\\tfunction override(evt, moveFn) {\\n\\t\\t\\t\\tvar range = moveFn(getRange());\\n\\n\\t\\t\\t\\tif (range && !evt.isDefaultPrevented()) {\\n\\t\\t\\t\\t\\tevt.preventDefault();\\n\\t\\t\\t\\t\\tsetRange(range);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction getContentEditableRoot(node) {\\n\\t\\t\\t\\tvar root = editor.getBody();\\n\\n\\t\\t\\t\\twhile (node && node != root) {\\n\\t\\t\\t\\t\\tif (isContentEditableTrue(node) || isContentEditableFalse(node)) {\\n\\t\\t\\t\\t\\t\\treturn node;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tnode = node.parentNode;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn null;\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction isXYWithinRange(clientX, clientY, range) {\\n\\t\\t\\t\\tif (range.collapsed) {\\n\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn Arr.reduce(range.getClientRects(), function(state, rect) {\\n\\t\\t\\t\\t\\treturn state || ClientRect.containsXY(rect, clientX, clientY);\\n\\t\\t\\t\\t}, false);\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Some browsers (Chrome) lets you place the caret after a cE=false\\n\\t\\t\\t// Make sure we render the caret container in this case\\n\\t\\t\\teditor.on('mouseup', function() {\\n\\t\\t\\t\\tvar range = getRange();\\n\\n\\t\\t\\t\\tif (range.collapsed) {\\n\\t\\t\\t\\t\\tsetRange(renderCaretAtRange(range));\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\teditor.on('click', function(e) {\\n\\t\\t\\t\\tvar contentEditableRoot;\\n\\n\\t\\t\\t\\tcontentEditableRoot\\t= getContentEditableRoot(e.target);\\n\\t\\t\\t\\tif (contentEditableRoot) {\\n\\t\\t\\t\\t\\t// Prevent clicks on links in a cE=false element\\n\\t\\t\\t\\t\\tif (isContentEditableFalse(contentEditableRoot)) {\\n\\t\\t\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t\\t\\t\\teditor.focus();\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Removes fake selection if a cE=true is clicked within a cE=false like the toc title\\n\\t\\t\\t\\t\\tif (isContentEditableTrue(contentEditableRoot)) {\\n\\t\\t\\t\\t\\t\\tif (editor.dom.isChildOf(contentEditableRoot, editor.selection.getNode())) {\\n\\t\\t\\t\\t\\t\\t\\tremoveContentEditableSelection();\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\teditor.on('blur NewBlock', function () {\\n\\t\\t\\t\\tremoveContentEditableSelection();\\n\\t\\t\\t\\thideFakeCaret();\\n\\t\\t\\t});\\n\\n\\t\\t\\tfunction handleTouchSelect(editor) {\\n\\t\\t\\t\\tvar moved = false;\\n\\n\\t\\t\\t\\teditor.on('touchstart', function () {\\n\\t\\t\\t\\t\\tmoved = false;\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\teditor.on('touchmove', function () {\\n\\t\\t\\t\\t\\tmoved = true;\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\teditor.on('touchend', function (e) {\\n\\t\\t\\t\\t\\tvar contentEditableRoot\\t= getContentEditableRoot(e.target);\\n\\n\\t\\t\\t\\t\\tif (isContentEditableFalse(contentEditableRoot)) {\\n\\t\\t\\t\\t\\t\\tif (!moved) {\\n\\t\\t\\t\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t\\t\\t\\t\\tsetContentEditableSelection(selectNode(contentEditableRoot));\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\tvar hasNormalCaretPosition = function (elm) {\\n\\t\\t\\t\\tvar caretWalker = new CaretWalker(elm);\\n\\n\\t\\t\\t\\tif (!elm.firstChild) {\\n\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tvar startPos = CaretPosition.before(elm.firstChild);\\n\\t\\t\\t\\tvar newPos = caretWalker.next(startPos);\\n\\n\\t\\t\\t\\treturn newPos && !isBeforeContentEditableFalse(newPos) && !isAfterContentEditableFalse(newPos);\\n\\t\\t\\t};\\n\\n\\t\\t\\tvar isInSameBlock = function (node1, node2) {\\n\\t\\t\\t\\tvar block1 = editor.dom.getParent(node1, editor.dom.isBlock);\\n\\t\\t\\t\\tvar block2 = editor.dom.getParent(node2, editor.dom.isBlock);\\n\\t\\t\\t\\treturn block1 === block2;\\n\\t\\t\\t};\\n\\n\\t\\t\\tvar isContentKey = function (e) {\\n\\t\\t\\t\\tif (e.keyCode >= 112 && e.keyCode <= 123) {\\n\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn true;\\n\\t\\t\\t};\\n\\n\\t\\t\\t// Checks if the target node is in a block and if that block has a caret position better than the\\n\\t\\t\\t// suggested caretNode this is to prevent the caret from being sucked in towards a cE=false block if\\n\\t\\t\\t// they are adjacent on the vertical axis\\n\\t\\t\\tvar hasBetterMouseTarget = function (targetNode, caretNode) {\\n\\t\\t\\t\\tvar targetBlock = editor.dom.getParent(targetNode, editor.dom.isBlock);\\n\\t\\t\\t\\tvar caretBlock = editor.dom.getParent(caretNode, editor.dom.isBlock);\\n\\n\\t\\t\\t\\treturn targetBlock && !isInSameBlock(targetBlock, caretBlock) && hasNormalCaretPosition(targetBlock);\\n\\t\\t\\t};\\n\\n\\t\\t\\thandleTouchSelect(editor);\\n\\n\\t\\t\\teditor.on('mousedown', function(e) {\\n\\t\\t\\t\\tvar contentEditableRoot;\\n\\n\\t\\t\\t\\tcontentEditableRoot\\t= getContentEditableRoot(e.target);\\n\\t\\t\\t\\tif (contentEditableRoot) {\\n\\t\\t\\t\\t\\tif (isContentEditableFalse(contentEditableRoot)) {\\n\\t\\t\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t\\t\\t\\tsetContentEditableSelection(selectNode(contentEditableRoot));\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tif (!isXYWithinRange(e.clientX, e.clientY, editor.selection.getRng())) {\\n\\t\\t\\t\\t\\t\\t\\teditor.selection.placeCaretAt(e.clientX, e.clientY);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t// Remove needs to be called here since the mousedown might alter the selection without calling selection.setRng\\n\\t\\t\\t\\t\\t// and therefore not fire the AfterSetSelectionRange event.\\n\\t\\t\\t\\t\\tremoveContentEditableSelection();\\n\\t\\t\\t\\t\\thideFakeCaret();\\n\\n\\t\\t\\t\\t\\tvar caretInfo = LineUtils.closestCaret(rootNode, e.clientX, e.clientY);\\n\\t\\t\\t\\t\\tif (caretInfo) {\\n\\t\\t\\t\\t\\t\\tif (!hasBetterMouseTarget(e.target, caretInfo.node)) {\\n\\t\\t\\t\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t\\t\\t\\t\\teditor.getBody().focus();\\n\\t\\t\\t\\t\\t\\t\\tsetRange(showCaret(1, caretInfo.node, caretInfo.before));\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\teditor.on('keydown', function(e) {\\n\\t\\t\\t\\tif (VK.modifierPressed(e)) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tswitch (e.keyCode) {\\n\\t\\t\\t\\t\\tcase VK.RIGHT:\\n\\t\\t\\t\\t\\t\\toverride(e, right);\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\t\\tcase VK.DOWN:\\n\\t\\t\\t\\t\\t\\toverride(e, down);\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\t\\tcase VK.LEFT:\\n\\t\\t\\t\\t\\t\\toverride(e, left);\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\t\\tcase VK.UP:\\n\\t\\t\\t\\t\\t\\toverride(e, up);\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\t\\tcase VK.DELETE:\\n\\t\\t\\t\\t\\t\\toverride(e, deleteForward);\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\t\\tcase VK.BACKSPACE:\\n\\t\\t\\t\\t\\t\\toverride(e, backspace);\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\t\\tdefault:\\n\\t\\t\\t\\t\\t\\tif (isContentEditableFalse(editor.selection.getNode()) && isContentKey(e)) {\\n\\t\\t\\t\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\tfunction paddEmptyContentEditableArea() {\\n\\t\\t\\t\\tvar br, ceRoot = getContentEditableRoot(editor.selection.getNode());\\n\\n\\t\\t\\t\\tif (isContentEditableTrue(ceRoot) && isBlock(ceRoot) && editor.dom.isEmpty(ceRoot)) {\\n\\t\\t\\t\\t\\tbr = editor.dom.create('br', {\\\"data-mce-bogus\\\": \\\"1\\\"});\\n\\t\\t\\t\\t\\teditor.$(ceRoot).empty().append(br);\\n\\t\\t\\t\\t\\teditor.selection.setRng(CaretPosition.before(br).toRange());\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction handleBlockContainer(e) {\\n\\t\\t\\t\\tvar blockCaretContainer = getBlockCaretContainer();\\n\\n\\t\\t\\t\\tif (!blockCaretContainer) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (e.type == 'compositionstart') {\\n\\t\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t\\t\\te.stopPropagation();\\n\\t\\t\\t\\t\\tshowBlockCaretContainer(blockCaretContainer);\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (CaretContainer.hasContent(blockCaretContainer)) {\\n\\t\\t\\t\\t\\tshowBlockCaretContainer(blockCaretContainer);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction handleEmptyBackspaceDelete(e) {\\n\\t\\t\\t\\tvar prevent;\\n\\n\\t\\t\\t\\tswitch (e.keyCode) {\\n\\t\\t\\t\\t\\tcase VK.DELETE:\\n\\t\\t\\t\\t\\t\\tprevent = paddEmptyContentEditableArea();\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\t\\tcase VK.BACKSPACE:\\n\\t\\t\\t\\t\\t\\tprevent = paddEmptyContentEditableArea();\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (prevent) {\\n\\t\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Must be added to \\\"top\\\" since undoManager needs to be executed after\\n\\t\\t\\teditor.on('keyup compositionstart', function(e) {\\n\\t\\t\\t\\thandleBlockContainer(e);\\n\\t\\t\\t\\thandleEmptyBackspaceDelete(e);\\n\\t\\t\\t}, true);\\n\\n\\t\\t\\teditor.on('cut', function() {\\n\\t\\t\\t\\tvar node = editor.selection.getNode();\\n\\n\\t\\t\\t\\tif (isContentEditableFalse(node)) {\\n\\t\\t\\t\\t\\tDelay.setEditorTimeout(editor, function() {\\n\\t\\t\\t\\t\\t\\tsetRange(renderRangeCaret(deleteContentEditableNode(node)));\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\teditor.on('getSelectionRange', function(e) {\\n\\t\\t\\t\\tvar rng = e.range;\\n\\n\\t\\t\\t\\tif (selectedContentEditableNode) {\\n\\t\\t\\t\\t\\tif (!selectedContentEditableNode.parentNode) {\\n\\t\\t\\t\\t\\t\\tselectedContentEditableNode = null;\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\trng = rng.cloneRange();\\n\\t\\t\\t\\t\\trng.selectNode(selectedContentEditableNode);\\n\\t\\t\\t\\t\\te.range = rng;\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\teditor.on('setSelectionRange', function(e) {\\n\\t\\t\\t\\tvar rng;\\n\\n\\t\\t\\t\\trng = setContentEditableSelection(e.range);\\n\\t\\t\\t\\tif (rng) {\\n\\t\\t\\t\\t\\te.range = rng;\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\teditor.on('AfterSetSelectionRange', function(e) {\\n\\t\\t\\t\\tvar rng = e.range;\\n\\n\\t\\t\\t\\tif (!isRangeInCaretContainer(rng)) {\\n\\t\\t\\t\\t\\thideFakeCaret();\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (!isFakeSelectionElement(rng.startContainer.parentNode)) {\\n\\t\\t\\t\\t\\tremoveContentEditableSelection();\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\teditor.on('focus', function() {\\n\\t\\t\\t\\t// Make sure we have a proper fake caret on focus\\n\\t\\t\\t\\tDelay.setEditorTimeout(editor, function() {\\n\\t\\t\\t\\t\\teditor.selection.setRng(renderRangeCaret(editor.selection.getRng()));\\n\\t\\t\\t\\t}, 0);\\n\\t\\t\\t});\\n\\n\\t\\t\\teditor.on('copy', function (e) {\\n\\t\\t\\t\\tvar clipboardData = e.clipboardData;\\n\\n\\t\\t\\t\\t// Make sure we get proper html/text for the fake cE=false selection\\n\\t\\t\\t\\t// Doesn't work at all on Edge since it doesn't have proper clipboardData support\\n\\t\\t\\t\\tif (!e.isDefaultPrevented() && e.clipboardData && !Env.ie) {\\n\\t\\t\\t\\t\\tvar realSelectionElement = getRealSelectionElement();\\n\\t\\t\\t\\t\\tif (realSelectionElement) {\\n\\t\\t\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t\\t\\t\\tclipboardData.clearData();\\n\\t\\t\\t\\t\\t\\tclipboardData.setData('text/html', realSelectionElement.outerHTML);\\n\\t\\t\\t\\t\\t\\tclipboardData.setData('text/plain', realSelectionElement.outerText);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\tDragDropOverrides.init(editor);\\n\\t\\t}\\n\\n\\t\\tfunction addCss() {\\n\\t\\t\\tvar styles = editor.contentStyles, rootClass = '.mce-content-body';\\n\\n\\t\\t\\tstyles.push(fakeCaret.getCss());\\n\\t\\t\\tstyles.push(\\n\\t\\t\\t\\trootClass + ' .mce-offscreen-selection {' +\\n\\t\\t\\t\\t\\t'position: absolute;' +\\n\\t\\t\\t\\t\\t'left: -9999999999px;' +\\n\\t\\t\\t\\t\\t'max-width: 1000000px;' +\\n\\t\\t\\t\\t'}' +\\n\\t\\t\\t\\trootClass + ' *[contentEditable=false] {' +\\n\\t\\t\\t\\t\\t'cursor: default;' +\\n\\t\\t\\t\\t'}' +\\n\\t\\t\\t\\trootClass + ' *[contentEditable=true] {' +\\n\\t\\t\\t\\t\\t'cursor: text;' +\\n\\t\\t\\t\\t'}'\\n\\t\\t\\t);\\n\\t\\t}\\n\\n\\t\\tfunction isRangeInCaretContainer(rng) {\\n\\t\\t\\treturn CaretContainer.isCaretContainer(rng.startContainer) || CaretContainer.isCaretContainer(rng.endContainer);\\n\\t\\t}\\n\\n\\t\\tfunction setContentEditableSelection(range) {\\n\\t\\t\\tvar node, $ = editor.$, dom = editor.dom, $realSelectionContainer, sel,\\n\\t\\t\\t\\tstartContainer, startOffset, endOffset, e, caretPosition, targetClone, origTargetClone;\\n\\n\\t\\t\\tif (!range) {\\n\\t\\t\\t\\treturn null;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (range.collapsed) {\\n\\t\\t\\t\\tif (!isRangeInCaretContainer(range)) {\\n\\t\\t\\t\\t\\tcaretPosition = getNormalizedRangeEndPoint(1, range);\\n\\n\\t\\t\\t\\t\\tif (isContentEditableFalse(caretPosition.getNode())) {\\n\\t\\t\\t\\t\\t\\treturn showCaret(1, caretPosition.getNode(), !caretPosition.isAtEnd());\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (isContentEditableFalse(caretPosition.getNode(true))) {\\n\\t\\t\\t\\t\\t\\treturn showCaret(1, caretPosition.getNode(true), false);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn null;\\n\\t\\t\\t}\\n\\n\\t\\t\\tstartContainer = range.startContainer;\\n\\t\\t\\tstartOffset = range.startOffset;\\n\\t\\t\\tendOffset = range.endOffset;\\n\\n\\t\\t\\t// Normalizes <span cE=false>[</span>] to [<span cE=false></span>]\\n\\t\\t\\tif (startContainer.nodeType == 3 && startOffset == 0 && isContentEditableFalse(startContainer.parentNode)) {\\n\\t\\t\\t\\tstartContainer = startContainer.parentNode;\\n\\t\\t\\t\\tstartOffset = dom.nodeIndex(startContainer);\\n\\t\\t\\t\\tstartContainer = startContainer.parentNode;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (startContainer.nodeType != 1) {\\n\\t\\t\\t\\treturn null;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (endOffset == startOffset + 1) {\\n\\t\\t\\t\\tnode = startContainer.childNodes[startOffset];\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!isContentEditableFalse(node)) {\\n\\t\\t\\t\\treturn null;\\n\\t\\t\\t}\\n\\n\\t\\t\\ttargetClone = origTargetClone = node.cloneNode(true);\\n\\t\\t\\te = editor.fire('ObjectSelected', {target: node, targetClone: targetClone});\\n\\t\\t\\tif (e.isDefaultPrevented()) {\\n\\t\\t\\t\\treturn null;\\n\\t\\t\\t}\\n\\n\\t\\t\\ttargetClone = e.targetClone;\\n\\t\\t\\t$realSelectionContainer = $('#' + realSelectionId);\\n\\t\\t\\tif ($realSelectionContainer.length === 0) {\\n\\t\\t\\t\\t$realSelectionContainer = $(\\n\\t\\t\\t\\t\\t'<div data-mce-bogus=\\\"all\\\" class=\\\"mce-offscreen-selection\\\"></div>'\\n\\t\\t\\t\\t).attr('id', realSelectionId);\\n\\n\\t\\t\\t\\t$realSelectionContainer.appendTo(editor.getBody());\\n\\t\\t\\t}\\n\\n\\t\\t\\trange = editor.dom.createRng();\\n\\n\\t\\t\\t// WHY is IE making things so hard! Copy on <i contentEditable=\\\"false\\\">x</i> produces: <em>x</em>\\n\\t\\t\\t// This is a ridiculous hack where we place the selection from a block over the inline element\\n\\t\\t\\t// so that just the inline element is copied as is and not converted.\\n\\t\\t\\tif (targetClone === origTargetClone && Env.ie) {\\n\\t\\t\\t\\t$realSelectionContainer.empty().append('<p style=\\\"font-size: 0\\\" data-mce-bogus=\\\"all\\\">\\\\u00a0</p>').append(targetClone);\\n\\t\\t\\t\\trange.setStartAfter($realSelectionContainer[0].firstChild.firstChild);\\n\\t\\t\\t\\trange.setEndAfter(targetClone);\\n\\t\\t\\t} else {\\n\\t\\t\\t\\t$realSelectionContainer.empty().append('\\\\u00a0').append(targetClone).append('\\\\u00a0');\\n\\t\\t\\t\\trange.setStart($realSelectionContainer[0].firstChild, 1);\\n\\t\\t\\t\\trange.setEnd($realSelectionContainer[0].lastChild, 0);\\n\\t\\t\\t}\\n\\n\\t\\t\\t$realSelectionContainer.css({\\n\\t\\t\\t\\ttop: dom.getPos(node, editor.getBody()).y\\n\\t\\t\\t});\\n\\n\\t\\t\\t$realSelectionContainer[0].focus();\\n\\t\\t\\tsel = editor.selection.getSel();\\n\\t\\t\\tsel.removeAllRanges();\\n\\t\\t\\tsel.addRange(range);\\n\\n\\t\\t\\teditor.$('*[data-mce-selected]').removeAttr('data-mce-selected');\\n\\t\\t\\tnode.setAttribute('data-mce-selected', 1);\\n\\t\\t\\tselectedContentEditableNode = node;\\n\\t\\t\\thideFakeCaret();\\n\\n\\t\\t\\treturn range;\\n\\t\\t}\\n\\n\\t\\tfunction removeContentEditableSelection() {\\n\\t\\t\\tif (selectedContentEditableNode) {\\n\\t\\t\\t\\tselectedContentEditableNode.removeAttribute('data-mce-selected');\\n\\t\\t\\t\\teditor.$('#' + realSelectionId).remove();\\n\\t\\t\\t\\tselectedContentEditableNode = null;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction destroy() {\\n\\t\\t\\tfakeCaret.destroy();\\n\\t\\t\\tselectedContentEditableNode = null;\\n\\t\\t}\\n\\n\\t\\tfunction hideFakeCaret() {\\n\\t\\t\\tfakeCaret.hide();\\n\\t\\t}\\n\\n\\t\\tif (Env.ceFalse) {\\n\\t\\t\\tregisterEvents();\\n\\t\\t\\taddCss();\\n\\t\\t}\\n\\n\\t\\treturn {\\n\\t\\t\\tshowBlockCaretContainer: showBlockCaretContainer,\\n\\t\\t\\thideFakeCaret: hideFakeCaret,\\n\\t\\t\\tdestroy: destroy\\n\\t\\t};\\n\\t}\\n\\n\\treturn SelectionOverrides;\\n});\\n\\n// Included from: js/tinymce/classes/util/Uuid.js\\n\\n/**\\n * Uuid.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2016 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Generates unique ids.\\n *\\n * @class tinymce.util.Uuid\\n * @private\\n */\\ndefine(\\\"tinymce/util/Uuid\\\", [\\n], function() {\\n\\tvar count = 0;\\n\\n\\tvar seed = function () {\\n\\t\\tvar rnd = function () {\\n\\t\\t\\treturn Math.round(Math.random() * 0xFFFFFFFF).toString(36);\\n\\t\\t};\\n\\n\\t\\tvar now = new Date().getTime();\\n\\t\\treturn 's' + now.toString(36) + rnd() + rnd() + rnd();\\n\\t};\\n\\n\\tvar uuid = function (prefix) {\\n\\t\\treturn prefix + (count++) + seed();\\n\\t};\\n\\n\\treturn {\\n\\t\\tuuid: uuid\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/ui/Sidebar.js\\n\\n/**\\n * Sidebar.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This module handle sidebar instances for the editor.\\n *\\n * @class tinymce.ui.Sidebar\\n * @private\\n */\\ndefine(\\\"tinymce/ui/Sidebar\\\", [\\n], function(\\n) {\\n\\tvar add = function (editor, name, settings) {\\n\\t\\tvar sidebars = editor.sidebars ? editor.sidebars : [];\\n\\t\\tsidebars.push({name: name, settings: settings});\\n\\t\\teditor.sidebars = sidebars;\\n\\t};\\n\\n\\treturn {\\n\\t\\tadd: add\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/Editor.js\\n\\n/**\\n * Editor.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/*jshint scripturl:true */\\n\\n/**\\n * Include the base event class documentation.\\n *\\n * @include ../../../tools/docs/tinymce.Event.js\\n */\\n\\n/**\\n * This class contains the core logic for a TinyMCE editor.\\n *\\n * @class tinymce.Editor\\n * @mixes tinymce.util.Observable\\n * @example\\n * // Add a class to all paragraphs in the editor.\\n * tinymce.activeEditor.dom.addClass(tinymce.activeEditor.dom.select('p'), 'someclass');\\n *\\n * // Gets the current editors selection as text\\n * tinymce.activeEditor.selection.getContent({format: 'text'});\\n *\\n * // Creates a new editor instance\\n * var ed = new tinymce.Editor('textareaid', {\\n *     some_setting: 1\\n * }, tinymce.EditorManager);\\n *\\n * // Select each item the user clicks on\\n * ed.on('click', function(e) {\\n *     ed.selection.select(e.target);\\n * });\\n *\\n * ed.render();\\n */\\ndefine(\\\"tinymce/Editor\\\", [\\n\\t\\\"tinymce/dom/DOMUtils\\\",\\n\\t\\\"tinymce/dom/DomQuery\\\",\\n\\t\\\"tinymce/AddOnManager\\\",\\n\\t\\\"tinymce/NodeChange\\\",\\n\\t\\\"tinymce/html/Node\\\",\\n\\t\\\"tinymce/dom/Serializer\\\",\\n\\t\\\"tinymce/html/Serializer\\\",\\n\\t\\\"tinymce/dom/Selection\\\",\\n\\t\\\"tinymce/Formatter\\\",\\n\\t\\\"tinymce/UndoManager\\\",\\n\\t\\\"tinymce/EnterKey\\\",\\n\\t\\\"tinymce/ForceBlocks\\\",\\n\\t\\\"tinymce/EditorCommands\\\",\\n\\t\\\"tinymce/util/URI\\\",\\n\\t\\\"tinymce/dom/ScriptLoader\\\",\\n\\t\\\"tinymce/dom/EventUtils\\\",\\n\\t\\\"tinymce/WindowManager\\\",\\n\\t\\\"tinymce/NotificationManager\\\",\\n\\t\\\"tinymce/html/Schema\\\",\\n\\t\\\"tinymce/html/DomParser\\\",\\n\\t\\\"tinymce/util/Quirks\\\",\\n\\t\\\"tinymce/Env\\\",\\n\\t\\\"tinymce/util/Tools\\\",\\n\\t\\\"tinymce/util/Delay\\\",\\n\\t\\\"tinymce/EditorObservable\\\",\\n\\t\\\"tinymce/Mode\\\",\\n\\t\\\"tinymce/Shortcuts\\\",\\n\\t\\\"tinymce/EditorUpload\\\",\\n\\t\\\"tinymce/SelectionOverrides\\\",\\n\\t\\\"tinymce/util/Uuid\\\",\\n\\t\\\"tinymce/ui/Sidebar\\\",\\n\\t\\\"tinymce/ErrorReporter\\\"\\n], function(\\n\\tDOMUtils, DomQuery, AddOnManager, NodeChange, Node, DomSerializer, Serializer,\\n\\tSelection, Formatter, UndoManager, EnterKey, ForceBlocks, EditorCommands,\\n\\tURI, ScriptLoader, EventUtils, WindowManager, NotificationManager,\\n\\tSchema, DomParser, Quirks, Env, Tools, Delay, EditorObservable, Mode, Shortcuts, EditorUpload,\\n\\tSelectionOverrides, Uuid, Sidebar, ErrorReporter\\n) {\\n\\t// Shorten these names\\n\\tvar DOM = DOMUtils.DOM, ThemeManager = AddOnManager.ThemeManager, PluginManager = AddOnManager.PluginManager;\\n\\tvar extend = Tools.extend, each = Tools.each, explode = Tools.explode;\\n\\tvar inArray = Tools.inArray, trim = Tools.trim, resolve = Tools.resolve;\\n\\tvar Event = EventUtils.Event;\\n\\tvar isGecko = Env.gecko, ie = Env.ie;\\n\\n\\t/**\\n\\t * Include documentation for all the events.\\n\\t *\\n\\t * @include ../../../tools/docs/tinymce.Editor.js\\n\\t */\\n\\n\\t/**\\n\\t * Constructs a editor instance by id.\\n\\t *\\n\\t * @constructor\\n\\t * @method Editor\\n\\t * @param {String} id Unique id for the editor.\\n\\t * @param {Object} settings Settings for the editor.\\n\\t * @param {tinymce.EditorManager} editorManager EditorManager instance.\\n\\t */\\n\\tfunction Editor(id, settings, editorManager) {\\n\\t\\tvar self = this, documentBaseUrl, baseUri, defaultSettings;\\n\\n\\t\\tdocumentBaseUrl = self.documentBaseUrl = editorManager.documentBaseURL;\\n\\t\\tbaseUri = editorManager.baseURI;\\n\\t\\tdefaultSettings = editorManager.defaultSettings;\\n\\n\\t\\t/**\\n\\t\\t * Name/value collection with editor settings.\\n\\t\\t *\\n\\t\\t * @property settings\\n\\t\\t * @type Object\\n\\t\\t * @example\\n\\t\\t * // Get the value of the theme setting\\n\\t\\t * tinymce.activeEditor.windowManager.alert(\\\"You are using the \\\" + tinymce.activeEditor.settings.theme + \\\" theme\\\");\\n\\t\\t */\\n\\t\\tsettings = extend({\\n\\t\\t\\tid: id,\\n\\t\\t\\ttheme: 'modern',\\n\\t\\t\\tdelta_width: 0,\\n\\t\\t\\tdelta_height: 0,\\n\\t\\t\\tpopup_css: '',\\n\\t\\t\\tplugins: '',\\n\\t\\t\\tdocument_base_url: documentBaseUrl,\\n\\t\\t\\tadd_form_submit_trigger: true,\\n\\t\\t\\tsubmit_patch: true,\\n\\t\\t\\tadd_unload_trigger: true,\\n\\t\\t\\tconvert_urls: true,\\n\\t\\t\\trelative_urls: true,\\n\\t\\t\\tremove_script_host: true,\\n\\t\\t\\tobject_resizing: true,\\n\\t\\t\\tdoctype: '<!DOCTYPE html>',\\n\\t\\t\\tvisual: true,\\n\\t\\t\\tfont_size_style_values: 'xx-small,x-small,small,medium,large,x-large,xx-large',\\n\\n\\t\\t\\t// See: http://www.w3.org/TR/CSS2/fonts.html#propdef-font-size\\n\\t\\t\\tfont_size_legacy_values: 'xx-small,small,medium,large,x-large,xx-large,300%',\\n\\t\\t\\tforced_root_block: 'p',\\n\\t\\t\\thidden_input: true,\\n\\t\\t\\tpadd_empty_editor: true,\\n\\t\\t\\trender_ui: true,\\n\\t\\t\\tindentation: '30px',\\n\\t\\t\\tinline_styles: true,\\n\\t\\t\\tconvert_fonts_to_spans: true,\\n\\t\\t\\tindent: 'simple',\\n\\t\\t\\tindent_before: 'p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,' +\\n\\t\\t\\t\\t'tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist',\\n\\t\\t\\tindent_after: 'p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,' +\\n\\t\\t\\t\\t'tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist',\\n\\t\\t\\tvalidate: true,\\n\\t\\t\\tentity_encoding: 'named',\\n\\t\\t\\turl_converter: self.convertURL,\\n\\t\\t\\turl_converter_scope: self,\\n\\t\\t\\tie7_compat: true\\n\\t\\t}, defaultSettings, settings);\\n\\n\\t\\t// Merge external_plugins\\n\\t\\tif (defaultSettings && defaultSettings.external_plugins && settings.external_plugins) {\\n\\t\\t\\tsettings.external_plugins = extend({}, defaultSettings.external_plugins, settings.external_plugins);\\n\\t\\t}\\n\\n\\t\\tself.settings = settings;\\n\\t\\tAddOnManager.language = settings.language || 'en';\\n\\t\\tAddOnManager.languageLoad = settings.language_load;\\n\\t\\tAddOnManager.baseURL = editorManager.baseURL;\\n\\n\\t\\t/**\\n\\t\\t * Editor instance id, normally the same as the div/textarea that was replaced.\\n\\t\\t *\\n\\t\\t * @property id\\n\\t\\t * @type String\\n\\t\\t */\\n\\t\\tself.id = settings.id = id;\\n\\n\\t\\t/**\\n\\t\\t * State to force the editor to return false on a isDirty call.\\n\\t\\t *\\n\\t\\t * @property isNotDirty\\n\\t\\t * @type Boolean\\n\\t\\t * @deprecated Use editor.setDirty instead.\\n\\t\\t */\\n\\t\\tself.setDirty(false);\\n\\n\\t\\t/**\\n\\t\\t * Name/Value object containing plugin instances.\\n\\t\\t *\\n\\t\\t * @property plugins\\n\\t\\t * @type Object\\n\\t\\t * @example\\n\\t\\t * // Execute a method inside a plugin directly\\n\\t\\t * tinymce.activeEditor.plugins.someplugin.someMethod();\\n\\t\\t */\\n\\t\\tself.plugins = {};\\n\\n\\t\\t/**\\n\\t\\t * URI object to document configured for the TinyMCE instance.\\n\\t\\t *\\n\\t\\t * @property documentBaseURI\\n\\t\\t * @type tinymce.util.URI\\n\\t\\t * @example\\n\\t\\t * // Get relative URL from the location of document_base_url\\n\\t\\t * tinymce.activeEditor.documentBaseURI.toRelative('/somedir/somefile.htm');\\n\\t\\t *\\n\\t\\t * // Get absolute URL from the location of document_base_url\\n\\t\\t * tinymce.activeEditor.documentBaseURI.toAbsolute('somefile.htm');\\n\\t\\t */\\n\\t\\tself.documentBaseURI = new URI(settings.document_base_url || documentBaseUrl, {\\n\\t\\t\\tbase_uri: baseUri\\n\\t\\t});\\n\\n\\t\\t/**\\n\\t\\t * URI object to current document that holds the TinyMCE editor instance.\\n\\t\\t *\\n\\t\\t * @property baseURI\\n\\t\\t * @type tinymce.util.URI\\n\\t\\t * @example\\n\\t\\t * // Get relative URL from the location of the API\\n\\t\\t * tinymce.activeEditor.baseURI.toRelative('/somedir/somefile.htm');\\n\\t\\t *\\n\\t\\t * // Get absolute URL from the location of the API\\n\\t\\t * tinymce.activeEditor.baseURI.toAbsolute('somefile.htm');\\n\\t\\t */\\n\\t\\tself.baseURI = baseUri;\\n\\n\\t\\t/**\\n\\t\\t * Array with CSS files to load into the iframe.\\n\\t\\t *\\n\\t\\t * @property contentCSS\\n\\t\\t * @type Array\\n\\t\\t */\\n\\t\\tself.contentCSS = [];\\n\\n\\t\\t/**\\n\\t\\t * Array of CSS styles to add to head of document when the editor loads.\\n\\t\\t *\\n\\t\\t * @property contentStyles\\n\\t\\t * @type Array\\n\\t\\t */\\n\\t\\tself.contentStyles = [];\\n\\n\\t\\t// Creates all events like onClick, onSetContent etc see Editor.Events.js for the actual logic\\n\\t\\tself.shortcuts = new Shortcuts(self);\\n\\t\\tself.loadedCSS = {};\\n\\t\\tself.editorCommands = new EditorCommands(self);\\n\\t\\tself.suffix = editorManager.suffix;\\n\\t\\tself.editorManager = editorManager;\\n\\t\\tself.inline = settings.inline;\\n\\t\\tself.settings.content_editable = self.inline;\\n\\n\\t\\tif (settings.cache_suffix) {\\n\\t\\t\\tEnv.cacheSuffix = settings.cache_suffix.replace(/^[\\\\?\\\\&]+/, '');\\n\\t\\t}\\n\\n\\t\\tif (settings.override_viewport === false) {\\n\\t\\t\\tEnv.overrideViewPort = false;\\n\\t\\t}\\n\\n\\t\\t// Call setup\\n\\t\\teditorManager.fire('SetupEditor', self);\\n\\t\\tself.execCallback('setup', self);\\n\\n\\t\\t/**\\n\\t\\t * Dom query instance with default scope to the editor document and default element is the body of the editor.\\n\\t\\t *\\n\\t\\t * @property $\\n\\t\\t * @type tinymce.dom.DomQuery\\n\\t\\t * @example\\n\\t\\t * tinymce.activeEditor.$('p').css('color', 'red');\\n\\t\\t * tinymce.activeEditor.$().append('<p>new</p>');\\n\\t\\t */\\n\\t\\tself.$ = DomQuery.overrideDefaults(function() {\\n\\t\\t\\treturn {\\n\\t\\t\\t\\tcontext: self.inline ? self.getBody() : self.getDoc(),\\n\\t\\t\\t\\telement: self.getBody()\\n\\t\\t\\t};\\n\\t\\t});\\n\\t}\\n\\n\\tEditor.prototype = {\\n\\t\\t/**\\n\\t\\t * Renders the editor/adds it to the page.\\n\\t\\t *\\n\\t\\t * @method render\\n\\t\\t */\\n\\t\\trender: function() {\\n\\t\\t\\tvar self = this, settings = self.settings, id = self.id, suffix = self.suffix;\\n\\n\\t\\t\\tfunction readyHandler() {\\n\\t\\t\\t\\tDOM.unbind(window, 'ready', readyHandler);\\n\\t\\t\\t\\tself.render();\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Page is not loaded yet, wait for it\\n\\t\\t\\tif (!Event.domLoaded) {\\n\\t\\t\\t\\tDOM.bind(window, 'ready', readyHandler);\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Element not found, then skip initialization\\n\\t\\t\\tif (!self.getElement()) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// No editable support old iOS versions etc\\n\\t\\t\\tif (!Env.contentEditable) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Hide target element early to prevent content flashing\\n\\t\\t\\tif (!settings.inline) {\\n\\t\\t\\t\\tself.orgVisibility = self.getElement().style.visibility;\\n\\t\\t\\t\\tself.getElement().style.visibility = 'hidden';\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tself.inline = true;\\n\\t\\t\\t}\\n\\n\\t\\t\\tvar form = self.getElement().form || DOM.getParent(id, 'form');\\n\\t\\t\\tif (form) {\\n\\t\\t\\t\\tself.formElement = form;\\n\\n\\t\\t\\t\\t// Add hidden input for non input elements inside form elements\\n\\t\\t\\t\\tif (settings.hidden_input && !/TEXTAREA|INPUT/i.test(self.getElement().nodeName)) {\\n\\t\\t\\t\\t\\tDOM.insertAfter(DOM.create('input', {type: 'hidden', name: id}), id);\\n\\t\\t\\t\\t\\tself.hasHiddenInput = true;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Pass submit/reset from form to editor instance\\n\\t\\t\\t\\tself.formEventDelegate = function(e) {\\n\\t\\t\\t\\t\\tself.fire(e.type, e);\\n\\t\\t\\t\\t};\\n\\n\\t\\t\\t\\tDOM.bind(form, 'submit reset', self.formEventDelegate);\\n\\n\\t\\t\\t\\t// Reset contents in editor when the form is reset\\n\\t\\t\\t\\tself.on('reset', function() {\\n\\t\\t\\t\\t\\tself.setContent(self.startContent, {format: 'raw'});\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t// Check page uses id=\\\"submit\\\" or name=\\\"submit\\\" for it's submit button\\n\\t\\t\\t\\tif (settings.submit_patch && !form.submit.nodeType && !form.submit.length && !form._mceOldSubmit) {\\n\\t\\t\\t\\t\\tform._mceOldSubmit = form.submit;\\n\\t\\t\\t\\t\\tform.submit = function() {\\n\\t\\t\\t\\t\\t\\tself.editorManager.triggerSave();\\n\\t\\t\\t\\t\\t\\tself.setDirty(false);\\n\\n\\t\\t\\t\\t\\t\\treturn form._mceOldSubmit(form);\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Window manager reference, use this to open new windows and dialogs.\\n\\t\\t\\t *\\n\\t\\t\\t * @property windowManager\\n\\t\\t\\t * @type tinymce.WindowManager\\n\\t\\t\\t * @example\\n\\t\\t\\t * // Shows an alert message\\n\\t\\t\\t * tinymce.activeEditor.windowManager.alert('Hello world!');\\n\\t\\t\\t *\\n\\t\\t\\t * // Opens a new dialog with the file.htm file and the size 320x240\\n\\t\\t\\t * // It also adds a custom parameter this can be retrieved by using tinyMCEPopup.getWindowArg inside the dialog.\\n\\t\\t\\t * tinymce.activeEditor.windowManager.open({\\n\\t\\t\\t *    url: 'file.htm',\\n\\t\\t\\t *    width: 320,\\n\\t\\t\\t *    height: 240\\n\\t\\t\\t * }, {\\n\\t\\t\\t *    custom_param: 1\\n\\t\\t\\t * });\\n\\t\\t\\t */\\n\\t\\t\\tself.windowManager = new WindowManager(self);\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Notification manager reference, use this to open new windows and dialogs.\\n\\t\\t\\t *\\n\\t\\t\\t * @property notificationManager\\n\\t\\t\\t * @type tinymce.NotificationManager\\n\\t\\t\\t * @example\\n\\t\\t\\t * // Shows a notification info message.\\n\\t\\t\\t * tinymce.activeEditor.notificationManager.open({text: 'Hello world!', type: 'info'});\\n\\t\\t\\t */\\n\\t\\t\\tself.notificationManager = new NotificationManager(self);\\n\\n\\t\\t\\tif (settings.encoding == 'xml') {\\n\\t\\t\\t\\tself.on('GetContent', function(e) {\\n\\t\\t\\t\\t\\tif (e.save) {\\n\\t\\t\\t\\t\\t\\te.content = DOM.encode(e.content);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (settings.add_form_submit_trigger) {\\n\\t\\t\\t\\tself.on('submit', function() {\\n\\t\\t\\t\\t\\tif (self.initialized) {\\n\\t\\t\\t\\t\\t\\tself.save();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (settings.add_unload_trigger) {\\n\\t\\t\\t\\tself._beforeUnload = function() {\\n\\t\\t\\t\\t\\tif (self.initialized && !self.destroyed && !self.isHidden()) {\\n\\t\\t\\t\\t\\t\\tself.save({format: 'raw', no_events: true, set_dirty: false});\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t};\\n\\n\\t\\t\\t\\tself.editorManager.on('BeforeUnload', self._beforeUnload);\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Load scripts\\n\\t\\t\\tfunction loadScripts() {\\n\\t\\t\\t\\tvar scriptLoader = ScriptLoader.ScriptLoader;\\n\\n\\t\\t\\t\\tif (settings.language && settings.language != 'en' && !settings.language_url) {\\n\\t\\t\\t\\t\\tsettings.language_url = self.editorManager.baseURL + '/langs/' + settings.language + '.js';\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (settings.language_url) {\\n\\t\\t\\t\\t\\tscriptLoader.add(settings.language_url);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (settings.theme && typeof settings.theme != \\\"function\\\" &&\\n\\t\\t\\t\\t\\tsettings.theme.charAt(0) != '-' && !ThemeManager.urls[settings.theme]) {\\n\\t\\t\\t\\t\\tvar themeUrl = settings.theme_url;\\n\\n\\t\\t\\t\\t\\tif (themeUrl) {\\n\\t\\t\\t\\t\\t\\tthemeUrl = self.documentBaseURI.toAbsolute(themeUrl);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tthemeUrl = 'themes/' + settings.theme + '/theme' + suffix + '.js';\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tThemeManager.load(settings.theme, themeUrl);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (Tools.isArray(settings.plugins)) {\\n\\t\\t\\t\\t\\tsettings.plugins = settings.plugins.join(' ');\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\teach(settings.external_plugins, function(url, name) {\\n\\t\\t\\t\\t\\tPluginManager.load(name, url);\\n\\t\\t\\t\\t\\tsettings.plugins += ' ' + name;\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\teach(settings.plugins.split(/[ ,]/), function(plugin) {\\n\\t\\t\\t\\t\\tplugin = trim(plugin);\\n\\n\\t\\t\\t\\t\\tif (plugin && !PluginManager.urls[plugin]) {\\n\\t\\t\\t\\t\\t\\tif (plugin.charAt(0) == '-') {\\n\\t\\t\\t\\t\\t\\t\\tplugin = plugin.substr(1, plugin.length);\\n\\n\\t\\t\\t\\t\\t\\t\\tvar dependencies = PluginManager.dependencies(plugin);\\n\\n\\t\\t\\t\\t\\t\\t\\teach(dependencies, function(dep) {\\n\\t\\t\\t\\t\\t\\t\\t\\tvar defaultSettings = {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tprefix: 'plugins/',\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tresource: dep,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tsuffix: '/plugin' + suffix + '.js'\\n\\t\\t\\t\\t\\t\\t\\t\\t};\\n\\n\\t\\t\\t\\t\\t\\t\\t\\tdep = PluginManager.createUrl(defaultSettings, dep);\\n\\t\\t\\t\\t\\t\\t\\t\\tPluginManager.load(dep.resource, dep);\\n\\t\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\tPluginManager.load(plugin, {\\n\\t\\t\\t\\t\\t\\t\\t\\tprefix: 'plugins/',\\n\\t\\t\\t\\t\\t\\t\\t\\tresource: plugin,\\n\\t\\t\\t\\t\\t\\t\\t\\tsuffix: '/plugin' + suffix + '.js'\\n\\t\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\tscriptLoader.loadQueue(function() {\\n\\t\\t\\t\\t\\tif (!self.removed) {\\n\\t\\t\\t\\t\\t\\tself.init();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}, self, function (urls) {\\n\\t\\t\\t\\t\\tErrorReporter.pluginLoadError(self, urls[0]);\\n\\n\\t\\t\\t\\t\\tif (!self.removed) {\\n\\t\\t\\t\\t\\t\\tself.init();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.editorManager.add(self);\\n\\t\\t\\tloadScripts();\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Initializes the editor this will be called automatically when\\n\\t\\t * all plugins/themes and language packs are loaded by the rendered method.\\n\\t\\t * This method will setup the iframe and create the theme and plugin instances.\\n\\t\\t *\\n\\t\\t * @method init\\n\\t\\t */\\n\\t\\tinit: function() {\\n\\t\\t\\tvar self = this, settings = self.settings, elm = self.getElement();\\n\\t\\t\\tvar w, h, minHeight, n, o, Theme, url, bodyId, bodyClass, re, i, initializedPlugins = [];\\n\\n\\t\\t\\tself.rtl = settings.rtl_ui || self.editorManager.i18n.rtl;\\n\\t\\t\\tself.editorManager.i18n.setCode(settings.language);\\n\\t\\t\\tsettings.aria_label = settings.aria_label || DOM.getAttrib(elm, 'aria-label', self.getLang('aria.rich_text_area'));\\n\\n\\t\\t\\tself.fire('ScriptsLoaded');\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Reference to the theme instance that was used to generate the UI.\\n\\t\\t\\t *\\n\\t\\t\\t * @property theme\\n\\t\\t\\t * @type tinymce.Theme\\n\\t\\t\\t * @example\\n\\t\\t\\t * // Executes a method on the theme directly\\n\\t\\t\\t * tinymce.activeEditor.theme.someMethod();\\n\\t\\t\\t */\\n\\t\\t\\tif (settings.theme) {\\n\\t\\t\\t\\tif (typeof settings.theme != \\\"function\\\") {\\n\\t\\t\\t\\t\\tsettings.theme = settings.theme.replace(/-/, '');\\n\\t\\t\\t\\t\\tTheme = ThemeManager.get(settings.theme);\\n\\t\\t\\t\\t\\tself.theme = new Theme(self, ThemeManager.urls[settings.theme]);\\n\\n\\t\\t\\t\\t\\tif (self.theme.init) {\\n\\t\\t\\t\\t\\t\\tself.theme.init(self, ThemeManager.urls[settings.theme] || self.documentBaseUrl.replace(/\\\\/$/, ''), self.$);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tself.theme = settings.theme;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction initPlugin(plugin) {\\n\\t\\t\\t\\tvar Plugin = PluginManager.get(plugin), pluginUrl, pluginInstance;\\n\\n\\t\\t\\t\\tpluginUrl = PluginManager.urls[plugin] || self.documentBaseUrl.replace(/\\\\/$/, '');\\n\\t\\t\\t\\tplugin = trim(plugin);\\n\\t\\t\\t\\tif (Plugin && inArray(initializedPlugins, plugin) === -1) {\\n\\t\\t\\t\\t\\teach(PluginManager.dependencies(plugin), function(dep) {\\n\\t\\t\\t\\t\\t\\tinitPlugin(dep);\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\tif (self.plugins[plugin]) {\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tpluginInstance = new Plugin(self, pluginUrl, self.$);\\n\\n\\t\\t\\t\\t\\tself.plugins[plugin] = pluginInstance;\\n\\n\\t\\t\\t\\t\\tif (pluginInstance.init) {\\n\\t\\t\\t\\t\\t\\tpluginInstance.init(self, pluginUrl);\\n\\t\\t\\t\\t\\t\\tinitializedPlugins.push(plugin);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Create all plugins\\n\\t\\t\\teach(settings.plugins.replace(/\\\\-/g, '').split(/[ ,]/), initPlugin);\\n\\n\\t\\t\\t// Measure box\\n\\t\\t\\tif (settings.render_ui && self.theme) {\\n\\t\\t\\t\\tself.orgDisplay = elm.style.display;\\n\\n\\t\\t\\t\\tif (typeof settings.theme != \\\"function\\\") {\\n\\t\\t\\t\\t\\tw = settings.width || elm.style.width || elm.offsetWidth;\\n\\t\\t\\t\\t\\th = settings.height || elm.style.height || elm.offsetHeight;\\n\\t\\t\\t\\t\\tminHeight = settings.min_height || 100;\\n\\t\\t\\t\\t\\tre = /^[0-9\\\\.]+(|px)$/i;\\n\\n\\t\\t\\t\\t\\tif (re.test('' + w)) {\\n\\t\\t\\t\\t\\t\\tw = Math.max(parseInt(w, 10), 100);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (re.test('' + h)) {\\n\\t\\t\\t\\t\\t\\th = Math.max(parseInt(h, 10), minHeight);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Render UI\\n\\t\\t\\t\\t\\to = self.theme.renderUI({\\n\\t\\t\\t\\t\\t\\ttargetNode: elm,\\n\\t\\t\\t\\t\\t\\twidth: w,\\n\\t\\t\\t\\t\\t\\theight: h,\\n\\t\\t\\t\\t\\t\\tdeltaWidth: settings.delta_width,\\n\\t\\t\\t\\t\\t\\tdeltaHeight: settings.delta_height\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\t// Resize editor\\n\\t\\t\\t\\t\\tif (!settings.content_editable) {\\n\\t\\t\\t\\t\\t\\th = (o.iframeHeight || h) + (typeof h == 'number' ? (o.deltaHeight || 0) : '');\\n\\t\\t\\t\\t\\t\\tif (h < minHeight) {\\n\\t\\t\\t\\t\\t\\t\\th = minHeight;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\to = settings.theme(self, elm);\\n\\n\\t\\t\\t\\t\\tif (o.editorContainer.nodeType) {\\n\\t\\t\\t\\t\\t\\to.editorContainer.id = o.editorContainer.id || self.id + \\\"_parent\\\";\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (o.iframeContainer.nodeType) {\\n\\t\\t\\t\\t\\t\\to.iframeContainer.id = o.iframeContainer.id || self.id + \\\"_iframecontainer\\\";\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Use specified iframe height or the targets offsetHeight\\n\\t\\t\\t\\t\\th = o.iframeHeight || elm.offsetHeight;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tself.editorContainer = o.editorContainer;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Load specified content CSS last\\n\\t\\t\\tif (settings.content_css) {\\n\\t\\t\\t\\teach(explode(settings.content_css), function(u) {\\n\\t\\t\\t\\t\\tself.contentCSS.push(self.documentBaseURI.toAbsolute(u));\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Load specified content CSS last\\n\\t\\t\\tif (settings.content_style) {\\n\\t\\t\\t\\tself.contentStyles.push(settings.content_style);\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Content editable mode ends here\\n\\t\\t\\tif (settings.content_editable) {\\n\\t\\t\\t\\telm = n = o = null; // Fix IE leak\\n\\t\\t\\t\\treturn self.initContentBody();\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.iframeHTML = settings.doctype + '<html><head>';\\n\\n\\t\\t\\t// We only need to override paths if we have to\\n\\t\\t\\t// IE has a bug where it remove site absolute urls to relative ones if this is specified\\n\\t\\t\\tif (settings.document_base_url != self.documentBaseUrl) {\\n\\t\\t\\t\\tself.iframeHTML += '<base href=\\\"' + self.documentBaseURI.getURI() + '\\\" />';\\n\\t\\t\\t}\\n\\n\\t\\t\\t// IE8 doesn't support carets behind images setting ie7_compat would force IE8+ to run in IE7 compat mode.\\n\\t\\t\\tif (!Env.caretAfter && settings.ie7_compat) {\\n\\t\\t\\t\\tself.iframeHTML += '<meta http-equiv=\\\"X-UA-Compatible\\\" content=\\\"IE=7\\\" />';\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.iframeHTML += '<meta http-equiv=\\\"Content-Type\\\" content=\\\"text/html; charset=UTF-8\\\" />';\\n\\n\\t\\t\\t// Load the CSS by injecting them into the HTML this will reduce \\\"flicker\\\"\\n\\t\\t\\t// However we can't do that on Chrome since # will scroll to the editor for some odd reason see #2427\\n\\t\\t\\tif (!/#$/.test(document.location.href)) {\\n\\t\\t\\t\\tfor (i = 0; i < self.contentCSS.length; i++) {\\n\\t\\t\\t\\t\\tvar cssUrl = self.contentCSS[i];\\n\\t\\t\\t\\t\\tself.iframeHTML += (\\n\\t\\t\\t\\t\\t\\t'<link type=\\\"text/css\\\" ' +\\n\\t\\t\\t\\t\\t\\t\\t'rel=\\\"stylesheet\\\" ' +\\n\\t\\t\\t\\t\\t\\t\\t'href=\\\"' + Tools._addCacheSuffix(cssUrl) + '\\\" />'\\n\\t\\t\\t\\t\\t);\\n\\t\\t\\t\\t\\tself.loadedCSS[cssUrl] = true;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tbodyId = settings.body_id || 'tinymce';\\n\\t\\t\\tif (bodyId.indexOf('=') != -1) {\\n\\t\\t\\t\\tbodyId = self.getParam('body_id', '', 'hash');\\n\\t\\t\\t\\tbodyId = bodyId[self.id] || bodyId;\\n\\t\\t\\t}\\n\\n\\t\\t\\tbodyClass = settings.body_class || '';\\n\\t\\t\\tif (bodyClass.indexOf('=') != -1) {\\n\\t\\t\\t\\tbodyClass = self.getParam('body_class', '', 'hash');\\n\\t\\t\\t\\tbodyClass = bodyClass[self.id] || '';\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (settings.content_security_policy) {\\n\\t\\t\\t\\tself.iframeHTML += '<meta http-equiv=\\\"Content-Security-Policy\\\" content=\\\"' + settings.content_security_policy + '\\\" />';\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.iframeHTML += '</head><body id=\\\"' + bodyId +\\n\\t\\t\\t\\t'\\\" class=\\\"mce-content-body ' + bodyClass +\\n\\t\\t\\t\\t'\\\" data-id=\\\"' + self.id + '\\\"><br></body></html>';\\n\\n\\t\\t\\t/*eslint no-script-url:0 */\\n\\t\\t\\tvar domainRelaxUrl = 'javascript:(function(){' +\\n\\t\\t\\t\\t'document.open();document.domain=\\\"' + document.domain + '\\\";' +\\n\\t\\t\\t\\t'var ed = window.parent.tinymce.get(\\\"' + self.id + '\\\");document.write(ed.iframeHTML);' +\\n\\t\\t\\t\\t'document.close();ed.initContentBody(true);})()';\\n\\n\\t\\t\\t// Domain relaxing is required since the user has messed around with document.domain\\n\\t\\t\\tif (document.domain != location.hostname) {\\n\\t\\t\\t\\t// Edge seems to be able to handle domain relaxing\\n\\t\\t\\t\\tif (Env.ie && Env.ie < 12) {\\n\\t\\t\\t\\t\\turl = domainRelaxUrl;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Create iframe\\n\\t\\t\\t// TODO: ACC add the appropriate description on this.\\n\\t\\t\\tvar ifr = DOM.create('iframe', {\\n\\t\\t\\t\\tid: self.id + \\\"_ifr\\\",\\n\\t\\t\\t\\t//src: url || 'javascript:\\\"\\\"', // Workaround for HTTPS warning in IE6/7\\n\\t\\t\\t\\tframeBorder: '0',\\n\\t\\t\\t\\tallowTransparency: \\\"true\\\",\\n\\t\\t\\t\\ttitle: self.editorManager.translate(\\n\\t\\t\\t\\t\\t\\t\\\"Rich Text Area. Press ALT-F9 for menu. \\\" +\\n\\t\\t\\t\\t\\t\\t\\\"Press ALT-F10 for toolbar. Press ALT-0 for help\\\"\\n\\t\\t\\t\\t),\\n\\t\\t\\t\\tstyle: {\\n\\t\\t\\t\\t\\twidth: '100%',\\n\\t\\t\\t\\t\\theight: h,\\n\\t\\t\\t\\t\\tdisplay: 'block' // Important for Gecko to render the iframe correctly\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\tifr.onload = function() {\\n\\t\\t\\t\\tifr.onload = null;\\n\\t\\t\\t\\tself.fire(\\\"load\\\");\\n\\t\\t\\t};\\n\\n\\t\\t\\tDOM.setAttrib(ifr, \\\"src\\\", url || 'javascript:\\\"\\\"');\\n\\n\\t\\t\\tself.contentAreaContainer = o.iframeContainer;\\n\\t\\t\\tself.iframeElement = ifr;\\n\\n\\t\\t\\tn = DOM.add(o.iframeContainer, ifr);\\n\\n\\t\\t\\t// Try accessing the document this will fail on IE when document.domain is set to the same as location.hostname\\n\\t\\t\\t// Then we have to force domain relaxing using the domainRelaxUrl approach very ugly!!\\n\\t\\t\\tif (ie) {\\n\\t\\t\\t\\ttry {\\n\\t\\t\\t\\t\\tself.getDoc();\\n\\t\\t\\t\\t} catch (e) {\\n\\t\\t\\t\\t\\tn.src = url = domainRelaxUrl;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (o.editorContainer) {\\n\\t\\t\\t\\tDOM.get(o.editorContainer).style.display = self.orgDisplay;\\n\\t\\t\\t\\tself.hidden = DOM.isHidden(o.editorContainer);\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.getElement().style.display = 'none';\\n\\t\\t\\tDOM.setAttrib(self.id, 'aria-hidden', true);\\n\\n\\t\\t\\tif (!url) {\\n\\t\\t\\t\\tself.initContentBody();\\n\\t\\t\\t}\\n\\n\\t\\t\\telm = n = o = null; // Cleanup\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * This method get called by the init method once the iframe is loaded.\\n\\t\\t * It will fill the iframe with contents, sets up DOM and selection objects for the iframe.\\n\\t\\t *\\n\\t\\t * @method initContentBody\\n\\t\\t * @private\\n\\t\\t */\\n\\t\\tinitContentBody: function(skipWrite) {\\n\\t\\t\\tvar self = this, settings = self.settings, targetElm = self.getElement(), doc = self.getDoc(), body, contentCssText;\\n\\n\\t\\t\\t// Restore visibility on target element\\n\\t\\t\\tif (!settings.inline) {\\n\\t\\t\\t\\tself.getElement().style.visibility = self.orgVisibility;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Setup iframe body\\n\\t\\t\\tif (!skipWrite && !settings.content_editable) {\\n\\t\\t\\t\\tdoc.open();\\n\\t\\t\\t\\tdoc.write(self.iframeHTML);\\n\\t\\t\\t\\tdoc.close();\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (settings.content_editable) {\\n\\t\\t\\t\\tself.on('remove', function() {\\n\\t\\t\\t\\t\\tvar bodyEl = this.getBody();\\n\\n\\t\\t\\t\\t\\tDOM.removeClass(bodyEl, 'mce-content-body');\\n\\t\\t\\t\\t\\tDOM.removeClass(bodyEl, 'mce-edit-focus');\\n\\t\\t\\t\\t\\tDOM.setAttrib(bodyEl, 'contentEditable', null);\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\tDOM.addClass(targetElm, 'mce-content-body');\\n\\t\\t\\t\\tself.contentDocument = doc = settings.content_document || document;\\n\\t\\t\\t\\tself.contentWindow = settings.content_window || window;\\n\\t\\t\\t\\tself.bodyElement = targetElm;\\n\\n\\t\\t\\t\\t// Prevent leak in IE\\n\\t\\t\\t\\tsettings.content_document = settings.content_window = null;\\n\\n\\t\\t\\t\\t// TODO: Fix this\\n\\t\\t\\t\\tsettings.root_name = targetElm.nodeName.toLowerCase();\\n\\t\\t\\t}\\n\\n\\t\\t\\t// It will not steal focus while setting contentEditable\\n\\t\\t\\tbody = self.getBody();\\n\\t\\t\\tbody.disabled = true;\\n\\t\\t\\tself.readonly = settings.readonly;\\n\\n\\t\\t\\tif (!self.readonly) {\\n\\t\\t\\t\\tif (self.inline && DOM.getStyle(body, 'position', true) == 'static') {\\n\\t\\t\\t\\t\\tbody.style.position = 'relative';\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tbody.contentEditable = self.getParam('content_editable_state', true);\\n\\t\\t\\t}\\n\\n\\t\\t\\tbody.disabled = false;\\n\\n\\t\\t\\tself.editorUpload = new EditorUpload(self);\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Schema instance, enables you to validate elements and its children.\\n\\t\\t\\t *\\n\\t\\t\\t * @property schema\\n\\t\\t\\t * @type tinymce.html.Schema\\n\\t\\t\\t */\\n\\t\\t\\tself.schema = new Schema(settings);\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * DOM instance for the editor.\\n\\t\\t\\t *\\n\\t\\t\\t * @property dom\\n\\t\\t\\t * @type tinymce.dom.DOMUtils\\n\\t\\t\\t * @example\\n\\t\\t\\t * // Adds a class to all paragraphs within the editor\\n\\t\\t\\t * tinymce.activeEditor.dom.addClass(tinymce.activeEditor.dom.select('p'), 'someclass');\\n\\t\\t\\t */\\n\\t\\t\\tself.dom = new DOMUtils(doc, {\\n\\t\\t\\t\\tkeep_values: true,\\n\\t\\t\\t\\turl_converter: self.convertURL,\\n\\t\\t\\t\\turl_converter_scope: self,\\n\\t\\t\\t\\thex_colors: settings.force_hex_style_colors,\\n\\t\\t\\t\\tclass_filter: settings.class_filter,\\n\\t\\t\\t\\tupdate_styles: true,\\n\\t\\t\\t\\troot_element: self.inline ? self.getBody() : null,\\n\\t\\t\\t\\tcollect: settings.content_editable,\\n\\t\\t\\t\\tschema: self.schema,\\n\\t\\t\\t\\tonSetAttrib: function(e) {\\n\\t\\t\\t\\t\\tself.fire('SetAttrib', e);\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * HTML parser will be used when contents is inserted into the editor.\\n\\t\\t\\t *\\n\\t\\t\\t * @property parser\\n\\t\\t\\t * @type tinymce.html.DomParser\\n\\t\\t\\t */\\n\\t\\t\\tself.parser = new DomParser(settings, self.schema);\\n\\n\\t\\t\\t// Convert src and href into data-mce-src, data-mce-href and data-mce-style\\n\\t\\t\\tself.parser.addAttributeFilter('src,href,style,tabindex', function(nodes, name) {\\n\\t\\t\\t\\tvar i = nodes.length, node, dom = self.dom, value, internalName;\\n\\n\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\tnode = nodes[i];\\n\\t\\t\\t\\t\\tvalue = node.attr(name);\\n\\t\\t\\t\\t\\tinternalName = 'data-mce-' + name;\\n\\n\\t\\t\\t\\t\\t// Add internal attribute if we need to we don't on a refresh of the document\\n\\t\\t\\t\\t\\tif (!node.attributes.map[internalName]) {\\n\\t\\t\\t\\t\\t\\t// Don't duplicate these since they won't get modified by any browser\\n\\t\\t\\t\\t\\t\\tif (value.indexOf('data:') === 0 || value.indexOf('blob:') === 0) {\\n\\t\\t\\t\\t\\t\\t\\tcontinue;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tif (name === \\\"style\\\") {\\n\\t\\t\\t\\t\\t\\t\\tvalue = dom.serializeStyle(dom.parseStyle(value), node.name);\\n\\n\\t\\t\\t\\t\\t\\t\\tif (!value.length) {\\n\\t\\t\\t\\t\\t\\t\\t\\tvalue = null;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tnode.attr(internalName, value);\\n\\t\\t\\t\\t\\t\\t\\tnode.attr(name, value);\\n\\t\\t\\t\\t\\t\\t} else if (name === \\\"tabindex\\\") {\\n\\t\\t\\t\\t\\t\\t\\tnode.attr(internalName, value);\\n\\t\\t\\t\\t\\t\\t\\tnode.attr(name, null);\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\tnode.attr(internalName, self.convertURL(value, name, node.name));\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\t// Keep scripts from executing\\n\\t\\t\\tself.parser.addNodeFilter('script', function(nodes) {\\n\\t\\t\\t\\tvar i = nodes.length, node, type;\\n\\n\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\tnode = nodes[i];\\n\\t\\t\\t\\t\\ttype = node.attr('type') || 'no/type';\\n\\t\\t\\t\\t\\tif (type.indexOf('mce-') !== 0) {\\n\\t\\t\\t\\t\\t\\tnode.attr('type', 'mce-' + type);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\tself.parser.addNodeFilter('#cdata', function(nodes) {\\n\\t\\t\\t\\tvar i = nodes.length, node;\\n\\n\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\tnode = nodes[i];\\n\\t\\t\\t\\t\\tnode.type = 8;\\n\\t\\t\\t\\t\\tnode.name = '#comment';\\n\\t\\t\\t\\t\\tnode.value = '[CDATA[' + node.value + ']]';\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\tself.parser.addNodeFilter('p,h1,h2,h3,h4,h5,h6,div', function(nodes) {\\n\\t\\t\\t\\tvar i = nodes.length, node, nonEmptyElements = self.schema.getNonEmptyElements();\\n\\n\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\tnode = nodes[i];\\n\\n\\t\\t\\t\\t\\tif (node.isEmpty(nonEmptyElements) && node.getAll('br').length === 0) {\\n\\t\\t\\t\\t\\t\\tnode.append(new Node('br', 1)).shortEnded = true;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * DOM serializer for the editor. Will be used when contents is extracted from the editor.\\n\\t\\t\\t *\\n\\t\\t\\t * @property serializer\\n\\t\\t\\t * @type tinymce.dom.Serializer\\n\\t\\t\\t * @example\\n\\t\\t\\t * // Serializes the first paragraph in the editor into a string\\n\\t\\t\\t * tinymce.activeEditor.serializer.serialize(tinymce.activeEditor.dom.select('p')[0]);\\n\\t\\t\\t */\\n\\t\\t\\tself.serializer = new DomSerializer(settings, self);\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Selection instance for the editor.\\n\\t\\t\\t *\\n\\t\\t\\t * @property selection\\n\\t\\t\\t * @type tinymce.dom.Selection\\n\\t\\t\\t * @example\\n\\t\\t\\t * // Sets some contents to the current selection in the editor\\n\\t\\t\\t * tinymce.activeEditor.selection.setContent('Some contents');\\n\\t\\t\\t *\\n\\t\\t\\t * // Gets the current selection\\n\\t\\t\\t * alert(tinymce.activeEditor.selection.getContent());\\n\\t\\t\\t *\\n\\t\\t\\t * // Selects the first paragraph found\\n\\t\\t\\t * tinymce.activeEditor.selection.select(tinymce.activeEditor.dom.select('p')[0]);\\n\\t\\t\\t */\\n\\t\\t\\tself.selection = new Selection(self.dom, self.getWin(), self.serializer, self);\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Formatter instance.\\n\\t\\t\\t *\\n\\t\\t\\t * @property formatter\\n\\t\\t\\t * @type tinymce.Formatter\\n\\t\\t\\t */\\n\\t\\t\\tself.formatter = new Formatter(self);\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Undo manager instance, responsible for handling undo levels.\\n\\t\\t\\t *\\n\\t\\t\\t * @property undoManager\\n\\t\\t\\t * @type tinymce.UndoManager\\n\\t\\t\\t * @example\\n\\t\\t\\t * // Undoes the last modification to the editor\\n\\t\\t\\t * tinymce.activeEditor.undoManager.undo();\\n\\t\\t\\t */\\n\\t\\t\\tself.undoManager = new UndoManager(self);\\n\\n\\t\\t\\tself.forceBlocks = new ForceBlocks(self);\\n\\t\\t\\tself.enterKey = new EnterKey(self);\\n\\t\\t\\tself._nodeChangeDispatcher = new NodeChange(self);\\n\\t\\t\\tself._selectionOverrides = new SelectionOverrides(self);\\n\\n\\t\\t\\tself.fire('PreInit');\\n\\n\\t\\t\\tif (!settings.browser_spellcheck && !settings.gecko_spellcheck) {\\n\\t\\t\\t\\tdoc.body.spellcheck = false; // Gecko\\n\\t\\t\\t\\tDOM.setAttrib(body, \\\"spellcheck\\\", \\\"false\\\");\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.quirks = new Quirks(self);\\n\\t\\t\\tself.fire('PostRender');\\n\\n\\t\\t\\tif (settings.directionality) {\\n\\t\\t\\t\\tbody.dir = settings.directionality;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (settings.nowrap) {\\n\\t\\t\\t\\tbody.style.whiteSpace = \\\"nowrap\\\";\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (settings.protect) {\\n\\t\\t\\t\\tself.on('BeforeSetContent', function(e) {\\n\\t\\t\\t\\t\\teach(settings.protect, function(pattern) {\\n\\t\\t\\t\\t\\t\\te.content = e.content.replace(pattern, function(str) {\\n\\t\\t\\t\\t\\t\\t\\treturn '<!--mce:protected ' + escape(str) + '-->';\\n\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.on('SetContent', function() {\\n\\t\\t\\t\\tself.addVisual(self.getBody());\\n\\t\\t\\t});\\n\\n\\t\\t\\t// Remove empty contents\\n\\t\\t\\tif (settings.padd_empty_editor) {\\n\\t\\t\\t\\tself.on('PostProcess', function(e) {\\n\\t\\t\\t\\t\\te.content = e.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\\\\s|\\\\u00a0|<br \\\\/>|)<\\\\/p>[\\\\r\\\\n]*|<br \\\\/>[\\\\r\\\\n]*)$/, '');\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.load({initial: true, format: 'html'});\\n\\t\\t\\tself.startContent = self.getContent({format: 'raw'});\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Is set to true after the editor instance has been initialized\\n\\t\\t\\t *\\n\\t\\t\\t * @property initialized\\n\\t\\t\\t * @type Boolean\\n\\t\\t\\t * @example\\n\\t\\t\\t * function isEditorInitialized(editor) {\\n\\t\\t\\t *     return editor && editor.initialized;\\n\\t\\t\\t * }\\n\\t\\t\\t */\\n\\t\\t\\tself.initialized = true;\\n\\t\\t\\tself.bindPendingEventDelegates();\\n\\n\\t\\t\\tself.fire('init');\\n\\t\\t\\tself.focus(true);\\n\\t\\t\\tself.nodeChanged({initial: true});\\n\\t\\t\\tself.execCallback('init_instance_callback', self);\\n\\n\\t\\t\\tself.on('compositionstart compositionend', function(e) {\\n\\t\\t\\t\\tself.composing = e.type === 'compositionstart';\\n\\t\\t\\t});\\n\\n\\t\\t\\t// Add editor specific CSS styles\\n\\t\\t\\tif (self.contentStyles.length > 0) {\\n\\t\\t\\t\\tcontentCssText = '';\\n\\n\\t\\t\\t\\teach(self.contentStyles, function(style) {\\n\\t\\t\\t\\t\\tcontentCssText += style + \\\"\\\\r\\\\n\\\";\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\tself.dom.addStyle(contentCssText);\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Load specified content CSS last\\n\\t\\t\\teach(self.contentCSS, function(cssUrl) {\\n\\t\\t\\t\\tif (!self.loadedCSS[cssUrl]) {\\n\\t\\t\\t\\t\\tself.dom.loadCSS(cssUrl);\\n\\t\\t\\t\\t\\tself.loadedCSS[cssUrl] = true;\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\t// Handle auto focus\\n\\t\\t\\tif (settings.auto_focus) {\\n\\t\\t\\t\\tDelay.setEditorTimeout(self, function() {\\n\\t\\t\\t\\t\\tvar editor;\\n\\n\\t\\t\\t\\t\\tif (settings.auto_focus === true) {\\n\\t\\t\\t\\t\\t\\teditor = self;\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\teditor = self.editorManager.get(settings.auto_focus);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (!editor.destroyed) {\\n\\t\\t\\t\\t\\t\\teditor.focus();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}, 100);\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Clean up references for IE\\n\\t\\t\\ttargetElm = doc = body = null;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Focuses/activates the editor. This will set this editor as the activeEditor in the tinymce collection\\n\\t\\t * it will also place DOM focus inside the editor.\\n\\t\\t *\\n\\t\\t * @method focus\\n\\t\\t * @param {Boolean} skipFocus Skip DOM focus. Just set is as the active editor.\\n\\t\\t */\\n\\t\\tfocus: function(skipFocus) {\\n\\t\\t\\tvar self = this, selection = self.selection, contentEditable = self.settings.content_editable, rng;\\n\\t\\t\\tvar controlElm, doc = self.getDoc(), body = self.getBody(), contentEditableHost;\\n\\n\\t\\t\\tfunction getContentEditableHost(node) {\\n\\t\\t\\t\\treturn self.dom.getParent(node, function(node) {\\n\\t\\t\\t\\t\\treturn self.dom.getContentEditable(node) === \\\"true\\\";\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!skipFocus) {\\n\\t\\t\\t\\t// Get selected control element\\n\\t\\t\\t\\trng = selection.getRng();\\n\\t\\t\\t\\tif (rng.item) {\\n\\t\\t\\t\\t\\tcontrolElm = rng.item(0);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tself.quirks.refreshContentEditable();\\n\\n\\t\\t\\t\\t// Move focus to contentEditable=true child if needed\\n\\t\\t\\t\\tcontentEditableHost = getContentEditableHost(selection.getNode());\\n\\t\\t\\t\\tif (self.$.contains(body, contentEditableHost)) {\\n\\t\\t\\t\\t\\tcontentEditableHost.focus();\\n\\t\\t\\t\\t\\tselection.normalize();\\n\\t\\t\\t\\t\\tself.editorManager.setActive(self);\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Focus the window iframe\\n\\t\\t\\t\\tif (!contentEditable) {\\n\\t\\t\\t\\t\\t// WebKit needs this call to fire focusin event properly see #5948\\n\\t\\t\\t\\t\\t// But Opera pre Blink engine will produce an empty selection so skip Opera\\n\\t\\t\\t\\t\\tif (!Env.opera) {\\n\\t\\t\\t\\t\\t\\tself.getBody().focus();\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tself.getWin().focus();\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Focus the body as well since it's contentEditable\\n\\t\\t\\t\\tif (isGecko || contentEditable) {\\n\\t\\t\\t\\t\\t// Check for setActive since it doesn't scroll to the element\\n\\t\\t\\t\\t\\tif (body.setActive) {\\n\\t\\t\\t\\t\\t\\t// IE 11 sometimes throws \\\"Invalid function\\\" then fallback to focus\\n\\t\\t\\t\\t\\t\\ttry {\\n\\t\\t\\t\\t\\t\\t\\tbody.setActive();\\n\\t\\t\\t\\t\\t\\t} catch (ex) {\\n\\t\\t\\t\\t\\t\\t\\tbody.focus();\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tbody.focus();\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (contentEditable) {\\n\\t\\t\\t\\t\\t\\tselection.normalize();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Restore selected control element\\n\\t\\t\\t\\t// This is needed when for example an image is selected within a\\n\\t\\t\\t\\t// layer a call to focus will then remove the control selection\\n\\t\\t\\t\\tif (controlElm && controlElm.ownerDocument == doc) {\\n\\t\\t\\t\\t\\trng = doc.body.createControlRange();\\n\\t\\t\\t\\t\\trng.addElement(controlElm);\\n\\t\\t\\t\\t\\trng.select();\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.editorManager.setActive(self);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Executes a legacy callback. This method is useful to call old 2.x option callbacks.\\n\\t\\t * There new event model is a better way to add callback so this method might be removed in the future.\\n\\t\\t *\\n\\t\\t * @method execCallback\\n\\t\\t * @param {String} name Name of the callback to execute.\\n\\t\\t * @return {Object} Return value passed from callback function.\\n\\t\\t */\\n\\t\\texecCallback: function(name) {\\n\\t\\t\\tvar self = this, callback = self.settings[name], scope;\\n\\n\\t\\t\\tif (!callback) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Look through lookup\\n\\t\\t\\tif (self.callbackLookup && (scope = self.callbackLookup[name])) {\\n\\t\\t\\t\\tcallback = scope.func;\\n\\t\\t\\t\\tscope = scope.scope;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (typeof callback === 'string') {\\n\\t\\t\\t\\tscope = callback.replace(/\\\\.\\\\w+$/, '');\\n\\t\\t\\t\\tscope = scope ? resolve(scope) : 0;\\n\\t\\t\\t\\tcallback = resolve(callback);\\n\\t\\t\\t\\tself.callbackLookup = self.callbackLookup || {};\\n\\t\\t\\t\\tself.callbackLookup[name] = {func: callback, scope: scope};\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn callback.apply(scope || self, Array.prototype.slice.call(arguments, 1));\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Translates the specified string by replacing variables with language pack items it will also check if there is\\n\\t\\t * a key matching the input.\\n\\t\\t *\\n\\t\\t * @method translate\\n\\t\\t * @param {String} text String to translate by the language pack data.\\n\\t\\t * @return {String} Translated string.\\n\\t\\t */\\n\\t\\ttranslate: function(text) {\\n\\t\\t\\tvar lang = this.settings.language || 'en', i18n = this.editorManager.i18n;\\n\\n\\t\\t\\tif (!text) {\\n\\t\\t\\t\\treturn '';\\n\\t\\t\\t}\\n\\n\\t\\t\\ttext = i18n.data[lang + '.' + text] || text.replace(/\\\\{\\\\#([^\\\\}]+)\\\\}/g, function(a, b) {\\n\\t\\t\\t\\treturn i18n.data[lang + '.' + b] || '{#' + b + '}';\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn this.editorManager.translate(text);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns a language pack item by name/key.\\n\\t\\t *\\n\\t\\t * @method getLang\\n\\t\\t * @param {String} name Name/key to get from the language pack.\\n\\t\\t * @param {String} defaultVal Optional default value to retrieve.\\n\\t\\t */\\n\\t\\tgetLang: function(name, defaultVal) {\\n\\t\\t\\treturn (\\n\\t\\t\\t\\tthis.editorManager.i18n.data[(this.settings.language || 'en') + '.' + name] ||\\n\\t\\t\\t\\t(defaultVal !== undefined ? defaultVal : '{#' + name + '}')\\n\\t\\t\\t);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns a configuration parameter by name.\\n\\t\\t *\\n\\t\\t * @method getParam\\n\\t\\t * @param {String} name Configruation parameter to retrieve.\\n\\t\\t * @param {String} defaultVal Optional default value to return.\\n\\t\\t * @param {String} type Optional type parameter.\\n\\t\\t * @return {String} Configuration parameter value or default value.\\n\\t\\t * @example\\n\\t\\t * // Returns a specific config value from the currently active editor\\n\\t\\t * var someval = tinymce.activeEditor.getParam('myvalue');\\n\\t\\t *\\n\\t\\t * // Returns a specific config value from a specific editor instance by id\\n\\t\\t * var someval2 = tinymce.get('my_editor').getParam('myvalue');\\n\\t\\t */\\n\\t\\tgetParam: function(name, defaultVal, type) {\\n\\t\\t\\tvar value = name in this.settings ? this.settings[name] : defaultVal, output;\\n\\n\\t\\t\\tif (type === 'hash') {\\n\\t\\t\\t\\toutput = {};\\n\\n\\t\\t\\t\\tif (typeof value === 'string') {\\n\\t\\t\\t\\t\\teach(value.indexOf('=') > 0 ? value.split(/[;,](?![^=;,]*(?:[;,]|$))/) : value.split(','), function(value) {\\n\\t\\t\\t\\t\\t\\tvalue = value.split('=');\\n\\n\\t\\t\\t\\t\\t\\tif (value.length > 1) {\\n\\t\\t\\t\\t\\t\\t\\toutput[trim(value[0])] = trim(value[1]);\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\toutput[trim(value[0])] = trim(value);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\toutput = value;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn output;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn value;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Dispatches out a onNodeChange event to all observers. This method should be called when you\\n\\t\\t * need to update the UI states or element path etc.\\n\\t\\t *\\n\\t\\t * @method nodeChanged\\n\\t\\t * @param {Object} args Optional args to pass to NodeChange event handlers.\\n\\t\\t */\\n\\t\\tnodeChanged: function(args) {\\n\\t\\t\\tthis._nodeChangeDispatcher.nodeChanged(args);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Adds a button that later gets created by the theme in the editors toolbars.\\n\\t\\t *\\n\\t\\t * @method addButton\\n\\t\\t * @param {String} name Button name to add.\\n\\t\\t * @param {Object} settings Settings object with title, cmd etc.\\n\\t\\t * @example\\n\\t\\t * // Adds a custom button to the editor that inserts contents when clicked\\n\\t\\t * tinymce.init({\\n\\t\\t *    ...\\n\\t\\t *\\n\\t\\t *    toolbar: 'example'\\n\\t\\t *\\n\\t\\t *    setup: function(ed) {\\n\\t\\t *       ed.addButton('example', {\\n\\t\\t *          title: 'My title',\\n\\t\\t *          image: '../js/tinymce/plugins/example/img/example.gif',\\n\\t\\t *          onclick: function() {\\n\\t\\t *             ed.insertContent('Hello world!!');\\n\\t\\t *          }\\n\\t\\t *       });\\n\\t\\t *    }\\n\\t\\t * });\\n\\t\\t */\\n\\t\\taddButton: function(name, settings) {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tif (settings.cmd) {\\n\\t\\t\\t\\tsettings.onclick = function() {\\n\\t\\t\\t\\t\\tself.execCommand(settings.cmd);\\n\\t\\t\\t\\t};\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!settings.text && !settings.icon) {\\n\\t\\t\\t\\tsettings.icon = name;\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.buttons = self.buttons || {};\\n\\t\\t\\tsettings.tooltip = settings.tooltip || settings.title;\\n\\t\\t\\tself.buttons[name] = settings;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Adds a sidebar for the editor instance.\\n\\t\\t *\\n\\t\\t * @method addSidebar\\n\\t\\t * @param {String} name Sidebar name to add.\\n\\t\\t * @param {Object} settings Settings object with icon, onshow etc.\\n\\t\\t * @example\\n\\t\\t * // Adds a custom sidebar that when clicked logs the panel element\\n\\t\\t * tinymce.init({\\n\\t\\t *    ...\\n\\t\\t *    setup: function(ed) {\\n\\t\\t *       ed.addSidebar('example', {\\n\\t\\t *          tooltip: 'My sidebar',\\n\\t\\t *          icon: 'my-side-bar',\\n\\t\\t *          onshow: function(api) {\\n\\t\\t *             console.log(api.element());\\n\\t\\t *          }\\n\\t\\t *       });\\n\\t\\t *    }\\n\\t\\t * });\\n\\t\\t */\\n\\t\\taddSidebar: function (name, settings) {\\n\\t\\t\\treturn Sidebar.add(this, name, settings);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Adds a menu item to be used in the menus of the theme. There might be multiple instances\\n\\t\\t * of this menu item for example it might be used in the main menus of the theme but also in\\n\\t\\t * the context menu so make sure that it's self contained and supports multiple instances.\\n\\t\\t *\\n\\t\\t * @method addMenuItem\\n\\t\\t * @param {String} name Menu item name to add.\\n\\t\\t * @param {Object} settings Settings object with title, cmd etc.\\n\\t\\t * @example\\n\\t\\t * // Adds a custom menu item to the editor that inserts contents when clicked\\n\\t\\t * // The context option allows you to add the menu item to an existing default menu\\n\\t\\t * tinymce.init({\\n\\t\\t *    ...\\n\\t\\t *\\n\\t\\t *    setup: function(ed) {\\n\\t\\t *       ed.addMenuItem('example', {\\n\\t\\t *          text: 'My menu item',\\n\\t\\t *          context: 'tools',\\n\\t\\t *          onclick: function() {\\n\\t\\t *             ed.insertContent('Hello world!!');\\n\\t\\t *          }\\n\\t\\t *       });\\n\\t\\t *    }\\n\\t\\t * });\\n\\t\\t */\\n\\t\\taddMenuItem: function(name, settings) {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tif (settings.cmd) {\\n\\t\\t\\t\\tsettings.onclick = function() {\\n\\t\\t\\t\\t\\tself.execCommand(settings.cmd);\\n\\t\\t\\t\\t};\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.menuItems = self.menuItems || {};\\n\\t\\t\\tself.menuItems[name] = settings;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Adds a contextual toolbar to be rendered when the selector matches.\\n\\t\\t *\\n\\t\\t * @method addContextToolbar\\n\\t\\t * @param {function/string} predicate Predicate that needs to return true if provided strings get converted into CSS predicates.\\n\\t\\t * @param {String/Array} items String or array with items to add to the context toolbar.\\n\\t\\t */\\n\\t\\taddContextToolbar: function(predicate, items) {\\n\\t\\t\\tvar self = this, selector;\\n\\n\\t\\t\\tself.contextToolbars = self.contextToolbars || [];\\n\\n\\t\\t\\t// Convert selector to predicate\\n\\t\\t\\tif (typeof predicate == \\\"string\\\") {\\n\\t\\t\\t\\tselector = predicate;\\n\\t\\t\\t\\tpredicate = function(elm) {\\n\\t\\t\\t\\t\\treturn self.dom.is(elm, selector);\\n\\t\\t\\t\\t};\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.contextToolbars.push({\\n\\t\\t\\t\\tid: Uuid.uuid('mcet'),\\n\\t\\t\\t\\tpredicate: predicate,\\n\\t\\t\\t\\titems: items\\n\\t\\t\\t});\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Adds a custom command to the editor, you can also override existing commands with this method.\\n\\t\\t * The command that you add can be executed with execCommand.\\n\\t\\t *\\n\\t\\t * @method addCommand\\n\\t\\t * @param {String} name Command name to add/override.\\n\\t\\t * @param {addCommandCallback} callback Function to execute when the command occurs.\\n\\t\\t * @param {Object} scope Optional scope to execute the function in.\\n\\t\\t * @example\\n\\t\\t * // Adds a custom command that later can be executed using execCommand\\n\\t\\t * tinymce.init({\\n\\t\\t *    ...\\n\\t\\t *\\n\\t\\t *    setup: function(ed) {\\n\\t\\t *       // Register example command\\n\\t\\t *       ed.addCommand('mycommand', function(ui, v) {\\n\\t\\t *          ed.windowManager.alert('Hello world!! Selection: ' + ed.selection.getContent({format: 'text'}));\\n\\t\\t *       });\\n\\t\\t *    }\\n\\t\\t * });\\n\\t\\t */\\n\\t\\taddCommand: function(name, callback, scope) {\\n\\t\\t\\t/**\\n\\t\\t\\t * Callback function that gets called when a command is executed.\\n\\t\\t\\t *\\n\\t\\t\\t * @callback addCommandCallback\\n\\t\\t\\t * @param {Boolean} ui Display UI state true/false.\\n\\t\\t\\t * @param {Object} value Optional value for command.\\n\\t\\t\\t * @return {Boolean} True/false state if the command was handled or not.\\n\\t\\t\\t */\\n\\t\\t\\tthis.editorCommands.addCommand(name, callback, scope);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Adds a custom query state command to the editor, you can also override existing commands with this method.\\n\\t\\t * The command that you add can be executed with queryCommandState function.\\n\\t\\t *\\n\\t\\t * @method addQueryStateHandler\\n\\t\\t * @param {String} name Command name to add/override.\\n\\t\\t * @param {addQueryStateHandlerCallback} callback Function to execute when the command state retrieval occurs.\\n\\t\\t * @param {Object} scope Optional scope to execute the function in.\\n\\t\\t */\\n\\t\\taddQueryStateHandler: function(name, callback, scope) {\\n\\t\\t\\t/**\\n\\t\\t\\t * Callback function that gets called when a queryCommandState is executed.\\n\\t\\t\\t *\\n\\t\\t\\t * @callback addQueryStateHandlerCallback\\n\\t\\t\\t * @return {Boolean} True/false state if the command is enabled or not like is it bold.\\n\\t\\t\\t */\\n\\t\\t\\tthis.editorCommands.addQueryStateHandler(name, callback, scope);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Adds a custom query value command to the editor, you can also override existing commands with this method.\\n\\t\\t * The command that you add can be executed with queryCommandValue function.\\n\\t\\t *\\n\\t\\t * @method addQueryValueHandler\\n\\t\\t * @param {String} name Command name to add/override.\\n\\t\\t * @param {addQueryValueHandlerCallback} callback Function to execute when the command value retrieval occurs.\\n\\t\\t * @param {Object} scope Optional scope to execute the function in.\\n\\t\\t */\\n\\t\\taddQueryValueHandler: function(name, callback, scope) {\\n\\t\\t\\t/**\\n\\t\\t\\t * Callback function that gets called when a queryCommandValue is executed.\\n\\t\\t\\t *\\n\\t\\t\\t * @callback addQueryValueHandlerCallback\\n\\t\\t\\t * @return {Object} Value of the command or undefined.\\n\\t\\t\\t */\\n\\t\\t\\tthis.editorCommands.addQueryValueHandler(name, callback, scope);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Adds a keyboard shortcut for some command or function.\\n\\t\\t *\\n\\t\\t * @method addShortcut\\n\\t\\t * @param {String} pattern Shortcut pattern. Like for example: ctrl+alt+o.\\n\\t\\t * @param {String} desc Text description for the command.\\n\\t\\t * @param {String/Function} cmdFunc Command name string or function to execute when the key is pressed.\\n\\t\\t * @param {Object} sc Optional scope to execute the function in.\\n\\t\\t * @return {Boolean} true/false state if the shortcut was added or not.\\n\\t\\t */\\n\\t\\taddShortcut: function(pattern, desc, cmdFunc, scope) {\\n\\t\\t\\tthis.shortcuts.add(pattern, desc, cmdFunc, scope);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Executes a command on the current instance. These commands can be TinyMCE internal commands prefixed with \\\"mce\\\" or\\n\\t\\t * they can be build in browser commands such as \\\"Bold\\\". A compleate list of browser commands is available on MSDN or Mozilla.org.\\n\\t\\t * This function will dispatch the execCommand function on each plugin, theme or the execcommand_callback option if none of these\\n\\t\\t * return true it will handle the command as a internal browser command.\\n\\t\\t *\\n\\t\\t * @method execCommand\\n\\t\\t * @param {String} cmd Command name to execute, for example mceLink or Bold.\\n\\t\\t * @param {Boolean} ui True/false state if a UI (dialog) should be presented or not.\\n\\t\\t * @param {mixed} value Optional command value, this can be anything.\\n\\t\\t * @param {Object} args Optional arguments object.\\n\\t\\t */\\n\\t\\texecCommand: function(cmd, ui, value, args) {\\n\\t\\t\\treturn this.editorCommands.execCommand(cmd, ui, value, args);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns a command specific state, for example if bold is enabled or not.\\n\\t\\t *\\n\\t\\t * @method queryCommandState\\n\\t\\t * @param {string} cmd Command to query state from.\\n\\t\\t * @return {Boolean} Command specific state, for example if bold is enabled or not.\\n\\t\\t */\\n\\t\\tqueryCommandState: function(cmd) {\\n\\t\\t\\treturn this.editorCommands.queryCommandState(cmd);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns a command specific value, for example the current font size.\\n\\t\\t *\\n\\t\\t * @method queryCommandValue\\n\\t\\t * @param {string} cmd Command to query value from.\\n\\t\\t * @return {Object} Command specific value, for example the current font size.\\n\\t\\t */\\n\\t\\tqueryCommandValue: function(cmd) {\\n\\t\\t\\treturn this.editorCommands.queryCommandValue(cmd);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns true/false if the command is supported or not.\\n\\t\\t *\\n\\t\\t * @method queryCommandSupported\\n\\t\\t * @param {String} cmd Command that we check support for.\\n\\t\\t * @return {Boolean} true/false if the command is supported or not.\\n\\t\\t */\\n\\t\\tqueryCommandSupported: function(cmd) {\\n\\t\\t\\treturn this.editorCommands.queryCommandSupported(cmd);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Shows the editor and hides any textarea/div that the editor is supposed to replace.\\n\\t\\t *\\n\\t\\t * @method show\\n\\t\\t */\\n\\t\\tshow: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tif (self.hidden) {\\n\\t\\t\\t\\tself.hidden = false;\\n\\n\\t\\t\\t\\tif (self.inline) {\\n\\t\\t\\t\\t\\tself.getBody().contentEditable = true;\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tDOM.show(self.getContainer());\\n\\t\\t\\t\\t\\tDOM.hide(self.id);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tself.load();\\n\\t\\t\\t\\tself.fire('show');\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Hides the editor and shows any textarea/div that the editor is supposed to replace.\\n\\t\\t *\\n\\t\\t * @method hide\\n\\t\\t */\\n\\t\\thide: function() {\\n\\t\\t\\tvar self = this, doc = self.getDoc();\\n\\n\\t\\t\\tif (!self.hidden) {\\n\\t\\t\\t\\t// Fixed bug where IE has a blinking cursor left from the editor\\n\\t\\t\\t\\tif (ie && doc && !self.inline) {\\n\\t\\t\\t\\t\\tdoc.execCommand('SelectAll');\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// We must save before we hide so Safari doesn't crash\\n\\t\\t\\t\\tself.save();\\n\\n\\t\\t\\t\\tif (self.inline) {\\n\\t\\t\\t\\t\\tself.getBody().contentEditable = false;\\n\\n\\t\\t\\t\\t\\t// Make sure the editor gets blurred\\n\\t\\t\\t\\t\\tif (self == self.editorManager.focusedEditor) {\\n\\t\\t\\t\\t\\t\\tself.editorManager.focusedEditor = null;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tDOM.hide(self.getContainer());\\n\\t\\t\\t\\t\\tDOM.setStyle(self.id, 'display', self.orgDisplay);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tself.hidden = true;\\n\\t\\t\\t\\tself.fire('hide');\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns true/false if the editor is hidden or not.\\n\\t\\t *\\n\\t\\t * @method isHidden\\n\\t\\t * @return {Boolean} True/false if the editor is hidden or not.\\n\\t\\t */\\n\\t\\tisHidden: function() {\\n\\t\\t\\treturn !!this.hidden;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Sets the progress state, this will display a throbber/progess for the editor.\\n\\t\\t * This is ideal for asynchronous operations like an AJAX save call.\\n\\t\\t *\\n\\t\\t * @method setProgressState\\n\\t\\t * @param {Boolean} state Boolean state if the progress should be shown or hidden.\\n\\t\\t * @param {Number} time Optional time to wait before the progress gets shown.\\n\\t\\t * @return {Boolean} Same as the input state.\\n\\t\\t * @example\\n\\t\\t * // Show progress for the active editor\\n\\t\\t * tinymce.activeEditor.setProgressState(true);\\n\\t\\t *\\n\\t\\t * // Hide progress for the active editor\\n\\t\\t * tinymce.activeEditor.setProgressState(false);\\n\\t\\t *\\n\\t\\t * // Show progress after 3 seconds\\n\\t\\t * tinymce.activeEditor.setProgressState(true, 3000);\\n\\t\\t */\\n\\t\\tsetProgressState: function(state, time) {\\n\\t\\t\\tthis.fire('ProgressState', {state: state, time: time});\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Loads contents from the textarea or div element that got converted into an editor instance.\\n\\t\\t * This method will move the contents from that textarea or div into the editor by using setContent\\n\\t\\t * so all events etc that method has will get dispatched as well.\\n\\t\\t *\\n\\t\\t * @method load\\n\\t\\t * @param {Object} args Optional content object, this gets passed around through the whole load process.\\n\\t\\t * @return {String} HTML string that got set into the editor.\\n\\t\\t */\\n\\t\\tload: function(args) {\\n\\t\\t\\tvar self = this, elm = self.getElement(), html;\\n\\n\\t\\t\\tif (elm) {\\n\\t\\t\\t\\targs = args || {};\\n\\t\\t\\t\\targs.load = true;\\n\\n\\t\\t\\t\\thtml = self.setContent(elm.value !== undefined ? elm.value : elm.innerHTML, args);\\n\\t\\t\\t\\targs.element = elm;\\n\\n\\t\\t\\t\\tif (!args.no_events) {\\n\\t\\t\\t\\t\\tself.fire('LoadContent', args);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\targs.element = elm = null;\\n\\n\\t\\t\\t\\treturn html;\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Saves the contents from a editor out to the textarea or div element that got converted into an editor instance.\\n\\t\\t * This method will move the HTML contents from the editor into that textarea or div by getContent\\n\\t\\t * so all events etc that method has will get dispatched as well.\\n\\t\\t *\\n\\t\\t * @method save\\n\\t\\t * @param {Object} args Optional content object, this gets passed around through the whole save process.\\n\\t\\t * @return {String} HTML string that got set into the textarea/div.\\n\\t\\t */\\n\\t\\tsave: function(args) {\\n\\t\\t\\tvar self = this, elm = self.getElement(), html, form;\\n\\n\\t\\t\\tif (!elm || !self.initialized) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\targs = args || {};\\n\\t\\t\\targs.save = true;\\n\\n\\t\\t\\targs.element = elm;\\n\\t\\t\\thtml = args.content = self.getContent(args);\\n\\n\\t\\t\\tif (!args.no_events) {\\n\\t\\t\\t\\tself.fire('SaveContent', args);\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Always run this internal event\\n\\t\\t\\tif (args.format == 'raw') {\\n\\t\\t\\t\\tself.fire('RawSaveContent', args);\\n\\t\\t\\t}\\n\\n\\t\\t\\thtml = args.content;\\n\\n\\t\\t\\tif (!/TEXTAREA|INPUT/i.test(elm.nodeName)) {\\n\\t\\t\\t\\t// Update DIV element when not in inline mode\\n\\t\\t\\t\\tif (!self.inline) {\\n\\t\\t\\t\\t\\telm.innerHTML = html;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Update hidden form element\\n\\t\\t\\t\\tif ((form = DOM.getParent(self.id, 'form'))) {\\n\\t\\t\\t\\t\\teach(form.elements, function(elm) {\\n\\t\\t\\t\\t\\t\\tif (elm.name == self.id) {\\n\\t\\t\\t\\t\\t\\t\\telm.value = html;\\n\\t\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t}\\n\\t\\t\\t} else {\\n\\t\\t\\t\\telm.value = html;\\n\\t\\t\\t}\\n\\n\\t\\t\\targs.element = elm = null;\\n\\n\\t\\t\\tif (args.set_dirty !== false) {\\n\\t\\t\\t\\tself.setDirty(false);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn html;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Sets the specified content to the editor instance, this will cleanup the content before it gets set using\\n\\t\\t * the different cleanup rules options.\\n\\t\\t *\\n\\t\\t * @method setContent\\n\\t\\t * @param {String} content Content to set to editor, normally HTML contents but can be other formats as well.\\n\\t\\t * @param {Object} args Optional content object, this gets passed around through the whole set process.\\n\\t\\t * @return {String} HTML string that got set into the editor.\\n\\t\\t * @example\\n\\t\\t * // Sets the HTML contents of the activeEditor editor\\n\\t\\t * tinymce.activeEditor.setContent('<span>some</span> html');\\n\\t\\t *\\n\\t\\t * // Sets the raw contents of the activeEditor editor\\n\\t\\t * tinymce.activeEditor.setContent('<span>some</span> html', {format: 'raw'});\\n\\t\\t *\\n\\t\\t * // Sets the content of a specific editor (my_editor in this example)\\n\\t\\t * tinymce.get('my_editor').setContent(data);\\n\\t\\t *\\n\\t\\t * // Sets the bbcode contents of the activeEditor editor if the bbcode plugin was added\\n\\t\\t * tinymce.activeEditor.setContent('[b]some[/b] html', {format: 'bbcode'});\\n\\t\\t */\\n\\t\\tsetContent: function(content, args) {\\n\\t\\t\\tvar self = this, body = self.getBody(), forcedRootBlockName, padd;\\n\\n\\t\\t\\t// Setup args object\\n\\t\\t\\targs = args || {};\\n\\t\\t\\targs.format = args.format || 'html';\\n\\t\\t\\targs.set = true;\\n\\t\\t\\targs.content = content;\\n\\n\\t\\t\\t// Do preprocessing\\n\\t\\t\\tif (!args.no_events) {\\n\\t\\t\\t\\tself.fire('BeforeSetContent', args);\\n\\t\\t\\t}\\n\\n\\t\\t\\tcontent = args.content;\\n\\n\\t\\t\\t// Padd empty content in Gecko and Safari. Commands will otherwise fail on the content\\n\\t\\t\\t// It will also be impossible to place the caret in the editor unless there is a BR element present\\n\\t\\t\\tif (content.length === 0 || /^\\\\s+$/.test(content)) {\\n\\t\\t\\t\\tpadd = ie && ie < 11 ? '' : '<br data-mce-bogus=\\\"1\\\">';\\n\\n\\t\\t\\t\\t// Todo: There is a lot more root elements that need special padding\\n\\t\\t\\t\\t// so separate this and add all of them at some point.\\n\\t\\t\\t\\tif (body.nodeName == 'TABLE') {\\n\\t\\t\\t\\t\\tcontent = '<tr><td>' + padd + '</td></tr>';\\n\\t\\t\\t\\t} else if (/^(UL|OL)$/.test(body.nodeName)) {\\n\\t\\t\\t\\t\\tcontent = '<li>' + padd + '</li>';\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tforcedRootBlockName = self.settings.forced_root_block;\\n\\n\\t\\t\\t\\t// Check if forcedRootBlock is configured and that the block is a valid child of the body\\n\\t\\t\\t\\tif (forcedRootBlockName && self.schema.isValidChild(body.nodeName.toLowerCase(), forcedRootBlockName.toLowerCase())) {\\n\\t\\t\\t\\t\\t// Padd with bogus BR elements on modern browsers and IE 7 and 8 since they don't render empty P tags properly\\n\\t\\t\\t\\t\\tcontent = padd;\\n\\t\\t\\t\\t\\tcontent = self.dom.createHTML(forcedRootBlockName, self.settings.forced_root_block_attrs, content);\\n\\t\\t\\t\\t} else if (!ie && !content) {\\n\\t\\t\\t\\t\\t// We need to add a BR when forced_root_block is disabled on non IE browsers to place the caret\\n\\t\\t\\t\\t\\tcontent = '<br data-mce-bogus=\\\"1\\\">';\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tself.dom.setHTML(body, content);\\n\\n\\t\\t\\t\\tself.fire('SetContent', args);\\n\\t\\t\\t} else {\\n\\t\\t\\t\\t// Parse and serialize the html\\n\\t\\t\\t\\tif (args.format !== 'raw') {\\n\\t\\t\\t\\t\\tcontent = new Serializer({\\n\\t\\t\\t\\t\\t\\tvalidate: self.validate\\n\\t\\t\\t\\t\\t}, self.schema).serialize(\\n\\t\\t\\t\\t\\t\\tself.parser.parse(content, {isRootContent: true})\\n\\t\\t\\t\\t\\t);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Set the new cleaned contents to the editor\\n\\t\\t\\t\\targs.content = trim(content);\\n\\t\\t\\t\\tself.dom.setHTML(body, args.content);\\n\\n\\t\\t\\t\\t// Do post processing\\n\\t\\t\\t\\tif (!args.no_events) {\\n\\t\\t\\t\\t\\tself.fire('SetContent', args);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Don't normalize selection if the focused element isn't the body in\\n\\t\\t\\t\\t// content editable mode since it will steal focus otherwise\\n\\t\\t\\t\\t/*if (!self.settings.content_editable || document.activeElement === self.getBody()) {\\n\\t\\t\\t\\t\\tself.selection.normalize();\\n\\t\\t\\t\\t}*/\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn args.content;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Gets the content from the editor instance, this will cleanup the content before it gets returned using\\n\\t\\t * the different cleanup rules options.\\n\\t\\t *\\n\\t\\t * @method getContent\\n\\t\\t * @param {Object} args Optional content object, this gets passed around through the whole get process.\\n\\t\\t * @return {String} Cleaned content string, normally HTML contents.\\n\\t\\t * @example\\n\\t\\t * // Get the HTML contents of the currently active editor\\n\\t\\t * console.debug(tinymce.activeEditor.getContent());\\n\\t\\t *\\n\\t\\t * // Get the raw contents of the currently active editor\\n\\t\\t * tinymce.activeEditor.getContent({format: 'raw'});\\n\\t\\t *\\n\\t\\t * // Get content of a specific editor:\\n\\t\\t * tinymce.get('content id').getContent()\\n\\t\\t */\\n\\t\\tgetContent: function(args) {\\n\\t\\t\\tvar self = this, content, body = self.getBody();\\n\\n\\t\\t\\t// Setup args object\\n\\t\\t\\targs = args || {};\\n\\t\\t\\targs.format = args.format || 'html';\\n\\t\\t\\targs.get = true;\\n\\t\\t\\targs.getInner = true;\\n\\n\\t\\t\\t// Do preprocessing\\n\\t\\t\\tif (!args.no_events) {\\n\\t\\t\\t\\tself.fire('BeforeGetContent', args);\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Get raw contents or by default the cleaned contents\\n\\t\\t\\tif (args.format == 'raw') {\\n\\t\\t\\t\\tcontent = Tools.trim(self.serializer.getTrimmedContent());\\n\\t\\t\\t} else if (args.format == 'text') {\\n\\t\\t\\t\\tcontent = body.innerText || body.textContent;\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tcontent = self.serializer.serialize(body, args);\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Trim whitespace in beginning/end of HTML\\n\\t\\t\\tif (args.format != 'text') {\\n\\t\\t\\t\\targs.content = trim(content);\\n\\t\\t\\t} else {\\n\\t\\t\\t\\targs.content = content;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Do post processing\\n\\t\\t\\tif (!args.no_events) {\\n\\t\\t\\t\\tself.fire('GetContent', args);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn args.content;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Inserts content at caret position.\\n\\t\\t *\\n\\t\\t * @method insertContent\\n\\t\\t * @param {String} content Content to insert.\\n\\t\\t * @param {Object} args Optional args to pass to insert call.\\n\\t\\t */\\n\\t\\tinsertContent: function(content, args) {\\n\\t\\t\\tif (args) {\\n\\t\\t\\t\\tcontent = extend({content: content}, args);\\n\\t\\t\\t}\\n\\n\\t\\t\\tthis.execCommand('mceInsertContent', false, content);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns true/false if the editor is dirty or not. It will get dirty if the user has made modifications to the contents.\\n\\t\\t *\\n\\t\\t * The dirty state is automatically set to true if you do modifications to the content in other\\n\\t\\t * words when new undo levels is created or if you undo/redo to update the contents of the editor. It will also be set\\n\\t\\t * to false if you call editor.save().\\n\\t\\t *\\n\\t\\t * @method isDirty\\n\\t\\t * @return {Boolean} True/false if the editor is dirty or not. It will get dirty if the user has made modifications to the contents.\\n\\t\\t * @example\\n\\t\\t * if (tinymce.activeEditor.isDirty())\\n\\t\\t *     alert(\\\"You must save your contents.\\\");\\n\\t\\t */\\n\\t\\tisDirty: function() {\\n\\t\\t\\treturn !this.isNotDirty;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Explicitly sets the dirty state. This will fire the dirty event if the editor dirty state is changed from false to true\\n\\t\\t * by invoking this method.\\n\\t\\t *\\n\\t\\t * @method setDirty\\n\\t\\t * @param {Boolean} state True/false if the editor is considered dirty.\\n\\t\\t * @example\\n\\t\\t * function ajaxSave() {\\n\\t\\t *     var editor = tinymce.get('elm1');\\n\\t\\t *\\n\\t\\t *     // Save contents using some XHR call\\n\\t\\t *     alert(editor.getContent());\\n\\t\\t *\\n\\t\\t *     editor.setDirty(false); // Force not dirty state\\n\\t\\t * }\\n\\t\\t */\\n\\t\\tsetDirty: function(state) {\\n\\t\\t\\tvar oldState = !this.isNotDirty;\\n\\n\\t\\t\\tthis.isNotDirty = !state;\\n\\n\\t\\t\\tif (state && state != oldState) {\\n\\t\\t\\t\\tthis.fire('dirty');\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Sets the editor mode. Mode can be for example \\\"design\\\", \\\"code\\\" or \\\"readonly\\\".\\n\\t\\t *\\n\\t\\t * @method setMode\\n\\t\\t * @param {String} mode Mode to set the editor in.\\n\\t\\t */\\n\\t\\tsetMode: function(mode) {\\n\\t\\t\\tMode.setMode(this, mode);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns the editors container element. The container element wrappes in\\n\\t\\t * all the elements added to the page for the editor. Such as UI, iframe etc.\\n\\t\\t *\\n\\t\\t * @method getContainer\\n\\t\\t * @return {Element} HTML DOM element for the editor container.\\n\\t\\t */\\n\\t\\tgetContainer: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tif (!self.container) {\\n\\t\\t\\t\\tself.container = DOM.get(self.editorContainer || self.id + '_parent');\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn self.container;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns the editors content area container element. The this element is the one who\\n\\t\\t * holds the iframe or the editable element.\\n\\t\\t *\\n\\t\\t * @method getContentAreaContainer\\n\\t\\t * @return {Element} HTML DOM element for the editor area container.\\n\\t\\t */\\n\\t\\tgetContentAreaContainer: function() {\\n\\t\\t\\treturn this.contentAreaContainer;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns the target element/textarea that got replaced with a TinyMCE editor instance.\\n\\t\\t *\\n\\t\\t * @method getElement\\n\\t\\t * @return {Element} HTML DOM element for the replaced element.\\n\\t\\t */\\n\\t\\tgetElement: function() {\\n\\t\\t\\tif (!this.targetElm) {\\n\\t\\t\\t\\tthis.targetElm = DOM.get(this.id);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn this.targetElm;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns the iframes window object.\\n\\t\\t *\\n\\t\\t * @method getWin\\n\\t\\t * @return {Window} Iframe DOM window object.\\n\\t\\t */\\n\\t\\tgetWin: function() {\\n\\t\\t\\tvar self = this, elm;\\n\\n\\t\\t\\tif (!self.contentWindow) {\\n\\t\\t\\t\\telm = self.iframeElement;\\n\\n\\t\\t\\t\\tif (elm) {\\n\\t\\t\\t\\t\\tself.contentWindow = elm.contentWindow;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn self.contentWindow;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns the iframes document object.\\n\\t\\t *\\n\\t\\t * @method getDoc\\n\\t\\t * @return {Document} Iframe DOM document object.\\n\\t\\t */\\n\\t\\tgetDoc: function() {\\n\\t\\t\\tvar self = this, win;\\n\\n\\t\\t\\tif (!self.contentDocument) {\\n\\t\\t\\t\\twin = self.getWin();\\n\\n\\t\\t\\t\\tif (win) {\\n\\t\\t\\t\\t\\tself.contentDocument = win.document;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn self.contentDocument;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns the root element of the editable area.\\n\\t\\t * For a non-inline iframe-based editor, returns the iframe's body element.\\n\\t\\t *\\n\\t\\t * @method getBody\\n\\t\\t * @return {Element} The root element of the editable area.\\n\\t\\t */\\n\\t\\tgetBody: function() {\\n\\t\\t\\tvar doc = this.getDoc();\\n\\t\\t\\treturn this.bodyElement || (doc ? doc.body : null);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * URL converter function this gets executed each time a user adds an img, a or\\n\\t\\t * any other element that has a URL in it. This will be called both by the DOM and HTML\\n\\t\\t * manipulation functions.\\n\\t\\t *\\n\\t\\t * @method convertURL\\n\\t\\t * @param {string} url URL to convert.\\n\\t\\t * @param {string} name Attribute name src, href etc.\\n\\t\\t * @param {string/HTMLElement} elm Tag name or HTML DOM element depending on HTML or DOM insert.\\n\\t\\t * @return {string} Converted URL string.\\n\\t\\t */\\n\\t\\tconvertURL: function(url, name, elm) {\\n\\t\\t\\tvar self = this, settings = self.settings;\\n\\n\\t\\t\\t// Use callback instead\\n\\t\\t\\tif (settings.urlconverter_callback) {\\n\\t\\t\\t\\treturn self.execCallback('urlconverter_callback', url, elm, true, name);\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Don't convert link href since thats the CSS files that gets loaded into the editor also skip local file URLs\\n\\t\\t\\tif (!settings.convert_urls || (elm && elm.nodeName == 'LINK') || url.indexOf('file:') === 0 || url.length === 0) {\\n\\t\\t\\t\\treturn url;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Convert to relative\\n\\t\\t\\tif (settings.relative_urls) {\\n\\t\\t\\t\\treturn self.documentBaseURI.toRelative(url);\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Convert to absolute\\n\\t\\t\\turl = self.documentBaseURI.toAbsolute(url, settings.remove_script_host);\\n\\n\\t\\t\\treturn url;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Adds visual aid for tables, anchors etc so they can be more easily edited inside the editor.\\n\\t\\t *\\n\\t\\t * @method addVisual\\n\\t\\t * @param {Element} elm Optional root element to loop though to find tables etc that needs the visual aid.\\n\\t\\t */\\n\\t\\taddVisual: function(elm) {\\n\\t\\t\\tvar self = this, settings = self.settings, dom = self.dom, cls;\\n\\n\\t\\t\\telm = elm || self.getBody();\\n\\n\\t\\t\\tif (self.hasVisual === undefined) {\\n\\t\\t\\t\\tself.hasVisual = settings.visual;\\n\\t\\t\\t}\\n\\n\\t\\t\\teach(dom.select('table,a', elm), function(elm) {\\n\\t\\t\\t\\tvar value;\\n\\n\\t\\t\\t\\tswitch (elm.nodeName) {\\n\\t\\t\\t\\t\\tcase 'TABLE':\\n\\t\\t\\t\\t\\t\\tcls = settings.visual_table_class || 'mce-item-table';\\n\\t\\t\\t\\t\\t\\tvalue = dom.getAttrib(elm, 'border');\\n\\n\\t\\t\\t\\t\\t\\tif ((!value || value == '0') && self.hasVisual) {\\n\\t\\t\\t\\t\\t\\t\\tdom.addClass(elm, cls);\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\tdom.removeClass(elm, cls);\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\treturn;\\n\\n\\t\\t\\t\\t\\tcase 'A':\\n\\t\\t\\t\\t\\t\\tif (!dom.getAttrib(elm, 'href', false)) {\\n\\t\\t\\t\\t\\t\\t\\tvalue = dom.getAttrib(elm, 'name') || elm.id;\\n\\t\\t\\t\\t\\t\\t\\tcls = settings.visual_anchor_class || 'mce-item-anchor';\\n\\n\\t\\t\\t\\t\\t\\t\\tif (value && self.hasVisual) {\\n\\t\\t\\t\\t\\t\\t\\t\\tdom.addClass(elm, cls);\\n\\t\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\t\\tdom.removeClass(elm, cls);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\tself.fire('VisualAid', {element: elm, hasVisual: self.hasVisual});\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Removes the editor from the dom and tinymce collection.\\n\\t\\t *\\n\\t\\t * @method remove\\n\\t\\t */\\n\\t\\tremove: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tif (!self.removed) {\\n\\t\\t\\t\\tself.save();\\n\\t\\t\\t\\tself.removed = 1;\\n\\t\\t\\t\\tself.unbindAllNativeEvents();\\n\\n\\t\\t\\t\\t// Remove any hidden input\\n\\t\\t\\t\\tif (self.hasHiddenInput) {\\n\\t\\t\\t\\t\\tDOM.remove(self.getElement().nextSibling);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (!self.inline) {\\n\\t\\t\\t\\t\\t// IE 9 has a bug where the selection stops working if you place the\\n\\t\\t\\t\\t\\t// caret inside the editor then remove the iframe\\n\\t\\t\\t\\t\\tif (ie && ie < 10) {\\n\\t\\t\\t\\t\\t\\tself.getDoc().execCommand('SelectAll', false, null);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tDOM.setStyle(self.id, 'display', self.orgDisplay);\\n\\t\\t\\t\\t\\tself.getBody().onload = null; // Prevent #6816\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tself.fire('remove');\\n\\n\\t\\t\\t\\tself.editorManager.remove(self);\\n\\t\\t\\t\\tDOM.remove(self.getContainer());\\n\\t\\t\\t\\tself._selectionOverrides.destroy();\\n\\t\\t\\t\\tself.editorUpload.destroy();\\n\\t\\t\\t\\tself.destroy();\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Destroys the editor instance by removing all events, element references or other resources\\n\\t\\t * that could leak memory. This method will be called automatically when the page is unloaded\\n\\t\\t * but you can also call it directly if you know what you are doing.\\n\\t\\t *\\n\\t\\t * @method destroy\\n\\t\\t * @param {Boolean} automatic Optional state if the destroy is an automatic destroy or user called one.\\n\\t\\t */\\n\\t\\tdestroy: function(automatic) {\\n\\t\\t\\tvar self = this, form;\\n\\n\\t\\t\\t// One time is enough\\n\\t\\t\\tif (self.destroyed) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// If user manually calls destroy and not remove\\n\\t\\t\\t// Users seems to have logic that calls destroy instead of remove\\n\\t\\t\\tif (!automatic && !self.removed) {\\n\\t\\t\\t\\tself.remove();\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!automatic) {\\n\\t\\t\\t\\tself.editorManager.off('beforeunload', self._beforeUnload);\\n\\n\\t\\t\\t\\t// Manual destroy\\n\\t\\t\\t\\tif (self.theme && self.theme.destroy) {\\n\\t\\t\\t\\t\\tself.theme.destroy();\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Destroy controls, selection and dom\\n\\t\\t\\t\\tself.selection.destroy();\\n\\t\\t\\t\\tself.dom.destroy();\\n\\t\\t\\t}\\n\\n\\t\\t\\tform = self.formElement;\\n\\t\\t\\tif (form) {\\n\\t\\t\\t\\tif (form._mceOldSubmit) {\\n\\t\\t\\t\\t\\tform.submit = form._mceOldSubmit;\\n\\t\\t\\t\\t\\tform._mceOldSubmit = null;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tDOM.unbind(form, 'submit reset', self.formEventDelegate);\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.contentAreaContainer = self.formElement = self.container = self.editorContainer = null;\\n\\t\\t\\tself.bodyElement = self.contentDocument = self.contentWindow = null;\\n\\t\\t\\tself.iframeElement = self.targetElm = null;\\n\\n\\t\\t\\tif (self.selection) {\\n\\t\\t\\t\\tself.selection = self.selection.win = self.selection.dom = self.selection.dom.doc = null;\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.destroyed = 1;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Uploads all data uri/blob uri images in the editor contents to server.\\n\\t\\t *\\n\\t\\t * @method uploadImages\\n\\t\\t * @param {function} callback Optional callback with images and status for each image.\\n\\t\\t * @return {tinymce.util.Promise} Promise instance.\\n\\t\\t */\\n\\t\\tuploadImages: function(callback) {\\n\\t\\t\\treturn this.editorUpload.uploadImages(callback);\\n\\t\\t},\\n\\n\\t\\t// Internal functions\\n\\n\\t\\t_scanForImages: function() {\\n\\t\\t\\treturn this.editorUpload.scanForImages();\\n\\t\\t}\\n\\t};\\n\\n\\textend(Editor.prototype, EditorObservable);\\n\\n\\treturn Editor;\\n});\\n\\n// Included from: js/tinymce/classes/util/I18n.js\\n\\n/**\\n * I18n.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * I18n class that handles translation of TinyMCE UI.\\n * Uses po style with csharp style parameters.\\n *\\n * @class tinymce.util.I18n\\n */\\ndefine(\\\"tinymce/util/I18n\\\", [\\n\\t\\\"tinymce/util/Tools\\\"\\n], function(Tools) {\\n\\t\\\"use strict\\\";\\n\\n\\tvar data = {}, code = \\\"en\\\";\\n\\n\\treturn {\\n\\t\\t/**\\n\\t\\t * Sets the current language code.\\n\\t\\t *\\n\\t\\t * @method setCode\\n\\t\\t * @param {String} newCode Current language code.\\n\\t\\t */\\n\\t\\tsetCode: function(newCode) {\\n\\t\\t\\tif (newCode) {\\n\\t\\t\\t\\tcode = newCode;\\n\\t\\t\\t\\tthis.rtl = this.data[newCode] ? this.data[newCode]._dir === 'rtl' : false;\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns the current language code.\\n\\t\\t *\\n\\t\\t * @method getCode\\n\\t\\t * @return {String} Current language code.\\n\\t\\t */\\n\\t\\tgetCode: function() {\\n\\t\\t\\treturn code;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Property gets set to true if a RTL language pack was loaded.\\n\\t\\t *\\n\\t\\t * @property rtl\\n\\t\\t * @type Boolean\\n\\t\\t */\\n\\t\\trtl: false,\\n\\n\\t\\t/**\\n\\t\\t * Adds translations for a specific language code.\\n\\t\\t *\\n\\t\\t * @method add\\n\\t\\t * @param {String} code Language code like sv_SE.\\n\\t\\t * @param {Array} items Name/value array with English en_US to sv_SE.\\n\\t\\t */\\n\\t\\tadd: function(code, items) {\\n\\t\\t\\tvar langData = data[code];\\n\\n\\t\\t\\tif (!langData) {\\n\\t\\t\\t\\tdata[code] = langData = {};\\n\\t\\t\\t}\\n\\n\\t\\t\\tfor (var name in items) {\\n\\t\\t\\t\\tlangData[name] = items[name];\\n\\t\\t\\t}\\n\\n\\t\\t\\tthis.setCode(code);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Translates the specified text.\\n\\t\\t *\\n\\t\\t * It has a few formats:\\n\\t\\t * I18n.translate(\\\"Text\\\");\\n\\t\\t * I18n.translate([\\\"Text {0}/{1}\\\", 0, 1]);\\n\\t\\t * I18n.translate({raw: \\\"Raw string\\\"});\\n\\t\\t *\\n\\t\\t * @method translate\\n\\t\\t * @param {String/Object/Array} text Text to translate.\\n\\t\\t * @return {String} String that got translated.\\n\\t\\t */\\n\\t\\ttranslate: function(text) {\\n\\t\\t\\tvar langData = data[code] || {};\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * number - string\\n\\t\\t\\t * null, undefined and empty string - empty string\\n\\t\\t\\t * array - comma-delimited string\\n\\t\\t\\t * object - in [object Object]\\n\\t\\t\\t * function - in [object Function]\\n\\t\\t\\t *\\n\\t\\t\\t * @param obj\\n\\t\\t\\t * @returns {string}\\n\\t\\t\\t */\\n\\t\\t\\tfunction toString(obj) {\\n\\t\\t\\t\\tif (Tools.is(obj, 'function')) {\\n\\t\\t\\t\\t\\treturn Object.prototype.toString.call(obj);\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\treturn !isEmpty(obj) ? '' + obj : '';\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction isEmpty(text) {\\n\\t\\t\\t\\treturn text === '' || text === null || Tools.is(text, 'undefined');\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction getLangData(text) {\\n\\t\\t\\t\\t// make sure we work on a string and return a string\\n\\t\\t\\t\\ttext = toString(text);\\n\\t\\t\\t\\treturn Tools.hasOwn(langData, text) ? toString(langData[text]) : text;\\n\\t\\t\\t}\\n\\n\\n\\t\\t\\tif (isEmpty(text)) {\\n\\t\\t\\t\\treturn '';\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (Tools.is(text, 'object') && Tools.hasOwn(text, 'raw')) {\\n\\t\\t\\t\\treturn toString(text.raw);\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (Tools.is(text, 'array')) {\\n\\t\\t\\t\\tvar values = text.slice(1);\\n\\t\\t\\t\\ttext = getLangData(text[0]).replace(/\\\\{([0-9]+)\\\\}/g, function($1, $2) {\\n\\t\\t\\t\\t\\treturn Tools.hasOwn(values, $2) ? toString(values[$2]) : $1;\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn getLangData(text).replace(/{context:\\\\w+}$/, '');\\n\\t\\t},\\n\\n\\t\\tdata: data\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/FocusManager.js\\n\\n/**\\n * FocusManager.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class manages the focus/blur state of the editor. This class is needed since some\\n * browsers fire false focus/blur states when the selection is moved to a UI dialog or similar.\\n *\\n * This class will fire two events focus and blur on the editor instances that got affected.\\n * It will also handle the restore of selection when the focus is lost and returned.\\n *\\n * @class tinymce.FocusManager\\n */\\ndefine(\\\"tinymce/FocusManager\\\", [\\n\\t\\\"tinymce/dom/DOMUtils\\\",\\n\\t\\\"tinymce/util/Delay\\\",\\n\\t\\\"tinymce/Env\\\"\\n], function(DOMUtils, Delay, Env) {\\n\\tvar selectionChangeHandler, documentFocusInHandler, documentMouseUpHandler, DOM = DOMUtils.DOM;\\n\\n\\tvar isUIElement = function (editor, elm) {\\n\\t\\tvar customSelector = editor ? editor.settings.custom_ui_selector : '';\\n\\t\\tvar parent = DOM.getParent(elm, function (elm) {\\n\\t\\t\\treturn (\\n\\t\\t\\t\\tFocusManager.isEditorUIElement(elm) ||\\n\\t\\t\\t\\t(customSelector ? editor.dom.is(elm, customSelector) : false)\\n\\t\\t\\t);\\n\\t\\t});\\n\\t\\treturn parent !== null;\\n\\t};\\n\\n\\t/**\\n\\t * Constructs a new focus manager instance.\\n\\t *\\n\\t * @constructor FocusManager\\n\\t * @param {tinymce.EditorManager} editorManager Editor manager instance to handle focus for.\\n\\t */\\n\\tfunction FocusManager(editorManager) {\\n\\t\\tfunction getActiveElement() {\\n\\t\\t\\ttry {\\n\\t\\t\\t\\treturn document.activeElement;\\n\\t\\t\\t} catch (ex) {\\n\\t\\t\\t\\t// IE sometimes fails to get the activeElement when resizing table\\n\\t\\t\\t\\t// TODO: Investigate this\\n\\t\\t\\t\\treturn document.body;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t// We can't store a real range on IE 11 since it gets mutated so we need to use a bookmark object\\n\\t\\t// TODO: Move this to a separate range utils class since it's it's logic is present in Selection as well.\\n\\t\\tfunction createBookmark(dom, rng) {\\n\\t\\t\\tif (rng && rng.startContainer) {\\n\\t\\t\\t\\t// Verify that the range is within the root of the editor\\n\\t\\t\\t\\tif (!dom.isChildOf(rng.startContainer, dom.getRoot()) || !dom.isChildOf(rng.endContainer, dom.getRoot())) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn {\\n\\t\\t\\t\\t\\tstartContainer: rng.startContainer,\\n\\t\\t\\t\\t\\tstartOffset: rng.startOffset,\\n\\t\\t\\t\\t\\tendContainer: rng.endContainer,\\n\\t\\t\\t\\t\\tendOffset: rng.endOffset\\n\\t\\t\\t\\t};\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn rng;\\n\\t\\t}\\n\\n\\t\\tfunction bookmarkToRng(editor, bookmark) {\\n\\t\\t\\tvar rng;\\n\\n\\t\\t\\tif (bookmark.startContainer) {\\n\\t\\t\\t\\trng = editor.getDoc().createRange();\\n\\t\\t\\t\\trng.setStart(bookmark.startContainer, bookmark.startOffset);\\n\\t\\t\\t\\trng.setEnd(bookmark.endContainer, bookmark.endOffset);\\n\\t\\t\\t} else {\\n\\t\\t\\t\\trng = bookmark;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn rng;\\n\\t\\t}\\n\\n\\t\\tfunction registerEvents(e) {\\n\\t\\t\\tvar editor = e.editor;\\n\\n\\t\\t\\teditor.on('init', function() {\\n\\t\\t\\t\\t// Gecko/WebKit has ghost selections in iframes and IE only has one selection per browser tab\\n\\t\\t\\t\\tif (editor.inline || Env.ie) {\\n\\t\\t\\t\\t\\t// Use the onbeforedeactivate event when available since it works better see #7023\\n\\t\\t\\t\\t\\tif (\\\"onbeforedeactivate\\\" in document && Env.ie < 9) {\\n\\t\\t\\t\\t\\t\\teditor.dom.bind(editor.getBody(), 'beforedeactivate', function(e) {\\n\\t\\t\\t\\t\\t\\t\\tif (e.target != editor.getBody()) {\\n\\t\\t\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\ttry {\\n\\t\\t\\t\\t\\t\\t\\t\\teditor.lastRng = editor.selection.getRng();\\n\\t\\t\\t\\t\\t\\t\\t} catch (ex) {\\n\\t\\t\\t\\t\\t\\t\\t\\t// IE throws \\\"Unexcpected call to method or property access\\\" some times so lets ignore it\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t// On other browsers take snapshot on nodechange in inline mode since they have Ghost selections for iframes\\n\\t\\t\\t\\t\\t\\teditor.on('nodechange mouseup keyup', function(e) {\\n\\t\\t\\t\\t\\t\\t\\tvar node = getActiveElement();\\n\\n\\t\\t\\t\\t\\t\\t\\t// Only act on manual nodechanges\\n\\t\\t\\t\\t\\t\\t\\tif (e.type == 'nodechange' && e.selectionChange) {\\n\\t\\t\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t// IE 11 reports active element as iframe not body of iframe\\n\\t\\t\\t\\t\\t\\t\\tif (node && node.id == editor.id + '_ifr') {\\n\\t\\t\\t\\t\\t\\t\\t\\tnode = editor.getBody();\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tif (editor.dom.isChildOf(node, editor.getBody())) {\\n\\t\\t\\t\\t\\t\\t\\t\\teditor.lastRng = editor.selection.getRng();\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Handles the issue with WebKit not retaining selection within inline document\\n\\t\\t\\t\\t\\t// If the user releases the mouse out side the body since a mouse up event wont occur on the body\\n\\t\\t\\t\\t\\tif (Env.webkit && !selectionChangeHandler) {\\n\\t\\t\\t\\t\\t\\tselectionChangeHandler = function() {\\n\\t\\t\\t\\t\\t\\t\\tvar activeEditor = editorManager.activeEditor;\\n\\n\\t\\t\\t\\t\\t\\t\\tif (activeEditor && activeEditor.selection) {\\n\\t\\t\\t\\t\\t\\t\\t\\tvar rng = activeEditor.selection.getRng();\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t// Store when it's non collapsed\\n\\t\\t\\t\\t\\t\\t\\t\\tif (rng && !rng.collapsed) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\teditor.lastRng = rng;\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t};\\n\\n\\t\\t\\t\\t\\t\\tDOM.bind(document, 'selectionchange', selectionChangeHandler);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\teditor.on('setcontent', function() {\\n\\t\\t\\t\\teditor.lastRng = null;\\n\\t\\t\\t});\\n\\n\\t\\t\\t// Remove last selection bookmark on mousedown see #6305\\n\\t\\t\\teditor.on('mousedown', function() {\\n\\t\\t\\t\\teditor.selection.lastFocusBookmark = null;\\n\\t\\t\\t});\\n\\n\\t\\t\\teditor.on('focusin', function() {\\n\\t\\t\\t\\tvar focusedEditor = editorManager.focusedEditor, lastRng;\\n\\n\\t\\t\\t\\tif (editor.selection.lastFocusBookmark) {\\n\\t\\t\\t\\t\\tlastRng = bookmarkToRng(editor, editor.selection.lastFocusBookmark);\\n\\t\\t\\t\\t\\teditor.selection.lastFocusBookmark = null;\\n\\t\\t\\t\\t\\teditor.selection.setRng(lastRng);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (focusedEditor != editor) {\\n\\t\\t\\t\\t\\tif (focusedEditor) {\\n\\t\\t\\t\\t\\t\\tfocusedEditor.fire('blur', {focusedEditor: editor});\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\teditorManager.setActive(editor);\\n\\t\\t\\t\\t\\teditorManager.focusedEditor = editor;\\n\\t\\t\\t\\t\\teditor.fire('focus', {blurredEditor: focusedEditor});\\n\\t\\t\\t\\t\\teditor.focus(true);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\teditor.lastRng = null;\\n\\t\\t\\t});\\n\\n\\t\\t\\teditor.on('focusout', function() {\\n\\t\\t\\t\\tDelay.setEditorTimeout(editor, function() {\\n\\t\\t\\t\\t\\tvar focusedEditor = editorManager.focusedEditor;\\n\\n\\t\\t\\t\\t\\t// Still the same editor the blur was outside any editor UI\\n\\t\\t\\t\\t\\tif (!isUIElement(editor, getActiveElement()) && focusedEditor == editor) {\\n\\t\\t\\t\\t\\t\\teditor.fire('blur', {focusedEditor: null});\\n\\t\\t\\t\\t\\t\\teditorManager.focusedEditor = null;\\n\\n\\t\\t\\t\\t\\t\\t// Make sure selection is valid could be invalid if the editor is blured and removed before the timeout occurs\\n\\t\\t\\t\\t\\t\\tif (editor.selection) {\\n\\t\\t\\t\\t\\t\\t\\teditor.selection.lastFocusBookmark = null;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\t\\t\\t});\\n\\n\\t\\t\\t// Check if focus is moved to an element outside the active editor by checking if the target node\\n\\t\\t\\t// isn't within the body of the activeEditor nor a UI element such as a dialog child control\\n\\t\\t\\tif (!documentFocusInHandler) {\\n\\t\\t\\t\\tdocumentFocusInHandler = function(e) {\\n\\t\\t\\t\\t\\tvar activeEditor = editorManager.activeEditor, target;\\n\\n\\t\\t\\t\\t\\ttarget = e.target;\\n\\n\\t\\t\\t\\t\\tif (activeEditor && target.ownerDocument == document) {\\n\\t\\t\\t\\t\\t\\t// Check to make sure we have a valid selection don't update the bookmark if it's\\n\\t\\t\\t\\t\\t\\t// a focusin to the body of the editor see #7025\\n\\t\\t\\t\\t\\t\\tif (activeEditor.selection && target != activeEditor.getBody()) {\\n\\t\\t\\t\\t\\t\\t\\tactiveEditor.selection.lastFocusBookmark = createBookmark(activeEditor.dom, activeEditor.lastRng);\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Fire a blur event if the element isn't a UI element\\n\\t\\t\\t\\t\\t\\tif (target != document.body && !isUIElement(activeEditor, target) && editorManager.focusedEditor == activeEditor) {\\n\\t\\t\\t\\t\\t\\t\\tactiveEditor.fire('blur', {focusedEditor: null});\\n\\t\\t\\t\\t\\t\\t\\teditorManager.focusedEditor = null;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t};\\n\\n\\t\\t\\t\\tDOM.bind(document, 'focusin', documentFocusInHandler);\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Handle edge case when user starts the selection inside the editor and releases\\n\\t\\t\\t// the mouse outside the editor producing a new selection. This weird workaround is needed since\\n\\t\\t\\t// Gecko doesn't have the \\\"selectionchange\\\" event we need to do this. Fixes: #6843\\n\\t\\t\\tif (editor.inline && !documentMouseUpHandler) {\\n\\t\\t\\t\\tdocumentMouseUpHandler = function(e) {\\n\\t\\t\\t\\t\\tvar activeEditor = editorManager.activeEditor, dom = activeEditor.dom;\\n\\n\\t\\t\\t\\t\\tif (activeEditor.inline && dom && !dom.isChildOf(e.target, activeEditor.getBody())) {\\n\\t\\t\\t\\t\\t\\tvar rng = activeEditor.selection.getRng();\\n\\n\\t\\t\\t\\t\\t\\tif (!rng.collapsed) {\\n\\t\\t\\t\\t\\t\\t\\tactiveEditor.lastRng = rng;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t};\\n\\n\\t\\t\\t\\tDOM.bind(document, 'mouseup', documentMouseUpHandler);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction unregisterDocumentEvents(e) {\\n\\t\\t\\tif (editorManager.focusedEditor == e.editor) {\\n\\t\\t\\t\\teditorManager.focusedEditor = null;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!editorManager.activeEditor) {\\n\\t\\t\\t\\tDOM.unbind(document, 'selectionchange', selectionChangeHandler);\\n\\t\\t\\t\\tDOM.unbind(document, 'focusin', documentFocusInHandler);\\n\\t\\t\\t\\tDOM.unbind(document, 'mouseup', documentMouseUpHandler);\\n\\t\\t\\t\\tselectionChangeHandler = documentFocusInHandler = documentMouseUpHandler = null;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\teditorManager.on('AddEditor', registerEvents);\\n\\t\\teditorManager.on('RemoveEditor', unregisterDocumentEvents);\\n\\t}\\n\\n\\t/**\\n\\t * Returns true if the specified element is part of the UI for example an button or text input.\\n\\t *\\n\\t * @method isEditorUIElement\\n\\t * @param  {Element} elm Element to check if it's part of the UI or not.\\n\\t * @return {Boolean} True/false state if the element is part of the UI or not.\\n\\t */\\n\\tFocusManager.isEditorUIElement = function(elm) {\\n\\t\\t// Needs to be converted to string since svg can have focus: #6776\\n\\t\\treturn elm.className.toString().indexOf('mce-') !== -1;\\n\\t};\\n\\n\\tFocusManager._isUIElement = isUIElement;\\n\\n\\treturn FocusManager;\\n});\\n\\n// Included from: js/tinymce/classes/EditorManager.js\\n\\n/**\\n * EditorManager.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class used as a factory for manager for tinymce.Editor instances.\\n *\\n * @example\\n * tinymce.EditorManager.init({});\\n *\\n * @class tinymce.EditorManager\\n * @mixes tinymce.util.Observable\\n * @static\\n */\\ndefine(\\\"tinymce/EditorManager\\\", [\\n\\t\\\"tinymce/Editor\\\",\\n\\t\\\"tinymce/dom/DomQuery\\\",\\n\\t\\\"tinymce/dom/DOMUtils\\\",\\n\\t\\\"tinymce/util/URI\\\",\\n\\t\\\"tinymce/Env\\\",\\n\\t\\\"tinymce/util/Tools\\\",\\n\\t\\\"tinymce/util/Promise\\\",\\n\\t\\\"tinymce/util/Observable\\\",\\n\\t\\\"tinymce/util/I18n\\\",\\n\\t\\\"tinymce/FocusManager\\\",\\n\\t\\\"tinymce/AddOnManager\\\"\\n], function(Editor, $, DOMUtils, URI, Env, Tools, Promise, Observable, I18n, FocusManager, AddOnManager) {\\n\\tvar DOM = DOMUtils.DOM;\\n\\tvar explode = Tools.explode, each = Tools.each, extend = Tools.extend;\\n\\tvar instanceCounter = 0, beforeUnloadDelegate, EditorManager, boundGlobalEvents = false;\\n\\n\\tfunction globalEventDelegate(e) {\\n\\t\\teach(EditorManager.editors, function(editor) {\\n\\t\\t\\tif (e.type === 'scroll') {\\n\\t\\t\\t\\teditor.fire('ScrollWindow', e);\\n\\t\\t\\t} else {\\n\\t\\t\\t\\teditor.fire('ResizeWindow', e);\\n\\t\\t\\t}\\n\\t\\t});\\n\\t}\\n\\n\\tfunction toggleGlobalEvents(editors, state) {\\n\\t\\tif (state !== boundGlobalEvents) {\\n\\t\\t\\tif (state) {\\n\\t\\t\\t\\t$(window).on('resize scroll', globalEventDelegate);\\n\\t\\t\\t} else {\\n\\t\\t\\t\\t$(window).off('resize scroll', globalEventDelegate);\\n\\t\\t\\t}\\n\\n\\t\\t\\tboundGlobalEvents = state;\\n\\t\\t}\\n\\t}\\n\\n\\tfunction removeEditorFromList(editor) {\\n\\t\\tvar editors = EditorManager.editors, removedFromList;\\n\\n\\t\\tdelete editors[editor.id];\\n\\n\\t\\tfor (var i = 0; i < editors.length; i++) {\\n\\t\\t\\tif (editors[i] == editor) {\\n\\t\\t\\t\\teditors.splice(i, 1);\\n\\t\\t\\t\\tremovedFromList = true;\\n\\t\\t\\t\\tbreak;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t// Select another editor since the active one was removed\\n\\t\\tif (EditorManager.activeEditor == editor) {\\n\\t\\t\\tEditorManager.activeEditor = editors[0];\\n\\t\\t}\\n\\n\\t\\t// Clear focusedEditor if necessary, so that we don't try to blur the destroyed editor\\n\\t\\tif (EditorManager.focusedEditor == editor) {\\n\\t\\t\\tEditorManager.focusedEditor = null;\\n\\t\\t}\\n\\n\\t\\treturn removedFromList;\\n\\t}\\n\\n\\tfunction purgeDestroyedEditor(editor) {\\n\\t\\t// User has manually destroyed the editor lets clean up the mess\\n\\t\\tif (editor && editor.initialized && !(editor.getContainer() || editor.getBody()).parentNode) {\\n\\t\\t\\tremoveEditorFromList(editor);\\n\\t\\t\\teditor.unbindAllNativeEvents();\\n\\t\\t\\teditor.destroy(true);\\n\\t\\t\\teditor.removed = true;\\n\\t\\t\\teditor = null;\\n\\t\\t}\\n\\n\\t\\treturn editor;\\n\\t}\\n\\n\\tEditorManager = {\\n\\t\\t/**\\n\\t\\t * Dom query instance.\\n\\t\\t *\\n\\t\\t * @property $\\n\\t\\t * @type tinymce.dom.DomQuery\\n\\t\\t */\\n\\t\\t$: $,\\n\\n\\t\\t/**\\n\\t\\t * Major version of TinyMCE build.\\n\\t\\t *\\n\\t\\t * @property majorVersion\\n\\t\\t * @type String\\n\\t\\t */\\n\\t\\tmajorVersion: '4',\\n\\n\\t\\t/**\\n\\t\\t * Minor version of TinyMCE build.\\n\\t\\t *\\n\\t\\t * @property minorVersion\\n\\t\\t * @type String\\n\\t\\t */\\n\\t\\tminorVersion: '5.4',\\n\\n\\t\\t/**\\n\\t\\t * Release date of TinyMCE build.\\n\\t\\t *\\n\\t\\t * @property releaseDate\\n\\t\\t * @type String\\n\\t\\t */\\n\\t\\treleaseDate: '2017-02-23',\\n\\n\\t\\t/**\\n\\t\\t * Collection of editor instances.\\n\\t\\t *\\n\\t\\t * @property editors\\n\\t\\t * @type Object\\n\\t\\t * @example\\n\\t\\t * for (edId in tinymce.editors)\\n\\t\\t *     tinymce.editors[edId].save();\\n\\t\\t */\\n\\t\\teditors: [],\\n\\n\\t\\t/**\\n\\t\\t * Collection of language pack data.\\n\\t\\t *\\n\\t\\t * @property i18n\\n\\t\\t * @type Object\\n\\t\\t */\\n\\t\\ti18n: I18n,\\n\\n\\t\\t/**\\n\\t\\t * Currently active editor instance.\\n\\t\\t *\\n\\t\\t * @property activeEditor\\n\\t\\t * @type tinymce.Editor\\n\\t\\t * @example\\n\\t\\t * tinyMCE.activeEditor.selection.getContent();\\n\\t\\t * tinymce.EditorManager.activeEditor.selection.getContent();\\n\\t\\t */\\n\\t\\tactiveEditor: null,\\n\\n\\t\\tsetup: function() {\\n\\t\\t\\tvar self = this, baseURL, documentBaseURL, suffix = \\\"\\\", preInit, src;\\n\\n\\t\\t\\t// Get base URL for the current document\\n\\t\\t\\tdocumentBaseURL = URI.getDocumentBaseUrl(document.location);\\n\\n\\t\\t\\t// Check if the URL is a document based format like: http://site/dir/file and file:///\\n\\t\\t\\t// leave other formats like applewebdata://... intact\\n\\t\\t\\tif (/^[^:]+:\\\\/\\\\/\\\\/?[^\\\\/]+\\\\//.test(documentBaseURL)) {\\n\\t\\t\\t\\tdocumentBaseURL = documentBaseURL.replace(/[\\\\?#].*$/, '').replace(/[\\\\/\\\\\\\\][^\\\\/]+$/, '');\\n\\n\\t\\t\\t\\tif (!/[\\\\/\\\\\\\\]$/.test(documentBaseURL)) {\\n\\t\\t\\t\\t\\tdocumentBaseURL += '/';\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// If tinymce is defined and has a base use that or use the old tinyMCEPreInit\\n\\t\\t\\tpreInit = window.tinymce || window.tinyMCEPreInit;\\n\\t\\t\\tif (preInit) {\\n\\t\\t\\t\\tbaseURL = preInit.base || preInit.baseURL;\\n\\t\\t\\t\\tsuffix = preInit.suffix;\\n\\t\\t\\t} else {\\n\\t\\t\\t\\t// Get base where the tinymce script is located\\n\\t\\t\\t\\tvar scripts = document.getElementsByTagName('script');\\n\\t\\t\\t\\tfor (var i = 0; i < scripts.length; i++) {\\n\\t\\t\\t\\t\\tsrc = scripts[i].src;\\n\\n\\t\\t\\t\\t\\t// Script types supported:\\n\\t\\t\\t\\t\\t// tinymce.js tinymce.min.js tinymce.dev.js\\n\\t\\t\\t\\t\\t// tinymce.jquery.js tinymce.jquery.min.js tinymce.jquery.dev.js\\n\\t\\t\\t\\t\\t// tinymce.full.js tinymce.full.min.js tinymce.full.dev.js\\n\\t\\t\\t\\t\\tvar srcScript = src.substring(src.lastIndexOf('/'));\\n\\t\\t\\t\\t\\tif (/tinymce(\\\\.full|\\\\.jquery|)(\\\\.min|\\\\.dev|)\\\\.js/.test(src)) {\\n\\t\\t\\t\\t\\t\\tif (srcScript.indexOf('.min') != -1) {\\n\\t\\t\\t\\t\\t\\t\\tsuffix = '.min';\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tbaseURL = src.substring(0, src.lastIndexOf('/'));\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// We didn't find any baseURL by looking at the script elements\\n\\t\\t\\t\\t// Try to use the document.currentScript as a fallback\\n\\t\\t\\t\\tif (!baseURL && document.currentScript) {\\n\\t\\t\\t\\t\\tsrc = document.currentScript.src;\\n\\n\\t\\t\\t\\t\\tif (src.indexOf('.min') != -1) {\\n\\t\\t\\t\\t\\t\\tsuffix = '.min';\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tbaseURL = src.substring(0, src.lastIndexOf('/'));\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Base URL where the root directory if TinyMCE is located.\\n\\t\\t\\t *\\n\\t\\t\\t * @property baseURL\\n\\t\\t\\t * @type String\\n\\t\\t\\t */\\n\\t\\t\\tself.baseURL = new URI(documentBaseURL).toAbsolute(baseURL);\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Document base URL where the current document is located.\\n\\t\\t\\t *\\n\\t\\t\\t * @property documentBaseURL\\n\\t\\t\\t * @type String\\n\\t\\t\\t */\\n\\t\\t\\tself.documentBaseURL = documentBaseURL;\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Absolute baseURI for the installation path of TinyMCE.\\n\\t\\t\\t *\\n\\t\\t\\t * @property baseURI\\n\\t\\t\\t * @type tinymce.util.URI\\n\\t\\t\\t */\\n\\t\\t\\tself.baseURI = new URI(self.baseURL);\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Current suffix to add to each plugin/theme that gets loaded for example \\\".min\\\".\\n\\t\\t\\t *\\n\\t\\t\\t * @property suffix\\n\\t\\t\\t * @type String\\n\\t\\t\\t */\\n\\t\\t\\tself.suffix = suffix;\\n\\n\\t\\t\\tself.focusManager = new FocusManager(self);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Overrides the default settings for editor instances.\\n\\t\\t *\\n\\t\\t * @method overrideDefaults\\n\\t\\t * @param {Object} defaultSettings Defaults settings object.\\n\\t\\t */\\n\\t\\toverrideDefaults: function(defaultSettings) {\\n\\t\\t\\tvar baseUrl, suffix;\\n\\n\\t\\t\\tbaseUrl = defaultSettings.base_url;\\n\\t\\t\\tif (baseUrl) {\\n\\t\\t\\t\\tthis.baseURL = new URI(this.documentBaseURL).toAbsolute(baseUrl.replace(/\\\\/+$/, ''));\\n\\t\\t\\t\\tthis.baseURI = new URI(this.baseURL);\\n\\t\\t\\t}\\n\\n\\t\\t\\tsuffix = defaultSettings.suffix;\\n\\t\\t\\tif (defaultSettings.suffix) {\\n\\t\\t\\t\\tthis.suffix = suffix;\\n\\t\\t\\t}\\n\\n\\t\\t\\tthis.defaultSettings = defaultSettings;\\n\\n\\t\\t\\tvar pluginBaseUrls = defaultSettings.plugin_base_urls;\\n\\t\\t\\tfor (var name in pluginBaseUrls) {\\n\\t\\t\\t\\tAddOnManager.PluginManager.urls[name] = pluginBaseUrls[name];\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Initializes a set of editors. This method will create editors based on various settings.\\n\\t\\t *\\n\\t\\t * @method init\\n\\t\\t * @param {Object} settings Settings object to be passed to each editor instance.\\n\\t\\t * @return {tinymce.util.Promise} Promise that gets resolved with an array of editors when all editor instances are initialized.\\n\\t\\t * @example\\n\\t\\t * // Initializes a editor using the longer method\\n\\t\\t * tinymce.EditorManager.init({\\n\\t\\t *    some_settings : 'some value'\\n\\t\\t * });\\n\\t\\t *\\n\\t\\t * // Initializes a editor instance using the shorter version and with a promise\\n\\t\\t * tinymce.init({\\n\\t\\t *    some_settings : 'some value'\\n\\t\\t * }).then(function(editors) {\\n\\t\\t *    ...\\n\\t\\t * });\\n\\t\\t */\\n\\t\\tinit: function(settings) {\\n\\t\\t\\tvar self = this, result, invalidInlineTargets;\\n\\n\\t\\t\\tinvalidInlineTargets = Tools.makeMap(\\n\\t\\t\\t\\t'area base basefont br col frame hr img input isindex link meta param embed source wbr track ' +\\n\\t\\t\\t\\t'colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu',\\n\\t\\t\\t\\t' '\\n\\t\\t\\t);\\n\\n\\t\\t\\tfunction isInvalidInlineTarget(settings, elm) {\\n\\t\\t\\t\\treturn settings.inline && elm.tagName.toLowerCase() in invalidInlineTargets;\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction report(msg, elm) {\\n\\t\\t\\t\\t// Log in a non test environment\\n\\t\\t\\t\\tif (window.console && !window.test) {\\n\\t\\t\\t\\t\\twindow.console.log(msg, elm);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction createId(elm) {\\n\\t\\t\\t\\tvar id = elm.id;\\n\\n\\t\\t\\t\\t// Use element id, or unique name or generate a unique id\\n\\t\\t\\t\\tif (!id) {\\n\\t\\t\\t\\t\\tid = elm.name;\\n\\n\\t\\t\\t\\t\\tif (id && !DOM.get(id)) {\\n\\t\\t\\t\\t\\t\\tid = elm.name;\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t// Generate unique name\\n\\t\\t\\t\\t\\t\\tid = DOM.uniqueId();\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\telm.setAttribute('id', id);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn id;\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction execCallback(name) {\\n\\t\\t\\t\\tvar callback = settings[name];\\n\\n\\t\\t\\t\\tif (!callback) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn callback.apply(self, Array.prototype.slice.call(arguments, 2));\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction hasClass(elm, className) {\\n\\t\\t\\t\\treturn className.constructor === RegExp ? className.test(elm.className) : DOM.hasClass(elm, className);\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction findTargets(settings) {\\n\\t\\t\\t\\tvar l, targets = [];\\n\\n\\t\\t\\t\\tif (settings.types) {\\n\\t\\t\\t\\t\\teach(settings.types, function(type) {\\n\\t\\t\\t\\t\\t\\ttargets = targets.concat(DOM.select(type.selector));\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\treturn targets;\\n\\t\\t\\t\\t} else if (settings.selector) {\\n\\t\\t\\t\\t\\treturn DOM.select(settings.selector);\\n\\t\\t\\t\\t} else if (settings.target) {\\n\\t\\t\\t\\t\\treturn [settings.target];\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Fallback to old setting\\n\\t\\t\\t\\tswitch (settings.mode) {\\n\\t\\t\\t\\t\\tcase \\\"exact\\\":\\n\\t\\t\\t\\t\\t\\tl = settings.elements || '';\\n\\n\\t\\t\\t\\t\\t\\tif (l.length > 0) {\\n\\t\\t\\t\\t\\t\\t\\teach(explode(l), function(id) {\\n\\t\\t\\t\\t\\t\\t\\t\\tvar elm;\\n\\n\\t\\t\\t\\t\\t\\t\\t\\tif ((elm = DOM.get(id))) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\ttargets.push(elm);\\n\\t\\t\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\teach(document.forms, function(f) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\teach(f.elements, function(e) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tif (e.name === id) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tid = 'mce_editor_' + instanceCounter++;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tDOM.setAttrib(e, 'id', id);\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttargets.push(e);\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\t\\tcase \\\"textareas\\\":\\n\\t\\t\\t\\t\\tcase \\\"specific_textareas\\\":\\n\\t\\t\\t\\t\\t\\teach(DOM.select('textarea'), function(elm) {\\n\\t\\t\\t\\t\\t\\t\\tif (settings.editor_deselector && hasClass(elm, settings.editor_deselector)) {\\n\\t\\t\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tif (!settings.editor_selector || hasClass(elm, settings.editor_selector)) {\\n\\t\\t\\t\\t\\t\\t\\t\\ttargets.push(elm);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn targets;\\n\\t\\t\\t}\\n\\n\\t\\t\\tvar provideResults = function(editors) {\\n\\t\\t\\t\\tresult = editors;\\n\\t\\t\\t};\\n\\n\\t\\t\\tfunction initEditors() {\\n\\t\\t\\t\\tvar initCount = 0, editors = [], targets;\\n\\n\\t\\t\\t\\tfunction createEditor(id, settings, targetElm) {\\n\\t\\t\\t\\t\\tvar editor = new Editor(id, settings, self);\\n\\n\\t\\t\\t\\t\\teditors.push(editor);\\n\\n\\t\\t\\t\\t\\teditor.on('init', function() {\\n\\t\\t\\t\\t\\t\\tif (++initCount === targets.length) {\\n\\t\\t\\t\\t\\t\\t\\tprovideResults(editors);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\teditor.targetElm = editor.targetElm || targetElm;\\n\\t\\t\\t\\t\\teditor.render();\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tDOM.unbind(window, 'ready', initEditors);\\n\\t\\t\\t\\texecCallback('onpageload');\\n\\n\\t\\t\\t\\ttargets = $.unique(findTargets(settings));\\n\\n\\t\\t\\t\\t// TODO: Deprecate this one\\n\\t\\t\\t\\tif (settings.types) {\\n\\t\\t\\t\\t\\teach(settings.types, function(type) {\\n\\t\\t\\t\\t\\t\\tTools.each(targets, function(elm) {\\n\\t\\t\\t\\t\\t\\t\\tif (DOM.is(elm, type.selector)) {\\n\\t\\t\\t\\t\\t\\t\\t\\tcreateEditor(createId(elm), extend({}, settings, type), elm);\\n\\t\\t\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tTools.each(targets, function(elm) {\\n\\t\\t\\t\\t\\tpurgeDestroyedEditor(self.get(elm.id));\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\ttargets = Tools.grep(targets, function(elm) {\\n\\t\\t\\t\\t\\treturn !self.get(elm.id);\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\teach(targets, function(elm) {\\n\\t\\t\\t\\t\\tif (isInvalidInlineTarget(settings, elm)) {\\n\\t\\t\\t\\t\\t\\treport('Could not initialize inline editor on invalid inline target element', elm);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tcreateEditor(createId(elm), settings, elm);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.settings = settings;\\n\\t\\t\\tDOM.bind(window, 'ready', initEditors);\\n\\n\\t\\t\\treturn new Promise(function(resolve) {\\n\\t\\t\\t\\tif (result) {\\n\\t\\t\\t\\t\\tresolve(result);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tprovideResults = function(editors) {\\n\\t\\t\\t\\t\\t\\tresolve(editors);\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns a editor instance by id.\\n\\t\\t *\\n\\t\\t * @method get\\n\\t\\t * @param {String/Number} id Editor instance id or index to return.\\n\\t\\t * @return {tinymce.Editor} Editor instance to return.\\n\\t\\t * @example\\n\\t\\t * // Adds an onclick event to an editor by id (shorter version)\\n\\t\\t * tinymce.get('mytextbox').on('click', function(e) {\\n\\t\\t *    ed.windowManager.alert('Hello world!');\\n\\t\\t * });\\n\\t\\t *\\n\\t\\t * // Adds an onclick event to an editor by id (longer version)\\n\\t\\t * tinymce.EditorManager.get('mytextbox').on('click', function(e) {\\n\\t\\t *    ed.windowManager.alert('Hello world!');\\n\\t\\t * });\\n\\t\\t */\\n\\t\\tget: function(id) {\\n\\t\\t\\tif (!arguments.length) {\\n\\t\\t\\t\\treturn this.editors;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn id in this.editors ? this.editors[id] : null;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Adds an editor instance to the editor collection. This will also set it as the active editor.\\n\\t\\t *\\n\\t\\t * @method add\\n\\t\\t * @param {tinymce.Editor} editor Editor instance to add to the collection.\\n\\t\\t * @return {tinymce.Editor} The same instance that got passed in.\\n\\t\\t */\\n\\t\\tadd: function(editor) {\\n\\t\\t\\tvar self = this, editors = self.editors;\\n\\n\\t\\t\\t// Add named and index editor instance\\n\\t\\t\\teditors[editor.id] = editor;\\n\\t\\t\\teditors.push(editor);\\n\\n\\t\\t\\ttoggleGlobalEvents(editors, true);\\n\\n\\t\\t\\t// Doesn't call setActive method since we don't want\\n\\t\\t\\t// to fire a bunch of activate/deactivate calls while initializing\\n\\t\\t\\tself.activeEditor = editor;\\n\\n\\t\\t\\tself.fire('AddEditor', {editor: editor});\\n\\n\\t\\t\\tif (!beforeUnloadDelegate) {\\n\\t\\t\\t\\tbeforeUnloadDelegate = function() {\\n\\t\\t\\t\\t\\tself.fire('BeforeUnload');\\n\\t\\t\\t\\t};\\n\\n\\t\\t\\t\\tDOM.bind(window, 'beforeunload', beforeUnloadDelegate);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn editor;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Creates an editor instance and adds it to the EditorManager collection.\\n\\t\\t *\\n\\t\\t * @method createEditor\\n\\t\\t * @param {String} id Instance id to use for editor.\\n\\t\\t * @param {Object} settings Editor instance settings.\\n\\t\\t * @return {tinymce.Editor} Editor instance that got created.\\n\\t\\t */\\n\\t\\tcreateEditor: function(id, settings) {\\n\\t\\t\\treturn this.add(new Editor(id, settings, this));\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Removes a editor or editors form page.\\n\\t\\t *\\n\\t\\t * @example\\n\\t\\t * // Remove all editors bound to divs\\n\\t\\t * tinymce.remove('div');\\n\\t\\t *\\n\\t\\t * // Remove all editors bound to textareas\\n\\t\\t * tinymce.remove('textarea');\\n\\t\\t *\\n\\t\\t * // Remove all editors\\n\\t\\t * tinymce.remove();\\n\\t\\t *\\n\\t\\t * // Remove specific instance by id\\n\\t\\t * tinymce.remove('#id');\\n\\t\\t *\\n\\t\\t * @method remove\\n\\t\\t * @param {tinymce.Editor/String/Object} [selector] CSS selector or editor instance to remove.\\n\\t\\t * @return {tinymce.Editor} The editor that got passed in will be return if it was found otherwise null.\\n\\t\\t */\\n\\t\\tremove: function(selector) {\\n\\t\\t\\tvar self = this, i, editors = self.editors, editor;\\n\\n\\t\\t\\t// Remove all editors\\n\\t\\t\\tif (!selector) {\\n\\t\\t\\t\\tfor (i = editors.length - 1; i >= 0; i--) {\\n\\t\\t\\t\\t\\tself.remove(editors[i]);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Remove editors by selector\\n\\t\\t\\tif (typeof selector == \\\"string\\\") {\\n\\t\\t\\t\\tselector = selector.selector || selector;\\n\\n\\t\\t\\t\\teach(DOM.select(selector), function(elm) {\\n\\t\\t\\t\\t\\teditor = editors[elm.id];\\n\\n\\t\\t\\t\\t\\tif (editor) {\\n\\t\\t\\t\\t\\t\\tself.remove(editor);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Remove specific editor\\n\\t\\t\\teditor = selector;\\n\\n\\t\\t\\t// Not in the collection\\n\\t\\t\\tif (!editors[editor.id]) {\\n\\t\\t\\t\\treturn null;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (removeEditorFromList(editor)) {\\n\\t\\t\\t\\tself.fire('RemoveEditor', {editor: editor});\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!editors.length) {\\n\\t\\t\\t\\tDOM.unbind(window, 'beforeunload', beforeUnloadDelegate);\\n\\t\\t\\t}\\n\\n\\t\\t\\teditor.remove();\\n\\n\\t\\t\\ttoggleGlobalEvents(editors, editors.length > 0);\\n\\n\\t\\t\\treturn editor;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Executes a specific command on the currently active editor.\\n\\t\\t *\\n\\t\\t * @method execCommand\\n\\t\\t * @param {String} cmd Command to perform for example Bold.\\n\\t\\t * @param {Boolean} ui Optional boolean state if a UI should be presented for the command or not.\\n\\t\\t * @param {String} value Optional value parameter like for example an URL to a link.\\n\\t\\t * @return {Boolean} true/false if the command was executed or not.\\n\\t\\t */\\n\\t\\texecCommand: function(cmd, ui, value) {\\n\\t\\t\\tvar self = this, editor = self.get(value);\\n\\n\\t\\t\\t// Manager commands\\n\\t\\t\\tswitch (cmd) {\\n\\t\\t\\t\\tcase \\\"mceAddEditor\\\":\\n\\t\\t\\t\\t\\tif (!self.get(value)) {\\n\\t\\t\\t\\t\\t\\tnew Editor(value, self.settings, self).render();\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\treturn true;\\n\\n\\t\\t\\t\\tcase \\\"mceRemoveEditor\\\":\\n\\t\\t\\t\\t\\tif (editor) {\\n\\t\\t\\t\\t\\t\\teditor.remove();\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\treturn true;\\n\\n\\t\\t\\t\\tcase 'mceToggleEditor':\\n\\t\\t\\t\\t\\tif (!editor) {\\n\\t\\t\\t\\t\\t\\tself.execCommand('mceAddEditor', 0, value);\\n\\t\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (editor.isHidden()) {\\n\\t\\t\\t\\t\\t\\teditor.show();\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\teditor.hide();\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Run command on active editor\\n\\t\\t\\tif (self.activeEditor) {\\n\\t\\t\\t\\treturn self.activeEditor.execCommand(cmd, ui, value);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn false;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Calls the save method on all editor instances in the collection. This can be useful when a form is to be submitted.\\n\\t\\t *\\n\\t\\t * @method triggerSave\\n\\t\\t * @example\\n\\t\\t * // Saves all contents\\n\\t\\t * tinyMCE.triggerSave();\\n\\t\\t */\\n\\t\\ttriggerSave: function() {\\n\\t\\t\\teach(this.editors, function(editor) {\\n\\t\\t\\t\\teditor.save();\\n\\t\\t\\t});\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Adds a language pack, this gets called by the loaded language files like en.js.\\n\\t\\t *\\n\\t\\t * @method addI18n\\n\\t\\t * @param {String} code Optional language code.\\n\\t\\t * @param {Object} items Name/value object with translations.\\n\\t\\t */\\n\\t\\taddI18n: function(code, items) {\\n\\t\\t\\tI18n.add(code, items);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Translates the specified string using the language pack items.\\n\\t\\t *\\n\\t\\t * @method translate\\n\\t\\t * @param {String/Array/Object} text String to translate\\n\\t\\t * @return {String} Translated string.\\n\\t\\t */\\n\\t\\ttranslate: function(text) {\\n\\t\\t\\treturn I18n.translate(text);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Sets the active editor instance and fires the deactivate/activate events.\\n\\t\\t *\\n\\t\\t * @method setActive\\n\\t\\t * @param {tinymce.Editor} editor Editor instance to set as the active instance.\\n\\t\\t */\\n\\t\\tsetActive: function(editor) {\\n\\t\\t\\tvar activeEditor = this.activeEditor;\\n\\n\\t\\t\\tif (this.activeEditor != editor) {\\n\\t\\t\\t\\tif (activeEditor) {\\n\\t\\t\\t\\t\\tactiveEditor.fire('deactivate', {relatedTarget: editor});\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\teditor.fire('activate', {relatedTarget: activeEditor});\\n\\t\\t\\t}\\n\\n\\t\\t\\tthis.activeEditor = editor;\\n\\t\\t}\\n\\t};\\n\\n\\textend(EditorManager, Observable);\\n\\n\\tEditorManager.setup();\\n\\n\\t// Export EditorManager as tinymce/tinymce in global namespace\\n\\twindow.tinymce = window.tinyMCE = EditorManager;\\n\\n\\treturn EditorManager;\\n});\\n\\n// Included from: js/tinymce/classes/LegacyInput.js\\n\\n/**\\n * LegacyInput.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Converts legacy input to modern HTML.\\n *\\n * @class tinymce.LegacyInput\\n * @private\\n */\\ndefine(\\\"tinymce/LegacyInput\\\", [\\n\\t\\\"tinymce/EditorManager\\\",\\n\\t\\\"tinymce/util/Tools\\\"\\n], function(EditorManager, Tools) {\\n\\tvar each = Tools.each, explode = Tools.explode;\\n\\n\\tEditorManager.on('AddEditor', function(e) {\\n\\t\\tvar editor = e.editor;\\n\\n\\t\\teditor.on('preInit', function() {\\n\\t\\t\\tvar filters, fontSizes, dom, settings = editor.settings;\\n\\n\\t\\t\\tfunction replaceWithSpan(node, styles) {\\n\\t\\t\\t\\teach(styles, function(value, name) {\\n\\t\\t\\t\\t\\tif (value) {\\n\\t\\t\\t\\t\\t\\tdom.setStyle(node, name, value);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\tdom.rename(node, 'span');\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction convert(e) {\\n\\t\\t\\t\\tdom = editor.dom;\\n\\n\\t\\t\\t\\tif (settings.convert_fonts_to_spans) {\\n\\t\\t\\t\\t\\teach(dom.select('font,u,strike', e.node), function(node) {\\n\\t\\t\\t\\t\\t\\tfilters[node.nodeName.toLowerCase()](dom, node);\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (settings.inline_styles) {\\n\\t\\t\\t\\tfontSizes = explode(settings.font_size_legacy_values);\\n\\n\\t\\t\\t\\tfilters = {\\n\\t\\t\\t\\t\\tfont: function(dom, node) {\\n\\t\\t\\t\\t\\t\\treplaceWithSpan(node, {\\n\\t\\t\\t\\t\\t\\t\\tbackgroundColor: node.style.backgroundColor,\\n\\t\\t\\t\\t\\t\\t\\tcolor: node.color,\\n\\t\\t\\t\\t\\t\\t\\tfontFamily: node.face,\\n\\t\\t\\t\\t\\t\\t\\tfontSize: fontSizes[parseInt(node.size, 10) - 1]\\n\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\t\\tu: function(dom, node) {\\n\\t\\t\\t\\t\\t\\t// HTML5 allows U element\\n\\t\\t\\t\\t\\t\\tif (editor.settings.schema === \\\"html4\\\") {\\n\\t\\t\\t\\t\\t\\t\\treplaceWithSpan(node, {\\n\\t\\t\\t\\t\\t\\t\\t\\ttextDecoration: 'underline'\\n\\t\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\t\\tstrike: function(dom, node) {\\n\\t\\t\\t\\t\\t\\treplaceWithSpan(node, {\\n\\t\\t\\t\\t\\t\\t\\ttextDecoration: 'line-through'\\n\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t};\\n\\n\\t\\t\\t\\teditor.on('PreProcess SetContent', convert);\\n\\t\\t\\t}\\n\\t\\t});\\n\\t});\\n});\\n\\n// Included from: js/tinymce/classes/util/XHR.js\\n\\n/**\\n * XHR.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class enables you to send XMLHTTPRequests cross browser.\\n * @class tinymce.util.XHR\\n * @mixes tinymce.util.Observable\\n * @static\\n * @example\\n * // Sends a low level Ajax request\\n * tinymce.util.XHR.send({\\n *    url: 'someurl',\\n *    success: function(text) {\\n *       console.debug(text);\\n *    }\\n * });\\n *\\n * // Add custom header to XHR request\\n * tinymce.util.XHR.on('beforeSend', function(e) {\\n *     e.xhr.setRequestHeader('X-Requested-With', 'Something');\\n * });\\n */\\ndefine(\\\"tinymce/util/XHR\\\", [\\n\\t\\\"tinymce/util/Observable\\\",\\n\\t\\\"tinymce/util/Tools\\\"\\n], function(Observable, Tools) {\\n\\tvar XHR = {\\n\\t\\t/**\\n\\t\\t * Sends a XMLHTTPRequest.\\n\\t\\t * Consult the Wiki for details on what settings this method takes.\\n\\t\\t *\\n\\t\\t * @method send\\n\\t\\t * @param {Object} settings Object will target URL, callbacks and other info needed to make the request.\\n\\t\\t */\\n\\t\\tsend: function(settings) {\\n\\t\\t\\tvar xhr, count = 0;\\n\\n\\t\\t\\tfunction ready() {\\n\\t\\t\\t\\tif (!settings.async || xhr.readyState == 4 || count++ > 10000) {\\n\\t\\t\\t\\t\\tif (settings.success && count < 10000 && xhr.status == 200) {\\n\\t\\t\\t\\t\\t\\tsettings.success.call(settings.success_scope, '' + xhr.responseText, xhr, settings);\\n\\t\\t\\t\\t\\t} else if (settings.error) {\\n\\t\\t\\t\\t\\t\\tsettings.error.call(settings.error_scope, count > 10000 ? 'TIMED_OUT' : 'GENERAL', xhr, settings);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\txhr = null;\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tsetTimeout(ready, 10);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Default settings\\n\\t\\t\\tsettings.scope = settings.scope || this;\\n\\t\\t\\tsettings.success_scope = settings.success_scope || settings.scope;\\n\\t\\t\\tsettings.error_scope = settings.error_scope || settings.scope;\\n\\t\\t\\tsettings.async = settings.async === false ? false : true;\\n\\t\\t\\tsettings.data = settings.data || '';\\n\\n\\t\\t\\tXHR.fire('beforeInitialize', {settings: settings});\\n\\n\\t\\t\\txhr = new XMLHttpRequest();\\n\\n\\t\\t\\tif (xhr) {\\n\\t\\t\\t\\tif (xhr.overrideMimeType) {\\n\\t\\t\\t\\t\\txhr.overrideMimeType(settings.content_type);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\txhr.open(settings.type || (settings.data ? 'POST' : 'GET'), settings.url, settings.async);\\n\\n\\t\\t\\t\\tif (settings.crossDomain) {\\n\\t\\t\\t\\t\\txhr.withCredentials = true;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (settings.content_type) {\\n\\t\\t\\t\\t\\txhr.setRequestHeader('Content-Type', settings.content_type);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (settings.requestheaders) {\\n\\t\\t\\t\\t\\tTools.each(settings.requestheaders, function(header) {\\n\\t\\t\\t\\t\\t\\txhr.setRequestHeader(header.key, header.value);\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\txhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\\n\\n\\t\\t\\t\\txhr = XHR.fire('beforeSend', {xhr: xhr, settings: settings}).xhr;\\n\\t\\t\\t\\txhr.send(settings.data);\\n\\n\\t\\t\\t\\t// Syncronous request\\n\\t\\t\\t\\tif (!settings.async) {\\n\\t\\t\\t\\t\\treturn ready();\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Wait for response, onReadyStateChange can not be used since it leaks memory in IE\\n\\t\\t\\t\\tsetTimeout(ready, 10);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t};\\n\\n\\tTools.extend(XHR, Observable);\\n\\n\\treturn XHR;\\n});\\n\\n// Included from: js/tinymce/classes/util/JSON.js\\n\\n/**\\n * JSON.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * JSON parser and serializer class.\\n *\\n * @class tinymce.util.JSON\\n * @static\\n * @example\\n * // JSON parse a string into an object\\n * var obj = tinymce.util.JSON.parse(somestring);\\n *\\n * // JSON serialize a object into an string\\n * var str = tinymce.util.JSON.serialize(obj);\\n */\\ndefine(\\\"tinymce/util/JSON\\\", [], function() {\\n\\tfunction serialize(o, quote) {\\n\\t\\tvar i, v, t, name;\\n\\n\\t\\tquote = quote || '\\\"';\\n\\n\\t\\tif (o === null) {\\n\\t\\t\\treturn 'null';\\n\\t\\t}\\n\\n\\t\\tt = typeof o;\\n\\n\\t\\tif (t == 'string') {\\n\\t\\t\\tv = '\\\\bb\\\\tt\\\\nn\\\\ff\\\\rr\\\\\\\"\\\"\\\\'\\\\'\\\\\\\\\\\\\\\\';\\n\\n\\t\\t\\t/*eslint no-control-regex:0 */\\n\\t\\t\\treturn quote + o.replace(/([\\\\u0080-\\\\uFFFF\\\\x00-\\\\x1f\\\\\\\"\\\\'\\\\\\\\])/g, function(a, b) {\\n\\t\\t\\t\\t// Make sure single quotes never get encoded inside double quotes for JSON compatibility\\n\\t\\t\\t\\tif (quote === '\\\"' && a === \\\"'\\\") {\\n\\t\\t\\t\\t\\treturn a;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\ti = v.indexOf(b);\\n\\n\\t\\t\\t\\tif (i + 1) {\\n\\t\\t\\t\\t\\treturn '\\\\\\\\' + v.charAt(i + 1);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\ta = b.charCodeAt().toString(16);\\n\\n\\t\\t\\t\\treturn '\\\\\\\\u' + '0000'.substring(a.length) + a;\\n\\t\\t\\t}) + quote;\\n\\t\\t}\\n\\n\\t\\tif (t == 'object') {\\n\\t\\t\\tif (o.hasOwnProperty && Object.prototype.toString.call(o) === '[object Array]') {\\n\\t\\t\\t\\tfor (i = 0, v = '['; i < o.length; i++) {\\n\\t\\t\\t\\t\\tv += (i > 0 ? ',' : '') + serialize(o[i], quote);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn v + ']';\\n\\t\\t\\t}\\n\\n\\t\\t\\tv = '{';\\n\\n\\t\\t\\tfor (name in o) {\\n\\t\\t\\t\\tif (o.hasOwnProperty(name)) {\\n\\t\\t\\t\\t\\tv += typeof o[name] != 'function' ? (v.length > 1 ? ',' + quote : quote) + name +\\n\\t\\t\\t\\t\\t\\tquote + ':' + serialize(o[name], quote) : '';\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn v + '}';\\n\\t\\t}\\n\\n\\t\\treturn '' + o;\\n\\t}\\n\\n\\treturn {\\n\\t\\t/**\\n\\t\\t * Serializes the specified object as a JSON string.\\n\\t\\t *\\n\\t\\t * @method serialize\\n\\t\\t * @param {Object} obj Object to serialize as a JSON string.\\n\\t\\t * @param {String} quote Optional quote string defaults to \\\".\\n\\t\\t * @return {string} JSON string serialized from input.\\n\\t\\t */\\n\\t\\tserialize: serialize,\\n\\n\\t\\t/**\\n\\t\\t * Unserializes/parses the specified JSON string into a object.\\n\\t\\t *\\n\\t\\t * @method parse\\n\\t\\t * @param {string} s JSON String to parse into a JavaScript object.\\n\\t\\t * @return {Object} Object from input JSON string or undefined if it failed.\\n\\t\\t */\\n\\t\\tparse: function(text) {\\n\\t\\t\\ttry {\\n\\t\\t\\t\\t// Trick uglify JS\\n\\t\\t\\t\\treturn window[String.fromCharCode(101) + 'val']('(' + text + ')');\\n\\t\\t\\t} catch (ex) {\\n\\t\\t\\t\\t// Ignore\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/**#@-*/\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/util/JSONRequest.js\\n\\n/**\\n * JSONRequest.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class enables you to use JSON-RPC to call backend methods.\\n *\\n * @class tinymce.util.JSONRequest\\n * @example\\n * var json = new tinymce.util.JSONRequest({\\n *     url: 'somebackend.php'\\n * });\\n *\\n * // Send RPC call 1\\n * json.send({\\n *     method: 'someMethod1',\\n *     params: ['a', 'b'],\\n *     success: function(result) {\\n *         console.dir(result);\\n *     }\\n * });\\n *\\n * // Send RPC call 2\\n * json.send({\\n *     method: 'someMethod2',\\n *     params: ['a', 'b'],\\n *     success: function(result) {\\n *         console.dir(result);\\n *     }\\n * });\\n */\\ndefine(\\\"tinymce/util/JSONRequest\\\", [\\n\\t\\\"tinymce/util/JSON\\\",\\n\\t\\\"tinymce/util/XHR\\\",\\n\\t\\\"tinymce/util/Tools\\\"\\n], function(JSON, XHR, Tools) {\\n\\tvar extend = Tools.extend;\\n\\n\\tfunction JSONRequest(settings) {\\n\\t\\tthis.settings = extend({}, settings);\\n\\t\\tthis.count = 0;\\n\\t}\\n\\n\\t/**\\n\\t * Simple helper function to send a JSON-RPC request without the need to initialize an object.\\n\\t * Consult the Wiki API documentation for more details on what you can pass to this function.\\n\\t *\\n\\t * @method sendRPC\\n\\t * @static\\n\\t * @param {Object} o Call object where there are three field id, method and params this object should also contain callbacks etc.\\n\\t */\\n\\tJSONRequest.sendRPC = function(o) {\\n\\t\\treturn new JSONRequest().send(o);\\n\\t};\\n\\n\\tJSONRequest.prototype = {\\n\\t\\t/**\\n\\t\\t * Sends a JSON-RPC call. Consult the Wiki API documentation for more details on what you can pass to this function.\\n\\t\\t *\\n\\t\\t * @method send\\n\\t\\t * @param {Object} args Call object where there are three field id, method and params this object should also contain callbacks etc.\\n\\t\\t */\\n\\t\\tsend: function(args) {\\n\\t\\t\\tvar ecb = args.error, scb = args.success;\\n\\n\\t\\t\\targs = extend(this.settings, args);\\n\\n\\t\\t\\targs.success = function(c, x) {\\n\\t\\t\\t\\tc = JSON.parse(c);\\n\\n\\t\\t\\t\\tif (typeof c == 'undefined') {\\n\\t\\t\\t\\t\\tc = {\\n\\t\\t\\t\\t\\t\\terror: 'JSON Parse error.'\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (c.error) {\\n\\t\\t\\t\\t\\tecb.call(args.error_scope || args.scope, c.error, x);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tscb.call(args.success_scope || args.scope, c.result);\\n\\t\\t\\t\\t}\\n\\t\\t\\t};\\n\\n\\t\\t\\targs.error = function(ty, x) {\\n\\t\\t\\t\\tif (ecb) {\\n\\t\\t\\t\\t\\tecb.call(args.error_scope || args.scope, ty, x);\\n\\t\\t\\t\\t}\\n\\t\\t\\t};\\n\\n\\t\\t\\targs.data = JSON.serialize({\\n\\t\\t\\t\\tid: args.id || 'c' + (this.count++),\\n\\t\\t\\t\\tmethod: args.method,\\n\\t\\t\\t\\tparams: args.params\\n\\t\\t\\t});\\n\\n\\t\\t\\t// JSON content type for Ruby on rails. Bug: #1883287\\n\\t\\t\\targs.content_type = 'application/json';\\n\\n\\t\\t\\tXHR.send(args);\\n\\t\\t}\\n\\t};\\n\\n\\treturn JSONRequest;\\n});\\n\\n// Included from: js/tinymce/classes/util/JSONP.js\\n\\n/**\\n * JSONP.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\ndefine(\\\"tinymce/util/JSONP\\\", [\\n\\t\\\"tinymce/dom/DOMUtils\\\"\\n], function(DOMUtils) {\\n\\treturn {\\n\\t\\tcallbacks: {},\\n\\t\\tcount: 0,\\n\\n\\t\\tsend: function(settings) {\\n\\t\\t\\tvar self = this, dom = DOMUtils.DOM, count = settings.count !== undefined ? settings.count : self.count;\\n\\t\\t\\tvar id = 'tinymce_jsonp_' + count;\\n\\n\\t\\t\\tself.callbacks[count] = function(json) {\\n\\t\\t\\t\\tdom.remove(id);\\n\\t\\t\\t\\tdelete self.callbacks[count];\\n\\n\\t\\t\\t\\tsettings.callback(json);\\n\\t\\t\\t};\\n\\n\\t\\t\\tdom.add(dom.doc.body, 'script', {\\n\\t\\t\\t\\tid: id,\\n\\t\\t\\t\\tsrc: settings.url,\\n\\t\\t\\t\\ttype: 'text/javascript'\\n\\t\\t\\t});\\n\\n\\t\\t\\tself.count++;\\n\\t\\t}\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/util/LocalStorage.js\\n\\n/**\\n * LocalStorage.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class will simulate LocalStorage on IE 7 and return the native version on modern browsers.\\n * Storage is done using userData on IE 7 and a special serialization format. The format is designed\\n * to be as small as possible by making sure that the keys and values doesn't need to be encoded. This\\n * makes it possible to store for example HTML data.\\n *\\n * Storage format for userData:\\n * <base 32 key length>,<key string>,<base 32 value length>,<value>,...\\n *\\n * For example this data key1=value1,key2=value2 would be:\\n * 4,key1,6,value1,4,key2,6,value2\\n *\\n * @class tinymce.util.LocalStorage\\n * @static\\n * @version 4.0\\n * @example\\n * tinymce.util.LocalStorage.setItem('key', 'value');\\n * var value = tinymce.util.LocalStorage.getItem('key');\\n */\\ndefine(\\\"tinymce/util/LocalStorage\\\", [], function() {\\n\\tvar LocalStorage, storageElm, items, keys, userDataKey, hasOldIEDataSupport;\\n\\n\\t// Check for native support\\n\\ttry {\\n\\t\\tif (window.localStorage) {\\n\\t\\t\\treturn localStorage;\\n\\t\\t}\\n\\t} catch (ex) {\\n\\t\\t// Ignore\\n\\t}\\n\\n\\tuserDataKey = \\\"tinymce\\\";\\n\\tstorageElm = document.documentElement;\\n\\thasOldIEDataSupport = !!storageElm.addBehavior;\\n\\n\\tif (hasOldIEDataSupport) {\\n\\t\\tstorageElm.addBehavior('#default#userData');\\n\\t}\\n\\n\\t/**\\n\\t * Gets the keys names and updates LocalStorage.length property. Since IE7 doesn't have any getters/setters.\\n\\t */\\n\\tfunction updateKeys() {\\n\\t\\tkeys = [];\\n\\n\\t\\tfor (var key in items) {\\n\\t\\t\\tkeys.push(key);\\n\\t\\t}\\n\\n\\t\\tLocalStorage.length = keys.length;\\n\\t}\\n\\n\\t/**\\n\\t * Loads the userData string and parses it into the items structure.\\n\\t */\\n\\tfunction load() {\\n\\t\\tvar key, data, value, pos = 0;\\n\\n\\t\\titems = {};\\n\\n\\t\\t// localStorage can be disabled on WebKit/Gecko so make a dummy storage\\n\\t\\tif (!hasOldIEDataSupport) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tfunction next(end) {\\n\\t\\t\\tvar value, nextPos;\\n\\n\\t\\t\\tnextPos = end !== undefined ? pos + end : data.indexOf(',', pos);\\n\\t\\t\\tif (nextPos === -1 || nextPos > data.length) {\\n\\t\\t\\t\\treturn null;\\n\\t\\t\\t}\\n\\n\\t\\t\\tvalue = data.substring(pos, nextPos);\\n\\t\\t\\tpos = nextPos + 1;\\n\\n\\t\\t\\treturn value;\\n\\t\\t}\\n\\n\\t\\tstorageElm.load(userDataKey);\\n\\t\\tdata = storageElm.getAttribute(userDataKey) || '';\\n\\n\\t\\tdo {\\n\\t\\t\\tvar offset = next();\\n\\t\\t\\tif (offset === null) {\\n\\t\\t\\t\\tbreak;\\n\\t\\t\\t}\\n\\n\\t\\t\\tkey = next(parseInt(offset, 32) || 0);\\n\\t\\t\\tif (key !== null) {\\n\\t\\t\\t\\toffset = next();\\n\\t\\t\\t\\tif (offset === null) {\\n\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tvalue = next(parseInt(offset, 32) || 0);\\n\\n\\t\\t\\t\\tif (key) {\\n\\t\\t\\t\\t\\titems[key] = value;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t} while (key !== null);\\n\\n\\t\\tupdateKeys();\\n\\t}\\n\\n\\t/**\\n\\t * Saves the items structure into a the userData format.\\n\\t */\\n\\tfunction save() {\\n\\t\\tvar value, data = '';\\n\\n\\t\\t// localStorage can be disabled on WebKit/Gecko so make a dummy storage\\n\\t\\tif (!hasOldIEDataSupport) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tfor (var key in items) {\\n\\t\\t\\tvalue = items[key];\\n\\t\\t\\tdata += (data ? ',' : '') + key.length.toString(32) + ',' + key + ',' + value.length.toString(32) + ',' + value;\\n\\t\\t}\\n\\n\\t\\tstorageElm.setAttribute(userDataKey, data);\\n\\n\\t\\ttry {\\n\\t\\t\\tstorageElm.save(userDataKey);\\n\\t\\t} catch (ex) {\\n\\t\\t\\t// Ignore disk full\\n\\t\\t}\\n\\n\\t\\tupdateKeys();\\n\\t}\\n\\n\\tLocalStorage = {\\n\\t\\t/**\\n\\t\\t * Length of the number of items in storage.\\n\\t\\t *\\n\\t\\t * @property length\\n\\t\\t * @type Number\\n\\t\\t * @return {Number} Number of items in storage.\\n\\t\\t */\\n\\t\\t//length:0,\\n\\n\\t\\t/**\\n\\t\\t * Returns the key name by index.\\n\\t\\t *\\n\\t\\t * @method key\\n\\t\\t * @param {Number} index Index of key to return.\\n\\t\\t * @return {String} Key value or null if it wasn't found.\\n\\t\\t */\\n\\t\\tkey: function(index) {\\n\\t\\t\\treturn keys[index];\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns the value if the specified key or null if it wasn't found.\\n\\t\\t *\\n\\t\\t * @method getItem\\n\\t\\t * @param {String} key Key of item to retrieve.\\n\\t\\t * @return {String} Value of the specified item or null if it wasn't found.\\n\\t\\t */\\n\\t\\tgetItem: function(key) {\\n\\t\\t\\treturn key in items ? items[key] : null;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Sets the value of the specified item by it's key.\\n\\t\\t *\\n\\t\\t * @method setItem\\n\\t\\t * @param {String} key Key of the item to set.\\n\\t\\t * @param {String} value Value of the item to set.\\n\\t\\t */\\n\\t\\tsetItem: function(key, value) {\\n\\t\\t\\titems[key] = \\\"\\\" + value;\\n\\t\\t\\tsave();\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Removes the specified item by key.\\n\\t\\t *\\n\\t\\t * @method removeItem\\n\\t\\t * @param {String} key Key of item to remove.\\n\\t\\t */\\n\\t\\tremoveItem: function(key) {\\n\\t\\t\\tdelete items[key];\\n\\t\\t\\tsave();\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Removes all items.\\n\\t\\t *\\n\\t\\t * @method clear\\n\\t\\t */\\n\\t\\tclear: function() {\\n\\t\\t\\titems = {};\\n\\t\\t\\tsave();\\n\\t\\t}\\n\\t};\\n\\n\\tload();\\n\\n\\treturn LocalStorage;\\n});\\n\\n// Included from: js/tinymce/classes/Compat.js\\n\\n/**\\n * Compat.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * TinyMCE core class.\\n *\\n * @static\\n * @class tinymce\\n * @borrow-members tinymce.EditorManager\\n * @borrow-members tinymce.util.Tools\\n */\\ndefine(\\\"tinymce/Compat\\\", [\\n\\t\\\"tinymce/dom/DOMUtils\\\",\\n\\t\\\"tinymce/dom/EventUtils\\\",\\n\\t\\\"tinymce/dom/ScriptLoader\\\",\\n\\t\\\"tinymce/AddOnManager\\\",\\n\\t\\\"tinymce/util/Tools\\\",\\n\\t\\\"tinymce/Env\\\"\\n], function(DOMUtils, EventUtils, ScriptLoader, AddOnManager, Tools, Env) {\\n\\tvar tinymce = window.tinymce;\\n\\n\\t/**\\n\\t * @property {tinymce.dom.DOMUtils} DOM Global DOM instance.\\n\\t * @property {tinymce.dom.ScriptLoader} ScriptLoader Global ScriptLoader instance.\\n\\t * @property {tinymce.AddOnManager} PluginManager Global PluginManager instance.\\n\\t * @property {tinymce.AddOnManager} ThemeManager Global ThemeManager instance.\\n\\t */\\n\\ttinymce.DOM = DOMUtils.DOM;\\n\\ttinymce.ScriptLoader = ScriptLoader.ScriptLoader;\\n\\ttinymce.PluginManager = AddOnManager.PluginManager;\\n\\ttinymce.ThemeManager = AddOnManager.ThemeManager;\\n\\n\\ttinymce.dom = tinymce.dom || {};\\n\\ttinymce.dom.Event = EventUtils.Event;\\n\\n\\tTools.each(\\n\\t\\t'trim isArray is toArray makeMap each map grep inArray extend create walk createNS resolve explode _addCacheSuffix'.split(' '),\\n\\t\\tfunction(key) {\\n\\t\\t\\ttinymce[key] = Tools[key];\\n\\t\\t}\\n\\t);\\n\\n\\tTools.each('isOpera isWebKit isIE isGecko isMac'.split(' '), function(name) {\\n\\t\\ttinymce[name] = Env[name.substr(2).toLowerCase()];\\n\\t});\\n\\n\\treturn {};\\n});\\n\\n// Describe the different namespaces\\n\\n/**\\n * Root level namespace this contains classes directly related to the TinyMCE editor.\\n *\\n * @namespace tinymce\\n */\\n\\n/**\\n * Contains classes for handling the browsers DOM.\\n *\\n * @namespace tinymce.dom\\n */\\n\\n/**\\n * Contains html parser and serializer logic.\\n *\\n * @namespace tinymce.html\\n */\\n\\n/**\\n * Contains the different UI types such as buttons, listboxes etc.\\n *\\n * @namespace tinymce.ui\\n */\\n\\n/**\\n * Contains various utility classes such as json parser, cookies etc.\\n *\\n * @namespace tinymce.util\\n */\\n\\n/**\\n * Contains modules to handle data binding.\\n *\\n * @namespace tinymce.data\\n */\\n\\n// Included from: js/tinymce/classes/ui/Layout.js\\n\\n/**\\n * Layout.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Base layout manager class.\\n *\\n * @class tinymce.ui.Layout\\n */\\ndefine(\\\"tinymce/ui/Layout\\\", [\\n\\t\\\"tinymce/util/Class\\\",\\n\\t\\\"tinymce/util/Tools\\\"\\n], function(Class, Tools) {\\n\\t\\\"use strict\\\";\\n\\n\\treturn Class.extend({\\n\\t\\tDefaults: {\\n\\t\\t\\tfirstControlClass: 'first',\\n\\t\\t\\tlastControlClass: 'last'\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Constructs a layout instance with the specified settings.\\n\\t\\t *\\n\\t\\t * @constructor\\n\\t\\t * @param {Object} settings Name/value object with settings.\\n\\t\\t */\\n\\t\\tinit: function(settings) {\\n\\t\\t\\tthis.settings = Tools.extend({}, this.Defaults, settings);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * This method gets invoked before the layout renders the controls.\\n\\t\\t *\\n\\t\\t * @method preRender\\n\\t\\t * @param {tinymce.ui.Container} container Container instance to preRender.\\n\\t\\t */\\n\\t\\tpreRender: function(container) {\\n\\t\\t\\tcontainer.bodyClasses.add(this.settings.containerClass);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Applies layout classes to the container.\\n\\t\\t *\\n\\t\\t * @private\\n\\t\\t */\\n\\t\\tapplyClasses: function(items) {\\n\\t\\t\\tvar self = this, settings = self.settings, firstClass, lastClass, firstItem, lastItem;\\n\\n\\t\\t\\tfirstClass = settings.firstControlClass;\\n\\t\\t\\tlastClass = settings.lastControlClass;\\n\\n\\t\\t\\titems.each(function(item) {\\n\\t\\t\\t\\titem.classes.remove(firstClass).remove(lastClass).add(settings.controlClass);\\n\\n\\t\\t\\t\\tif (item.visible()) {\\n\\t\\t\\t\\t\\tif (!firstItem) {\\n\\t\\t\\t\\t\\t\\tfirstItem = item;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tlastItem = item;\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\tif (firstItem) {\\n\\t\\t\\t\\tfirstItem.classes.add(firstClass);\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (lastItem) {\\n\\t\\t\\t\\tlastItem.classes.add(lastClass);\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Renders the specified container and any layout specific HTML.\\n\\t\\t *\\n\\t\\t * @method renderHtml\\n\\t\\t * @param {tinymce.ui.Container} container Container to render HTML for.\\n\\t\\t */\\n\\t\\trenderHtml: function(container) {\\n\\t\\t\\tvar self = this, html = '';\\n\\n\\t\\t\\tself.applyClasses(container.items());\\n\\n\\t\\t\\tcontainer.items().each(function(item) {\\n\\t\\t\\t\\thtml += item.renderHtml();\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn html;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Recalculates the positions of the controls in the specified container.\\n\\t\\t *\\n\\t\\t * @method recalc\\n\\t\\t * @param {tinymce.ui.Container} container Container instance to recalc.\\n\\t\\t */\\n\\t\\trecalc: function() {\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * This method gets invoked after the layout renders the controls.\\n\\t\\t *\\n\\t\\t * @method postRender\\n\\t\\t * @param {tinymce.ui.Container} container Container instance to postRender.\\n\\t\\t */\\n\\t\\tpostRender: function() {\\n\\t\\t},\\n\\n\\t\\tisNative: function() {\\n\\t\\t\\treturn false;\\n\\t\\t}\\n\\t});\\n});\\n\\n// Included from: js/tinymce/classes/ui/AbsoluteLayout.js\\n\\n/**\\n * AbsoluteLayout.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * LayoutManager for absolute positioning. This layout manager is more of\\n * a base class for other layouts but can be created and used directly.\\n *\\n * @-x-less AbsoluteLayout.less\\n * @class tinymce.ui.AbsoluteLayout\\n * @extends tinymce.ui.Layout\\n */\\ndefine(\\\"tinymce/ui/AbsoluteLayout\\\", [\\n\\t\\\"tinymce/ui/Layout\\\"\\n], function(Layout) {\\n\\t\\\"use strict\\\";\\n\\n\\treturn Layout.extend({\\n\\t\\tDefaults: {\\n\\t\\t\\tcontainerClass: 'abs-layout',\\n\\t\\t\\tcontrolClass: 'abs-layout-item'\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Recalculates the positions of the controls in the specified container.\\n\\t\\t *\\n\\t\\t * @method recalc\\n\\t\\t * @param {tinymce.ui.Container} container Container instance to recalc.\\n\\t\\t */\\n\\t\\trecalc: function(container) {\\n\\t\\t\\tcontainer.items().filter(':visible').each(function(ctrl) {\\n\\t\\t\\t\\tvar settings = ctrl.settings;\\n\\n\\t\\t\\t\\tctrl.layoutRect({\\n\\t\\t\\t\\t\\tx: settings.x,\\n\\t\\t\\t\\t\\ty: settings.y,\\n\\t\\t\\t\\t\\tw: settings.w,\\n\\t\\t\\t\\t\\th: settings.h\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\tif (ctrl.recalc) {\\n\\t\\t\\t\\t\\tctrl.recalc();\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Renders the specified container and any layout specific HTML.\\n\\t\\t *\\n\\t\\t * @method renderHtml\\n\\t\\t * @param {tinymce.ui.Container} container Container to render HTML for.\\n\\t\\t */\\n\\t\\trenderHtml: function(container) {\\n\\t\\t\\treturn '<div id=\\\"' + container._id + '-absend\\\" class=\\\"' + container.classPrefix + 'abs-end\\\"></div>' + this._super(container);\\n\\t\\t}\\n\\t});\\n});\\n\\n// Included from: js/tinymce/classes/ui/Button.js\\n\\n/**\\n * Button.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class is used to create buttons. You can create them directly or through the Factory.\\n *\\n * @example\\n * // Create and render a button to the body element\\n * tinymce.ui.Factory.create({\\n *     type: 'button',\\n *     text: 'My button'\\n * }).renderTo(document.body);\\n *\\n * @-x-less Button.less\\n * @class tinymce.ui.Button\\n * @extends tinymce.ui.Widget\\n */\\ndefine(\\\"tinymce/ui/Button\\\", [\\n\\t\\\"tinymce/ui/Widget\\\"\\n], function(Widget) {\\n\\t\\\"use strict\\\";\\n\\n\\treturn Widget.extend({\\n\\t\\tDefaults: {\\n\\t\\t\\tclasses: \\\"widget btn\\\",\\n\\t\\t\\trole: \\\"button\\\"\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Constructs a new button instance with the specified settings.\\n\\t\\t *\\n\\t\\t * @constructor\\n\\t\\t * @param {Object} settings Name/value object with settings.\\n\\t\\t * @setting {String} size Size of the button small|medium|large.\\n\\t\\t * @setting {String} image Image to use for icon.\\n\\t\\t * @setting {String} icon Icon to use for button.\\n\\t\\t */\\n\\t\\tinit: function(settings) {\\n\\t\\t\\tvar self = this, size;\\n\\n\\t\\t\\tself._super(settings);\\n\\t\\t\\tsettings = self.settings;\\n\\n\\t\\t\\tsize = self.settings.size;\\n\\n\\t\\t\\tself.on('click mousedown', function(e) {\\n\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t});\\n\\n\\t\\t\\tself.on('touchstart', function(e) {\\n\\t\\t\\t\\tself.fire('click', e);\\n\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t});\\n\\n\\t\\t\\tif (settings.subtype) {\\n\\t\\t\\t\\tself.classes.add(settings.subtype);\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (size) {\\n\\t\\t\\t\\tself.classes.add('btn-' + size);\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (settings.icon) {\\n\\t\\t\\t\\tself.icon(settings.icon);\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Sets/gets the current button icon.\\n\\t\\t *\\n\\t\\t * @method icon\\n\\t\\t * @param {String} [icon] New icon identifier.\\n\\t\\t * @return {String|tinymce.ui.MenuButton} Current icon or current MenuButton instance.\\n\\t\\t */\\n\\t\\ticon: function(icon) {\\n\\t\\t\\tif (!arguments.length) {\\n\\t\\t\\t\\treturn this.state.get('icon');\\n\\t\\t\\t}\\n\\n\\t\\t\\tthis.state.set('icon', icon);\\n\\n\\t\\t\\treturn this;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Repaints the button for example after it's been resizes by a layout engine.\\n\\t\\t *\\n\\t\\t * @method repaint\\n\\t\\t */\\n\\t\\trepaint: function() {\\n\\t\\t\\tvar btnElm = this.getEl().firstChild,\\n\\t\\t\\t\\tbtnStyle;\\n\\n\\t\\t\\tif (btnElm) {\\n\\t\\t\\t\\tbtnStyle = btnElm.style;\\n\\t\\t\\t\\tbtnStyle.width = btnStyle.height = \\\"100%\\\";\\n\\t\\t\\t}\\n\\n\\t\\t\\tthis._super();\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Renders the control as a HTML string.\\n\\t\\t *\\n\\t\\t * @method renderHtml\\n\\t\\t * @return {String} HTML representing the control.\\n\\t\\t */\\n\\t\\trenderHtml: function() {\\n\\t\\t\\tvar self = this, id = self._id, prefix = self.classPrefix;\\n\\t\\t\\tvar icon = self.state.get('icon'), image, text = self.state.get('text'), textHtml = '';\\n\\n\\t\\t\\timage = self.settings.image;\\n\\t\\t\\tif (image) {\\n\\t\\t\\t\\ticon = 'none';\\n\\n\\t\\t\\t\\t// Support for [high dpi, low dpi] image sources\\n\\t\\t\\t\\tif (typeof image != \\\"string\\\") {\\n\\t\\t\\t\\t\\timage = window.getSelection ? image[0] : image[1];\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\timage = ' style=\\\"background-image: url(\\\\'' + image + '\\\\')\\\"';\\n\\t\\t\\t} else {\\n\\t\\t\\t\\timage = '';\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (text) {\\n\\t\\t\\t\\tself.classes.add('btn-has-text');\\n\\t\\t\\t\\ttextHtml = '<span class=\\\"' + prefix + 'txt\\\">' + self.encode(text) + '</span>';\\n\\t\\t\\t}\\n\\n\\t\\t\\ticon = icon ? prefix + 'ico ' + prefix + 'i-' + icon : '';\\n\\n\\t\\t\\treturn (\\n\\t\\t\\t\\t'<div id=\\\"' + id + '\\\" class=\\\"' + self.classes + '\\\" tabindex=\\\"-1\\\" aria-labelledby=\\\"' + id + '\\\">' +\\n\\t\\t\\t\\t\\t'<button role=\\\"presentation\\\" type=\\\"button\\\" tabindex=\\\"-1\\\">' +\\n\\t\\t\\t\\t\\t\\t(icon ? '<i class=\\\"' + icon + '\\\"' + image + '></i>' : '') +\\n\\t\\t\\t\\t\\t\\ttextHtml +\\n\\t\\t\\t\\t\\t'</button>' +\\n\\t\\t\\t\\t'</div>'\\n\\t\\t\\t);\\n\\t\\t},\\n\\n\\t\\tbindStates: function() {\\n\\t\\t\\tvar self = this, $ = self.$, textCls = self.classPrefix + 'txt';\\n\\n\\t\\t\\tfunction setButtonText(text) {\\n\\t\\t\\t\\tvar $span = $('span.' + textCls, self.getEl());\\n\\n\\t\\t\\t\\tif (text) {\\n\\t\\t\\t\\t\\tif (!$span[0]) {\\n\\t\\t\\t\\t\\t\\t$('button:first', self.getEl()).append('<span class=\\\"' + textCls + '\\\"></span>');\\n\\t\\t\\t\\t\\t\\t$span = $('span.' + textCls, self.getEl());\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t$span.html(self.encode(text));\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t$span.remove();\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tself.classes.toggle('btn-has-text', !!text);\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.state.on('change:text', function(e) {\\n\\t\\t\\t\\tsetButtonText(e.value);\\n\\t\\t\\t});\\n\\n\\t\\t\\tself.state.on('change:icon', function(e) {\\n\\t\\t\\t\\tvar icon = e.value, prefix = self.classPrefix;\\n\\n\\t\\t\\t\\tself.settings.icon = icon;\\n\\t\\t\\t\\ticon = icon ? prefix + 'ico ' + prefix + 'i-' + self.settings.icon : '';\\n\\n\\t\\t\\t\\tvar btnElm = self.getEl().firstChild, iconElm = btnElm.getElementsByTagName('i')[0];\\n\\n\\t\\t\\t\\tif (icon) {\\n\\t\\t\\t\\t\\tif (!iconElm || iconElm != btnElm.firstChild) {\\n\\t\\t\\t\\t\\t\\ticonElm = document.createElement('i');\\n\\t\\t\\t\\t\\t\\tbtnElm.insertBefore(iconElm, btnElm.firstChild);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\ticonElm.className = icon;\\n\\t\\t\\t\\t} else if (iconElm) {\\n\\t\\t\\t\\t\\tbtnElm.removeChild(iconElm);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tsetButtonText(self.state.get('text'));\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn self._super();\\n\\t\\t}\\n\\t});\\n});\\n\\n// Included from: js/tinymce/classes/ui/ButtonGroup.js\\n\\n/**\\n * ButtonGroup.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This control enables you to put multiple buttons into a group. This is\\n * useful when you want to combine similar toolbar buttons into a group.\\n *\\n * @example\\n * // Create and render a buttongroup with two buttons to the body element\\n * tinymce.ui.Factory.create({\\n *     type: 'buttongroup',\\n *     items: [\\n *         {text: 'Button A'},\\n *         {text: 'Button B'}\\n *     ]\\n * }).renderTo(document.body);\\n *\\n * @-x-less ButtonGroup.less\\n * @class tinymce.ui.ButtonGroup\\n * @extends tinymce.ui.Container\\n */\\ndefine(\\\"tinymce/ui/ButtonGroup\\\", [\\n\\t\\\"tinymce/ui/Container\\\"\\n], function(Container) {\\n\\t\\\"use strict\\\";\\n\\n\\treturn Container.extend({\\n\\t\\tDefaults: {\\n\\t\\t\\tdefaultType: 'button',\\n\\t\\t\\trole: 'group'\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Renders the control as a HTML string.\\n\\t\\t *\\n\\t\\t * @method renderHtml\\n\\t\\t * @return {String} HTML representing the control.\\n\\t\\t */\\n\\t\\trenderHtml: function() {\\n\\t\\t\\tvar self = this, layout = self._layout;\\n\\n\\t\\t\\tself.classes.add('btn-group');\\n\\t\\t\\tself.preRender();\\n\\t\\t\\tlayout.preRender(self);\\n\\n\\t\\t\\treturn (\\n\\t\\t\\t\\t'<div id=\\\"' + self._id + '\\\" class=\\\"' + self.classes + '\\\">' +\\n\\t\\t\\t\\t\\t'<div id=\\\"' + self._id + '-body\\\">' +\\n\\t\\t\\t\\t\\t\\t(self.settings.html || '') + layout.renderHtml(self) +\\n\\t\\t\\t\\t\\t'</div>' +\\n\\t\\t\\t\\t'</div>'\\n\\t\\t\\t);\\n\\t\\t}\\n\\t});\\n});\\n\\n// Included from: js/tinymce/classes/ui/Checkbox.js\\n\\n/**\\n * Checkbox.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This control creates a custom checkbox.\\n *\\n * @example\\n * // Create and render a checkbox to the body element\\n * tinymce.ui.Factory.create({\\n *     type: 'checkbox',\\n *     checked: true,\\n *     text: 'My checkbox'\\n * }).renderTo(document.body);\\n *\\n * @-x-less Checkbox.less\\n * @class tinymce.ui.Checkbox\\n * @extends tinymce.ui.Widget\\n */\\ndefine(\\\"tinymce/ui/Checkbox\\\", [\\n\\t\\\"tinymce/ui/Widget\\\"\\n], function(Widget) {\\n\\t\\\"use strict\\\";\\n\\n\\treturn Widget.extend({\\n\\t\\tDefaults: {\\n\\t\\t\\tclasses: \\\"checkbox\\\",\\n\\t\\t\\trole: \\\"checkbox\\\",\\n\\t\\t\\tchecked: false\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Constructs a new Checkbox instance with the specified settings.\\n\\t\\t *\\n\\t\\t * @constructor\\n\\t\\t * @param {Object} settings Name/value object with settings.\\n\\t\\t * @setting {Boolean} checked True if the checkbox should be checked by default.\\n\\t\\t */\\n\\t\\tinit: function(settings) {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tself._super(settings);\\n\\n\\t\\t\\tself.on('click mousedown', function(e) {\\n\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t});\\n\\n\\t\\t\\tself.on('click', function(e) {\\n\\t\\t\\t\\te.preventDefault();\\n\\n\\t\\t\\t\\tif (!self.disabled()) {\\n\\t\\t\\t\\t\\tself.checked(!self.checked());\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\tself.checked(self.settings.checked);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Getter/setter function for the checked state.\\n\\t\\t *\\n\\t\\t * @method checked\\n\\t\\t * @param {Boolean} [state] State to be set.\\n\\t\\t * @return {Boolean|tinymce.ui.Checkbox} True/false or checkbox if it's a set operation.\\n\\t\\t */\\n\\t\\tchecked: function(state) {\\n\\t\\t\\tif (!arguments.length) {\\n\\t\\t\\t\\treturn this.state.get('checked');\\n\\t\\t\\t}\\n\\n\\t\\t\\tthis.state.set('checked', state);\\n\\n\\t\\t\\treturn this;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Getter/setter function for the value state.\\n\\t\\t *\\n\\t\\t * @method value\\n\\t\\t * @param {Boolean} [state] State to be set.\\n\\t\\t * @return {Boolean|tinymce.ui.Checkbox} True/false or checkbox if it's a set operation.\\n\\t\\t */\\n\\t\\tvalue: function(state) {\\n\\t\\t\\tif (!arguments.length) {\\n\\t\\t\\t\\treturn this.checked();\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn this.checked(state);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Renders the control as a HTML string.\\n\\t\\t *\\n\\t\\t * @method renderHtml\\n\\t\\t * @return {String} HTML representing the control.\\n\\t\\t */\\n\\t\\trenderHtml: function() {\\n\\t\\t\\tvar self = this, id = self._id, prefix = self.classPrefix;\\n\\n\\t\\t\\treturn (\\n\\t\\t\\t\\t'<div id=\\\"' + id + '\\\" class=\\\"' + self.classes + '\\\" unselectable=\\\"on\\\" aria-labelledby=\\\"' + id + '-al\\\" tabindex=\\\"-1\\\">' +\\n\\t\\t\\t\\t\\t'<i class=\\\"' + prefix + 'ico ' + prefix + 'i-checkbox\\\"></i>' +\\n\\t\\t\\t\\t\\t'<span id=\\\"' + id + '-al\\\" class=\\\"' + prefix + 'label\\\">' + self.encode(self.state.get('text')) + '</span>' +\\n\\t\\t\\t\\t'</div>'\\n\\t\\t\\t);\\n\\t\\t},\\n\\n\\t\\tbindStates: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tfunction checked(state) {\\n\\t\\t\\t\\tself.classes.toggle(\\\"checked\\\", state);\\n\\t\\t\\t\\tself.aria('checked', state);\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.state.on('change:text', function(e) {\\n\\t\\t\\t\\tself.getEl('al').firstChild.data = self.translate(e.value);\\n\\t\\t\\t});\\n\\n\\t\\t\\tself.state.on('change:checked change:value', function(e) {\\n\\t\\t\\t\\tself.fire('change');\\n\\t\\t\\t\\tchecked(e.value);\\n\\t\\t\\t});\\n\\n\\t\\t\\tself.state.on('change:icon', function(e) {\\n\\t\\t\\t\\tvar icon = e.value, prefix = self.classPrefix;\\n\\n\\t\\t\\t\\tif (typeof icon == 'undefined') {\\n\\t\\t\\t\\t\\treturn self.settings.icon;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tself.settings.icon = icon;\\n\\t\\t\\t\\ticon = icon ? prefix + 'ico ' + prefix + 'i-' + self.settings.icon : '';\\n\\n\\t\\t\\t\\tvar btnElm = self.getEl().firstChild, iconElm = btnElm.getElementsByTagName('i')[0];\\n\\n\\t\\t\\t\\tif (icon) {\\n\\t\\t\\t\\t\\tif (!iconElm || iconElm != btnElm.firstChild) {\\n\\t\\t\\t\\t\\t\\ticonElm = document.createElement('i');\\n\\t\\t\\t\\t\\t\\tbtnElm.insertBefore(iconElm, btnElm.firstChild);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\ticonElm.className = icon;\\n\\t\\t\\t\\t} else if (iconElm) {\\n\\t\\t\\t\\t\\tbtnElm.removeChild(iconElm);\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\tif (self.state.get('checked')) {\\n\\t\\t\\t\\tchecked(true);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn self._super();\\n\\t\\t}\\n\\t});\\n});\\n\\n// Included from: js/tinymce/classes/ui/ComboBox.js\\n\\n/**\\n * ComboBox.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class creates a combobox control. Select box that you select a value from or\\n * type a value into.\\n *\\n * @-x-less ComboBox.less\\n * @class tinymce.ui.ComboBox\\n * @extends tinymce.ui.Widget\\n */\\ndefine(\\\"tinymce/ui/ComboBox\\\", [\\n\\t\\\"tinymce/ui/Widget\\\",\\n\\t\\\"tinymce/ui/Factory\\\",\\n\\t\\\"tinymce/ui/DomUtils\\\",\\n\\t\\\"tinymce/dom/DomQuery\\\",\\n\\t\\\"tinymce/util/VK\\\",\\n\\t\\\"tinymce/util/Tools\\\"\\n], function(Widget, Factory, DomUtils, $, VK, Tools) {\\n\\t\\\"use strict\\\";\\n\\n\\treturn Widget.extend({\\n\\t\\t/**\\n\\t\\t * Constructs a new control instance with the specified settings.\\n\\t\\t *\\n\\t\\t * @constructor\\n\\t\\t * @param {Object} settings Name/value object with settings.\\n\\t\\t * @setting {String} placeholder Placeholder text to display.\\n\\t\\t */\\n\\t\\tinit: function(settings) {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tself._super(settings);\\n\\t\\t\\tsettings = self.settings;\\n\\n\\t\\t\\tself.classes.add('combobox');\\n\\t\\t\\tself.subinput = true;\\n\\t\\t\\tself.ariaTarget = 'inp'; // TODO: Figure out a better way\\n\\n\\t\\t\\tsettings.menu = settings.menu || settings.values;\\n\\n\\t\\t\\tif (settings.menu) {\\n\\t\\t\\t\\tsettings.icon = 'caret';\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.on('click', function(e) {\\n\\t\\t\\t\\tvar elm = e.target, root = self.getEl();\\n\\n\\t\\t\\t\\tif (!$.contains(root, elm) && elm != root) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\twhile (elm && elm != root) {\\n\\t\\t\\t\\t\\tif (elm.id && elm.id.indexOf('-open') != -1) {\\n\\t\\t\\t\\t\\t\\tself.fire('action');\\n\\n\\t\\t\\t\\t\\t\\tif (settings.menu) {\\n\\t\\t\\t\\t\\t\\t\\tself.showMenu();\\n\\n\\t\\t\\t\\t\\t\\t\\tif (e.aria) {\\n\\t\\t\\t\\t\\t\\t\\t\\tself.menu.items()[0].focus();\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\telm = elm.parentNode;\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\t// TODO: Rework this\\n\\t\\t\\tself.on('keydown', function(e) {\\n\\t\\t\\t\\tvar rootControl;\\n\\n\\t\\t\\t\\tif (e.keyCode == 13 && e.target.nodeName === 'INPUT') {\\n\\t\\t\\t\\t\\te.preventDefault();\\n\\n\\t\\t\\t\\t\\t// Find root control that we can do toJSON on\\n\\t\\t\\t\\t\\tself.parents().reverse().each(function(ctrl) {\\n\\t\\t\\t\\t\\t\\tif (ctrl.toJSON) {\\n\\t\\t\\t\\t\\t\\t\\trootControl = ctrl;\\n\\t\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\t// Fire event on current text box with the serialized data of the whole form\\n\\t\\t\\t\\t\\tself.fire('submit', {data: rootControl.toJSON()});\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\tself.on('keyup', function(e) {\\n\\t\\t\\t\\tif (e.target.nodeName == \\\"INPUT\\\") {\\n\\t\\t\\t\\t\\tvar oldValue = self.state.get('value');\\n\\t\\t\\t\\t\\tvar newValue = e.target.value;\\n\\n\\t\\t\\t\\t\\tif (newValue !== oldValue) {\\n\\t\\t\\t\\t\\t\\tself.state.set('value', newValue);\\n\\t\\t\\t\\t\\t\\tself.fire('autocomplete', e);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\tself.on('mouseover', function(e) {\\n\\t\\t\\t\\tvar tooltip = self.tooltip().moveTo(-0xFFFF);\\n\\n\\t\\t\\t\\tif (self.statusLevel() && e.target.className.indexOf(self.classPrefix + 'status') !== -1) {\\n\\t\\t\\t\\t\\tvar statusMessage = self.statusMessage() || 'Ok';\\n\\t\\t\\t\\t\\tvar rel = tooltip.text(statusMessage).show().testMoveRel(e.target, ['bc-tc', 'bc-tl', 'bc-tr']);\\n\\n\\t\\t\\t\\t\\ttooltip.classes.toggle('tooltip-n', rel == 'bc-tc');\\n\\t\\t\\t\\t\\ttooltip.classes.toggle('tooltip-nw', rel == 'bc-tl');\\n\\t\\t\\t\\t\\ttooltip.classes.toggle('tooltip-ne', rel == 'bc-tr');\\n\\n\\t\\t\\t\\t\\ttooltip.moveRel(e.target, rel);\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t},\\n\\n\\t\\tstatusLevel: function (value) {\\n\\t\\t\\tif (arguments.length > 0) {\\n\\t\\t\\t\\tthis.state.set('statusLevel', value);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn this.state.get('statusLevel');\\n\\t\\t},\\n\\n\\t\\tstatusMessage: function (value) {\\n\\t\\t\\tif (arguments.length > 0) {\\n\\t\\t\\t\\tthis.state.set('statusMessage', value);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn this.state.get('statusMessage');\\n\\t\\t},\\n\\n\\t\\tshowMenu: function() {\\n\\t\\t\\tvar self = this, settings = self.settings, menu;\\n\\n\\t\\t\\tif (!self.menu) {\\n\\t\\t\\t\\tmenu = settings.menu || [];\\n\\n\\t\\t\\t\\t// Is menu array then auto constuct menu control\\n\\t\\t\\t\\tif (menu.length) {\\n\\t\\t\\t\\t\\tmenu = {\\n\\t\\t\\t\\t\\t\\ttype: 'menu',\\n\\t\\t\\t\\t\\t\\titems: menu\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tmenu.type = menu.type || 'menu';\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tself.menu = Factory.create(menu).parent(self).renderTo(self.getContainerElm());\\n\\t\\t\\t\\tself.fire('createmenu');\\n\\t\\t\\t\\tself.menu.reflow();\\n\\t\\t\\t\\tself.menu.on('cancel', function(e) {\\n\\t\\t\\t\\t\\tif (e.control === self.menu) {\\n\\t\\t\\t\\t\\t\\tself.focus();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\tself.menu.on('show hide', function(e) {\\n\\t\\t\\t\\t\\te.control.items().each(function(ctrl) {\\n\\t\\t\\t\\t\\t\\tctrl.active(ctrl.value() == self.value());\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t}).fire('show');\\n\\n\\t\\t\\t\\tself.menu.on('select', function(e) {\\n\\t\\t\\t\\t\\tself.value(e.control.value());\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\tself.on('focusin', function(e) {\\n\\t\\t\\t\\t\\tif (e.target.tagName.toUpperCase() == 'INPUT') {\\n\\t\\t\\t\\t\\t\\tself.menu.hide();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\tself.aria('expanded', true);\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.menu.show();\\n\\t\\t\\tself.menu.layoutRect({w: self.layoutRect().w});\\n\\t\\t\\tself.menu.moveRel(self.getEl(), self.isRtl() ? ['br-tr', 'tr-br'] : ['bl-tl', 'tl-bl']);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Focuses the input area of the control.\\n\\t\\t *\\n\\t\\t * @method focus\\n\\t\\t */\\n\\t\\tfocus: function() {\\n\\t\\t\\tthis.getEl('inp').focus();\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Repaints the control after a layout operation.\\n\\t\\t *\\n\\t\\t * @method repaint\\n\\t\\t */\\n\\t\\trepaint: function() {\\n\\t\\t\\tvar self = this, elm = self.getEl(), openElm = self.getEl('open'), rect = self.layoutRect();\\n\\t\\t\\tvar width, lineHeight, innerPadding = 0, inputElm = elm.firstChild;\\n\\n\\t\\t\\tif (self.statusLevel() && self.statusLevel() !== 'none') {\\n\\t\\t\\t\\tinnerPadding = (\\n\\t\\t\\t\\t\\tparseInt(DomUtils.getRuntimeStyle(inputElm, 'padding-right'), 10) -\\n\\t\\t\\t\\t\\tparseInt(DomUtils.getRuntimeStyle(inputElm, 'padding-left'), 10)\\n\\t\\t\\t\\t);\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (openElm) {\\n\\t\\t\\t\\twidth = rect.w - DomUtils.getSize(openElm).width - 10;\\n\\t\\t\\t} else {\\n\\t\\t\\t\\twidth = rect.w - 10;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Detect old IE 7+8 add lineHeight to align caret vertically in the middle\\n\\t\\t\\tvar doc = document;\\n\\t\\t\\tif (doc.all && (!doc.documentMode || doc.documentMode <= 8)) {\\n\\t\\t\\t\\tlineHeight = (self.layoutRect().h - 2) + 'px';\\n\\t\\t\\t}\\n\\n\\t\\t\\t$(inputElm).css({\\n\\t\\t\\t\\twidth: width - innerPadding,\\n\\t\\t\\t\\tlineHeight: lineHeight\\n\\t\\t\\t});\\n\\n\\t\\t\\tself._super();\\n\\n\\t\\t\\treturn self;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Post render method. Called after the control has been rendered to the target.\\n\\t\\t *\\n\\t\\t * @method postRender\\n\\t\\t * @return {tinymce.ui.ComboBox} Current combobox instance.\\n\\t\\t */\\n\\t\\tpostRender: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\t$(this.getEl('inp')).on('change', function(e) {\\n\\t\\t\\t\\tself.state.set('value', e.target.value);\\n\\t\\t\\t\\tself.fire('change', e);\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn self._super();\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Renders the control as a HTML string.\\n\\t\\t *\\n\\t\\t * @method renderHtml\\n\\t\\t * @return {String} HTML representing the control.\\n\\t\\t */\\n\\t\\trenderHtml: function() {\\n\\t\\t\\tvar self = this, id = self._id, settings = self.settings, prefix = self.classPrefix;\\n\\t\\t\\tvar value = self.state.get('value') || '';\\n\\t\\t\\tvar icon, text, openBtnHtml = '', extraAttrs = '', statusHtml = '';\\n\\n\\t\\t\\tif (\\\"spellcheck\\\" in settings) {\\n\\t\\t\\t\\textraAttrs += ' spellcheck=\\\"' + settings.spellcheck + '\\\"';\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (settings.maxLength) {\\n\\t\\t\\t\\textraAttrs += ' maxlength=\\\"' + settings.maxLength + '\\\"';\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (settings.size) {\\n\\t\\t\\t\\textraAttrs += ' size=\\\"' + settings.size + '\\\"';\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (settings.subtype) {\\n\\t\\t\\t\\textraAttrs += ' type=\\\"' + settings.subtype + '\\\"';\\n\\t\\t\\t}\\n\\n\\t\\t\\tstatusHtml = '<i id=\\\"' + id + '-status\\\" class=\\\"mce-status mce-ico\\\" style=\\\"display: none\\\"></i>';\\n\\n\\t\\t\\tif (self.disabled()) {\\n\\t\\t\\t\\textraAttrs += ' disabled=\\\"disabled\\\"';\\n\\t\\t\\t}\\n\\n\\t\\t\\ticon = settings.icon;\\n\\t\\t\\tif (icon && icon != 'caret') {\\n\\t\\t\\t\\ticon = prefix + 'ico ' + prefix + 'i-' + settings.icon;\\n\\t\\t\\t}\\n\\n\\t\\t\\ttext = self.state.get('text');\\n\\n\\t\\t\\tif (icon || text) {\\n\\t\\t\\t\\topenBtnHtml = (\\n\\t\\t\\t\\t\\t'<div id=\\\"' + id + '-open\\\" class=\\\"' + prefix + 'btn ' + prefix + 'open\\\" tabIndex=\\\"-1\\\" role=\\\"button\\\">' +\\n\\t\\t\\t\\t\\t\\t'<button id=\\\"' + id + '-action\\\" type=\\\"button\\\" hidefocus=\\\"1\\\" tabindex=\\\"-1\\\">' +\\n\\t\\t\\t\\t\\t\\t\\t(icon != 'caret' ? '<i class=\\\"' + icon + '\\\"></i>' : '<i class=\\\"' + prefix + 'caret\\\"></i>') +\\n\\t\\t\\t\\t\\t\\t\\t(text ? (icon ? ' ' : '') + text : '') +\\n\\t\\t\\t\\t\\t\\t'</button>' +\\n\\t\\t\\t\\t\\t'</div>'\\n\\t\\t\\t\\t);\\n\\n\\t\\t\\t\\tself.classes.add('has-open');\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn (\\n\\t\\t\\t\\t'<div id=\\\"' + id + '\\\" class=\\\"' + self.classes + '\\\">' +\\n\\t\\t\\t\\t\\t'<input id=\\\"' + id + '-inp\\\" class=\\\"' + prefix + 'textbox\\\" value=\\\"' +\\n\\t\\t\\t\\t\\tself.encode(value, false) + '\\\" hidefocus=\\\"1\\\"' + extraAttrs + ' placeholder=\\\"' +\\n\\t\\t\\t\\t\\tself.encode(settings.placeholder) + '\\\" />' +\\n\\t\\t\\t\\t\\tstatusHtml +\\n\\t\\t\\t\\t\\topenBtnHtml +\\n\\t\\t\\t\\t'</div>'\\n\\t\\t\\t);\\n\\t\\t},\\n\\n\\t\\tvalue: function(value) {\\n\\t\\t\\tif (arguments.length) {\\n\\t\\t\\t\\tthis.state.set('value', value);\\n\\t\\t\\t\\treturn this;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Make sure the real state is in sync\\n\\t\\t\\tif (this.state.get('rendered')) {\\n\\t\\t\\t\\tthis.state.set('value', this.getEl('inp').value);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn this.state.get('value');\\n\\t\\t},\\n\\n\\t\\tshowAutoComplete: function (items, term) {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tif (items.length === 0) {\\n\\t\\t\\t\\tself.hideMenu();\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tvar insert = function (value, title) {\\n\\t\\t\\t\\treturn function () {\\n\\t\\t\\t\\t\\tself.fire('selectitem', {\\n\\t\\t\\t\\t\\t\\ttitle: title,\\n\\t\\t\\t\\t\\t\\tvalue: value\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t};\\n\\t\\t\\t};\\n\\n\\t\\t\\tif (self.menu) {\\n\\t\\t\\t\\tself.menu.items().remove();\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tself.menu = Factory.create({\\n\\t\\t\\t\\t\\ttype: 'menu',\\n\\t\\t\\t\\t\\tclasses: 'combobox-menu',\\n\\t\\t\\t\\t\\tlayout: 'flow'\\n\\t\\t\\t\\t}).parent(self).renderTo();\\n\\t\\t\\t}\\n\\n\\t\\t\\tTools.each(items, function (item) {\\n\\t\\t\\t\\tself.menu.add({\\n\\t\\t\\t\\t\\ttext: item.title,\\n\\t\\t\\t\\t\\turl: item.previewUrl,\\n\\t\\t\\t\\t\\tmatch: term,\\n\\t\\t\\t\\t\\tclasses: 'menu-item-ellipsis',\\n\\t\\t\\t\\t\\tonclick: insert(item.value, item.title)\\n\\t\\t\\t\\t});\\n\\t\\t\\t});\\n\\n\\t\\t\\tself.menu.renderNew();\\n\\t\\t\\tself.hideMenu();\\n\\n\\t\\t\\tself.menu.on('cancel', function(e) {\\n\\t\\t\\t\\tif (e.control.parent() === self.menu) {\\n\\t\\t\\t\\t\\te.stopPropagation();\\n\\t\\t\\t\\t\\tself.focus();\\n\\t\\t\\t\\t\\tself.hideMenu();\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\tself.menu.on('select', function() {\\n\\t\\t\\t\\tself.focus();\\n\\t\\t\\t});\\n\\n\\t\\t\\tvar maxW = self.layoutRect().w;\\n\\t\\t\\tself.menu.layoutRect({w: maxW, minW: 0, maxW: maxW});\\n\\t\\t\\tself.menu.reflow();\\n\\t\\t\\tself.menu.show();\\n\\t\\t\\tself.menu.moveRel(self.getEl(), self.isRtl() ? ['br-tr', 'tr-br'] : ['bl-tl', 'tl-bl']);\\n\\t\\t},\\n\\n\\t\\thideMenu: function() {\\n\\t\\t\\tif (this.menu) {\\n\\t\\t\\t\\tthis.menu.hide();\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\tbindStates: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tself.state.on('change:value', function(e) {\\n\\t\\t\\t\\tif (self.getEl('inp').value != e.value) {\\n\\t\\t\\t\\t\\tself.getEl('inp').value = e.value;\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\tself.state.on('change:disabled', function(e) {\\n\\t\\t\\t\\tself.getEl('inp').disabled = e.value;\\n\\t\\t\\t});\\n\\n\\t\\t\\tself.state.on('change:statusLevel', function(e) {\\n\\t\\t\\t\\tvar statusIconElm = self.getEl('status');\\n\\t\\t\\t\\tvar prefix = self.classPrefix, value = e.value;\\n\\n\\t\\t\\t\\tDomUtils.css(statusIconElm, 'display', value === 'none' ? 'none' : '');\\n\\t\\t\\t\\tDomUtils.toggleClass(statusIconElm, prefix + 'i-checkmark', value === 'ok');\\n\\t\\t\\t\\tDomUtils.toggleClass(statusIconElm, prefix + 'i-warning', value === 'warn');\\n\\t\\t\\t\\tDomUtils.toggleClass(statusIconElm, prefix + 'i-error', value === 'error');\\n\\t\\t\\t\\tself.classes.toggle('has-status', value !== 'none');\\n\\t\\t\\t\\tself.repaint();\\n\\t\\t\\t});\\n\\n\\t\\t\\tDomUtils.on(self.getEl('status'), 'mouseleave', function () {\\n\\t\\t\\t\\tself.tooltip().hide();\\n\\t\\t\\t});\\n\\n\\t\\t\\tself.on('cancel', function (e) {\\n\\t\\t\\t\\tif (self.menu && self.menu.visible()) {\\n\\t\\t\\t\\t\\te.stopPropagation();\\n\\t\\t\\t\\t\\tself.hideMenu();\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\tvar focusIdx = function (idx, menu) {\\n\\t\\t\\t\\tif (menu && menu.items().length > 0) {\\n\\t\\t\\t\\t\\tmenu.items().eq(idx)[0].focus();\\n\\t\\t\\t\\t}\\n\\t\\t\\t};\\n\\n\\t\\t\\tself.on('keydown', function (e) {\\n\\t\\t\\t\\tvar keyCode = e.keyCode;\\n\\n\\t\\t\\t\\tif (e.target.nodeName === 'INPUT') {\\n\\t\\t\\t\\t\\tif (keyCode === VK.DOWN) {\\n\\t\\t\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t\\t\\t\\tself.fire('autocomplete');\\n\\t\\t\\t\\t\\t\\tfocusIdx(0, self.menu);\\n\\t\\t\\t\\t\\t} else if (keyCode === VK.UP) {\\n\\t\\t\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t\\t\\t\\tfocusIdx(-1, self.menu);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn self._super();\\n\\t\\t},\\n\\n\\t\\tremove: function() {\\n\\t\\t\\t$(this.getEl('inp')).off();\\n\\n\\t\\t\\tif (this.menu) {\\n\\t\\t\\t\\tthis.menu.remove();\\n\\t\\t\\t}\\n\\n\\t\\t\\tthis._super();\\n\\t\\t}\\n\\t});\\n});\\n\\n// Included from: js/tinymce/classes/ui/ColorBox.js\\n\\n/**\\n * ColorBox.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This widget lets you enter colors and browse for colors by pressing the color button. It also displays\\n * a preview of the current color.\\n *\\n * @-x-less ColorBox.less\\n * @class tinymce.ui.ColorBox\\n * @extends tinymce.ui.ComboBox\\n */\\ndefine(\\\"tinymce/ui/ColorBox\\\", [\\n\\t\\\"tinymce/ui/ComboBox\\\"\\n], function(ComboBox) {\\n\\t\\\"use strict\\\";\\n\\n\\treturn ComboBox.extend({\\n\\t\\t/**\\n\\t\\t * Constructs a new control instance with the specified settings.\\n\\t\\t *\\n\\t\\t * @constructor\\n\\t\\t * @param {Object} settings Name/value object with settings.\\n\\t\\t */\\n\\t\\tinit: function(settings) {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tsettings.spellcheck = false;\\n\\n\\t\\t\\tif (settings.onaction) {\\n\\t\\t\\t\\tsettings.icon = 'none';\\n\\t\\t\\t}\\n\\n\\t\\t\\tself._super(settings);\\n\\n\\t\\t\\tself.classes.add('colorbox');\\n\\t\\t\\tself.on('change keyup postrender', function() {\\n\\t\\t\\t\\tself.repaintColor(self.value());\\n\\t\\t\\t});\\n\\t\\t},\\n\\n\\t\\trepaintColor: function(value) {\\n\\t\\t\\tvar openElm = this.getEl('open');\\n\\t\\t\\tvar elm = openElm ? openElm.getElementsByTagName('i')[0] : null;\\n\\n\\t\\t\\tif (elm) {\\n\\t\\t\\t\\ttry {\\n\\t\\t\\t\\t\\telm.style.background = value;\\n\\t\\t\\t\\t} catch (ex) {\\n\\t\\t\\t\\t\\t// Ignore\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\tbindStates: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tself.state.on('change:value', function(e) {\\n\\t\\t\\t\\tif (self.state.get('rendered')) {\\n\\t\\t\\t\\t\\tself.repaintColor(e.value);\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn self._super();\\n\\t\\t}\\n\\t});\\n});\\n\\n// Included from: js/tinymce/classes/ui/PanelButton.js\\n\\n/**\\n * PanelButton.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Creates a new panel button.\\n *\\n * @class tinymce.ui.PanelButton\\n * @extends tinymce.ui.Button\\n */\\ndefine(\\\"tinymce/ui/PanelButton\\\", [\\n\\t\\\"tinymce/ui/Button\\\",\\n\\t\\\"tinymce/ui/FloatPanel\\\"\\n], function(Button, FloatPanel) {\\n\\t\\\"use strict\\\";\\n\\n\\treturn Button.extend({\\n\\t\\t/**\\n\\t\\t * Shows the panel for the button.\\n\\t\\t *\\n\\t\\t * @method showPanel\\n\\t\\t */\\n\\t\\tshowPanel: function() {\\n\\t\\t\\tvar self = this, settings = self.settings;\\n\\n\\t\\t\\tself.active(true);\\n\\n\\t\\t\\tif (!self.panel) {\\n\\t\\t\\t\\tvar panelSettings = settings.panel;\\n\\n\\t\\t\\t\\t// Wrap panel in grid layout if type if specified\\n\\t\\t\\t\\t// This makes it possible to add forms or other containers directly in the panel option\\n\\t\\t\\t\\tif (panelSettings.type) {\\n\\t\\t\\t\\t\\tpanelSettings = {\\n\\t\\t\\t\\t\\t\\tlayout: 'grid',\\n\\t\\t\\t\\t\\t\\titems: panelSettings\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tpanelSettings.role = panelSettings.role || 'dialog';\\n\\t\\t\\t\\tpanelSettings.popover = true;\\n\\t\\t\\t\\tpanelSettings.autohide = true;\\n\\t\\t\\t\\tpanelSettings.ariaRoot = true;\\n\\n\\t\\t\\t\\tself.panel = new FloatPanel(panelSettings).on('hide', function() {\\n\\t\\t\\t\\t\\tself.active(false);\\n\\t\\t\\t\\t}).on('cancel', function(e) {\\n\\t\\t\\t\\t\\te.stopPropagation();\\n\\t\\t\\t\\t\\tself.focus();\\n\\t\\t\\t\\t\\tself.hidePanel();\\n\\t\\t\\t\\t}).parent(self).renderTo(self.getContainerElm());\\n\\n\\t\\t\\t\\tself.panel.fire('show');\\n\\t\\t\\t\\tself.panel.reflow();\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tself.panel.show();\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.panel.moveRel(self.getEl(), settings.popoverAlign || (self.isRtl() ? ['bc-tr', 'bc-tc'] : ['bc-tl', 'bc-tc']));\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Hides the panel for the button.\\n\\t\\t *\\n\\t\\t * @method hidePanel\\n\\t\\t */\\n\\t\\thidePanel: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tif (self.panel) {\\n\\t\\t\\t\\tself.panel.hide();\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Called after the control has been rendered.\\n\\t\\t *\\n\\t\\t * @method postRender\\n\\t\\t */\\n\\t\\tpostRender: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tself.aria('haspopup', true);\\n\\n\\t\\t\\tself.on('click', function(e) {\\n\\t\\t\\t\\tif (e.control === self) {\\n\\t\\t\\t\\t\\tif (self.panel && self.panel.visible()) {\\n\\t\\t\\t\\t\\t\\tself.hidePanel();\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tself.showPanel();\\n\\t\\t\\t\\t\\t\\tself.panel.focus(!!e.aria);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn self._super();\\n\\t\\t},\\n\\n\\t\\tremove: function() {\\n\\t\\t\\tif (this.panel) {\\n\\t\\t\\t\\tthis.panel.remove();\\n\\t\\t\\t\\tthis.panel = null;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn this._super();\\n\\t\\t}\\n\\t});\\n});\\n\\n// Included from: js/tinymce/classes/ui/ColorButton.js\\n\\n/**\\n * ColorButton.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class creates a color button control. This is a split button in which the main\\n * button has a visual representation of the currently selected color. When clicked\\n * the caret button displays a color picker, allowing the user to select a new color.\\n *\\n * @-x-less ColorButton.less\\n * @class tinymce.ui.ColorButton\\n * @extends tinymce.ui.PanelButton\\n */\\ndefine(\\\"tinymce/ui/ColorButton\\\", [\\n\\t\\\"tinymce/ui/PanelButton\\\",\\n\\t\\\"tinymce/dom/DOMUtils\\\"\\n], function(PanelButton, DomUtils) {\\n\\t\\\"use strict\\\";\\n\\n\\tvar DOM = DomUtils.DOM;\\n\\n\\treturn PanelButton.extend({\\n\\t\\t/**\\n\\t\\t * Constructs a new ColorButton instance with the specified settings.\\n\\t\\t *\\n\\t\\t * @constructor\\n\\t\\t * @param {Object} settings Name/value object with settings.\\n\\t\\t */\\n\\t\\tinit: function(settings) {\\n\\t\\t\\tthis._super(settings);\\n\\t\\t\\tthis.classes.add('colorbutton');\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Getter/setter for the current color.\\n\\t\\t *\\n\\t\\t * @method color\\n\\t\\t * @param {String} [color] Color to set.\\n\\t\\t * @return {String|tinymce.ui.ColorButton} Current color or current instance.\\n\\t\\t */\\n\\t\\tcolor: function(color) {\\n\\t\\t\\tif (color) {\\n\\t\\t\\t\\tthis._color = color;\\n\\t\\t\\t\\tthis.getEl('preview').style.backgroundColor = color;\\n\\t\\t\\t\\treturn this;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn this._color;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Resets the current color.\\n\\t\\t *\\n\\t\\t * @method resetColor\\n\\t\\t * @return {tinymce.ui.ColorButton} Current instance.\\n\\t\\t */\\n\\t\\tresetColor: function() {\\n\\t\\t\\tthis._color = null;\\n\\t\\t\\tthis.getEl('preview').style.backgroundColor = null;\\n\\t\\t\\treturn this;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Renders the control as a HTML string.\\n\\t\\t *\\n\\t\\t * @method renderHtml\\n\\t\\t * @return {String} HTML representing the control.\\n\\t\\t */\\n\\t\\trenderHtml: function() {\\n\\t\\t\\tvar self = this, id = self._id, prefix = self.classPrefix, text = self.state.get('text');\\n\\t\\t\\tvar icon = self.settings.icon ? prefix + 'ico ' + prefix + 'i-' + self.settings.icon : '';\\n\\t\\t\\tvar image = self.settings.image ? ' style=\\\"background-image: url(\\\\'' + self.settings.image + '\\\\')\\\"' : '',\\n\\t\\t\\t\\ttextHtml = '';\\n\\n\\t\\t\\tif (text) {\\n\\t\\t\\t\\tself.classes.add('btn-has-text');\\n\\t\\t\\t\\ttextHtml = '<span class=\\\"' + prefix + 'txt\\\">' + self.encode(text) + '</span>';\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn (\\n\\t\\t\\t\\t'<div id=\\\"' + id + '\\\" class=\\\"' + self.classes + '\\\" role=\\\"button\\\" tabindex=\\\"-1\\\" aria-haspopup=\\\"true\\\">' +\\n\\t\\t\\t\\t\\t'<button role=\\\"presentation\\\" hidefocus=\\\"1\\\" type=\\\"button\\\" tabindex=\\\"-1\\\">' +\\n\\t\\t\\t\\t\\t\\t(icon ? '<i class=\\\"' + icon + '\\\"' + image + '></i>' : '') +\\n\\t\\t\\t\\t\\t\\t'<span id=\\\"' + id + '-preview\\\" class=\\\"' + prefix + 'preview\\\"></span>' +\\n\\t\\t\\t\\t\\t\\ttextHtml +\\n\\t\\t\\t\\t\\t'</button>' +\\n\\t\\t\\t\\t\\t'<button type=\\\"button\\\" class=\\\"' + prefix + 'open\\\" hidefocus=\\\"1\\\" tabindex=\\\"-1\\\">' +\\n\\t\\t\\t\\t\\t\\t' <i class=\\\"' + prefix + 'caret\\\"></i>' +\\n\\t\\t\\t\\t\\t'</button>' +\\n\\t\\t\\t\\t'</div>'\\n\\t\\t\\t);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Called after the control has been rendered.\\n\\t\\t *\\n\\t\\t * @method postRender\\n\\t\\t */\\n\\t\\tpostRender: function() {\\n\\t\\t\\tvar self = this, onClickHandler = self.settings.onclick;\\n\\n\\t\\t\\tself.on('click', function(e) {\\n\\t\\t\\t\\tif (e.aria && e.aria.key == 'down') {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (e.control == self && !DOM.getParent(e.target, '.' + self.classPrefix + 'open')) {\\n\\t\\t\\t\\t\\te.stopImmediatePropagation();\\n\\t\\t\\t\\t\\tonClickHandler.call(self, e);\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\tdelete self.settings.onclick;\\n\\n\\t\\t\\treturn self._super();\\n\\t\\t}\\n\\t});\\n});\\n\\n// Included from: js/tinymce/classes/util/Color.js\\n\\n/**\\n * Color.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class lets you parse/serialize colors and convert rgb/hsb.\\n *\\n * @class tinymce.util.Color\\n * @example\\n * var white = new tinymce.util.Color({r: 255, g: 255, b: 255});\\n * var red = new tinymce.util.Color('#FF0000');\\n *\\n * console.log(white.toHex(), red.toHsv());\\n */\\ndefine(\\\"tinymce/util/Color\\\", [], function() {\\n\\tvar min = Math.min, max = Math.max, round = Math.round;\\n\\n\\t/**\\n\\t * Constructs a new color instance.\\n\\t *\\n\\t * @constructor\\n\\t * @method Color\\n\\t * @param {String} value Optional initial value to parse.\\n\\t */\\n\\tfunction Color(value) {\\n\\t\\tvar self = this, r = 0, g = 0, b = 0;\\n\\n\\t\\tfunction rgb2hsv(r, g, b) {\\n\\t\\t\\tvar h, s, v, d, minRGB, maxRGB;\\n\\n\\t\\t\\th = 0;\\n\\t\\t\\ts = 0;\\n\\t\\t\\tv = 0;\\n\\t\\t\\tr = r / 255;\\n\\t\\t\\tg = g / 255;\\n\\t\\t\\tb = b / 255;\\n\\n\\t\\t\\tminRGB = min(r, min(g, b));\\n\\t\\t\\tmaxRGB = max(r, max(g, b));\\n\\n\\t\\t\\tif (minRGB == maxRGB) {\\n\\t\\t\\t\\tv = minRGB;\\n\\n\\t\\t\\t\\treturn {\\n\\t\\t\\t\\t\\th: 0,\\n\\t\\t\\t\\t\\ts: 0,\\n\\t\\t\\t\\t\\tv: v * 100\\n\\t\\t\\t\\t};\\n\\t\\t\\t}\\n\\n\\t\\t\\t/*eslint no-nested-ternary:0 */\\n\\t\\t\\td = (r == minRGB) ? g - b : ((b == minRGB) ? r - g : b - r);\\n\\t\\t\\th = (r == minRGB) ? 3 : ((b == minRGB) ? 1 : 5);\\n\\t\\t\\th = 60 * (h - d / (maxRGB - minRGB));\\n\\t\\t\\ts = (maxRGB - minRGB) / maxRGB;\\n\\t\\t\\tv = maxRGB;\\n\\n\\t\\t\\treturn {\\n\\t\\t\\t\\th: round(h),\\n\\t\\t\\t\\ts: round(s * 100),\\n\\t\\t\\t\\tv: round(v * 100)\\n\\t\\t\\t};\\n\\t\\t}\\n\\n\\t\\tfunction hsvToRgb(hue, saturation, brightness) {\\n\\t\\t\\tvar side, chroma, x, match;\\n\\n\\t\\t\\thue = (parseInt(hue, 10) || 0) % 360;\\n\\t\\t\\tsaturation = parseInt(saturation, 10) / 100;\\n\\t\\t\\tbrightness = parseInt(brightness, 10) / 100;\\n\\t\\t\\tsaturation = max(0, min(saturation, 1));\\n\\t\\t\\tbrightness = max(0, min(brightness, 1));\\n\\n\\t\\t\\tif (saturation === 0) {\\n\\t\\t\\t\\tr = g = b = round(255 * brightness);\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tside = hue / 60;\\n\\t\\t\\tchroma = brightness * saturation;\\n\\t\\t\\tx = chroma * (1 - Math.abs(side % 2 - 1));\\n\\t\\t\\tmatch = brightness - chroma;\\n\\n\\t\\t\\tswitch (Math.floor(side)) {\\n\\t\\t\\t\\tcase 0:\\n\\t\\t\\t\\t\\tr = chroma;\\n\\t\\t\\t\\t\\tg = x;\\n\\t\\t\\t\\t\\tb = 0;\\n\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\tcase 1:\\n\\t\\t\\t\\t\\tr = x;\\n\\t\\t\\t\\t\\tg = chroma;\\n\\t\\t\\t\\t\\tb = 0;\\n\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\tcase 2:\\n\\t\\t\\t\\t\\tr = 0;\\n\\t\\t\\t\\t\\tg = chroma;\\n\\t\\t\\t\\t\\tb = x;\\n\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\tcase 3:\\n\\t\\t\\t\\t\\tr = 0;\\n\\t\\t\\t\\t\\tg = x;\\n\\t\\t\\t\\t\\tb = chroma;\\n\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\tcase 4:\\n\\t\\t\\t\\t\\tr = x;\\n\\t\\t\\t\\t\\tg = 0;\\n\\t\\t\\t\\t\\tb = chroma;\\n\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\tcase 5:\\n\\t\\t\\t\\t\\tr = chroma;\\n\\t\\t\\t\\t\\tg = 0;\\n\\t\\t\\t\\t\\tb = x;\\n\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\tdefault:\\n\\t\\t\\t\\t\\tr = g = b = 0;\\n\\t\\t\\t}\\n\\n\\t\\t\\tr = round(255 * (r + match));\\n\\t\\t\\tg = round(255 * (g + match));\\n\\t\\t\\tb = round(255 * (b + match));\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Returns the hex string of the current color. For example: #ff00ff\\n\\t\\t *\\n\\t\\t * @method toHex\\n\\t\\t * @return {String} Hex string of current color.\\n\\t\\t */\\n\\t\\tfunction toHex() {\\n\\t\\t\\tfunction hex(val) {\\n\\t\\t\\t\\tval = parseInt(val, 10).toString(16);\\n\\n\\t\\t\\t\\treturn val.length > 1 ? val : '0' + val;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn '#' + hex(r) + hex(g) + hex(b);\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Returns the r, g, b values of the color. Each channel has a range from 0-255.\\n\\t\\t *\\n\\t\\t * @method toRgb\\n\\t\\t * @return {Object} Object with r, g, b fields.\\n\\t\\t */\\n\\t\\tfunction toRgb() {\\n\\t\\t\\treturn {\\n\\t\\t\\t\\tr: r,\\n\\t\\t\\t\\tg: g,\\n\\t\\t\\t\\tb: b\\n\\t\\t\\t};\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Returns the h, s, v values of the color. Ranges: h=0-360, s=0-100, v=0-100.\\n\\t\\t *\\n\\t\\t * @method toHsv\\n\\t\\t * @return {Object} Object with h, s, v fields.\\n\\t\\t */\\n\\t\\tfunction toHsv() {\\n\\t\\t\\treturn rgb2hsv(r, g, b);\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Parses the specified value and populates the color instance.\\n\\t\\t *\\n\\t\\t * Supported format examples:\\n\\t\\t *  * rbg(255,0,0)\\n\\t\\t *  * #ff0000\\n\\t\\t *  * #fff\\n\\t\\t *  * {r: 255, g: 0, b: 0}\\n\\t\\t *  * {h: 360, s: 100, v: 100}\\n\\t\\t *\\n\\t\\t * @method parse\\n\\t\\t * @param {Object/String} value Color value to parse.\\n\\t\\t * @return {tinymce.util.Color} Current color instance.\\n\\t\\t */\\n\\t\\tfunction parse(value) {\\n\\t\\t\\tvar matches;\\n\\n\\t\\t\\tif (typeof value == 'object') {\\n\\t\\t\\t\\tif (\\\"r\\\" in value) {\\n\\t\\t\\t\\t\\tr = value.r;\\n\\t\\t\\t\\t\\tg = value.g;\\n\\t\\t\\t\\t\\tb = value.b;\\n\\t\\t\\t\\t} else if (\\\"v\\\" in value) {\\n\\t\\t\\t\\t\\thsvToRgb(value.h, value.s, value.v);\\n\\t\\t\\t\\t}\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tif ((matches = /rgb\\\\s*\\\\(\\\\s*([0-9]+)\\\\s*,\\\\s*([0-9]+)\\\\s*,\\\\s*([0-9]+)[^\\\\)]*\\\\)/gi.exec(value))) {\\n\\t\\t\\t\\t\\tr = parseInt(matches[1], 10);\\n\\t\\t\\t\\t\\tg = parseInt(matches[2], 10);\\n\\t\\t\\t\\t\\tb = parseInt(matches[3], 10);\\n\\t\\t\\t\\t} else if ((matches = /#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(value))) {\\n\\t\\t\\t\\t\\tr = parseInt(matches[1], 16);\\n\\t\\t\\t\\t\\tg = parseInt(matches[2], 16);\\n\\t\\t\\t\\t\\tb = parseInt(matches[3], 16);\\n\\t\\t\\t\\t} else if ((matches = /#([0-F])([0-F])([0-F])/gi.exec(value))) {\\n\\t\\t\\t\\t\\tr = parseInt(matches[1] + matches[1], 16);\\n\\t\\t\\t\\t\\tg = parseInt(matches[2] + matches[2], 16);\\n\\t\\t\\t\\t\\tb = parseInt(matches[3] + matches[3], 16);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tr = r < 0 ? 0 : (r > 255 ? 255 : r);\\n\\t\\t\\tg = g < 0 ? 0 : (g > 255 ? 255 : g);\\n\\t\\t\\tb = b < 0 ? 0 : (b > 255 ? 255 : b);\\n\\n\\t\\t\\treturn self;\\n\\t\\t}\\n\\n\\t\\tif (value) {\\n\\t\\t\\tparse(value);\\n\\t\\t}\\n\\n\\t\\tself.toRgb = toRgb;\\n\\t\\tself.toHsv = toHsv;\\n\\t\\tself.toHex = toHex;\\n\\t\\tself.parse = parse;\\n\\t}\\n\\n\\treturn Color;\\n});\\n\\n// Included from: js/tinymce/classes/ui/ColorPicker.js\\n\\n/**\\n * ColorPicker.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Color picker widget lets you select colors.\\n *\\n * @-x-less ColorPicker.less\\n * @class tinymce.ui.ColorPicker\\n * @extends tinymce.ui.Widget\\n */\\ndefine(\\\"tinymce/ui/ColorPicker\\\", [\\n\\t\\\"tinymce/ui/Widget\\\",\\n\\t\\\"tinymce/ui/DragHelper\\\",\\n\\t\\\"tinymce/ui/DomUtils\\\",\\n\\t\\\"tinymce/util/Color\\\"\\n], function(Widget, DragHelper, DomUtils, Color) {\\n\\t\\\"use strict\\\";\\n\\n\\treturn Widget.extend({\\n\\t\\tDefaults: {\\n\\t\\t\\tclasses: \\\"widget colorpicker\\\"\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Constructs a new colorpicker instance with the specified settings.\\n\\t\\t *\\n\\t\\t * @constructor\\n\\t\\t * @param {Object} settings Name/value object with settings.\\n\\t\\t * @setting {String} color Initial color value.\\n\\t\\t */\\n\\t\\tinit: function(settings) {\\n\\t\\t\\tthis._super(settings);\\n\\t\\t},\\n\\n\\t\\tpostRender: function() {\\n\\t\\t\\tvar self = this, color = self.color(), hsv, hueRootElm, huePointElm, svRootElm, svPointElm;\\n\\n\\t\\t\\thueRootElm = self.getEl('h');\\n\\t\\t\\thuePointElm = self.getEl('hp');\\n\\t\\t\\tsvRootElm = self.getEl('sv');\\n\\t\\t\\tsvPointElm = self.getEl('svp');\\n\\n\\t\\t\\tfunction getPos(elm, event) {\\n\\t\\t\\t\\tvar pos = DomUtils.getPos(elm), x, y;\\n\\n\\t\\t\\t\\tx = event.pageX - pos.x;\\n\\t\\t\\t\\ty = event.pageY - pos.y;\\n\\n\\t\\t\\t\\tx = Math.max(0, Math.min(x / elm.clientWidth, 1));\\n\\t\\t\\t\\ty = Math.max(0, Math.min(y / elm.clientHeight, 1));\\n\\n\\t\\t\\t\\treturn {\\n\\t\\t\\t\\t\\tx: x,\\n\\t\\t\\t\\t\\ty: y\\n\\t\\t\\t\\t};\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction updateColor(hsv, hueUpdate) {\\n\\t\\t\\t\\tvar hue = (360 - hsv.h) / 360;\\n\\n\\t\\t\\t\\tDomUtils.css(huePointElm, {\\n\\t\\t\\t\\t\\ttop: (hue * 100) + '%'\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\tif (!hueUpdate) {\\n\\t\\t\\t\\t\\tDomUtils.css(svPointElm, {\\n\\t\\t\\t\\t\\t\\tleft: hsv.s + '%',\\n\\t\\t\\t\\t\\t\\ttop: (100 - hsv.v) + '%'\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tsvRootElm.style.background = new Color({s: 100, v: 100, h: hsv.h}).toHex();\\n\\t\\t\\t\\tself.color().parse({s: hsv.s, v: hsv.v, h: hsv.h});\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction updateSaturationAndValue(e) {\\n\\t\\t\\t\\tvar pos;\\n\\n\\t\\t\\t\\tpos = getPos(svRootElm, e);\\n\\t\\t\\t\\thsv.s = pos.x * 100;\\n\\t\\t\\t\\thsv.v = (1 - pos.y) * 100;\\n\\n\\t\\t\\t\\tupdateColor(hsv);\\n\\t\\t\\t\\tself.fire('change');\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction updateHue(e) {\\n\\t\\t\\t\\tvar pos;\\n\\n\\t\\t\\t\\tpos = getPos(hueRootElm, e);\\n\\t\\t\\t\\thsv = color.toHsv();\\n\\t\\t\\t\\thsv.h = (1 - pos.y) * 360;\\n\\t\\t\\t\\tupdateColor(hsv, true);\\n\\t\\t\\t\\tself.fire('change');\\n\\t\\t\\t}\\n\\n\\t\\t\\tself._repaint = function() {\\n\\t\\t\\t\\thsv = color.toHsv();\\n\\t\\t\\t\\tupdateColor(hsv);\\n\\t\\t\\t};\\n\\n\\t\\t\\tself._super();\\n\\n\\t\\t\\tself._svdraghelper = new DragHelper(self._id + '-sv', {\\n\\t\\t\\t\\tstart: updateSaturationAndValue,\\n\\t\\t\\t\\tdrag: updateSaturationAndValue\\n\\t\\t\\t});\\n\\n\\t\\t\\tself._hdraghelper = new DragHelper(self._id + '-h', {\\n\\t\\t\\t\\tstart: updateHue,\\n\\t\\t\\t\\tdrag: updateHue\\n\\t\\t\\t});\\n\\n\\t\\t\\tself._repaint();\\n\\t\\t},\\n\\n\\t\\trgb: function() {\\n\\t\\t\\treturn this.color().toRgb();\\n\\t\\t},\\n\\n\\t\\tvalue: function(value) {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tif (arguments.length) {\\n\\t\\t\\t\\tself.color().parse(value);\\n\\n\\t\\t\\t\\tif (self._rendered) {\\n\\t\\t\\t\\t\\tself._repaint();\\n\\t\\t\\t\\t}\\n\\t\\t\\t} else {\\n\\t\\t\\t\\treturn self.color().toHex();\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\tcolor: function() {\\n\\t\\t\\tif (!this._color) {\\n\\t\\t\\t\\tthis._color = new Color();\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn this._color;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Renders the control as a HTML string.\\n\\t\\t *\\n\\t\\t * @method renderHtml\\n\\t\\t * @return {String} HTML representing the control.\\n\\t\\t */\\n\\t\\trenderHtml: function() {\\n\\t\\t\\tvar self = this, id = self._id, prefix = self.classPrefix, hueHtml;\\n\\t\\t\\tvar stops = '#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000';\\n\\n\\t\\t\\tfunction getOldIeFallbackHtml() {\\n\\t\\t\\t\\tvar i, l, html = '', gradientPrefix, stopsList;\\n\\n\\t\\t\\t\\tgradientPrefix = 'filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=';\\n\\t\\t\\t\\tstopsList = stops.split(',');\\n\\t\\t\\t\\tfor (i = 0, l = stopsList.length - 1; i < l; i++) {\\n\\t\\t\\t\\t\\thtml += (\\n\\t\\t\\t\\t\\t\\t'<div class=\\\"' + prefix + 'colorpicker-h-chunk\\\" style=\\\"' +\\n\\t\\t\\t\\t\\t\\t\\t'height:' + (100 / l) + '%;' +\\n\\t\\t\\t\\t\\t\\t\\tgradientPrefix + stopsList[i] + ',endColorstr=' + stopsList[i + 1] + ');' +\\n\\t\\t\\t\\t\\t\\t\\t'-ms-' + gradientPrefix + stopsList[i] + ',endColorstr=' + stopsList[i + 1] + ')' +\\n\\t\\t\\t\\t\\t\\t'\\\"></div>'\\n\\t\\t\\t\\t\\t);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn html;\\n\\t\\t\\t}\\n\\n\\t\\t\\tvar gradientCssText = (\\n\\t\\t\\t\\t'background: -ms-linear-gradient(top,' + stops + ');' +\\n\\t\\t\\t\\t'background: linear-gradient(to bottom,' + stops + ');'\\n\\t\\t\\t);\\n\\n\\t\\t\\thueHtml = (\\n\\t\\t\\t\\t'<div id=\\\"' + id + '-h\\\" class=\\\"' + prefix + 'colorpicker-h\\\" style=\\\"' + gradientCssText + '\\\">' +\\n\\t\\t\\t\\t\\tgetOldIeFallbackHtml() +\\n\\t\\t\\t\\t\\t'<div id=\\\"' + id + '-hp\\\" class=\\\"' + prefix + 'colorpicker-h-marker\\\"></div>' +\\n\\t\\t\\t\\t'</div>'\\n\\t\\t\\t);\\n\\n\\t\\t\\treturn (\\n\\t\\t\\t\\t'<div id=\\\"' + id + '\\\" class=\\\"' + self.classes + '\\\">' +\\n\\t\\t\\t\\t\\t'<div id=\\\"' + id + '-sv\\\" class=\\\"' + prefix + 'colorpicker-sv\\\">' +\\n\\t\\t\\t\\t\\t\\t'<div class=\\\"' + prefix + 'colorpicker-overlay1\\\">' +\\n\\t\\t\\t\\t\\t\\t\\t'<div class=\\\"' + prefix + 'colorpicker-overlay2\\\">' +\\n\\t\\t\\t\\t\\t\\t\\t\\t'<div id=\\\"' + id + '-svp\\\" class=\\\"' + prefix + 'colorpicker-selector1\\\">' +\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t'<div class=\\\"' + prefix + 'colorpicker-selector2\\\"></div>' +\\n\\t\\t\\t\\t\\t\\t\\t\\t'</div>' +\\n\\t\\t\\t\\t\\t\\t\\t'</div>' +\\n\\t\\t\\t\\t\\t\\t'</div>' +\\n\\t\\t\\t\\t\\t'</div>' +\\n\\t\\t\\t\\t\\thueHtml +\\n\\t\\t\\t\\t'</div>'\\n\\t\\t\\t);\\n\\t\\t}\\n\\t});\\n});\\n\\n// Included from: js/tinymce/classes/ui/Path.js\\n\\n/**\\n * Path.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Creates a new path control.\\n *\\n * @-x-less Path.less\\n * @class tinymce.ui.Path\\n * @extends tinymce.ui.Widget\\n */\\ndefine(\\\"tinymce/ui/Path\\\", [\\n\\t\\\"tinymce/ui/Widget\\\"\\n], function(Widget) {\\n\\t\\\"use strict\\\";\\n\\n\\treturn Widget.extend({\\n\\t\\t/**\\n\\t\\t * Constructs a instance with the specified settings.\\n\\t\\t *\\n\\t\\t * @constructor\\n\\t\\t * @param {Object} settings Name/value object with settings.\\n\\t\\t * @setting {String} delimiter Delimiter to display between row in path.\\n\\t\\t */\\n\\t\\tinit: function(settings) {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tif (!settings.delimiter) {\\n\\t\\t\\t\\tsettings.delimiter = '\\\\u00BB';\\n\\t\\t\\t}\\n\\n\\t\\t\\tself._super(settings);\\n\\t\\t\\tself.classes.add('path');\\n\\t\\t\\tself.canFocus = true;\\n\\n\\t\\t\\tself.on('click', function(e) {\\n\\t\\t\\t\\tvar index, target = e.target;\\n\\n\\t\\t\\t\\tif ((index = target.getAttribute('data-index'))) {\\n\\t\\t\\t\\t\\tself.fire('select', {value: self.row()[index], index: index});\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\tself.row(self.settings.row);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Focuses the current control.\\n\\t\\t *\\n\\t\\t * @method focus\\n\\t\\t * @return {tinymce.ui.Control} Current control instance.\\n\\t\\t */\\n\\t\\tfocus: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tself.getEl().firstChild.focus();\\n\\n\\t\\t\\treturn self;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Sets/gets the data to be used for the path.\\n\\t\\t *\\n\\t\\t * @method row\\n\\t\\t * @param {Array} row Array with row name is rendered to path.\\n\\t\\t */\\n\\t\\trow: function(row) {\\n\\t\\t\\tif (!arguments.length) {\\n\\t\\t\\t\\treturn this.state.get('row');\\n\\t\\t\\t}\\n\\n\\t\\t\\tthis.state.set('row', row);\\n\\n\\t\\t\\treturn this;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Renders the control as a HTML string.\\n\\t\\t *\\n\\t\\t * @method renderHtml\\n\\t\\t * @return {String} HTML representing the control.\\n\\t\\t */\\n\\t\\trenderHtml: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\treturn (\\n\\t\\t\\t\\t'<div id=\\\"' + self._id + '\\\" class=\\\"' + self.classes + '\\\">' +\\n\\t\\t\\t\\t\\tself._getDataPathHtml(self.state.get('row')) +\\n\\t\\t\\t\\t'</div>'\\n\\t\\t\\t);\\n\\t\\t},\\n\\n\\t\\tbindStates: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tself.state.on('change:row', function(e) {\\n\\t\\t\\t\\tself.innerHtml(self._getDataPathHtml(e.value));\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn self._super();\\n\\t\\t},\\n\\n\\t\\t_getDataPathHtml: function(data) {\\n\\t\\t\\tvar self = this, parts = data || [], i, l, html = '', prefix = self.classPrefix;\\n\\n\\t\\t\\tfor (i = 0, l = parts.length; i < l; i++) {\\n\\t\\t\\t\\thtml += (\\n\\t\\t\\t\\t\\t(i > 0 ? '<div class=\\\"' + prefix + 'divider\\\" aria-hidden=\\\"true\\\"> ' + self.settings.delimiter + ' </div>' : '') +\\n\\t\\t\\t\\t\\t'<div role=\\\"button\\\" class=\\\"' + prefix + 'path-item' + (i == l - 1 ? ' ' + prefix + 'last' : '') + '\\\" data-index=\\\"' +\\n\\t\\t\\t\\t\\ti + '\\\" tabindex=\\\"-1\\\" id=\\\"' + self._id + '-' + i + '\\\" aria-level=\\\"' + (i + 1) + '\\\">' + parts[i].name + '</div>'\\n\\t\\t\\t\\t);\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!html) {\\n\\t\\t\\t\\thtml = '<div class=\\\"' + prefix + 'path-item\\\">\\\\u00a0</div>';\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn html;\\n\\t\\t}\\n\\t});\\n});\\n\\n// Included from: js/tinymce/classes/ui/ElementPath.js\\n\\n/**\\n * ElementPath.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This control creates an path for the current selections parent elements in TinyMCE.\\n *\\n * @class tinymce.ui.ElementPath\\n * @extends tinymce.ui.Path\\n */\\ndefine(\\\"tinymce/ui/ElementPath\\\", [\\n\\t\\\"tinymce/ui/Path\\\"\\n], function(Path) {\\n\\treturn Path.extend({\\n\\t\\t/**\\n\\t\\t * Post render method. Called after the control has been rendered to the target.\\n\\t\\t *\\n\\t\\t * @method postRender\\n\\t\\t * @return {tinymce.ui.ElementPath} Current combobox instance.\\n\\t\\t */\\n\\t\\tpostRender: function() {\\n\\t\\t\\tvar self = this, editor = self.settings.editor;\\n\\n\\t\\t\\tfunction isHidden(elm) {\\n\\t\\t\\t\\tif (elm.nodeType === 1) {\\n\\t\\t\\t\\t\\tif (elm.nodeName == \\\"BR\\\" || !!elm.getAttribute('data-mce-bogus')) {\\n\\t\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (elm.getAttribute('data-mce-type') === 'bookmark') {\\n\\t\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn false;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (editor.settings.elementpath !== false) {\\n\\t\\t\\t\\tself.on('select', function(e) {\\n\\t\\t\\t\\t\\teditor.focus();\\n\\t\\t\\t\\t\\teditor.selection.select(this.row()[e.index].element);\\n\\t\\t\\t\\t\\teditor.nodeChanged();\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\teditor.on('nodeChange', function(e) {\\n\\t\\t\\t\\t\\tvar outParents = [], parents = e.parents, i = parents.length;\\n\\n\\t\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\t\\tif (parents[i].nodeType == 1 && !isHidden(parents[i])) {\\n\\t\\t\\t\\t\\t\\t\\tvar args = editor.fire('ResolveName', {\\n\\t\\t\\t\\t\\t\\t\\t\\tname: parents[i].nodeName.toLowerCase(),\\n\\t\\t\\t\\t\\t\\t\\t\\ttarget: parents[i]\\n\\t\\t\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\t\\t\\tif (!args.isDefaultPrevented()) {\\n\\t\\t\\t\\t\\t\\t\\t\\toutParents.push({name: args.name, element: parents[i]});\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tif (args.isPropagationStopped()) {\\n\\t\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tself.row(outParents);\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn self._super();\\n\\t\\t}\\n\\t});\\n});\\n\\n// Included from: js/tinymce/classes/ui/FormItem.js\\n\\n/**\\n * FormItem.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class is a container created by the form element with\\n * a label and control item.\\n *\\n * @class tinymce.ui.FormItem\\n * @extends tinymce.ui.Container\\n * @setting {String} label Label to display for the form item.\\n */\\ndefine(\\\"tinymce/ui/FormItem\\\", [\\n\\t\\\"tinymce/ui/Container\\\"\\n], function(Container) {\\n\\t\\\"use strict\\\";\\n\\n\\treturn Container.extend({\\n\\t\\tDefaults: {\\n\\t\\t\\tlayout: 'flex',\\n\\t\\t\\talign: 'center',\\n\\t\\t\\tdefaults: {\\n\\t\\t\\t\\tflex: 1\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Renders the control as a HTML string.\\n\\t\\t *\\n\\t\\t * @method renderHtml\\n\\t\\t * @return {String} HTML representing the control.\\n\\t\\t */\\n\\t\\trenderHtml: function() {\\n\\t\\t\\tvar self = this, layout = self._layout, prefix = self.classPrefix;\\n\\n\\t\\t\\tself.classes.add('formitem');\\n\\t\\t\\tlayout.preRender(self);\\n\\n\\t\\t\\treturn (\\n\\t\\t\\t\\t'<div id=\\\"' + self._id + '\\\" class=\\\"' + self.classes + '\\\" hidefocus=\\\"1\\\" tabindex=\\\"-1\\\">' +\\n\\t\\t\\t\\t\\t(self.settings.title ? ('<div id=\\\"' + self._id + '-title\\\" class=\\\"' + prefix + 'title\\\">' +\\n\\t\\t\\t\\t\\t\\tself.settings.title + '</div>') : '') +\\n\\t\\t\\t\\t\\t'<div id=\\\"' + self._id + '-body\\\" class=\\\"' + self.bodyClasses + '\\\">' +\\n\\t\\t\\t\\t\\t\\t(self.settings.html || '') + layout.renderHtml(self) +\\n\\t\\t\\t\\t\\t'</div>' +\\n\\t\\t\\t\\t'</div>'\\n\\t\\t\\t);\\n\\t\\t}\\n\\t});\\n});\\n\\n// Included from: js/tinymce/classes/ui/Form.js\\n\\n/**\\n * Form.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class creates a form container. A form container has the ability\\n * to automatically wrap items in tinymce.ui.FormItem instances.\\n *\\n * Each FormItem instance is a container for the label and the item.\\n *\\n * @example\\n * tinymce.ui.Factory.create({\\n *     type: 'form',\\n *     items: [\\n *         {type: 'textbox', label: 'My text box'}\\n *     ]\\n * }).renderTo(document.body);\\n *\\n * @class tinymce.ui.Form\\n * @extends tinymce.ui.Container\\n */\\ndefine(\\\"tinymce/ui/Form\\\", [\\n\\t\\\"tinymce/ui/Container\\\",\\n\\t\\\"tinymce/ui/FormItem\\\",\\n\\t\\\"tinymce/util/Tools\\\"\\n], function(Container, FormItem, Tools) {\\n\\t\\\"use strict\\\";\\n\\n\\treturn Container.extend({\\n\\t\\tDefaults: {\\n\\t\\t\\tcontainerCls: 'form',\\n\\t\\t\\tlayout: 'flex',\\n\\t\\t\\tdirection: 'column',\\n\\t\\t\\talign: 'stretch',\\n\\t\\t\\tflex: 1,\\n\\t\\t\\tpadding: 20,\\n\\t\\t\\tlabelGap: 30,\\n\\t\\t\\tspacing: 10,\\n\\t\\t\\tcallbacks: {\\n\\t\\t\\t\\tsubmit: function() {\\n\\t\\t\\t\\t\\tthis.submit();\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * This method gets invoked before the control is rendered.\\n\\t\\t *\\n\\t\\t * @method preRender\\n\\t\\t */\\n\\t\\tpreRender: function() {\\n\\t\\t\\tvar self = this, items = self.items();\\n\\n\\t\\t\\tif (!self.settings.formItemDefaults) {\\n\\t\\t\\t\\tself.settings.formItemDefaults = {\\n\\t\\t\\t\\t\\tlayout: 'flex',\\n\\t\\t\\t\\t\\tautoResize: \\\"overflow\\\",\\n\\t\\t\\t\\t\\tdefaults: {flex: 1}\\n\\t\\t\\t\\t};\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Wrap any labeled items in FormItems\\n\\t\\t\\titems.each(function(ctrl) {\\n\\t\\t\\t\\tvar formItem, label = ctrl.settings.label;\\n\\n\\t\\t\\t\\tif (label) {\\n\\t\\t\\t\\t\\tformItem = new FormItem(Tools.extend({\\n\\t\\t\\t\\t\\t\\titems: {\\n\\t\\t\\t\\t\\t\\t\\ttype: 'label',\\n\\t\\t\\t\\t\\t\\t\\tid: ctrl._id + '-l',\\n\\t\\t\\t\\t\\t\\t\\ttext: label,\\n\\t\\t\\t\\t\\t\\t\\tflex: 0,\\n\\t\\t\\t\\t\\t\\t\\tforId: ctrl._id,\\n\\t\\t\\t\\t\\t\\t\\tdisabled: ctrl.disabled()\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}, self.settings.formItemDefaults));\\n\\n\\t\\t\\t\\t\\tformItem.type = 'formitem';\\n\\t\\t\\t\\t\\tctrl.aria('labelledby', ctrl._id + '-l');\\n\\n\\t\\t\\t\\t\\tif (typeof ctrl.settings.flex == \\\"undefined\\\") {\\n\\t\\t\\t\\t\\t\\tctrl.settings.flex = 1;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tself.replace(ctrl, formItem);\\n\\t\\t\\t\\t\\tformItem.add(ctrl);\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Fires a submit event with the serialized form.\\n\\t\\t *\\n\\t\\t * @method submit\\n\\t\\t * @return {Object} Event arguments object.\\n\\t\\t */\\n\\t\\tsubmit: function() {\\n\\t\\t\\treturn this.fire('submit', {data: this.toJSON()});\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Post render method. Called after the control has been rendered to the target.\\n\\t\\t *\\n\\t\\t * @method postRender\\n\\t\\t * @return {tinymce.ui.ComboBox} Current combobox instance.\\n\\t\\t */\\n\\t\\tpostRender: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tself._super();\\n\\t\\t\\tself.fromJSON(self.settings.data);\\n\\t\\t},\\n\\n\\t\\tbindStates: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tself._super();\\n\\n\\t\\t\\tfunction recalcLabels() {\\n\\t\\t\\t\\tvar maxLabelWidth = 0, labels = [], i, labelGap, items;\\n\\n\\t\\t\\t\\tif (self.settings.labelGapCalc === false) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (self.settings.labelGapCalc == \\\"children\\\") {\\n\\t\\t\\t\\t\\titems = self.find('formitem');\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\titems = self.items();\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\titems.filter('formitem').each(function(item) {\\n\\t\\t\\t\\t\\tvar labelCtrl = item.items()[0], labelWidth = labelCtrl.getEl().clientWidth;\\n\\n\\t\\t\\t\\t\\tmaxLabelWidth = labelWidth > maxLabelWidth ? labelWidth : maxLabelWidth;\\n\\t\\t\\t\\t\\tlabels.push(labelCtrl);\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\tlabelGap = self.settings.labelGap || 0;\\n\\n\\t\\t\\t\\ti = labels.length;\\n\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\tlabels[i].settings.minWidth = maxLabelWidth + labelGap;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.on('show', recalcLabels);\\n\\t\\t\\trecalcLabels();\\n\\t\\t}\\n\\t});\\n});\\n\\n// Included from: js/tinymce/classes/ui/FieldSet.js\\n\\n/**\\n * FieldSet.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class creates fieldset containers.\\n *\\n * @-x-less FieldSet.less\\n * @class tinymce.ui.FieldSet\\n * @extends tinymce.ui.Form\\n */\\ndefine(\\\"tinymce/ui/FieldSet\\\", [\\n\\t\\\"tinymce/ui/Form\\\"\\n], function(Form) {\\n\\t\\\"use strict\\\";\\n\\n\\treturn Form.extend({\\n\\t\\tDefaults: {\\n\\t\\t\\tcontainerCls: 'fieldset',\\n\\t\\t\\tlayout: 'flex',\\n\\t\\t\\tdirection: 'column',\\n\\t\\t\\talign: 'stretch',\\n\\t\\t\\tflex: 1,\\n\\t\\t\\tpadding: \\\"25 15 5 15\\\",\\n\\t\\t\\tlabelGap: 30,\\n\\t\\t\\tspacing: 10,\\n\\t\\t\\tborder: 1\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Renders the control as a HTML string.\\n\\t\\t *\\n\\t\\t * @method renderHtml\\n\\t\\t * @return {String} HTML representing the control.\\n\\t\\t */\\n\\t\\trenderHtml: function() {\\n\\t\\t\\tvar self = this, layout = self._layout, prefix = self.classPrefix;\\n\\n\\t\\t\\tself.preRender();\\n\\t\\t\\tlayout.preRender(self);\\n\\n\\t\\t\\treturn (\\n\\t\\t\\t\\t'<fieldset id=\\\"' + self._id + '\\\" class=\\\"' + self.classes + '\\\" hidefocus=\\\"1\\\" tabindex=\\\"-1\\\">' +\\n\\t\\t\\t\\t\\t(self.settings.title ? ('<legend id=\\\"' + self._id + '-title\\\" class=\\\"' + prefix + 'fieldset-title\\\">' +\\n\\t\\t\\t\\t\\t\\tself.settings.title + '</legend>') : '') +\\n\\t\\t\\t\\t\\t'<div id=\\\"' + self._id + '-body\\\" class=\\\"' + self.bodyClasses + '\\\">' +\\n\\t\\t\\t\\t\\t\\t(self.settings.html || '') + layout.renderHtml(self) +\\n\\t\\t\\t\\t\\t'</div>' +\\n\\t\\t\\t\\t'</fieldset>'\\n\\t\\t\\t);\\n\\t\\t}\\n\\t});\\n});\\n\\n// Included from: js/tinymce/classes/content/LinkTargets.js\\n\\n/**\\n * LinkTargets.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2016 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This module is enables you to get anything that you can link to in a element.\\n *\\n * @private\\n * @class tinymce.content.LinkTargets\\n */\\ndefine('tinymce/content/LinkTargets', [\\n\\t'tinymce/dom/DOMUtils',\\n\\t'tinymce/util/Fun',\\n\\t'tinymce/util/Arr',\\n\\t'tinymce/util/Uuid',\\n\\t'tinymce/util/Tools',\\n\\t'tinymce/dom/NodeType'\\n], function(\\n\\tDOMUtils,\\n\\tFun,\\n\\tArr,\\n\\tUuid,\\n\\tTools,\\n\\tNodeType\\n) {\\n\\tvar trim = Tools.trim;\\n\\n\\tvar create = function (type, title, url, level, attach) {\\n\\t\\treturn {\\n\\t\\t\\ttype: type,\\n\\t\\t\\ttitle: title,\\n\\t\\t\\turl: url,\\n\\t\\t\\tlevel: level,\\n\\t\\t\\tattach: attach\\n\\t\\t};\\n\\t};\\n\\n\\tvar isChildOfContentEditableTrue = function (node) {\\n\\t\\twhile ((node = node.parentNode)) {\\n\\t\\t\\tvar value = node.contentEditable;\\n\\t\\t\\tif (value && value !== 'inherit') {\\n\\t\\t\\t\\treturn NodeType.isContentEditableTrue(node);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\treturn false;\\n\\t};\\n\\n\\tvar select = function (selector, root) {\\n\\t\\treturn DOMUtils.DOM.select(selector, root);\\n\\t};\\n\\n\\tvar getElementText = function (elm) {\\n\\t\\treturn elm.innerText || elm.textContent;\\n\\t};\\n\\n\\tvar getOrGenerateId = function (elm) {\\n\\t\\treturn elm.id ? elm.id : Uuid.uuid('h');\\n\\t};\\n\\n\\tvar isAnchor = function (elm) {\\n\\t\\treturn elm && elm.nodeName === 'A' && (elm.id || elm.name);\\n\\t};\\n\\n\\tvar isValidAnchor = function (elm) {\\n\\t\\treturn isAnchor(elm) && isEditable(elm);\\n\\t};\\n\\n\\tvar isHeader = function (elm) {\\n\\t\\treturn elm && /^(H[1-6])$/.test(elm.nodeName);\\n\\t};\\n\\n\\tvar isEditable = function (elm) {\\n\\t\\treturn isChildOfContentEditableTrue(elm) && !NodeType.isContentEditableFalse(elm);\\n\\t};\\n\\n\\tvar isValidHeader = function (elm) {\\n\\t\\treturn isHeader(elm) && isEditable(elm);\\n\\t};\\n\\n\\tvar getLevel = function (elm) {\\n\\t\\treturn isHeader(elm) ? parseInt(elm.nodeName.substr(1), 10) : 0;\\n\\t};\\n\\n\\tvar headerTarget = function (elm) {\\n\\t\\tvar headerId = getOrGenerateId(elm);\\n\\n\\t\\tvar attach = function () {\\n\\t\\t\\telm.id = headerId;\\n\\t\\t};\\n\\n\\t\\treturn create('header', getElementText(elm), '#' + headerId, getLevel(elm), attach);\\n\\t};\\n\\n\\tvar anchorTarget = function (elm) {\\n\\t\\tvar anchorId = elm.id || elm.name;\\n\\t\\tvar anchorText = getElementText(elm);\\n\\n\\t\\treturn create('anchor', anchorText ? anchorText : '#' + anchorId, '#' + anchorId, 0, Fun.noop);\\n\\t};\\n\\n\\tvar getHeaderTargets = function (elms) {\\n\\t\\treturn Arr.map(Arr.filter(elms, isValidHeader), headerTarget);\\n\\t};\\n\\n\\tvar getAnchorTargets = function (elms) {\\n\\t\\treturn Arr.map(Arr.filter(elms, isValidAnchor), anchorTarget);\\n\\t};\\n\\n\\tvar getTargetElements = function (elm) {\\n\\t\\tvar elms = select('h1,h2,h3,h4,h5,h6,a:not([href])', elm);\\n\\t\\treturn elms;\\n\\t};\\n\\n\\tvar hasTitle = function (target) {\\n\\t\\treturn trim(target.title).length > 0;\\n\\t};\\n\\n\\tvar find = function (elm) {\\n\\t\\tvar elms = getTargetElements(elm);\\n\\t\\treturn Arr.filter(getHeaderTargets(elms).concat(getAnchorTargets(elms)), hasTitle);\\n\\t};\\n\\n\\treturn {\\n\\t\\tfind: find\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/ui/FilePicker.js\\n\\n/**\\n * FilePicker.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/*global tinymce:true */\\n\\n/**\\n * This class creates a file picker control.\\n *\\n * @class tinymce.ui.FilePicker\\n * @extends tinymce.ui.ComboBox\\n */\\ndefine(\\\"tinymce/ui/FilePicker\\\", [\\n\\t\\\"tinymce/ui/ComboBox\\\",\\n\\t\\\"tinymce/util/Tools\\\",\\n\\t\\\"tinymce/util/Arr\\\",\\n\\t\\\"tinymce/util/Fun\\\",\\n\\t\\\"tinymce/util/VK\\\",\\n\\t\\\"tinymce/content/LinkTargets\\\"\\n], function(ComboBox, Tools, Arr, Fun, VK, LinkTargets) {\\n\\t\\\"use strict\\\";\\n\\n\\tvar history = {};\\n\\tvar HISTORY_LENGTH = 5;\\n\\n\\tvar toMenuItem = function (target) {\\n\\t\\treturn {\\n\\t\\t\\ttitle: target.title,\\n\\t\\t\\tvalue: {\\n\\t\\t\\t\\ttitle: {raw: target.title},\\n\\t\\t\\t\\turl: target.url,\\n\\t\\t\\t\\tattach: target.attach\\n\\t\\t\\t}\\n\\t\\t};\\n\\t};\\n\\n\\tvar toMenuItems = function (targets) {\\n\\t\\treturn Tools.map(targets, toMenuItem);\\n\\t};\\n\\n\\tvar staticMenuItem = function (title, url) {\\n\\t\\treturn {\\n\\t\\t\\ttitle: title,\\n\\t\\t\\tvalue: {\\n\\t\\t\\t\\ttitle: title,\\n\\t\\t\\t\\turl: url,\\n\\t\\t\\t\\tattach: Fun.noop\\n\\t\\t\\t}\\n\\t\\t};\\n\\t};\\n\\n\\tvar isUniqueUrl = function (url, targets) {\\n\\t\\tvar foundTarget = Arr.find(targets, function (target) {\\n\\t\\t\\treturn target.url === url;\\n\\t\\t});\\n\\n\\t\\treturn !foundTarget;\\n\\t};\\n\\n\\tvar getSetting = function (editorSettings, name, defaultValue) {\\n\\t\\tvar value = name in editorSettings ? editorSettings[name] : defaultValue;\\n\\t\\treturn value === false ? null : value;\\n\\t};\\n\\n\\tvar createMenuItems = function (term, targets, fileType, editorSettings) {\\n\\t\\tvar separator = {title: '-'};\\n\\n\\t\\tvar fromHistoryMenuItems = function (history) {\\n\\t\\t\\tvar uniqueHistory = Arr.filter(history[fileType], function (url) {\\n\\t\\t\\t\\treturn isUniqueUrl(url, targets);\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn Tools.map(uniqueHistory, function (url) {\\n\\t\\t\\t\\treturn {\\n\\t\\t\\t\\t\\ttitle: url,\\n\\t\\t\\t\\t\\tvalue: {\\n\\t\\t\\t\\t\\t\\ttitle: url,\\n\\t\\t\\t\\t\\t\\turl: url,\\n\\t\\t\\t\\t\\t\\tattach: Fun.noop\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t};\\n\\t\\t\\t});\\n\\t\\t};\\n\\n\\t\\tvar fromMenuItems = function (type) {\\n\\t\\t\\tvar filteredTargets = Arr.filter(targets, function (target) {\\n\\t\\t\\t\\treturn target.type == type;\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn toMenuItems(filteredTargets);\\n\\t\\t};\\n\\n\\t\\tvar anchorMenuItems = function () {\\n\\t\\t\\tvar anchorMenuItems = fromMenuItems('anchor');\\n\\t\\t\\tvar topAnchor = getSetting(editorSettings, 'anchor_top', '#top');\\n\\t\\t\\tvar bottomAchor = getSetting(editorSettings, 'anchor_bottom', '#bottom');\\n\\n\\t\\t\\tif (topAnchor !== null) {\\n\\t\\t\\t\\tanchorMenuItems.unshift(staticMenuItem('<top>', topAnchor));\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (bottomAchor !== null) {\\n\\t\\t\\t\\tanchorMenuItems.push(staticMenuItem('<bottom>', bottomAchor));\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn anchorMenuItems;\\n\\t\\t};\\n\\n\\t\\tvar join = function (items) {\\n\\t\\t\\treturn Arr.reduce(items, function (a, b) {\\n\\t\\t\\t\\tvar bothEmpty = a.length === 0 || b.length === 0;\\n\\t\\t\\t\\treturn bothEmpty ? a.concat(b) : a.concat(separator, b);\\n\\t\\t\\t}, []);\\n\\t\\t};\\n\\n\\t\\tif (editorSettings.typeahead_urls === false) {\\n\\t\\t\\treturn [];\\n\\t\\t}\\n\\n\\t\\treturn fileType === 'file' ? join([\\n\\t\\t\\tfilterByQuery(term, fromHistoryMenuItems(history)),\\n\\t\\t\\tfilterByQuery(term, fromMenuItems('header')),\\n\\t\\t\\tfilterByQuery(term, anchorMenuItems())\\n\\t\\t]) : filterByQuery(term, fromHistoryMenuItems(history));\\n\\t};\\n\\n\\tvar addToHistory = function (url, fileType) {\\n\\t\\tvar items = history[fileType];\\n\\n\\t\\tif (!/^https?/.test(url)) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tif (items) {\\n\\t\\t\\tif (Arr.indexOf(items, url) === -1) {\\n\\t\\t\\t\\thistory[fileType] = items.slice(0, HISTORY_LENGTH).concat(url);\\n\\t\\t\\t}\\n\\t\\t} else {\\n\\t\\t\\thistory[fileType] = [url];\\n\\t\\t}\\n\\t};\\n\\n\\tvar filterByQuery = function (term, menuItems) {\\n\\t\\tvar lowerCaseTerm = term.toLowerCase();\\n\\t\\tvar result = Tools.grep(menuItems, function (item) {\\n\\t\\t\\treturn item.title.toLowerCase().indexOf(lowerCaseTerm) !== -1;\\n\\t\\t});\\n\\n\\t\\treturn result.length === 1 && result[0].title === term ? [] : result;\\n\\t};\\n\\n\\tvar getTitle = function (linkDetails) {\\n\\t\\tvar title = linkDetails.title;\\n\\t\\treturn title.raw ? title.raw : title;\\n\\t};\\n\\n\\tvar setupAutoCompleteHandler = function (ctrl, editorSettings, bodyElm, fileType) {\\n\\t\\tvar autocomplete = function (term) {\\n\\t\\t\\tvar linkTargets = LinkTargets.find(bodyElm);\\n\\t\\t\\tvar menuItems = createMenuItems(term, linkTargets, fileType, editorSettings);\\n\\t\\t\\tctrl.showAutoComplete(menuItems, term);\\n\\t\\t};\\n\\n\\t\\tctrl.on('autocomplete', function () {\\n\\t\\t\\tautocomplete(ctrl.value());\\n\\t\\t});\\n\\n\\t\\tctrl.on('selectitem', function (e) {\\n\\t\\t\\tvar linkDetails = e.value;\\n\\n\\t\\t\\tctrl.value(linkDetails.url);\\n\\t\\t\\tvar title = getTitle(linkDetails);\\n\\n\\t\\t\\tif (fileType === 'image') {\\n\\t\\t\\t\\tctrl.fire('change', {meta: {alt: title, attach: linkDetails.attach}});\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tctrl.fire('change', {meta: {text: title, attach: linkDetails.attach}});\\n\\t\\t\\t}\\n\\n\\t\\t\\tctrl.focus();\\n\\t\\t});\\n\\n\\t\\tctrl.on('click', function (e) {\\n\\t\\t\\tif (ctrl.value().length === 0 && e.target.nodeName === 'INPUT') {\\n\\t\\t\\t\\tautocomplete('');\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\tctrl.on('PostRender', function () {\\n\\t\\t\\tctrl.getRoot().on('submit', function (e) {\\n\\t\\t\\t\\tif (!e.isDefaultPrevented()) {\\n\\t\\t\\t\\t\\taddToHistory(ctrl.value(), fileType);\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t});\\n\\t};\\n\\n\\tvar statusToUiState = function (result) {\\n\\t\\tvar status = result.status, message = result.message;\\n\\n\\t\\tif (status === 'valid') {\\n\\t\\t\\treturn {status: 'ok', message: message};\\n\\t\\t} else if (status === 'unknown') {\\n\\t\\t\\treturn {status: 'warn', message: message};\\n\\t\\t} else if (status === 'invalid') {\\n\\t\\t\\treturn {status: 'warn', message: message};\\n\\t\\t} else {\\n\\t\\t\\treturn {status: 'none', message: ''};\\n\\t\\t}\\n\\t};\\n\\n\\tvar setupLinkValidatorHandler = function (ctrl, editorSettings, fileType) {\\n\\t\\tvar validatorHandler = editorSettings.filepicker_validator_handler;\\n\\t\\tif (validatorHandler) {\\n\\t\\t\\tvar validateUrl = function (url) {\\n\\t\\t\\t\\tif (url.length === 0) {\\n\\t\\t\\t\\t\\tctrl.statusLevel('none');\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tvalidatorHandler({\\n\\t\\t\\t\\t\\turl: url,\\n\\t\\t\\t\\t\\ttype: fileType\\n\\t\\t\\t\\t}, function (result) {\\n\\t\\t\\t\\t\\tvar uiState = statusToUiState(result);\\n\\n\\t\\t\\t\\t\\tctrl.statusMessage(uiState.message);\\n\\t\\t\\t\\t\\tctrl.statusLevel(uiState.status);\\n\\t\\t\\t\\t});\\n\\t\\t\\t};\\n\\n\\t\\t\\tctrl.state.on('change:value', function (e) {\\n\\t\\t\\t\\tvalidateUrl(e.value);\\n\\t\\t\\t});\\n\\t\\t}\\n\\t};\\n\\n\\treturn ComboBox.extend({\\n\\t\\t/**\\n\\t\\t * Constructs a new control instance with the specified settings.\\n\\t\\t *\\n\\t\\t * @constructor\\n\\t\\t * @param {Object} settings Name/value object with settings.\\n\\t\\t */\\n\\t\\tinit: function(settings) {\\n\\t\\t\\tvar self = this, editor = tinymce.activeEditor, editorSettings = editor.settings;\\n\\t\\t\\tvar actionCallback, fileBrowserCallback, fileBrowserCallbackTypes;\\n\\t\\t\\tvar fileType = settings.filetype;\\n\\n\\t\\t\\tsettings.spellcheck = false;\\n\\n\\t\\t\\tfileBrowserCallbackTypes = editorSettings.file_picker_types || editorSettings.file_browser_callback_types;\\n\\t\\t\\tif (fileBrowserCallbackTypes) {\\n\\t\\t\\t\\tfileBrowserCallbackTypes = Tools.makeMap(fileBrowserCallbackTypes, /[, ]/);\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!fileBrowserCallbackTypes || fileBrowserCallbackTypes[fileType]) {\\n\\t\\t\\t\\tfileBrowserCallback = editorSettings.file_picker_callback;\\n\\t\\t\\t\\tif (fileBrowserCallback && (!fileBrowserCallbackTypes || fileBrowserCallbackTypes[fileType])) {\\n\\t\\t\\t\\t\\tactionCallback = function() {\\n\\t\\t\\t\\t\\t\\tvar meta = self.fire('beforecall').meta;\\n\\n\\t\\t\\t\\t\\t\\tmeta = Tools.extend({filetype: fileType}, meta);\\n\\n\\t\\t\\t\\t\\t\\t// file_picker_callback(callback, currentValue, metaData)\\n\\t\\t\\t\\t\\t\\tfileBrowserCallback.call(\\n\\t\\t\\t\\t\\t\\t\\teditor,\\n\\t\\t\\t\\t\\t\\t\\tfunction(value, meta) {\\n\\t\\t\\t\\t\\t\\t\\t\\tself.value(value).fire('change', {meta: meta});\\n\\t\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\t\\tself.value(),\\n\\t\\t\\t\\t\\t\\t\\tmeta\\n\\t\\t\\t\\t\\t\\t);\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t// Legacy callback: file_picker_callback(id, currentValue, filetype, window)\\n\\t\\t\\t\\t\\tfileBrowserCallback = editorSettings.file_browser_callback;\\n\\t\\t\\t\\t\\tif (fileBrowserCallback && (!fileBrowserCallbackTypes || fileBrowserCallbackTypes[fileType])) {\\n\\t\\t\\t\\t\\t\\tactionCallback = function() {\\n\\t\\t\\t\\t\\t\\t\\tfileBrowserCallback(\\n\\t\\t\\t\\t\\t\\t\\t\\tself.getEl('inp').id,\\n\\t\\t\\t\\t\\t\\t\\t\\tself.value(),\\n\\t\\t\\t\\t\\t\\t\\t\\tfileType,\\n\\t\\t\\t\\t\\t\\t\\t\\twindow\\n\\t\\t\\t\\t\\t\\t\\t);\\n\\t\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (actionCallback) {\\n\\t\\t\\t\\tsettings.icon = 'browse';\\n\\t\\t\\t\\tsettings.onaction = actionCallback;\\n\\t\\t\\t}\\n\\n\\t\\t\\tself._super(settings);\\n\\n\\t\\t\\tsetupAutoCompleteHandler(self, editorSettings, editor.getBody(), fileType);\\n\\t\\t\\tsetupLinkValidatorHandler(self, editorSettings, fileType);\\n\\t\\t}\\n\\t});\\n});\\n\\n// Included from: js/tinymce/classes/ui/FitLayout.js\\n\\n/**\\n * FitLayout.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This layout manager will resize the control to be the size of it's parent container.\\n * In other words width: 100% and height: 100%.\\n *\\n * @-x-less FitLayout.less\\n * @class tinymce.ui.FitLayout\\n * @extends tinymce.ui.AbsoluteLayout\\n */\\ndefine(\\\"tinymce/ui/FitLayout\\\", [\\n\\t\\\"tinymce/ui/AbsoluteLayout\\\"\\n], function(AbsoluteLayout) {\\n\\t\\\"use strict\\\";\\n\\n\\treturn AbsoluteLayout.extend({\\n\\t\\t/**\\n\\t\\t * Recalculates the positions of the controls in the specified container.\\n\\t\\t *\\n\\t\\t * @method recalc\\n\\t\\t * @param {tinymce.ui.Container} container Container instance to recalc.\\n\\t\\t */\\n\\t\\trecalc: function(container) {\\n\\t\\t\\tvar contLayoutRect = container.layoutRect(), paddingBox = container.paddingBox;\\n\\n\\t\\t\\tcontainer.items().filter(':visible').each(function(ctrl) {\\n\\t\\t\\t\\tctrl.layoutRect({\\n\\t\\t\\t\\t\\tx: paddingBox.left,\\n\\t\\t\\t\\t\\ty: paddingBox.top,\\n\\t\\t\\t\\t\\tw: contLayoutRect.innerW - paddingBox.right - paddingBox.left,\\n\\t\\t\\t\\t\\th: contLayoutRect.innerH - paddingBox.top - paddingBox.bottom\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\tif (ctrl.recalc) {\\n\\t\\t\\t\\t\\tctrl.recalc();\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t}\\n\\t});\\n});\\n\\n// Included from: js/tinymce/classes/ui/FlexLayout.js\\n\\n/**\\n * FlexLayout.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This layout manager works similar to the CSS flex box.\\n *\\n * @setting {String} direction row|row-reverse|column|column-reverse\\n * @setting {Number} flex A positive-number to flex by.\\n * @setting {String} align start|end|center|stretch\\n * @setting {String} pack start|end|justify\\n *\\n * @class tinymce.ui.FlexLayout\\n * @extends tinymce.ui.AbsoluteLayout\\n */\\ndefine(\\\"tinymce/ui/FlexLayout\\\", [\\n\\t\\\"tinymce/ui/AbsoluteLayout\\\"\\n], function(AbsoluteLayout) {\\n\\t\\\"use strict\\\";\\n\\n\\treturn AbsoluteLayout.extend({\\n\\t\\t/**\\n\\t\\t * Recalculates the positions of the controls in the specified container.\\n\\t\\t *\\n\\t\\t * @method recalc\\n\\t\\t * @param {tinymce.ui.Container} container Container instance to recalc.\\n\\t\\t */\\n\\t\\trecalc: function(container) {\\n\\t\\t\\t// A ton of variables, needs to be in the same scope for performance\\n\\t\\t\\tvar i, l, items, contLayoutRect, contPaddingBox, contSettings, align, pack, spacing, totalFlex, availableSpace, direction;\\n\\t\\t\\tvar ctrl, ctrlLayoutRect, ctrlSettings, flex, maxSizeItems = [], size, maxSize, ratio, rect, pos, maxAlignEndPos;\\n\\t\\t\\tvar sizeName, minSizeName, posName, maxSizeName, beforeName, innerSizeName, deltaSizeName, contentSizeName;\\n\\t\\t\\tvar alignAxisName, alignInnerSizeName, alignSizeName, alignMinSizeName, alignBeforeName, alignAfterName;\\n\\t\\t\\tvar alignDeltaSizeName, alignContentSizeName;\\n\\t\\t\\tvar max = Math.max, min = Math.min;\\n\\n\\t\\t\\t// Get container items, properties and settings\\n\\t\\t\\titems = container.items().filter(':visible');\\n\\t\\t\\tcontLayoutRect = container.layoutRect();\\n\\t\\t\\tcontPaddingBox = container.paddingBox;\\n\\t\\t\\tcontSettings = container.settings;\\n\\t\\t\\tdirection = container.isRtl() ? (contSettings.direction || 'row-reversed') : contSettings.direction;\\n\\t\\t\\talign = contSettings.align;\\n\\t\\t\\tpack = container.isRtl() ? (contSettings.pack || 'end') : contSettings.pack;\\n\\t\\t\\tspacing = contSettings.spacing || 0;\\n\\n\\t\\t\\tif (direction == \\\"row-reversed\\\" || direction == \\\"column-reverse\\\") {\\n\\t\\t\\t\\titems = items.set(items.toArray().reverse());\\n\\t\\t\\t\\tdirection = direction.split('-')[0];\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Setup axis variable name for row/column direction since the calculations is the same\\n\\t\\t\\tif (direction == \\\"column\\\") {\\n\\t\\t\\t\\tposName = \\\"y\\\";\\n\\t\\t\\t\\tsizeName = \\\"h\\\";\\n\\t\\t\\t\\tminSizeName = \\\"minH\\\";\\n\\t\\t\\t\\tmaxSizeName = \\\"maxH\\\";\\n\\t\\t\\t\\tinnerSizeName = \\\"innerH\\\";\\n\\t\\t\\t\\tbeforeName = 'top';\\n\\t\\t\\t\\tdeltaSizeName = \\\"deltaH\\\";\\n\\t\\t\\t\\tcontentSizeName = \\\"contentH\\\";\\n\\n\\t\\t\\t\\talignBeforeName = \\\"left\\\";\\n\\t\\t\\t\\talignSizeName = \\\"w\\\";\\n\\t\\t\\t\\talignAxisName = \\\"x\\\";\\n\\t\\t\\t\\talignInnerSizeName = \\\"innerW\\\";\\n\\t\\t\\t\\talignMinSizeName = \\\"minW\\\";\\n\\t\\t\\t\\talignAfterName = \\\"right\\\";\\n\\t\\t\\t\\talignDeltaSizeName = \\\"deltaW\\\";\\n\\t\\t\\t\\talignContentSizeName = \\\"contentW\\\";\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tposName = \\\"x\\\";\\n\\t\\t\\t\\tsizeName = \\\"w\\\";\\n\\t\\t\\t\\tminSizeName = \\\"minW\\\";\\n\\t\\t\\t\\tmaxSizeName = \\\"maxW\\\";\\n\\t\\t\\t\\tinnerSizeName = \\\"innerW\\\";\\n\\t\\t\\t\\tbeforeName = 'left';\\n\\t\\t\\t\\tdeltaSizeName = \\\"deltaW\\\";\\n\\t\\t\\t\\tcontentSizeName = \\\"contentW\\\";\\n\\n\\t\\t\\t\\talignBeforeName = \\\"top\\\";\\n\\t\\t\\t\\talignSizeName = \\\"h\\\";\\n\\t\\t\\t\\talignAxisName = \\\"y\\\";\\n\\t\\t\\t\\talignInnerSizeName = \\\"innerH\\\";\\n\\t\\t\\t\\talignMinSizeName = \\\"minH\\\";\\n\\t\\t\\t\\talignAfterName = \\\"bottom\\\";\\n\\t\\t\\t\\talignDeltaSizeName = \\\"deltaH\\\";\\n\\t\\t\\t\\talignContentSizeName = \\\"contentH\\\";\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Figure out total flex, availableSpace and collect any max size elements\\n\\t\\t\\tavailableSpace = contLayoutRect[innerSizeName] - contPaddingBox[beforeName] - contPaddingBox[beforeName];\\n\\t\\t\\tmaxAlignEndPos = totalFlex = 0;\\n\\t\\t\\tfor (i = 0, l = items.length; i < l; i++) {\\n\\t\\t\\t\\tctrl = items[i];\\n\\t\\t\\t\\tctrlLayoutRect = ctrl.layoutRect();\\n\\t\\t\\t\\tctrlSettings = ctrl.settings;\\n\\t\\t\\t\\tflex = ctrlSettings.flex;\\n\\t\\t\\t\\tavailableSpace -= (i < l - 1 ? spacing : 0);\\n\\n\\t\\t\\t\\tif (flex > 0) {\\n\\t\\t\\t\\t\\ttotalFlex += flex;\\n\\n\\t\\t\\t\\t\\t// Flexed item has a max size then we need to check if we will hit that size\\n\\t\\t\\t\\t\\tif (ctrlLayoutRect[maxSizeName]) {\\n\\t\\t\\t\\t\\t\\tmaxSizeItems.push(ctrl);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tctrlLayoutRect.flex = flex;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tavailableSpace -= ctrlLayoutRect[minSizeName];\\n\\n\\t\\t\\t\\t// Calculate the align end position to be used to check for overflow/underflow\\n\\t\\t\\t\\tsize = contPaddingBox[alignBeforeName] + ctrlLayoutRect[alignMinSizeName] + contPaddingBox[alignAfterName];\\n\\t\\t\\t\\tif (size > maxAlignEndPos) {\\n\\t\\t\\t\\t\\tmaxAlignEndPos = size;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Calculate minW/minH\\n\\t\\t\\trect = {};\\n\\t\\t\\tif (availableSpace < 0) {\\n\\t\\t\\t\\trect[minSizeName] = contLayoutRect[minSizeName] - availableSpace + contLayoutRect[deltaSizeName];\\n\\t\\t\\t} else {\\n\\t\\t\\t\\trect[minSizeName] = contLayoutRect[innerSizeName] - availableSpace + contLayoutRect[deltaSizeName];\\n\\t\\t\\t}\\n\\n\\t\\t\\trect[alignMinSizeName] = maxAlignEndPos + contLayoutRect[alignDeltaSizeName];\\n\\n\\t\\t\\trect[contentSizeName] = contLayoutRect[innerSizeName] - availableSpace;\\n\\t\\t\\trect[alignContentSizeName] = maxAlignEndPos;\\n\\t\\t\\trect.minW = min(rect.minW, contLayoutRect.maxW);\\n\\t\\t\\trect.minH = min(rect.minH, contLayoutRect.maxH);\\n\\t\\t\\trect.minW = max(rect.minW, contLayoutRect.startMinWidth);\\n\\t\\t\\trect.minH = max(rect.minH, contLayoutRect.startMinHeight);\\n\\n\\t\\t\\t// Resize container container if minSize was changed\\n\\t\\t\\tif (contLayoutRect.autoResize && (rect.minW != contLayoutRect.minW || rect.minH != contLayoutRect.minH)) {\\n\\t\\t\\t\\trect.w = rect.minW;\\n\\t\\t\\t\\trect.h = rect.minH;\\n\\n\\t\\t\\t\\tcontainer.layoutRect(rect);\\n\\t\\t\\t\\tthis.recalc(container);\\n\\n\\t\\t\\t\\t// Forced recalc for example if items are hidden/shown\\n\\t\\t\\t\\tif (container._lastRect === null) {\\n\\t\\t\\t\\t\\tvar parentCtrl = container.parent();\\n\\t\\t\\t\\t\\tif (parentCtrl) {\\n\\t\\t\\t\\t\\t\\tparentCtrl._lastRect = null;\\n\\t\\t\\t\\t\\t\\tparentCtrl.recalc();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Handle max size elements, check if they will become to wide with current options\\n\\t\\t\\tratio = availableSpace / totalFlex;\\n\\t\\t\\tfor (i = 0, l = maxSizeItems.length; i < l; i++) {\\n\\t\\t\\t\\tctrl = maxSizeItems[i];\\n\\t\\t\\t\\tctrlLayoutRect = ctrl.layoutRect();\\n\\t\\t\\t\\tmaxSize = ctrlLayoutRect[maxSizeName];\\n\\t\\t\\t\\tsize = ctrlLayoutRect[minSizeName] + ctrlLayoutRect.flex * ratio;\\n\\n\\t\\t\\t\\tif (size > maxSize) {\\n\\t\\t\\t\\t\\tavailableSpace -= (ctrlLayoutRect[maxSizeName] - ctrlLayoutRect[minSizeName]);\\n\\t\\t\\t\\t\\ttotalFlex -= ctrlLayoutRect.flex;\\n\\t\\t\\t\\t\\tctrlLayoutRect.flex = 0;\\n\\t\\t\\t\\t\\tctrlLayoutRect.maxFlexSize = maxSize;\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tctrlLayoutRect.maxFlexSize = 0;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Setup new ratio, target layout rect, start position\\n\\t\\t\\tratio = availableSpace / totalFlex;\\n\\t\\t\\tpos = contPaddingBox[beforeName];\\n\\t\\t\\trect = {};\\n\\n\\t\\t\\t// Handle pack setting moves the start position to end, center\\n\\t\\t\\tif (totalFlex === 0) {\\n\\t\\t\\t\\tif (pack == \\\"end\\\") {\\n\\t\\t\\t\\t\\tpos = availableSpace + contPaddingBox[beforeName];\\n\\t\\t\\t\\t} else if (pack == \\\"center\\\") {\\n\\t\\t\\t\\t\\tpos = Math.round(\\n\\t\\t\\t\\t\\t\\t(contLayoutRect[innerSizeName] / 2) - ((contLayoutRect[innerSizeName] - availableSpace) / 2)\\n\\t\\t\\t\\t\\t) + contPaddingBox[beforeName];\\n\\n\\t\\t\\t\\t\\tif (pos < 0) {\\n\\t\\t\\t\\t\\t\\tpos = contPaddingBox[beforeName];\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} else if (pack == \\\"justify\\\") {\\n\\t\\t\\t\\t\\tpos = contPaddingBox[beforeName];\\n\\t\\t\\t\\t\\tspacing = Math.floor(availableSpace / (items.length - 1));\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Default aligning (start) the other ones needs to be calculated while doing the layout\\n\\t\\t\\trect[alignAxisName] = contPaddingBox[alignBeforeName];\\n\\n\\t\\t\\t// Start laying out controls\\n\\t\\t\\tfor (i = 0, l = items.length; i < l; i++) {\\n\\t\\t\\t\\tctrl = items[i];\\n\\t\\t\\t\\tctrlLayoutRect = ctrl.layoutRect();\\n\\t\\t\\t\\tsize = ctrlLayoutRect.maxFlexSize || ctrlLayoutRect[minSizeName];\\n\\n\\t\\t\\t\\t// Align the control on the other axis\\n\\t\\t\\t\\tif (align === \\\"center\\\") {\\n\\t\\t\\t\\t\\trect[alignAxisName] = Math.round((contLayoutRect[alignInnerSizeName] / 2) - (ctrlLayoutRect[alignSizeName] / 2));\\n\\t\\t\\t\\t} else if (align === \\\"stretch\\\") {\\n\\t\\t\\t\\t\\trect[alignSizeName] = max(\\n\\t\\t\\t\\t\\t\\tctrlLayoutRect[alignMinSizeName] || 0,\\n\\t\\t\\t\\t\\t\\tcontLayoutRect[alignInnerSizeName] - contPaddingBox[alignBeforeName] - contPaddingBox[alignAfterName]\\n\\t\\t\\t\\t\\t);\\n\\t\\t\\t\\t\\trect[alignAxisName] = contPaddingBox[alignBeforeName];\\n\\t\\t\\t\\t} else if (align === \\\"end\\\") {\\n\\t\\t\\t\\t\\trect[alignAxisName] = contLayoutRect[alignInnerSizeName] - ctrlLayoutRect[alignSizeName] - contPaddingBox.top;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Calculate new size based on flex\\n\\t\\t\\t\\tif (ctrlLayoutRect.flex > 0) {\\n\\t\\t\\t\\t\\tsize += ctrlLayoutRect.flex * ratio;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\trect[sizeName] = size;\\n\\t\\t\\t\\trect[posName] = pos;\\n\\t\\t\\t\\tctrl.layoutRect(rect);\\n\\n\\t\\t\\t\\t// Recalculate containers\\n\\t\\t\\t\\tif (ctrl.recalc) {\\n\\t\\t\\t\\t\\tctrl.recalc();\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Move x/y position\\n\\t\\t\\t\\tpos += size + spacing;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t});\\n});\\n\\n// Included from: js/tinymce/classes/ui/FlowLayout.js\\n\\n/**\\n * FlowLayout.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This layout manager will place the controls by using the browsers native layout.\\n *\\n * @-x-less FlowLayout.less\\n * @class tinymce.ui.FlowLayout\\n * @extends tinymce.ui.Layout\\n */\\ndefine(\\\"tinymce/ui/FlowLayout\\\", [\\n\\t\\\"tinymce/ui/Layout\\\"\\n], function(Layout) {\\n\\treturn Layout.extend({\\n\\t\\tDefaults: {\\n\\t\\t\\tcontainerClass: 'flow-layout',\\n\\t\\t\\tcontrolClass: 'flow-layout-item',\\n\\t\\t\\tendClass: 'break'\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Recalculates the positions of the controls in the specified container.\\n\\t\\t *\\n\\t\\t * @method recalc\\n\\t\\t * @param {tinymce.ui.Container} container Container instance to recalc.\\n\\t\\t */\\n\\t\\trecalc: function(container) {\\n\\t\\t\\tcontainer.items().filter(':visible').each(function(ctrl) {\\n\\t\\t\\t\\tif (ctrl.recalc) {\\n\\t\\t\\t\\t\\tctrl.recalc();\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t},\\n\\n\\t\\tisNative: function() {\\n\\t\\t\\treturn true;\\n\\t\\t}\\n\\t});\\n});\\n\\n// Included from: js/tinymce/classes/fmt/FontInfo.js\\n\\n/**\\n * FontInfo.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2016 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Internal class for computing font size for elements.\\n *\\n * @private\\n * @class tinymce.fmt.FontInfo\\n */\\ndefine(\\\"tinymce/fmt/FontInfo\\\", [\\n\\t\\\"tinymce/dom/DOMUtils\\\"\\n], function(DOMUtils) {\\n\\tvar getSpecifiedFontProp = function (propName, rootElm, elm) {\\n\\t\\twhile (elm !== rootElm) {\\n\\t\\t\\tif (elm.style[propName]) {\\n\\t\\t\\t\\treturn elm.style[propName];\\n\\t\\t\\t}\\n\\n\\t\\t\\telm = elm.parentNode;\\n\\t\\t}\\n\\n\\t\\treturn '';\\n\\t};\\n\\n\\tvar toPt = function (fontSize) {\\n\\t\\tif (/[0-9.]+px$/.test(fontSize)) {\\n\\t\\t\\treturn Math.round(parseInt(fontSize, 10) * 72 / 96) + 'pt';\\n\\t\\t}\\n\\n\\t\\treturn fontSize;\\n\\t};\\n\\n\\tvar normalizeFontFamily = function (fontFamily) {\\n\\t\\t// 'Font name', Font -> Font name,Font\\n\\t\\treturn fontFamily.replace(/[\\\\'\\\\\\\"]/g, '').replace(/,\\\\s+/g, ',');\\n\\t};\\n\\n\\tvar getComputedFontProp = function (propName, elm) {\\n\\t\\treturn DOMUtils.DOM.getStyle(elm, propName, true);\\n\\t};\\n\\n\\tvar getFontSize = function (rootElm, elm) {\\n\\t\\tvar specifiedFontSize = getSpecifiedFontProp('fontSize', rootElm, elm);\\n\\t\\treturn specifiedFontSize !== '' ? specifiedFontSize : getComputedFontProp('fontSize', elm);\\n\\t};\\n\\n\\tvar getFontFamily = function (rootElm, elm) {\\n\\t\\tvar specifiedFontSize = getSpecifiedFontProp('fontFamily', rootElm, elm);\\n\\t\\tvar fontValue = specifiedFontSize !== '' ? specifiedFontSize : getComputedFontProp('fontFamily', elm);\\n\\n\\t\\treturn fontValue !== undefined ? normalizeFontFamily(fontValue) : '';\\n\\t};\\n\\n\\treturn {\\n\\t\\tgetFontSize: getFontSize,\\n\\t\\tgetFontFamily: getFontFamily,\\n\\t\\ttoPt: toPt\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/ui/FormatControls.js\\n\\n/**\\n * FormatControls.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Internal class containing all TinyMCE specific control types such as\\n * format listboxes, fontlist boxes, toolbar buttons etc.\\n *\\n * @class tinymce.ui.FormatControls\\n */\\ndefine(\\\"tinymce/ui/FormatControls\\\", [\\n\\t\\\"tinymce/ui/Control\\\",\\n\\t\\\"tinymce/ui/Widget\\\",\\n\\t\\\"tinymce/ui/FloatPanel\\\",\\n\\t\\\"tinymce/util/Tools\\\",\\n\\t\\\"tinymce/util/Arr\\\",\\n\\t\\\"tinymce/dom/DOMUtils\\\",\\n\\t\\\"tinymce/EditorManager\\\",\\n\\t\\\"tinymce/Env\\\",\\n\\t\\\"tinymce/fmt/FontInfo\\\"\\n], function(Control, Widget, FloatPanel, Tools, Arr, DOMUtils, EditorManager, Env, FontInfo) {\\n\\tvar each = Tools.each;\\n\\n\\tvar flatten = function (ar) {\\n\\t\\treturn Arr.reduce(ar, function (result, item) {\\n\\t\\t\\treturn result.concat(item);\\n\\t\\t}, []);\\n\\t};\\n\\n\\tEditorManager.on('AddEditor', function(e) {\\n\\t\\tvar editor = e.editor;\\n\\n\\t\\tsetupRtlMode(editor);\\n\\t\\tregisterControls(editor);\\n\\t\\tsetupContainer(editor);\\n\\t});\\n\\n\\tControl.translate = function(text) {\\n\\t\\treturn EditorManager.translate(text);\\n\\t};\\n\\n\\tWidget.tooltips = !Env.iOS;\\n\\n\\tfunction setupContainer(editor) {\\n\\t\\tif (editor.settings.ui_container) {\\n\\t\\t\\tEnv.container = DOMUtils.DOM.select(editor.settings.ui_container)[0];\\n\\t\\t}\\n\\t}\\n\\n\\tfunction setupRtlMode(editor) {\\n\\t\\teditor.on('ScriptsLoaded', function () {\\n\\t\\t\\tif (editor.rtl) {\\n\\t\\t\\t\\tControl.rtl = true;\\n\\t\\t\\t}\\n\\t\\t});\\n\\t}\\n\\n\\tfunction registerControls(editor) {\\n\\t\\tvar formatMenu;\\n\\n\\t\\tfunction createListBoxChangeHandler(items, formatName) {\\n\\t\\t\\treturn function() {\\n\\t\\t\\t\\tvar self = this;\\n\\n\\t\\t\\t\\teditor.on('nodeChange', function(e) {\\n\\t\\t\\t\\t\\tvar formatter = editor.formatter;\\n\\t\\t\\t\\t\\tvar value = null;\\n\\n\\t\\t\\t\\t\\teach(e.parents, function(node) {\\n\\t\\t\\t\\t\\t\\teach(items, function(item) {\\n\\t\\t\\t\\t\\t\\t\\tif (formatName) {\\n\\t\\t\\t\\t\\t\\t\\t\\tif (formatter.matchNode(node, formatName, {value: item.value})) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tvalue = item.value;\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\t\\tif (formatter.matchNode(node, item.value)) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tvalue = item.value;\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tif (value) {\\n\\t\\t\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\t\\tif (value) {\\n\\t\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\tself.value(value);\\n\\t\\t\\t\\t});\\n\\t\\t\\t};\\n\\t\\t}\\n\\n\\t\\tfunction createFontNameListBoxChangeHandler(items) {\\n\\t\\t\\treturn function() {\\n\\t\\t\\t\\tvar self = this;\\n\\n\\t\\t\\t\\tvar getFirstFont = function (fontFamily) {\\n\\t\\t\\t\\t\\treturn fontFamily ? fontFamily.split(',')[0] : '';\\n\\t\\t\\t\\t};\\n\\n\\t\\t\\t\\teditor.on('nodeChange', function(e) {\\n\\t\\t\\t\\t\\tvar fontFamily, value = null;\\n\\n\\t\\t\\t\\t\\tfontFamily = FontInfo.getFontFamily(editor.getBody(), e.element);\\n\\n\\t\\t\\t\\t\\teach(items, function(item) {\\n\\t\\t\\t\\t\\t\\tif (item.value.toLowerCase() === fontFamily.toLowerCase()) {\\n\\t\\t\\t\\t\\t\\t\\tvalue = item.value;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\teach(items, function(item) {\\n\\t\\t\\t\\t\\t\\tif (!value && getFirstFont(item.value).toLowerCase() === getFirstFont(fontFamily).toLowerCase()) {\\n\\t\\t\\t\\t\\t\\t\\tvalue = item.value;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\tself.value(value);\\n\\n\\t\\t\\t\\t\\tif (!value && fontFamily) {\\n\\t\\t\\t\\t\\t\\tself.text(getFirstFont(fontFamily));\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\t\\t\\t};\\n\\t\\t}\\n\\n\\t\\tfunction createFontSizeListBoxChangeHandler(items) {\\n\\t\\t\\treturn function() {\\n\\t\\t\\t\\tvar self = this;\\n\\n\\t\\t\\t\\teditor.on('nodeChange', function(e) {\\n\\t\\t\\t\\t\\tvar px, pt, value = null;\\n\\n\\t\\t\\t\\t\\tpx = FontInfo.getFontSize(editor.getBody(), e.element);\\n\\t\\t\\t\\t\\tpt = FontInfo.toPt(px);\\n\\n\\t\\t\\t\\t\\teach(items, function(item) {\\n\\t\\t\\t\\t\\t\\tif (item.value === px) {\\n\\t\\t\\t\\t\\t\\t\\tvalue = px;\\n\\t\\t\\t\\t\\t\\t} else if (item.value === pt) {\\n\\t\\t\\t\\t\\t\\t\\tvalue = pt;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\tself.value(value);\\n\\n\\t\\t\\t\\t\\tif (!value) {\\n\\t\\t\\t\\t\\t\\tself.text(pt);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\t\\t\\t};\\n\\t\\t}\\n\\n\\t\\tfunction createFormats(formats) {\\n\\t\\t\\tformats = formats.replace(/;$/, '').split(';');\\n\\n\\t\\t\\tvar i = formats.length;\\n\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\tformats[i] = formats[i].split('=');\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn formats;\\n\\t\\t}\\n\\n\\t\\tfunction createFormatMenu() {\\n\\t\\t\\tvar count = 0, newFormats = [];\\n\\n\\t\\t\\tvar defaultStyleFormats = [\\n\\t\\t\\t\\t{title: 'Headings', items: [\\n\\t\\t\\t\\t\\t{title: 'Heading 1', format: 'h1'},\\n\\t\\t\\t\\t\\t{title: 'Heading 2', format: 'h2'},\\n\\t\\t\\t\\t\\t{title: 'Heading 3', format: 'h3'},\\n\\t\\t\\t\\t\\t{title: 'Heading 4', format: 'h4'},\\n\\t\\t\\t\\t\\t{title: 'Heading 5', format: 'h5'},\\n\\t\\t\\t\\t\\t{title: 'Heading 6', format: 'h6'}\\n\\t\\t\\t\\t]},\\n\\n\\t\\t\\t\\t{title: 'Inline', items: [\\n\\t\\t\\t\\t\\t{title: 'Bold', icon: 'bold', format: 'bold'},\\n\\t\\t\\t\\t\\t{title: 'Italic', icon: 'italic', format: 'italic'},\\n\\t\\t\\t\\t\\t{title: 'Underline', icon: 'underline', format: 'underline'},\\n\\t\\t\\t\\t\\t{title: 'Strikethrough', icon: 'strikethrough', format: 'strikethrough'},\\n\\t\\t\\t\\t\\t{title: 'Superscript', icon: 'superscript', format: 'superscript'},\\n\\t\\t\\t\\t\\t{title: 'Subscript', icon: 'subscript', format: 'subscript'},\\n\\t\\t\\t\\t\\t{title: 'Code', icon: 'code', format: 'code'}\\n\\t\\t\\t\\t]},\\n\\n\\t\\t\\t\\t{title: 'Blocks', items: [\\n\\t\\t\\t\\t\\t{title: 'Paragraph', format: 'p'},\\n\\t\\t\\t\\t\\t{title: 'Blockquote', format: 'blockquote'},\\n\\t\\t\\t\\t\\t{title: 'Div', format: 'div'},\\n\\t\\t\\t\\t\\t{title: 'Pre', format: 'pre'}\\n\\t\\t\\t\\t]},\\n\\n\\t\\t\\t\\t{title: 'Alignment', items: [\\n\\t\\t\\t\\t\\t{title: 'Left', icon: 'alignleft', format: 'alignleft'},\\n\\t\\t\\t\\t\\t{title: 'Center', icon: 'aligncenter', format: 'aligncenter'},\\n\\t\\t\\t\\t\\t{title: 'Right', icon: 'alignright', format: 'alignright'},\\n\\t\\t\\t\\t\\t{title: 'Justify', icon: 'alignjustify', format: 'alignjustify'}\\n\\t\\t\\t\\t]}\\n\\t\\t\\t];\\n\\n\\t\\t\\tfunction createMenu(formats) {\\n\\t\\t\\t\\tvar menu = [];\\n\\n\\t\\t\\t\\tif (!formats) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\teach(formats, function(format) {\\n\\t\\t\\t\\t\\tvar menuItem = {\\n\\t\\t\\t\\t\\t\\ttext: format.title,\\n\\t\\t\\t\\t\\t\\ticon: format.icon\\n\\t\\t\\t\\t\\t};\\n\\n\\t\\t\\t\\t\\tif (format.items) {\\n\\t\\t\\t\\t\\t\\tmenuItem.menu = createMenu(format.items);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tvar formatName = format.format || \\\"custom\\\" + count++;\\n\\n\\t\\t\\t\\t\\t\\tif (!format.format) {\\n\\t\\t\\t\\t\\t\\t\\tformat.name = formatName;\\n\\t\\t\\t\\t\\t\\t\\tnewFormats.push(format);\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tmenuItem.format = formatName;\\n\\t\\t\\t\\t\\t\\tmenuItem.cmd = format.cmd;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tmenu.push(menuItem);\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\treturn menu;\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction createStylesMenu() {\\n\\t\\t\\t\\tvar menu;\\n\\n\\t\\t\\t\\tif (editor.settings.style_formats_merge) {\\n\\t\\t\\t\\t\\tif (editor.settings.style_formats) {\\n\\t\\t\\t\\t\\t\\tmenu = createMenu(defaultStyleFormats.concat(editor.settings.style_formats));\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tmenu = createMenu(defaultStyleFormats);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tmenu = createMenu(editor.settings.style_formats || defaultStyleFormats);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn menu;\\n\\t\\t\\t}\\n\\n\\t\\t\\teditor.on('init', function() {\\n\\t\\t\\t\\teach(newFormats, function(format) {\\n\\t\\t\\t\\t\\teditor.formatter.register(format.name, format);\\n\\t\\t\\t\\t});\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn {\\n\\t\\t\\t\\ttype: 'menu',\\n\\t\\t\\t\\titems: createStylesMenu(),\\n\\t\\t\\t\\tonPostRender: function(e) {\\n\\t\\t\\t\\t\\teditor.fire('renderFormatsMenu', {control: e.control});\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\titemDefaults: {\\n\\t\\t\\t\\t\\tpreview: true,\\n\\n\\t\\t\\t\\t\\ttextStyle: function() {\\n\\t\\t\\t\\t\\t\\tif (this.settings.format) {\\n\\t\\t\\t\\t\\t\\t\\treturn editor.formatter.getCssText(this.settings.format);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\t\\tonPostRender: function() {\\n\\t\\t\\t\\t\\t\\tvar self = this;\\n\\n\\t\\t\\t\\t\\t\\tself.parent().on('show', function() {\\n\\t\\t\\t\\t\\t\\t\\tvar formatName, command;\\n\\n\\t\\t\\t\\t\\t\\t\\tformatName = self.settings.format;\\n\\t\\t\\t\\t\\t\\t\\tif (formatName) {\\n\\t\\t\\t\\t\\t\\t\\t\\tself.disabled(!editor.formatter.canApply(formatName));\\n\\t\\t\\t\\t\\t\\t\\t\\tself.active(editor.formatter.match(formatName));\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tcommand = self.settings.cmd;\\n\\t\\t\\t\\t\\t\\t\\tif (command) {\\n\\t\\t\\t\\t\\t\\t\\t\\tself.active(editor.queryCommandState(command));\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\t\\tonclick: function() {\\n\\t\\t\\t\\t\\t\\tif (this.settings.format) {\\n\\t\\t\\t\\t\\t\\t\\ttoggleFormat(this.settings.format);\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tif (this.settings.cmd) {\\n\\t\\t\\t\\t\\t\\t\\teditor.execCommand(this.settings.cmd);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t};\\n\\t\\t}\\n\\n\\t\\tformatMenu = createFormatMenu();\\n\\n\\t\\tfunction initOnPostRender(name) {\\n\\t\\t\\treturn function() {\\n\\t\\t\\t\\tvar self = this;\\n\\n\\t\\t\\t\\t// TODO: Fix this\\n\\t\\t\\t\\tif (editor.formatter) {\\n\\t\\t\\t\\t\\teditor.formatter.formatChanged(name, function(state) {\\n\\t\\t\\t\\t\\t\\tself.active(state);\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\teditor.on('init', function() {\\n\\t\\t\\t\\t\\t\\teditor.formatter.formatChanged(name, function(state) {\\n\\t\\t\\t\\t\\t\\t\\tself.active(state);\\n\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t}\\n\\t\\t\\t};\\n\\t\\t}\\n\\n\\t\\t// Simple format controls <control/format>:<UI text>\\n\\t\\teach({\\n\\t\\t\\tbold: 'Bold',\\n\\t\\t\\titalic: 'Italic',\\n\\t\\t\\tunderline: 'Underline',\\n\\t\\t\\tstrikethrough: 'Strikethrough',\\n\\t\\t\\tsubscript: 'Subscript',\\n\\t\\t\\tsuperscript: 'Superscript'\\n\\t\\t}, function(text, name) {\\n\\t\\t\\teditor.addButton(name, {\\n\\t\\t\\t\\ttooltip: text,\\n\\t\\t\\t\\tonPostRender: initOnPostRender(name),\\n\\t\\t\\t\\tonclick: function() {\\n\\t\\t\\t\\t\\ttoggleFormat(name);\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t});\\n\\n\\t\\t// Simple command controls <control>:[<UI text>,<Command>]\\n\\t\\teach({\\n\\t\\t\\toutdent: ['Decrease indent', 'Outdent'],\\n\\t\\t\\tindent: ['Increase indent', 'Indent'],\\n\\t\\t\\tcut: ['Cut', 'Cut'],\\n\\t\\t\\tcopy: ['Copy', 'Copy'],\\n\\t\\t\\tpaste: ['Paste', 'Paste'],\\n\\t\\t\\thelp: ['Help', 'mceHelp'],\\n\\t\\t\\tselectall: ['Select all', 'SelectAll'],\\n\\t\\t\\tremoveformat: ['Clear formatting', 'RemoveFormat'],\\n\\t\\t\\tvisualaid: ['Visual aids', 'mceToggleVisualAid'],\\n\\t\\t\\tnewdocument: ['New document', 'mceNewDocument']\\n\\t\\t}, function(item, name) {\\n\\t\\t\\teditor.addButton(name, {\\n\\t\\t\\t\\ttooltip: item[0],\\n\\t\\t\\t\\tcmd: item[1]\\n\\t\\t\\t});\\n\\t\\t});\\n\\n\\t\\t// Simple command controls with format state\\n\\t\\teach({\\n\\t\\t\\tblockquote: ['Blockquote', 'mceBlockQuote'],\\n\\t\\t\\tsubscript: ['Subscript', 'Subscript'],\\n\\t\\t\\tsuperscript: ['Superscript', 'Superscript'],\\n\\t\\t\\talignleft: ['Align left', 'JustifyLeft'],\\n\\t\\t\\taligncenter: ['Align center', 'JustifyCenter'],\\n\\t\\t\\talignright: ['Align right', 'JustifyRight'],\\n\\t\\t\\talignjustify: ['Justify', 'JustifyFull'],\\n\\t\\t\\talignnone: ['No alignment', 'JustifyNone']\\n\\t\\t}, function(item, name) {\\n\\t\\t\\teditor.addButton(name, {\\n\\t\\t\\t\\ttooltip: item[0],\\n\\t\\t\\t\\tcmd: item[1],\\n\\t\\t\\t\\tonPostRender: initOnPostRender(name)\\n\\t\\t\\t});\\n\\t\\t});\\n\\n\\t\\tfunction toggleUndoRedoState(type) {\\n\\t\\t\\treturn function() {\\n\\t\\t\\t\\tvar self = this;\\n\\n\\t\\t\\t\\tfunction checkState() {\\n\\t\\t\\t\\t\\tvar typeFn = type == 'redo' ? 'hasRedo' : 'hasUndo';\\n\\t\\t\\t\\t\\treturn editor.undoManager ? editor.undoManager[typeFn]() : false;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tself.disabled(!checkState());\\n\\t\\t\\t\\teditor.on('Undo Redo AddUndo TypingUndo ClearUndos SwitchMode', function() {\\n\\t\\t\\t\\t\\tself.disabled(editor.readonly || !checkState());\\n\\t\\t\\t\\t});\\n\\t\\t\\t};\\n\\t\\t}\\n\\n\\t\\tfunction toggleVisualAidState() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\teditor.on('VisualAid', function(e) {\\n\\t\\t\\t\\tself.active(e.hasVisual);\\n\\t\\t\\t});\\n\\n\\t\\t\\tself.active(editor.hasVisual);\\n\\t\\t}\\n\\n\\t\\tvar trimMenuItems = function (menuItems) {\\n\\t\\t\\tvar outputMenuItems = menuItems;\\n\\n\\t\\t\\tif (outputMenuItems.length > 0 && outputMenuItems[0].text === '-') {\\n\\t\\t\\t\\toutputMenuItems = outputMenuItems.slice(1);\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (outputMenuItems.length > 0 && outputMenuItems[outputMenuItems.length - 1].text === '-') {\\n\\t\\t\\t\\toutputMenuItems = outputMenuItems.slice(0, outputMenuItems.length - 1);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn outputMenuItems;\\n\\t\\t};\\n\\n\\t\\tvar createCustomMenuItems = function (names) {\\n\\t\\t\\tvar items, nameList;\\n\\n\\t\\t\\tif (typeof names === 'string') {\\n\\t\\t\\t\\tnameList = names.split(' ');\\n\\t\\t\\t} else if (Tools.isArray(names)) {\\n\\t\\t\\t\\treturn flatten(Tools.map(names, createCustomMenuItems));\\n\\t\\t\\t}\\n\\n\\t\\t\\titems = Tools.grep(nameList, function (name) {\\n\\t\\t\\t\\treturn name === '|' || name in editor.menuItems;\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn Tools.map(items, function (name) {\\n\\t\\t\\t\\treturn name === '|' ? {text: '-'} : editor.menuItems[name];\\n\\t\\t\\t});\\n\\t\\t};\\n\\n\\t\\tvar createContextMenuItems = function (context) {\\n\\t\\t\\tvar outputMenuItems = [{text: '-'}];\\n\\t\\t\\tvar menuItems = Tools.grep(editor.menuItems, function (menuItem) {\\n\\t\\t\\t\\treturn menuItem.context === context;\\n\\t\\t\\t});\\n\\n\\t\\t\\tTools.each(menuItems, function (menuItem) {\\n\\t\\t\\t\\tif (menuItem.separator == 'before') {\\n\\t\\t\\t\\t\\toutputMenuItems.push({text: '|'});\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (menuItem.prependToContext) {\\n\\t\\t\\t\\t\\toutputMenuItems.unshift(menuItem);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\toutputMenuItems.push(menuItem);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (menuItem.separator == 'after') {\\n\\t\\t\\t\\t\\toutputMenuItems.push({text: '|'});\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn outputMenuItems;\\n\\t\\t};\\n\\n\\t\\tvar createInsertMenu = function (editorSettings) {\\n\\t\\t\\tif (editorSettings.insert_button_items) {\\n\\t\\t\\t\\treturn trimMenuItems(createCustomMenuItems(editorSettings.insert_button_items));\\n\\t\\t\\t} else {\\n\\t\\t\\t\\treturn trimMenuItems(createContextMenuItems('insert'));\\n\\t\\t\\t}\\n\\t\\t};\\n\\n\\t\\teditor.addButton('undo', {\\n\\t\\t\\ttooltip: 'Undo',\\n\\t\\t\\tonPostRender: toggleUndoRedoState('undo'),\\n\\t\\t\\tcmd: 'undo'\\n\\t\\t});\\n\\n\\t\\teditor.addButton('redo', {\\n\\t\\t\\ttooltip: 'Redo',\\n\\t\\t\\tonPostRender: toggleUndoRedoState('redo'),\\n\\t\\t\\tcmd: 'redo'\\n\\t\\t});\\n\\n\\t\\teditor.addMenuItem('newdocument', {\\n\\t\\t\\ttext: 'New document',\\n\\t\\t\\ticon: 'newdocument',\\n\\t\\t\\tcmd: 'mceNewDocument'\\n\\t\\t});\\n\\n\\t\\teditor.addMenuItem('undo', {\\n\\t\\t\\ttext: 'Undo',\\n\\t\\t\\ticon: 'undo',\\n\\t\\t\\tshortcut: 'Meta+Z',\\n\\t\\t\\tonPostRender: toggleUndoRedoState('undo'),\\n\\t\\t\\tcmd: 'undo'\\n\\t\\t});\\n\\n\\t\\teditor.addMenuItem('redo', {\\n\\t\\t\\ttext: 'Redo',\\n\\t\\t\\ticon: 'redo',\\n\\t\\t\\tshortcut: 'Meta+Y',\\n\\t\\t\\tonPostRender: toggleUndoRedoState('redo'),\\n\\t\\t\\tcmd: 'redo'\\n\\t\\t});\\n\\n\\t\\teditor.addMenuItem('visualaid', {\\n\\t\\t\\ttext: 'Visual aids',\\n\\t\\t\\tselectable: true,\\n\\t\\t\\tonPostRender: toggleVisualAidState,\\n\\t\\t\\tcmd: 'mceToggleVisualAid'\\n\\t\\t});\\n\\n\\t\\teditor.addButton('remove', {\\n\\t\\t\\ttooltip: 'Remove',\\n\\t\\t\\ticon: 'remove',\\n\\t\\t\\tcmd: 'Delete'\\n\\t\\t});\\n\\n\\t\\teditor.addButton('insert', {\\n\\t\\t\\ttype: 'menubutton',\\n\\t\\t\\ticon: 'insert',\\n\\t\\t\\tmenu: [],\\n\\t\\t\\toncreatemenu: function () {\\n\\t\\t\\t\\tthis.menu.add(createInsertMenu(editor.settings));\\n\\t\\t\\t\\tthis.menu.renderNew();\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\teach({\\n\\t\\t\\tcut: ['Cut', 'Cut', 'Meta+X'],\\n\\t\\t\\tcopy: ['Copy', 'Copy', 'Meta+C'],\\n\\t\\t\\tpaste: ['Paste', 'Paste', 'Meta+V'],\\n\\t\\t\\tselectall: ['Select all', 'SelectAll', 'Meta+A'],\\n\\t\\t\\tbold: ['Bold', 'Bold', 'Meta+B'],\\n\\t\\t\\titalic: ['Italic', 'Italic', 'Meta+I'],\\n\\t\\t\\tunderline: ['Underline', 'Underline', 'Meta+U'],\\n\\t\\t\\tstrikethrough: ['Strikethrough', 'Strikethrough'],\\n\\t\\t\\tsubscript: ['Subscript', 'Subscript'],\\n\\t\\t\\tsuperscript: ['Superscript', 'Superscript'],\\n\\t\\t\\tremoveformat: ['Clear formatting', 'RemoveFormat']\\n\\t\\t}, function(item, name) {\\n\\t\\t\\teditor.addMenuItem(name, {\\n\\t\\t\\t\\ttext: item[0],\\n\\t\\t\\t\\ticon: name,\\n\\t\\t\\t\\tshortcut: item[2],\\n\\t\\t\\t\\tcmd: item[1]\\n\\t\\t\\t});\\n\\t\\t});\\n\\n\\t\\teditor.on('mousedown', function() {\\n\\t\\t\\tFloatPanel.hideAll();\\n\\t\\t});\\n\\n\\t\\tfunction toggleFormat(fmt) {\\n\\t\\t\\tif (fmt.control) {\\n\\t\\t\\t\\tfmt = fmt.control.value();\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (fmt) {\\n\\t\\t\\t\\teditor.execCommand('mceToggleFormat', false, fmt);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction hideMenuObjects(menu) {\\n\\t\\t\\tvar count = menu.length;\\n\\n\\t\\t\\tTools.each(menu, function (item) {\\n\\t\\t\\t\\tif (item.menu) {\\n\\t\\t\\t\\t\\titem.hidden = hideMenuObjects(item.menu) === 0;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tvar formatName = item.format;\\n\\t\\t\\t\\tif (formatName) {\\n\\t\\t\\t\\t\\titem.hidden = !editor.formatter.canApply(formatName);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (item.hidden) {\\n\\t\\t\\t\\t\\tcount--;\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn count;\\n\\t\\t}\\n\\n\\t\\tfunction hideFormatMenuItems(menu) {\\n\\t\\t\\tvar count = menu.items().length;\\n\\n\\t\\t\\tmenu.items().each(function (item) {\\n\\t\\t\\t\\tif (item.menu) {\\n\\t\\t\\t\\t\\titem.visible(hideFormatMenuItems(item.menu) > 0);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (!item.menu && item.settings.menu) {\\n\\t\\t\\t\\t\\titem.visible(hideMenuObjects(item.settings.menu) > 0);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tvar formatName = item.settings.format;\\n\\t\\t\\t\\tif (formatName) {\\n\\t\\t\\t\\t\\titem.visible(editor.formatter.canApply(formatName));\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (!item.visible()) {\\n\\t\\t\\t\\t\\tcount--;\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn count;\\n\\t\\t}\\n\\n\\t\\teditor.addButton('styleselect', {\\n\\t\\t\\ttype: 'menubutton',\\n\\t\\t\\ttext: 'Formats',\\n\\t\\t\\tmenu: formatMenu,\\n\\t\\t\\tonShowMenu: function () {\\n\\t\\t\\t\\tif (editor.settings.style_formats_autohide) {\\n\\t\\t\\t\\t\\thideFormatMenuItems(this.menu);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\teditor.addButton('formatselect', function() {\\n\\t\\t\\tvar items = [], blocks = createFormats(editor.settings.block_formats ||\\n\\t\\t\\t\\t'Paragraph=p;' +\\n\\t\\t\\t\\t'Heading 1=h1;' +\\n\\t\\t\\t\\t'Heading 2=h2;' +\\n\\t\\t\\t\\t'Heading 3=h3;' +\\n\\t\\t\\t\\t'Heading 4=h4;' +\\n\\t\\t\\t\\t'Heading 5=h5;' +\\n\\t\\t\\t\\t'Heading 6=h6;' +\\n\\t\\t\\t\\t'Preformatted=pre'\\n\\t\\t\\t);\\n\\n\\t\\t\\teach(blocks, function(block) {\\n\\t\\t\\t\\titems.push({\\n\\t\\t\\t\\t\\ttext: block[0],\\n\\t\\t\\t\\t\\tvalue: block[1],\\n\\t\\t\\t\\t\\ttextStyle: function() {\\n\\t\\t\\t\\t\\t\\treturn editor.formatter.getCssText(block[1]);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn {\\n\\t\\t\\t\\ttype: 'listbox',\\n\\t\\t\\t\\ttext: blocks[0][0],\\n\\t\\t\\t\\tvalues: items,\\n\\t\\t\\t\\tfixedWidth: true,\\n\\t\\t\\t\\tonselect: toggleFormat,\\n\\t\\t\\t\\tonPostRender: createListBoxChangeHandler(items)\\n\\t\\t\\t};\\n\\t\\t});\\n\\n\\t\\teditor.addButton('fontselect', function() {\\n\\t\\t\\tvar defaultFontsFormats =\\n\\t\\t\\t\\t'Andale Mono=andale mono,monospace;' +\\n\\t\\t\\t\\t'Arial=arial,helvetica,sans-serif;' +\\n\\t\\t\\t\\t'Arial Black=arial black,sans-serif;' +\\n\\t\\t\\t\\t'Book Antiqua=book antiqua,palatino,serif;' +\\n\\t\\t\\t\\t'Comic Sans MS=comic sans ms,sans-serif;' +\\n\\t\\t\\t\\t'Courier New=courier new,courier,monospace;' +\\n\\t\\t\\t\\t'Georgia=georgia,palatino,serif;' +\\n\\t\\t\\t\\t'Helvetica=helvetica,arial,sans-serif;' +\\n\\t\\t\\t\\t'Impact=impact,sans-serif;' +\\n\\t\\t\\t\\t'Symbol=symbol;' +\\n\\t\\t\\t\\t'Tahoma=tahoma,arial,helvetica,sans-serif;' +\\n\\t\\t\\t\\t'Terminal=terminal,monaco,monospace;' +\\n\\t\\t\\t\\t'Times New Roman=times new roman,times,serif;' +\\n\\t\\t\\t\\t'Trebuchet MS=trebuchet ms,geneva,sans-serif;' +\\n\\t\\t\\t\\t'Verdana=verdana,geneva,sans-serif;' +\\n\\t\\t\\t\\t'Webdings=webdings;' +\\n\\t\\t\\t\\t'Wingdings=wingdings,zapf dingbats';\\n\\n\\t\\t\\tvar items = [], fonts = createFormats(editor.settings.font_formats || defaultFontsFormats);\\n\\n\\t\\t\\teach(fonts, function(font) {\\n\\t\\t\\t\\titems.push({\\n\\t\\t\\t\\t\\ttext: {raw: font[0]},\\n\\t\\t\\t\\t\\tvalue: font[1],\\n\\t\\t\\t\\t\\ttextStyle: font[1].indexOf('dings') == -1 ? 'font-family:' + font[1] : ''\\n\\t\\t\\t\\t});\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn {\\n\\t\\t\\t\\ttype: 'listbox',\\n\\t\\t\\t\\ttext: 'Font Family',\\n\\t\\t\\t\\ttooltip: 'Font Family',\\n\\t\\t\\t\\tvalues: items,\\n\\t\\t\\t\\tfixedWidth: true,\\n\\t\\t\\t\\tonPostRender: createFontNameListBoxChangeHandler(items),\\n\\t\\t\\t\\tonselect: function(e) {\\n\\t\\t\\t\\t\\tif (e.control.settings.value) {\\n\\t\\t\\t\\t\\t\\teditor.execCommand('FontName', false, e.control.settings.value);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t};\\n\\t\\t});\\n\\n\\t\\teditor.addButton('fontsizeselect', function() {\\n\\t\\t\\tvar items = [], defaultFontsizeFormats = '8pt 10pt 12pt 14pt 18pt 24pt 36pt';\\n\\t\\t\\tvar fontsize_formats = editor.settings.fontsize_formats || defaultFontsizeFormats;\\n\\n\\t\\t\\teach(fontsize_formats.split(' '), function(item) {\\n\\t\\t\\t\\tvar text = item, value = item;\\n\\t\\t\\t\\t// Allow text=value font sizes.\\n\\t\\t\\t\\tvar values = item.split('=');\\n\\t\\t\\t\\tif (values.length > 1) {\\n\\t\\t\\t\\t\\ttext = values[0];\\n\\t\\t\\t\\t\\tvalue = values[1];\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\titems.push({text: text, value: value});\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn {\\n\\t\\t\\t\\ttype: 'listbox',\\n\\t\\t\\t\\ttext: 'Font Sizes',\\n\\t\\t\\t\\ttooltip: 'Font Sizes',\\n\\t\\t\\t\\tvalues: items,\\n\\t\\t\\t\\tfixedWidth: true,\\n\\t\\t\\t\\tonPostRender: createFontSizeListBoxChangeHandler(items),\\n\\t\\t\\t\\tonclick: function(e) {\\n\\t\\t\\t\\t\\tif (e.control.settings.value) {\\n\\t\\t\\t\\t\\t\\teditor.execCommand('FontSize', false, e.control.settings.value);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t};\\n\\t\\t});\\n\\n\\t\\teditor.addMenuItem('formats', {\\n\\t\\t\\ttext: 'Formats',\\n\\t\\t\\tmenu: formatMenu\\n\\t\\t});\\n\\t}\\n});\\n\\n// Included from: js/tinymce/classes/ui/GridLayout.js\\n\\n/**\\n * GridLayout.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This layout manager places controls in a grid.\\n *\\n * @setting {Number} spacing Spacing between controls.\\n * @setting {Number} spacingH Horizontal spacing between controls.\\n * @setting {Number} spacingV Vertical spacing between controls.\\n * @setting {Number} columns Number of columns to use.\\n * @setting {String/Array} alignH start|end|center|stretch or array of values for each column.\\n * @setting {String/Array} alignV start|end|center|stretch or array of values for each column.\\n * @setting {String} pack start|end\\n *\\n * @class tinymce.ui.GridLayout\\n * @extends tinymce.ui.AbsoluteLayout\\n */\\ndefine(\\\"tinymce/ui/GridLayout\\\", [\\n\\t\\\"tinymce/ui/AbsoluteLayout\\\"\\n], function(AbsoluteLayout) {\\n\\t\\\"use strict\\\";\\n\\n\\treturn AbsoluteLayout.extend({\\n\\t\\t/**\\n\\t\\t * Recalculates the positions of the controls in the specified container.\\n\\t\\t *\\n\\t\\t * @method recalc\\n\\t\\t * @param {tinymce.ui.Container} container Container instance to recalc.\\n\\t\\t */\\n\\t\\trecalc: function(container) {\\n\\t\\t\\tvar settings, rows, cols, items, contLayoutRect, width, height, rect,\\n\\t\\t\\t\\tctrlLayoutRect, ctrl, x, y, posX, posY, ctrlSettings, contPaddingBox, align, spacingH, spacingV, alignH, alignV, maxX, maxY,\\n\\t\\t\\t\\tcolWidths = [], rowHeights = [], ctrlMinWidth, ctrlMinHeight, availableWidth, availableHeight, reverseRows, idx;\\n\\n\\t\\t\\t// Get layout settings\\n\\t\\t\\tsettings = container.settings;\\n\\t\\t\\titems = container.items().filter(':visible');\\n\\t\\t\\tcontLayoutRect = container.layoutRect();\\n\\t\\t\\tcols = settings.columns || Math.ceil(Math.sqrt(items.length));\\n\\t\\t\\trows = Math.ceil(items.length / cols);\\n\\t\\t\\tspacingH = settings.spacingH || settings.spacing || 0;\\n\\t\\t\\tspacingV = settings.spacingV || settings.spacing || 0;\\n\\t\\t\\talignH = settings.alignH || settings.align;\\n\\t\\t\\talignV = settings.alignV || settings.align;\\n\\t\\t\\tcontPaddingBox = container.paddingBox;\\n\\t\\t\\treverseRows = 'reverseRows' in settings ? settings.reverseRows : container.isRtl();\\n\\n\\t\\t\\tif (alignH && typeof alignH == \\\"string\\\") {\\n\\t\\t\\t\\talignH = [alignH];\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (alignV && typeof alignV == \\\"string\\\") {\\n\\t\\t\\t\\talignV = [alignV];\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Zero padd columnWidths\\n\\t\\t\\tfor (x = 0; x < cols; x++) {\\n\\t\\t\\t\\tcolWidths.push(0);\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Zero padd rowHeights\\n\\t\\t\\tfor (y = 0; y < rows; y++) {\\n\\t\\t\\t\\trowHeights.push(0);\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Calculate columnWidths and rowHeights\\n\\t\\t\\tfor (y = 0; y < rows; y++) {\\n\\t\\t\\t\\tfor (x = 0; x < cols; x++) {\\n\\t\\t\\t\\t\\tctrl = items[y * cols + x];\\n\\n\\t\\t\\t\\t\\t// Out of bounds\\n\\t\\t\\t\\t\\tif (!ctrl) {\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tctrlLayoutRect = ctrl.layoutRect();\\n\\t\\t\\t\\t\\tctrlMinWidth = ctrlLayoutRect.minW;\\n\\t\\t\\t\\t\\tctrlMinHeight = ctrlLayoutRect.minH;\\n\\n\\t\\t\\t\\t\\tcolWidths[x] = ctrlMinWidth > colWidths[x] ? ctrlMinWidth : colWidths[x];\\n\\t\\t\\t\\t\\trowHeights[y] = ctrlMinHeight > rowHeights[y] ? ctrlMinHeight : rowHeights[y];\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Calculate maxX\\n\\t\\t\\tavailableWidth = contLayoutRect.innerW - contPaddingBox.left - contPaddingBox.right;\\n\\t\\t\\tfor (maxX = 0, x = 0; x < cols; x++) {\\n\\t\\t\\t\\tmaxX += colWidths[x] + (x > 0 ? spacingH : 0);\\n\\t\\t\\t\\tavailableWidth -= (x > 0 ? spacingH : 0) + colWidths[x];\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Calculate maxY\\n\\t\\t\\tavailableHeight = contLayoutRect.innerH - contPaddingBox.top - contPaddingBox.bottom;\\n\\t\\t\\tfor (maxY = 0, y = 0; y < rows; y++) {\\n\\t\\t\\t\\tmaxY += rowHeights[y] + (y > 0 ? spacingV : 0);\\n\\t\\t\\t\\tavailableHeight -= (y > 0 ? spacingV : 0) + rowHeights[y];\\n\\t\\t\\t}\\n\\n\\t\\t\\tmaxX += contPaddingBox.left + contPaddingBox.right;\\n\\t\\t\\tmaxY += contPaddingBox.top + contPaddingBox.bottom;\\n\\n\\t\\t\\t// Calculate minW/minH\\n\\t\\t\\trect = {};\\n\\t\\t\\trect.minW = maxX + (contLayoutRect.w - contLayoutRect.innerW);\\n\\t\\t\\trect.minH = maxY + (contLayoutRect.h - contLayoutRect.innerH);\\n\\n\\t\\t\\trect.contentW = rect.minW - contLayoutRect.deltaW;\\n\\t\\t\\trect.contentH = rect.minH - contLayoutRect.deltaH;\\n\\t\\t\\trect.minW = Math.min(rect.minW, contLayoutRect.maxW);\\n\\t\\t\\trect.minH = Math.min(rect.minH, contLayoutRect.maxH);\\n\\t\\t\\trect.minW = Math.max(rect.minW, contLayoutRect.startMinWidth);\\n\\t\\t\\trect.minH = Math.max(rect.minH, contLayoutRect.startMinHeight);\\n\\n\\t\\t\\t// Resize container container if minSize was changed\\n\\t\\t\\tif (contLayoutRect.autoResize && (rect.minW != contLayoutRect.minW || rect.minH != contLayoutRect.minH)) {\\n\\t\\t\\t\\trect.w = rect.minW;\\n\\t\\t\\t\\trect.h = rect.minH;\\n\\n\\t\\t\\t\\tcontainer.layoutRect(rect);\\n\\t\\t\\t\\tthis.recalc(container);\\n\\n\\t\\t\\t\\t// Forced recalc for example if items are hidden/shown\\n\\t\\t\\t\\tif (container._lastRect === null) {\\n\\t\\t\\t\\t\\tvar parentCtrl = container.parent();\\n\\t\\t\\t\\t\\tif (parentCtrl) {\\n\\t\\t\\t\\t\\t\\tparentCtrl._lastRect = null;\\n\\t\\t\\t\\t\\t\\tparentCtrl.recalc();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Update contentW/contentH so absEnd moves correctly\\n\\t\\t\\tif (contLayoutRect.autoResize) {\\n\\t\\t\\t\\trect = container.layoutRect(rect);\\n\\t\\t\\t\\trect.contentW = rect.minW - contLayoutRect.deltaW;\\n\\t\\t\\t\\trect.contentH = rect.minH - contLayoutRect.deltaH;\\n\\t\\t\\t}\\n\\n\\t\\t\\tvar flexV;\\n\\n\\t\\t\\tif (settings.packV == 'start') {\\n\\t\\t\\t\\tflexV = 0;\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tflexV = availableHeight > 0 ? Math.floor(availableHeight / rows) : 0;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Calculate totalFlex\\n\\t\\t\\tvar totalFlex = 0;\\n\\t\\t\\tvar flexWidths = settings.flexWidths;\\n\\t\\t\\tif (flexWidths) {\\n\\t\\t\\t\\tfor (x = 0; x < flexWidths.length; x++) {\\n\\t\\t\\t\\t\\ttotalFlex += flexWidths[x];\\n\\t\\t\\t\\t}\\n\\t\\t\\t} else {\\n\\t\\t\\t\\ttotalFlex = cols;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Calculate new column widths based on flex values\\n\\t\\t\\tvar ratio = availableWidth / totalFlex;\\n\\t\\t\\tfor (x = 0; x < cols; x++) {\\n\\t\\t\\t\\tcolWidths[x] += flexWidths ? flexWidths[x] * ratio : ratio;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Move/resize controls\\n\\t\\t\\tposY = contPaddingBox.top;\\n\\t\\t\\tfor (y = 0; y < rows; y++) {\\n\\t\\t\\t\\tposX = contPaddingBox.left;\\n\\t\\t\\t\\theight = rowHeights[y] + flexV;\\n\\n\\t\\t\\t\\tfor (x = 0; x < cols; x++) {\\n\\t\\t\\t\\t\\tif (reverseRows) {\\n\\t\\t\\t\\t\\t\\tidx = y * cols + cols - 1 - x;\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tidx = y * cols + x;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tctrl = items[idx];\\n\\n\\t\\t\\t\\t\\t// No more controls to render then break\\n\\t\\t\\t\\t\\tif (!ctrl) {\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Get control settings and calculate x, y\\n\\t\\t\\t\\t\\tctrlSettings = ctrl.settings;\\n\\t\\t\\t\\t\\tctrlLayoutRect = ctrl.layoutRect();\\n\\t\\t\\t\\t\\twidth = Math.max(colWidths[x], ctrlLayoutRect.startMinWidth);\\n\\t\\t\\t\\t\\tctrlLayoutRect.x = posX;\\n\\t\\t\\t\\t\\tctrlLayoutRect.y = posY;\\n\\n\\t\\t\\t\\t\\t// Align control horizontal\\n\\t\\t\\t\\t\\talign = ctrlSettings.alignH || (alignH ? (alignH[x] || alignH[0]) : null);\\n\\t\\t\\t\\t\\tif (align == \\\"center\\\") {\\n\\t\\t\\t\\t\\t\\tctrlLayoutRect.x = posX + (width / 2) - (ctrlLayoutRect.w / 2);\\n\\t\\t\\t\\t\\t} else if (align == \\\"right\\\") {\\n\\t\\t\\t\\t\\t\\tctrlLayoutRect.x = posX + width - ctrlLayoutRect.w;\\n\\t\\t\\t\\t\\t} else if (align == \\\"stretch\\\") {\\n\\t\\t\\t\\t\\t\\tctrlLayoutRect.w = width;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// Align control vertical\\n\\t\\t\\t\\t\\talign = ctrlSettings.alignV || (alignV ? (alignV[x] || alignV[0]) : null);\\n\\t\\t\\t\\t\\tif (align == \\\"center\\\") {\\n\\t\\t\\t\\t\\t\\tctrlLayoutRect.y = posY + (height / 2) - (ctrlLayoutRect.h / 2);\\n\\t\\t\\t\\t\\t} else if (align == \\\"bottom\\\") {\\n\\t\\t\\t\\t\\t\\tctrlLayoutRect.y = posY + height - ctrlLayoutRect.h;\\n\\t\\t\\t\\t\\t} else if (align == \\\"stretch\\\") {\\n\\t\\t\\t\\t\\t\\tctrlLayoutRect.h = height;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tctrl.layoutRect(ctrlLayoutRect);\\n\\n\\t\\t\\t\\t\\tposX += width + spacingH;\\n\\n\\t\\t\\t\\t\\tif (ctrl.recalc) {\\n\\t\\t\\t\\t\\t\\tctrl.recalc();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tposY += height + spacingV;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t});\\n});\\n\\n// Included from: js/tinymce/classes/ui/Iframe.js\\n\\n/**\\n * Iframe.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/*jshint scripturl:true */\\n\\n/**\\n * This class creates an iframe.\\n *\\n * @setting {String} url Url to open in the iframe.\\n *\\n * @-x-less Iframe.less\\n * @class tinymce.ui.Iframe\\n * @extends tinymce.ui.Widget\\n */\\ndefine(\\\"tinymce/ui/Iframe\\\", [\\n\\t\\\"tinymce/ui/Widget\\\",\\n\\t\\\"tinymce/util/Delay\\\"\\n], function(Widget, Delay) {\\n\\t\\\"use strict\\\";\\n\\n\\treturn Widget.extend({\\n\\t\\t/**\\n\\t\\t * Renders the control as a HTML string.\\n\\t\\t *\\n\\t\\t * @method renderHtml\\n\\t\\t * @return {String} HTML representing the control.\\n\\t\\t */\\n\\t\\trenderHtml: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tself.classes.add('iframe');\\n\\t\\t\\tself.canFocus = false;\\n\\n\\t\\t\\t/*eslint no-script-url:0 */\\n\\t\\t\\treturn (\\n\\t\\t\\t\\t'<iframe id=\\\"' + self._id + '\\\" class=\\\"' + self.classes + '\\\" tabindex=\\\"-1\\\" src=\\\"' +\\n\\t\\t\\t\\t(self.settings.url || \\\"javascript:''\\\") + '\\\" frameborder=\\\"0\\\"></iframe>'\\n\\t\\t\\t);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Setter for the iframe source.\\n\\t\\t *\\n\\t\\t * @method src\\n\\t\\t * @param {String} src Source URL for iframe.\\n\\t\\t */\\n\\t\\tsrc: function(src) {\\n\\t\\t\\tthis.getEl().src = src;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Inner HTML for the iframe.\\n\\t\\t *\\n\\t\\t * @method html\\n\\t\\t * @param {String} html HTML string to set as HTML inside the iframe.\\n\\t\\t * @param {function} callback Optional callback to execute when the iframe body is filled with contents.\\n\\t\\t * @return {tinymce.ui.Iframe} Current iframe control.\\n\\t\\t */\\n\\t\\thtml: function(html, callback) {\\n\\t\\t\\tvar self = this, body = this.getEl().contentWindow.document.body;\\n\\n\\t\\t\\t// Wait for iframe to initialize IE 10 takes time\\n\\t\\t\\tif (!body) {\\n\\t\\t\\t\\tDelay.setTimeout(function() {\\n\\t\\t\\t\\t\\tself.html(html);\\n\\t\\t\\t\\t});\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tbody.innerHTML = html;\\n\\n\\t\\t\\t\\tif (callback) {\\n\\t\\t\\t\\t\\tcallback();\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn this;\\n\\t\\t}\\n\\t});\\n});\\n\\n// Included from: js/tinymce/classes/ui/InfoBox.js\\n\\n/**\\n * InfoBox.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2016 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * ....\\n *\\n * @-x-less InfoBox.less\\n * @class tinymce.ui.InfoBox\\n * @extends tinymce.ui.Widget\\n */\\ndefine(\\\"tinymce/ui/InfoBox\\\", [\\n\\t\\\"tinymce/ui/Widget\\\"\\n], function(Widget) {\\n\\t\\\"use strict\\\";\\n\\n\\treturn Widget.extend({\\n\\t\\t/**\\n\\t\\t * Constructs a instance with the specified settings.\\n\\t\\t *\\n\\t\\t * @constructor\\n\\t\\t * @param {Object} settings Name/value object with settings.\\n\\t\\t * @setting {Boolean} multiline Multiline label.\\n\\t\\t */\\n\\t\\tinit: function(settings) {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tself._super(settings);\\n\\t\\t\\tself.classes.add('widget').add('infobox');\\n\\t\\t\\tself.canFocus = false;\\n\\t\\t},\\n\\n\\t\\tseverity: function(level) {\\n\\t\\t\\tthis.classes.remove('error');\\n\\t\\t\\tthis.classes.remove('warning');\\n\\t\\t\\tthis.classes.remove('success');\\n\\t\\t\\tthis.classes.add(level);\\n\\t\\t},\\n\\n\\t\\thelp: function(state) {\\n\\t\\t\\tthis.state.set('help', state);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Renders the control as a HTML string.\\n\\t\\t *\\n\\t\\t * @method renderHtml\\n\\t\\t * @return {String} HTML representing the control.\\n\\t\\t */\\n\\t\\trenderHtml: function() {\\n\\t\\t\\tvar self = this, prefix = self.classPrefix;\\n\\n\\t\\t\\treturn (\\n\\t\\t\\t\\t'<div id=\\\"' + self._id + '\\\" class=\\\"' + self.classes + '\\\">' +\\n\\t\\t\\t\\t\\t'<div id=\\\"' + self._id + '-body\\\">' +\\n\\t\\t\\t\\t\\t\\tself.encode(self.state.get('text')) +\\n\\t\\t\\t\\t\\t\\t'<button role=\\\"button\\\" tabindex=\\\"-1\\\">' +\\n\\t\\t\\t\\t\\t\\t\\t'<i class=\\\"' + prefix + 'ico ' + prefix + 'i-help\\\"></i>' +\\n\\t\\t\\t\\t\\t\\t'</button>' +\\n\\t\\t\\t\\t\\t'</div>' +\\n\\t\\t\\t\\t'</div>'\\n\\t\\t\\t);\\n\\t\\t},\\n\\n\\t\\tbindStates: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tself.state.on('change:text', function(e) {\\n\\t\\t\\t\\tself.getEl('body').firstChild.data = self.encode(e.value);\\n\\n\\t\\t\\t\\tif (self.state.get('rendered')) {\\n\\t\\t\\t\\t\\tself.updateLayoutRect();\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\tself.state.on('change:help', function(e) {\\n\\t\\t\\t\\tself.classes.toggle('has-help', e.value);\\n\\n\\t\\t\\t\\tif (self.state.get('rendered')) {\\n\\t\\t\\t\\t\\tself.updateLayoutRect();\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn self._super();\\n\\t\\t}\\n\\t});\\n});\\n\\n// Included from: js/tinymce/classes/ui/Label.js\\n\\n/**\\n * Label.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class creates a label element. A label is a simple text control\\n * that can be bound to other controls.\\n *\\n * @-x-less Label.less\\n * @class tinymce.ui.Label\\n * @extends tinymce.ui.Widget\\n */\\ndefine(\\\"tinymce/ui/Label\\\", [\\n\\t\\\"tinymce/ui/Widget\\\",\\n\\t\\\"tinymce/ui/DomUtils\\\"\\n], function(Widget, DomUtils) {\\n\\t\\\"use strict\\\";\\n\\n\\treturn Widget.extend({\\n\\t\\t/**\\n\\t\\t * Constructs a instance with the specified settings.\\n\\t\\t *\\n\\t\\t * @constructor\\n\\t\\t * @param {Object} settings Name/value object with settings.\\n\\t\\t * @setting {Boolean} multiline Multiline label.\\n\\t\\t */\\n\\t\\tinit: function(settings) {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tself._super(settings);\\n\\t\\t\\tself.classes.add('widget').add('label');\\n\\t\\t\\tself.canFocus = false;\\n\\n\\t\\t\\tif (settings.multiline) {\\n\\t\\t\\t\\tself.classes.add('autoscroll');\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (settings.strong) {\\n\\t\\t\\t\\tself.classes.add('strong');\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Initializes the current controls layout rect.\\n\\t\\t * This will be executed by the layout managers to determine the\\n\\t\\t * default minWidth/minHeight etc.\\n\\t\\t *\\n\\t\\t * @method initLayoutRect\\n\\t\\t * @return {Object} Layout rect instance.\\n\\t\\t */\\n\\t\\tinitLayoutRect: function() {\\n\\t\\t\\tvar self = this, layoutRect = self._super();\\n\\n\\t\\t\\tif (self.settings.multiline) {\\n\\t\\t\\t\\tvar size = DomUtils.getSize(self.getEl());\\n\\n\\t\\t\\t\\t// Check if the text fits within maxW if not then try word wrapping it\\n\\t\\t\\t\\tif (size.width > layoutRect.maxW) {\\n\\t\\t\\t\\t\\tlayoutRect.minW = layoutRect.maxW;\\n\\t\\t\\t\\t\\tself.classes.add('multiline');\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tself.getEl().style.width = layoutRect.minW + 'px';\\n\\t\\t\\t\\tlayoutRect.startMinH = layoutRect.h = layoutRect.minH = Math.min(layoutRect.maxH, DomUtils.getSize(self.getEl()).height);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn layoutRect;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Repaints the control after a layout operation.\\n\\t\\t *\\n\\t\\t * @method repaint\\n\\t\\t */\\n\\t\\trepaint: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tif (!self.settings.multiline) {\\n\\t\\t\\t\\tself.getEl().style.lineHeight = self.layoutRect().h + 'px';\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn self._super();\\n\\t\\t},\\n\\n\\t\\tseverity: function(level) {\\n\\t\\t\\tthis.classes.remove('error');\\n\\t\\t\\tthis.classes.remove('warning');\\n\\t\\t\\tthis.classes.remove('success');\\n\\t\\t\\tthis.classes.add(level);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Renders the control as a HTML string.\\n\\t\\t *\\n\\t\\t * @method renderHtml\\n\\t\\t * @return {String} HTML representing the control.\\n\\t\\t */\\n\\t\\trenderHtml: function() {\\n\\t\\t\\tvar self = this, targetCtrl, forName, forId = self.settings.forId;\\n\\n\\t\\t\\tif (!forId && (forName = self.settings.forName)) {\\n\\t\\t\\t\\ttargetCtrl = self.getRoot().find('#' + forName)[0];\\n\\n\\t\\t\\t\\tif (targetCtrl) {\\n\\t\\t\\t\\t\\tforId = targetCtrl._id;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (forId) {\\n\\t\\t\\t\\treturn (\\n\\t\\t\\t\\t\\t'<label id=\\\"' + self._id + '\\\" class=\\\"' + self.classes + '\\\"' + (forId ? ' for=\\\"' + forId + '\\\"' : '') + '>' +\\n\\t\\t\\t\\t\\t\\tself.encode(self.state.get('text')) +\\n\\t\\t\\t\\t\\t'</label>'\\n\\t\\t\\t\\t);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn (\\n\\t\\t\\t\\t'<span id=\\\"' + self._id + '\\\" class=\\\"' + self.classes + '\\\">' +\\n\\t\\t\\t\\t\\tself.encode(self.state.get('text')) +\\n\\t\\t\\t\\t'</span>'\\n\\t\\t\\t);\\n\\t\\t},\\n\\n\\t\\tbindStates: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tself.state.on('change:text', function(e) {\\n\\t\\t\\t\\tself.innerHtml(self.encode(e.value));\\n\\n\\t\\t\\t\\tif (self.state.get('rendered')) {\\n\\t\\t\\t\\t\\tself.updateLayoutRect();\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn self._super();\\n\\t\\t}\\n\\t});\\n});\\n\\n// Included from: js/tinymce/classes/ui/Toolbar.js\\n\\n/**\\n * Toolbar.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Creates a new toolbar.\\n *\\n * @class tinymce.ui.Toolbar\\n * @extends tinymce.ui.Container\\n */\\ndefine(\\\"tinymce/ui/Toolbar\\\", [\\n\\t\\\"tinymce/ui/Container\\\"\\n], function(Container) {\\n\\t\\\"use strict\\\";\\n\\n\\treturn Container.extend({\\n\\t\\tDefaults: {\\n\\t\\t\\trole: 'toolbar',\\n\\t\\t\\tlayout: 'flow'\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Constructs a instance with the specified settings.\\n\\t\\t *\\n\\t\\t * @constructor\\n\\t\\t * @param {Object} settings Name/value object with settings.\\n\\t\\t */\\n\\t\\tinit: function(settings) {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tself._super(settings);\\n\\t\\t\\tself.classes.add('toolbar');\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Called after the control has been rendered.\\n\\t\\t *\\n\\t\\t * @method postRender\\n\\t\\t */\\n\\t\\tpostRender: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tself.items().each(function(ctrl) {\\n\\t\\t\\t\\tctrl.classes.add('toolbar-item');\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn self._super();\\n\\t\\t}\\n\\t});\\n});\\n\\n// Included from: js/tinymce/classes/ui/MenuBar.js\\n\\n/**\\n * MenuBar.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Creates a new menubar.\\n *\\n * @-x-less MenuBar.less\\n * @class tinymce.ui.MenuBar\\n * @extends tinymce.ui.Container\\n */\\ndefine(\\\"tinymce/ui/MenuBar\\\", [\\n\\t\\\"tinymce/ui/Toolbar\\\"\\n], function(Toolbar) {\\n\\t\\\"use strict\\\";\\n\\n\\treturn Toolbar.extend({\\n\\t\\tDefaults: {\\n\\t\\t\\trole: 'menubar',\\n\\t\\t\\tcontainerCls: 'menubar',\\n\\t\\t\\tariaRoot: true,\\n\\t\\t\\tdefaults: {\\n\\t\\t\\t\\ttype: 'menubutton'\\n\\t\\t\\t}\\n\\t\\t}\\n\\t});\\n});\\n\\n// Included from: js/tinymce/classes/ui/MenuButton.js\\n\\n/**\\n * MenuButton.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Creates a new menu button.\\n *\\n * @-x-less MenuButton.less\\n * @class tinymce.ui.MenuButton\\n * @extends tinymce.ui.Button\\n */\\ndefine(\\\"tinymce/ui/MenuButton\\\", [\\n\\t\\\"tinymce/ui/Button\\\",\\n\\t\\\"tinymce/ui/Factory\\\",\\n\\t\\\"tinymce/ui/MenuBar\\\"\\n], function(Button, Factory, MenuBar) {\\n\\t\\\"use strict\\\";\\n\\n\\t// TODO: Maybe add as some global function\\n\\tfunction isChildOf(node, parent) {\\n\\t\\twhile (node) {\\n\\t\\t\\tif (parent === node) {\\n\\t\\t\\t\\treturn true;\\n\\t\\t\\t}\\n\\n\\t\\t\\tnode = node.parentNode;\\n\\t\\t}\\n\\n\\t\\treturn false;\\n\\t}\\n\\n\\tvar MenuButton = Button.extend({\\n\\t\\t/**\\n\\t\\t * Constructs a instance with the specified settings.\\n\\t\\t *\\n\\t\\t * @constructor\\n\\t\\t * @param {Object} settings Name/value object with settings.\\n\\t\\t */\\n\\t\\tinit: function(settings) {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tself._renderOpen = true;\\n\\n\\t\\t\\tself._super(settings);\\n\\t\\t\\tsettings = self.settings;\\n\\n\\t\\t\\tself.classes.add('menubtn');\\n\\n\\t\\t\\tif (settings.fixedWidth) {\\n\\t\\t\\t\\tself.classes.add('fixed-width');\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.aria('haspopup', true);\\n\\n\\t\\t\\tself.state.set('menu', settings.menu || self.render());\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Shows the menu for the button.\\n\\t\\t *\\n\\t\\t * @method showMenu\\n\\t\\t */\\n\\t\\tshowMenu: function(toggle) {\\n\\t\\t\\tvar self = this, menu;\\n\\n\\t\\t\\tif (self.menu && self.menu.visible() && toggle !== false) {\\n\\t\\t\\t\\treturn self.hideMenu();\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!self.menu) {\\n\\t\\t\\t\\tmenu = self.state.get('menu') || [];\\n\\n\\t\\t\\t\\t// Is menu array then auto constuct menu control\\n\\t\\t\\t\\tif (menu.length) {\\n\\t\\t\\t\\t\\tmenu = {\\n\\t\\t\\t\\t\\t\\ttype: 'menu',\\n\\t\\t\\t\\t\\t\\titems: menu\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tmenu.type = menu.type || 'menu';\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (!menu.renderTo) {\\n\\t\\t\\t\\t\\tself.menu = Factory.create(menu).parent(self).renderTo();\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tself.menu = menu.parent(self).show().renderTo();\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tself.fire('createmenu');\\n\\t\\t\\t\\tself.menu.reflow();\\n\\t\\t\\t\\tself.menu.on('cancel', function(e) {\\n\\t\\t\\t\\t\\tif (e.control.parent() === self.menu) {\\n\\t\\t\\t\\t\\t\\te.stopPropagation();\\n\\t\\t\\t\\t\\t\\tself.focus();\\n\\t\\t\\t\\t\\t\\tself.hideMenu();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t// Move focus to button when a menu item is selected/clicked\\n\\t\\t\\t\\tself.menu.on('select', function() {\\n\\t\\t\\t\\t\\tself.focus();\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\tself.menu.on('show hide', function(e) {\\n\\t\\t\\t\\t\\tif (e.control == self.menu) {\\n\\t\\t\\t\\t\\t\\tself.activeMenu(e.type == 'show');\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tself.aria('expanded', e.type == 'show');\\n\\t\\t\\t\\t}).fire('show');\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.menu.show();\\n\\t\\t\\tself.menu.layoutRect({w: self.layoutRect().w});\\n\\t\\t\\tself.menu.moveRel(self.getEl(), self.isRtl() ? ['br-tr', 'tr-br'] : ['bl-tl', 'tl-bl']);\\n\\t\\t\\tself.fire('showmenu');\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Hides the menu for the button.\\n\\t\\t *\\n\\t\\t * @method hideMenu\\n\\t\\t */\\n\\t\\thideMenu: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tif (self.menu) {\\n\\t\\t\\t\\tself.menu.items().each(function(item) {\\n\\t\\t\\t\\t\\tif (item.hideMenu) {\\n\\t\\t\\t\\t\\t\\titem.hideMenu();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\tself.menu.hide();\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Sets the active menu state.\\n\\t\\t *\\n\\t\\t * @private\\n\\t\\t */\\n\\t\\tactiveMenu: function(state) {\\n\\t\\t\\tthis.classes.toggle('active', state);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Renders the control as a HTML string.\\n\\t\\t *\\n\\t\\t * @method renderHtml\\n\\t\\t * @return {String} HTML representing the control.\\n\\t\\t */\\n\\t\\trenderHtml: function() {\\n\\t\\t\\tvar self = this, id = self._id, prefix = self.classPrefix;\\n\\t\\t\\tvar icon = self.settings.icon, image, text = self.state.get('text'),\\n\\t\\t\\t\\ttextHtml = '';\\n\\n\\t\\t\\timage = self.settings.image;\\n\\t\\t\\tif (image) {\\n\\t\\t\\t\\ticon = 'none';\\n\\n\\t\\t\\t\\t// Support for [high dpi, low dpi] image sources\\n\\t\\t\\t\\tif (typeof image != \\\"string\\\") {\\n\\t\\t\\t\\t\\timage = window.getSelection ? image[0] : image[1];\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\timage = ' style=\\\"background-image: url(\\\\'' + image + '\\\\')\\\"';\\n\\t\\t\\t} else {\\n\\t\\t\\t\\timage = '';\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (text) {\\n\\t\\t\\t\\tself.classes.add('btn-has-text');\\n\\t\\t\\t\\ttextHtml = '<span class=\\\"' + prefix + 'txt\\\">' + self.encode(text) + '</span>';\\n\\t\\t\\t}\\n\\n\\t\\t\\ticon = self.settings.icon ? prefix + 'ico ' + prefix + 'i-' + icon : '';\\n\\n\\t\\t\\tself.aria('role', self.parent() instanceof MenuBar ? 'menuitem' : 'button');\\n\\n\\t\\t\\treturn (\\n\\t\\t\\t\\t'<div id=\\\"' + id + '\\\" class=\\\"' + self.classes + '\\\" tabindex=\\\"-1\\\" aria-labelledby=\\\"' + id + '\\\">' +\\n\\t\\t\\t\\t\\t'<button id=\\\"' + id + '-open\\\" role=\\\"presentation\\\" type=\\\"button\\\" tabindex=\\\"-1\\\">' +\\n\\t\\t\\t\\t\\t\\t(icon ? '<i class=\\\"' + icon + '\\\"' + image + '></i>' : '') +\\n\\t\\t\\t\\t\\t\\ttextHtml +\\n\\t\\t\\t\\t\\t\\t' <i class=\\\"' + prefix + 'caret\\\"></i>' +\\n\\t\\t\\t\\t\\t'</button>' +\\n\\t\\t\\t\\t'</div>'\\n\\t\\t\\t);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Gets invoked after the control has been rendered.\\n\\t\\t *\\n\\t\\t * @method postRender\\n\\t\\t */\\n\\t\\tpostRender: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tself.on('click', function(e) {\\n\\t\\t\\t\\tif (e.control === self && isChildOf(e.target, self.getEl())) {\\n\\t\\t\\t\\t\\tself.focus();\\n\\t\\t\\t\\t\\tself.showMenu(!e.aria);\\n\\n\\t\\t\\t\\t\\tif (e.aria) {\\n\\t\\t\\t\\t\\t\\tself.menu.items().filter(':visible')[0].focus();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\tself.on('mouseenter', function(e) {\\n\\t\\t\\t\\tvar overCtrl = e.control, parent = self.parent(), hasVisibleSiblingMenu;\\n\\n\\t\\t\\t\\tif (overCtrl && parent && overCtrl instanceof MenuButton && overCtrl.parent() == parent) {\\n\\t\\t\\t\\t\\tparent.items().filter('MenuButton').each(function(ctrl) {\\n\\t\\t\\t\\t\\t\\tif (ctrl.hideMenu && ctrl != overCtrl) {\\n\\t\\t\\t\\t\\t\\t\\tif (ctrl.menu && ctrl.menu.visible()) {\\n\\t\\t\\t\\t\\t\\t\\t\\thasVisibleSiblingMenu = true;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tctrl.hideMenu();\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\tif (hasVisibleSiblingMenu) {\\n\\t\\t\\t\\t\\t\\toverCtrl.focus(); // Fix for: #5887\\n\\t\\t\\t\\t\\t\\toverCtrl.showMenu();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn self._super();\\n\\t\\t},\\n\\n\\t\\tbindStates: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tself.state.on('change:menu', function() {\\n\\t\\t\\t\\tif (self.menu) {\\n\\t\\t\\t\\t\\tself.menu.remove();\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tself.menu = null;\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn self._super();\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Removes the control and it's menus.\\n\\t\\t *\\n\\t\\t * @method remove\\n\\t\\t */\\n\\t\\tremove: function() {\\n\\t\\t\\tthis._super();\\n\\n\\t\\t\\tif (this.menu) {\\n\\t\\t\\t\\tthis.menu.remove();\\n\\t\\t\\t}\\n\\t\\t}\\n\\t});\\n\\n\\treturn MenuButton;\\n});\\n\\n// Included from: js/tinymce/classes/ui/MenuItem.js\\n\\n/**\\n * MenuItem.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Creates a new menu item.\\n *\\n * @-x-less MenuItem.less\\n * @class tinymce.ui.MenuItem\\n * @extends tinymce.ui.Control\\n */\\ndefine(\\\"tinymce/ui/MenuItem\\\", [\\n\\t\\\"tinymce/ui/Widget\\\",\\n\\t\\\"tinymce/ui/Factory\\\",\\n\\t\\\"tinymce/Env\\\",\\n\\t\\\"tinymce/util/Delay\\\"\\n], function(Widget, Factory, Env, Delay) {\\n\\t\\\"use strict\\\";\\n\\n\\treturn Widget.extend({\\n\\t\\tDefaults: {\\n\\t\\t\\tborder: 0,\\n\\t\\t\\trole: 'menuitem'\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Constructs a instance with the specified settings.\\n\\t\\t *\\n\\t\\t * @constructor\\n\\t\\t * @param {Object} settings Name/value object with settings.\\n\\t\\t * @setting {Boolean} selectable Selectable menu.\\n\\t\\t * @setting {Array} menu Submenu array with items.\\n\\t\\t * @setting {String} shortcut Shortcut to display for menu item. Example: Ctrl+X\\n\\t\\t */\\n\\t\\tinit: function(settings) {\\n\\t\\t\\tvar self = this, text;\\n\\n\\t\\t\\tself._super(settings);\\n\\n\\t\\t\\tsettings = self.settings;\\n\\n\\t\\t\\tself.classes.add('menu-item');\\n\\n\\t\\t\\tif (settings.menu) {\\n\\t\\t\\t\\tself.classes.add('menu-item-expand');\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (settings.preview) {\\n\\t\\t\\t\\tself.classes.add('menu-item-preview');\\n\\t\\t\\t}\\n\\n\\t\\t\\ttext = self.state.get('text');\\n\\t\\t\\tif (text === '-' || text === '|') {\\n\\t\\t\\t\\tself.classes.add('menu-item-sep');\\n\\t\\t\\t\\tself.aria('role', 'separator');\\n\\t\\t\\t\\tself.state.set('text', '-');\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (settings.selectable) {\\n\\t\\t\\t\\tself.aria('role', 'menuitemcheckbox');\\n\\t\\t\\t\\tself.classes.add('menu-item-checkbox');\\n\\t\\t\\t\\tsettings.icon = 'selected';\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!settings.preview && !settings.selectable) {\\n\\t\\t\\t\\tself.classes.add('menu-item-normal');\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.on('mousedown', function(e) {\\n\\t\\t\\t\\te.preventDefault();\\n\\t\\t\\t});\\n\\n\\t\\t\\tif (settings.menu && !settings.ariaHideMenu) {\\n\\t\\t\\t\\tself.aria('haspopup', true);\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Returns true/false if the menuitem has sub menu.\\n\\t\\t *\\n\\t\\t * @method hasMenus\\n\\t\\t * @return {Boolean} True/false state if it has submenu.\\n\\t\\t */\\n\\t\\thasMenus: function() {\\n\\t\\t\\treturn !!this.settings.menu;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Shows the menu for the menu item.\\n\\t\\t *\\n\\t\\t * @method showMenu\\n\\t\\t */\\n\\t\\tshowMenu: function() {\\n\\t\\t\\tvar self = this, settings = self.settings, menu, parent = self.parent();\\n\\n\\t\\t\\tparent.items().each(function(ctrl) {\\n\\t\\t\\t\\tif (ctrl !== self) {\\n\\t\\t\\t\\t\\tctrl.hideMenu();\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\tif (settings.menu) {\\n\\t\\t\\t\\tmenu = self.menu;\\n\\n\\t\\t\\t\\tif (!menu) {\\n\\t\\t\\t\\t\\tmenu = settings.menu;\\n\\n\\t\\t\\t\\t\\t// Is menu array then auto constuct menu control\\n\\t\\t\\t\\t\\tif (menu.length) {\\n\\t\\t\\t\\t\\t\\tmenu = {\\n\\t\\t\\t\\t\\t\\t\\ttype: 'menu',\\n\\t\\t\\t\\t\\t\\t\\titems: menu\\n\\t\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tmenu.type = menu.type || 'menu';\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (parent.settings.itemDefaults) {\\n\\t\\t\\t\\t\\t\\tmenu.itemDefaults = parent.settings.itemDefaults;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tmenu = self.menu = Factory.create(menu).parent(self).renderTo();\\n\\t\\t\\t\\t\\tmenu.reflow();\\n\\t\\t\\t\\t\\tmenu.on('cancel', function(e) {\\n\\t\\t\\t\\t\\t\\te.stopPropagation();\\n\\t\\t\\t\\t\\t\\tself.focus();\\n\\t\\t\\t\\t\\t\\tmenu.hide();\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\tmenu.on('show hide', function(e) {\\n\\t\\t\\t\\t\\t\\tif (e.control.items) {\\n\\t\\t\\t\\t\\t\\t\\te.control.items().each(function(ctrl) {\\n\\t\\t\\t\\t\\t\\t\\t\\tctrl.active(ctrl.settings.selected);\\n\\t\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}).fire('show');\\n\\n\\t\\t\\t\\t\\tmenu.on('hide', function(e) {\\n\\t\\t\\t\\t\\t\\tif (e.control === menu) {\\n\\t\\t\\t\\t\\t\\t\\tself.classes.remove('selected');\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\tmenu.submenu = true;\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tmenu.show();\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tmenu._parentMenu = parent;\\n\\n\\t\\t\\t\\tmenu.classes.add('menu-sub');\\n\\n\\t\\t\\t\\tvar rel = menu.testMoveRel(\\n\\t\\t\\t\\t\\tself.getEl(),\\n\\t\\t\\t\\t\\tself.isRtl() ? ['tl-tr', 'bl-br', 'tr-tl', 'br-bl'] : ['tr-tl', 'br-bl', 'tl-tr', 'bl-br']\\n\\t\\t\\t\\t);\\n\\n\\t\\t\\t\\tmenu.moveRel(self.getEl(), rel);\\n\\t\\t\\t\\tmenu.rel = rel;\\n\\n\\t\\t\\t\\trel = 'menu-sub-' + rel;\\n\\t\\t\\t\\tmenu.classes.remove(menu._lastRel).add(rel);\\n\\t\\t\\t\\tmenu._lastRel = rel;\\n\\n\\t\\t\\t\\tself.classes.add('selected');\\n\\t\\t\\t\\tself.aria('expanded', true);\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Hides the menu for the menu item.\\n\\t\\t *\\n\\t\\t * @method hideMenu\\n\\t\\t */\\n\\t\\thideMenu: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tif (self.menu) {\\n\\t\\t\\t\\tself.menu.items().each(function(item) {\\n\\t\\t\\t\\t\\tif (item.hideMenu) {\\n\\t\\t\\t\\t\\t\\titem.hideMenu();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\tself.menu.hide();\\n\\t\\t\\t\\tself.aria('expanded', false);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn self;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Renders the control as a HTML string.\\n\\t\\t *\\n\\t\\t * @method renderHtml\\n\\t\\t * @return {String} HTML representing the control.\\n\\t\\t */\\n\\t\\trenderHtml: function() {\\n\\t\\t\\tvar self = this, id = self._id, settings = self.settings, prefix = self.classPrefix, text = self.state.get('text');\\n\\t\\t\\tvar icon = self.settings.icon, image = '', shortcut = settings.shortcut;\\n\\t\\t\\tvar url = self.encode(settings.url), iconHtml = '';\\n\\n\\t\\t\\t// Converts shortcut format to Mac/PC variants\\n\\t\\t\\tfunction convertShortcut(shortcut) {\\n\\t\\t\\t\\tvar i, value, replace = {};\\n\\n\\t\\t\\t\\tif (Env.mac) {\\n\\t\\t\\t\\t\\treplace = {\\n\\t\\t\\t\\t\\t\\talt: '&#x2325;',\\n\\t\\t\\t\\t\\t\\tctrl: '&#x2318;',\\n\\t\\t\\t\\t\\t\\tshift: '&#x21E7;',\\n\\t\\t\\t\\t\\t\\tmeta: '&#x2318;'\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\treplace = {\\n\\t\\t\\t\\t\\t\\tmeta: 'Ctrl'\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tshortcut = shortcut.split('+');\\n\\n\\t\\t\\t\\tfor (i = 0; i < shortcut.length; i++) {\\n\\t\\t\\t\\t\\tvalue = replace[shortcut[i].toLowerCase()];\\n\\n\\t\\t\\t\\t\\tif (value) {\\n\\t\\t\\t\\t\\t\\tshortcut[i] = value;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn shortcut.join('+');\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction escapeRegExp(str) {\\n\\t\\t\\t\\treturn str.replace(/[.*+?^${}()|[\\\\]\\\\\\\\]/g, \\\"\\\\\\\\$&\\\");\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction markMatches(text) {\\n\\t\\t\\t\\tvar match = settings.match || '';\\n\\n\\t\\t\\t\\treturn match ? text.replace(new RegExp(escapeRegExp(match), 'gi'), function (match) {\\n\\t\\t\\t\\t\\treturn '!mce~match[' + match + ']mce~match!';\\n\\t\\t\\t\\t}) : text;\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction boldMatches(text) {\\n\\t\\t\\t\\treturn text.\\n\\t\\t\\t\\t\\treplace(new RegExp(escapeRegExp('!mce~match['), 'g'), '<b>').\\n\\t\\t\\t\\t\\treplace(new RegExp(escapeRegExp(']mce~match!'), 'g'), '</b>');\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (icon) {\\n\\t\\t\\t\\tself.parent().classes.add('menu-has-icons');\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (settings.image) {\\n\\t\\t\\t\\timage = ' style=\\\"background-image: url(\\\\'' + settings.image + '\\\\')\\\"';\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (shortcut) {\\n\\t\\t\\t\\tshortcut = convertShortcut(shortcut);\\n\\t\\t\\t}\\n\\n\\t\\t\\ticon = prefix + 'ico ' + prefix + 'i-' + (self.settings.icon || 'none');\\n\\t\\t\\ticonHtml = (text !== '-' ? '<i class=\\\"' + icon + '\\\"' + image + '></i>\\\\u00a0' : '');\\n\\n\\t\\t\\ttext = boldMatches(self.encode(markMatches(text)));\\n\\t\\t\\turl = boldMatches(self.encode(markMatches(url)));\\n\\n\\t\\t\\treturn (\\n\\t\\t\\t\\t'<div id=\\\"' + id + '\\\" class=\\\"' + self.classes + '\\\" tabindex=\\\"-1\\\">' +\\n\\t\\t\\t\\t\\ticonHtml +\\n\\t\\t\\t\\t\\t(text !== '-' ? '<span id=\\\"' + id + '-text\\\" class=\\\"' + prefix + 'text\\\">' + text + '</span>' : '') +\\n\\t\\t\\t\\t\\t(shortcut ? '<div id=\\\"' + id + '-shortcut\\\" class=\\\"' + prefix + 'menu-shortcut\\\">' + shortcut + '</div>' : '') +\\n\\t\\t\\t\\t\\t(settings.menu ? '<div class=\\\"' + prefix + 'caret\\\"></div>' : '') +\\n\\t\\t\\t\\t\\t(url ? '<div class=\\\"' + prefix + 'menu-item-link\\\">' + url + '</div>' : '') +\\n\\t\\t\\t\\t'</div>'\\n\\t\\t\\t);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Gets invoked after the control has been rendered.\\n\\t\\t *\\n\\t\\t * @method postRender\\n\\t\\t */\\n\\t\\tpostRender: function() {\\n\\t\\t\\tvar self = this, settings = self.settings;\\n\\n\\t\\t\\tvar textStyle = settings.textStyle;\\n\\t\\t\\tif (typeof textStyle == \\\"function\\\") {\\n\\t\\t\\t\\ttextStyle = textStyle.call(this);\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (textStyle) {\\n\\t\\t\\t\\tvar textElm = self.getEl('text');\\n\\t\\t\\t\\tif (textElm) {\\n\\t\\t\\t\\t\\ttextElm.setAttribute('style', textStyle);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.on('mouseenter click', function(e) {\\n\\t\\t\\t\\tif (e.control === self) {\\n\\t\\t\\t\\t\\tif (!settings.menu && e.type === 'click') {\\n\\t\\t\\t\\t\\t\\tself.fire('select');\\n\\n\\t\\t\\t\\t\\t\\t// Edge will crash if you stress it see #2660\\n\\t\\t\\t\\t\\t\\tDelay.requestAnimationFrame(function() {\\n\\t\\t\\t\\t\\t\\t\\tself.parent().hideAll();\\n\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tself.showMenu();\\n\\n\\t\\t\\t\\t\\t\\tif (e.aria) {\\n\\t\\t\\t\\t\\t\\t\\tself.menu.focus(true);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\tself._super();\\n\\n\\t\\t\\treturn self;\\n\\t\\t},\\n\\n\\t\\thover: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tself.parent().items().each(function(ctrl) {\\n\\t\\t\\t\\tctrl.classes.remove('selected');\\n\\t\\t\\t});\\n\\n\\t\\t\\tself.classes.toggle('selected', true);\\n\\n\\t\\t\\treturn self;\\n\\t\\t},\\n\\n\\t\\tactive: function(state) {\\n\\t\\t\\tif (typeof state != \\\"undefined\\\") {\\n\\t\\t\\t\\tthis.aria('checked', state);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn this._super(state);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Removes the control and it's menus.\\n\\t\\t *\\n\\t\\t * @method remove\\n\\t\\t */\\n\\t\\tremove: function() {\\n\\t\\t\\tthis._super();\\n\\n\\t\\t\\tif (this.menu) {\\n\\t\\t\\t\\tthis.menu.remove();\\n\\t\\t\\t}\\n\\t\\t}\\n\\t});\\n});\\n\\n// Included from: js/tinymce/classes/ui/Throbber.js\\n\\n/**\\n * Throbber.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This class enables you to display a Throbber for any element.\\n *\\n * @-x-less Throbber.less\\n * @class tinymce.ui.Throbber\\n */\\ndefine(\\\"tinymce/ui/Throbber\\\", [\\n\\t\\\"tinymce/dom/DomQuery\\\",\\n\\t\\\"tinymce/ui/Control\\\",\\n\\t\\\"tinymce/util/Delay\\\"\\n], function($, Control, Delay) {\\n\\t\\\"use strict\\\";\\n\\n\\t/**\\n\\t * Constructs a new throbber.\\n\\t *\\n\\t * @constructor\\n\\t * @param {Element} elm DOM Html element to display throbber in.\\n\\t * @param {Boolean} inline Optional true/false state if the throbber should be appended to end of element for infinite scroll.\\n\\t */\\n\\treturn function(elm, inline) {\\n\\t\\tvar self = this, state, classPrefix = Control.classPrefix, timer;\\n\\n\\t\\t/**\\n\\t\\t * Shows the throbber.\\n\\t\\t *\\n\\t\\t * @method show\\n\\t\\t * @param {Number} [time] Time to wait before showing.\\n\\t\\t * @param {function} [callback] Optional callback to execute when the throbber is shown.\\n\\t\\t * @return {tinymce.ui.Throbber} Current throbber instance.\\n\\t\\t */\\n\\t\\tself.show = function(time, callback) {\\n\\t\\t\\tfunction render() {\\n\\t\\t\\t\\t\\tif (state) {\\n\\t\\t\\t\\t\\t\\t$(elm).append(\\n\\t\\t\\t\\t\\t\\t\\t'<div class=\\\"' + classPrefix + 'throbber' + (inline ? ' ' + classPrefix + 'throbber-inline' : '') + '\\\"></div>'\\n\\t\\t\\t\\t\\t\\t);\\n\\n\\t\\t\\t\\t\\t\\tif (callback) {\\n\\t\\t\\t\\t\\t\\t\\tcallback();\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.hide();\\n\\n\\t\\t\\tstate = true;\\n\\n\\t\\t\\tif (time) {\\n\\t\\t\\t\\ttimer = Delay.setTimeout(render, time);\\n\\t\\t\\t} else {\\n\\t\\t\\t\\trender();\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn self;\\n\\t\\t};\\n\\n\\t\\t/**\\n\\t\\t * Hides the throbber.\\n\\t\\t *\\n\\t\\t * @method hide\\n\\t\\t * @return {tinymce.ui.Throbber} Current throbber instance.\\n\\t\\t */\\n\\t\\tself.hide = function() {\\n\\t\\t\\tvar child = elm.lastChild;\\n\\n\\t\\t\\tDelay.clearTimeout(timer);\\n\\n\\t\\t\\tif (child && child.className.indexOf('throbber') != -1) {\\n\\t\\t\\t\\tchild.parentNode.removeChild(child);\\n\\t\\t\\t}\\n\\n\\t\\t\\tstate = false;\\n\\n\\t\\t\\treturn self;\\n\\t\\t};\\n\\t};\\n});\\n\\n// Included from: js/tinymce/classes/ui/Menu.js\\n\\n/**\\n * Menu.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Creates a new menu.\\n *\\n * @-x-less Menu.less\\n * @class tinymce.ui.Menu\\n * @extends tinymce.ui.FloatPanel\\n */\\ndefine(\\\"tinymce/ui/Menu\\\", [\\n\\t\\\"tinymce/ui/FloatPanel\\\",\\n\\t\\\"tinymce/ui/MenuItem\\\",\\n\\t\\\"tinymce/ui/Throbber\\\",\\n\\t\\\"tinymce/util/Tools\\\"\\n], function(FloatPanel, MenuItem, Throbber, Tools) {\\n\\t\\\"use strict\\\";\\n\\n\\treturn FloatPanel.extend({\\n\\t\\tDefaults: {\\n\\t\\t\\tdefaultType: 'menuitem',\\n\\t\\t\\tborder: 1,\\n\\t\\t\\tlayout: 'stack',\\n\\t\\t\\trole: 'application',\\n\\t\\t\\tbodyRole: 'menu',\\n\\t\\t\\tariaRoot: true\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Constructs a instance with the specified settings.\\n\\t\\t *\\n\\t\\t * @constructor\\n\\t\\t * @param {Object} settings Name/value object with settings.\\n\\t\\t */\\n\\t\\tinit: function(settings) {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tsettings.autohide = true;\\n\\t\\t\\tsettings.constrainToViewport = true;\\n\\n\\t\\t\\tif (typeof settings.items === 'function') {\\n\\t\\t\\t\\tsettings.itemsFactory = settings.items;\\n\\t\\t\\t\\tsettings.items = [];\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (settings.itemDefaults) {\\n\\t\\t\\t\\tvar items = settings.items, i = items.length;\\n\\n\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\titems[i] = Tools.extend({}, settings.itemDefaults, items[i]);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tself._super(settings);\\n\\t\\t\\tself.classes.add('menu');\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Repaints the control after a layout operation.\\n\\t\\t *\\n\\t\\t * @method repaint\\n\\t\\t */\\n\\t\\trepaint: function() {\\n\\t\\t\\tthis.classes.toggle('menu-align', true);\\n\\n\\t\\t\\tthis._super();\\n\\n\\t\\t\\tthis.getEl().style.height = '';\\n\\t\\t\\tthis.getEl('body').style.height = '';\\n\\n\\t\\t\\treturn this;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Hides/closes the menu.\\n\\t\\t *\\n\\t\\t * @method cancel\\n\\t\\t */\\n\\t\\tcancel: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tself.hideAll();\\n\\t\\t\\tself.fire('select');\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Loads new items from the factory items function.\\n\\t\\t *\\n\\t\\t * @method load\\n\\t\\t */\\n\\t\\tload: function() {\\n\\t\\t\\tvar self = this, time, factory;\\n\\n\\t\\t\\tfunction hideThrobber() {\\n\\t\\t\\t\\tif (self.throbber) {\\n\\t\\t\\t\\t\\tself.throbber.hide();\\n\\t\\t\\t\\t\\tself.throbber = null;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tfactory = self.settings.itemsFactory;\\n\\t\\t\\tif (!factory) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!self.throbber) {\\n\\t\\t\\t\\tself.throbber = new Throbber(self.getEl('body'), true);\\n\\n\\t\\t\\t\\tif (self.items().length === 0) {\\n\\t\\t\\t\\t\\tself.throbber.show();\\n\\t\\t\\t\\t\\tself.fire('loading');\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tself.throbber.show(100, function() {\\n\\t\\t\\t\\t\\t\\tself.items().remove();\\n\\t\\t\\t\\t\\t\\tself.fire('loading');\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tself.on('hide close', hideThrobber);\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.requestTime = time = new Date().getTime();\\n\\n\\t\\t\\tself.settings.itemsFactory(function(items) {\\n\\t\\t\\t\\tif (items.length === 0) {\\n\\t\\t\\t\\t\\tself.hide();\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (self.requestTime !== time) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tself.getEl().style.width = '';\\n\\t\\t\\t\\tself.getEl('body').style.width = '';\\n\\n\\t\\t\\t\\thideThrobber();\\n\\t\\t\\t\\tself.items().remove();\\n\\t\\t\\t\\tself.getEl('body').innerHTML = '';\\n\\n\\t\\t\\t\\tself.add(items);\\n\\t\\t\\t\\tself.renderNew();\\n\\t\\t\\t\\tself.fire('loaded');\\n\\t\\t\\t});\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Hide menu and all sub menus.\\n\\t\\t *\\n\\t\\t * @method hideAll\\n\\t\\t */\\n\\t\\thideAll: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tthis.find('menuitem').exec('hideMenu');\\n\\n\\t\\t\\treturn self._super();\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Invoked before the menu is rendered.\\n\\t\\t *\\n\\t\\t * @method preRender\\n\\t\\t */\\n\\t\\tpreRender: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tself.items().each(function(ctrl) {\\n\\t\\t\\t\\tvar settings = ctrl.settings;\\n\\n\\t\\t\\t\\tif (settings.icon || settings.image || settings.selectable) {\\n\\t\\t\\t\\t\\tself._hasIcons = true;\\n\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\tif (self.settings.itemsFactory) {\\n\\t\\t\\t\\tself.on('postrender', function() {\\n\\t\\t\\t\\t\\tif (self.settings.itemsFactory) {\\n\\t\\t\\t\\t\\t\\tself.load();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn self._super();\\n\\t\\t}\\n\\t});\\n});\\n\\n// Included from: js/tinymce/classes/ui/ListBox.js\\n\\n/**\\n * ListBox.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Creates a new list box control.\\n *\\n * @-x-less ListBox.less\\n * @class tinymce.ui.ListBox\\n * @extends tinymce.ui.MenuButton\\n */\\ndefine(\\\"tinymce/ui/ListBox\\\", [\\n\\t\\\"tinymce/ui/MenuButton\\\",\\n\\t\\\"tinymce/ui/Menu\\\"\\n], function(MenuButton, Menu) {\\n\\t\\\"use strict\\\";\\n\\n\\treturn MenuButton.extend({\\n\\t\\t/**\\n\\t\\t * Constructs a instance with the specified settings.\\n\\t\\t *\\n\\t\\t * @constructor\\n\\t\\t * @param {Object} settings Name/value object with settings.\\n\\t\\t * @setting {Array} values Array with values to add to list box.\\n\\t\\t */\\n\\t\\tinit: function(settings) {\\n\\t\\t\\tvar self = this, values, selected, selectedText, lastItemCtrl;\\n\\n\\t\\t\\tfunction setSelected(menuValues) {\\n\\t\\t\\t\\t// Try to find a selected value\\n\\t\\t\\t\\tfor (var i = 0; i < menuValues.length; i++) {\\n\\t\\t\\t\\t\\tselected = menuValues[i].selected || settings.value === menuValues[i].value;\\n\\n\\t\\t\\t\\t\\tif (selected) {\\n\\t\\t\\t\\t\\t\\tselectedText = selectedText || menuValues[i].text;\\n\\t\\t\\t\\t\\t\\tself.state.set('value', menuValues[i].value);\\n\\t\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// If the value has a submenu, try to find the selected values in that menu\\n\\t\\t\\t\\t\\tif (menuValues[i].menu) {\\n\\t\\t\\t\\t\\t\\tif (setSelected(menuValues[i].menu)) {\\n\\t\\t\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tself._super(settings);\\n\\t\\t\\tsettings = self.settings;\\n\\n\\t\\t\\tself._values = values = settings.values;\\n\\t\\t\\tif (values) {\\n\\t\\t\\t\\tif (typeof settings.value != \\\"undefined\\\") {\\n\\t\\t\\t\\t\\tsetSelected(values);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Default with first item\\n\\t\\t\\t\\tif (!selected && values.length > 0) {\\n\\t\\t\\t\\t\\tselectedText = values[0].text;\\n\\t\\t\\t\\t\\tself.state.set('value', values[0].value);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tself.state.set('menu', values);\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.state.set('text', settings.text || selectedText);\\n\\n\\t\\t\\tself.classes.add('listbox');\\n\\n\\t\\t\\tself.on('select', function(e) {\\n\\t\\t\\t\\tvar ctrl = e.control;\\n\\n\\t\\t\\t\\tif (lastItemCtrl) {\\n\\t\\t\\t\\t\\te.lastControl = lastItemCtrl;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (settings.multiple) {\\n\\t\\t\\t\\t\\tctrl.active(!ctrl.active());\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tself.value(e.control.value());\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tlastItemCtrl = ctrl;\\n\\t\\t\\t});\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Getter/setter function for the control value.\\n\\t\\t *\\n\\t\\t * @method value\\n\\t\\t * @param {String} [value] Value to be set.\\n\\t\\t * @return {Boolean/tinymce.ui.ListBox} Value or self if it's a set operation.\\n\\t\\t */\\n\\t\\tbindStates: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tfunction activateMenuItemsByValue(menu, value) {\\n\\t\\t\\t\\tif (menu instanceof Menu) {\\n\\t\\t\\t\\t\\tmenu.items().each(function(ctrl) {\\n\\t\\t\\t\\t\\t\\tif (!ctrl.hasMenus()) {\\n\\t\\t\\t\\t\\t\\t\\tctrl.active(ctrl.value() === value);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction getSelectedItem(menuValues, value) {\\n\\t\\t\\t\\tvar selectedItem;\\n\\n\\t\\t\\t\\tif (!menuValues) {\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfor (var i = 0; i < menuValues.length; i++) {\\n\\t\\t\\t\\t\\tif (menuValues[i].value === value) {\\n\\t\\t\\t\\t\\t\\treturn menuValues[i];\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (menuValues[i].menu) {\\n\\t\\t\\t\\t\\t\\tselectedItem = getSelectedItem(menuValues[i].menu, value);\\n\\t\\t\\t\\t\\t\\tif (selectedItem) {\\n\\t\\t\\t\\t\\t\\t\\treturn selectedItem;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.on('show', function(e) {\\n\\t\\t\\t\\tactivateMenuItemsByValue(e.control, self.value());\\n\\t\\t\\t});\\n\\n\\t\\t\\tself.state.on('change:value', function(e) {\\n\\t\\t\\t\\tvar selectedItem = getSelectedItem(self.state.get('menu'), e.value);\\n\\n\\t\\t\\t\\tif (selectedItem) {\\n\\t\\t\\t\\t\\tself.text(selectedItem.text);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tself.text(self.settings.text);\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn self._super();\\n\\t\\t}\\n\\t});\\n});\\n\\n// Included from: js/tinymce/classes/ui/Radio.js\\n\\n/**\\n * Radio.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Creates a new radio button.\\n *\\n * @-x-less Radio.less\\n * @class tinymce.ui.Radio\\n * @extends tinymce.ui.Checkbox\\n */\\ndefine(\\\"tinymce/ui/Radio\\\", [\\n\\t\\\"tinymce/ui/Checkbox\\\"\\n], function(Checkbox) {\\n\\t\\\"use strict\\\";\\n\\n\\treturn Checkbox.extend({\\n\\t\\tDefaults: {\\n\\t\\t\\tclasses: \\\"radio\\\",\\n\\t\\t\\trole: \\\"radio\\\"\\n\\t\\t}\\n\\t});\\n});\\n\\n// Included from: js/tinymce/classes/ui/ResizeHandle.js\\n\\n/**\\n * ResizeHandle.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Renders a resize handle that fires ResizeStart, Resize and ResizeEnd events.\\n *\\n * @-x-less ResizeHandle.less\\n * @class tinymce.ui.ResizeHandle\\n * @extends tinymce.ui.Widget\\n */\\ndefine(\\\"tinymce/ui/ResizeHandle\\\", [\\n\\t\\\"tinymce/ui/Widget\\\",\\n\\t\\\"tinymce/ui/DragHelper\\\"\\n], function(Widget, DragHelper) {\\n\\t\\\"use strict\\\";\\n\\n\\treturn Widget.extend({\\n\\t\\t/**\\n\\t\\t * Renders the control as a HTML string.\\n\\t\\t *\\n\\t\\t * @method renderHtml\\n\\t\\t * @return {String} HTML representing the control.\\n\\t\\t */\\n\\t\\trenderHtml: function() {\\n\\t\\t\\tvar self = this, prefix = self.classPrefix;\\n\\n\\t\\t\\tself.classes.add('resizehandle');\\n\\n\\t\\t\\tif (self.settings.direction == \\\"both\\\") {\\n\\t\\t\\t\\tself.classes.add('resizehandle-both');\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.canFocus = false;\\n\\n\\t\\t\\treturn (\\n\\t\\t\\t\\t'<div id=\\\"' + self._id + '\\\" class=\\\"' + self.classes + '\\\">' +\\n\\t\\t\\t\\t\\t'<i class=\\\"' + prefix + 'ico ' + prefix + 'i-resize\\\"></i>' +\\n\\t\\t\\t\\t'</div>'\\n\\t\\t\\t);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Called after the control has been rendered.\\n\\t\\t *\\n\\t\\t * @method postRender\\n\\t\\t */\\n\\t\\tpostRender: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tself._super();\\n\\n\\t\\t\\tself.resizeDragHelper = new DragHelper(this._id, {\\n\\t\\t\\t\\tstart: function() {\\n\\t\\t\\t\\t\\tself.fire('ResizeStart');\\n\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\tdrag: function(e) {\\n\\t\\t\\t\\t\\tif (self.settings.direction != \\\"both\\\") {\\n\\t\\t\\t\\t\\t\\te.deltaX = 0;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tself.fire('Resize', e);\\n\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\tstop: function() {\\n\\t\\t\\t\\t\\tself.fire('ResizeEnd');\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t},\\n\\n\\t\\tremove: function() {\\n\\t\\t\\tif (this.resizeDragHelper) {\\n\\t\\t\\t\\tthis.resizeDragHelper.destroy();\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn this._super();\\n\\t\\t}\\n\\t});\\n});\\n\\n// Included from: js/tinymce/classes/ui/SelectBox.js\\n\\n/**\\n * SelectBox.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Creates a new select box control.\\n *\\n * @-x-less SelectBox.less\\n * @class tinymce.ui.SelectBox\\n * @extends tinymce.ui.Widget\\n */\\ndefine(\\\"tinymce/ui/SelectBox\\\", [\\n\\t\\\"tinymce/ui/Widget\\\"\\n], function(Widget) {\\n\\t\\\"use strict\\\";\\n\\n\\tfunction createOptions(options) {\\n\\t\\tvar strOptions = '';\\n\\t\\tif (options) {\\n\\t\\t\\tfor (var i = 0; i < options.length; i++) {\\n\\t\\t\\t\\tstrOptions += '<option value=\\\"' + options[i] + '\\\">' + options[i] + '</option>';\\n\\t\\t\\t}\\n\\t\\t}\\n\\t\\treturn strOptions;\\n\\t}\\n\\n\\treturn Widget.extend({\\n\\t\\tDefaults: {\\n\\t\\t\\tclasses: \\\"selectbox\\\",\\n\\t\\t\\trole: \\\"selectbox\\\",\\n\\t\\t\\toptions: []\\n\\t\\t},\\n\\t\\t/**\\n\\t\\t * Constructs a instance with the specified settings.\\n\\t\\t *\\n\\t\\t * @constructor\\n\\t\\t * @param {Object} settings Name/value object with settings.\\n\\t\\t * @setting {Array} options Array with options to add to the select box.\\n\\t\\t */\\n\\t\\tinit: function(settings) {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tself._super(settings);\\n\\n\\t\\t\\tif (self.settings.size) {\\n\\t\\t\\t\\tself.size = self.settings.size;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (self.settings.options) {\\n\\t\\t\\t\\tself._options = self.settings.options;\\n\\t\\t\\t}\\n\\n\\t\\t\\tself.on('keydown', function(e) {\\n\\t\\t\\t\\tvar rootControl;\\n\\n\\t\\t\\t\\tif (e.keyCode == 13) {\\n\\t\\t\\t\\t\\te.preventDefault();\\n\\n\\t\\t\\t\\t\\t// Find root control that we can do toJSON on\\n\\t\\t\\t\\t\\tself.parents().reverse().each(function(ctrl) {\\n\\t\\t\\t\\t\\t\\tif (ctrl.toJSON) {\\n\\t\\t\\t\\t\\t\\t\\trootControl = ctrl;\\n\\t\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\t// Fire event on current text box with the serialized data of the whole form\\n\\t\\t\\t\\t\\tself.fire('submit', {data: rootControl.toJSON()});\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Getter/setter function for the options state.\\n\\t\\t *\\n\\t\\t * @method options\\n\\t\\t * @param {Array} [state] State to be set.\\n\\t\\t * @return {Array|tinymce.ui.SelectBox} Array of string options.\\n\\t\\t */\\n\\t\\toptions: function(state) {\\n\\t\\t\\tif (!arguments.length) {\\n\\t\\t\\t\\treturn this.state.get('options');\\n\\t\\t\\t}\\n\\n\\t\\t\\tthis.state.set('options', state);\\n\\n\\t\\t\\treturn this;\\n\\t\\t},\\n\\n\\t\\trenderHtml: function() {\\n\\t\\t\\tvar self = this, options, size = '';\\n\\n\\t\\t\\toptions = createOptions(self._options);\\n\\n\\t\\t\\tif (self.size) {\\n\\t\\t\\t\\tsize = ' size = \\\"' + self.size + '\\\"';\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn (\\n\\t\\t\\t\\t'<select id=\\\"' + self._id + '\\\" class=\\\"' + self.classes + '\\\"' + size + '>' +\\n\\t\\t\\t\\t\\toptions +\\n\\t\\t\\t\\t'</select>'\\n\\t\\t\\t);\\n\\t\\t},\\n\\n\\t\\tbindStates: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tself.state.on('change:options', function(e) {\\n\\t\\t\\t\\tself.getEl().innerHTML = createOptions(e.value);\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn self._super();\\n\\t\\t}\\n\\t});\\n});\\n\\n// Included from: js/tinymce/classes/ui/Slider.js\\n\\n/**\\n * Slider.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Slider control.\\n *\\n * @-x-less Slider.less\\n * @class tinymce.ui.Slider\\n * @extends tinymce.ui.Widget\\n */\\ndefine(\\\"tinymce/ui/Slider\\\", [\\n\\t\\\"tinymce/ui/Widget\\\",\\n\\t\\\"tinymce/ui/DragHelper\\\",\\n\\t\\\"tinymce/ui/DomUtils\\\"\\n], function(Widget, DragHelper, DomUtils) {\\n\\t\\\"use strict\\\";\\n\\n\\tfunction constrain(value, minVal, maxVal) {\\n\\t\\tif (value < minVal) {\\n\\t\\t\\tvalue = minVal;\\n\\t\\t}\\n\\n\\t\\tif (value > maxVal) {\\n\\t\\t\\tvalue = maxVal;\\n\\t\\t}\\n\\n\\t\\treturn value;\\n\\t}\\n\\n\\tfunction setAriaProp(el, name, value) {\\n\\t\\tel.setAttribute('aria-' + name, value);\\n\\t}\\n\\n\\tfunction updateSliderHandle(ctrl, value) {\\n\\t\\tvar maxHandlePos, shortSizeName, sizeName, stylePosName, styleValue, handleEl;\\n\\n\\t\\tif (ctrl.settings.orientation == \\\"v\\\") {\\n\\t\\t\\tstylePosName = \\\"top\\\";\\n\\t\\t\\tsizeName = \\\"height\\\";\\n\\t\\t\\tshortSizeName = \\\"h\\\";\\n\\t\\t} else {\\n\\t\\t\\tstylePosName = \\\"left\\\";\\n\\t\\t\\tsizeName = \\\"width\\\";\\n\\t\\t\\tshortSizeName = \\\"w\\\";\\n\\t\\t}\\n\\n\\t\\thandleEl = ctrl.getEl('handle');\\n\\t\\tmaxHandlePos = (ctrl.layoutRect()[shortSizeName] || 100) - DomUtils.getSize(handleEl)[sizeName];\\n\\n\\t\\tstyleValue = (maxHandlePos * ((value - ctrl._minValue) / (ctrl._maxValue - ctrl._minValue))) + 'px';\\n\\t\\thandleEl.style[stylePosName] = styleValue;\\n\\t\\thandleEl.style.height = ctrl.layoutRect().h + 'px';\\n\\n\\t\\tsetAriaProp(handleEl, 'valuenow', value);\\n\\t\\tsetAriaProp(handleEl, 'valuetext', '' + ctrl.settings.previewFilter(value));\\n\\t\\tsetAriaProp(handleEl, 'valuemin', ctrl._minValue);\\n\\t\\tsetAriaProp(handleEl, 'valuemax', ctrl._maxValue);\\n\\t}\\n\\n\\treturn Widget.extend({\\n\\t\\tinit: function(settings) {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tif (!settings.previewFilter) {\\n\\t\\t\\t\\tsettings.previewFilter = function(value) {\\n\\t\\t\\t\\t\\treturn Math.round(value * 100) / 100.0;\\n\\t\\t\\t\\t};\\n\\t\\t\\t}\\n\\n\\t\\t\\tself._super(settings);\\n\\t\\t\\tself.classes.add('slider');\\n\\n\\t\\t\\tif (settings.orientation == \\\"v\\\") {\\n\\t\\t\\t\\tself.classes.add('vertical');\\n\\t\\t\\t}\\n\\n\\t\\t\\tself._minValue = settings.minValue || 0;\\n\\t\\t\\tself._maxValue = settings.maxValue || 100;\\n\\t\\t\\tself._initValue = self.state.get('value');\\n\\t\\t},\\n\\n\\t\\trenderHtml: function() {\\n\\t\\t\\tvar self = this, id = self._id, prefix = self.classPrefix;\\n\\n\\t\\t\\treturn (\\n\\t\\t\\t\\t'<div id=\\\"' + id + '\\\" class=\\\"' + self.classes + '\\\">' +\\n\\t\\t\\t\\t\\t'<div id=\\\"' + id + '-handle\\\" class=\\\"' + prefix + 'slider-handle\\\" role=\\\"slider\\\" tabindex=\\\"-1\\\"></div>' +\\n\\t\\t\\t\\t'</div>'\\n\\t\\t\\t);\\n\\t\\t},\\n\\n\\t\\treset: function() {\\n\\t\\t\\tthis.value(this._initValue).repaint();\\n\\t\\t},\\n\\n\\t\\tpostRender: function() {\\n\\t\\t\\tvar self = this, minValue, maxValue, screenCordName,\\n\\t\\t\\t\\t\\tstylePosName, sizeName, shortSizeName;\\n\\n\\t\\t\\tfunction toFraction(min, max, val) {\\n\\t\\t\\t\\treturn (val + min) / (max - min);\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction fromFraction(min, max, val) {\\n\\t\\t\\t\\treturn (val * (max - min)) - min;\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction handleKeyboard(minValue, maxValue) {\\n\\t\\t\\t\\tfunction alter(delta) {\\n\\t\\t\\t\\t\\tvar value;\\n\\n\\t\\t\\t\\t\\tvalue = self.value();\\n\\t\\t\\t\\t\\tvalue = fromFraction(minValue, maxValue, toFraction(minValue, maxValue, value) + (delta * 0.05));\\n\\t\\t\\t\\t\\tvalue = constrain(value, minValue, maxValue);\\n\\n\\t\\t\\t\\t\\tself.value(value);\\n\\n\\t\\t\\t\\t\\tself.fire('dragstart', {value: value});\\n\\t\\t\\t\\t\\tself.fire('drag', {value: value});\\n\\t\\t\\t\\t\\tself.fire('dragend', {value: value});\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tself.on('keydown', function(e) {\\n\\t\\t\\t\\t\\tswitch (e.keyCode) {\\n\\t\\t\\t\\t\\t\\tcase 37:\\n\\t\\t\\t\\t\\t\\tcase 38:\\n\\t\\t\\t\\t\\t\\t\\talter(-1);\\n\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\t\\t\\tcase 39:\\n\\t\\t\\t\\t\\t\\tcase 40:\\n\\t\\t\\t\\t\\t\\t\\talter(1);\\n\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\tfunction handleDrag(minValue, maxValue, handleEl) {\\n\\t\\t\\t\\tvar startPos, startHandlePos, maxHandlePos, handlePos, value;\\n\\n\\t\\t\\t\\tself._dragHelper = new DragHelper(self._id, {\\n\\t\\t\\t\\t\\thandle: self._id + \\\"-handle\\\",\\n\\n\\t\\t\\t\\t\\tstart: function(e) {\\n\\t\\t\\t\\t\\t\\tstartPos = e[screenCordName];\\n\\t\\t\\t\\t\\t\\tstartHandlePos = parseInt(self.getEl('handle').style[stylePosName], 10);\\n\\t\\t\\t\\t\\t\\tmaxHandlePos = (self.layoutRect()[shortSizeName] || 100) - DomUtils.getSize(handleEl)[sizeName];\\n\\t\\t\\t\\t\\t\\tself.fire('dragstart', {value: value});\\n\\t\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\t\\tdrag: function(e) {\\n\\t\\t\\t\\t\\t\\tvar delta = e[screenCordName] - startPos;\\n\\n\\t\\t\\t\\t\\t\\thandlePos = constrain(startHandlePos + delta, 0, maxHandlePos);\\n\\t\\t\\t\\t\\t\\thandleEl.style[stylePosName] = handlePos + 'px';\\n\\n\\t\\t\\t\\t\\t\\tvalue = minValue + (handlePos / maxHandlePos) * (maxValue - minValue);\\n\\t\\t\\t\\t\\t\\tself.value(value);\\n\\n\\t\\t\\t\\t\\t\\tself.tooltip().text('' + self.settings.previewFilter(value)).show().moveRel(handleEl, 'bc tc');\\n\\n\\t\\t\\t\\t\\t\\tself.fire('drag', {value: value});\\n\\t\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\t\\tstop: function() {\\n\\t\\t\\t\\t\\t\\tself.tooltip().hide();\\n\\t\\t\\t\\t\\t\\tself.fire('dragend', {value: value});\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\tminValue = self._minValue;\\n\\t\\t\\tmaxValue = self._maxValue;\\n\\n\\t\\t\\tif (self.settings.orientation == \\\"v\\\") {\\n\\t\\t\\t\\tscreenCordName = \\\"screenY\\\";\\n\\t\\t\\t\\tstylePosName = \\\"top\\\";\\n\\t\\t\\t\\tsizeName = \\\"height\\\";\\n\\t\\t\\t\\tshortSizeName = \\\"h\\\";\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tscreenCordName = \\\"screenX\\\";\\n\\t\\t\\t\\tstylePosName = \\\"left\\\";\\n\\t\\t\\t\\tsizeName = \\\"width\\\";\\n\\t\\t\\t\\tshortSizeName = \\\"w\\\";\\n\\t\\t\\t}\\n\\n\\t\\t\\tself._super();\\n\\n\\t\\t\\thandleKeyboard(minValue, maxValue, self.getEl('handle'));\\n\\t\\t\\thandleDrag(minValue, maxValue, self.getEl('handle'));\\n\\t\\t},\\n\\n\\t\\trepaint: function() {\\n\\t\\t\\tthis._super();\\n\\t\\t\\tupdateSliderHandle(this, this.value());\\n\\t\\t},\\n\\n\\t\\tbindStates: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tself.state.on('change:value', function(e) {\\n\\t\\t\\t\\tupdateSliderHandle(self, e.value);\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn self._super();\\n\\t\\t}\\n\\t});\\n});\\n\\n// Included from: js/tinymce/classes/ui/Spacer.js\\n\\n/**\\n * Spacer.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Creates a spacer. This control is used in flex layouts for example.\\n *\\n * @-x-less Spacer.less\\n * @class tinymce.ui.Spacer\\n * @extends tinymce.ui.Widget\\n */\\ndefine(\\\"tinymce/ui/Spacer\\\", [\\n\\t\\\"tinymce/ui/Widget\\\"\\n], function(Widget) {\\n\\t\\\"use strict\\\";\\n\\n\\treturn Widget.extend({\\n\\t\\t/**\\n\\t\\t * Renders the control as a HTML string.\\n\\t\\t *\\n\\t\\t * @method renderHtml\\n\\t\\t * @return {String} HTML representing the control.\\n\\t\\t */\\n\\t\\trenderHtml: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tself.classes.add('spacer');\\n\\t\\t\\tself.canFocus = false;\\n\\n\\t\\t\\treturn '<div id=\\\"' + self._id + '\\\" class=\\\"' + self.classes + '\\\"></div>';\\n\\t\\t}\\n\\t});\\n});\\n\\n// Included from: js/tinymce/classes/ui/SplitButton.js\\n\\n/**\\n * SplitButton.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Creates a split button.\\n *\\n * @-x-less SplitButton.less\\n * @class tinymce.ui.SplitButton\\n * @extends tinymce.ui.Button\\n */\\ndefine(\\\"tinymce/ui/SplitButton\\\", [\\n\\t\\\"tinymce/ui/MenuButton\\\",\\n\\t\\\"tinymce/ui/DomUtils\\\",\\n\\t\\\"tinymce/dom/DomQuery\\\"\\n], function(MenuButton, DomUtils, $) {\\n\\treturn MenuButton.extend({\\n\\t\\tDefaults: {\\n\\t\\t\\tclasses: \\\"widget btn splitbtn\\\",\\n\\t\\t\\trole: \\\"button\\\"\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Repaints the control after a layout operation.\\n\\t\\t *\\n\\t\\t * @method repaint\\n\\t\\t */\\n\\t\\trepaint: function() {\\n\\t\\t\\tvar self = this, elm = self.getEl(), rect = self.layoutRect(), mainButtonElm, menuButtonElm;\\n\\n\\t\\t\\tself._super();\\n\\n\\t\\t\\tmainButtonElm = elm.firstChild;\\n\\t\\t\\tmenuButtonElm = elm.lastChild;\\n\\n\\t\\t\\t$(mainButtonElm).css({\\n\\t\\t\\t\\twidth: rect.w - DomUtils.getSize(menuButtonElm).width,\\n\\t\\t\\t\\theight: rect.h - 2\\n\\t\\t\\t});\\n\\n\\t\\t\\t$(menuButtonElm).css({\\n\\t\\t\\t\\theight: rect.h - 2\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn self;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Sets the active menu state.\\n\\t\\t *\\n\\t\\t * @private\\n\\t\\t */\\n\\t\\tactiveMenu: function(state) {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\t$(self.getEl().lastChild).toggleClass(self.classPrefix + 'active', state);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Renders the control as a HTML string.\\n\\t\\t *\\n\\t\\t * @method renderHtml\\n\\t\\t * @return {String} HTML representing the control.\\n\\t\\t */\\n\\t\\trenderHtml: function() {\\n\\t\\t\\tvar self = this, id = self._id, prefix = self.classPrefix, image;\\n\\t\\t\\tvar icon = self.state.get('icon'), text = self.state.get('text'),\\n\\t\\t\\t\\ttextHtml = '';\\n\\n\\t\\t\\timage = self.settings.image;\\n\\t\\t\\tif (image) {\\n\\t\\t\\t\\ticon = 'none';\\n\\n\\t\\t\\t\\t// Support for [high dpi, low dpi] image sources\\n\\t\\t\\t\\tif (typeof image != \\\"string\\\") {\\n\\t\\t\\t\\t\\timage = window.getSelection ? image[0] : image[1];\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\timage = ' style=\\\"background-image: url(\\\\'' + image + '\\\\')\\\"';\\n\\t\\t\\t} else {\\n\\t\\t\\t\\timage = '';\\n\\t\\t\\t}\\n\\n\\t\\t\\ticon = self.settings.icon ? prefix + 'ico ' + prefix + 'i-' + icon : '';\\n\\n\\t\\t\\tif (text) {\\n\\t\\t\\t\\tself.classes.add('btn-has-text');\\n\\t\\t\\t\\ttextHtml = '<span class=\\\"' + prefix + 'txt\\\">' + self.encode(text) + '</span>';\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn (\\n\\t\\t\\t\\t'<div id=\\\"' + id + '\\\" class=\\\"' + self.classes + '\\\" role=\\\"button\\\" tabindex=\\\"-1\\\">' +\\n\\t\\t\\t\\t\\t'<button type=\\\"button\\\" hidefocus=\\\"1\\\" tabindex=\\\"-1\\\">' +\\n\\t\\t\\t\\t\\t\\t(icon ? '<i class=\\\"' + icon + '\\\"' + image + '></i>' : '') +\\n\\t\\t\\t\\t\\t\\ttextHtml +\\n\\t\\t\\t\\t\\t'</button>' +\\n\\t\\t\\t\\t\\t'<button type=\\\"button\\\" class=\\\"' + prefix + 'open\\\" hidefocus=\\\"1\\\" tabindex=\\\"-1\\\">' +\\n\\t\\t\\t\\t\\t\\t//(icon ? '<i class=\\\"' + icon + '\\\"></i>' : '') +\\n\\t\\t\\t\\t\\t\\t(self._menuBtnText ? (icon ? '\\\\u00a0' : '') + self._menuBtnText : '') +\\n\\t\\t\\t\\t\\t\\t' <i class=\\\"' + prefix + 'caret\\\"></i>' +\\n\\t\\t\\t\\t\\t'</button>' +\\n\\t\\t\\t\\t'</div>'\\n\\t\\t\\t);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Called after the control has been rendered.\\n\\t\\t *\\n\\t\\t * @method postRender\\n\\t\\t */\\n\\t\\tpostRender: function() {\\n\\t\\t\\tvar self = this, onClickHandler = self.settings.onclick;\\n\\n\\t\\t\\tself.on('click', function(e) {\\n\\t\\t\\t\\tvar node = e.target;\\n\\n\\t\\t\\t\\tif (e.control == this) {\\n\\t\\t\\t\\t\\t// Find clicks that is on the main button\\n\\t\\t\\t\\t\\twhile (node) {\\n\\t\\t\\t\\t\\t\\tif ((e.aria && e.aria.key != 'down') || (node.nodeName == 'BUTTON' && node.className.indexOf('open') == -1)) {\\n\\t\\t\\t\\t\\t\\t\\te.stopImmediatePropagation();\\n\\n\\t\\t\\t\\t\\t\\t\\tif (onClickHandler) {\\n\\t\\t\\t\\t\\t\\t\\t\\tonClickHandler.call(this, e);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tnode = node.parentNode;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\tdelete self.settings.onclick;\\n\\n\\t\\t\\treturn self._super();\\n\\t\\t}\\n\\t});\\n});\\n\\n// Included from: js/tinymce/classes/ui/StackLayout.js\\n\\n/**\\n * StackLayout.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This layout uses the browsers layout when the items are blocks.\\n *\\n * @-x-less StackLayout.less\\n * @class tinymce.ui.StackLayout\\n * @extends tinymce.ui.FlowLayout\\n */\\ndefine(\\\"tinymce/ui/StackLayout\\\", [\\n\\t\\\"tinymce/ui/FlowLayout\\\"\\n], function(FlowLayout) {\\n\\t\\\"use strict\\\";\\n\\n\\treturn FlowLayout.extend({\\n\\t\\tDefaults: {\\n\\t\\t\\tcontainerClass: 'stack-layout',\\n\\t\\t\\tcontrolClass: 'stack-layout-item',\\n\\t\\t\\tendClass: 'break'\\n\\t\\t},\\n\\n\\t\\tisNative: function() {\\n\\t\\t\\treturn true;\\n\\t\\t}\\n\\t});\\n});\\n\\n// Included from: js/tinymce/classes/ui/TabPanel.js\\n\\n/**\\n * TabPanel.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Creates a tab panel control.\\n *\\n * @-x-less TabPanel.less\\n * @class tinymce.ui.TabPanel\\n * @extends tinymce.ui.Panel\\n *\\n * @setting {Number} activeTab Active tab index.\\n */\\ndefine(\\\"tinymce/ui/TabPanel\\\", [\\n\\t\\\"tinymce/ui/Panel\\\",\\n\\t\\\"tinymce/dom/DomQuery\\\",\\n\\t\\\"tinymce/ui/DomUtils\\\"\\n], function(Panel, $, DomUtils) {\\n\\t\\\"use strict\\\";\\n\\n\\treturn Panel.extend({\\n\\t\\tDefaults: {\\n\\t\\t\\tlayout: 'absolute',\\n\\t\\t\\tdefaults: {\\n\\t\\t\\t\\ttype: 'panel'\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Activates the specified tab by index.\\n\\t\\t *\\n\\t\\t * @method activateTab\\n\\t\\t * @param {Number} idx Index of the tab to activate.\\n\\t\\t */\\n\\t\\tactivateTab: function(idx) {\\n\\t\\t\\tvar activeTabElm;\\n\\n\\t\\t\\tif (this.activeTabId) {\\n\\t\\t\\t\\tactiveTabElm = this.getEl(this.activeTabId);\\n\\t\\t\\t\\t$(activeTabElm).removeClass(this.classPrefix + 'active');\\n\\t\\t\\t\\tactiveTabElm.setAttribute('aria-selected', \\\"false\\\");\\n\\t\\t\\t}\\n\\n\\t\\t\\tthis.activeTabId = 't' + idx;\\n\\n\\t\\t\\tactiveTabElm = this.getEl('t' + idx);\\n\\t\\t\\tactiveTabElm.setAttribute('aria-selected', \\\"true\\\");\\n\\t\\t\\t$(activeTabElm).addClass(this.classPrefix + 'active');\\n\\n\\t\\t\\tthis.items()[idx].show().fire('showtab');\\n\\t\\t\\tthis.reflow();\\n\\n\\t\\t\\tthis.items().each(function(item, i) {\\n\\t\\t\\t\\tif (idx != i) {\\n\\t\\t\\t\\t\\titem.hide();\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Renders the control as a HTML string.\\n\\t\\t *\\n\\t\\t * @method renderHtml\\n\\t\\t * @return {String} HTML representing the control.\\n\\t\\t */\\n\\t\\trenderHtml: function() {\\n\\t\\t\\tvar self = this, layout = self._layout, tabsHtml = '', prefix = self.classPrefix;\\n\\n\\t\\t\\tself.preRender();\\n\\t\\t\\tlayout.preRender(self);\\n\\n\\t\\t\\tself.items().each(function(ctrl, i) {\\n\\t\\t\\t\\tvar id = self._id + '-t' + i;\\n\\n\\t\\t\\t\\tctrl.aria('role', 'tabpanel');\\n\\t\\t\\t\\tctrl.aria('labelledby', id);\\n\\n\\t\\t\\t\\ttabsHtml += (\\n\\t\\t\\t\\t\\t'<div id=\\\"' + id + '\\\" class=\\\"' + prefix + 'tab\\\" ' +\\n\\t\\t\\t\\t\\t\\t'unselectable=\\\"on\\\" role=\\\"tab\\\" aria-controls=\\\"' + ctrl._id + '\\\" aria-selected=\\\"false\\\" tabIndex=\\\"-1\\\">' +\\n\\t\\t\\t\\t\\t\\tself.encode(ctrl.settings.title) +\\n\\t\\t\\t\\t\\t'</div>'\\n\\t\\t\\t\\t);\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn (\\n\\t\\t\\t\\t'<div id=\\\"' + self._id + '\\\" class=\\\"' + self.classes + '\\\" hidefocus=\\\"1\\\" tabindex=\\\"-1\\\">' +\\n\\t\\t\\t\\t\\t'<div id=\\\"' + self._id + '-head\\\" class=\\\"' + prefix + 'tabs\\\" role=\\\"tablist\\\">' +\\n\\t\\t\\t\\t\\t\\ttabsHtml +\\n\\t\\t\\t\\t\\t'</div>' +\\n\\t\\t\\t\\t\\t'<div id=\\\"' + self._id + '-body\\\" class=\\\"' + self.bodyClasses + '\\\">' +\\n\\t\\t\\t\\t\\t\\tlayout.renderHtml(self) +\\n\\t\\t\\t\\t\\t'</div>' +\\n\\t\\t\\t\\t'</div>'\\n\\t\\t\\t);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Called after the control has been rendered.\\n\\t\\t *\\n\\t\\t * @method postRender\\n\\t\\t */\\n\\t\\tpostRender: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tself._super();\\n\\n\\t\\t\\tself.settings.activeTab = self.settings.activeTab || 0;\\n\\t\\t\\tself.activateTab(self.settings.activeTab);\\n\\n\\t\\t\\tthis.on('click', function(e) {\\n\\t\\t\\t\\tvar targetParent = e.target.parentNode;\\n\\n\\t\\t\\t\\tif (targetParent && targetParent.id == self._id + '-head') {\\n\\t\\t\\t\\t\\tvar i = targetParent.childNodes.length;\\n\\n\\t\\t\\t\\t\\twhile (i--) {\\n\\t\\t\\t\\t\\t\\tif (targetParent.childNodes[i] == e.target) {\\n\\t\\t\\t\\t\\t\\t\\tself.activateTab(i);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Initializes the current controls layout rect.\\n\\t\\t * This will be executed by the layout managers to determine the\\n\\t\\t * default minWidth/minHeight etc.\\n\\t\\t *\\n\\t\\t * @method initLayoutRect\\n\\t\\t * @return {Object} Layout rect instance.\\n\\t\\t */\\n\\t\\tinitLayoutRect: function() {\\n\\t\\t\\tvar self = this, rect, minW, minH;\\n\\n\\t\\t\\tminW = DomUtils.getSize(self.getEl('head')).width;\\n\\t\\t\\tminW = minW < 0 ? 0 : minW;\\n\\t\\t\\tminH = 0;\\n\\n\\t\\t\\tself.items().each(function(item) {\\n\\t\\t\\t\\tminW = Math.max(minW, item.layoutRect().minW);\\n\\t\\t\\t\\tminH = Math.max(minH, item.layoutRect().minH);\\n\\t\\t\\t});\\n\\n\\t\\t\\tself.items().each(function(ctrl) {\\n\\t\\t\\t\\tctrl.settings.x = 0;\\n\\t\\t\\t\\tctrl.settings.y = 0;\\n\\t\\t\\t\\tctrl.settings.w = minW;\\n\\t\\t\\t\\tctrl.settings.h = minH;\\n\\n\\t\\t\\t\\tctrl.layoutRect({\\n\\t\\t\\t\\t\\tx: 0,\\n\\t\\t\\t\\t\\ty: 0,\\n\\t\\t\\t\\t\\tw: minW,\\n\\t\\t\\t\\t\\th: minH\\n\\t\\t\\t\\t});\\n\\t\\t\\t});\\n\\n\\t\\t\\tvar headH = DomUtils.getSize(self.getEl('head')).height;\\n\\n\\t\\t\\tself.settings.minWidth = minW;\\n\\t\\t\\tself.settings.minHeight = minH + headH;\\n\\n\\t\\t\\trect = self._super();\\n\\t\\t\\trect.deltaH += headH;\\n\\t\\t\\trect.innerH = rect.h - rect.deltaH;\\n\\n\\t\\t\\treturn rect;\\n\\t\\t}\\n\\t});\\n});\\n\\n// Included from: js/tinymce/classes/ui/TextBox.js\\n\\n/**\\n * TextBox.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * Creates a new textbox.\\n *\\n * @-x-less TextBox.less\\n * @class tinymce.ui.TextBox\\n * @extends tinymce.ui.Widget\\n */\\ndefine(\\\"tinymce/ui/TextBox\\\", [\\n\\t\\\"tinymce/ui/Widget\\\",\\n\\t\\\"tinymce/util/Tools\\\",\\n\\t\\\"tinymce/ui/DomUtils\\\"\\n], function(Widget, Tools, DomUtils) {\\n\\treturn Widget.extend({\\n\\t\\t/**\\n\\t\\t * Constructs a instance with the specified settings.\\n\\t\\t *\\n\\t\\t * @constructor\\n\\t\\t * @param {Object} settings Name/value object with settings.\\n\\t\\t * @setting {Boolean} multiline True if the textbox is a multiline control.\\n\\t\\t * @setting {Number} maxLength Max length for the textbox.\\n\\t\\t * @setting {Number} size Size of the textbox in characters.\\n\\t\\t */\\n\\t\\tinit: function(settings) {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tself._super(settings);\\n\\n\\t\\t\\tself.classes.add('textbox');\\n\\n\\t\\t\\tif (settings.multiline) {\\n\\t\\t\\t\\tself.classes.add('multiline');\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tself.on('keydown', function(e) {\\n\\t\\t\\t\\t\\tvar rootControl;\\n\\n\\t\\t\\t\\t\\tif (e.keyCode == 13) {\\n\\t\\t\\t\\t\\t\\te.preventDefault();\\n\\n\\t\\t\\t\\t\\t\\t// Find root control that we can do toJSON on\\n\\t\\t\\t\\t\\t\\tself.parents().reverse().each(function(ctrl) {\\n\\t\\t\\t\\t\\t\\t\\tif (ctrl.toJSON) {\\n\\t\\t\\t\\t\\t\\t\\t\\trootControl = ctrl;\\n\\t\\t\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\t\\t// Fire event on current text box with the serialized data of the whole form\\n\\t\\t\\t\\t\\t\\tself.fire('submit', {data: rootControl.toJSON()});\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\tself.on('keyup', function(e) {\\n\\t\\t\\t\\t\\tself.state.set('value', e.target.value);\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Repaints the control after a layout operation.\\n\\t\\t *\\n\\t\\t * @method repaint\\n\\t\\t */\\n\\t\\trepaint: function() {\\n\\t\\t\\tvar self = this, style, rect, borderBox, borderW, borderH = 0, lastRepaintRect;\\n\\n\\t\\t\\tstyle = self.getEl().style;\\n\\t\\t\\trect = self._layoutRect;\\n\\t\\t\\tlastRepaintRect = self._lastRepaintRect || {};\\n\\n\\t\\t\\t// Detect old IE 7+8 add lineHeight to align caret vertically in the middle\\n\\t\\t\\tvar doc = document;\\n\\t\\t\\tif (!self.settings.multiline && doc.all && (!doc.documentMode || doc.documentMode <= 8)) {\\n\\t\\t\\t\\tstyle.lineHeight = (rect.h - borderH) + 'px';\\n\\t\\t\\t}\\n\\n\\t\\t\\tborderBox = self.borderBox;\\n\\t\\t\\tborderW = borderBox.left + borderBox.right + 8;\\n\\t\\t\\tborderH = borderBox.top + borderBox.bottom + (self.settings.multiline ? 8 : 0);\\n\\n\\t\\t\\tif (rect.x !== lastRepaintRect.x) {\\n\\t\\t\\t\\tstyle.left = rect.x + 'px';\\n\\t\\t\\t\\tlastRepaintRect.x = rect.x;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (rect.y !== lastRepaintRect.y) {\\n\\t\\t\\t\\tstyle.top = rect.y + 'px';\\n\\t\\t\\t\\tlastRepaintRect.y = rect.y;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (rect.w !== lastRepaintRect.w) {\\n\\t\\t\\t\\tstyle.width = (rect.w - borderW) + 'px';\\n\\t\\t\\t\\tlastRepaintRect.w = rect.w;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (rect.h !== lastRepaintRect.h) {\\n\\t\\t\\t\\tstyle.height = (rect.h - borderH) + 'px';\\n\\t\\t\\t\\tlastRepaintRect.h = rect.h;\\n\\t\\t\\t}\\n\\n\\t\\t\\tself._lastRepaintRect = lastRepaintRect;\\n\\t\\t\\tself.fire('repaint', {}, false);\\n\\n\\t\\t\\treturn self;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Renders the control as a HTML string.\\n\\t\\t *\\n\\t\\t * @method renderHtml\\n\\t\\t * @return {String} HTML representing the control.\\n\\t\\t */\\n\\t\\trenderHtml: function() {\\n\\t\\t\\tvar self = this, settings = self.settings, attrs, elm;\\n\\n\\t\\t\\tattrs = {\\n\\t\\t\\t\\tid: self._id,\\n\\t\\t\\t\\thidefocus: '1'\\n\\t\\t\\t};\\n\\n\\t\\t\\tTools.each([\\n\\t\\t\\t\\t'rows',\\t'spellcheck',\\t'maxLength', 'size', 'readonly', 'min',\\n\\t\\t\\t\\t'max', 'step', 'list', 'pattern', 'placeholder', 'required', 'multiple'\\n\\t\\t\\t], function(name) {\\n\\t\\t\\t\\tattrs[name] = settings[name];\\n\\t\\t\\t});\\n\\n\\t\\t\\tif (self.disabled()) {\\n\\t\\t\\t\\tattrs.disabled = 'disabled';\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (settings.subtype) {\\n\\t\\t\\t\\tattrs.type = settings.subtype;\\n\\t\\t\\t}\\n\\n\\t\\t\\telm = DomUtils.create(settings.multiline ? 'textarea' : 'input', attrs);\\n\\t\\t\\telm.value = self.state.get('value');\\n\\t\\t\\telm.className = self.classes;\\n\\n\\t\\t\\treturn elm.outerHTML;\\n\\t\\t},\\n\\n\\t\\tvalue: function(value) {\\n\\t\\t\\tif (arguments.length) {\\n\\t\\t\\t\\tthis.state.set('value', value);\\n\\t\\t\\t\\treturn this;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Make sure the real state is in sync\\n\\t\\t\\tif (this.state.get('rendered')) {\\n\\t\\t\\t\\tthis.state.set('value', this.getEl().value);\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn this.state.get('value');\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Called after the control has been rendered.\\n\\t\\t *\\n\\t\\t * @method postRender\\n\\t\\t */\\n\\t\\tpostRender: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tself.getEl().value = self.state.get('value');\\n\\t\\t\\tself._super();\\n\\n\\t\\t\\tself.$el.on('change', function(e) {\\n\\t\\t\\t\\tself.state.set('value', e.target.value);\\n\\t\\t\\t\\tself.fire('change', e);\\n\\t\\t\\t});\\n\\t\\t},\\n\\n\\t\\tbindStates: function() {\\n\\t\\t\\tvar self = this;\\n\\n\\t\\t\\tself.state.on('change:value', function(e) {\\n\\t\\t\\t\\tif (self.getEl().value != e.value) {\\n\\t\\t\\t\\t\\tself.getEl().value = e.value;\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\tself.state.on('change:disabled', function(e) {\\n\\t\\t\\t\\tself.getEl().disabled = e.value;\\n\\t\\t\\t});\\n\\n\\t\\t\\treturn self._super();\\n\\t\\t},\\n\\n\\t\\tremove: function() {\\n\\t\\t\\tthis.$el.off();\\n\\t\\t\\tthis._super();\\n\\t\\t}\\n\\t});\\n});\\n\\n// Included from: js/tinymce/classes/Register.js\\n\\n/**\\n * Register.js\\n *\\n * Released under LGPL License.\\n * Copyright (c) 1999-2015 Ephox Corp. All rights reserved\\n *\\n * License: http://www.tinymce.com/license\\n * Contributing: http://www.tinymce.com/contributing\\n */\\n\\n/**\\n * This registers tinymce in common module loaders.\\n *\\n * @private\\n * @class tinymce.Register\\n */\\ndefine(\\\"tinymce/Register\\\", [\\n], function() {\\n\\t/*eslint consistent-this: 0 */\\n\\tvar context = this || window;\\n\\n\\tvar tinymce = function() {\\n\\t\\treturn context.tinymce;\\n\\t};\\n\\n\\tif (typeof context.define === \\\"function\\\") {\\n\\t\\t// Bolt\\n\\t\\tif (!context.define.amd) {\\n\\t\\t\\tcontext.define(\\\"ephox/tinymce\\\", [], tinymce);\\n\\t\\t}\\n\\t}\\n\\n\\tif (typeof module === 'object') {\\n\\t\\t/* global module */\\n\\t\\tmodule.exports = window.tinymce;\\n\\t}\\n\\n\\treturn {};\\n});\\n\\nexpose([\\\"tinymce/geom/Rect\\\",\\\"tinymce/util/Promise\\\",\\\"tinymce/util/Delay\\\",\\\"tinymce/Env\\\",\\\"tinymce/dom/EventUtils\\\",\\\"tinymce/dom/Sizzle\\\",\\\"tinymce/util/Tools\\\",\\\"tinymce/dom/DomQuery\\\",\\\"tinymce/html/Styles\\\",\\\"tinymce/dom/TreeWalker\\\",\\\"tinymce/html/Entities\\\",\\\"tinymce/dom/DOMUtils\\\",\\\"tinymce/dom/ScriptLoader\\\",\\\"tinymce/AddOnManager\\\",\\\"tinymce/dom/RangeUtils\\\",\\\"tinymce/html/Node\\\",\\\"tinymce/html/Schema\\\",\\\"tinymce/html/SaxParser\\\",\\\"tinymce/html/DomParser\\\",\\\"tinymce/html/Writer\\\",\\\"tinymce/html/Serializer\\\",\\\"tinymce/dom/Serializer\\\",\\\"tinymce/util/VK\\\",\\\"tinymce/dom/ControlSelection\\\",\\\"tinymce/dom/BookmarkManager\\\",\\\"tinymce/dom/Selection\\\",\\\"tinymce/Formatter\\\",\\\"tinymce/UndoManager\\\",\\\"tinymce/EditorCommands\\\",\\\"tinymce/util/URI\\\",\\\"tinymce/util/Class\\\",\\\"tinymce/util/EventDispatcher\\\",\\\"tinymce/util/Observable\\\",\\\"tinymce/ui/Selector\\\",\\\"tinymce/ui/Collection\\\",\\\"tinymce/ui/ReflowQueue\\\",\\\"tinymce/ui/Control\\\",\\\"tinymce/ui/Factory\\\",\\\"tinymce/ui/KeyboardNavigation\\\",\\\"tinymce/ui/Container\\\",\\\"tinymce/ui/DragHelper\\\",\\\"tinymce/ui/Scrollable\\\",\\\"tinymce/ui/Panel\\\",\\\"tinymce/ui/Movable\\\",\\\"tinymce/ui/Resizable\\\",\\\"tinymce/ui/FloatPanel\\\",\\\"tinymce/ui/Window\\\",\\\"tinymce/ui/MessageBox\\\",\\\"tinymce/WindowManager\\\",\\\"tinymce/ui/Tooltip\\\",\\\"tinymce/ui/Widget\\\",\\\"tinymce/ui/Progress\\\",\\\"tinymce/ui/Notification\\\",\\\"tinymce/NotificationManager\\\",\\\"tinymce/EditorObservable\\\",\\\"tinymce/Shortcuts\\\",\\\"tinymce/Editor\\\",\\\"tinymce/util/I18n\\\",\\\"tinymce/FocusManager\\\",\\\"tinymce/EditorManager\\\",\\\"tinymce/util/XHR\\\",\\\"tinymce/util/JSON\\\",\\\"tinymce/util/JSONRequest\\\",\\\"tinymce/util/JSONP\\\",\\\"tinymce/util/LocalStorage\\\",\\\"tinymce/Compat\\\",\\\"tinymce/ui/Layout\\\",\\\"tinymce/ui/AbsoluteLayout\\\",\\\"tinymce/ui/Button\\\",\\\"tinymce/ui/ButtonGroup\\\",\\\"tinymce/ui/Checkbox\\\",\\\"tinymce/ui/ComboBox\\\",\\\"tinymce/ui/ColorBox\\\",\\\"tinymce/ui/PanelButton\\\",\\\"tinymce/ui/ColorButton\\\",\\\"tinymce/util/Color\\\",\\\"tinymce/ui/ColorPicker\\\",\\\"tinymce/ui/Path\\\",\\\"tinymce/ui/ElementPath\\\",\\\"tinymce/ui/FormItem\\\",\\\"tinymce/ui/Form\\\",\\\"tinymce/ui/FieldSet\\\",\\\"tinymce/ui/FilePicker\\\",\\\"tinymce/ui/FitLayout\\\",\\\"tinymce/ui/FlexLayout\\\",\\\"tinymce/ui/FlowLayout\\\",\\\"tinymce/ui/FormatControls\\\",\\\"tinymce/ui/GridLayout\\\",\\\"tinymce/ui/Iframe\\\",\\\"tinymce/ui/InfoBox\\\",\\\"tinymce/ui/Label\\\",\\\"tinymce/ui/Toolbar\\\",\\\"tinymce/ui/MenuBar\\\",\\\"tinymce/ui/MenuButton\\\",\\\"tinymce/ui/MenuItem\\\",\\\"tinymce/ui/Throbber\\\",\\\"tinymce/ui/Menu\\\",\\\"tinymce/ui/ListBox\\\",\\\"tinymce/ui/Radio\\\",\\\"tinymce/ui/ResizeHandle\\\",\\\"tinymce/ui/SelectBox\\\",\\\"tinymce/ui/Slider\\\",\\\"tinymce/ui/Spacer\\\",\\\"tinymce/ui/SplitButton\\\",\\\"tinymce/ui/StackLayout\\\",\\\"tinymce/ui/TabPanel\\\",\\\"tinymce/ui/TextBox\\\"]);\\n})(window);\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/raw-loader!./~/tinymce/tinymce.js\n// module id = 573\n// module chunks = 1"],"sourceRoot":""}